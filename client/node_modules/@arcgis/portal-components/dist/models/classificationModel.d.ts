/// <reference types="@arcgis/core/interfaces.d.ts" />
import { default as Accessor } from '@arcgis/core/core/Accessor.js';
import { ClassificationSchema, SchemaResult } from '../types/classification';
import { Deferred } from '@arcgis/toolkit/promise';
type Status = "error" | "idle" | "loaded" | "loading";
/**
 * Initialization options for the classification model.
 */
export interface Options {
    portalClassificationSchema?: ClassificationSchema | undefined;
}
export declare class ClassificationModel extends Accessor {
    /**
     * The classification schema for the portal that is fetched from
     * <portal>/sharing/rest/portals/self/classification/classificationSchema.
     */
    portalClassificationSchema: ClassificationSchema | undefined;
    /**
     * Whether the model is currently getting fetched via an outside actor.
     */
    fetching: boolean;
    /** The loading status of the classification schema. */
    status: Status;
    error: SchemaResult["error"] | undefined;
    /**
     * The portal URL.
     */
    portalUrl: string | undefined;
    _itemClassificationValidationErrors: Map<string, Promise<string>>;
    /**
     * The promise that resolves when the classification schema is fetched.
     */
    fetchingPromise: Deferred<boolean>;
    /**
     * The primary attribute of the classification schema metadata.
     */
    get primaryAttribute(): ClassificationSchema["classificationMetadata"]["primaryAttribute"] | undefined;
    /**
     * Sets the portal classification schema and updates the portal URL.
     */
    setPortalClassificationData({ portalUrl, schema, }: {
        portalUrl: string;
        schema: ClassificationSchema | undefined;
    }): void;
    /**
     * Sets the fetching state.
     */
    setFetching(fetching: boolean): void;
    /**
     * Loads and sets the classification schema from the portal.
     */
    loadPortalClassificationData(portalUrl: string, { signal }: {
        signal: AbortSignal;
    }): Promise<void>;
    validateClassification(id: nullish | string, classificationValue: __esri.PortalItem["classification"], portalUrl: string, options?: {
        signal?: AbortSignal;
    }): Promise<string>;
}
/**
 * This function checks if model is already defined. If not, it creates the classification model,
 * ensuring that the classification model is created only once and reused for subsequent calls.
 */
export declare function loadClassificationModel(initialValues?: Options): ClassificationModel;
export declare const exportsForTests: {
    /** export a test util to allow test runner to reset the model */
    resetModel: () => void;
};
export {};
