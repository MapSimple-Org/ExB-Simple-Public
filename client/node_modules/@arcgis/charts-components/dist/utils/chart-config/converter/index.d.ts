import { default as FeatureLayerView } from '@arcgis/core/views/layers/FeatureLayerView';
import { SupportedLayer, WebBoxPlot, WebChart, WebChartBoxPlotSeries, WebChartDirectionalDataOrder, WebChartLineChartSeries, WebGaugeChart, WebHeatChart, WebChartOrderDataByTypes } from '../../../spec';
import { FormerWebChartBoxPlotDataSortTypes, FormerWebChartDataValueTypes } from './interfaces';
/** ***********************************************************************************
 *                                                                                    *
 * Routines that handle adjustments/conversions for chart regardless of chart version.*
 * These will be called in `applyMandatoryConversions()`.
 *                                                                                    *
 ************************************************************************************ */
/**
 * Applies the default first day of the week to the heat chart config if not already set, using the user's locale.
 * @param configToUpdate The config to update
 * @param chartContainer The chart's container
 */
declare function applyDefaultFirstDayOfWeek(props: {
    configToUpdate: WebChart | WebHeatChart;
    chartContainer?: HTMLElement;
    layer?: SupportedLayer;
}): WebChart | WebHeatChart;
/**
 * Matches the config properties that have field names which mismatch the layer data source fields.
 *
 * @param {*} config The chart config
 * @param {*} layer The layer instance
 * @returns {Promise<WebChart>}
 */
declare function matchChartFieldsToLayerFields(configToUpdate: WebChart, layer?: SupportedLayer): Promise<WebChart>;
/**
 * This function will
 * - Copy the optional `showOutliers` property from the series to the chart object (if not already defined)
 * - Copy the optional `standardizeValues` property from the series to the chart object (if not already defined)
 * - Construct the `sortDataBy` property for Pro box-plot, if present, based on what's provided at the first series level
 *
 * - Delete the series `showOutliers`
 * - Delete the series `standardizeValues`
 *
 * @param configToUpdate config to update
 * @returns the updated config
 */
declare function moveBoxPlotSeriesPropsToChart(configToUpdate: WebBoxPlot): WebBoxPlot;
/**
 * Constructs the `orderType` and `orderBy` of the `orderOptions.data` for box-plot, based on what's provided in the Pro box-plot series config
 * @param seriesConfig
 * @returns A object of type WebChartDirectionalDataOrder, with default values set to `Category` and `Ascending`
 */
declare function getProBoxPlotSortDataOption(seriesConfig: WebChartBoxPlotSeries | WebChartLineChartSeries): WebChartDirectionalDataOrder;
/**
 * Detects whether a config is a box plot config with mean lines from Pro. They follow a different structure than ours,
 * by having a series of outStatistics on the line series.
 * @param config The config to test
 */
declare function isBoxPlotConfigWithMeanLinesFromPro(config: WebBoxPlot): boolean;
/**
 * This function will
 * - Construct the `orderOptions.data` property for Pro box-plot
 * - Fill in the series `x` field for box plot, if empty, with `defaultBoxPlotCategory`
 * - Delete the query `outStatistics` from all the series
 * - Delete the query `orderByFields` from all the series
 * - Handle the box plot with mean lines from Pro that follow a different spec
 * @param configToUpdate The chart's config to update
 * @returns the updated config
 */
declare function adjustBoxPlotConfig(configToUpdate: WebBoxPlot): WebBoxPlot;
/**
 * Copies the information from the config.dataSource.layer into the newest config.iLayer
 * @param configToUpdate The config to update
 */
declare function convertDataSourceToILayer(configToUpdate: WebChart): WebChart;
/**
 * Prevents multiple objects to have the same id. This avoids a chart created with amCharts v5 to crash.
 * @param configToUpdate The config to update
 */
declare function preventDuplicatedIds(configToUpdate: WebChart): WebChart;
/**
 * Applies mandatory conversions that should be applied to all chart types and versions.
 * @param props.configToUpdate The chart's config to update
 * @param props.layer The layer instance
 * @param props.chartContainer The chart container element
 */
declare function applyMandatoryConversions(props: {
    configToUpdate: WebChart;
    layer?: SupportedLayer;
    chartContainer?: HTMLElement;
}): Promise<WebChart>;
/**
 * This function renames the orderByFields field name from `arcgis_charts_pie_category_from_fields_name`
 * to `defaultPieFromFieldsName` (or `arcgis_charts_pie_from_fields_name`)
 * @param configToUpdate The chart's config to update
 */
declare function adjustPieFromFieldsDefaultNameAndValue(configToUpdate: WebChart): WebChart;
/**
 * Moves the series[x].query.extent to config.dataFilters.geometry, and delete
 * the extent properties from all the series query.
 * @param configToUpdate The chart's config to update
 */
declare function moveSeriesQueryExtent(configToUpdate: WebChart): WebChart;
/**
 * For charts that offer rotation feature, this function will
 * - Move the optional `rotated` property  from the series to the chart object
 * if the chart object does not contain this property.
 * - Remove all series' rotated property.
 * @param configToUpdate config to update
 * @returns the updated config
 */
declare function moveSeriesRotatedPropToChart(configToUpdate: WebChart): WebChart;
/**
 * In version 5.0.0 we modified property names in the config dataSource
 * @param configToUpdate config to update
 * @returns the updated config
 */
declare function renameDataSourceProperties(configToUpdate: WebChart): WebChart;
/**
 * In version 6.0.0 we removed the property config.dataSource.filter, replaced by config.dataFilters.where
 * @param configToUpdate config to update
 * @returns the updated config
 */
declare function copyDataSourceFilterToConfig(configToUpdate: WebChart): WebChart;
/**
 * This function returns the equivalent boolean value for the previous
 * "originalValue" and "label" values for the sortLabelsBy property.
 *
 * @param previousType The previous value of the sortLabelsBy property
 * @returns false if the previous value was "originalValue"; otherwise true
 */
declare function convertWebChartDataValueTypes(previousType?: FormerWebChartDataValueTypes | string): boolean;
/**
 * v15.0.0
 * Converts Boxplot's previous version's sortDataBy.sortType property value to a new value of type WebChartOrderDataByTypes;
 *
 * @param previousType Boxplot's previous value of the sortDataBy.sortType property
 * @returns the converted value of type WebChartOrderDataByTypes or undefined if the previous value is not recognized
 */
declare function convertBoxplotOldToNewDataSortType(previousType?: FormerWebChartBoxPlotDataSortTypes): WebChartOrderDataByTypes | undefined;
/**
 * For Pie chart, this function will:
 * - Copy the optional `sortLabelsBy` property from the pie series to the chart object (if not already defined)
 * - Delete the pie series `sortLabelsBy`
 *
 * Notes:
 * From version 15.0.0 onward, the chart's `sortLabelsBy` property not longer exists.  However, the removal of it
 * is handled in the `handleOrderOptionsChanges()` function.
 *
 * @param configToUpdate config to update
 * @returns the updated config
 */
declare function movePieSeriesSortLabelsPropToChart(configToUpdate: WebChart): WebChart;
/**
 * For charts that offer different types of stacking series, this function will
 * - Move the optional `stackedType` property  from the series to the chart object
 * if the chart object does not contain this property.
 * - Remove all series' stackedType property.
 * @param configToUpdate config to update
 * @returns the updated config
 */
declare function moveSeriesStackedTypePropToChart(configToUpdate: WebChart): WebChart;
/**
 * For the orderOptions.series property, it was previously a string, now it's an object with an order property (among other properties).
 * @param configToUpdate config to update
 * @returns the updated config
 */
declare function convertSortSeriesByToObject(configToUpdate: WebChart): WebChart;
/**
 * Set the chart's colorMatch property to the evaluated value from the series's colorType, if colorMatch is not defined.
 * Delete the series' colorType property afterward, if present.
 *
 * @param configToUpdate config to update
 * @returns
 */
declare function handleColorMatchChanges(configToUpdate: WebChart): WebChart;
/**
 * For Box-plot:
 * - Move the `sortDataBy` property from the chart level to be a property of the `orderOptions.data`.
 * @param configToUpdate The chart's config to update
 * @returns The updated config
 */
declare function moveBoxPlotSortDataByProp(configToUpdate: WebBoxPlot): WebBoxPlot;
/**
 * Moves the boolean `scrollbarVisible` into the newer `scrollbar.visible` property
 *
 * @param configToUpdate config to update
 */
declare function moveScrollbarVisible(configToUpdate: WebChart): WebChart;
/**
 * v15.0.0
 * This function will:
 * - Analyze what the query's orderByFields is made off and decide whether to:
 *   - move it to the chart's `orderOptions.orderByFields`
 *   - or convert it to the chart's `orderOptions.data` (if it's a single field that matches either x or y)
 * - Delete the `orderByFields` from all the series
 * @param configToUpdate The chart's config to update
 * @returns the updated config
 */
declare function moveOrConvertSeriesOrderByFieldsToChartOrderOptions(configToUpdate: WebChart): WebChart;
/**
 * v15.0.0
 * Translates the `orderByFields`, if presents, to the data order object `orderType` and `orderBy` (WebChartDirectionalDataOrder).
 * This function should only be called for non- box-plot charts.
 * @param chartConfig The chart configuration
 * @returns An object of type WebChartDirectionalDataOrder or undefined if no orderByFields is present in the config.
 * Only WebChartDirectionalDataOrder is returned (but not WebChartPredefinedLabelsDataOrder) because WebChartPredefinedLabelsDataOrder was just introduced in v15.0.0
 */
declare function getDataOrderFromOrderByFields(chartConfig: WebChart): WebChartDirectionalDataOrder | undefined;
/**
 * v15.0.0
 * When the old `sortLabelsBy` property is present and equal to "originalValue", we don't create the orderOptions.data
 * Otherwise, if the new 'orderOptions.data` and/or 'orderOptions.series` is not present, this function will:
 * - create or change the chart's `sortOptions` to `orderOptions`
 * - convert the`sortOptions.sortDataBy` property to `orderOptions.data`
 * - remove the `sortOptions.sortLabelsBy` property.  If this property is defined and equal to "originalValue", we don't set the orderOptions.data
 * - convert the `sortOptions.sortSeriesBy` property to `orderOptions.series`
 * - remove the `sortOptions` and `sortLabelsBy` properties afterward, regardless of whether any conversion took place
 *
 * @param configToUpdate The chart config to update
 * @returns the updated chart config
 */
declare function handleOrderOptionsChanges(configToUpdate: WebChart): WebChart;
/**
 * For from fields charts (like PieFromFields or BarLineFromFields), if there is an `orderByFields` property,
 * we convert it to the `orderOptions.data` property; and then remove the `orderByFields` property.
 * @param configToUpdate Config to update
 * @returns the updated chart config
 */
declare function applyDataOrderInstructionForFromFieldsCharts(configToUpdate: WebChart): WebChart;
/**
 * Converts temporal binning properties from the old pattern to the new pattern introduced in version 19.0.0.
 * Former pattern:
 *       "timeIntervalSize": 8,
 *       "timeIntervalUnits": "esriTimeUnitsMonths",
 *       "timeAggregationType": "equalIntervalsFromStartTime",
 *       "trimIncompleteTimeInterval": true,
 *       "nullPolicy": "null"
 * New pattern:
 *       "temporalBinning": {
 *         "size": 8,
 *         "unit": "month",
 *         "timeAggregationType": "equalIntervalsFromStartTime",
 *         "trimIncompleteTimeInterval": true,
 *         "nullPolicy": "null"
 *       }
 * @param configToUpdate Config to update
 * @returns the updated chart config
 */
declare function convertTemporalBinningProps(configToUpdate: WebChart): WebChart;
declare function convertRESTStatisticTypeToWebChartStatisticType(configToUpdate: WebChart): WebChart;
/**
 * renames the subtitle property to subTitle if it exists
 * @param configToUpdate The chart's config to update
 * @returns
 */
declare function renameChartSubtitle(configToUpdate: WebChart): WebChart;
/**
 * Converts the temporal binning properties from the old pattern to the new pattern introduced in version 24.0.0.
 * @param configToUpdate The chart's config to update
 */
declare function convertTemporalBinningProps2(configToUpdate: WebChart): WebChart;
/**
 * Conversions for 1.0.1:
 *   - orderByField adjustment for PieFromFields
 * @param configToUpdate The chart's config to update
 * @returns The converted config
 */
declare function convertTo1x0x1(configToUpdate: WebChart): WebChart;
/**
 * Conversions for 2.0.0:
 *   - Removing the 'spacing' property from the gauge config
 * @param configToUpdate The chart's config to update
 * @returns The converted config
 */
declare function convertTo2x0x0(configToUpdate: WebChart): WebChart;
/**
 * Conversions for 3.5.0:
 *   - Moving the extent from the first series query to the config data filters geometry
 * @param configToUpdate The chart's config to update
 * @returns The converted config
 */
declare function convertTo3x5x0(configToUpdate: WebChart): WebChart;
/**
 * Conversions for 4.0.1:
 *   - Moving the rotated property from the first series to the chart object.
 * @param configToUpdate The chart's config to update
 * @returns The converted config
 */
declare function convertTo4x0x1(configToUpdate: WebChart): WebChart;
/**
 * Conversions for 5.0.0:
 *   - Renaming the datasource properties.
 * @param configToUpdate The chart's config to update
 * @returns The converted config
 */
declare function convertTo5x0x0(configToUpdate: WebChart): WebChart;
/**
 * Conversions for 7.0.0:
 *   - Copying the removed config.dataSource.filter to config.dataFilters.where
 * @param configToUpdate The chart's config to update
 * @returns The converted config
 */
declare function convertTo7x0x0(configToUpdate: WebChart): WebChart;
/**
 * Conversions for 7.6.0:
 *   - Move the `SortLabelsBy` property from the Pie series to the chart object.
 * @param configToUpdate The chart's config to update
 * @returns The converted config
 */
declare function convertTo7x6x0(configToUpdate: WebChart): WebChart;
/**
 * Conversions for 8.0.1:
 *  - Convert the `sortSeriesBy` property from a string to an object
 * @param configToUpdate The chart's config to update
 * @returns The converted config
 */
declare function convertTo8x0x1(configToUpdate: WebChart): WebChart;
/**
 * Conversions for 9.3.0:
 * - Set the chart's colorMatch property using the evaluated value from series' colorType, if needed.
 * - Remove the series' colorType property if present.
 * @param configToUpdate The chart's config to update
 * @returns
 */
declare function convertTo9x3x0(configToUpdate: WebChart): WebChart;
/**
 * Conversions for 10.0.0:
 * - Moves the boolean `scrollbarVisible` into the newer `scrollbar.visible` property
 * @param configToUpdate The chart's config to update
 */
declare function convertTo10x0x0(configToUpdate: WebChart): WebChart;
/**
 * Conversions for 11.0.0:
 *  - Move the `sortDataBy` property for Box-plot from the chart level to be a property of the `orderOptions`.
 *  - Change the value of the `sortLabelsBy` property from "modifiedValue" to "label", if needed
 * @param configToUpdate The chart's config to convert
 * @returns The converted config
 */
declare function convertTo11x0x0(configToUpdate: WebChart): WebChart;
/**
 * Conversions for 12.0.0:
 * - Move the series stackedType property to the chart object
 * @param configToUpdate The chart's config to update
 */
declare function convertTo12x0x0(configToUpdate: WebChart): WebChart;
/**
 * Conversions for v15.0.0:
 * - remove 'sortLabelsBy' and 'sortOptions' properties
 * - use `orderOptions.data` and `orderOptions.series` properties for all chart
 * @param configToUpdate The chart's config to update
 */
declare function convertTo15x0x0(configToUpdate: WebChart): WebChart;
/**
 * Conversions for v16.1.0:
 * - converts the config dataSource property to an iLayer property
 * @param configToUpdate The chart's config to update
 */
declare function convertTo16x1x0(configToUpdate: WebChart): WebChart;
/**
 * Conversion for v16.0.1:
 * when there is an orderByFields in the orderOptions,
 * - add data order instruction for from fields charts,
 * - move the orderByFields from the orderOptions
 * @param configToUpdate The chart's config to update
 * @returns
 */
declare function convertTo16x1x1(configToUpdate: WebChart): WebChart;
/**
 * Conversion for v19.0.0:
 * convert WebChartLabelBehavior.None -> WebChartLabelBehavior.Hide
 * @param configToUpdate The chart's config to update
 * @returns
 */
declare function convertTo19x0x0(configToUpdate: WebChart): WebChart;
/**
 * Conversion for v20.2.0:
 * Convert the temporal binning properties from the old pattern to the new pattern.
 * @param configToUpdate The chart's config to update
 * @returns
 */
declare function convertTo20x2x0(configToUpdate: WebChart): WebChart;
/**
 * Conversion for v21.1.0:
 * Transforms the values from the former interface RESTStatisticType to the new interface WebChartStatisticType.
 * @param configToUpdate The chart's config to update
 * @returns
 */
declare function convertTo21x1x0(configToUpdate: WebChart): WebChart;
/**
 * Conversion for v23.3.0:
 * - Rename the subTitle property to subtitle
 * @param configToUpdate The chart's config to update
 * @returns The updated chart config
 */
declare function convertTo23x3x0(configToUpdate: WebChart): WebChart;
/**
 * Conversion for v24.4.0:
 * - Converts the temporal binning properties from the old pattern to the new pattern
 * @param configToUpdate The chart's config to update
 * @returns The updated chart config
 */
declare function convertTo24x4x0(configToUpdate: WebChart): WebChart;
/**
 * Apply the needed function calls depending on the current chart version.
 * Note: Additional switch cases and convertToxxx functions are to be added to this function accordingly.
 * For example: if a newer spec version "X.Y.Z" has been released, considering the former version is "E.F.G" and the one before "A.B.C"
 * 1. Case 1: the new spec version "X.Y.Z" requires a conversion:
 *   1a. Create a new function called `convertToXxYxZ()`
 *   1b. Have additional subroutines if needed to be called inside the `convertToXxYxZ()`
 *   1c. Add a new case to the switch for the former version "E.F.G" that calls the new `convertToXxYxZ()`
 *   1d. Add a call to `convertToXxYxZ()` in the block testing if the versions to convert includes the first web map version or an unrecognized one
 * 2. Case 2: a conversion is not required
 *   2a. Rename the function `convertToExFxG()` into `convertToXxYxZ()`
 *   2b. Change the switch case "A.B.C" calling `convertToExFxG()` into a switch case "E.F.G" calling `convertToXxYxZ()`
 *
 * @param props.versionsToConvert a list of chart versions to be converted.
 * @param props.configToUpdate the input chart config
 * @returns the converted chart config
 */
declare function applyConversions<T extends WebChart>(props: {
    versionsToConvert: string[];
    configToUpdate: T | undefined;
}): T;
/**
 * Main function that converts the chart config with older chart JSON Schema, comparing to the current version.
 *
 * Notes:
 * 1. This function will convert and update the chart config to the current version if the version is older or unrecognized.
 * 2. This function will also call mandatory conversion functions that are not related to the spec version
 * to ensure certain features are working properly.
 *
 * @param {*} config The chart config
 * @param {*} layer The layer instance
 *
 * @returns the updated web chart config.
 */
export declare function convertChartSpec<T extends WebChart | WebGaugeChart>(config?: T, layerOrLayerView?: FeatureLayerView | SupportedLayer, chartContainer?: HTMLElement): Promise<T>;
export declare const chartConfigConverterPrivateFunctions: {
    matchChartFieldsToLayerFields: typeof matchChartFieldsToLayerFields;
    moveSeriesQueryExtent: typeof moveSeriesQueryExtent;
    moveSeriesRotatedPropToChart: typeof moveSeriesRotatedPropToChart;
    renameDataSourceProperties: typeof renameDataSourceProperties;
    copyDataSourceFilterToConfig: typeof copyDataSourceFilterToConfig;
    adjustPieFromFieldsDefaultNameAndValue: typeof adjustPieFromFieldsDefaultNameAndValue;
    moveBoxPlotSeriesPropsToChart: typeof moveBoxPlotSeriesPropsToChart;
    movePieSeriesSortLabelsPropToChart: typeof movePieSeriesSortLabelsPropToChart;
    getProBoxPlotSortDataOption: typeof getProBoxPlotSortDataOption;
    isBoxPlotConfigWithMeanLinesFromPro: typeof isBoxPlotConfigWithMeanLinesFromPro;
    preventDuplicatedIds: typeof preventDuplicatedIds;
    adjustBoxPlotConfig: typeof adjustBoxPlotConfig;
    convertSortSeriesByToObject: typeof convertSortSeriesByToObject;
    moveBoxPlotSortDataByProp: typeof moveBoxPlotSortDataByProp;
    handleColorMatchChanges: typeof handleColorMatchChanges;
    moveScrollbarVisible: typeof moveScrollbarVisible;
    moveSeriesStackedTypePropToChart: typeof moveSeriesStackedTypePropToChart;
    convertBoxplotOldToNewDataSortType: typeof convertBoxplotOldToNewDataSortType;
    getDataOrderFromOrderByFields: typeof getDataOrderFromOrderByFields;
    convertWebChartDataValueTypes: typeof convertWebChartDataValueTypes;
    moveOrConvertSeriesOrderByFieldsToChartOrderOptions: typeof moveOrConvertSeriesOrderByFieldsToChartOrderOptions;
    handleOrderOptionsChanges: typeof handleOrderOptionsChanges;
    applyDataOrderInstructionForFromFieldsCharts: typeof applyDataOrderInstructionForFromFieldsCharts;
    convertTemporalBinningProps: typeof convertTemporalBinningProps;
    convertRESTStatisticTypeToWebChartStatisticType: typeof convertRESTStatisticTypeToWebChartStatisticType;
    renameChartSubtitle: typeof renameChartSubtitle;
    applyMandatoryConversions: typeof applyMandatoryConversions;
    convertTo1x0x1: typeof convertTo1x0x1;
    convertTo2x0x0: typeof convertTo2x0x0;
    convertTo3x5x0: typeof convertTo3x5x0;
    convertTo4x0x1: typeof convertTo4x0x1;
    convertTo5x0x0: typeof convertTo5x0x0;
    convertTo7x0x0: typeof convertTo7x0x0;
    convertTo7x6x0: typeof convertTo7x6x0;
    convertTo8x0x1: typeof convertTo8x0x1;
    convertTo9x3x0: typeof convertTo9x3x0;
    convertTo10x0x0: typeof convertTo10x0x0;
    convertTo11x0x0: typeof convertTo11x0x0;
    convertTo12x0x0: typeof convertTo12x0x0;
    convertTo15x0x0: typeof convertTo15x0x0;
    convertTo16x1x0: typeof convertTo16x1x0;
    convertTo16x1x1: typeof convertTo16x1x1;
    convertTo19x0x0: typeof convertTo19x0x0;
    convertTo20x2x0: typeof convertTo20x2x0;
    convertTo21x1x0: typeof convertTo21x1x0;
    convertTo23x3x0: typeof convertTo23x3x0;
    convertTo24x4x0: typeof convertTo24x4x0;
    convertTemporalBinningProps2: typeof convertTemporalBinningProps2;
    applyConversions: typeof applyConversions;
    convertDataSourceToILayer: typeof convertDataSourceToILayer;
    applyDefaultFirstDayOfWeek: typeof applyDefaultFirstDayOfWeek;
};
export {};
