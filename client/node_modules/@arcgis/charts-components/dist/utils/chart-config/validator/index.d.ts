import { WebChart, WebGaugeChart } from '../../../spec';
import { WebChartJSONSchemas } from '../../../json-schema';
import { ErrorObject } from 'ajv';
import { QueryObject } from '../../layer/interfaces';
import { ConfigWarningObject, CustomErrorObject, ValidationStatus } from './interfaces';
/**
 * Extracts schema name from the schema `$ref` path
 * For e.g.:
 *   - "#/definitions/WebChartInlineDataSource" => "WebChartInlineDataSource"
 *   - "#/definitions/WebChartBarChartSeries" => "WebChartBarChartSeries"
 * @param schemaRefPath
 */
declare function extractSchemaNameFromRefPath(schemaRefPath: string): string;
/**
 * Formats specific error messages based on the error keyword.
 * @param errors Array storing the errors met during the validation
 */
declare function customizeValidationErrors(errors: ErrorObject[]): Promise<ErrorObject[]>;
/**
 * By default, the JSON schema created by ac-spec is suitable for WebChart validation.
 * If we want to validate any other object, an appropriate schema can be generated via this function.
 * @param schema
 * @param schemaKey
 */
declare function createStartingSchema(schema: typeof WebChartJSONSchemas, schemaKey: keyof typeof WebChartJSONSchemas.definitions): typeof WebChartJSONSchemas;
/**
 * Tests whether a layer can be loaded.
 * @param queryObject The query object (layer or feature layer view)
 */
declare function findLayerLoadError(queryObject: QueryObject): Promise<CustomErrorObject | undefined>;
/**
 * Check whether there exists a `StatisticDefinition` in any series' `Query` where non-count aggregation is applied to a non-numeric field
 * @param props.seriesConfigs The series config list
 * @param props.queryObject The query object
 * @param props.allowUsingObjectIdStat Whether to allow using the object id field as a statistic field
 */
declare function findNumericAggregationWarnings(props: {
    seriesConfigs: WebChart["series"];
    queryObject: QueryObject;
    allowUsingObjectIdStat?: boolean;
}): Promise<ConfigWarningObject[]>;
/**
 * Verifies that the chart series are unique. Sets a message to display if not.
 * @param chartConfig The chart config
 */
declare function findDuplicateSeriesIDWarnings(chartConfig?: WebChart): Promise<ConfigWarningObject[]>;
/**
 * Look for issues of level 'warning' in the chart config.
 * @param props.input The input config
 * @param props.queryObject The query object
 * @param props.allowUsingObjectIdStat Whether to allow using the object id field as a statistic field
 */
declare function findWarnings(props: {
    input: WebChart;
    queryObject: QueryObject;
    allowUsingObjectIdStat?: boolean;
}): Promise<ConfigWarningObject[]>;
/**
 * Look for specific errors independent from the JSON schema.
 * @param queryObject The query object
 * @param chartConfig The chart config
 */
declare function findCustomErrors(queryObject?: QueryObject, chartConfig?: WebChart | WebGaugeChart): Promise<CustomErrorObject[]>;
export declare const chartConfigValidatorPrivateFunctions: {
    findCustomErrors: typeof findCustomErrors;
    findWarnings: typeof findWarnings;
    findNumericAggregationWarnings: typeof findNumericAggregationWarnings;
    findDuplicateSeriesIDWarnings: typeof findDuplicateSeriesIDWarnings;
    findLayerLoadError: typeof findLayerLoadError;
    createStartingSchema: typeof createStartingSchema;
    extractSchemaNameFromRefPath: typeof extractSchemaNameFromRefPath;
    customizeValidationErrors: typeof customizeValidationErrors;
};
/**
 * Validates the `WebChart` config by checking for  and displays `Errors` and `Warnings`.
 * - `Errors` are violations in the config w.r.t the JSON schema.
 * - `Warnings` are undesired combinations in the config which don't violate the JSON schema but should still be blocked.
 * @param props.input The input config
 * @param props.queryObject The query object
 * @param props.allowUsingObjectIdStat Whether to allow using the object id field as a statistic field
 */
export declare function validateWebChart(props: {
    input?: WebChart | WebGaugeChart;
    queryObject?: QueryObject;
    allowUsingObjectIdStat?: boolean;
}): Promise<ValidationStatus>;
/**
 * Checks whether the config is "partial", meaning it has been initialized for a given chart type
 * but has not been provided the minimum required prop(s) yet.
 * @param config The config to analyze
 */
export declare function isPartialConfig(config?: WebChart): boolean;
export {};
