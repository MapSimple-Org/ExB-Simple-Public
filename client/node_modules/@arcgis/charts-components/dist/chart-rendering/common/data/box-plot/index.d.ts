import { WebBoxPlot, WebChartDataItem, WebChartQuery, WebChartStatisticType } from '../../../../spec';
import { AbortControllerKeyType, ChartElementLimit, QueryObject, BoxPlotYFieldKeys, ChartSubType } from '../../../../utils';
import { OutliersFilterProps } from './interfaces';
/**
 * Builds a key (string) used to identify the properties carrying the global average and standard deviation stats
 *
 * @param y The numeric field
 * @param statType The type of stat (Average or StandardDeviation)
 */
declare function getMeanAndStandardDeviationPerFieldKey(y: string, statType: WebChartStatisticType): string;
/**
 * calculate z-score for the given value
 *
 * @param props.value The current value
 * @param props.mean The mean of the whole series
 * @param props.stdDev The standard deviation of the whole series
 */
declare function calculateZScore(props: {
    value: number;
    mean: number;
    stdDev: number;
}): number;
/**
 * Adds z-score statistic property and value pair to the box plot data item
 *
 * @param props.dataItem The data item for the given box plot
 * @param props.chartSubType The box plot sub type
 * @param props.y The y value of the box plot series
 * @param props.splitByValue The split-by value for the given box plot series
 * @param props.meanPerField The mean from a whole numeric field
 * @param props.stdDevPerField The standard deviation from a whole numeric field
 */
declare function addZScoreItemToDataItem(props: {
    dataItem: WebChartDataItem;
    chartSubType: ChartSubType;
    y?: string;
    splitByValue?: string;
    meanPerField?: number;
    stdDevPerField?: number;
}): WebChartDataItem;
/**
 * Adds missing alternative data to the given chart configuration and data.
 * This happens when fetchBoxPlotAlternativeData() doesn't bring back results for a specific field.
 * In that case we set the alternative data to the original data.
 *
 * @param chartConfig The chart config
 * @param data The data to add missing alternative data to
 */
declare function addMissingAlternativeData(chartConfig: WebBoxPlot, data: WebChartDataItem[]): void;
/**
 * Calculating the outliers threshold for a given data item (representing one candle and whiskers)
 *
 * @param dataItem The data item containing the stats
 * @param yFieldNames The box plot y field names
 */
declare function getOutliersThresholds(dataItem: WebChartDataItem, yFieldNames: Record<BoxPlotYFieldKeys, string>): {
    outlierMinThreshold?: number;
    outlierMaxThreshold?: number;
};
/**
 * Builds the query filter necessary to fetch either the outliers or the alternative data by using the x, y and split-by fields and values.
 *
 * @param props.yField The y-axis field
 * @param props.xField The x-axis field
 * @param props.xValue The category value
 * @param props.splitByField The split-by field for a given series
 * @param props.splitByValue The split-by value for a given series
 * @param props.outlierMinThreshold The outlier min threshold for a given data item
 * @param props.outlierMaxThreshold The outlier max threshold for a given data item
 * @param props.target Whether the function is called to build the outliers or the alternative data filter
 */
declare function buildBoxPlotFilter(props: OutliersFilterProps): string;
/**
 * Generates the query filters necessary to fetch the box plot outliers and alternative data.
 * The filters are returned as an array because if they contain too many operands they are split
 * into multiple filters.
 *
 * @param props.data The main data set
 * @param props.yField The numeric field
 * @param props.x The x-axis field
 * @param props.chartSubType The chart sub type
 * @param props.splitByField The split-by field
 */
declare function generateBoxPlotQueriesFilter(props: {
    data: WebChartDataItem[];
    yField: string;
    x?: string;
    chartSubType: ChartSubType;
    splitByField?: string;
}): {
    outliersFilterBatches: string[];
    dataWithoutOutliersFilterBatches: string[];
};
/**
 * Merges two data sets from the category and split-by field
 *
 * @param props.data The main data set
 * @param props.additionalData The additional data
 * @param props.chartConfig The chart's config
 */
declare function mergeBoxPlotAlternativeData(props: {
    data: WebChartDataItem[];
    additionalData: WebChartDataItem[];
    chartConfig: WebBoxPlot;
}): WebChartDataItem[];
/**
 * Processes the fetched data for a box plot chart and transforms it into the appropriate format for the amCharts library.
 * Depending on the query type, the data may need to be grouped and/or flattened before being returned.
 * If the query type is BoxPlotMonoFieldAndCategory, the data is already in the correct format and no further transformation is needed.
 *
 * @param {WebBoxPlot} props.chartConfig The configuration object for the chart.
 * @param {WebChartDataItem[]} props.data The fetched data to be processed.
 * @param {boolean} props.calculateZScore determines whether to calculate z-score or not for the box plots.
 * @param {WebChartDataItem} props.meanAndStdDevPerField Object containing the mean and stddev for all the numeric fields used by the chart
 * @returns The processed data in the appropriate format for the amCharts library.
 */
export declare function processDataForBoxPlot(props: {
    chartConfig: WebBoxPlot;
    data: WebChartDataItem[];
    calculateZScore: boolean;
    meanAndStdDevPerField?: WebChartDataItem;
}): WebChartDataItem[];
/**
 * Main function completing and processing the box plot data:
 * - outliers
 * - alternative data (shown when outliers are enabled)
 * - mean and standard deviation per numeric field
 *
 * @param props.data The main data set
 * @param props.queryObject The query object (layer or feature layer view)
 * @param props.uniqueQuery The query config
 * @param props.fetchFullBoxPlotData Whether to fetch all the box plot data
 * @param props.chartConfig The chart config
 * @param props.elementCount The number of features to fetch
 * @param props.chartLimits The chart limits
 * @param props.errorStrings The t9n error strings
 * @param props.abortKey The key to abort the queries
 */
export declare function completeBoxPlotResults(props: {
    data: WebChartDataItem[];
    queryObject: QueryObject;
    uniqueQuery: WebChartQuery;
    fetchFullBoxPlotData?: boolean;
    chartConfig: WebBoxPlot;
    elementCount?: number;
    chartLimits?: ChartElementLimit;
    abortKey?: AbortControllerKeyType;
}): Promise<{
    dataItems: WebChartDataItem[];
    outliers: WebChartDataItem[];
}>;
export declare const commonDataBoxplotPrivateFunctions: {
    getOutliersThresholds: typeof getOutliersThresholds;
    buildBoxPlotFilter: typeof buildBoxPlotFilter;
    generateBoxPlotQueriesFilter: typeof generateBoxPlotQueriesFilter;
    mergeBoxPlotAlternativeData: typeof mergeBoxPlotAlternativeData;
    calculateZScore: typeof calculateZScore;
    addZScoreItemToDataItem: typeof addZScoreItemToDataItem;
    getMeanAndStandardDeviationPerFieldKey: typeof getMeanAndStandardDeviationPerFieldKey;
    addMissingAlternativeData: typeof addMissingAlternativeData;
};
export {};
