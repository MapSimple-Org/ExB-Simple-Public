import { QueryObject, ChartSubType } from '../../../../utils';
import { IRendererSymbol, ISimpleFillSymbol, ISimpleLineSymbol, ISimpleMarkerSymbol, WebChart, WebChartBarChartSeries, WebChartBoxPlotSeries, WebChartDataItem, WebChartLineChartSeries, WebChartRadarChartSeries, WebChartSeriesType, RESTRendererType } from '../../../../spec';
import { default as Graphic } from '@arcgis/core/Graphic.js';
import { default as Renderer } from '@arcgis/core/renderers/Renderer';
import { RendererOrigin } from './interfaces';
/**
 * Centralizes all the rules indicating whether a chart can use the color match mode.
 *
 * @param props.chartConfig The chart config
 * @param props.queryObject The query object
 */
export declare function isColorMatchAllowed(props: {
    chartConfig: WebChart;
    queryObject: QueryObject;
}): boolean;
/**
 * Returns the renderer type, from either the chart renderer or the layer's.
 * It normalizes the chart renderer type to a RESTRendererType.
 *
 * @param chartRenderer The chart renderer
 * @param renderer The layer's renderer
 */
export declare function getRendererType(chartRenderer?: WebChart["chartRenderer"] | null, renderer?: Renderer | null): RESTRendererType | undefined;
/**
 * Returns the renderer label from the data context if it founds one.
 *
 * @param dataContext The data context to look into
 */
export declare function getDataItemRendererLabel(dataContext: WebChartDataItem): string | undefined;
/**
 * Determines whether a renderer symbol is valid.
 *
 * @param rendererSymbol The renderer symbol to validate
 * @returns
 */
declare function isValidRendererSymbol(rendererSymbol?: IRendererSymbol): boolean;
/**
 * Updates a data item by adding a renderer symbol to it, after eventually tweaking the color opacity.
 *
 * @param props.symbolField The field name to use to store the symbol
 * @param props.dataItem The data item to complete
 * @param props.rendererSymbol The symbol to store within the data item
 * @param props.rendererOrigin Whether the renderer comes from the chart renderer or the layer's
 * @returns Whether the color match was applied to the data item.
 */
declare function updateDataItemWithRendererSymbol(props: {
    symbolField: string;
    dataItem: WebChartDataItem;
    rendererSymbol?: IRendererSymbol;
    rendererOrigin: RendererOrigin;
}): boolean;
/**
 * Returns the suffix symbol key(s) to use to retrieve the renderer symbol from a data item,
 * base on the chart sub type and the renderer type.
 *
 * Any combination of chart sub type and renderer type that is not handled here will return the default symbol key `CommonChartDefaults.rendererSymbolField`.
 *
 * The caller should handle the case where the return is an array of strings to match with the dataItem
 * to find the correct symbol suffix key.  At this time, this only happens for BoxPlot series with PieChart renderer.
 *
 * @param props.seriesConfig The series config
 * @param props.chartSubType The chart sub type
 * @param props.rendererType The renderer type using the kebab case
 * @returns The suffix key(s) or the default color key `CommonChartDefaults.rendererSymbolField` to use to retrieve the renderer color from a data item.
 */
declare function getRendererSymbolSuffixKey(props: {
    seriesConfig: WebChartBarChartSeries | WebChartBoxPlotSeries | WebChartLineChartSeries | WebChartRadarChartSeries;
    chartSubType: ChartSubType;
    rendererType?: RESTRendererType;
}): string[] | string;
/**
 * Returns the symbol field to retrieve the renderer symbol from a data item.
 *
 * @param props.seriesConfig The series config
 * @param props.chartSubType The chart sub type
 * @param props.rendererType The renderer type
 * @param props.dataItem The data item to retrieve the renderer symbol (only used for BoxPlot series with PieChart renderer)
 * @returns The symbol field to use to retrieve the renderer symbol from a data item.
 */
declare function getRendererSymbolField(props: {
    seriesConfig: WebChartBarChartSeries | WebChartBoxPlotSeries | WebChartLineChartSeries | WebChartRadarChartSeries;
    chartSubType: ChartSubType;
    rendererType?: RESTRendererType;
    dataItem?: WebChartDataItem;
}): string;
/**
 * Gets a graphic template to use to compute the renderer color.
 *
 * @param props.chartRenderer The chart renderer
 * @param props.queryObject The query object (layer or feature layer view)
 */
export declare function getGraphicTemplate(props: {
    chartRenderer: WebChart["chartRenderer"];
    queryObject?: QueryObject;
}): Graphic;
/**
 * Computes the renderer symbol of a data item from a layer or chart renderer.
 *
 * @param props.seriesConfig The series config
 * @param props.dataItem The data related to the the feature we want to compute a color for
 * @param props.renderer The renderer definition, from the chartRenderer or the JSON version of the layer's
 * @param props.rendererType The renderer type
 * @param props.chartSubType The chart sub type
 * @param props.splitByField The split by field
 * @param props.graphicTemplate The graphic template to use to compute the color
 * @param props.rendererFieldNames The fields used by the layer's renderer
 * @param props.mapAttributesToSymbol The map to store the computed symbol for a given data item
 * @returns An object containing the renderer symbol and whether the color match was applied to the data item.
 */
export declare function computeRendererSymbol(props: {
    seriesConfig: WebChart["series"];
    dataItem: WebChartDataItem;
    renderer?: Renderer | WebChart["chartRenderer"];
    rendererType?: RESTRendererType;
    rendererOrigin: RendererOrigin;
    chartSubType: ChartSubType;
    splitByField?: string;
    graphicTemplate: Graphic;
    rendererFieldNames?: string[];
    mapAttributesToSymbol?: Map<string, IRendererSymbol | undefined>;
}): Promise<{
    rendererSymbol: IRendererSymbol | undefined;
    colorMatchApplied: boolean;
}>;
/**
 * Values passed as `null` are ignored by the `@arcgis/core` functions `getDisplayedSymbol()` & `getDisplayedColor()`
 * To bypass it we transcode the `null` value to a string beforehand.
 * `computeRendererSymbol()` applies the same transformation on the data item itself to ensure the color is correctly computed.
 * We only apply this transformation to a chart renderer (not layer renderer).
 * Refer to https://devtopia.esri.com/WebGIS/arcgis-charts/issues/7770
 *
 * @param chartRenderer The chart renderer
 */
declare function replaceChartRendererNullValue(chartRenderer?: WebChart["chartRenderer"]): WebChart["chartRenderer"];
/**
 * Encodes `null` by `CommonChartDefaults.nullValue` or reverts it.
 *
 * @param props.mode Encode or revert the null values
 * @param props.attributes The attributes to update
 * @param props.splitByField The split by field
 * @param props.x The x field
 */
declare function handleNullValuesForRenderer(props: {
    mode: "encode" | "revert";
    attributes: WebChartDataItem;
    splitByField?: string;
    x: string;
}): void;
/**
 * Completes a data set with renderer colors.
 *
 * @param props.data The data set to complete
 * @param props.chartConfig The chart config
 * @param props.queryObject The query object (layer or feature layer view)
 * @param props.allowColorMatch Whether the color match is allowed
 * @returns An object containing the data items that may be filled with the renderer symbol and whether the color match was applied to any of the data items.
 */
export declare function completeDataWithRendererSymbol(props: {
    data: WebChartDataItem[];
    chartConfig: WebChart;
    queryObject?: QueryObject;
    allowColorMatch: boolean;
}): Promise<{
    dataItems: WebChartDataItem[];
    colorMatchApplied: boolean;
    rendererFieldNames: string[];
}>;
/**
 * Gets the renderer color stored in the data item, when in color match mode.
 *
 * @param props.dataItem The dataItem to retrieve the renderer color
 * @param props.seriesConfig The series config
 * @param props.chartSubType The ChartSubType
 * @param props.colorMatch Whether the color match mode is enabled
 * @param props.rendererType The type of renderer
 * @returns
 */
export declare function getRendererElementSymbol(props: {
    dataItem: WebChartDataItem;
    seriesConfig: WebChartSeriesType;
    chartSubType: ChartSubType;
    colorMatch: boolean;
    rendererType?: RESTRendererType;
}): IRendererSymbol | undefined;
/**
 * Merges the styling information coming from a renderer symbol with a series symbol.
 *
 * @param props.seriesSymbol The series symbol
 * @param props.rendererSymbol The renderer symbol
 * @param props.colorIndex A color index used when using the color ramp
 */
export declare function mergeRendererSymbolWithSeriesSymbol<T extends ISimpleFillSymbol | ISimpleLineSymbol | ISimpleMarkerSymbol>(props: {
    seriesSymbol: T;
    rendererSymbol?: IRendererSymbol;
    colorIndex?: number;
}): T;
/**
 * Returns the category (fields) of a by field chart.
 *
 * @param chartConfig The chart config
 * @returns The categories of the by field chart
 */
declare function getCategoriesFromByFieldChart(chartConfig: WebChart): string[];
/**
 * Determines whether renderer's label can be used.
 *
 * @param chartConfig The chart config
 * @param rendererFields The fields used by the renderer
 * @returns
 */
export declare function canUseRendererLabel(chartConfig?: WebChart, rendererFields?: string[]): boolean;
/**
 * Returns the fields used by the renderer.
 *
 * @param layer The layer
 * @returns The fields used by the renderer
 */
export declare function getChartRendererFieldNames(chartRenderer: WebChart["chartRenderer"]): string[];
export declare const commonRenderColorMatchPrivateFunctions: {
    getRendererSymbolSuffixKey: typeof getRendererSymbolSuffixKey;
    getRendererSymbolField: typeof getRendererSymbolField;
    updateDataItemWithRendererSymbol: typeof updateDataItemWithRendererSymbol;
    isValidRendererSymbol: typeof isValidRendererSymbol;
    replaceChartRendererNullValue: typeof replaceChartRendererNullValue;
    handleNullValuesForRenderer: typeof handleNullValuesForRenderer;
    getCategoriesFromByFieldChart: typeof getCategoriesFromByFieldChart;
};
export {};
