/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.3 */
import g from"./MSRS6EXP.js";import"./TLMHEFBH.js";import{a as f}from"./BMZ5OG4J.js";import e from"./TNMDYW24.js";import d from"./GUWCFIQ4.js";import{i as C}from"./MHMLEVRX.js";import"./DXCHSVBP.js";import{i as h,j as o,k as n,q as c}from"./TJF35EBS.js";import"./5BG7WW2E.js";import{e as a}from"./2YIVYDK5.js";import{A as i,F as T,g as b,h as l,w as p,x,y as u}from"./GRWAOK3Y.js";import"./UUMP6K6L.js";export default $arcgis.t(([,,,,,,,{Dc:$},,{h:v,i:m}])=>{var s={textInput:"text-input",label:"label",labelContainer:"label-container",select:"select"},y=b`.hide{display:none}.am5-modal{width:100%;height:100%;position:absolute;z-index:100000;top:0;left:0}.am5-modal-curtain{top:0;left:0;width:100%;height:100%;position:absolute;background:#fff!important;z-index:100}.am5-modal-wrapper{top:0;left:0;width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;white-space:nowrap;background:#ffffff80;z-index:101}.am5-modal-content{display:inline-block;padding:1.2em;vertical-align:middle;text-align:start;white-space:normal;background:#fff;border-radius:4px;box-shadow:#00000073 0 0 36px;color:#000}.am5-layer-1000{z-index:1000!important}.am5-layer-30{z-index:100!important}.arcgis-charts-modal{box-shadow:none!important}.arcgis-charts-modal-header{background-color:#0000000d;font-weight:700;padding:4px;align-content:center}.show{display:block}.notifyPanel{flex:0 1 auto}.disable-interactions{pointer-events:none}.dim-text{color:var(--arcgis-charts-dim-text)}:host{display:flex;flex-direction:column;margin-top:var(--arcgis-charts-top-section-margin)}.text-input,.select{margin-bottom:var(--arcgis-charts-inter-section-margin)}.label{display:flex;justify-content:space-between}.label-container{display:flex;flex-direction:column;margin-left:var(--arcgis-charts-config-margin-minor);margin-right:var(--arcgis-charts-config-margin-minor);margin-bottom:var(--arcgis-charts-config-margin-minor);justify-content:space-between}`,g=class extends u{constructor(){super(...arguments),this._messages=f(),this.characterLimitInputElement=p(),this.onModelConfigChange=()=>{this.requestUpdate()},this.resetChartTitleToBeDynamic=()=>{let e=this.model.generateChartTitle();this.model.titleText=e,this.disableResetButtonForChartTitle=!1},this.resetXAxisTitleToBeDynamic=async()=>{if(o(this.model)){let e=this.model.generateXAxisTitle();this.model.xAxisTitleText=e}this.disableResetButtonForXAxisTitle=!1},this.resetYAxisTitleToBeDynamic=async()=>{if(n(this.model)){let e=h(this.model)?await this.model.getDefaultXAxisTitleText():await this.model.generateYAxisTitle();this.model.setAxisTitleText(e,1)}this.disableResetButtonForYAxisTitle=!1},this.isPartialConfig=!1,this.disableResetButtonForChartTitle=!1,this.disableResetButtonForXAxisTitle=!1,this.disableResetButtonForYAxisTitle=!1,this.isChartTitleInvalid=!1,this.open=!1}static{this.properties={disableResetButtonForChartTitle:16,disableResetButtonForXAxisTitle:16,disableResetButtonForYAxisTitle:16,isChartTitleInvalid:16,messageOverrides:0,model:0,open:7}}static{this.styles=y}load(){this.modelChange(this.model)}async willUpdate(e){e.has("model")&&this.modelChange(this.model,e.get("model")),this.handleResetButtons()}disconnectedCallback(){super.disconnectedCallback(),this.model.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}async handleResetButtons(){this.isPartialConfig=$(this.model.config);let e=this.model.generateChartTitle(),t=this.model.titleText;if(this.disableResetButtonForChartTitle=this.isPartialConfig||e===t,o(this.model)){let r=this.model.generateXAxisTitle(),d=this.model.xAxisTitleText;this.disableResetButtonForXAxisTitle=this.isPartialConfig||r===d}if(n(this.model)){let r=h(this.model)?await this.model.getDefaultXAxisTitleText():await this.model.generateYAxisTitle(),d=this.model.getAxisTitleText(1);this.disableResetButtonForYAxisTitle=this.isPartialConfig||r===d}}modelChange(e,t){t?.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange),e?.addEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}setChartTitle(e){let{value:t}=e.target;this.isChartTitleInvalid=C(t.trim()),this.characterLimitInputElement.value&&v({inputElement:this.characterLimitInputElement.value,status:this.isChartTitleInvalid?m.INVALID:m.IDLE}),this.isChartTitleInvalid||(this.model.titleText=t)}setChartLegendTitle(e){let{value:t}=e.target;t!==void 0&&c(this.model)&&(this.model.legendTitleText=t)}setChartXAxisTitle(e){let{value:t}=e.target;t!==void 0&&o(this.model)&&(this.model.xAxisTitleText=t)}setChartYAxisTitle(e){let{value:t}=e.target;t!==void 0&&n(this.model)&&this.model.setAxisTitleText(t,1)}setChartDescription(e){let{value:t}=e.target;t!==void 0&&(this.model.descriptionText=t)}enableChartTitle(e){let t=e.target.checked;this.model.chartTitleVisibility=t}enableXAxisTitle(e){let t=e.target.checked;o(this.model)&&(this.model.xAxisTitleVisibility=t)}enableYAxisTitle(e){let t=e.target.checked;n(this.model)&&this.model.setAxisTitleVisibility(t,1)}enableLegendTitle(e){let t=e.target.checked;c(this.model)&&(this.model.legendTitleVisibility=t)}enableDescription(e){let t=e.target.checked;this.model.descriptionVisibility=t}legendPositionChange(e){let t=e.target?.selectedItems[0]?.value;c(this.model)&&(this.model.legendPosition=t)}renderLegendPositions(){return c(this.model)?[l`<calcite-combobox-item .value=${a.Right} .textLabel=${this._messages.legendRightPosition} .selected=${this.model.legendPosition===a.Right} icon=right-edge></calcite-combobox-item>`,l`<calcite-combobox-item .value=${a.Left} .textLabel=${this._messages.legendLeftPosition} .selected=${this.model.legendPosition===a.Left} icon=left-edge></calcite-combobox-item>`,l`<calcite-combobox-item .value=${a.Top} .textLabel=${this._messages.legendTopPosition} .selected=${this.model.legendPosition===a.Top} icon=upload-to></calcite-combobox-item>`,l`<calcite-combobox-item .value=${a.Bottom} .textLabel=${this._messages.legendBottomPosition} .selected=${this.model.legendPosition===a.Bottom} icon=download-to></calcite-combobox-item>`]:[]}render(){return l`<div class=${i(s.labelContainer)}><calcite-label layout=inline-space-between class=${i(s.label)}>${this._messages.chartTitle}<div><calcite-button @click=${this.resetChartTitleToBeDynamic} .disabled=${this.disableResetButtonForChartTitle} appearance=transparent icon-end=reset>${this._messages.reset}</calcite-button><calcite-switch .checked=${this.model.chartTitleVisibility} @calciteSwitchChange=${this.enableChartTitle}></calcite-switch></div></calcite-label><calcite-input class=${i(s.textInput)} type=text .disabled=${!this.model.chartTitleVisibility} .value=${this.isPartialConfig?"":this.model.titleText} @calciteInputInput=${this.setChartTitle} ${x(this.characterLimitInputElement)}></calcite-input><arcgis-charts-config-invalid-input-message .invalidInputMessage=${this._messages.emptyChartTitle} .isInvalid=${this.isChartTitleInvalid}></arcgis-charts-config-invalid-input-message></div>${o(this.model)?[l`<div class=${i(s.labelContainer)}><calcite-label layout=inline-space-between class=${i(s.label)}>${this._messages.xAxisTitle}<div><calcite-button @click=${this.resetXAxisTitleToBeDynamic} .disabled=${this.disableResetButtonForXAxisTitle} appearance=transparent icon-end=reset>${this._messages.reset}</calcite-button><calcite-switch .checked=${this.model.xAxisTitleVisibility} @calciteSwitchChange=${this.enableXAxisTitle}></calcite-switch></div></calcite-label><calcite-input class=${i(s.textInput)} type=text .disabled=${!this.model.xAxisTitleVisibility} .value=${this.isPartialConfig?"":this.model.xAxisTitleText} @calciteInputInput=${this.setChartXAxisTitle}></calcite-input></div>`,n(this.model)?l`<div class=${i(s.labelContainer)}><calcite-label layout=inline-space-between class=${i(s.label)}>${this._messages.yAxisTitle}<div><calcite-button @click=${this.resetYAxisTitleToBeDynamic} .disabled=${this.disableResetButtonForYAxisTitle} appearance=transparent icon-end=reset>${this._messages.reset}</calcite-button><calcite-switch .checked=${this.model.getAxisTitleVisibility(1)} @calciteSwitchChange=${this.enableYAxisTitle}></calcite-switch></div></calcite-label><calcite-input class=${i(s.textInput)} tabindex=1 type=text .disabled=${!this.model.getAxisTitleVisibility(1)} .value=${this.model.getAxisTitleText(1)} @calciteInputInput=${this.setChartYAxisTitle}></calcite-input></div>`:null]:null}${c(this.model)?l`<div class=${i(s.labelContainer)}><calcite-label layout=inline-space-between class=${i(s.label)}>${this._messages.legendTitle}<calcite-switch .checked=${this.model.legendTitleVisibility} @calciteSwitchChange=${this.enableLegendTitle}></calcite-switch></calcite-label><calcite-input class=${i(s.textInput)} type=text .disabled=${!this.model.legendTitleVisibility} .value=${this.model.legendTitleText} @calciteInputInput=${this.setChartLegendTitle}></calcite-input></div>`:null}<div class=${i(s.labelContainer)}><calcite-label layout=inline-space-between class=${i(s.label)}>${this._messages.legendPosition}</calcite-label><calcite-combobox clear-disabled label class=${i(s.select)} @calciteComboboxChange=${this.legendPositionChange} selection-mode=single>${this.renderLegendPositions()}</calcite-combobox></div><div class=${i(s.labelContainer)}><calcite-label layout=inline-space-between class=${i(s.label)}>${this._messages.description}<calcite-switch .checked=${this.model.descriptionVisibility} @calciteSwitchChange=${this.enableDescription}></calcite-switch></calcite-label><calcite-text-area .disabled=${!this.model.descriptionVisibility} .value=${this.model.descriptionText} @calciteTextAreaInput=${this.setChartDescription}></calcite-text-area></div>`}};T("arcgis-charts-config-general",g);return g},"geometry/support/jsonUtils","rest/support/AttributeBinsQuery","rest/support/Query","rest/support/StatisticDefinition","time/TimeExtent","core/promiseUtils","request",d,e,g)