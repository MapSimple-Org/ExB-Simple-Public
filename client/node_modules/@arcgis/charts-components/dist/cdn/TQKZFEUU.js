/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.3 */
import g from"./6KL5YQAS.js";import f from"./XCUGMEPO.js";import e from"./NQ2FR6A4.js";import d from"./MJVNOHMT.js";import b from"./CDJV5WUJ.js";import"./UM26TKF2.js";import a from"./GUWCFIQ4.js";import{i as c,j as S}from"./MHMLEVRX.js";import"./DXCHSVBP.js";import"./5BG7WW2E.js";import{a as I}from"./2YIVYDK5.js";import"./GRWAOK3Y.js";import"./UUMP6K6L.js";export default $arcgis.t(([,,,,,,,{substitute:H},{Dc:m,Qa:l,Y:A,Z:d,oc:C,qa:T},,{M:p,b:u,e:f,i:_,ma:b,q:L},,{a:w,c:M,d:O,e:P},{a:U,b:z,c:E,d:k}])=>{var N=i=>{f({config:i,value:null,axisIndex:0,isMax:!1}),f({config:i,value:null,axisIndex:0,isMax:!0}),f({config:i,value:null,axisIndex:1,isMax:!1}),f({config:i,value:null,axisIndex:1,isMax:!0})},X=i=>{let{name:e,axisIndex:s,config:r,layerInfo:t}=i,{layerFieldsInfo:o}=t,n=o.find(h=>h.name===e),a=n!==void 0&&C(n);_(r,s,a)};function D(i,e,s){let r=v(i,e,s),t=L(i),o=m(i);return r===t||o}function q(i,e){let{layerFieldsInfo:s}=e,r=l(s,g(i)),t=p(1,i),o=m(i);return r===t||o}function W(i,e){let{layerFieldsInfo:s}=e,r=y(i),t=l(s,r),o=p(0,i),n=m(i);return t===o||n}function v(i,e,s){let r=y(i),t=g(i),{layerFieldsInfo:o}=e,n=l(o,r),a=l(o,t);return H(s.titleLabels.xAndY,{x:n,y:a})}var j=i=>{let{x:e,y:s,config:r,layerInfo:t,updateChartTitle:o,updateXAxisTitle:n,updateYAxisTitle:a,commonStrings:h}=i,{layerFieldsInfo:F}=t,B=l(F,e),G=l(F,s);!c(e)&&n&&u(r,0,B),!c(s)&&a&&u(r,1,G),!c(e)&&!c(s)&&r.title&&o&&(r.title.content.text=v(r,t,h))},y=i=>i.series[0]?.x??"",g=i=>i.series[0]?.y??"",J=i=>{let{fieldName:e,config:s,layerInfo:r,commonStrings:t}=i,o=D(s,r,t),n=W(s,r),a=q(s,r);N(s),s.series[0]&&(s.series[0].x=e),j({x:e,y:g(s),config:s,layerInfo:r,updateChartTitle:o,commonStrings:t,updateXAxisTitle:n,updateYAxisTitle:a}),X({name:e,axisIndex:0,config:s,layerInfo:r})},K=i=>{let{fieldName:e,config:s,layerInfo:r,commonStrings:t}=i,o=D(s,r,t),n=W(s,r),a=q(s,r);N(s),s.series[0]&&(s.series[0].y=e),j({x:y(s),y:e,config:s,layerInfo:r,commonStrings:t,updateChartTitle:o,updateXAxisTitle:n,updateYAxisTitle:a}),X({name:e,axisIndex:1,config:s,layerInfo:r})},Q=i=>{let e={};return i.series[0]?.markerSymbol??e},R=(i,e)=>{e.series[0]&&(e.series[0].markerSymbol=i)},V=i=>(i.series[0]?.overlays?.trendLine?.visible??!0)&&(i.series[0]?.overlays?.trendLine?.created??!1),Z=i=>{let e={};return i.series[0]?.overlays?.trendLine?.symbol??e},$=(i,e)=>{e.series[0].overlays??=d(),e.series[0].overlays.trendLine??=d().trendLine,e.series[0].overlays.trendLine.symbol=i},ee=(i,e)=>{e.series[0].overlays??=d(),e.series[0].overlays.trendLine??=d().trendLine,e.series[0].overlays.trendLine.visible=i},ie=(i,e)=>{!(e.series[0]?.overlays?.trendLine?.created??!1)&&i&&(e.series[0].overlays??=d(),e.series[0].overlays.trendLine??=d().trendLine,e.series[0].overlays.trendLine.created=i),ee(i,e)},Y=i=>i.series[0]?.sizePolicy??A(),se=(i,e)=>{e.series[0]&&(i!==void 0&&i.field?.trim()!==""?e.series[0].sizePolicy={...e.series[0].sizePolicy,...i}:e.series[0].sizePolicy=void 0)},re=i=>i?.series?.[0]?.overlays,te=(i,e)=>{e?.series[0]!==void 0&&(e.series[0].overlays=i)},oe=i=>i.series.find(e=>e.additionalTooltipFields!==void 0)?.additionalTooltipFields??[],ne=(i,e)=>{e.series.forEach(s=>{Array.isArray(i)?s.additionalTooltipFields=i:typeof i=="string"?s.additionalTooltipFields=i.trim()===""?[]:[i]:s.additionalTooltipFields=[]})},x=class extends w{constructor(){super(...arguments),this._chartType=I.ScatterSeries}async setup(e){await this.loadConfigFromLayer(e),typeof this.resolveSetup=="function"&&this.resolveSetup()}get xAxisField(){return y(this._config)}set xAxisField(e){this.guardSetterFromAsyncOverwrite(()=>{J({fieldName:e,config:this._config,layerInfo:this.layerInfo,commonStrings:this.commonStrings}),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("xAxisField")})}get yAxisField(){return g(this._config)}set yAxisField(e){this.guardSetterFromAsyncOverwrite(()=>{K({fieldName:e,config:this._config,layerInfo:this.layerInfo,commonStrings:this.commonStrings}),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("yAxisField")})}get showLinearTrend(){return V(this._config)}set showLinearTrend(e){this.guardSetterFromAsyncOverwrite(()=>{ie(e,this._config),this.emitConfigUpdate("showLinearTrend")})}get linearTrendSymbol(){return Z(this._config)}set linearTrendSymbol(e){this.guardSetterFromAsyncOverwrite(()=>{$(e,this._config),this.emitConfigUpdate("linearTrendSymbol")})}get fixedMarkerSymbol(){return Q(this._config)}set fixedMarkerSymbol(e){this.guardSetterFromAsyncOverwrite(()=>{R(e,this._config),this.emitConfigUpdate("fixedMarkerSymbol")})}get sizePolicy(){return Y(this._config)}set sizePolicy(e){this.guardSetterFromAsyncOverwrite(()=>{let s=Y(this._config);S(s,e)||(se(e,this._config),this.emitConfigUpdate("sizePolicy"))})}get seriesOverlays(){return re(this._config)}set seriesOverlays(e){this.guardSetterFromAsyncOverwrite(()=>{e!==void 0&&(te(e,this._config),this.emitConfigUpdate("seriesOverlays"))})}get additionalTooltipField(){return oe(this._config)}set additionalTooltipField(e){this.guardSetterFromAsyncOverwrite(()=>{ne(e,this._config),this.emitConfigUpdate("additionalTooltipField")})}generateChartTitle(){return v(this._config,this.layerInfo,this.commonStrings)}generateXAxisTitle(){let e=this.xAxisField;return l(this.layerInfo.layerFieldsInfo,e)}generateYAxisTitle(){let e=this.yAxisField;return l(this.layerInfo.layerFieldsInfo,e)}generateDefaultConfig(){return T(this.commonStrings)}};b(x,[P,z,E,U,k,M,O]);return x},"geometry/support/jsonUtils","rest/support/AttributeBinsQuery","rest/support/Query","rest/support/StatisticDefinition","time/TimeExtent","core/promiseUtils","request","intl",a,b,d,e,f,g)