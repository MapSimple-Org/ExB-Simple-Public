/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.3 */
import m from"./XAM6H4ZQ.js";import l from"./YMIRNF6H.js";import{a as tF,c as Wx,e as wf,f as Cf,g as Bf,h as Sf,i as Bd,j as Pf}from"./4VINPV22.js";import k from"./MSRS6EXP.js";import{a as ZP}from"./TLMHEFBH.js";import{a as Xx}from"./BMZ5OG4J.js";import j from"./OHGFZUOL.js";import i from"./JQSIPEYW.js";import{a as Ht,b as dg}from"./PI2NXF2Q.js";import h from"./TNMDYW24.js";import g from"./XWFCGUDT.js";import f from"./NWTSIC7V.js";import e from"./7DWSED2R.js";import d from"./NQ2FR6A4.js";import c from"./MJVNOHMT.js";import b from"./CDJV5WUJ.js";import{c as df,d as fx,e as Rh,g as Vo,o as px,p as FP,q as cg,r as TP,s as Af}from"./UM26TKF2.js";import a from"./GUWCFIQ4.js";import{A as eg,f as Xr,g as Wr,i as Ih,j as dd,q as cP,r as _s,s as Ba,t as Xs,u as gi,v as Zt,w as qt,z as Jm}from"./MHMLEVRX.js";import{a as qm,d as tf}from"./DXCHSVBP.js";import{a as eF}from"./JFZEAM5D.js";import{d as Cd,e as qP,f as JP}from"./TJF35EBS.js";import"./5BG7WW2E.js";import{a as R,b as Cn,e as St,f as cr,h as ef,i as Gv,j as Yv,k as rr,l as Bn,m as lP,n as Kv,p as dr,q as uP,r as $h,t as Fl,u as Zv,w as We,x as hP}from"./2YIVYDK5.js";import{A as zv,F as oP,g as sP,h as JA,l as Ca,w as aP,x as Wv,y as nP}from"./GRWAOK3Y.js";import{a as qA,b as iP,c as aU,d as rP}from"./UUMP6K6L.js";export default $arcgis.t(([{substitute:BA},aO,,,,,,,,Xn,{A:Zn,Aa:ax,Ac:PP,B:tg,Bb:ng,Bc:Uo,C:$r,Cb:hx,Cc:hg,D:AP,Db:_P,Dc:bd,E:qn,Eb:of,Gb:lf,Ha:Ie,Hb:gd,Ia:kr,Ib:Ro,Ja:$o,Jb:og,Ka:Sn,L:pd,La:nx,Lb:uf,Ma:on,Mb:lg,O:ig,Oa:ox,P:sf,Pa:fP,Q:Jv,Qa:wr,Qb:hf,Rb:ha,Sa:lx,Sb:cf,Tb:wP,U:rg,Ua:Ki,V:ex,W:tx,X:sg,Y:ix,Ya:nf,Za:pP,_a:Ur,ab:mP,bc:cx,ca:rx,f:dP,ga:af,hb:gP,i:Kn,ib:ux,ic:CP,j:kh,jc:yd,kb:ko,kc:Pn,lb:Tl,m:_r,mb:yP,mc:BP,nc:SP,o:Ad,ob:Pt,pb:Mh,qb:bP,rb:vP,rc:dx,sb:Jt,sc:ug,t:Eh,ta:sx,ub:ag,v:fd,vb:Eo,w:rf,wb:md,x:qv,xb:Zi,yb:xP,zb:Mo,zc:Ax},,,ff,,,,{a:mx,b:gx,c:DP,f:yx,g:pf},wt,{$:XP,A:fg,Aa:jh,B:EP,Ba:Pa,C:MP,Ca:Qx,D:bf,Da:wd,E:RP,Ea:GP,F:wx,Fa:YP,G:vf,Ga:KP,H:Qo,Ha:Hx,I:Cx,Ia:jx,J:Bx,K:Ol,L:Vh,M:Nh,N:Sx,O:Ua,P:Px,Q:Fx,R:Tx,S:UP,T:VP,U:NP,V:Dx,W:pg,X:QP,Y:HP,Z:jP,_:mg,a:Bu,aa:Ox,b:mf,ba:gg,c:Jn,ca:Lx,d:Sa,da:xf,e:Uh,ea:yg,f:vd,fa:Ix,g:eo,ga:WP,h:bx,ha:$x,i:Dl,ia:kx,j:Ag,ja:Ex,k:xd,ka:Mx,l:J,la:Qh,m:vx,ma:Rx,n:OP,na:Hh,o:gf,oa:Ho,p:ts,pa:zP,q:No,qa:Ux,r:yf,ra:ca,s:to,sa:bg,t:io,ta:vg,u:LP,ua:Ws,v:IP,va:_f,w:xx,wa:Ll,x:_x,xa:_d,y:$P,ya:Vx,z:kP,za:Nx},{q:zx},{b:iF,c:rF},{b:sF,c:aF,f:Gx,g:Yx}])=>{var nF=iP((Kx,Zx)=>{(function(s,t){typeof Kx=="object"&&typeof Zx<"u"?Zx.exports=t():typeof define=="function"&&define.amd?define(t):(s=typeof globalThis<"u"?globalThis:s||self,s.html2canvas=t())})(Kx,function(){"use strict";var s=function(v,b){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,_){w.__proto__=_}||function(w,_){for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&(w[T]=_[T])},s(v,b)};function t(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");s(v,b);function w(){this.constructor=v}v.prototype=b===null?Object.create(b):(w.prototype=b.prototype,new w)}var e=function(){return e=Object.assign||function(b){for(var w,_=1,T=arguments.length;_<T;_++){w=arguments[_];for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&(b[k]=w[k])}return b},e.apply(this,arguments)};function i(v,b,w,_){function T(k){return k instanceof w?k:new w(function(Q){Q(k)})}return new(w||(w=Promise))(function(k,Q){function X(oe){try{se(_.next(oe))}catch(Ae){Q(Ae)}}function j(oe){try{se(_.throw(oe))}catch(Ae){Q(Ae)}}function se(oe){oe.done?k(oe.value):T(oe.value).then(X,j)}se((_=_.apply(v,b||[])).next())})}function r(v,b){var w={label:0,sent:function(){if(k[0]&1)throw k[1];return k[1]},trys:[],ops:[]},_,T,k,Q;return Q={next:X(0),throw:X(1),return:X(2)},typeof Symbol=="function"&&(Q[Symbol.iterator]=function(){return this}),Q;function X(se){return function(oe){return j([se,oe])}}function j(se){if(_)throw new TypeError("Generator is already executing.");for(;w;)try{if(_=1,T&&(k=se[0]&2?T.return:se[0]?T.throw||((k=T.return)&&k.call(T),0):T.next)&&!(k=k.call(T,se[1])).done)return k;switch(T=0,k&&(se=[se[0]&2,k.value]),se[0]){case 0:case 1:k=se;break;case 4:return w.label++,{value:se[1],done:!1};case 5:w.label++,T=se[1],se=[0];continue;case 7:se=w.ops.pop(),w.trys.pop();continue;default:if(k=w.trys,!(k=k.length>0&&k[k.length-1])&&(se[0]===6||se[0]===2)){w=0;continue}if(se[0]===3&&(!k||se[1]>k[0]&&se[1]<k[3])){w.label=se[1];break}if(se[0]===6&&w.label<k[1]){w.label=k[1],k=se;break}if(k&&w.label<k[2]){w.label=k[2],w.ops.push(se);break}k[2]&&w.ops.pop(),w.trys.pop();continue}se=b.call(v,w)}catch(oe){se=[6,oe],T=0}finally{_=k=0}if(se[0]&5)throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}}function a(v,b,w){if(w||arguments.length===2)for(var _=0,T=b.length,k;_<T;_++)(k||!(_ in b))&&(k||(k=Array.prototype.slice.call(b,0,_)),k[_]=b[_]);return v.concat(k||b)}for(var n=function(){function v(b,w,_,T){this.left=b,this.top=w,this.width=_,this.height=T}return v.prototype.add=function(b,w,_,T){return new v(this.left+b,this.top+w,this.width+_,this.height+T)},v.fromClientRect=function(b,w){return new v(w.left+b.windowBounds.left,w.top+b.windowBounds.top,w.width,w.height)},v.fromDOMRectList=function(b,w){var _=Array.from(w).find(function(T){return T.width!==0});return _?new v(_.left+b.windowBounds.left,_.top+b.windowBounds.top,_.width,_.height):v.EMPTY},v.EMPTY=new v(0,0,0,0),v}(),o=function(v,b){return n.fromClientRect(v,b.getBoundingClientRect())},l=function(v){var b=v.body,w=v.documentElement;if(!b||!w)throw new Error("Unable to get document size");var _=Math.max(Math.max(b.scrollWidth,w.scrollWidth),Math.max(b.offsetWidth,w.offsetWidth),Math.max(b.clientWidth,w.clientWidth)),T=Math.max(Math.max(b.scrollHeight,w.scrollHeight),Math.max(b.offsetHeight,w.offsetHeight),Math.max(b.clientHeight,w.clientHeight));return new n(0,0,_,T)},u=function(v){for(var b=[],w=0,_=v.length;w<_;){var T=v.charCodeAt(w++);if(T>=55296&&T<=56319&&w<_){var k=v.charCodeAt(w++);(k&64512)===56320?b.push(((T&1023)<<10)+(k&1023)+65536):(b.push(T),w--)}else b.push(T)}return b},h=function(){for(var v=[],b=0;b<arguments.length;b++)v[b]=arguments[b];if(String.fromCodePoint)return String.fromCodePoint.apply(String,v);var w=v.length;if(!w)return"";for(var _=[],T=-1,k="";++T<w;){var Q=v[T];Q<=65535?_.push(Q):(Q-=65536,_.push((Q>>10)+55296,Q%1024+56320)),(T+1===w||_.length>16384)&&(k+=String.fromCharCode.apply(String,_),_.length=0)}return k},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=typeof Uint8Array>"u"?[]:new Uint8Array(256),d=0;d<c.length;d++)A[c.charCodeAt(d)]=d;for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=typeof Uint8Array>"u"?[]:new Uint8Array(256),m=0;m<f.length;m++)p[f.charCodeAt(m)]=m;for(var g=function(v){var b=v.length*.75,w=v.length,_,T=0,k,Q,X,j;v[v.length-1]==="="&&(b--,v[v.length-2]==="="&&b--);var se=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(b):new Array(b),oe=Array.isArray(se)?se:new Uint8Array(se);for(_=0;_<w;_+=4)k=p[v.charCodeAt(_)],Q=p[v.charCodeAt(_+1)],X=p[v.charCodeAt(_+2)],j=p[v.charCodeAt(_+3)],oe[T++]=k<<2|Q>>4,oe[T++]=(Q&15)<<4|X>>2,oe[T++]=(X&3)<<6|j&63;return se},y=function(v){for(var b=v.length,w=[],_=0;_<b;_+=2)w.push(v[_+1]<<8|v[_]);return w},x=function(v){for(var b=v.length,w=[],_=0;_<b;_+=4)w.push(v[_+3]<<24|v[_+2]<<16|v[_+1]<<8|v[_]);return w},C=5,S=11,P=2,F=S-C,O=65536>>C,$=1<<C,L=$-1,E=1024>>C,D=O+E,H=D,te=32,K=H+te,ae=65536>>S,ie=1<<F,fe=ie-1,z=function(v,b,w){return v.slice?v.slice(b,w):new Uint16Array(Array.prototype.slice.call(v,b,w))},Y=function(v,b,w){return v.slice?v.slice(b,w):new Uint32Array(Array.prototype.slice.call(v,b,w))},ge=function(v,b){var w=g(v),_=Array.isArray(w)?x(w):new Uint32Array(w),T=Array.isArray(w)?y(w):new Uint16Array(w),k=24,Q=z(T,k/2,_[4]/2),X=_[5]===2?z(T,(k+_[4])/2):Y(_,Math.ceil((k+_[4])/4));return new re(_[0],_[1],_[2],_[3],Q,X)},re=function(){function v(b,w,_,T,k,Q){this.initialValue=b,this.errorValue=w,this.highStart=_,this.highValueIndex=T,this.index=k,this.data=Q}return v.prototype.get=function(b){var w;if(b>=0){if(b<55296||b>56319&&b<=65535)return w=this.index[b>>C],w=(w<<P)+(b&L),this.data[w];if(b<=65535)return w=this.index[O+(b-55296>>C)],w=(w<<P)+(b&L),this.data[w];if(b<this.highStart)return w=K-ae+(b>>S),w=this.index[w],w+=b>>C&fe,w=this.index[w],w=(w<<P)+(b&L),this.data[w];if(b<=1114111)return this.data[this.highValueIndex]}return this.errorValue},v}(),me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ge=typeof Uint8Array>"u"?[]:new Uint8Array(256),Xe=0;Xe<me.length;Xe++)Ge[me.charCodeAt(Xe)]=Xe;var nt="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",At=50,tt=1,ft=2,_t=3,$t=4,U=5,xe=7,ye=8,G=9,W=10,ne=11,Te=12,Le=13,de=14,$e=15,Ke=16,Ee=17,bt=18,tr=19,mi=20,vs=21,Oi=22,Jr=23,xr=24,Li=25,To=26,vl=27,la=28,Am=29,xl=30,nv=31,ed=32,Bh=33,_l=34,fu=35,ov=36,EA=37,lv=38,fm=39,pm=40,uv=41,AB=42,o$=43,l$=[9001,65288],fB="!",Si="\xD7",mm="\xF7",hv=ge(nt),wl=[xl,ov],cv=[tt,ft,_t,U],pB=[W,ye],mB=[vl,To],u$=cv.concat(pB),gB=[lv,fm,pm,_l,fu],h$=[$e,Le],c$=function(v,b){b===void 0&&(b="strict");var w=[],_=[],T=[];return v.forEach(function(k,Q){var X=hv.get(k);if(X>At?(T.push(!0),X-=At):T.push(!1),["normal","auto","loose"].indexOf(b)!==-1&&[8208,8211,12316,12448].indexOf(k)!==-1)return _.push(Q),w.push(Ke);if(X===$t||X===ne){if(Q===0)return _.push(Q),w.push(xl);var j=w[Q-1];return u$.indexOf(j)===-1?(_.push(_[Q-1]),w.push(j)):(_.push(Q),w.push(xl))}if(_.push(Q),X===nv)return w.push(b==="strict"?vs:EA);if(X===AB||X===Am)return w.push(xl);if(X===o$)return k>=131072&&k<=196605||k>=196608&&k<=262141?w.push(EA):w.push(xl);w.push(X)}),[_,w,T]},dv=function(v,b,w,_){var T=_[w];if(Array.isArray(v)?v.indexOf(T)!==-1:v===T)for(var k=w;k<=_.length;){k++;var Q=_[k];if(Q===b)return!0;if(Q!==W)break}if(T===W)for(var k=w;k>0;){k--;var X=_[k];if(Array.isArray(v)?v.indexOf(X)!==-1:v===X)for(var j=w;j<=_.length;){j++;var Q=_[j];if(Q===b)return!0;if(Q!==W)break}if(X!==W)break}return!1},yB=function(v,b){for(var w=v;w>=0;){var _=b[w];if(_===W)w--;else return _}return 0},d$=function(v,b,w,_,T){if(w[_]===0)return Si;var k=_-1;if(Array.isArray(T)&&T[k]===!0)return Si;var Q=k-1,X=k+1,j=b[k],se=Q>=0?b[Q]:0,oe=b[X];if(j===ft&&oe===_t)return Si;if(cv.indexOf(j)!==-1)return fB;if(cv.indexOf(oe)!==-1||pB.indexOf(oe)!==-1)return Si;if(yB(k,b)===ye)return mm;if(hv.get(v[k])===ne||(j===ed||j===Bh)&&hv.get(v[X])===ne||j===xe||oe===xe||j===G||[W,Le,$e].indexOf(j)===-1&&oe===G||[Ee,bt,tr,xr,la].indexOf(oe)!==-1||yB(k,b)===Oi||dv(Jr,Oi,k,b)||dv([Ee,bt],vs,k,b)||dv(Te,Te,k,b))return Si;if(j===W)return mm;if(j===Jr||oe===Jr)return Si;if(oe===Ke||j===Ke)return mm;if([Le,$e,vs].indexOf(oe)!==-1||j===de||se===ov&&h$.indexOf(j)!==-1||j===la&&oe===ov||oe===mi||wl.indexOf(oe)!==-1&&j===Li||wl.indexOf(j)!==-1&&oe===Li||j===vl&&[EA,ed,Bh].indexOf(oe)!==-1||[EA,ed,Bh].indexOf(j)!==-1&&oe===To||wl.indexOf(j)!==-1&&mB.indexOf(oe)!==-1||mB.indexOf(j)!==-1&&wl.indexOf(oe)!==-1||[vl,To].indexOf(j)!==-1&&(oe===Li||[Oi,$e].indexOf(oe)!==-1&&b[X+1]===Li)||[Oi,$e].indexOf(j)!==-1&&oe===Li||j===Li&&[Li,la,xr].indexOf(oe)!==-1)return Si;if([Li,la,xr,Ee,bt].indexOf(oe)!==-1)for(var Ae=k;Ae>=0;){var Ce=b[Ae];if(Ce===Li)return Si;if([la,xr].indexOf(Ce)!==-1)Ae--;else break}if([vl,To].indexOf(oe)!==-1)for(var Ae=[Ee,bt].indexOf(j)!==-1?Q:k;Ae>=0;){var Ce=b[Ae];if(Ce===Li)return Si;if([la,xr].indexOf(Ce)!==-1)Ae--;else break}if(lv===j&&[lv,fm,_l,fu].indexOf(oe)!==-1||[fm,_l].indexOf(j)!==-1&&[fm,pm].indexOf(oe)!==-1||[pm,fu].indexOf(j)!==-1&&oe===pm||gB.indexOf(j)!==-1&&[mi,To].indexOf(oe)!==-1||gB.indexOf(oe)!==-1&&j===vl||wl.indexOf(j)!==-1&&wl.indexOf(oe)!==-1||j===xr&&wl.indexOf(oe)!==-1||wl.concat(Li).indexOf(j)!==-1&&oe===Oi&&l$.indexOf(v[X])===-1||wl.concat(Li).indexOf(oe)!==-1&&j===bt)return Si;if(j===uv&&oe===uv){for(var ot=w[k],Me=1;ot>0&&(ot--,b[ot]===uv);)Me++;if(Me%2!==0)return Si}return j===ed&&oe===Bh?Si:mm},A$=function(v,b){b||(b={lineBreak:"normal",wordBreak:"normal"});var w=c$(v,b.lineBreak),_=w[0],T=w[1],k=w[2];(b.wordBreak==="break-all"||b.wordBreak==="break-word")&&(T=T.map(function(X){return[Li,xl,AB].indexOf(X)!==-1?EA:X}));var Q=b.wordBreak==="keep-all"?k.map(function(X,j){return X&&v[j]>=19968&&v[j]<=40959}):void 0;return[_,T,Q]},f$=function(){function v(b,w,_,T){this.codePoints=b,this.required=w===fB,this.start=_,this.end=T}return v.prototype.slice=function(){return h.apply(void 0,this.codePoints.slice(this.start,this.end))},v}(),p$=function(v,b){var w=u(v),_=A$(w,b),T=_[0],k=_[1],Q=_[2],X=w.length,j=0,se=0;return{next:function(){if(se>=X)return{done:!0,value:null};for(var oe=Si;se<X&&(oe=d$(w,k,T,++se,Q))===Si;);if(oe!==Si||se===X){var Ae=new f$(w,oe,j,se);return j=se,{value:Ae,done:!1}}return{done:!0,value:null}}}},m$=1,g$=2,MA=4,bB=8,gm=10,vB=47,RA=92,y$=9,b$=32,ym=34,UA=61,v$=35,x$=36,_$=37,bm=39,vm=40,VA=41,w$=95,ka=45,C$=33,B$=60,S$=62,P$=64,F$=91,T$=93,D$=61,O$=123,xm=63,L$=125,xB=124,I$=126,$$=128,_B=65533,Av=42,Sh=43,k$=44,E$=58,M$=59,NA=46,R$=0,U$=8,V$=11,N$=14,Q$=31,H$=127,Do=-1,wB=48,CB=97,BB=101,j$=102,X$=117,W$=122,SB=65,PB=69,FB=70,z$=85,G$=90,ua=function(v){return v>=wB&&v<=57},Y$=function(v){return v>=55296&&v<=57343},td=function(v){return ua(v)||v>=SB&&v<=FB||v>=CB&&v<=j$},K$=function(v){return v>=CB&&v<=W$},Z$=function(v){return v>=SB&&v<=G$},q$=function(v){return K$(v)||Z$(v)},J$=function(v){return v>=$$},_m=function(v){return v===gm||v===y$||v===b$},wm=function(v){return q$(v)||J$(v)||v===w$},TB=function(v){return wm(v)||ua(v)||v===ka},ek=function(v){return v>=R$&&v<=U$||v===V$||v>=N$&&v<=Q$||v===H$},pu=function(v,b){return v!==RA?!1:b!==gm},Cm=function(v,b,w){return v===ka?wm(b)||pu(b,w):wm(v)?!0:!!(v===RA&&pu(v,b))},fv=function(v,b,w){return v===Sh||v===ka?ua(b)?!0:b===NA&&ua(w):ua(v===NA?b:v)},tk=function(v){var b=0,w=1;(v[b]===Sh||v[b]===ka)&&(v[b]===ka&&(w=-1),b++);for(var _=[];ua(v[b]);)_.push(v[b++]);var T=_.length?parseInt(h.apply(void 0,_),10):0;v[b]===NA&&b++;for(var k=[];ua(v[b]);)k.push(v[b++]);var Q=k.length,X=Q?parseInt(h.apply(void 0,k),10):0;(v[b]===PB||v[b]===BB)&&b++;var j=1;(v[b]===Sh||v[b]===ka)&&(v[b]===ka&&(j=-1),b++);for(var se=[];ua(v[b]);)se.push(v[b++]);var oe=se.length?parseInt(h.apply(void 0,se),10):0;return w*(T+X*Math.pow(10,-Q))*Math.pow(10,j*oe)},ik={type:2},rk={type:3},sk={type:4},ak={type:13},nk={type:8},ok={type:21},lk={type:9},uk={type:10},hk={type:11},ck={type:12},dk={type:14},Bm={type:23},Ak={type:1},fk={type:25},pk={type:24},mk={type:26},gk={type:27},yk={type:28},bk={type:29},vk={type:31},pv={type:32},DB=function(){function v(){this._value=[]}return v.prototype.write=function(b){this._value=this._value.concat(u(b))},v.prototype.read=function(){for(var b=[],w=this.consumeToken();w!==pv;)b.push(w),w=this.consumeToken();return b},v.prototype.consumeToken=function(){var b=this.consumeCodePoint();switch(b){case ym:return this.consumeStringToken(ym);case v$:var w=this.peekCodePoint(0),_=this.peekCodePoint(1),T=this.peekCodePoint(2);if(TB(w)||pu(_,T)){var k=Cm(w,_,T)?g$:m$,Q=this.consumeName();return{type:5,value:Q,flags:k}}break;case x$:if(this.peekCodePoint(0)===UA)return this.consumeCodePoint(),ak;break;case bm:return this.consumeStringToken(bm);case vm:return ik;case VA:return rk;case Av:if(this.peekCodePoint(0)===UA)return this.consumeCodePoint(),dk;break;case Sh:if(fv(b,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(b),this.consumeNumericToken();break;case k$:return sk;case ka:var X=b,j=this.peekCodePoint(0),se=this.peekCodePoint(1);if(fv(X,j,se))return this.reconsumeCodePoint(b),this.consumeNumericToken();if(Cm(X,j,se))return this.reconsumeCodePoint(b),this.consumeIdentLikeToken();if(j===ka&&se===S$)return this.consumeCodePoint(),this.consumeCodePoint(),pk;break;case NA:if(fv(b,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(b),this.consumeNumericToken();break;case vB:if(this.peekCodePoint(0)===Av)for(this.consumeCodePoint();;){var oe=this.consumeCodePoint();if(oe===Av&&(oe=this.consumeCodePoint(),oe===vB))return this.consumeToken();if(oe===Do)return this.consumeToken()}break;case E$:return mk;case M$:return gk;case B$:if(this.peekCodePoint(0)===C$&&this.peekCodePoint(1)===ka&&this.peekCodePoint(2)===ka)return this.consumeCodePoint(),this.consumeCodePoint(),fk;break;case P$:var Ae=this.peekCodePoint(0),Ce=this.peekCodePoint(1),ot=this.peekCodePoint(2);if(Cm(Ae,Ce,ot)){var Q=this.consumeName();return{type:7,value:Q}}break;case F$:return yk;case RA:if(pu(b,this.peekCodePoint(0)))return this.reconsumeCodePoint(b),this.consumeIdentLikeToken();break;case T$:return bk;case D$:if(this.peekCodePoint(0)===UA)return this.consumeCodePoint(),nk;break;case O$:return hk;case L$:return ck;case X$:case z$:var Me=this.peekCodePoint(0),Ze=this.peekCodePoint(1);return Me===Sh&&(td(Ze)||Ze===xm)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(b),this.consumeIdentLikeToken();case xB:if(this.peekCodePoint(0)===UA)return this.consumeCodePoint(),lk;if(this.peekCodePoint(0)===xB)return this.consumeCodePoint(),ok;break;case I$:if(this.peekCodePoint(0)===UA)return this.consumeCodePoint(),uk;break;case Do:return pv}return _m(b)?(this.consumeWhiteSpace(),vk):ua(b)?(this.reconsumeCodePoint(b),this.consumeNumericToken()):wm(b)?(this.reconsumeCodePoint(b),this.consumeIdentLikeToken()):{type:6,value:h(b)}},v.prototype.consumeCodePoint=function(){var b=this._value.shift();return typeof b>"u"?-1:b},v.prototype.reconsumeCodePoint=function(b){this._value.unshift(b)},v.prototype.peekCodePoint=function(b){return b>=this._value.length?-1:this._value[b]},v.prototype.consumeUnicodeRangeToken=function(){for(var b=[],w=this.consumeCodePoint();td(w)&&b.length<6;)b.push(w),w=this.consumeCodePoint();for(var _=!1;w===xm&&b.length<6;)b.push(w),w=this.consumeCodePoint(),_=!0;if(_){var T=parseInt(h.apply(void 0,b.map(function(j){return j===xm?wB:j})),16),k=parseInt(h.apply(void 0,b.map(function(j){return j===xm?FB:j})),16);return{type:30,start:T,end:k}}var Q=parseInt(h.apply(void 0,b),16);if(this.peekCodePoint(0)===ka&&td(this.peekCodePoint(1))){this.consumeCodePoint(),w=this.consumeCodePoint();for(var X=[];td(w)&&X.length<6;)X.push(w),w=this.consumeCodePoint();var k=parseInt(h.apply(void 0,X),16);return{type:30,start:Q,end:k}}else return{type:30,start:Q,end:Q}},v.prototype.consumeIdentLikeToken=function(){var b=this.consumeName();return b.toLowerCase()==="url"&&this.peekCodePoint(0)===vm?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===vm?(this.consumeCodePoint(),{type:19,value:b}):{type:20,value:b}},v.prototype.consumeUrlToken=function(){var b=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Do)return{type:22,value:""};var w=this.peekCodePoint(0);if(w===bm||w===ym){var _=this.consumeStringToken(this.consumeCodePoint());return _.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Do||this.peekCodePoint(0)===VA)?(this.consumeCodePoint(),{type:22,value:_.value}):(this.consumeBadUrlRemnants(),Bm)}for(;;){var T=this.consumeCodePoint();if(T===Do||T===VA)return{type:22,value:h.apply(void 0,b)};if(_m(T))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Do||this.peekCodePoint(0)===VA?(this.consumeCodePoint(),{type:22,value:h.apply(void 0,b)}):(this.consumeBadUrlRemnants(),Bm);if(T===ym||T===bm||T===vm||ek(T))return this.consumeBadUrlRemnants(),Bm;if(T===RA)if(pu(T,this.peekCodePoint(0)))b.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Bm;else b.push(T)}},v.prototype.consumeWhiteSpace=function(){for(;_m(this.peekCodePoint(0));)this.consumeCodePoint()},v.prototype.consumeBadUrlRemnants=function(){for(;;){var b=this.consumeCodePoint();if(b===VA||b===Do)return;pu(b,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},v.prototype.consumeStringSlice=function(b){for(var w=5e4,_="";b>0;){var T=Math.min(w,b);_+=h.apply(void 0,this._value.splice(0,T)),b-=T}return this._value.shift(),_},v.prototype.consumeStringToken=function(b){var w="",_=0;do{var T=this._value[_];if(T===Do||T===void 0||T===b)return w+=this.consumeStringSlice(_),{type:0,value:w};if(T===gm)return this._value.splice(0,_),Ak;if(T===RA){var k=this._value[_+1];k!==Do&&k!==void 0&&(k===gm?(w+=this.consumeStringSlice(_),_=-1,this._value.shift()):pu(T,k)&&(w+=this.consumeStringSlice(_),w+=h(this.consumeEscapedCodePoint()),_=-1))}_++}while(!0)},v.prototype.consumeNumber=function(){var b=[],w=MA,_=this.peekCodePoint(0);for((_===Sh||_===ka)&&b.push(this.consumeCodePoint());ua(this.peekCodePoint(0));)b.push(this.consumeCodePoint());_=this.peekCodePoint(0);var T=this.peekCodePoint(1);if(_===NA&&ua(T))for(b.push(this.consumeCodePoint(),this.consumeCodePoint()),w=bB;ua(this.peekCodePoint(0));)b.push(this.consumeCodePoint());_=this.peekCodePoint(0),T=this.peekCodePoint(1);var k=this.peekCodePoint(2);if((_===PB||_===BB)&&((T===Sh||T===ka)&&ua(k)||ua(T)))for(b.push(this.consumeCodePoint(),this.consumeCodePoint()),w=bB;ua(this.peekCodePoint(0));)b.push(this.consumeCodePoint());return[tk(b),w]},v.prototype.consumeNumericToken=function(){var b=this.consumeNumber(),w=b[0],_=b[1],T=this.peekCodePoint(0),k=this.peekCodePoint(1),Q=this.peekCodePoint(2);if(Cm(T,k,Q)){var X=this.consumeName();return{type:15,number:w,flags:_,unit:X}}return T===_$?(this.consumeCodePoint(),{type:16,number:w,flags:_}):{type:17,number:w,flags:_}},v.prototype.consumeEscapedCodePoint=function(){var b=this.consumeCodePoint();if(td(b)){for(var w=h(b);td(this.peekCodePoint(0))&&w.length<6;)w+=h(this.consumeCodePoint());_m(this.peekCodePoint(0))&&this.consumeCodePoint();var _=parseInt(w,16);return _===0||Y$(_)||_>1114111?_B:_}return b===Do?_B:b},v.prototype.consumeName=function(){for(var b="";;){var w=this.consumeCodePoint();if(TB(w))b+=h(w);else if(pu(w,this.peekCodePoint(0)))b+=h(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(w),b}},v}(),OB=function(){function v(b){this._tokens=b}return v.create=function(b){var w=new DB;return w.write(b),new v(w.read())},v.parseValue=function(b){return v.create(b).parseComponentValue()},v.parseValues=function(b){return v.create(b).parseComponentValues()},v.prototype.parseComponentValue=function(){for(var b=this.consumeToken();b.type===31;)b=this.consumeToken();if(b.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(b);var w=this.consumeComponentValue();do b=this.consumeToken();while(b.type===31);if(b.type===32)return w;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},v.prototype.parseComponentValues=function(){for(var b=[];;){var w=this.consumeComponentValue();if(w.type===32)return b;b.push(w),b.push()}},v.prototype.consumeComponentValue=function(){var b=this.consumeToken();switch(b.type){case 11:case 28:case 2:return this.consumeSimpleBlock(b.type);case 19:return this.consumeFunction(b)}return b},v.prototype.consumeSimpleBlock=function(b){for(var w={type:b,values:[]},_=this.consumeToken();;){if(_.type===32||_k(_,b))return w;this.reconsumeToken(_),w.values.push(this.consumeComponentValue()),_=this.consumeToken()}},v.prototype.consumeFunction=function(b){for(var w={name:b.value,values:[],type:18};;){var _=this.consumeToken();if(_.type===32||_.type===3)return w;this.reconsumeToken(_),w.values.push(this.consumeComponentValue())}},v.prototype.consumeToken=function(){var b=this._tokens.shift();return typeof b>"u"?pv:b},v.prototype.reconsumeToken=function(b){this._tokens.unshift(b)},v}(),QA=function(v){return v.type===15},id=function(v){return v.type===17},ur=function(v){return v.type===20},xk=function(v){return v.type===0},mv=function(v,b){return ur(v)&&v.value===b},LB=function(v){return v.type!==31},rd=function(v){return v.type!==31&&v.type!==4},Oo=function(v){var b=[],w=[];return v.forEach(function(_){if(_.type===4){if(w.length===0)throw new Error("Error parsing function args, zero tokens for arg");b.push(w),w=[];return}_.type!==31&&w.push(_)}),w.length&&b.push(w),b},_k=function(v,b){return b===11&&v.type===12||b===28&&v.type===29?!0:b===2&&v.type===3},mu=function(v){return v.type===17||v.type===15},ds=function(v){return v.type===16||mu(v)},IB=function(v){return v.length>1?[v[0],v[1]]:[v[0]]},Qs={type:17,number:0,flags:MA},gv={type:16,number:50,flags:MA},gu={type:16,number:100,flags:MA},HA=function(v,b,w){var _=v[0],T=v[1];return[Cr(_,b),Cr(typeof T<"u"?T:_,w)]},Cr=function(v,b){if(v.type===16)return v.number/100*b;if(QA(v))switch(v.unit){case"rem":case"em":return 16*v.number;case"px":default:return v.number}return v.number},$B="deg",kB="grad",EB="rad",MB="turn",Sm={name:"angle",parse:function(v,b){if(b.type===15)switch(b.unit){case $B:return Math.PI*b.number/180;case kB:return Math.PI/200*b.number;case EB:return b.number;case MB:return Math.PI*2*b.number}throw new Error("Unsupported angle type")}},RB=function(v){return v.type===15&&(v.unit===$B||v.unit===kB||v.unit===EB||v.unit===MB)},UB=function(v){var b=v.filter(ur).map(function(w){return w.value}).join(" ");switch(b){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Qs,Qs];case"to top":case"bottom":return vn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Qs,gu];case"to right":case"left":return vn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[gu,gu];case"to bottom":case"top":return vn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[gu,Qs];case"to left":case"right":return vn(270)}return 0},vn=function(v){return Math.PI*v/180},yu={name:"color",parse:function(v,b){if(b.type===18){var w=wk[b.name];if(typeof w>"u")throw new Error('Attempting to parse an unsupported color function "'+b.name+'"');return w(v,b.values)}if(b.type===5){if(b.value.length===3){var _=b.value.substring(0,1),T=b.value.substring(1,2),k=b.value.substring(2,3);return vu(parseInt(_+_,16),parseInt(T+T,16),parseInt(k+k,16),1)}if(b.value.length===4){var _=b.value.substring(0,1),T=b.value.substring(1,2),k=b.value.substring(2,3),Q=b.value.substring(3,4);return vu(parseInt(_+_,16),parseInt(T+T,16),parseInt(k+k,16),parseInt(Q+Q,16)/255)}if(b.value.length===6){var _=b.value.substring(0,2),T=b.value.substring(2,4),k=b.value.substring(4,6);return vu(parseInt(_,16),parseInt(T,16),parseInt(k,16),1)}if(b.value.length===8){var _=b.value.substring(0,2),T=b.value.substring(2,4),k=b.value.substring(4,6),Q=b.value.substring(6,8);return vu(parseInt(_,16),parseInt(T,16),parseInt(k,16),parseInt(Q,16)/255)}}if(b.type===20){var X=Cl[b.value.toUpperCase()];if(typeof X<"u")return X}return Cl.TRANSPARENT}},bu=function(v){return(255&v)===0},Is=function(v){var b=255&v,w=255&v>>8,_=255&v>>16,T=255&v>>24;return b<255?"rgba("+T+","+_+","+w+","+b/255+")":"rgb("+T+","+_+","+w+")"},vu=function(v,b,w,_){return(v<<24|b<<16|w<<8|Math.round(_*255)<<0)>>>0},VB=function(v,b){if(v.type===17)return v.number;if(v.type===16){var w=b===3?1:255;return b===3?v.number/100*w:Math.round(v.number/100*w)}return 0},NB=function(v,b){var w=b.filter(rd);if(w.length===3){var _=w.map(VB),T=_[0],k=_[1],Q=_[2];return vu(T,k,Q,1)}if(w.length===4){var X=w.map(VB),T=X[0],k=X[1],Q=X[2],j=X[3];return vu(T,k,Q,j)}return 0};function yv(v,b,w){return w<0&&(w+=1),w>=1&&(w-=1),w<1/6?(b-v)*w*6+v:w<1/2?b:w<2/3?(b-v)*6*(2/3-w)+v:v}var QB=function(v,b){var w=b.filter(rd),_=w[0],T=w[1],k=w[2],Q=w[3],X=(_.type===17?vn(_.number):Sm.parse(v,_))/(Math.PI*2),j=ds(T)?T.number/100:0,se=ds(k)?k.number/100:0,oe=typeof Q<"u"&&ds(Q)?Cr(Q,1):1;if(j===0)return vu(se*255,se*255,se*255,1);var Ae=se<=.5?se*(j+1):se+j-se*j,Ce=se*2-Ae,ot=yv(Ce,Ae,X+1/3),Me=yv(Ce,Ae,X),Ze=yv(Ce,Ae,X-1/3);return vu(ot*255,Me*255,Ze*255,oe)},wk={hsl:QB,hsla:QB,rgb:NB,rgba:NB},jA=function(v,b){return yu.parse(v,OB.create(b).parseComponentValue())},Cl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ck={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(v,b){return b.map(function(w){if(ur(w))switch(w.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Bk={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Pm=function(v,b){var w=yu.parse(v,b[0]),_=b[1];return _&&ds(_)?{color:w,stop:_}:{color:w,stop:null}},HB=function(v,b){var w=v[0],_=v[v.length-1];w.stop===null&&(w.stop=Qs),_.stop===null&&(_.stop=gu);for(var T=[],k=0,Q=0;Q<v.length;Q++){var X=v[Q].stop;if(X!==null){var j=Cr(X,b);j>k?T.push(j):T.push(k),k=j}else T.push(null)}for(var se=null,Q=0;Q<T.length;Q++){var oe=T[Q];if(oe===null)se===null&&(se=Q);else if(se!==null){for(var Ae=Q-se,Ce=T[se-1],ot=(oe-Ce)/(Ae+1),Me=1;Me<=Ae;Me++)T[se+Me-1]=ot*Me;se=null}}return v.map(function(Ze,ni){var vt=Ze.color;return{color:vt,stop:Math.max(Math.min(1,T[ni]/b),0)}})},Sk=function(v,b,w){var _=b/2,T=w/2,k=Cr(v[0],b)-_,Q=T-Cr(v[1],w);return(Math.atan2(Q,k)+Math.PI*2)%(Math.PI*2)},Pk=function(v,b,w){var _=typeof v=="number"?v:Sk(v,b,w),T=Math.abs(b*Math.sin(_))+Math.abs(w*Math.cos(_)),k=b/2,Q=w/2,X=T/2,j=Math.sin(_-Math.PI/2)*X,se=Math.cos(_-Math.PI/2)*X;return[T,k-se,k+se,Q-j,Q+j]},Yn=function(v,b){return Math.sqrt(v*v+b*b)},jB=function(v,b,w,_,T){var k=[[0,0],[0,b],[v,0],[v,b]];return k.reduce(function(Q,X){var j=X[0],se=X[1],oe=Yn(w-j,_-se);return(T?oe<Q.optimumDistance:oe>Q.optimumDistance)?{optimumCorner:X,optimumDistance:oe}:Q},{optimumDistance:T?1/0:-1/0,optimumCorner:null}).optimumCorner},Fk=function(v,b,w,_,T){var k=0,Q=0;switch(v.size){case 0:v.shape===0?k=Q=Math.min(Math.abs(b),Math.abs(b-_),Math.abs(w),Math.abs(w-T)):v.shape===1&&(k=Math.min(Math.abs(b),Math.abs(b-_)),Q=Math.min(Math.abs(w),Math.abs(w-T)));break;case 2:if(v.shape===0)k=Q=Math.min(Yn(b,w),Yn(b,w-T),Yn(b-_,w),Yn(b-_,w-T));else if(v.shape===1){var X=Math.min(Math.abs(w),Math.abs(w-T))/Math.min(Math.abs(b),Math.abs(b-_)),j=jB(_,T,b,w,!0),se=j[0],oe=j[1];k=Yn(se-b,(oe-w)/X),Q=X*k}break;case 1:v.shape===0?k=Q=Math.max(Math.abs(b),Math.abs(b-_),Math.abs(w),Math.abs(w-T)):v.shape===1&&(k=Math.max(Math.abs(b),Math.abs(b-_)),Q=Math.max(Math.abs(w),Math.abs(w-T)));break;case 3:if(v.shape===0)k=Q=Math.max(Yn(b,w),Yn(b,w-T),Yn(b-_,w),Yn(b-_,w-T));else if(v.shape===1){var X=Math.max(Math.abs(w),Math.abs(w-T))/Math.max(Math.abs(b),Math.abs(b-_)),Ae=jB(_,T,b,w,!1),se=Ae[0],oe=Ae[1];k=Yn(se-b,(oe-w)/X),Q=X*k}break}return Array.isArray(v.size)&&(k=Cr(v.size[0],_),Q=v.size.length===2?Cr(v.size[1],T):k),[k,Q]},Tk=function(v,b){var w=vn(180),_=[];return Oo(b).forEach(function(T,k){if(k===0){var Q=T[0];if(Q.type===20&&Q.value==="to"){w=UB(T);return}else if(RB(Q)){w=Sm.parse(v,Q);return}}var X=Pm(v,T);_.push(X)}),{angle:w,stops:_,type:1}},Fm=function(v,b){var w=vn(180),_=[];return Oo(b).forEach(function(T,k){if(k===0){var Q=T[0];if(Q.type===20&&["top","left","right","bottom"].indexOf(Q.value)!==-1){w=UB(T);return}else if(RB(Q)){w=(Sm.parse(v,Q)+vn(270))%vn(360);return}}var X=Pm(v,T);_.push(X)}),{angle:w,stops:_,type:1}},Dk=function(v,b){var w=vn(180),_=[],T=1,k=0,Q=3,X=[];return Oo(b).forEach(function(j,se){var oe=j[0];if(se===0){if(ur(oe)&&oe.value==="linear"){T=1;return}else if(ur(oe)&&oe.value==="radial"){T=2;return}}if(oe.type===18){if(oe.name==="from"){var Ae=yu.parse(v,oe.values[0]);_.push({stop:Qs,color:Ae})}else if(oe.name==="to"){var Ae=yu.parse(v,oe.values[0]);_.push({stop:gu,color:Ae})}else if(oe.name==="color-stop"){var Ce=oe.values.filter(rd);if(Ce.length===2){var Ae=yu.parse(v,Ce[1]),ot=Ce[0];id(ot)&&_.push({stop:{type:16,number:ot.number*100,flags:ot.flags},color:Ae})}}}}),T===1?{angle:(w+vn(180))%vn(360),stops:_,type:T}:{size:Q,shape:k,stops:_,position:X,type:T}},XB="closest-side",WB="farthest-side",zB="closest-corner",GB="farthest-corner",YB="circle",KB="ellipse",ZB="cover",qB="contain",Ok=function(v,b){var w=0,_=3,T=[],k=[];return Oo(b).forEach(function(Q,X){var j=!0;if(X===0){var se=!1;j=Q.reduce(function(Ae,Ce){if(se)if(ur(Ce))switch(Ce.value){case"center":return k.push(gv),Ae;case"top":case"left":return k.push(Qs),Ae;case"right":case"bottom":return k.push(gu),Ae}else(ds(Ce)||mu(Ce))&&k.push(Ce);else if(ur(Ce))switch(Ce.value){case YB:return w=0,!1;case KB:return w=1,!1;case"at":return se=!0,!1;case XB:return _=0,!1;case ZB:case WB:return _=1,!1;case qB:case zB:return _=2,!1;case GB:return _=3,!1}else if(mu(Ce)||ds(Ce))return Array.isArray(_)||(_=[]),_.push(Ce),!1;return Ae},j)}if(j){var oe=Pm(v,Q);T.push(oe)}}),{size:_,shape:w,stops:T,position:k,type:2}},Tm=function(v,b){var w=0,_=3,T=[],k=[];return Oo(b).forEach(function(Q,X){var j=!0;if(X===0?j=Q.reduce(function(oe,Ae){if(ur(Ae))switch(Ae.value){case"center":return k.push(gv),!1;case"top":case"left":return k.push(Qs),!1;case"right":case"bottom":return k.push(gu),!1}else if(ds(Ae)||mu(Ae))return k.push(Ae),!1;return oe},j):X===1&&(j=Q.reduce(function(oe,Ae){if(ur(Ae))switch(Ae.value){case YB:return w=0,!1;case KB:return w=1,!1;case qB:case XB:return _=0,!1;case WB:return _=1,!1;case zB:return _=2,!1;case ZB:case GB:return _=3,!1}else if(mu(Ae)||ds(Ae))return Array.isArray(_)||(_=[]),_.push(Ae),!1;return oe},j)),j){var se=Pm(v,Q);T.push(se)}}),{size:_,shape:w,stops:T,position:k,type:2}},Lk=function(v){return v.type===1},Ik=function(v){return v.type===2},bv={name:"image",parse:function(v,b){if(b.type===22){var w={url:b.value,type:0};return v.cache.addImage(b.value),w}if(b.type===18){var _=JB[b.name];if(typeof _>"u")throw new Error('Attempting to parse an unsupported image function "'+b.name+'"');return _(v,b.values)}throw new Error("Unsupported image type "+b.type)}};function $k(v){return!(v.type===20&&v.value==="none")&&(v.type!==18||!!JB[v.name])}var JB={"linear-gradient":Tk,"-moz-linear-gradient":Fm,"-ms-linear-gradient":Fm,"-o-linear-gradient":Fm,"-webkit-linear-gradient":Fm,"radial-gradient":Ok,"-moz-radial-gradient":Tm,"-ms-radial-gradient":Tm,"-o-radial-gradient":Tm,"-webkit-radial-gradient":Tm,"-webkit-gradient":Dk},kk={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(v,b){if(b.length===0)return[];var w=b[0];return w.type===20&&w.value==="none"?[]:b.filter(function(_){return rd(_)&&$k(_)}).map(function(_){return bv.parse(v,_)})}},Ek={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(v,b){return b.map(function(w){if(ur(w))switch(w.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Mk={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(v,b){return Oo(b).map(function(w){return w.filter(ds)}).map(IB)}},Rk={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(v,b){return Oo(b).map(function(w){return w.filter(ur).map(function(_){return _.value}).join(" ")}).map(Uk)}},Uk=function(v){switch(v){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},sd;(function(v){v.AUTO="auto",v.CONTAIN="contain",v.COVER="cover"})(sd||(sd={}));var Vk={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(v,b){return Oo(b).map(function(w){return w.filter(Nk)})}},Nk=function(v){return ur(v)||ds(v)},Dm=function(v){return{name:"border-"+v+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Qk=Dm("top"),Hk=Dm("right"),jk=Dm("bottom"),Xk=Dm("left"),Om=function(v){return{name:"border-radius-"+v,initialValue:"0 0",prefix:!1,type:1,parse:function(b,w){return IB(w.filter(ds))}}},Wk=Om("top-left"),zk=Om("top-right"),Gk=Om("bottom-right"),Yk=Om("bottom-left"),Lm=function(v){return{name:"border-"+v+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(b,w){switch(w){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Kk=Lm("top"),Zk=Lm("right"),qk=Lm("bottom"),Jk=Lm("left"),Im=function(v){return{name:"border-"+v+"-width",initialValue:"0",type:0,prefix:!1,parse:function(b,w){return QA(w)?w.number:0}}},eE=Im("top"),tE=Im("right"),iE=Im("bottom"),rE=Im("left"),sE={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},aE={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(v,b){switch(b){case"rtl":return 1;case"ltr":default:return 0}}},nE={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(v,b){return b.filter(ur).reduce(function(w,_){return w|oE(_.value)},0)}},oE=function(v){switch(v){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},lE={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(v,b){switch(b){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},uE={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(v,b){return b.type===20&&b.value==="normal"?0:b.type===17||b.type===15?b.number:0}},$m;(function(v){v.NORMAL="normal",v.STRICT="strict"})($m||($m={}));var hE={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(v,b){switch(b){case"strict":return $m.STRICT;case"normal":default:return $m.NORMAL}}},cE={name:"line-height",initialValue:"normal",prefix:!1,type:4},eS=function(v,b){return ur(v)&&v.value==="normal"?1.2*b:v.type===17?b*v.number:ds(v)?Cr(v,b):b},dE={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(v,b){return b.type===20&&b.value==="none"?null:bv.parse(v,b)}},AE={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(v,b){switch(b){case"inside":return 0;case"outside":default:return 1}}},vv={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(v,b){switch(b){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},km=function(v){return{name:"margin-"+v,initialValue:"0",prefix:!1,type:4}},fE=km("top"),pE=km("right"),mE=km("bottom"),gE=km("left"),yE={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(v,b){return b.filter(ur).map(function(w){switch(w.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},bE={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(v,b){switch(b){case"break-word":return"break-word";case"normal":default:return"normal"}}},Em=function(v){return{name:"padding-"+v,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},vE=Em("top"),xE=Em("right"),_E=Em("bottom"),wE=Em("left"),CE={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(v,b){switch(b){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},BE={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(v,b){switch(b){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},SE={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(v,b){return b.length===1&&mv(b[0],"none")?[]:Oo(b).map(function(w){for(var _={color:Cl.TRANSPARENT,offsetX:Qs,offsetY:Qs,blur:Qs},T=0,k=0;k<w.length;k++){var Q=w[k];mu(Q)?(T===0?_.offsetX=Q:T===1?_.offsetY=Q:_.blur=Q,T++):_.color=yu.parse(v,Q)}return _})}},PE={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(v,b){switch(b){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},FE={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(v,b){if(b.type===20&&b.value==="none")return null;if(b.type===18){var w=OE[b.name];if(typeof w>"u")throw new Error('Attempting to parse an unsupported transform function "'+b.name+'"');return w(b.values)}return null}},TE=function(v){var b=v.filter(function(w){return w.type===17}).map(function(w){return w.number});return b.length===6?b:null},DE=function(v){var b=v.filter(function(j){return j.type===17}).map(function(j){return j.number}),w=b[0],_=b[1];b[2],b[3];var T=b[4],k=b[5];b[6],b[7],b[8],b[9],b[10],b[11];var Q=b[12],X=b[13];return b[14],b[15],b.length===16?[w,_,T,k,Q,X]:null},OE={matrix:TE,matrix3d:DE},tS={type:16,number:50,flags:MA},LE=[tS,tS],IE={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(v,b){var w=b.filter(ds);return w.length!==2?LE:[w[0],w[1]]}},$E={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(v,b){switch(b){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},XA;(function(v){v.NORMAL="normal",v.BREAK_ALL="break-all",v.KEEP_ALL="keep-all"})(XA||(XA={}));for(var kE={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(v,b){switch(b){case"break-all":return XA.BREAK_ALL;case"keep-all":return XA.KEEP_ALL;case"normal":default:return XA.NORMAL}}},EE={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(v,b){if(b.type===20)return{auto:!0,order:0};if(id(b))return{auto:!1,order:b.number};throw new Error("Invalid z-index number parsed")}},iS={name:"time",parse:function(v,b){if(b.type===15)switch(b.unit.toLowerCase()){case"s":return 1e3*b.number;case"ms":return b.number}throw new Error("Unsupported time type")}},ME={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(v,b){return id(b)?b.number:1}},RE={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},UE={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(v,b){return b.filter(ur).map(function(w){switch(w.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(w){return w!==0})}},VE={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(v,b){var w=[],_=[];return b.forEach(function(T){switch(T.type){case 20:case 0:w.push(T.value);break;case 17:w.push(T.number.toString());break;case 4:_.push(w.join(" ")),w.length=0;break}}),w.length&&_.push(w.join(" ")),_.map(function(T){return T.indexOf(" ")===-1?T:"'"+T+"'"})}},NE={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},QE={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(v,b){if(id(b))return b.number;if(ur(b))switch(b.value){case"bold":return 700;case"normal":default:return 400}return 400}},HE={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(v,b){return b.filter(ur).map(function(w){return w.value})}},jE={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(v,b){switch(b){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},xs=function(v,b){return(v&b)!==0},XE={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(v,b){if(b.length===0)return[];var w=b[0];return w.type===20&&w.value==="none"?[]:b}},WE={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(v,b){if(b.length===0)return null;var w=b[0];if(w.type===20&&w.value==="none")return null;for(var _=[],T=b.filter(LB),k=0;k<T.length;k++){var Q=T[k],X=T[k+1];if(Q.type===20){var j=X&&id(X)?X.number:1;_.push({counter:Q.value,increment:j})}}return _}},zE={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(v,b){if(b.length===0)return[];for(var w=[],_=b.filter(LB),T=0;T<_.length;T++){var k=_[T],Q=_[T+1];if(ur(k)&&k.value!=="none"){var X=Q&&id(Q)?Q.number:0;w.push({counter:k.value,reset:X})}}return w}},GE={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(v,b){return b.filter(QA).map(function(w){return iS.parse(v,w)})}},YE={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(v,b){if(b.length===0)return null;var w=b[0];if(w.type===20&&w.value==="none")return null;var _=[],T=b.filter(xk);if(T.length%2!==0)return null;for(var k=0;k<T.length;k+=2){var Q=T[k].value,X=T[k+1].value;_.push({open:Q,close:X})}return _}},rS=function(v,b,w){if(!v)return"";var _=v[Math.min(b,v.length-1)];return _?w?_.open:_.close:""},KE={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(v,b){return b.length===1&&mv(b[0],"none")?[]:Oo(b).map(function(w){for(var _={color:255,offsetX:Qs,offsetY:Qs,blur:Qs,spread:Qs,inset:!1},T=0,k=0;k<w.length;k++){var Q=w[k];mv(Q,"inset")?_.inset=!0:mu(Q)?(T===0?_.offsetX=Q:T===1?_.offsetY=Q:T===2?_.blur=Q:_.spread=Q,T++):_.color=yu.parse(v,Q)}return _})}},ZE={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(v,b){var w=[0,1,2],_=[];return b.filter(ur).forEach(function(T){switch(T.value){case"stroke":_.push(1);break;case"fill":_.push(0);break;case"markers":_.push(2);break}}),w.forEach(function(T){_.indexOf(T)===-1&&_.push(T)}),_}},qE={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},JE={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(v,b){return QA(b)?b.number:0}},eM=function(){function v(b,w){var _,T;this.animationDuration=ct(b,GE,w.animationDuration),this.backgroundClip=ct(b,Ck,w.backgroundClip),this.backgroundColor=ct(b,Bk,w.backgroundColor),this.backgroundImage=ct(b,kk,w.backgroundImage),this.backgroundOrigin=ct(b,Ek,w.backgroundOrigin),this.backgroundPosition=ct(b,Mk,w.backgroundPosition),this.backgroundRepeat=ct(b,Rk,w.backgroundRepeat),this.backgroundSize=ct(b,Vk,w.backgroundSize),this.borderTopColor=ct(b,Qk,w.borderTopColor),this.borderRightColor=ct(b,Hk,w.borderRightColor),this.borderBottomColor=ct(b,jk,w.borderBottomColor),this.borderLeftColor=ct(b,Xk,w.borderLeftColor),this.borderTopLeftRadius=ct(b,Wk,w.borderTopLeftRadius),this.borderTopRightRadius=ct(b,zk,w.borderTopRightRadius),this.borderBottomRightRadius=ct(b,Gk,w.borderBottomRightRadius),this.borderBottomLeftRadius=ct(b,Yk,w.borderBottomLeftRadius),this.borderTopStyle=ct(b,Kk,w.borderTopStyle),this.borderRightStyle=ct(b,Zk,w.borderRightStyle),this.borderBottomStyle=ct(b,qk,w.borderBottomStyle),this.borderLeftStyle=ct(b,Jk,w.borderLeftStyle),this.borderTopWidth=ct(b,eE,w.borderTopWidth),this.borderRightWidth=ct(b,tE,w.borderRightWidth),this.borderBottomWidth=ct(b,iE,w.borderBottomWidth),this.borderLeftWidth=ct(b,rE,w.borderLeftWidth),this.boxShadow=ct(b,KE,w.boxShadow),this.color=ct(b,sE,w.color),this.direction=ct(b,aE,w.direction),this.display=ct(b,nE,w.display),this.float=ct(b,lE,w.cssFloat),this.fontFamily=ct(b,VE,w.fontFamily),this.fontSize=ct(b,NE,w.fontSize),this.fontStyle=ct(b,jE,w.fontStyle),this.fontVariant=ct(b,HE,w.fontVariant),this.fontWeight=ct(b,QE,w.fontWeight),this.letterSpacing=ct(b,uE,w.letterSpacing),this.lineBreak=ct(b,hE,w.lineBreak),this.lineHeight=ct(b,cE,w.lineHeight),this.listStyleImage=ct(b,dE,w.listStyleImage),this.listStylePosition=ct(b,AE,w.listStylePosition),this.listStyleType=ct(b,vv,w.listStyleType),this.marginTop=ct(b,fE,w.marginTop),this.marginRight=ct(b,pE,w.marginRight),this.marginBottom=ct(b,mE,w.marginBottom),this.marginLeft=ct(b,gE,w.marginLeft),this.opacity=ct(b,ME,w.opacity);var k=ct(b,yE,w.overflow);this.overflowX=k[0],this.overflowY=k[k.length>1?1:0],this.overflowWrap=ct(b,bE,w.overflowWrap),this.paddingTop=ct(b,vE,w.paddingTop),this.paddingRight=ct(b,xE,w.paddingRight),this.paddingBottom=ct(b,_E,w.paddingBottom),this.paddingLeft=ct(b,wE,w.paddingLeft),this.paintOrder=ct(b,ZE,w.paintOrder),this.position=ct(b,BE,w.position),this.textAlign=ct(b,CE,w.textAlign),this.textDecorationColor=ct(b,RE,(_=w.textDecorationColor)!==null&&_!==void 0?_:w.color),this.textDecorationLine=ct(b,UE,(T=w.textDecorationLine)!==null&&T!==void 0?T:w.textDecoration),this.textShadow=ct(b,SE,w.textShadow),this.textTransform=ct(b,PE,w.textTransform),this.transform=ct(b,FE,w.transform),this.transformOrigin=ct(b,IE,w.transformOrigin),this.visibility=ct(b,$E,w.visibility),this.webkitTextStrokeColor=ct(b,qE,w.webkitTextStrokeColor),this.webkitTextStrokeWidth=ct(b,JE,w.webkitTextStrokeWidth),this.wordBreak=ct(b,kE,w.wordBreak),this.zIndex=ct(b,EE,w.zIndex)}return v.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},v.prototype.isTransparent=function(){return bu(this.backgroundColor)},v.prototype.isTransformed=function(){return this.transform!==null},v.prototype.isPositioned=function(){return this.position!==0},v.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},v.prototype.isFloating=function(){return this.float!==0},v.prototype.isInlineLevel=function(){return xs(this.display,4)||xs(this.display,33554432)||xs(this.display,268435456)||xs(this.display,536870912)||xs(this.display,67108864)||xs(this.display,134217728)},v}(),tM=function(){function v(b,w){this.content=ct(b,XE,w.content),this.quotes=ct(b,YE,w.quotes)}return v}(),sS=function(){function v(b,w){this.counterIncrement=ct(b,WE,w.counterIncrement),this.counterReset=ct(b,zE,w.counterReset)}return v}(),ct=function(v,b,w){var _=new DB,T=w!==null&&typeof w<"u"?w.toString():b.initialValue;_.write(T);var k=new OB(_.read());switch(b.type){case 2:var Q=k.parseComponentValue();return b.parse(v,ur(Q)?Q.value:b.initialValue);case 0:return b.parse(v,k.parseComponentValue());case 1:return b.parse(v,k.parseComponentValues());case 4:return k.parseComponentValue();case 3:switch(b.format){case"angle":return Sm.parse(v,k.parseComponentValue());case"color":return yu.parse(v,k.parseComponentValue());case"image":return bv.parse(v,k.parseComponentValue());case"length":var X=k.parseComponentValue();return mu(X)?X:Qs;case"length-percentage":var j=k.parseComponentValue();return ds(j)?j:Qs;case"time":return iS.parse(v,k.parseComponentValue())}break}},iM="data-html2canvas-debug",rM=function(v){var b=v.getAttribute(iM);switch(b){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},xv=function(v,b){var w=rM(v);return w===1||b===w},Lo=function(){function v(b,w){if(this.context=b,this.textNodes=[],this.elements=[],this.flags=0,xv(w,3))debugger;this.styles=new eM(b,window.getComputedStyle(w,null)),kv(w)&&(this.styles.animationDuration.some(function(_){return _>0})&&(w.style.animationDuration="0s"),this.styles.transform!==null&&(w.style.transform="none")),this.bounds=o(this.context,w),xv(w,4)&&(this.flags|=16)}return v}(),sM="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",aS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",WA=typeof Uint8Array>"u"?[]:new Uint8Array(256),Mm=0;Mm<aS.length;Mm++)WA[aS.charCodeAt(Mm)]=Mm;for(var aM=function(v){var b=v.length*.75,w=v.length,_,T=0,k,Q,X,j;v[v.length-1]==="="&&(b--,v[v.length-2]==="="&&b--);var se=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(b):new Array(b),oe=Array.isArray(se)?se:new Uint8Array(se);for(_=0;_<w;_+=4)k=WA[v.charCodeAt(_)],Q=WA[v.charCodeAt(_+1)],X=WA[v.charCodeAt(_+2)],j=WA[v.charCodeAt(_+3)],oe[T++]=k<<2|Q>>4,oe[T++]=(Q&15)<<4|X>>2,oe[T++]=(X&3)<<6|j&63;return se},nM=function(v){for(var b=v.length,w=[],_=0;_<b;_+=2)w.push(v[_+1]<<8|v[_]);return w},oM=function(v){for(var b=v.length,w=[],_=0;_<b;_+=4)w.push(v[_+3]<<24|v[_+2]<<16|v[_+1]<<8|v[_]);return w},Ph=5,_v=11,wv=2,lM=_v-Ph,nS=65536>>Ph,uM=1<<Ph,Cv=uM-1,hM=1024>>Ph,cM=nS+hM,dM=cM,AM=32,fM=dM+AM,pM=65536>>_v,mM=1<<lM,gM=mM-1,oS=function(v,b,w){return v.slice?v.slice(b,w):new Uint16Array(Array.prototype.slice.call(v,b,w))},yM=function(v,b,w){return v.slice?v.slice(b,w):new Uint32Array(Array.prototype.slice.call(v,b,w))},bM=function(v,b){var w=aM(v),_=Array.isArray(w)?oM(w):new Uint32Array(w),T=Array.isArray(w)?nM(w):new Uint16Array(w),k=24,Q=oS(T,k/2,_[4]/2),X=_[5]===2?oS(T,(k+_[4])/2):yM(_,Math.ceil((k+_[4])/4));return new vM(_[0],_[1],_[2],_[3],Q,X)},vM=function(){function v(b,w,_,T,k,Q){this.initialValue=b,this.errorValue=w,this.highStart=_,this.highValueIndex=T,this.index=k,this.data=Q}return v.prototype.get=function(b){var w;if(b>=0){if(b<55296||b>56319&&b<=65535)return w=this.index[b>>Ph],w=(w<<wv)+(b&Cv),this.data[w];if(b<=65535)return w=this.index[nS+(b-55296>>Ph)],w=(w<<wv)+(b&Cv),this.data[w];if(b<this.highStart)return w=fM-pM+(b>>_v),w=this.index[w],w+=b>>Ph&gM,w=this.index[w],w=(w<<wv)+(b&Cv),this.data[w];if(b<=1114111)return this.data[this.highValueIndex]}return this.errorValue},v}(),lS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xM=typeof Uint8Array>"u"?[]:new Uint8Array(256),Rm=0;Rm<lS.length;Rm++)xM[lS.charCodeAt(Rm)]=Rm;var _M=1,Bv=2,Sv=3,uS=4,hS=5,wM=7,cS=8,Pv=9,Fv=10,dS=11,AS=12,fS=13,pS=14,Tv=15,CM=function(v){for(var b=[],w=0,_=v.length;w<_;){var T=v.charCodeAt(w++);if(T>=55296&&T<=56319&&w<_){var k=v.charCodeAt(w++);(k&64512)===56320?b.push(((T&1023)<<10)+(k&1023)+65536):(b.push(T),w--)}else b.push(T)}return b},BM=function(){for(var v=[],b=0;b<arguments.length;b++)v[b]=arguments[b];if(String.fromCodePoint)return String.fromCodePoint.apply(String,v);var w=v.length;if(!w)return"";for(var _=[],T=-1,k="";++T<w;){var Q=v[T];Q<=65535?_.push(Q):(Q-=65536,_.push((Q>>10)+55296,Q%1024+56320)),(T+1===w||_.length>16384)&&(k+=String.fromCharCode.apply(String,_),_.length=0)}return k},SM=bM(sM),xn="\xD7",Dv="\xF7",PM=function(v){return SM.get(v)},FM=function(v,b,w){var _=w-2,T=b[_],k=b[w-1],Q=b[w];if(k===Bv&&Q===Sv)return xn;if(k===Bv||k===Sv||k===uS||Q===Bv||Q===Sv||Q===uS)return Dv;if(k===cS&&[cS,Pv,dS,AS].indexOf(Q)!==-1||(k===dS||k===Pv)&&(Q===Pv||Q===Fv)||(k===AS||k===Fv)&&Q===Fv||Q===fS||Q===hS||Q===wM||k===_M)return xn;if(k===fS&&Q===pS){for(;T===hS;)T=b[--_];if(T===pS)return xn}if(k===Tv&&Q===Tv){for(var X=0;T===Tv;)X++,T=b[--_];if(X%2===0)return xn}return Dv},TM=function(v){var b=CM(v),w=b.length,_=0,T=0,k=b.map(PM);return{next:function(){if(_>=w)return{done:!0,value:null};for(var Q=xn;_<w&&(Q=FM(b,k,++_))===xn;);if(Q!==xn||_===w){var X=BM.apply(null,b.slice(T,_));return T=_,{value:X,done:!1}}return{done:!0,value:null}}}},DM=function(v){for(var b=TM(v),w=[],_;!(_=b.next()).done;)_.value&&w.push(_.value.slice());return w},OM=function(v){var b=123;if(v.createRange){var w=v.createRange();if(w.getBoundingClientRect){var _=v.createElement("boundtest");_.style.height=b+"px",_.style.display="block",v.body.appendChild(_),w.selectNode(_);var T=w.getBoundingClientRect(),k=Math.round(T.height);if(v.body.removeChild(_),k===b)return!0}}return!1},LM=function(v){var b=v.createElement("boundtest");b.style.width="50px",b.style.display="block",b.style.fontSize="12px",b.style.letterSpacing="0px",b.style.wordSpacing="0px",v.body.appendChild(b);var w=v.createRange();b.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var _=b.firstChild,T=u(_.data).map(function(j){return h(j)}),k=0,Q={},X=T.every(function(j,se){w.setStart(_,k),w.setEnd(_,k+j.length);var oe=w.getBoundingClientRect();k+=j.length;var Ae=oe.x>Q.x||oe.y>Q.y;return Q=oe,se===0?!0:Ae});return v.body.removeChild(b),X},IM=function(){return typeof new Image().crossOrigin<"u"},$M=function(){return typeof new XMLHttpRequest().responseType=="string"},kM=function(v){var b=new Image,w=v.createElement("canvas"),_=w.getContext("2d");if(!_)return!1;b.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{_.drawImage(b,0,0),w.toDataURL()}catch{return!1}return!0},mS=function(v){return v[0]===0&&v[1]===255&&v[2]===0&&v[3]===255},EM=function(v){var b=v.createElement("canvas"),w=100;b.width=w,b.height=w;var _=b.getContext("2d");if(!_)return Promise.reject(!1);_.fillStyle="rgb(0, 255, 0)",_.fillRect(0,0,w,w);var T=new Image,k=b.toDataURL();T.src=k;var Q=Ov(w,w,0,0,T);return _.fillStyle="red",_.fillRect(0,0,w,w),gS(Q).then(function(X){_.drawImage(X,0,0);var j=_.getImageData(0,0,w,w).data;_.fillStyle="red",_.fillRect(0,0,w,w);var se=v.createElement("div");return se.style.backgroundImage="url("+k+")",se.style.height=w+"px",mS(j)?gS(Ov(w,w,0,0,se)):Promise.reject(!1)}).then(function(X){return _.drawImage(X,0,0),mS(_.getImageData(0,0,w,w).data)}).catch(function(){return!1})},Ov=function(v,b,w,_,T){var k="http://www.w3.org/2000/svg",Q=document.createElementNS(k,"svg"),X=document.createElementNS(k,"foreignObject");return Q.setAttributeNS(null,"width",v.toString()),Q.setAttributeNS(null,"height",b.toString()),X.setAttributeNS(null,"width","100%"),X.setAttributeNS(null,"height","100%"),X.setAttributeNS(null,"x",w.toString()),X.setAttributeNS(null,"y",_.toString()),X.setAttributeNS(null,"externalResourcesRequired","true"),Q.appendChild(X),X.appendChild(T),Q},gS=function(v){return new Promise(function(b,w){var _=new Image;_.onload=function(){return b(_)},_.onerror=w,_.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(v))})},Hs={get SUPPORT_RANGE_BOUNDS(){var v=OM(document);return Object.defineProperty(Hs,"SUPPORT_RANGE_BOUNDS",{value:v}),v},get SUPPORT_WORD_BREAKING(){var v=Hs.SUPPORT_RANGE_BOUNDS&&LM(document);return Object.defineProperty(Hs,"SUPPORT_WORD_BREAKING",{value:v}),v},get SUPPORT_SVG_DRAWING(){var v=kM(document);return Object.defineProperty(Hs,"SUPPORT_SVG_DRAWING",{value:v}),v},get SUPPORT_FOREIGNOBJECT_DRAWING(){var v=typeof Array.from=="function"&&typeof window.fetch=="function"?EM(document):Promise.resolve(!1);return Object.defineProperty(Hs,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:v}),v},get SUPPORT_CORS_IMAGES(){var v=IM();return Object.defineProperty(Hs,"SUPPORT_CORS_IMAGES",{value:v}),v},get SUPPORT_RESPONSE_TYPE(){var v=$M();return Object.defineProperty(Hs,"SUPPORT_RESPONSE_TYPE",{value:v}),v},get SUPPORT_CORS_XHR(){var v="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Hs,"SUPPORT_CORS_XHR",{value:v}),v},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var v=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Hs,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:v}),v}},zA=function(){function v(b,w){this.text=b,this.bounds=w}return v}(),MM=function(v,b,w,_){var T=VM(b,w),k=[],Q=0;return T.forEach(function(X){if(w.textDecorationLine.length||X.trim().length>0)if(Hs.SUPPORT_RANGE_BOUNDS){var j=yS(_,Q,X.length).getClientRects();if(j.length>1){var se=Lv(X),oe=0;se.forEach(function(Ce){k.push(new zA(Ce,n.fromDOMRectList(v,yS(_,oe+Q,Ce.length).getClientRects()))),oe+=Ce.length})}else k.push(new zA(X,n.fromDOMRectList(v,j)))}else{var Ae=_.splitText(X.length);k.push(new zA(X,RM(v,_))),_=Ae}else Hs.SUPPORT_RANGE_BOUNDS||(_=_.splitText(X.length));Q+=X.length}),k},RM=function(v,b){var w=b.ownerDocument;if(w){var _=w.createElement("html2canvaswrapper");_.appendChild(b.cloneNode(!0));var T=b.parentNode;if(T){T.replaceChild(_,b);var k=o(v,_);return _.firstChild&&T.replaceChild(_.firstChild,_),k}}return n.EMPTY},yS=function(v,b,w){var _=v.ownerDocument;if(!_)throw new Error("Node has no owner document");var T=_.createRange();return T.setStart(v,b),T.setEnd(v,b+w),T},Lv=function(v){if(Hs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var b=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(b.segment(v)).map(function(w){return w.segment})}return DM(v)},UM=function(v,b){if(Hs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var w=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(w.segment(v)).map(function(_){return _.segment})}return QM(v,b)},VM=function(v,b){return b.letterSpacing!==0?Lv(v):UM(v,b)},NM=[32,160,4961,65792,65793,4153,4241],QM=function(v,b){for(var w=p$(v,{lineBreak:b.lineBreak,wordBreak:b.overflowWrap==="break-word"?"break-word":b.wordBreak}),_=[],T,k=function(){if(T.value){var Q=T.value.slice(),X=u(Q),j="";X.forEach(function(se){NM.indexOf(se)===-1?j+=h(se):(j.length&&_.push(j),_.push(h(se)),j="")}),j.length&&_.push(j)}};!(T=w.next()).done;)k();return _},HM=function(){function v(b,w,_){this.text=jM(w.data,_.textTransform),this.textBounds=MM(b,this.text,_,w)}return v}(),jM=function(v,b){switch(b){case 1:return v.toLowerCase();case 3:return v.replace(XM,WM);case 2:return v.toUpperCase();default:return v}},XM=/(^|\s|:|-|\(|\))([a-z])/g,WM=function(v,b,w){return v.length>0?b+w.toUpperCase():v},bS=function(v){t(b,v);function b(w,_){var T=v.call(this,w,_)||this;return T.src=_.currentSrc||_.src,T.intrinsicWidth=_.naturalWidth,T.intrinsicHeight=_.naturalHeight,T.context.cache.addImage(T.src),T}return b}(Lo),vS=function(v){t(b,v);function b(w,_){var T=v.call(this,w,_)||this;return T.canvas=_,T.intrinsicWidth=_.width,T.intrinsicHeight=_.height,T}return b}(Lo),xS=function(v){t(b,v);function b(w,_){var T=v.call(this,w,_)||this,k=new XMLSerializer,Q=o(w,_);return _.setAttribute("width",Q.width+"px"),_.setAttribute("height",Q.height+"px"),T.svg="data:image/svg+xml,"+encodeURIComponent(k.serializeToString(_)),T.intrinsicWidth=_.width.baseVal.value,T.intrinsicHeight=_.height.baseVal.value,T.context.cache.addImage(T.svg),T}return b}(Lo),_S=function(v){t(b,v);function b(w,_){var T=v.call(this,w,_)||this;return T.value=_.value,T}return b}(Lo),Iv=function(v){t(b,v);function b(w,_){var T=v.call(this,w,_)||this;return T.start=_.start,T.reversed=typeof _.reversed=="boolean"&&_.reversed===!0,T}return b}(Lo),zM=[{type:15,flags:0,unit:"px",number:3}],GM=[{type:16,flags:0,number:50}],YM=function(v){return v.width>v.height?new n(v.left+(v.width-v.height)/2,v.top,v.height,v.height):v.width<v.height?new n(v.left,v.top+(v.height-v.width)/2,v.width,v.width):v},KM=function(v){var b=v.type===ZM?new Array(v.value.length+1).join("\u2022"):v.value;return b.length===0?v.placeholder||"":b},Um="checkbox",Vm="radio",ZM="password",wS=707406591,$v=function(v){t(b,v);function b(w,_){var T=v.call(this,w,_)||this;switch(T.type=_.type.toLowerCase(),T.checked=_.checked,T.value=KM(_),(T.type===Um||T.type===Vm)&&(T.styles.backgroundColor=3739148031,T.styles.borderTopColor=T.styles.borderRightColor=T.styles.borderBottomColor=T.styles.borderLeftColor=2779096575,T.styles.borderTopWidth=T.styles.borderRightWidth=T.styles.borderBottomWidth=T.styles.borderLeftWidth=1,T.styles.borderTopStyle=T.styles.borderRightStyle=T.styles.borderBottomStyle=T.styles.borderLeftStyle=1,T.styles.backgroundClip=[0],T.styles.backgroundOrigin=[0],T.bounds=YM(T.bounds)),T.type){case Um:T.styles.borderTopRightRadius=T.styles.borderTopLeftRadius=T.styles.borderBottomRightRadius=T.styles.borderBottomLeftRadius=zM;break;case Vm:T.styles.borderTopRightRadius=T.styles.borderTopLeftRadius=T.styles.borderBottomRightRadius=T.styles.borderBottomLeftRadius=GM;break}return T}return b}(Lo),CS=function(v){t(b,v);function b(w,_){var T=v.call(this,w,_)||this,k=_.options[_.selectedIndex||0];return T.value=k&&k.text||"",T}return b}(Lo),BS=function(v){t(b,v);function b(w,_){var T=v.call(this,w,_)||this;return T.value=_.value,T}return b}(Lo),SS=function(v){t(b,v);function b(w,_){var T=v.call(this,w,_)||this;T.src=_.src,T.width=parseInt(_.width,10)||0,T.height=parseInt(_.height,10)||0,T.backgroundColor=T.styles.backgroundColor;try{if(_.contentWindow&&_.contentWindow.document&&_.contentWindow.document.documentElement){T.tree=FS(w,_.contentWindow.document.documentElement);var k=_.contentWindow.document.documentElement?jA(w,getComputedStyle(_.contentWindow.document.documentElement).backgroundColor):Cl.TRANSPARENT,Q=_.contentWindow.document.body?jA(w,getComputedStyle(_.contentWindow.document.body).backgroundColor):Cl.TRANSPARENT;T.backgroundColor=bu(k)?bu(Q)?T.styles.backgroundColor:Q:k}}catch{}return T}return b}(Lo),qM=["OL","UL","MENU"],Nm=function(v,b,w,_){for(var T=b.firstChild,k=void 0;T;T=k)if(k=T.nextSibling,TS(T)&&T.data.trim().length>0)w.textNodes.push(new HM(v,T,w.styles));else if(ad(T))if(kS(T)&&T.assignedNodes)T.assignedNodes().forEach(function(X){return Nm(v,X,w,_)});else{var Q=PS(v,T);Q.styles.isVisible()&&(JM(T,Q,_)?Q.flags|=4:eR(Q.styles)&&(Q.flags|=2),qM.indexOf(T.tagName)!==-1&&(Q.flags|=8),w.elements.push(Q),T.slot,T.shadowRoot?Nm(v,T.shadowRoot,Q,_):!Hm(T)&&!DS(T)&&!jm(T)&&Nm(v,T,Q,_))}},PS=function(v,b){return Mv(b)?new bS(v,b):OS(b)?new vS(v,b):DS(b)?new xS(v,b):tR(b)?new _S(v,b):iR(b)?new Iv(v,b):rR(b)?new $v(v,b):jm(b)?new CS(v,b):Hm(b)?new BS(v,b):IS(b)?new SS(v,b):new Lo(v,b)},FS=function(v,b){var w=PS(v,b);return w.flags|=4,Nm(v,b,w,w),w},JM=function(v,b,w){return b.styles.isPositionedWithZIndex()||b.styles.opacity<1||b.styles.isTransformed()||Ev(v)&&w.styles.isTransparent()},eR=function(v){return v.isPositioned()||v.isFloating()},TS=function(v){return v.nodeType===Node.TEXT_NODE},ad=function(v){return v.nodeType===Node.ELEMENT_NODE},kv=function(v){return ad(v)&&typeof v.style<"u"&&!Qm(v)},Qm=function(v){return typeof v.className=="object"},tR=function(v){return v.tagName==="LI"},iR=function(v){return v.tagName==="OL"},rR=function(v){return v.tagName==="INPUT"},sR=function(v){return v.tagName==="HTML"},DS=function(v){return v.tagName==="svg"},Ev=function(v){return v.tagName==="BODY"},OS=function(v){return v.tagName==="CANVAS"},LS=function(v){return v.tagName==="VIDEO"},Mv=function(v){return v.tagName==="IMG"},IS=function(v){return v.tagName==="IFRAME"},$S=function(v){return v.tagName==="STYLE"},aR=function(v){return v.tagName==="SCRIPT"},Hm=function(v){return v.tagName==="TEXTAREA"},jm=function(v){return v.tagName==="SELECT"},kS=function(v){return v.tagName==="SLOT"},ES=function(v){return v.tagName.indexOf("-")>0},nR=function(){function v(){this.counters={}}return v.prototype.getCounterValue=function(b){var w=this.counters[b];return w&&w.length?w[w.length-1]:1},v.prototype.getCounterValues=function(b){var w=this.counters[b];return w||[]},v.prototype.pop=function(b){var w=this;b.forEach(function(_){return w.counters[_].pop()})},v.prototype.parse=function(b){var w=this,_=b.counterIncrement,T=b.counterReset,k=!0;_!==null&&_.forEach(function(X){var j=w.counters[X.counter];j&&X.increment!==0&&(k=!1,j.length||j.push(1),j[Math.max(0,j.length-1)]+=X.increment)});var Q=[];return k&&T.forEach(function(X){var j=w.counters[X.counter];Q.push(X.counter),j||(j=w.counters[X.counter]=[]),j.push(X.reset)}),Q},v}(),MS={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},RS={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054F","\u054E","\u054D","\u054C","\u054B","\u054A","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053F","\u053E","\u053D","\u053C","\u053B","\u053A","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},oR={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05D9\u05F3","\u05D8\u05F3","\u05D7\u05F3","\u05D6\u05F3","\u05D5\u05F3","\u05D4\u05F3","\u05D3\u05F3","\u05D2\u05F3","\u05D1\u05F3","\u05D0\u05F3","\u05EA","\u05E9","\u05E8","\u05E7","\u05E6","\u05E4","\u05E2","\u05E1","\u05E0","\u05DE","\u05DC","\u05DB","\u05D9\u05D8","\u05D9\u05D7","\u05D9\u05D6","\u05D8\u05D6","\u05D8\u05D5","\u05D9","\u05D8","\u05D7","\u05D6","\u05D5","\u05D4","\u05D3","\u05D2","\u05D1","\u05D0"]},lR={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10F5","\u10F0","\u10EF","\u10F4","\u10EE","\u10ED","\u10EC","\u10EB","\u10EA","\u10E9","\u10E8","\u10E7","\u10E6","\u10E5","\u10E4","\u10F3","\u10E2","\u10E1","\u10E0","\u10DF","\u10DE","\u10DD","\u10F2","\u10DC","\u10DB","\u10DA","\u10D9","\u10D8","\u10D7","\u10F1","\u10D6","\u10D5","\u10D4","\u10D3","\u10D2","\u10D1","\u10D0"]},nd=function(v,b,w,_,T,k){return v<b||v>w?YA(v,T,k.length>0):_.integers.reduce(function(Q,X,j){for(;v>=X;)v-=X,Q+=_.values[j];return Q},"")+k},US=function(v,b,w,_){var T="";do w||v--,T=_(v)+T,v/=b;while(v*b>=b);return T},es=function(v,b,w,_,T){var k=w-b+1;return(v<0?"-":"")+(US(Math.abs(v),k,_,function(Q){return h(Math.floor(Q%k)+b)})+T)},Fh=function(v,b,w){w===void 0&&(w=". ");var _=b.length;return US(Math.abs(v),_,!1,function(T){return b[Math.floor(T%_)]})+w},od=1,xu=2,_u=4,GA=8,Bl=function(v,b,w,_,T,k){if(v<-9999||v>9999)return YA(v,4,T.length>0);var Q=Math.abs(v),X=T;if(Q===0)return b[0]+X;for(var j=0;Q>0&&j<=4;j++){var se=Q%10;se===0&&xs(k,od)&&X!==""?X=b[se]+X:se>1||se===1&&j===0||se===1&&j===1&&xs(k,xu)||se===1&&j===1&&xs(k,_u)&&v>100||se===1&&j>1&&xs(k,GA)?X=b[se]+(j>0?w[j-1]:"")+X:se===1&&j>0&&(X=w[j-1]+X),Q=Math.floor(Q/10)}return(v<0?_:"")+X},VS="\u5341\u767E\u5343\u842C",NS="\u62FE\u4F70\u4EDF\u842C",QS="\u30DE\u30A4\u30CA\u30B9",Rv="\uB9C8\uC774\uB108\uC2A4",YA=function(v,b,w){var _=w?". ":"",T=w?"\u3001":"",k=w?", ":"",Q=w?" ":"";switch(b){case 0:return"\u2022"+Q;case 1:return"\u25E6"+Q;case 2:return"\u25FE"+Q;case 5:var X=es(v,48,57,!0,_);return X.length<4?"0"+X:X;case 4:return Fh(v,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",T);case 6:return nd(v,1,3999,MS,3,_).toLowerCase();case 7:return nd(v,1,3999,MS,3,_);case 8:return es(v,945,969,!1,_);case 9:return es(v,97,122,!1,_);case 10:return es(v,65,90,!1,_);case 11:return es(v,1632,1641,!0,_);case 12:case 49:return nd(v,1,9999,RS,3,_);case 35:return nd(v,1,9999,RS,3,_).toLowerCase();case 13:return es(v,2534,2543,!0,_);case 14:case 30:return es(v,6112,6121,!0,_);case 15:return Fh(v,"\u5B50\u4E11\u5BC5\u536F\u8FB0\u5DF3\u5348\u672A\u7533\u9149\u620C\u4EA5",T);case 16:return Fh(v,"\u7532\u4E59\u4E19\u4E01\u620A\u5DF1\u5E9A\u8F9B\u58EC\u7678",T);case 17:case 48:return Bl(v,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",VS,"\u8CA0",T,xu|_u|GA);case 47:return Bl(v,"\u96F6\u58F9\u8CB3\u53C3\u8086\u4F0D\u9678\u67D2\u634C\u7396",NS,"\u8CA0",T,od|xu|_u|GA);case 42:return Bl(v,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",VS,"\u8D1F",T,xu|_u|GA);case 41:return Bl(v,"\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396",NS,"\u8D1F",T,od|xu|_u|GA);case 26:return Bl(v,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u4E07",QS,T,0);case 25:return Bl(v,"\u96F6\u58F1\u5F10\u53C2\u56DB\u4F0D\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343\u4E07",QS,T,od|xu|_u);case 31:return Bl(v,"\uC601\uC77C\uC774\uC0BC\uC0AC\uC624\uC721\uCE60\uD314\uAD6C","\uC2ED\uBC31\uCC9C\uB9CC",Rv,k,od|xu|_u);case 33:return Bl(v,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u842C",Rv,k,0);case 32:return Bl(v,"\u96F6\u58F9\u8CB3\u53C3\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343",Rv,k,od|xu|_u);case 18:return es(v,2406,2415,!0,_);case 20:return nd(v,1,19999,lR,3,_);case 21:return es(v,2790,2799,!0,_);case 22:return es(v,2662,2671,!0,_);case 22:return nd(v,1,10999,oR,3,_);case 23:return Fh(v,"\u3042\u3044\u3046\u3048\u304A\u304B\u304D\u304F\u3051\u3053\u3055\u3057\u3059\u305B\u305D\u305F\u3061\u3064\u3066\u3068\u306A\u306B\u306C\u306D\u306E\u306F\u3072\u3075\u3078\u307B\u307E\u307F\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308A\u308B\u308C\u308D\u308F\u3090\u3091\u3092\u3093");case 24:return Fh(v,"\u3044\u308D\u306F\u306B\u307B\u3078\u3068\u3061\u308A\u306C\u308B\u3092\u308F\u304B\u3088\u305F\u308C\u305D\u3064\u306D\u306A\u3089\u3080\u3046\u3090\u306E\u304A\u304F\u3084\u307E\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304D\u3086\u3081\u307F\u3057\u3091\u3072\u3082\u305B\u3059");case 27:return es(v,3302,3311,!0,_);case 28:return Fh(v,"\u30A2\u30A4\u30A6\u30A8\u30AA\u30AB\u30AD\u30AF\u30B1\u30B3\u30B5\u30B7\u30B9\u30BB\u30BD\u30BF\u30C1\u30C4\u30C6\u30C8\u30CA\u30CB\u30CC\u30CD\u30CE\u30CF\u30D2\u30D5\u30D8\u30DB\u30DE\u30DF\u30E0\u30E1\u30E2\u30E4\u30E6\u30E8\u30E9\u30EA\u30EB\u30EC\u30ED\u30EF\u30F0\u30F1\u30F2\u30F3",T);case 29:return Fh(v,"\u30A4\u30ED\u30CF\u30CB\u30DB\u30D8\u30C8\u30C1\u30EA\u30CC\u30EB\u30F2\u30EF\u30AB\u30E8\u30BF\u30EC\u30BD\u30C4\u30CD\u30CA\u30E9\u30E0\u30A6\u30F0\u30CE\u30AA\u30AF\u30E4\u30DE\u30B1\u30D5\u30B3\u30A8\u30C6\u30A2\u30B5\u30AD\u30E6\u30E1\u30DF\u30B7\u30F1\u30D2\u30E2\u30BB\u30B9",T);case 34:return es(v,3792,3801,!0,_);case 37:return es(v,6160,6169,!0,_);case 38:return es(v,4160,4169,!0,_);case 39:return es(v,2918,2927,!0,_);case 40:return es(v,1776,1785,!0,_);case 43:return es(v,3046,3055,!0,_);case 44:return es(v,3174,3183,!0,_);case 45:return es(v,3664,3673,!0,_);case 46:return es(v,3872,3881,!0,_);case 3:default:return es(v,48,57,!0,_)}},HS="data-html2canvas-ignore",jS=function(){function v(b,w,_){if(this.context=b,this.options=_,this.scrolledElements=[],this.referenceElement=w,this.counters=new nR,this.quoteDepth=0,!w.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(w.ownerDocument.documentElement,!1)}return v.prototype.toIFrame=function(b,w){var _=this,T=uR(b,w);if(!T.contentWindow)return Promise.reject("Unable to find iframe window");var k=b.defaultView.pageXOffset,Q=b.defaultView.pageYOffset,X=T.contentWindow,j=X.document,se=dR(T).then(function(){return i(_,void 0,void 0,function(){var oe,Ae;return r(this,function(Ce){switch(Ce.label){case 0:return this.scrolledElements.forEach(mR),X&&(X.scrollTo(w.left,w.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(X.scrollY!==w.top||X.scrollX!==w.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(X.scrollX-w.left,X.scrollY-w.top,0,0))),oe=this.options.onclone,Ae=this.clonedReferenceElement,typeof Ae>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:j.fonts&&j.fonts.ready?[4,j.fonts.ready]:[3,2];case 1:Ce.sent(),Ce.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,cR(j)]:[3,4];case 3:Ce.sent(),Ce.label=4;case 4:return typeof oe=="function"?[2,Promise.resolve().then(function(){return oe(j,Ae)}).then(function(){return T})]:[2,T]}})})});return j.open(),j.write(fR(document.doctype)+"<html></html>"),pR(this.referenceElement.ownerDocument,k,Q),j.replaceChild(j.adoptNode(this.documentElement),j.documentElement),j.close(),se},v.prototype.createElementClone=function(b){if(xv(b,2))debugger;if(OS(b))return this.createCanvasClone(b);if(LS(b))return this.createVideoClone(b);if($S(b))return this.createStyleClone(b);var w=b.cloneNode(!1);return Mv(w)&&(Mv(b)&&b.currentSrc&&b.currentSrc!==b.src&&(w.src=b.currentSrc,w.srcset=""),w.loading==="lazy"&&(w.loading="eager")),ES(w)?this.createCustomElementClone(w):w},v.prototype.createCustomElementClone=function(b){var w=document.createElement("html2canvascustomelement");return Uv(b.style,w),w},v.prototype.createStyleClone=function(b){try{var w=b.sheet;if(w&&w.cssRules){var _=[].slice.call(w.cssRules,0).reduce(function(k,Q){return Q&&typeof Q.cssText=="string"?k+Q.cssText:k},""),T=b.cloneNode(!1);return T.textContent=_,T}}catch(k){if(this.context.logger.error("Unable to access cssRules property",k),k.name!=="SecurityError")throw k}return b.cloneNode(!1)},v.prototype.createCanvasClone=function(b){var w;if(this.options.inlineImages&&b.ownerDocument){var _=b.ownerDocument.createElement("img");try{return _.src=b.toDataURL(),_}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",b)}}var T=b.cloneNode(!1);try{T.width=b.width,T.height=b.height;var k=b.getContext("2d"),Q=T.getContext("2d");if(Q)if(!this.options.allowTaint&&k)Q.putImageData(k.getImageData(0,0,b.width,b.height),0,0);else{var X=(w=b.getContext("webgl2"))!==null&&w!==void 0?w:b.getContext("webgl");if(X){var j=X.getContextAttributes();j?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",b)}Q.drawImage(b,0,0)}return T}catch{this.context.logger.info("Unable to clone canvas as it is tainted",b)}return T},v.prototype.createVideoClone=function(b){var w=b.ownerDocument.createElement("canvas");w.width=b.offsetWidth,w.height=b.offsetHeight;var _=w.getContext("2d");try{return _&&(_.drawImage(b,0,0,w.width,w.height),this.options.allowTaint||_.getImageData(0,0,w.width,w.height)),w}catch{this.context.logger.info("Unable to clone video as it is tainted",b)}var T=b.ownerDocument.createElement("canvas");return T.width=b.offsetWidth,T.height=b.offsetHeight,T},v.prototype.appendChildNode=function(b,w,_){(!ad(w)||!aR(w)&&!w.hasAttribute(HS)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(w)))&&(!this.options.copyStyles||!ad(w)||!$S(w))&&b.appendChild(this.cloneNode(w,_))},v.prototype.cloneChildNodes=function(b,w,_){for(var T=this,k=b.shadowRoot?b.shadowRoot.firstChild:b.firstChild;k;k=k.nextSibling)if(ad(k)&&kS(k)&&typeof k.assignedNodes=="function"){var Q=k.assignedNodes();Q.length&&Q.forEach(function(X){return T.appendChildNode(w,X,_)})}else this.appendChildNode(w,k,_)},v.prototype.cloneNode=function(b,w){if(TS(b))return document.createTextNode(b.data);if(!b.ownerDocument)return b.cloneNode(!1);var _=b.ownerDocument.defaultView;if(_&&ad(b)&&(kv(b)||Qm(b))){var T=this.createElementClone(b);T.style.transitionProperty="none";var k=_.getComputedStyle(b),Q=_.getComputedStyle(b,":before"),X=_.getComputedStyle(b,":after");this.referenceElement===b&&kv(T)&&(this.clonedReferenceElement=T),Ev(T)&&bR(T);var j=this.counters.parse(new sS(this.context,k)),se=this.resolvePseudoContent(b,T,Q,KA.BEFORE);ES(b)&&(w=!0),LS(b)||this.cloneChildNodes(b,T,w),se&&T.insertBefore(se,T.firstChild);var oe=this.resolvePseudoContent(b,T,X,KA.AFTER);return oe&&T.appendChild(oe),this.counters.pop(j),(k&&(this.options.copyStyles||Qm(b))&&!IS(b)||w)&&Uv(k,T),(b.scrollTop!==0||b.scrollLeft!==0)&&this.scrolledElements.push([T,b.scrollLeft,b.scrollTop]),(Hm(b)||jm(b))&&(Hm(T)||jm(T))&&(T.value=b.value),T}return b.cloneNode(!1)},v.prototype.resolvePseudoContent=function(b,w,_,T){var k=this;if(_){var Q=_.content,X=w.ownerDocument;if(!(!X||!Q||Q==="none"||Q==="-moz-alt-content"||_.display==="none")){this.counters.parse(new sS(this.context,_));var j=new tM(this.context,_),se=X.createElement("html2canvaspseudoelement");Uv(_,se),j.content.forEach(function(Ae){if(Ae.type===0)se.appendChild(X.createTextNode(Ae.value));else if(Ae.type===22){var Ce=X.createElement("img");Ce.src=Ae.value,Ce.style.opacity="1",se.appendChild(Ce)}else if(Ae.type===18){if(Ae.name==="attr"){var ot=Ae.values.filter(ur);ot.length&&se.appendChild(X.createTextNode(b.getAttribute(ot[0].value)||""))}else if(Ae.name==="counter"){var Me=Ae.values.filter(rd),Ze=Me[0],ni=Me[1];if(Ze&&ur(Ze)){var vt=k.counters.getCounterValue(Ze.value),mt=ni&&ur(ni)?vv.parse(k.context,ni.value):3;se.appendChild(X.createTextNode(YA(vt,mt,!1)))}}else if(Ae.name==="counters"){var Gi=Ae.values.filter(rd),Ze=Gi[0],ui=Gi[1],ni=Gi[2];if(Ze&&ur(Ze)){var Qt=k.counters.getCounterValues(Ze.value),it=ni&&ur(ni)?vv.parse(k.context,ni.value):3,Ri=ui&&ui.type===0?ui.value:"",Ui=Qt.map(function(Ea){return YA(Ea,it,!1)}).join(Ri);se.appendChild(X.createTextNode(Ui))}}}else if(Ae.type===20)switch(Ae.value){case"open-quote":se.appendChild(X.createTextNode(rS(j.quotes,k.quoteDepth++,!0)));break;case"close-quote":se.appendChild(X.createTextNode(rS(j.quotes,--k.quoteDepth,!1)));break;default:se.appendChild(X.createTextNode(Ae.value))}}),se.className=Vv+" "+Nv;var oe=T===KA.BEFORE?" "+Vv:" "+Nv;return Qm(w)?w.className.baseValue+=oe:w.className+=oe,se}}},v.destroy=function(b){return b.parentNode?(b.parentNode.removeChild(b),!0):!1},v}(),KA;(function(v){v[v.BEFORE=0]="BEFORE",v[v.AFTER=1]="AFTER"})(KA||(KA={}));var uR=function(v,b){var w=v.createElement("iframe");return w.className="html2canvas-container",w.style.visibility="hidden",w.style.position="fixed",w.style.left="-10000px",w.style.top="0px",w.style.border="0",w.width=b.width.toString(),w.height=b.height.toString(),w.scrolling="no",w.setAttribute(HS,"true"),v.body.appendChild(w),w},hR=function(v){return new Promise(function(b){if(v.complete){b();return}if(!v.src){b();return}v.onload=b,v.onerror=b})},cR=function(v){return Promise.all([].slice.call(v.images,0).map(hR))},dR=function(v){return new Promise(function(b,w){var _=v.contentWindow;if(!_)return w("No window assigned for iframe");var T=_.document;_.onload=v.onload=function(){_.onload=v.onload=null;var k=setInterval(function(){T.body.childNodes.length>0&&T.readyState==="complete"&&(clearInterval(k),b(v))},50)}})},AR=["all","d","content"],Uv=function(v,b){for(var w=v.length-1;w>=0;w--){var _=v.item(w);AR.indexOf(_)===-1&&b.style.setProperty(_,v.getPropertyValue(_))}return b},fR=function(v){var b="";return v&&(b+="<!DOCTYPE ",v.name&&(b+=v.name),v.internalSubset&&(b+=v.internalSubset),v.publicId&&(b+='"'+v.publicId+'"'),v.systemId&&(b+='"'+v.systemId+'"'),b+=">"),b},pR=function(v,b,w){v&&v.defaultView&&(b!==v.defaultView.pageXOffset||w!==v.defaultView.pageYOffset)&&v.defaultView.scrollTo(b,w)},mR=function(v){var b=v[0],w=v[1],_=v[2];b.scrollLeft=w,b.scrollTop=_},gR=":before",yR=":after",Vv="___html2canvas___pseudoelement_before",Nv="___html2canvas___pseudoelement_after",XS=`{
    content: "" !important;
    display: none !important;
}`,bR=function(v){vR(v,"."+Vv+gR+XS+`
         .`+Nv+yR+XS)},vR=function(v,b){var w=v.ownerDocument;if(w){var _=w.createElement("style");_.textContent=b,v.appendChild(_)}},WS=function(){function v(){}return v.getOrigin=function(b){var w=v._link;return w?(w.href=b,w.href=w.href,w.protocol+w.hostname+w.port):"about:blank"},v.isSameOrigin=function(b){return v.getOrigin(b)===v._origin},v.setContext=function(b){v._link=b.document.createElement("a"),v._origin=v.getOrigin(b.location.href)},v._origin="about:blank",v}(),xR=function(){function v(b,w){this.context=b,this._options=w,this._cache={}}return v.prototype.addImage=function(b){var w=Promise.resolve();return this.has(b)||(Hv(b)||BR(b))&&(this._cache[b]=this.loadImage(b)).catch(function(){}),w},v.prototype.match=function(b){return this._cache[b]},v.prototype.loadImage=function(b){return i(this,void 0,void 0,function(){var w,_,T,k,Q=this;return r(this,function(X){switch(X.label){case 0:return w=WS.isSameOrigin(b),_=!Qv(b)&&this._options.useCORS===!0&&Hs.SUPPORT_CORS_IMAGES&&!w,T=!Qv(b)&&!w&&!Hv(b)&&typeof this._options.proxy=="string"&&Hs.SUPPORT_CORS_XHR&&!_,!w&&this._options.allowTaint===!1&&!Qv(b)&&!Hv(b)&&!T&&!_?[2]:(k=b,T?[4,this.proxy(k)]:[3,2]);case 1:k=X.sent(),X.label=2;case 2:return this.context.logger.debug("Added image "+b.substring(0,256)),[4,new Promise(function(j,se){var oe=new Image;oe.onload=function(){return j(oe)},oe.onerror=se,(SR(k)||_)&&(oe.crossOrigin="anonymous"),oe.src=k,oe.complete===!0&&setTimeout(function(){return j(oe)},500),Q._options.imageTimeout>0&&setTimeout(function(){return se("Timed out ("+Q._options.imageTimeout+"ms) loading image")},Q._options.imageTimeout)})];case 3:return[2,X.sent()]}})})},v.prototype.has=function(b){return typeof this._cache[b]<"u"},v.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},v.prototype.proxy=function(b){var w=this,_=this._options.proxy;if(!_)throw new Error("No proxy defined");var T=b.substring(0,256);return new Promise(function(k,Q){var X=Hs.SUPPORT_RESPONSE_TYPE?"blob":"text",j=new XMLHttpRequest;j.onload=function(){if(j.status===200)if(X==="text")k(j.response);else{var Ae=new FileReader;Ae.addEventListener("load",function(){return k(Ae.result)},!1),Ae.addEventListener("error",function(Ce){return Q(Ce)},!1),Ae.readAsDataURL(j.response)}else Q("Failed to proxy resource "+T+" with status code "+j.status)},j.onerror=Q;var se=_.indexOf("?")>-1?"&":"?";if(j.open("GET",""+_+se+"url="+encodeURIComponent(b)+"&responseType="+X),X!=="text"&&j instanceof XMLHttpRequest&&(j.responseType=X),w._options.imageTimeout){var oe=w._options.imageTimeout;j.timeout=oe,j.ontimeout=function(){return Q("Timed out ("+oe+"ms) proxying "+T)}}j.send()})},v}(),_R=/^data:image\/svg\+xml/i,wR=/^data:image\/.*;base64,/i,CR=/^data:image\/.*/i,BR=function(v){return Hs.SUPPORT_SVG_DRAWING||!PR(v)},Qv=function(v){return CR.test(v)},SR=function(v){return wR.test(v)},Hv=function(v){return v.substr(0,4)==="blob"},PR=function(v){return v.substr(-3).toLowerCase()==="svg"||_R.test(v)},Je=function(){function v(b,w){this.type=0,this.x=b,this.y=w}return v.prototype.add=function(b,w){return new v(this.x+b,this.y+w)},v}(),ld=function(v,b,w){return new Je(v.x+(b.x-v.x)*w,v.y+(b.y-v.y)*w)},Xm=function(){function v(b,w,_,T){this.type=1,this.start=b,this.startControl=w,this.endControl=_,this.end=T}return v.prototype.subdivide=function(b,w){var _=ld(this.start,this.startControl,b),T=ld(this.startControl,this.endControl,b),k=ld(this.endControl,this.end,b),Q=ld(_,T,b),X=ld(T,k,b),j=ld(Q,X,b);return w?new v(this.start,_,Q,j):new v(j,X,k,this.end)},v.prototype.add=function(b,w){return new v(this.start.add(b,w),this.startControl.add(b,w),this.endControl.add(b,w),this.end.add(b,w))},v.prototype.reverse=function(){return new v(this.end,this.endControl,this.startControl,this.start)},v}(),_n=function(v){return v.type===1},FR=function(){function v(b){var w=b.styles,_=b.bounds,T=HA(w.borderTopLeftRadius,_.width,_.height),k=T[0],Q=T[1],X=HA(w.borderTopRightRadius,_.width,_.height),j=X[0],se=X[1],oe=HA(w.borderBottomRightRadius,_.width,_.height),Ae=oe[0],Ce=oe[1],ot=HA(w.borderBottomLeftRadius,_.width,_.height),Me=ot[0],Ze=ot[1],ni=[];ni.push((k+j)/_.width),ni.push((Me+Ae)/_.width),ni.push((Q+Ze)/_.height),ni.push((se+Ce)/_.height);var vt=Math.max.apply(Math,ni);vt>1&&(k/=vt,Q/=vt,j/=vt,se/=vt,Ae/=vt,Ce/=vt,Me/=vt,Ze/=vt);var mt=_.width-j,Gi=_.height-Ce,ui=_.width-Ae,Qt=_.height-Ze,it=w.borderTopWidth,Ri=w.borderRightWidth,Ui=w.borderBottomWidth,Xt=w.borderLeftWidth,As=Cr(w.paddingTop,b.bounds.width),Ea=Cr(w.paddingRight,b.bounds.width),nn=Cr(w.paddingBottom,b.bounds.width),hr=Cr(w.paddingLeft,b.bounds.width);this.topLeftBorderDoubleOuterBox=k>0||Q>0?Ir(_.left+Xt/3,_.top+it/3,k-Xt/3,Q-it/3,ir.TOP_LEFT):new Je(_.left+Xt/3,_.top+it/3),this.topRightBorderDoubleOuterBox=k>0||Q>0?Ir(_.left+mt,_.top+it/3,j-Ri/3,se-it/3,ir.TOP_RIGHT):new Je(_.left+_.width-Ri/3,_.top+it/3),this.bottomRightBorderDoubleOuterBox=Ae>0||Ce>0?Ir(_.left+ui,_.top+Gi,Ae-Ri/3,Ce-Ui/3,ir.BOTTOM_RIGHT):new Je(_.left+_.width-Ri/3,_.top+_.height-Ui/3),this.bottomLeftBorderDoubleOuterBox=Me>0||Ze>0?Ir(_.left+Xt/3,_.top+Qt,Me-Xt/3,Ze-Ui/3,ir.BOTTOM_LEFT):new Je(_.left+Xt/3,_.top+_.height-Ui/3),this.topLeftBorderDoubleInnerBox=k>0||Q>0?Ir(_.left+Xt*2/3,_.top+it*2/3,k-Xt*2/3,Q-it*2/3,ir.TOP_LEFT):new Je(_.left+Xt*2/3,_.top+it*2/3),this.topRightBorderDoubleInnerBox=k>0||Q>0?Ir(_.left+mt,_.top+it*2/3,j-Ri*2/3,se-it*2/3,ir.TOP_RIGHT):new Je(_.left+_.width-Ri*2/3,_.top+it*2/3),this.bottomRightBorderDoubleInnerBox=Ae>0||Ce>0?Ir(_.left+ui,_.top+Gi,Ae-Ri*2/3,Ce-Ui*2/3,ir.BOTTOM_RIGHT):new Je(_.left+_.width-Ri*2/3,_.top+_.height-Ui*2/3),this.bottomLeftBorderDoubleInnerBox=Me>0||Ze>0?Ir(_.left+Xt*2/3,_.top+Qt,Me-Xt*2/3,Ze-Ui*2/3,ir.BOTTOM_LEFT):new Je(_.left+Xt*2/3,_.top+_.height-Ui*2/3),this.topLeftBorderStroke=k>0||Q>0?Ir(_.left+Xt/2,_.top+it/2,k-Xt/2,Q-it/2,ir.TOP_LEFT):new Je(_.left+Xt/2,_.top+it/2),this.topRightBorderStroke=k>0||Q>0?Ir(_.left+mt,_.top+it/2,j-Ri/2,se-it/2,ir.TOP_RIGHT):new Je(_.left+_.width-Ri/2,_.top+it/2),this.bottomRightBorderStroke=Ae>0||Ce>0?Ir(_.left+ui,_.top+Gi,Ae-Ri/2,Ce-Ui/2,ir.BOTTOM_RIGHT):new Je(_.left+_.width-Ri/2,_.top+_.height-Ui/2),this.bottomLeftBorderStroke=Me>0||Ze>0?Ir(_.left+Xt/2,_.top+Qt,Me-Xt/2,Ze-Ui/2,ir.BOTTOM_LEFT):new Je(_.left+Xt/2,_.top+_.height-Ui/2),this.topLeftBorderBox=k>0||Q>0?Ir(_.left,_.top,k,Q,ir.TOP_LEFT):new Je(_.left,_.top),this.topRightBorderBox=j>0||se>0?Ir(_.left+mt,_.top,j,se,ir.TOP_RIGHT):new Je(_.left+_.width,_.top),this.bottomRightBorderBox=Ae>0||Ce>0?Ir(_.left+ui,_.top+Gi,Ae,Ce,ir.BOTTOM_RIGHT):new Je(_.left+_.width,_.top+_.height),this.bottomLeftBorderBox=Me>0||Ze>0?Ir(_.left,_.top+Qt,Me,Ze,ir.BOTTOM_LEFT):new Je(_.left,_.top+_.height),this.topLeftPaddingBox=k>0||Q>0?Ir(_.left+Xt,_.top+it,Math.max(0,k-Xt),Math.max(0,Q-it),ir.TOP_LEFT):new Je(_.left+Xt,_.top+it),this.topRightPaddingBox=j>0||se>0?Ir(_.left+Math.min(mt,_.width-Ri),_.top+it,mt>_.width+Ri?0:Math.max(0,j-Ri),Math.max(0,se-it),ir.TOP_RIGHT):new Je(_.left+_.width-Ri,_.top+it),this.bottomRightPaddingBox=Ae>0||Ce>0?Ir(_.left+Math.min(ui,_.width-Xt),_.top+Math.min(Gi,_.height-Ui),Math.max(0,Ae-Ri),Math.max(0,Ce-Ui),ir.BOTTOM_RIGHT):new Je(_.left+_.width-Ri,_.top+_.height-Ui),this.bottomLeftPaddingBox=Me>0||Ze>0?Ir(_.left+Xt,_.top+Math.min(Qt,_.height-Ui),Math.max(0,Me-Xt),Math.max(0,Ze-Ui),ir.BOTTOM_LEFT):new Je(_.left+Xt,_.top+_.height-Ui),this.topLeftContentBox=k>0||Q>0?Ir(_.left+Xt+hr,_.top+it+As,Math.max(0,k-(Xt+hr)),Math.max(0,Q-(it+As)),ir.TOP_LEFT):new Je(_.left+Xt+hr,_.top+it+As),this.topRightContentBox=j>0||se>0?Ir(_.left+Math.min(mt,_.width+Xt+hr),_.top+it+As,mt>_.width+Xt+hr?0:j-Xt+hr,se-(it+As),ir.TOP_RIGHT):new Je(_.left+_.width-(Ri+Ea),_.top+it+As),this.bottomRightContentBox=Ae>0||Ce>0?Ir(_.left+Math.min(ui,_.width-(Xt+hr)),_.top+Math.min(Gi,_.height+it+As),Math.max(0,Ae-(Ri+Ea)),Ce-(Ui+nn),ir.BOTTOM_RIGHT):new Je(_.left+_.width-(Ri+Ea),_.top+_.height-(Ui+nn)),this.bottomLeftContentBox=Me>0||Ze>0?Ir(_.left+Xt+hr,_.top+Qt,Math.max(0,Me-(Xt+hr)),Ze-(Ui+nn),ir.BOTTOM_LEFT):new Je(_.left+Xt+hr,_.top+_.height-(Ui+nn))}return v}(),ir;(function(v){v[v.TOP_LEFT=0]="TOP_LEFT",v[v.TOP_RIGHT=1]="TOP_RIGHT",v[v.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",v[v.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ir||(ir={}));var Ir=function(v,b,w,_,T){var k=4*((Math.sqrt(2)-1)/3),Q=w*k,X=_*k,j=v+w,se=b+_;switch(T){case ir.TOP_LEFT:return new Xm(new Je(v,se),new Je(v,se-X),new Je(j-Q,b),new Je(j,b));case ir.TOP_RIGHT:return new Xm(new Je(v,b),new Je(v+Q,b),new Je(j,se-X),new Je(j,se));case ir.BOTTOM_RIGHT:return new Xm(new Je(j,b),new Je(j,b+X),new Je(v+Q,se),new Je(v,se));case ir.BOTTOM_LEFT:default:return new Xm(new Je(j,se),new Je(j-Q,se),new Je(v,b+X),new Je(v,b))}},Wm=function(v){return[v.topLeftBorderBox,v.topRightBorderBox,v.bottomRightBorderBox,v.bottomLeftBorderBox]},TR=function(v){return[v.topLeftContentBox,v.topRightContentBox,v.bottomRightContentBox,v.bottomLeftContentBox]},zm=function(v){return[v.topLeftPaddingBox,v.topRightPaddingBox,v.bottomRightPaddingBox,v.bottomLeftPaddingBox]},DR=function(){function v(b,w,_){this.offsetX=b,this.offsetY=w,this.matrix=_,this.type=0,this.target=6}return v}(),Gm=function(){function v(b,w){this.path=b,this.target=w,this.type=1}return v}(),OR=function(){function v(b){this.opacity=b,this.type=2,this.target=6}return v}(),LR=function(v){return v.type===0},zS=function(v){return v.type===1},IR=function(v){return v.type===2},GS=function(v,b){return v.length===b.length?v.some(function(w,_){return w===b[_]}):!1},$R=function(v,b,w,_,T){return v.map(function(k,Q){switch(Q){case 0:return k.add(b,w);case 1:return k.add(b+_,w);case 2:return k.add(b+_,w+T);case 3:return k.add(b,w+T)}return k})},YS=function(){function v(b){this.element=b,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return v}(),KS=function(){function v(b,w){if(this.container=b,this.parent=w,this.effects=[],this.curves=new FR(this.container),this.container.styles.opacity<1&&this.effects.push(new OR(this.container.styles.opacity)),this.container.styles.transform!==null){var _=this.container.bounds.left+this.container.styles.transformOrigin[0].number,T=this.container.bounds.top+this.container.styles.transformOrigin[1].number,k=this.container.styles.transform;this.effects.push(new DR(_,T,k))}if(this.container.styles.overflowX!==0){var Q=Wm(this.curves),X=zm(this.curves);GS(Q,X)?this.effects.push(new Gm(Q,6)):(this.effects.push(new Gm(Q,2)),this.effects.push(new Gm(X,4)))}}return v.prototype.getEffects=function(b){for(var w=[2,3].indexOf(this.container.styles.position)===-1,_=this.parent,T=this.effects.slice(0);_;){var k=_.effects.filter(function(j){return!zS(j)});if(w||_.container.styles.position!==0||!_.parent){if(T.unshift.apply(T,k),w=[2,3].indexOf(_.container.styles.position)===-1,_.container.styles.overflowX!==0){var Q=Wm(_.curves),X=zm(_.curves);GS(Q,X)||T.unshift(new Gm(X,6))}}else T.unshift.apply(T,k);_=_.parent}return T.filter(function(j){return xs(j.target,b)})},v}(),jv=function(v,b,w,_){v.container.elements.forEach(function(T){var k=xs(T.flags,4),Q=xs(T.flags,2),X=new KS(T,v);xs(T.styles.display,2048)&&_.push(X);var j=xs(T.flags,8)?[]:_;if(k||Q){var se=k||T.styles.isPositioned()?w:b,oe=new YS(X);if(T.styles.isPositioned()||T.styles.opacity<1||T.styles.isTransformed()){var Ae=T.styles.zIndex.order;if(Ae<0){var Ce=0;se.negativeZIndex.some(function(Me,Ze){return Ae>Me.element.container.styles.zIndex.order?(Ce=Ze,!1):Ce>0}),se.negativeZIndex.splice(Ce,0,oe)}else if(Ae>0){var ot=0;se.positiveZIndex.some(function(Me,Ze){return Ae>=Me.element.container.styles.zIndex.order?(ot=Ze+1,!1):ot>0}),se.positiveZIndex.splice(ot,0,oe)}else se.zeroOrAutoZIndexOrTransformedOrOpacity.push(oe)}else T.styles.isFloating()?se.nonPositionedFloats.push(oe):se.nonPositionedInlineLevel.push(oe);jv(X,oe,k?oe:w,j)}else T.styles.isInlineLevel()?b.inlineLevel.push(X):b.nonInlineLevel.push(X),jv(X,b,w,j);xs(T.flags,8)&&ZS(T,j)})},ZS=function(v,b){for(var w=v instanceof Iv?v.start:1,_=v instanceof Iv?v.reversed:!1,T=0;T<b.length;T++){var k=b[T];k.container instanceof _S&&typeof k.container.value=="number"&&k.container.value!==0&&(w=k.container.value),k.listValue=YA(w,k.container.styles.listStyleType,!0),w+=_?-1:1}},kR=function(v){var b=new KS(v,null),w=new YS(b),_=[];return jv(b,w,w,_),ZS(b.container,_),w},qS=function(v,b){switch(b){case 0:return wn(v.topLeftBorderBox,v.topLeftPaddingBox,v.topRightBorderBox,v.topRightPaddingBox);case 1:return wn(v.topRightBorderBox,v.topRightPaddingBox,v.bottomRightBorderBox,v.bottomRightPaddingBox);case 2:return wn(v.bottomRightBorderBox,v.bottomRightPaddingBox,v.bottomLeftBorderBox,v.bottomLeftPaddingBox);case 3:default:return wn(v.bottomLeftBorderBox,v.bottomLeftPaddingBox,v.topLeftBorderBox,v.topLeftPaddingBox)}},ER=function(v,b){switch(b){case 0:return wn(v.topLeftBorderBox,v.topLeftBorderDoubleOuterBox,v.topRightBorderBox,v.topRightBorderDoubleOuterBox);case 1:return wn(v.topRightBorderBox,v.topRightBorderDoubleOuterBox,v.bottomRightBorderBox,v.bottomRightBorderDoubleOuterBox);case 2:return wn(v.bottomRightBorderBox,v.bottomRightBorderDoubleOuterBox,v.bottomLeftBorderBox,v.bottomLeftBorderDoubleOuterBox);case 3:default:return wn(v.bottomLeftBorderBox,v.bottomLeftBorderDoubleOuterBox,v.topLeftBorderBox,v.topLeftBorderDoubleOuterBox)}},MR=function(v,b){switch(b){case 0:return wn(v.topLeftBorderDoubleInnerBox,v.topLeftPaddingBox,v.topRightBorderDoubleInnerBox,v.topRightPaddingBox);case 1:return wn(v.topRightBorderDoubleInnerBox,v.topRightPaddingBox,v.bottomRightBorderDoubleInnerBox,v.bottomRightPaddingBox);case 2:return wn(v.bottomRightBorderDoubleInnerBox,v.bottomRightPaddingBox,v.bottomLeftBorderDoubleInnerBox,v.bottomLeftPaddingBox);case 3:default:return wn(v.bottomLeftBorderDoubleInnerBox,v.bottomLeftPaddingBox,v.topLeftBorderDoubleInnerBox,v.topLeftPaddingBox)}},RR=function(v,b){switch(b){case 0:return Ym(v.topLeftBorderStroke,v.topRightBorderStroke);case 1:return Ym(v.topRightBorderStroke,v.bottomRightBorderStroke);case 2:return Ym(v.bottomRightBorderStroke,v.bottomLeftBorderStroke);case 3:default:return Ym(v.bottomLeftBorderStroke,v.topLeftBorderStroke)}},Ym=function(v,b){var w=[];return _n(v)?w.push(v.subdivide(.5,!1)):w.push(v),_n(b)?w.push(b.subdivide(.5,!0)):w.push(b),w},wn=function(v,b,w,_){var T=[];return _n(v)?T.push(v.subdivide(.5,!1)):T.push(v),_n(w)?T.push(w.subdivide(.5,!0)):T.push(w),_n(_)?T.push(_.subdivide(.5,!0).reverse()):T.push(_),_n(b)?T.push(b.subdivide(.5,!1).reverse()):T.push(b),T},JS=function(v){var b=v.bounds,w=v.styles;return b.add(w.borderLeftWidth,w.borderTopWidth,-(w.borderRightWidth+w.borderLeftWidth),-(w.borderTopWidth+w.borderBottomWidth))},Km=function(v){var b=v.styles,w=v.bounds,_=Cr(b.paddingLeft,w.width),T=Cr(b.paddingRight,w.width),k=Cr(b.paddingTop,w.width),Q=Cr(b.paddingBottom,w.width);return w.add(_+b.borderLeftWidth,k+b.borderTopWidth,-(b.borderRightWidth+b.borderLeftWidth+_+T),-(b.borderTopWidth+b.borderBottomWidth+k+Q))},UR=function(v,b){return v===0?b.bounds:v===2?Km(b):JS(b)},VR=function(v,b){return v===0?b.bounds:v===2?Km(b):JS(b)},Xv=function(v,b,w){var _=UR(hd(v.styles.backgroundOrigin,b),v),T=VR(hd(v.styles.backgroundClip,b),v),k=NR(hd(v.styles.backgroundSize,b),w,_),Q=k[0],X=k[1],j=HA(hd(v.styles.backgroundPosition,b),_.width-Q,_.height-X),se=QR(hd(v.styles.backgroundRepeat,b),j,k,_,T),oe=Math.round(_.left+j[0]),Ae=Math.round(_.top+j[1]);return[se,oe,Ae,Q,X]},ud=function(v){return ur(v)&&v.value===sd.AUTO},Zm=function(v){return typeof v=="number"},NR=function(v,b,w){var _=b[0],T=b[1],k=b[2],Q=v[0],X=v[1];if(!Q)return[0,0];if(ds(Q)&&X&&ds(X))return[Cr(Q,w.width),Cr(X,w.height)];var j=Zm(k);if(ur(Q)&&(Q.value===sd.CONTAIN||Q.value===sd.COVER)){if(Zm(k)){var se=w.width/w.height;return se<k!=(Q.value===sd.COVER)?[w.width,w.width/k]:[w.height*k,w.height]}return[w.width,w.height]}var oe=Zm(_),Ae=Zm(T),Ce=oe||Ae;if(ud(Q)&&(!X||ud(X))){if(oe&&Ae)return[_,T];if(!j&&!Ce)return[w.width,w.height];if(Ce&&j){var ot=oe?_:T*k,Me=Ae?T:_/k;return[ot,Me]}var Ze=oe?_:w.width,ni=Ae?T:w.height;return[Ze,ni]}if(j){var vt=0,mt=0;return ds(Q)?vt=Cr(Q,w.width):ds(X)&&(mt=Cr(X,w.height)),ud(Q)?vt=mt*k:(!X||ud(X))&&(mt=vt/k),[vt,mt]}var Gi=null,ui=null;if(ds(Q)?Gi=Cr(Q,w.width):X&&ds(X)&&(ui=Cr(X,w.height)),Gi!==null&&(!X||ud(X))&&(ui=oe&&Ae?Gi/_*T:w.height),ui!==null&&ud(Q)&&(Gi=oe&&Ae?ui/T*_:w.width),Gi!==null&&ui!==null)return[Gi,ui];throw new Error("Unable to calculate background-size for element")},hd=function(v,b){var w=v[b];return typeof w>"u"?v[0]:w},QR=function(v,b,w,_,T){var k=b[0],Q=b[1],X=w[0],j=w[1];switch(v){case 2:return[new Je(Math.round(_.left),Math.round(_.top+Q)),new Je(Math.round(_.left+_.width),Math.round(_.top+Q)),new Je(Math.round(_.left+_.width),Math.round(j+_.top+Q)),new Je(Math.round(_.left),Math.round(j+_.top+Q))];case 3:return[new Je(Math.round(_.left+k),Math.round(_.top)),new Je(Math.round(_.left+k+X),Math.round(_.top)),new Je(Math.round(_.left+k+X),Math.round(_.height+_.top)),new Je(Math.round(_.left+k),Math.round(_.height+_.top))];case 1:return[new Je(Math.round(_.left+k),Math.round(_.top+Q)),new Je(Math.round(_.left+k+X),Math.round(_.top+Q)),new Je(Math.round(_.left+k+X),Math.round(_.top+Q+j)),new Je(Math.round(_.left+k),Math.round(_.top+Q+j))];default:return[new Je(Math.round(T.left),Math.round(T.top)),new Je(Math.round(T.left+T.width),Math.round(T.top)),new Je(Math.round(T.left+T.width),Math.round(T.height+T.top)),new Je(Math.round(T.left),Math.round(T.height+T.top))]}},HR="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",eP="Hidden Text",jR=function(){function v(b){this._data={},this._document=b}return v.prototype.parseMetrics=function(b,w){var _=this._document.createElement("div"),T=this._document.createElement("img"),k=this._document.createElement("span"),Q=this._document.body;_.style.visibility="hidden",_.style.fontFamily=b,_.style.fontSize=w,_.style.margin="0",_.style.padding="0",_.style.whiteSpace="nowrap",Q.appendChild(_),T.src=HR,T.width=1,T.height=1,T.style.margin="0",T.style.padding="0",T.style.verticalAlign="baseline",k.style.fontFamily=b,k.style.fontSize=w,k.style.margin="0",k.style.padding="0",k.appendChild(this._document.createTextNode(eP)),_.appendChild(k),_.appendChild(T);var X=T.offsetTop-k.offsetTop+2;_.removeChild(k),_.appendChild(this._document.createTextNode(eP)),_.style.lineHeight="normal",T.style.verticalAlign="super";var j=T.offsetTop-_.offsetTop+2;return Q.removeChild(_),{baseline:X,middle:j}},v.prototype.getMetrics=function(b,w){var _=b+" "+w;return typeof this._data[_]>"u"&&(this._data[_]=this.parseMetrics(b,w)),this._data[_]},v}(),tP=function(){function v(b,w){this.context=b,this.options=w}return v}(),XR=1e4,WR=function(v){t(b,v);function b(w,_){var T=v.call(this,w,_)||this;return T._activeEffects=[],T.canvas=_.canvas?_.canvas:document.createElement("canvas"),T.ctx=T.canvas.getContext("2d"),_.canvas||(T.canvas.width=Math.floor(_.width*_.scale),T.canvas.height=Math.floor(_.height*_.scale),T.canvas.style.width=_.width+"px",T.canvas.style.height=_.height+"px"),T.fontMetrics=new jR(document),T.ctx.scale(T.options.scale,T.options.scale),T.ctx.translate(-_.x,-_.y),T.ctx.textBaseline="bottom",T._activeEffects=[],T.context.logger.debug("Canvas renderer initialized ("+_.width+"x"+_.height+") with scale "+_.scale),T}return b.prototype.applyEffects=function(w){for(var _=this;this._activeEffects.length;)this.popEffect();w.forEach(function(T){return _.applyEffect(T)})},b.prototype.applyEffect=function(w){this.ctx.save(),IR(w)&&(this.ctx.globalAlpha=w.opacity),LR(w)&&(this.ctx.translate(w.offsetX,w.offsetY),this.ctx.transform(w.matrix[0],w.matrix[1],w.matrix[2],w.matrix[3],w.matrix[4],w.matrix[5]),this.ctx.translate(-w.offsetX,-w.offsetY)),zS(w)&&(this.path(w.path),this.ctx.clip()),this._activeEffects.push(w)},b.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},b.prototype.renderStack=function(w){return i(this,void 0,void 0,function(){var _;return r(this,function(T){switch(T.label){case 0:return _=w.element.container.styles,_.isVisible()?[4,this.renderStackContent(w)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})})},b.prototype.renderNode=function(w){return i(this,void 0,void 0,function(){return r(this,function(_){switch(_.label){case 0:if(xs(w.container.flags,16))debugger;return w.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(w)]:[3,3];case 1:return _.sent(),[4,this.renderNodeContent(w)];case 2:_.sent(),_.label=3;case 3:return[2]}})})},b.prototype.renderTextWithLetterSpacing=function(w,_,T){var k=this;if(_===0)this.ctx.fillText(w.text,w.bounds.left,w.bounds.top+T);else{var Q=Lv(w.text);Q.reduce(function(X,j){return k.ctx.fillText(j,X,w.bounds.top+T),X+k.ctx.measureText(j).width},w.bounds.left)}},b.prototype.createFontStyle=function(w){var _=w.fontVariant.filter(function(Q){return Q==="normal"||Q==="small-caps"}).join(""),T=ZR(w.fontFamily).join(", "),k=QA(w.fontSize)?""+w.fontSize.number+w.fontSize.unit:w.fontSize.number+"px";return[[w.fontStyle,_,w.fontWeight,k,T].join(" "),T,k]},b.prototype.renderTextNode=function(w,_){return i(this,void 0,void 0,function(){var T,k,Q,X,j,se,oe,Ae,Ce=this;return r(this,function(ot){return T=this.createFontStyle(_),k=T[0],Q=T[1],X=T[2],this.ctx.font=k,this.ctx.direction=_.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",j=this.fontMetrics.getMetrics(Q,X),se=j.baseline,oe=j.middle,Ae=_.paintOrder,w.textBounds.forEach(function(Me){Ae.forEach(function(Ze){switch(Ze){case 0:Ce.ctx.fillStyle=Is(_.color),Ce.renderTextWithLetterSpacing(Me,_.letterSpacing,se);var ni=_.textShadow;ni.length&&Me.text.trim().length&&(ni.slice(0).reverse().forEach(function(vt){Ce.ctx.shadowColor=Is(vt.color),Ce.ctx.shadowOffsetX=vt.offsetX.number*Ce.options.scale,Ce.ctx.shadowOffsetY=vt.offsetY.number*Ce.options.scale,Ce.ctx.shadowBlur=vt.blur.number,Ce.renderTextWithLetterSpacing(Me,_.letterSpacing,se)}),Ce.ctx.shadowColor="",Ce.ctx.shadowOffsetX=0,Ce.ctx.shadowOffsetY=0,Ce.ctx.shadowBlur=0),_.textDecorationLine.length&&(Ce.ctx.fillStyle=Is(_.textDecorationColor||_.color),_.textDecorationLine.forEach(function(vt){switch(vt){case 1:Ce.ctx.fillRect(Me.bounds.left,Math.round(Me.bounds.top+se),Me.bounds.width,1);break;case 2:Ce.ctx.fillRect(Me.bounds.left,Math.round(Me.bounds.top),Me.bounds.width,1);break;case 3:Ce.ctx.fillRect(Me.bounds.left,Math.ceil(Me.bounds.top+oe),Me.bounds.width,1);break}}));break;case 1:_.webkitTextStrokeWidth&&Me.text.trim().length&&(Ce.ctx.strokeStyle=Is(_.webkitTextStrokeColor),Ce.ctx.lineWidth=_.webkitTextStrokeWidth,Ce.ctx.lineJoin=window.chrome?"miter":"round",Ce.ctx.strokeText(Me.text,Me.bounds.left,Me.bounds.top+se)),Ce.ctx.strokeStyle="",Ce.ctx.lineWidth=0,Ce.ctx.lineJoin="miter";break}})}),[2]})})},b.prototype.renderReplacedElement=function(w,_,T){if(T&&w.intrinsicWidth>0&&w.intrinsicHeight>0){var k=Km(w),Q=zm(_);this.path(Q),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(T,0,0,w.intrinsicWidth,w.intrinsicHeight,k.left,k.top,k.width,k.height),this.ctx.restore()}},b.prototype.renderNodeContent=function(w){return i(this,void 0,void 0,function(){var _,T,k,Q,X,j,mt,mt,se,oe,Ae,Ce,ui,ot,Me,Qt,Ze,ni,vt,mt,Gi,ui,Qt;return r(this,function(it){switch(it.label){case 0:this.applyEffects(w.getEffects(4)),_=w.container,T=w.curves,k=_.styles,Q=0,X=_.textNodes,it.label=1;case 1:return Q<X.length?(j=X[Q],[4,this.renderTextNode(j,k)]):[3,4];case 2:it.sent(),it.label=3;case 3:return Q++,[3,1];case 4:if(!(_ instanceof bS))return[3,8];it.label=5;case 5:return it.trys.push([5,7,,8]),[4,this.context.cache.match(_.src)];case 6:return mt=it.sent(),this.renderReplacedElement(_,T,mt),[3,8];case 7:return it.sent(),this.context.logger.error("Error loading image "+_.src),[3,8];case 8:if(_ instanceof vS&&this.renderReplacedElement(_,T,_.canvas),!(_ instanceof xS))return[3,12];it.label=9;case 9:return it.trys.push([9,11,,12]),[4,this.context.cache.match(_.svg)];case 10:return mt=it.sent(),this.renderReplacedElement(_,T,mt),[3,12];case 11:return it.sent(),this.context.logger.error("Error loading svg "+_.svg.substring(0,255)),[3,12];case 12:return _ instanceof SS&&_.tree?(se=new b(this.context,{scale:this.options.scale,backgroundColor:_.backgroundColor,x:0,y:0,width:_.width,height:_.height}),[4,se.render(_.tree)]):[3,14];case 13:oe=it.sent(),_.width&&_.height&&this.ctx.drawImage(oe,0,0,_.width,_.height,_.bounds.left,_.bounds.top,_.bounds.width,_.bounds.height),it.label=14;case 14:if(_ instanceof $v&&(Ae=Math.min(_.bounds.width,_.bounds.height),_.type===Um?_.checked&&(this.ctx.save(),this.path([new Je(_.bounds.left+Ae*.39363,_.bounds.top+Ae*.79),new Je(_.bounds.left+Ae*.16,_.bounds.top+Ae*.5549),new Je(_.bounds.left+Ae*.27347,_.bounds.top+Ae*.44071),new Je(_.bounds.left+Ae*.39694,_.bounds.top+Ae*.5649),new Je(_.bounds.left+Ae*.72983,_.bounds.top+Ae*.23),new Je(_.bounds.left+Ae*.84,_.bounds.top+Ae*.34085),new Je(_.bounds.left+Ae*.39363,_.bounds.top+Ae*.79)]),this.ctx.fillStyle=Is(wS),this.ctx.fill(),this.ctx.restore()):_.type===Vm&&_.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(_.bounds.left+Ae/2,_.bounds.top+Ae/2,Ae/4,0,Math.PI*2,!0),this.ctx.fillStyle=Is(wS),this.ctx.fill(),this.ctx.restore())),zR(_)&&_.value.length){switch(Ce=this.createFontStyle(k),ui=Ce[0],ot=Ce[1],Me=this.fontMetrics.getMetrics(ui,ot).baseline,this.ctx.font=ui,this.ctx.fillStyle=Is(k.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=YR(_.styles.textAlign),Qt=Km(_),Ze=0,_.styles.textAlign){case 1:Ze+=Qt.width/2;break;case 2:Ze+=Qt.width;break}ni=Qt.add(Ze,0,0,-Qt.height/2+1),this.ctx.save(),this.path([new Je(Qt.left,Qt.top),new Je(Qt.left+Qt.width,Qt.top),new Je(Qt.left+Qt.width,Qt.top+Qt.height),new Je(Qt.left,Qt.top+Qt.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new zA(_.value,ni),k.letterSpacing,Me),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!xs(_.styles.display,2048))return[3,20];if(_.styles.listStyleImage===null)return[3,19];if(vt=_.styles.listStyleImage,vt.type!==0)return[3,18];mt=void 0,Gi=vt.url,it.label=15;case 15:return it.trys.push([15,17,,18]),[4,this.context.cache.match(Gi)];case 16:return mt=it.sent(),this.ctx.drawImage(mt,_.bounds.left-(mt.width+10),_.bounds.top),[3,18];case 17:return it.sent(),this.context.logger.error("Error loading list-style-image "+Gi),[3,18];case 18:return[3,20];case 19:w.listValue&&_.styles.listStyleType!==-1&&(ui=this.createFontStyle(k)[0],this.ctx.font=ui,this.ctx.fillStyle=Is(k.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Qt=new n(_.bounds.left,_.bounds.top+Cr(_.styles.paddingTop,_.bounds.width),_.bounds.width,eS(k.lineHeight,k.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new zA(w.listValue,Qt),k.letterSpacing,eS(k.lineHeight,k.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),it.label=20;case 20:return[2]}})})},b.prototype.renderStackContent=function(w){return i(this,void 0,void 0,function(){var _,T,vt,k,Q,vt,X,j,vt,se,oe,vt,Ae,Ce,vt,ot,Me,vt,Ze,ni,vt;return r(this,function(mt){switch(mt.label){case 0:if(xs(w.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(w.element)];case 1:mt.sent(),_=0,T=w.negativeZIndex,mt.label=2;case 2:return _<T.length?(vt=T[_],[4,this.renderStack(vt)]):[3,5];case 3:mt.sent(),mt.label=4;case 4:return _++,[3,2];case 5:return[4,this.renderNodeContent(w.element)];case 6:mt.sent(),k=0,Q=w.nonInlineLevel,mt.label=7;case 7:return k<Q.length?(vt=Q[k],[4,this.renderNode(vt)]):[3,10];case 8:mt.sent(),mt.label=9;case 9:return k++,[3,7];case 10:X=0,j=w.nonPositionedFloats,mt.label=11;case 11:return X<j.length?(vt=j[X],[4,this.renderStack(vt)]):[3,14];case 12:mt.sent(),mt.label=13;case 13:return X++,[3,11];case 14:se=0,oe=w.nonPositionedInlineLevel,mt.label=15;case 15:return se<oe.length?(vt=oe[se],[4,this.renderStack(vt)]):[3,18];case 16:mt.sent(),mt.label=17;case 17:return se++,[3,15];case 18:Ae=0,Ce=w.inlineLevel,mt.label=19;case 19:return Ae<Ce.length?(vt=Ce[Ae],[4,this.renderNode(vt)]):[3,22];case 20:mt.sent(),mt.label=21;case 21:return Ae++,[3,19];case 22:ot=0,Me=w.zeroOrAutoZIndexOrTransformedOrOpacity,mt.label=23;case 23:return ot<Me.length?(vt=Me[ot],[4,this.renderStack(vt)]):[3,26];case 24:mt.sent(),mt.label=25;case 25:return ot++,[3,23];case 26:Ze=0,ni=w.positiveZIndex,mt.label=27;case 27:return Ze<ni.length?(vt=ni[Ze],[4,this.renderStack(vt)]):[3,30];case 28:mt.sent(),mt.label=29;case 29:return Ze++,[3,27];case 30:return[2]}})})},b.prototype.mask=function(w){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(w.slice(0).reverse()),this.ctx.closePath()},b.prototype.path=function(w){this.ctx.beginPath(),this.formatPath(w),this.ctx.closePath()},b.prototype.formatPath=function(w){var _=this;w.forEach(function(T,k){var Q=_n(T)?T.start:T;k===0?_.ctx.moveTo(Q.x,Q.y):_.ctx.lineTo(Q.x,Q.y),_n(T)&&_.ctx.bezierCurveTo(T.startControl.x,T.startControl.y,T.endControl.x,T.endControl.y,T.end.x,T.end.y)})},b.prototype.renderRepeat=function(w,_,T,k){this.path(w),this.ctx.fillStyle=_,this.ctx.translate(T,k),this.ctx.fill(),this.ctx.translate(-T,-k)},b.prototype.resizeImage=function(w,_,T){var k;if(w.width===_&&w.height===T)return w;var Q=(k=this.canvas.ownerDocument)!==null&&k!==void 0?k:document,X=Q.createElement("canvas");X.width=Math.max(1,_),X.height=Math.max(1,T);var j=X.getContext("2d");return j.drawImage(w,0,0,w.width,w.height,0,0,_,T),X},b.prototype.renderBackgroundImage=function(w){return i(this,void 0,void 0,function(){var _,T,k,Q,X,j;return r(this,function(se){switch(se.label){case 0:_=w.styles.backgroundImage.length-1,T=function(oe){var Ae,Ce,ot,As,Ma,Ra,hr,js,Ui,Me,As,Ma,Ra,hr,js,Ze,ni,vt,mt,Gi,ui,Qt,it,Ri,Ui,Xt,As,Ea,nn,hr,js,wu,Ma,Ra,Th,Io,Cu,Dh,Oh,Sl,Lh,Pl;return r(this,function(cd){switch(cd.label){case 0:if(oe.type!==0)return[3,5];Ae=void 0,Ce=oe.url,cd.label=1;case 1:return cd.trys.push([1,3,,4]),[4,k.context.cache.match(Ce)];case 2:return Ae=cd.sent(),[3,4];case 3:return cd.sent(),k.context.logger.error("Error loading background-image "+Ce),[3,4];case 4:return Ae&&(ot=Xv(w,_,[Ae.width,Ae.height,Ae.width/Ae.height]),As=ot[0],Ma=ot[1],Ra=ot[2],hr=ot[3],js=ot[4],Ui=k.ctx.createPattern(k.resizeImage(Ae,hr,js),"repeat"),k.renderRepeat(As,Ui,Ma,Ra)),[3,6];case 5:Lk(oe)?(Me=Xv(w,_,[null,null,null]),As=Me[0],Ma=Me[1],Ra=Me[2],hr=Me[3],js=Me[4],Ze=Pk(oe.angle,hr,js),ni=Ze[0],vt=Ze[1],mt=Ze[2],Gi=Ze[3],ui=Ze[4],Qt=document.createElement("canvas"),Qt.width=hr,Qt.height=js,it=Qt.getContext("2d"),Ri=it.createLinearGradient(vt,Gi,mt,ui),HB(oe.stops,ni).forEach(function(ZA){return Ri.addColorStop(ZA.stop,Is(ZA.color))}),it.fillStyle=Ri,it.fillRect(0,0,hr,js),hr>0&&js>0&&(Ui=k.ctx.createPattern(Qt,"repeat"),k.renderRepeat(As,Ui,Ma,Ra))):Ik(oe)&&(Xt=Xv(w,_,[null,null,null]),As=Xt[0],Ea=Xt[1],nn=Xt[2],hr=Xt[3],js=Xt[4],wu=oe.position.length===0?[gv]:oe.position,Ma=Cr(wu[0],hr),Ra=Cr(wu[wu.length-1],js),Th=Fk(oe,Ma,Ra,hr,js),Io=Th[0],Cu=Th[1],Io>0&&Cu>0&&(Dh=k.ctx.createRadialGradient(Ea+Ma,nn+Ra,0,Ea+Ma,nn+Ra,Io),HB(oe.stops,Io*2).forEach(function(ZA){return Dh.addColorStop(ZA.stop,Is(ZA.color))}),k.path(As),k.ctx.fillStyle=Dh,Io!==Cu?(Oh=w.bounds.left+.5*w.bounds.width,Sl=w.bounds.top+.5*w.bounds.height,Lh=Cu/Io,Pl=1/Lh,k.ctx.save(),k.ctx.translate(Oh,Sl),k.ctx.transform(1,0,0,Lh,0,0),k.ctx.translate(-Oh,-Sl),k.ctx.fillRect(Ea,Pl*(nn-Sl)+Sl,hr,js*Pl),k.ctx.restore()):k.ctx.fill())),cd.label=6;case 6:return _--,[2]}})},k=this,Q=0,X=w.styles.backgroundImage.slice(0).reverse(),se.label=1;case 1:return Q<X.length?(j=X[Q],[5,T(j)]):[3,4];case 2:se.sent(),se.label=3;case 3:return Q++,[3,1];case 4:return[2]}})})},b.prototype.renderSolidBorder=function(w,_,T){return i(this,void 0,void 0,function(){return r(this,function(k){return this.path(qS(T,_)),this.ctx.fillStyle=Is(w),this.ctx.fill(),[2]})})},b.prototype.renderDoubleBorder=function(w,_,T,k){return i(this,void 0,void 0,function(){var Q,X;return r(this,function(j){switch(j.label){case 0:return _<3?[4,this.renderSolidBorder(w,T,k)]:[3,2];case 1:return j.sent(),[2];case 2:return Q=ER(k,T),this.path(Q),this.ctx.fillStyle=Is(w),this.ctx.fill(),X=MR(k,T),this.path(X),this.ctx.fill(),[2]}})})},b.prototype.renderNodeBackgroundAndBorders=function(w){return i(this,void 0,void 0,function(){var _,T,k,Q,X,j,se,oe,Ae=this;return r(this,function(Ce){switch(Ce.label){case 0:return this.applyEffects(w.getEffects(2)),_=w.container.styles,T=!bu(_.backgroundColor)||_.backgroundImage.length,k=[{style:_.borderTopStyle,color:_.borderTopColor,width:_.borderTopWidth},{style:_.borderRightStyle,color:_.borderRightColor,width:_.borderRightWidth},{style:_.borderBottomStyle,color:_.borderBottomColor,width:_.borderBottomWidth},{style:_.borderLeftStyle,color:_.borderLeftColor,width:_.borderLeftWidth}],Q=GR(hd(_.backgroundClip,0),w.curves),T||_.boxShadow.length?(this.ctx.save(),this.path(Q),this.ctx.clip(),bu(_.backgroundColor)||(this.ctx.fillStyle=Is(_.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(w.container)]):[3,2];case 1:Ce.sent(),this.ctx.restore(),_.boxShadow.slice(0).reverse().forEach(function(ot){Ae.ctx.save();var Me=Wm(w.curves),Ze=ot.inset?0:XR,ni=$R(Me,-Ze+(ot.inset?1:-1)*ot.spread.number,(ot.inset?1:-1)*ot.spread.number,ot.spread.number*(ot.inset?-2:2),ot.spread.number*(ot.inset?-2:2));ot.inset?(Ae.path(Me),Ae.ctx.clip(),Ae.mask(ni)):(Ae.mask(Me),Ae.ctx.clip(),Ae.path(ni)),Ae.ctx.shadowOffsetX=ot.offsetX.number+Ze,Ae.ctx.shadowOffsetY=ot.offsetY.number,Ae.ctx.shadowColor=Is(ot.color),Ae.ctx.shadowBlur=ot.blur.number,Ae.ctx.fillStyle=ot.inset?Is(ot.color):"rgba(0,0,0,1)",Ae.ctx.fill(),Ae.ctx.restore()}),Ce.label=2;case 2:X=0,j=0,se=k,Ce.label=3;case 3:return j<se.length?(oe=se[j],oe.style!==0&&!bu(oe.color)&&oe.width>0?oe.style!==2?[3,5]:[4,this.renderDashedDottedBorder(oe.color,oe.width,X,w.curves,2)]:[3,11]):[3,13];case 4:return Ce.sent(),[3,11];case 5:return oe.style!==3?[3,7]:[4,this.renderDashedDottedBorder(oe.color,oe.width,X,w.curves,3)];case 6:return Ce.sent(),[3,11];case 7:return oe.style!==4?[3,9]:[4,this.renderDoubleBorder(oe.color,oe.width,X,w.curves)];case 8:return Ce.sent(),[3,11];case 9:return[4,this.renderSolidBorder(oe.color,X,w.curves)];case 10:Ce.sent(),Ce.label=11;case 11:X++,Ce.label=12;case 12:return j++,[3,3];case 13:return[2]}})})},b.prototype.renderDashedDottedBorder=function(w,_,T,k,Q){return i(this,void 0,void 0,function(){var X,j,se,oe,Ae,Ce,ot,Me,Ze,ni,vt,mt,Gi,ui,Qt,it,Qt,it;return r(this,function(Ri){return this.ctx.save(),X=RR(k,T),j=qS(k,T),Q===2&&(this.path(j),this.ctx.clip()),_n(j[0])?(se=j[0].start.x,oe=j[0].start.y):(se=j[0].x,oe=j[0].y),_n(j[1])?(Ae=j[1].end.x,Ce=j[1].end.y):(Ae=j[1].x,Ce=j[1].y),T===0||T===2?ot=Math.abs(se-Ae):ot=Math.abs(oe-Ce),this.ctx.beginPath(),Q===3?this.formatPath(X):this.formatPath(j.slice(0,2)),Me=_<3?_*3:_*2,Ze=_<3?_*2:_,Q===3&&(Me=_,Ze=_),ni=!0,ot<=Me*2?ni=!1:ot<=Me*2+Ze?(vt=ot/(2*Me+Ze),Me*=vt,Ze*=vt):(mt=Math.floor((ot+Ze)/(Me+Ze)),Gi=(ot-mt*Me)/(mt-1),ui=(ot-(mt+1)*Me)/mt,Ze=ui<=0||Math.abs(Ze-Gi)<Math.abs(Ze-ui)?Gi:ui),ni&&(Q===3?this.ctx.setLineDash([0,Me+Ze]):this.ctx.setLineDash([Me,Ze])),Q===3?(this.ctx.lineCap="round",this.ctx.lineWidth=_):this.ctx.lineWidth=_*2+1.1,this.ctx.strokeStyle=Is(w),this.ctx.stroke(),this.ctx.setLineDash([]),Q===2&&(_n(j[0])&&(Qt=j[3],it=j[0],this.ctx.beginPath(),this.formatPath([new Je(Qt.end.x,Qt.end.y),new Je(it.start.x,it.start.y)]),this.ctx.stroke()),_n(j[1])&&(Qt=j[1],it=j[2],this.ctx.beginPath(),this.formatPath([new Je(Qt.end.x,Qt.end.y),new Je(it.start.x,it.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},b.prototype.render=function(w){return i(this,void 0,void 0,function(){var _;return r(this,function(T){switch(T.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Is(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),_=kR(w),[4,this.renderStack(_)];case 1:return T.sent(),this.applyEffects([]),[2,this.canvas]}})})},b}(tP),zR=function(v){return v instanceof BS||v instanceof CS?!0:v instanceof $v&&v.type!==Vm&&v.type!==Um},GR=function(v,b){switch(v){case 0:return Wm(b);case 2:return TR(b);case 1:default:return zm(b)}},YR=function(v){switch(v){case 1:return"center";case 2:return"right";case 0:default:return"left"}},KR=["-apple-system","system-ui"],ZR=function(v){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?v.filter(function(b){return KR.indexOf(b)===-1}):v},qR=function(v){t(b,v);function b(w,_){var T=v.call(this,w,_)||this;return T.canvas=_.canvas?_.canvas:document.createElement("canvas"),T.ctx=T.canvas.getContext("2d"),T.options=_,T.canvas.width=Math.floor(_.width*_.scale),T.canvas.height=Math.floor(_.height*_.scale),T.canvas.style.width=_.width+"px",T.canvas.style.height=_.height+"px",T.ctx.scale(T.options.scale,T.options.scale),T.ctx.translate(-_.x,-_.y),T.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+_.width+"x"+_.height+" at "+_.x+","+_.y+") with scale "+_.scale),T}return b.prototype.render=function(w){return i(this,void 0,void 0,function(){var _,T;return r(this,function(k){switch(k.label){case 0:return _=Ov(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,w),[4,JR(_)];case 1:return T=k.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Is(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(T,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},b}(tP),JR=function(v){return new Promise(function(b,w){var _=new Image;_.onload=function(){b(_)},_.onerror=w,_.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(v))})},eU=function(){function v(b){var w=b.id,_=b.enabled;this.id=w,this.enabled=_,this.start=Date.now()}return v.prototype.debug=function(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,a([this.id,this.getTime()+"ms"],b)):this.info.apply(this,b))},v.prototype.getTime=function(){return Date.now()-this.start},v.prototype.info=function(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,a([this.id,this.getTime()+"ms"],b))},v.prototype.warn=function(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,a([this.id,this.getTime()+"ms"],b)):this.info.apply(this,b))},v.prototype.error=function(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,a([this.id,this.getTime()+"ms"],b)):this.info.apply(this,b))},v.instances={},v}(),tU=function(){function v(b,w){var _;this.windowBounds=w,this.instanceName="#"+v.instanceCount++,this.logger=new eU({id:this.instanceName,enabled:b.logging}),this.cache=(_=b.cache)!==null&&_!==void 0?_:new xR(this,b)}return v.instanceCount=1,v}(),iU=function(v,b){return b===void 0&&(b={}),rU(v,b)};typeof window<"u"&&WS.setContext(window);var rU=function(v,b){return i(void 0,void 0,void 0,function(){var w,_,T,k,Q,X,j,se,oe,Ae,Ce,ot,Me,Ze,ni,vt,mt,Gi,ui,Qt,Ri,it,Ri,Ui,Xt,As,Ea,nn,hr,js,wu,Ma,Ra,Th,Io,Cu,Dh,Oh,Sl,Lh;return r(this,function(Pl){switch(Pl.label){case 0:if(!v||typeof v!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(w=v.ownerDocument,!w)throw new Error("Element is not attached to a Document");if(_=w.defaultView,!_)throw new Error("Document is not attached to a Window");return T={allowTaint:(Ui=b.allowTaint)!==null&&Ui!==void 0?Ui:!1,imageTimeout:(Xt=b.imageTimeout)!==null&&Xt!==void 0?Xt:15e3,proxy:b.proxy,useCORS:(As=b.useCORS)!==null&&As!==void 0?As:!1},k=e({logging:(Ea=b.logging)!==null&&Ea!==void 0?Ea:!0,cache:b.cache},T),Q={windowWidth:(nn=b.windowWidth)!==null&&nn!==void 0?nn:_.innerWidth,windowHeight:(hr=b.windowHeight)!==null&&hr!==void 0?hr:_.innerHeight,scrollX:(js=b.scrollX)!==null&&js!==void 0?js:_.pageXOffset,scrollY:(wu=b.scrollY)!==null&&wu!==void 0?wu:_.pageYOffset},X=new n(Q.scrollX,Q.scrollY,Q.windowWidth,Q.windowHeight),j=new tU(k,X),se=(Ma=b.foreignObjectRendering)!==null&&Ma!==void 0?Ma:!1,oe={allowTaint:(Ra=b.allowTaint)!==null&&Ra!==void 0?Ra:!1,onclone:b.onclone,ignoreElements:b.ignoreElements,inlineImages:se,copyStyles:se},j.logger.debug("Starting document clone with size "+X.width+"x"+X.height+" scrolled to "+-X.left+","+-X.top),Ae=new jS(j,v,oe),Ce=Ae.clonedReferenceElement,Ce?[4,Ae.toIFrame(w,X)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return ot=Pl.sent(),Me=Ev(Ce)||sR(Ce)?l(Ce.ownerDocument):o(j,Ce),Ze=Me.width,ni=Me.height,vt=Me.left,mt=Me.top,Gi=sU(j,Ce,b.backgroundColor),ui={canvas:b.canvas,backgroundColor:Gi,scale:(Io=(Th=b.scale)!==null&&Th!==void 0?Th:_.devicePixelRatio)!==null&&Io!==void 0?Io:1,x:((Cu=b.x)!==null&&Cu!==void 0?Cu:0)+vt,y:((Dh=b.y)!==null&&Dh!==void 0?Dh:0)+mt,width:(Oh=b.width)!==null&&Oh!==void 0?Oh:Math.ceil(Ze),height:(Sl=b.height)!==null&&Sl!==void 0?Sl:Math.ceil(ni)},se?(j.logger.debug("Document cloned, using foreign object rendering"),Ri=new qR(j,ui),[4,Ri.render(Ce)]):[3,3];case 2:return Qt=Pl.sent(),[3,5];case 3:return j.logger.debug("Document cloned, element located at "+vt+","+mt+" with size "+Ze+"x"+ni+" using computed rendering"),j.logger.debug("Starting DOM parsing"),it=FS(j,Ce),Gi===it.styles.backgroundColor&&(it.styles.backgroundColor=Cl.TRANSPARENT),j.logger.debug("Starting renderer for element at "+ui.x+","+ui.y+" with size "+ui.width+"x"+ui.height),Ri=new WR(j,ui),[4,Ri.render(it)];case 4:Qt=Pl.sent(),Pl.label=5;case 5:return(!((Lh=b.removeContainer)!==null&&Lh!==void 0)||Lh)&&(jS.destroy(ot)||j.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),j.logger.debug("Finished rendering"),[2,Qt]}})})},sU=function(v,b,w){var _=b.ownerDocument,T=_.documentElement?jA(v,getComputedStyle(_.documentElement).backgroundColor):Cl.TRANSPARENT,k=_.body?jA(v,getComputedStyle(_.body).backgroundColor):Cl.TRANSPARENT,Q=typeof w=="string"?jA(v,w):w===null?Cl.TRANSPARENT:4294967295;return b===_.documentElement?bu(T)?bu(k)?Q:k:T:Q};return iU})});var lF=iP((oF,qx)=>{(function(s){typeof oF=="object"&&typeof qx<"u"?qx.exports=s():typeof define=="function"&&define.amd?define([],s):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=s()})(function(){return function s(t,e,i){function r(o,l){if(!e[o]){if(!t[o]){var u=typeof qA=="function"&&qA;if(!l&&u)return u(o,!0);if(a)return a(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var c=e[o]={exports:{}};t[o][0].call(c.exports,function(A){var d=t[o][1][A];return r(d||A)},c,c.exports,s,t,e,i)}return e[o].exports}for(var a=typeof qA=="function"&&qA,n=0;n<i.length;n++)r(i[n]);return r}({1:[function(s,t,e){"use strict";var i=s("./utils"),r=s("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(n){for(var o,l,u,h,c,A,d,f=[],p=0,m=n.length,g=m,y=i.getTypeOf(n)!=="string";p<n.length;)g=m-p,u=y?(o=n[p++],l=p<m?n[p++]:0,p<m?n[p++]:0):(o=n.charCodeAt(p++),l=p<m?n.charCodeAt(p++):0,p<m?n.charCodeAt(p++):0),h=o>>2,c=(3&o)<<4|l>>4,A=1<g?(15&l)<<2|u>>6:64,d=2<g?63&u:64,f.push(a.charAt(h)+a.charAt(c)+a.charAt(A)+a.charAt(d));return f.join("")},e.decode=function(n){var o,l,u,h,c,A,d=0,f=0,p="data:";if(n.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var m,g=3*(n=n.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(n.charAt(n.length-1)===a.charAt(64)&&g--,n.charAt(n.length-2)===a.charAt(64)&&g--,g%1!=0)throw new Error("Invalid base64 input, bad content length.");for(m=r.uint8array?new Uint8Array(0|g):new Array(0|g);d<n.length;)o=a.indexOf(n.charAt(d++))<<2|(h=a.indexOf(n.charAt(d++)))>>4,l=(15&h)<<4|(c=a.indexOf(n.charAt(d++)))>>2,u=(3&c)<<6|(A=a.indexOf(n.charAt(d++))),m[f++]=o,c!==64&&(m[f++]=l),A!==64&&(m[f++]=u);return m}},{"./support":30,"./utils":32}],2:[function(s,t,e){"use strict";var i=s("./external"),r=s("./stream/DataWorker"),a=s("./stream/Crc32Probe"),n=s("./stream/DataLengthProbe");function o(l,u,h,c,A){this.compressedSize=l,this.uncompressedSize=u,this.crc32=h,this.compression=c,this.compressedContent=A}o.prototype={getContentWorker:function(){var l=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new n("data_length")),u=this;return l.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(l,u,h){return l.pipe(new a).pipe(new n("uncompressedSize")).pipe(u.compressWorker(h)).pipe(new n("compressedSize")).withStreamInfo("compression",u)},t.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(s,t,e){"use strict";var i=s("./stream/GenericWorker");e.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},e.DEFLATE=s("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(s,t,e){"use strict";var i=s("./utils"),r=function(){for(var a,n=[],o=0;o<256;o++){a=o;for(var l=0;l<8;l++)a=1&a?3988292384^a>>>1:a>>>1;n[o]=a}return n}();t.exports=function(a,n){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(o,l,u,h){var c=r,A=h+u;o^=-1;for(var d=h;d<A;d++)o=o>>>8^c[255&(o^l[d])];return-1^o}(0|n,a,a.length,0):function(o,l,u,h){var c=r,A=h+u;o^=-1;for(var d=h;d<A;d++)o=o>>>8^c[255&(o^l.charCodeAt(d))];return-1^o}(0|n,a,a.length,0):0}},{"./utils":32}],5:[function(s,t,e){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},{}],6:[function(s,t,e){"use strict";var i=null;i=typeof Promise<"u"?Promise:s("lie"),t.exports={Promise:i}},{lie:37}],7:[function(s,t,e){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",r=s("pako"),a=s("./utils"),n=s("./stream/GenericWorker"),o=i?"uint8array":"array";function l(u,h){n.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=h,this.meta={}}e.magic="\b\0",a.inherits(l,n),l.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(o,u.data),!1)},l.prototype.flush=function(){n.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(h){u.push({data:h,meta:u.meta})}},e.compressWorker=function(u){return new l("Deflate",u)},e.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(s,t,e){"use strict";function i(c,A){var d,f="";for(d=0;d<A;d++)f+=String.fromCharCode(255&c),c>>>=8;return f}function r(c,A,d,f,p,m){var g,y,x=c.file,C=c.compression,S=m!==o.utf8encode,P=a.transformTo("string",m(x.name)),F=a.transformTo("string",o.utf8encode(x.name)),O=x.comment,$=a.transformTo("string",m(O)),L=a.transformTo("string",o.utf8encode(O)),E=F.length!==x.name.length,D=L.length!==O.length,H="",te="",K="",ae=x.dir,ie=x.date,fe={crc32:0,compressedSize:0,uncompressedSize:0};A&&!d||(fe.crc32=c.crc32,fe.compressedSize=c.compressedSize,fe.uncompressedSize=c.uncompressedSize);var z=0;A&&(z|=8),S||!E&&!D||(z|=2048);var Y=0,ge=0;ae&&(Y|=16),p==="UNIX"?(ge=798,Y|=function(me,Ge){var Xe=me;return me||(Xe=Ge?16893:33204),(65535&Xe)<<16}(x.unixPermissions,ae)):(ge=20,Y|=function(me){return 63&(me||0)}(x.dosPermissions)),g=ie.getUTCHours(),g<<=6,g|=ie.getUTCMinutes(),g<<=5,g|=ie.getUTCSeconds()/2,y=ie.getUTCFullYear()-1980,y<<=4,y|=ie.getUTCMonth()+1,y<<=5,y|=ie.getUTCDate(),E&&(te=i(1,1)+i(l(P),4)+F,H+="up"+i(te.length,2)+te),D&&(K=i(1,1)+i(l($),4)+L,H+="uc"+i(K.length,2)+K);var re="";return re+=`
\0`,re+=i(z,2),re+=C.magic,re+=i(g,2),re+=i(y,2),re+=i(fe.crc32,4),re+=i(fe.compressedSize,4),re+=i(fe.uncompressedSize,4),re+=i(P.length,2),re+=i(H.length,2),{fileRecord:u.LOCAL_FILE_HEADER+re+P+H,dirRecord:u.CENTRAL_FILE_HEADER+i(ge,2)+re+i($.length,2)+"\0\0\0\0"+i(Y,4)+i(f,4)+P+H+$}}var a=s("../utils"),n=s("../stream/GenericWorker"),o=s("../utf8"),l=s("../crc32"),u=s("../signature");function h(c,A,d,f){n.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=d,this.encodeFileName=f,this.streamFiles=c,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(h,n),h.prototype.push=function(c){var A=c.meta.percent||0,d=this.entriesCount,f=this._sources.length;this.accumulate?this.contentBuffer.push(c):(this.bytesWritten+=c.data.length,n.prototype.push.call(this,{data:c.data,meta:{currentFile:this.currentFile,percent:d?(A+100*(d-f-1))/d:100}}))},h.prototype.openedSource=function(c){this.currentSourceOffset=this.bytesWritten,this.currentFile=c.file.name;var A=this.streamFiles&&!c.file.dir;if(A){var d=r(c,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(c){this.accumulate=!1;var A=this.streamFiles&&!c.file.dir,d=r(c,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),A)this.push({data:function(f){return u.DATA_DESCRIPTOR+i(f.crc32,4)+i(f.compressedSize,4)+i(f.uncompressedSize,4)}(c),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var c=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var d=this.bytesWritten-c,f=function(p,m,g,y,x){var C=a.transformTo("string",x(y));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(p,2)+i(p,2)+i(m,4)+i(g,4)+i(C.length,2)+C}(this.dirRecords.length,d,c,this.zipComment,this.encodeFileName);this.push({data:f,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(c){this._sources.push(c);var A=this;return c.on("data",function(d){A.processChunk(d)}),c.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),c.on("error",function(d){A.error(d)}),this},h.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(c){var A=this._sources;if(!n.prototype.error.call(this,c))return!1;for(var d=0;d<A.length;d++)try{A[d].error(c)}catch{}return!0},h.prototype.lock=function(){n.prototype.lock.call(this);for(var c=this._sources,A=0;A<c.length;A++)c[A].lock()},t.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(s,t,e){"use strict";var i=s("../compressions"),r=s("./ZipFileWorker");e.generateWorker=function(a,n,o){var l=new r(n.streamFiles,o,n.platform,n.encodeFileName),u=0;try{a.forEach(function(h,c){u++;var A=function(m,g){var y=m||g,x=i[y];if(!x)throw new Error(y+" is not a valid compression method !");return x}(c.options.compression,n.compression),d=c.options.compressionOptions||n.compressionOptions||{},f=c.dir,p=c.date;c._compressWorker(A,d).withStreamInfo("file",{name:h,dir:f,date:p,comment:c.comment||"",unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions}).pipe(l)}),l.entriesCount=u}catch(h){l.error(h)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(s,t,e){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var r=new i;for(var a in this)typeof this[a]!="function"&&(r[a]=this[a]);return r}}(i.prototype=s("./object")).loadAsync=s("./load"),i.support=s("./support"),i.defaults=s("./defaults"),i.version="3.10.1",i.loadAsync=function(r,a){return new i().loadAsync(r,a)},i.external=s("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(s,t,e){"use strict";var i=s("./utils"),r=s("./external"),a=s("./utf8"),n=s("./zipEntries"),o=s("./stream/Crc32Probe"),l=s("./nodejsUtils");function u(h){return new r.Promise(function(c,A){var d=h.decompressed.getContentWorker().pipe(new o);d.on("error",function(f){A(f)}).on("end",function(){d.streamInfo.crc32!==h.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):c()}).resume()})}t.exports=function(h,c){var A=this;return c=i.extend(c||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(h)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",h,!0,c.optimizedBinaryString,c.base64).then(function(d){var f=new n(c);return f.load(d),f}).then(function(d){var f=[r.Promise.resolve(d)],p=d.files;if(c.checkCRC32)for(var m=0;m<p.length;m++)f.push(u(p[m]));return r.Promise.all(f)}).then(function(d){for(var f=d.shift(),p=f.files,m=0;m<p.length;m++){var g=p[m],y=g.fileNameStr,x=i.resolve(g.fileNameStr);A.file(x,g.decompressed,{binary:!0,optimizedBinaryString:!0,date:g.date,dir:g.dir,comment:g.fileCommentStr.length?g.fileCommentStr:null,unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions,createFolders:c.createFolders}),g.dir||(A.file(x).unsafeOriginalName=y)}return f.zipComment.length&&(A.comment=f.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(s,t,e){"use strict";var i=s("../utils"),r=s("../stream/GenericWorker");function a(n,o){r.call(this,"Nodejs stream input adapter for "+n),this._upstreamEnded=!1,this._bindStream(o)}i.inherits(a,r),a.prototype._bindStream=function(n){var o=this;(this._stream=n).pause(),n.on("data",function(l){o.push({data:l,meta:{percent:0}})}).on("error",function(l){o.isPaused?this.generatedError=l:o.error(l)}).on("end",function(){o.isPaused?o._upstreamEnded=!0:o.end()})},a.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(s,t,e){"use strict";var i=s("readable-stream").Readable;function r(a,n,o){i.call(this,n),this._helper=a;var l=this;a.on("data",function(u,h){l.push(u)||l._helper.pause(),o&&o(h)}).on("error",function(u){l.emit("error",u)}).on("end",function(){l.push(null)})}s("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(s,t,e){"use strict";t.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,r){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,r);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,r)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var r=new Buffer(i);return r.fill(0),r},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(s,t,e){"use strict";function i(x,C,S){var P,F=a.getTypeOf(C),O=a.extend(S||{},l);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(x=p(x)),O.createFolders&&(P=f(x))&&m.call(this,P,!0);var $=F==="string"&&O.binary===!1&&O.base64===!1;S&&S.binary!==void 0||(O.binary=!$),(C instanceof u&&C.uncompressedSize===0||O.dir||!C||C.length===0)&&(O.base64=!1,O.binary=!0,C="",O.compression="STORE",F="string");var L=null;L=C instanceof u||C instanceof n?C:A.isNode&&A.isStream(C)?new d(x,C):a.prepareContent(x,C,O.binary,O.optimizedBinaryString,O.base64);var E=new h(x,L,O);this.files[x]=E}var r=s("./utf8"),a=s("./utils"),n=s("./stream/GenericWorker"),o=s("./stream/StreamHelper"),l=s("./defaults"),u=s("./compressedObject"),h=s("./zipObject"),c=s("./generate"),A=s("./nodejsUtils"),d=s("./nodejs/NodejsStreamInputAdapter"),f=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var C=x.lastIndexOf("/");return 0<C?x.substring(0,C):""},p=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},m=function(x,C){return C=C!==void 0?C:l.createFolders,x=p(x),this.files[x]||i.call(this,x,null,{dir:!0,createFolders:C}),this.files[x]};function g(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var C,S,P;for(C in this.files)P=this.files[C],(S=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&x(S,P)},filter:function(x){var C=[];return this.forEach(function(S,P){x(S,P)&&C.push(P)}),C},file:function(x,C,S){if(arguments.length!==1)return x=this.root+x,i.call(this,x,C,S),this;if(g(x)){var P=x;return this.filter(function(O,$){return!$.dir&&P.test(O)})}var F=this.files[this.root+x];return F&&!F.dir?F:null},folder:function(x){if(!x)return this;if(g(x))return this.filter(function(F,O){return O.dir&&x.test(F)});var C=this.root+x,S=m.call(this,C),P=this.clone();return P.root=S.name,P},remove:function(x){x=this.root+x;var C=this.files[x];if(C||(x.slice(-1)!=="/"&&(x+="/"),C=this.files[x]),C&&!C.dir)delete this.files[x];else for(var S=this.filter(function(F,O){return O.name.slice(0,x.length)===x}),P=0;P<S.length;P++)delete this.files[S[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var C,S={};try{if((S=a.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");a.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var P=S.comment||this.comment||"";C=c.generateWorker(this,S,P)}catch(F){(C=new n("error")).error(F)}return new o(C,S.type||"string",S.mimeType)},generateAsync:function(x,C){return this.generateInternalStream(x).accumulate(C)},generateNodeStream:function(x,C){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(C)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(s,t,e){"use strict";t.exports=s("stream")},{stream:void 0}],17:[function(s,t,e){"use strict";var i=s("./DataReader");function r(a){i.call(this,a);for(var n=0;n<this.data.length;n++)a[n]=255&a[n]}s("../utils").inherits(r,i),r.prototype.byteAt=function(a){return this.data[this.zero+a]},r.prototype.lastIndexOfSignature=function(a){for(var n=a.charCodeAt(0),o=a.charCodeAt(1),l=a.charCodeAt(2),u=a.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===n&&this.data[h+1]===o&&this.data[h+2]===l&&this.data[h+3]===u)return h-this.zero;return-1},r.prototype.readAndCheckSignature=function(a){var n=a.charCodeAt(0),o=a.charCodeAt(1),l=a.charCodeAt(2),u=a.charCodeAt(3),h=this.readData(4);return n===h[0]&&o===h[1]&&l===h[2]&&u===h[3]},r.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var n=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,n},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(s,t,e){"use strict";var i=s("../utils");function r(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var n,o=0;for(this.checkOffset(a),n=this.index+a-1;n>=this.index;n--)o=(o<<8)+this.byteAt(n);return this.index+=a,o},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},t.exports=r},{"../utils":32}],19:[function(s,t,e){"use strict";var i=s("./Uint8ArrayReader");function r(a){i.call(this,a)}s("../utils").inherits(r,i),r.prototype.readData=function(a){this.checkOffset(a);var n=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,n},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(s,t,e){"use strict";var i=s("./DataReader");function r(a){i.call(this,a)}s("../utils").inherits(r,i),r.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},r.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},r.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},r.prototype.readData=function(a){this.checkOffset(a);var n=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,n},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(s,t,e){"use strict";var i=s("./ArrayReader");function r(a){i.call(this,a)}s("../utils").inherits(r,i),r.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var n=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,n},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(s,t,e){"use strict";var i=s("../utils"),r=s("../support"),a=s("./ArrayReader"),n=s("./StringReader"),o=s("./NodeBufferReader"),l=s("./Uint8ArrayReader");t.exports=function(u){var h=i.getTypeOf(u);return i.checkSupport(h),h!=="string"||r.uint8array?h==="nodebuffer"?new o(u):r.uint8array?new l(i.transformTo("uint8array",u)):new a(i.transformTo("array",u)):new n(u)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(s,t,e){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(s,t,e){"use strict";var i=s("./GenericWorker"),r=s("../utils");function a(n){i.call(this,"ConvertWorker to "+n),this.destType=n}r.inherits(a,i),a.prototype.processChunk=function(n){this.push({data:r.transformTo(this.destType,n.data),meta:n.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(s,t,e){"use strict";var i=s("./GenericWorker"),r=s("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}s("../utils").inherits(a,i),a.prototype.processChunk=function(n){this.streamInfo.crc32=r(n.data,this.streamInfo.crc32||0),this.push(n)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(s,t,e){"use strict";var i=s("../utils"),r=s("./GenericWorker");function a(n){r.call(this,"DataLengthProbe for "+n),this.propName=n,this.withStreamInfo(n,0)}i.inherits(a,r),a.prototype.processChunk=function(n){if(n){var o=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=o+n.data.length}r.prototype.processChunk.call(this,n)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(s,t,e){"use strict";var i=s("../utils"),r=s("./GenericWorker");function a(n){r.call(this,"DataWorker");var o=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,n.then(function(l){o.dataIsReady=!0,o.data=l,o.max=l&&l.length||0,o.type=i.getTypeOf(l),o.isPaused||o._tickAndRepeat()},function(l){o.error(l)})}i.inherits(a,r),a.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var n=null,o=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":n=this.data.substring(this.index,o);break;case"uint8array":n=this.data.subarray(this.index,o);break;case"array":case"nodebuffer":n=this.data.slice(this.index,o)}return this.index=o,this.push({data:n,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(s,t,e){"use strict";function i(r){this.name=r||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(r){this.emit("data",r)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(r){this.emit("error",r)}return!0},error:function(r){return!this.isFinished&&(this.isPaused?this.generatedError=r:(this.isFinished=!0,this.emit("error",r),this.previous&&this.previous.error(r),this.cleanUp()),!0)},on:function(r,a){return this._listeners[r].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(r,a){if(this._listeners[r])for(var n=0;n<this._listeners[r].length;n++)this._listeners[r][n].call(this,a)},pipe:function(r){return r.registerPrevious(this)},registerPrevious:function(r){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=r.streamInfo,this.mergeStreamInfo(),this.previous=r;var a=this;return r.on("data",function(n){a.processChunk(n)}),r.on("end",function(){a.end()}),r.on("error",function(n){a.error(n)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var r=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),r=!0),this.previous&&this.previous.resume(),!r},flush:function(){},processChunk:function(r){this.push(r)},withStreamInfo:function(r,a){return this.extraStreamInfo[r]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var r in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,r)&&(this.streamInfo[r]=this.extraStreamInfo[r])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var r="Worker "+this.name;return this.previous?this.previous+" -> "+r:r}},t.exports=i},{}],29:[function(s,t,e){"use strict";var i=s("../utils"),r=s("./ConvertWorker"),a=s("./GenericWorker"),n=s("../base64"),o=s("../support"),l=s("../external"),u=null;if(o.nodestream)try{u=s("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(A,d){return new l.Promise(function(f,p){var m=[],g=A._internalType,y=A._outputType,x=A._mimeType;A.on("data",function(C,S){m.push(C),d&&d(S)}).on("error",function(C){m=[],p(C)}).on("end",function(){try{var C=function(S,P,F){switch(S){case"blob":return i.newBlob(i.transformTo("arraybuffer",P),F);case"base64":return n.encode(P);default:return i.transformTo(S,P)}}(y,function(S,P){var F,O=0,$=null,L=0;for(F=0;F<P.length;F++)L+=P[F].length;switch(S){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for($=new Uint8Array(L),F=0;F<P.length;F++)$.set(P[F],O),O+=P[F].length;return $;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+S+"'")}}(g,m),x);f(C)}catch(S){p(S)}m=[]}).resume()})}function c(A,d,f){var p=d;switch(d){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=d,this._mimeType=f,i.checkSupport(p),this._worker=A.pipe(new r(p)),A.lock()}catch(m){this._worker=new a("error"),this._worker.error(m)}}c.prototype={accumulate:function(A){return h(this,A)},on:function(A,d){var f=this;return A==="data"?this._worker.on(A,function(p){d.call(f,p.data,p.meta)}):this._worker.on(A,function(){i.delay(d,arguments,f)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},A)}},t.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(s,t,e){"use strict";if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",e.nodebuffer=typeof Buffer<"u",e.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")e.blob=!1;else{var i=new ArrayBuffer(0);try{e.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),e.blob=r.getBlob("application/zip").size===0}catch{e.blob=!1}}}try{e.nodestream=!!s("readable-stream").Readable}catch{e.nodestream=!1}},{"readable-stream":16}],31:[function(s,t,e){"use strict";for(var i=s("./utils"),r=s("./support"),a=s("./nodejsUtils"),n=s("./stream/GenericWorker"),o=new Array(256),l=0;l<256;l++)o[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;o[254]=o[254]=1;function u(){n.call(this,"utf-8 decode"),this.leftOver=null}function h(){n.call(this,"utf-8 encode")}e.utf8encode=function(c){return r.nodebuffer?a.newBufferFrom(c,"utf-8"):function(A){var d,f,p,m,g,y=A.length,x=0;for(m=0;m<y;m++)(64512&(f=A.charCodeAt(m)))==55296&&m+1<y&&(64512&(p=A.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),m++),x+=f<128?1:f<2048?2:f<65536?3:4;for(d=r.uint8array?new Uint8Array(x):new Array(x),m=g=0;g<x;m++)(64512&(f=A.charCodeAt(m)))==55296&&m+1<y&&(64512&(p=A.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),m++),f<128?d[g++]=f:(f<2048?d[g++]=192|f>>>6:(f<65536?d[g++]=224|f>>>12:(d[g++]=240|f>>>18,d[g++]=128|f>>>12&63),d[g++]=128|f>>>6&63),d[g++]=128|63&f);return d}(c)},e.utf8decode=function(c){return r.nodebuffer?i.transformTo("nodebuffer",c).toString("utf-8"):function(A){var d,f,p,m,g=A.length,y=new Array(2*g);for(d=f=0;d<g;)if((p=A[d++])<128)y[f++]=p;else if(4<(m=o[p]))y[f++]=65533,d+=m-1;else{for(p&=m===2?31:m===3?15:7;1<m&&d<g;)p=p<<6|63&A[d++],m--;1<m?y[f++]=65533:p<65536?y[f++]=p:(p-=65536,y[f++]=55296|p>>10&1023,y[f++]=56320|1023&p)}return y.length!==f&&(y.subarray?y=y.subarray(0,f):y.length=f),i.applyFromCharCode(y)}(c=i.transformTo(r.uint8array?"uint8array":"array",c))},i.inherits(u,n),u.prototype.processChunk=function(c){var A=i.transformTo(r.uint8array?"uint8array":"array",c.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var d=A;(A=new Uint8Array(d.length+this.leftOver.length)).set(this.leftOver,0),A.set(d,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var f=function(m,g){var y;for((g=g||m.length)>m.length&&(g=m.length),y=g-1;0<=y&&(192&m[y])==128;)y--;return y<0||y===0?g:y+o[m[y]]>g?y:g}(A),p=A;f!==A.length&&(r.uint8array?(p=A.subarray(0,f),this.leftOver=A.subarray(f,A.length)):(p=A.slice(0,f),this.leftOver=A.slice(f,A.length))),this.push({data:e.utf8decode(p),meta:c.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=u,i.inherits(h,n),h.prototype.processChunk=function(c){this.push({data:e.utf8encode(c.data),meta:c.meta})},e.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(s,t,e){"use strict";var i=s("./support"),r=s("./base64"),a=s("./nodejsUtils"),n=s("./external");function o(d){return d}function l(d,f){for(var p=0;p<d.length;++p)f[p]=255&d.charCodeAt(p);return f}s("setimmediate"),e.newBlob=function(d,f){e.checkSupport("blob");try{return new Blob([d],{type:f})}catch{try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return p.append(d),p.getBlob(f)}catch{throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(d,f,p){var m=[],g=0,y=d.length;if(y<=p)return String.fromCharCode.apply(null,d);for(;g<y;)f==="array"||f==="nodebuffer"?m.push(String.fromCharCode.apply(null,d.slice(g,Math.min(g+p,y)))):m.push(String.fromCharCode.apply(null,d.subarray(g,Math.min(g+p,y)))),g+=p;return m.join("")},stringifyByChar:function(d){for(var f="",p=0;p<d.length;p++)f+=String.fromCharCode(d[p]);return f},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function h(d){var f=65536,p=e.getTypeOf(d),m=!0;if(p==="uint8array"?m=u.applyCanBeUsed.uint8array:p==="nodebuffer"&&(m=u.applyCanBeUsed.nodebuffer),m)for(;1<f;)try{return u.stringifyByChunk(d,p,f)}catch{f=Math.floor(f/2)}return u.stringifyByChar(d)}function c(d,f){for(var p=0;p<d.length;p++)f[p]=d[p];return f}e.applyFromCharCode=h;var A={};A.string={string:o,array:function(d){return l(d,new Array(d.length))},arraybuffer:function(d){return A.string.uint8array(d).buffer},uint8array:function(d){return l(d,new Uint8Array(d.length))},nodebuffer:function(d){return l(d,a.allocBuffer(d.length))}},A.array={string:h,array:o,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return a.newBufferFrom(d)}},A.arraybuffer={string:function(d){return h(new Uint8Array(d))},array:function(d){return c(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:o,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return a.newBufferFrom(new Uint8Array(d))}},A.uint8array={string:h,array:function(d){return c(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:o,nodebuffer:function(d){return a.newBufferFrom(d)}},A.nodebuffer={string:h,array:function(d){return c(d,new Array(d.length))},arraybuffer:function(d){return A.nodebuffer.uint8array(d).buffer},uint8array:function(d){return c(d,new Uint8Array(d.length))},nodebuffer:o},e.transformTo=function(d,f){if(f=f||"",!d)return f;e.checkSupport(d);var p=e.getTypeOf(f);return A[p][d](f)},e.resolve=function(d){for(var f=d.split("/"),p=[],m=0;m<f.length;m++){var g=f[m];g==="."||g===""&&m!==0&&m!==f.length-1||(g===".."?p.pop():p.push(g))}return p.join("/")},e.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(d)?"nodebuffer":i.uint8array&&d instanceof Uint8Array?"uint8array":i.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(d){if(!i[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(d){var f,p,m="";for(p=0;p<(d||"").length;p++)m+="\\x"+((f=d.charCodeAt(p))<16?"0":"")+f.toString(16).toUpperCase();return m},e.delay=function(d,f,p){setImmediate(function(){d.apply(p||null,f||[])})},e.inherits=function(d,f){function p(){}p.prototype=f.prototype,d.prototype=new p},e.extend=function(){var d,f,p={};for(d=0;d<arguments.length;d++)for(f in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],f)&&p[f]===void 0&&(p[f]=arguments[d][f]);return p},e.prepareContent=function(d,f,p,m,g){return n.Promise.resolve(f).then(function(y){return i.blob&&(y instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(y))!==-1)&&typeof FileReader<"u"?new n.Promise(function(x,C){var S=new FileReader;S.onload=function(P){x(P.target.result)},S.onerror=function(P){C(P.target.error)},S.readAsArrayBuffer(y)}):y}).then(function(y){var x=e.getTypeOf(y);return x?(x==="arraybuffer"?y=e.transformTo("uint8array",y):x==="string"&&(g?y=r.decode(y):p&&m!==!0&&(y=function(C){return l(C,i.uint8array?new Uint8Array(C.length):new Array(C.length))}(y))),y):n.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(s,t,e){"use strict";var i=s("./reader/readerFor"),r=s("./utils"),a=s("./signature"),n=s("./zipEntry"),o=s("./support");function l(u){this.files=[],this.loadOptions=u}l.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(h)+", expected "+r.pretty(u)+")")}},isSignature:function(u,h){var c=this.reader.index;this.reader.setIndex(u);var A=this.reader.readString(4)===h;return this.reader.setIndex(c),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),h=o.uint8array?"uint8array":"array",c=r.transformTo(h,u);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u,h,c,A=this.zip64EndOfCentralSize-44;0<A;)u=this.reader.readInt(2),h=this.reader.readInt(4),c=this.reader.readData(h),this.zip64ExtensibleData[u]={id:u,length:h,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,h;for(u=0;u<this.files.length;u++)h=this.files[u],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(u=new n({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(u<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(u);var h=u;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(u=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var c=this.centralDirOffset+this.centralDirSize;this.zip64&&(c+=20,c+=12+this.zip64EndOfCentralSize);var A=h-c;if(0<A)this.isSignature(h,a.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(u){this.reader=i(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(s,t,e){"use strict";var i=s("./reader/readerFor"),r=s("./utils"),a=s("./compressedObject"),n=s("./crc32"),o=s("./utf8"),l=s("./compressions"),u=s("./support");function h(c,A){this.options=c,this.loadOptions=A}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(c){var A,d;if(c.skip(22),this.fileNameLength=c.readInt(2),d=c.readInt(2),this.fileName=c.readData(this.fileNameLength),c.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((A=function(f){for(var p in l)if(Object.prototype.hasOwnProperty.call(l,p)&&l[p].magic===f)return l[p];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,A,c.readData(this.compressedSize))},readCentralPart:function(c){this.versionMadeBy=c.readInt(2),c.skip(2),this.bitFlag=c.readInt(2),this.compressionMethod=c.readString(2),this.date=c.readDate(),this.crc32=c.readInt(4),this.compressedSize=c.readInt(4),this.uncompressedSize=c.readInt(4);var A=c.readInt(2);if(this.extraFieldsLength=c.readInt(2),this.fileCommentLength=c.readInt(2),this.diskNumberStart=c.readInt(2),this.internalFileAttributes=c.readInt(2),this.externalFileAttributes=c.readInt(4),this.localHeaderOffset=c.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");c.skip(A),this.readExtraFields(c),this.parseZIP64ExtraField(c),this.fileComment=c.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var c=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),c==0&&(this.dosPermissions=63&this.externalFileAttributes),c==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var c=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=c.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=c.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=c.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=c.readInt(4))}},readExtraFields:function(c){var A,d,f,p=c.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});c.index+4<p;)A=c.readInt(2),d=c.readInt(2),f=c.readData(d),this.extraFields[A]={id:A,length:d,value:f};c.setIndex(p)},handleUTF8:function(){var c=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var d=r.transformTo(c,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(d)}var f=this.findExtraFieldUnicodeComment();if(f!==null)this.fileCommentStr=f;else{var p=r.transformTo(c,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(p)}}},findExtraFieldUnicodePath:function(){var c=this.extraFields[28789];if(c){var A=i(c.value);return A.readInt(1)!==1||n(this.fileName)!==A.readInt(4)?null:o.utf8decode(A.readData(c.length-5))}return null},findExtraFieldUnicodeComment:function(){var c=this.extraFields[25461];if(c){var A=i(c.value);return A.readInt(1)!==1||n(this.fileComment)!==A.readInt(4)?null:o.utf8decode(A.readData(c.length-5))}return null}},t.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(s,t,e){"use strict";function i(A,d,f){this.name=A,this.dir=f.dir,this.date=f.date,this.comment=f.comment,this.unixPermissions=f.unixPermissions,this.dosPermissions=f.dosPermissions,this._data=d,this._dataBinary=f.binary,this.options={compression:f.compression,compressionOptions:f.compressionOptions}}var r=s("./stream/StreamHelper"),a=s("./stream/DataWorker"),n=s("./utf8"),o=s("./compressedObject"),l=s("./stream/GenericWorker");i.prototype={internalStream:function(A){var d=null,f="string";try{if(!A)throw new Error("No output type specified.");var p=(f=A.toLowerCase())==="string"||f==="text";f!=="binarystring"&&f!=="text"||(f="string"),d=this._decompressWorker();var m=!this._dataBinary;m&&!p&&(d=d.pipe(new n.Utf8EncodeWorker)),!m&&p&&(d=d.pipe(new n.Utf8DecodeWorker))}catch(g){(d=new l("error")).error(g)}return new r(d,f,"")},async:function(A,d){return this.internalStream(A).accumulate(d)},nodeStream:function(A,d){return this.internalStream(A||"nodebuffer").toNodejsStream(d)},_compressWorker:function(A,d){if(this._data instanceof o&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var f=this._decompressWorker();return this._dataBinary||(f=f.pipe(new n.Utf8EncodeWorker)),o.createWorkerFrom(f,A,d)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof l?this._data:new a(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<u.length;c++)i.prototype[u[c]]=h;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(s,t,e){(function(i){"use strict";var r,a,n=i.MutationObserver||i.WebKitMutationObserver;if(n){var o=0,l=new n(A),u=i.document.createTextNode("");l.observe(u,{characterData:!0}),r=function(){u.data=o=++o%2}}else if(i.setImmediate||i.MessageChannel===void 0)r="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var d=i.document.createElement("script");d.onreadystatechange=function(){A(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},i.document.documentElement.appendChild(d)}:function(){setTimeout(A,0)};else{var h=new i.MessageChannel;h.port1.onmessage=A,r=function(){h.port2.postMessage(0)}}var c=[];function A(){var d,f;a=!0;for(var p=c.length;p;){for(f=c,c=[],d=-1;++d<p;)f[d]();p=c.length}a=!1}t.exports=function(d){c.push(d)!==1||a||r()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(s,t,e){"use strict";var i=s("immediate");function r(){}var a={},n=["REJECTED"],o=["FULFILLED"],l=["PENDING"];function u(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,p!==r&&d(this,p)}function h(p,m,g){this.promise=p,typeof m=="function"&&(this.onFulfilled=m,this.callFulfilled=this.otherCallFulfilled),typeof g=="function"&&(this.onRejected=g,this.callRejected=this.otherCallRejected)}function c(p,m,g){i(function(){var y;try{y=m(g)}catch(x){return a.reject(p,x)}y===p?a.reject(p,new TypeError("Cannot resolve promise with itself")):a.resolve(p,y)})}function A(p){var m=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof m=="function")return function(){m.apply(p,arguments)}}function d(p,m){var g=!1;function y(S){g||(g=!0,a.reject(p,S))}function x(S){g||(g=!0,a.resolve(p,S))}var C=f(function(){m(x,y)});C.status==="error"&&y(C.value)}function f(p,m){var g={};try{g.value=p(m),g.status="success"}catch(y){g.status="error",g.value=y}return g}(t.exports=u).prototype.finally=function(p){if(typeof p!="function")return this;var m=this.constructor;return this.then(function(g){return m.resolve(p()).then(function(){return g})},function(g){return m.resolve(p()).then(function(){throw g})})},u.prototype.catch=function(p){return this.then(null,p)},u.prototype.then=function(p,m){if(typeof p!="function"&&this.state===o||typeof m!="function"&&this.state===n)return this;var g=new this.constructor(r);return this.state!==l?c(g,this.state===o?p:m,this.outcome):this.queue.push(new h(g,p,m)),g},h.prototype.callFulfilled=function(p){a.resolve(this.promise,p)},h.prototype.otherCallFulfilled=function(p){c(this.promise,this.onFulfilled,p)},h.prototype.callRejected=function(p){a.reject(this.promise,p)},h.prototype.otherCallRejected=function(p){c(this.promise,this.onRejected,p)},a.resolve=function(p,m){var g=f(A,m);if(g.status==="error")return a.reject(p,g.value);var y=g.value;if(y)d(p,y);else{p.state=o,p.outcome=m;for(var x=-1,C=p.queue.length;++x<C;)p.queue[x].callFulfilled(m)}return p},a.reject=function(p,m){p.state=n,p.outcome=m;for(var g=-1,y=p.queue.length;++g<y;)p.queue[g].callRejected(m);return p},u.resolve=function(p){return p instanceof this?p:a.resolve(new this(r),p)},u.reject=function(p){var m=new this(r);return a.reject(m,p)},u.all=function(p){var m=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var g=p.length,y=!1;if(!g)return this.resolve([]);for(var x=new Array(g),C=0,S=-1,P=new this(r);++S<g;)F(p[S],S);return P;function F(O,$){m.resolve(O).then(function(L){x[$]=L,++C!==g||y||(y=!0,a.resolve(P,x))},function(L){y||(y=!0,a.reject(P,L))})}},u.race=function(p){var m=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var g=p.length,y=!1;if(!g)return this.resolve([]);for(var x=-1,C=new this(r);++x<g;)S=p[x],m.resolve(S).then(function(P){y||(y=!0,a.resolve(C,P))},function(P){y||(y=!0,a.reject(C,P))});var S;return C}},{immediate:36}],38:[function(s,t,e){"use strict";var i={};(0,s("./lib/utils/common").assign)(i,s("./lib/deflate"),s("./lib/inflate"),s("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(s,t,e){"use strict";var i=s("./zlib/deflate"),r=s("./utils/common"),a=s("./utils/strings"),n=s("./zlib/messages"),o=s("./zlib/zstream"),l=Object.prototype.toString,u=0,h=-1,c=0,A=8;function d(p){if(!(this instanceof d))return new d(p);this.options=r.assign({level:h,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},p||{});var m=this.options;m.raw&&0<m.windowBits?m.windowBits=-m.windowBits:m.gzip&&0<m.windowBits&&m.windowBits<16&&(m.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var g=i.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(g!==u)throw new Error(n[g]);if(m.header&&i.deflateSetHeader(this.strm,m.header),m.dictionary){var y;if(y=typeof m.dictionary=="string"?a.string2buf(m.dictionary):l.call(m.dictionary)==="[object ArrayBuffer]"?new Uint8Array(m.dictionary):m.dictionary,(g=i.deflateSetDictionary(this.strm,y))!==u)throw new Error(n[g]);this._dict_set=!0}}function f(p,m){var g=new d(m);if(g.push(p,!0),g.err)throw g.msg||n[g.err];return g.result}d.prototype.push=function(p,m){var g,y,x=this.strm,C=this.options.chunkSize;if(this.ended)return!1;y=m===~~m?m:m===!0?4:0,typeof p=="string"?x.input=a.string2buf(p):l.call(p)==="[object ArrayBuffer]"?x.input=new Uint8Array(p):x.input=p,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new r.Buf8(C),x.next_out=0,x.avail_out=C),(g=i.deflate(x,y))!==1&&g!==u)return this.onEnd(g),!(this.ended=!0);x.avail_out!==0&&(x.avail_in!==0||y!==4&&y!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(r.shrinkBuf(x.output,x.next_out))):this.onData(r.shrinkBuf(x.output,x.next_out)))}while((0<x.avail_in||x.avail_out===0)&&g!==1);return y===4?(g=i.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===u):y!==2||(this.onEnd(u),!(x.avail_out=0))},d.prototype.onData=function(p){this.chunks.push(p)},d.prototype.onEnd=function(p){p===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},e.Deflate=d,e.deflate=f,e.deflateRaw=function(p,m){return(m=m||{}).raw=!0,f(p,m)},e.gzip=function(p,m){return(m=m||{}).gzip=!0,f(p,m)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(s,t,e){"use strict";var i=s("./zlib/inflate"),r=s("./utils/common"),a=s("./utils/strings"),n=s("./zlib/constants"),o=s("./zlib/messages"),l=s("./zlib/zstream"),u=s("./zlib/gzheader"),h=Object.prototype.toString;function c(d){if(!(this instanceof c))return new c(d);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},d||{});var f=this.options;f.raw&&0<=f.windowBits&&f.windowBits<16&&(f.windowBits=-f.windowBits,f.windowBits===0&&(f.windowBits=-15)),!(0<=f.windowBits&&f.windowBits<16)||d&&d.windowBits||(f.windowBits+=32),15<f.windowBits&&f.windowBits<48&&(15&f.windowBits)==0&&(f.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var p=i.inflateInit2(this.strm,f.windowBits);if(p!==n.Z_OK)throw new Error(o[p]);this.header=new u,i.inflateGetHeader(this.strm,this.header)}function A(d,f){var p=new c(f);if(p.push(d,!0),p.err)throw p.msg||o[p.err];return p.result}c.prototype.push=function(d,f){var p,m,g,y,x,C,S=this.strm,P=this.options.chunkSize,F=this.options.dictionary,O=!1;if(this.ended)return!1;m=f===~~f?f:f===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof d=="string"?S.input=a.binstring2buf(d):h.call(d)==="[object ArrayBuffer]"?S.input=new Uint8Array(d):S.input=d,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new r.Buf8(P),S.next_out=0,S.avail_out=P),(p=i.inflate(S,n.Z_NO_FLUSH))===n.Z_NEED_DICT&&F&&(C=typeof F=="string"?a.string2buf(F):h.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,p=i.inflateSetDictionary(this.strm,C)),p===n.Z_BUF_ERROR&&O===!0&&(p=n.Z_OK,O=!1),p!==n.Z_STREAM_END&&p!==n.Z_OK)return this.onEnd(p),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&p!==n.Z_STREAM_END&&(S.avail_in!==0||m!==n.Z_FINISH&&m!==n.Z_SYNC_FLUSH)||(this.options.to==="string"?(g=a.utf8border(S.output,S.next_out),y=S.next_out-g,x=a.buf2string(S.output,g),S.next_out=y,S.avail_out=P-y,y&&r.arraySet(S.output,S.output,g,y,0),this.onData(x)):this.onData(r.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(O=!0)}while((0<S.avail_in||S.avail_out===0)&&p!==n.Z_STREAM_END);return p===n.Z_STREAM_END&&(m=n.Z_FINISH),m===n.Z_FINISH?(p=i.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===n.Z_OK):m!==n.Z_SYNC_FLUSH||(this.onEnd(n.Z_OK),!(S.avail_out=0))},c.prototype.onData=function(d){this.chunks.push(d)},c.prototype.onEnd=function(d){d===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},e.Inflate=c,e.inflate=A,e.inflateRaw=function(d,f){return(f=f||{}).raw=!0,A(d,f)},e.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(s,t,e){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";e.assign=function(n){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var l=o.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var u in l)l.hasOwnProperty(u)&&(n[u]=l[u])}}return n},e.shrinkBuf=function(n,o){return n.length===o?n:n.subarray?n.subarray(0,o):(n.length=o,n)};var r={arraySet:function(n,o,l,u,h){if(o.subarray&&n.subarray)n.set(o.subarray(l,l+u),h);else for(var c=0;c<u;c++)n[h+c]=o[l+c]},flattenChunks:function(n){var o,l,u,h,c,A;for(o=u=0,l=n.length;o<l;o++)u+=n[o].length;for(A=new Uint8Array(u),o=h=0,l=n.length;o<l;o++)c=n[o],A.set(c,h),h+=c.length;return A}},a={arraySet:function(n,o,l,u,h){for(var c=0;c<u;c++)n[h+c]=o[l+c]},flattenChunks:function(n){return[].concat.apply([],n)}};e.setTyped=function(n){n?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(i)},{}],42:[function(s,t,e){"use strict";var i=s("./common"),r=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var n=new i.Buf8(256),o=0;o<256;o++)n[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function l(u,h){if(h<65537&&(u.subarray&&a||!u.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(u,h));for(var c="",A=0;A<h;A++)c+=String.fromCharCode(u[A]);return c}n[254]=n[254]=1,e.string2buf=function(u){var h,c,A,d,f,p=u.length,m=0;for(d=0;d<p;d++)(64512&(c=u.charCodeAt(d)))==55296&&d+1<p&&(64512&(A=u.charCodeAt(d+1)))==56320&&(c=65536+(c-55296<<10)+(A-56320),d++),m+=c<128?1:c<2048?2:c<65536?3:4;for(h=new i.Buf8(m),d=f=0;f<m;d++)(64512&(c=u.charCodeAt(d)))==55296&&d+1<p&&(64512&(A=u.charCodeAt(d+1)))==56320&&(c=65536+(c-55296<<10)+(A-56320),d++),c<128?h[f++]=c:(c<2048?h[f++]=192|c>>>6:(c<65536?h[f++]=224|c>>>12:(h[f++]=240|c>>>18,h[f++]=128|c>>>12&63),h[f++]=128|c>>>6&63),h[f++]=128|63&c);return h},e.buf2binstring=function(u){return l(u,u.length)},e.binstring2buf=function(u){for(var h=new i.Buf8(u.length),c=0,A=h.length;c<A;c++)h[c]=u.charCodeAt(c);return h},e.buf2string=function(u,h){var c,A,d,f,p=h||u.length,m=new Array(2*p);for(c=A=0;c<p;)if((d=u[c++])<128)m[A++]=d;else if(4<(f=n[d]))m[A++]=65533,c+=f-1;else{for(d&=f===2?31:f===3?15:7;1<f&&c<p;)d=d<<6|63&u[c++],f--;1<f?m[A++]=65533:d<65536?m[A++]=d:(d-=65536,m[A++]=55296|d>>10&1023,m[A++]=56320|1023&d)}return l(m,A)},e.utf8border=function(u,h){var c;for((h=h||u.length)>u.length&&(h=u.length),c=h-1;0<=c&&(192&u[c])==128;)c--;return c<0||c===0?h:c+n[u[c]]>h?c:h}},{"./common":41}],43:[function(s,t,e){"use strict";t.exports=function(i,r,a,n){for(var o=65535&i|0,l=i>>>16&65535|0,u=0;a!==0;){for(a-=u=2e3<a?2e3:a;l=l+(o=o+r[n++]|0)|0,--u;);o%=65521,l%=65521}return o|l<<16|0}},{}],44:[function(s,t,e){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(s,t,e){"use strict";var i=function(){for(var r,a=[],n=0;n<256;n++){r=n;for(var o=0;o<8;o++)r=1&r?3988292384^r>>>1:r>>>1;a[n]=r}return a}();t.exports=function(r,a,n,o){var l=i,u=o+n;r^=-1;for(var h=o;h<u;h++)r=r>>>8^l[255&(r^a[h])];return-1^r}},{}],46:[function(s,t,e){"use strict";var i,r=s("../utils/common"),a=s("./trees"),n=s("./adler32"),o=s("./crc32"),l=s("./messages"),u=0,h=4,c=0,A=-2,d=-1,f=4,p=2,m=8,g=9,y=286,x=30,C=19,S=2*y+1,P=15,F=3,O=258,$=O+F+1,L=42,E=113,D=1,H=2,te=3,K=4;function ae(U,xe){return U.msg=l[xe],xe}function ie(U){return(U<<1)-(4<U?9:0)}function fe(U){for(var xe=U.length;0<=--xe;)U[xe]=0}function z(U){var xe=U.state,ye=xe.pending;ye>U.avail_out&&(ye=U.avail_out),ye!==0&&(r.arraySet(U.output,xe.pending_buf,xe.pending_out,ye,U.next_out),U.next_out+=ye,xe.pending_out+=ye,U.total_out+=ye,U.avail_out-=ye,xe.pending-=ye,xe.pending===0&&(xe.pending_out=0))}function Y(U,xe){a._tr_flush_block(U,0<=U.block_start?U.block_start:-1,U.strstart-U.block_start,xe),U.block_start=U.strstart,z(U.strm)}function ge(U,xe){U.pending_buf[U.pending++]=xe}function re(U,xe){U.pending_buf[U.pending++]=xe>>>8&255,U.pending_buf[U.pending++]=255&xe}function me(U,xe){var ye,G,W=U.max_chain_length,ne=U.strstart,Te=U.prev_length,Le=U.nice_match,de=U.strstart>U.w_size-$?U.strstart-(U.w_size-$):0,$e=U.window,Ke=U.w_mask,Ee=U.prev,bt=U.strstart+O,tr=$e[ne+Te-1],mi=$e[ne+Te];U.prev_length>=U.good_match&&(W>>=2),Le>U.lookahead&&(Le=U.lookahead);do if($e[(ye=xe)+Te]===mi&&$e[ye+Te-1]===tr&&$e[ye]===$e[ne]&&$e[++ye]===$e[ne+1]){ne+=2,ye++;do;while($e[++ne]===$e[++ye]&&$e[++ne]===$e[++ye]&&$e[++ne]===$e[++ye]&&$e[++ne]===$e[++ye]&&$e[++ne]===$e[++ye]&&$e[++ne]===$e[++ye]&&$e[++ne]===$e[++ye]&&$e[++ne]===$e[++ye]&&ne<bt);if(G=O-(bt-ne),ne=bt-O,Te<G){if(U.match_start=xe,Le<=(Te=G))break;tr=$e[ne+Te-1],mi=$e[ne+Te]}}while((xe=Ee[xe&Ke])>de&&--W!=0);return Te<=U.lookahead?Te:U.lookahead}function Ge(U){var xe,ye,G,W,ne,Te,Le,de,$e,Ke,Ee=U.w_size;do{if(W=U.window_size-U.lookahead-U.strstart,U.strstart>=Ee+(Ee-$)){for(r.arraySet(U.window,U.window,Ee,Ee,0),U.match_start-=Ee,U.strstart-=Ee,U.block_start-=Ee,xe=ye=U.hash_size;G=U.head[--xe],U.head[xe]=Ee<=G?G-Ee:0,--ye;);for(xe=ye=Ee;G=U.prev[--xe],U.prev[xe]=Ee<=G?G-Ee:0,--ye;);W+=Ee}if(U.strm.avail_in===0)break;if(Te=U.strm,Le=U.window,de=U.strstart+U.lookahead,$e=W,Ke=void 0,Ke=Te.avail_in,$e<Ke&&(Ke=$e),ye=Ke===0?0:(Te.avail_in-=Ke,r.arraySet(Le,Te.input,Te.next_in,Ke,de),Te.state.wrap===1?Te.adler=n(Te.adler,Le,Ke,de):Te.state.wrap===2&&(Te.adler=o(Te.adler,Le,Ke,de)),Te.next_in+=Ke,Te.total_in+=Ke,Ke),U.lookahead+=ye,U.lookahead+U.insert>=F)for(ne=U.strstart-U.insert,U.ins_h=U.window[ne],U.ins_h=(U.ins_h<<U.hash_shift^U.window[ne+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[ne+F-1])&U.hash_mask,U.prev[ne&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=ne,ne++,U.insert--,!(U.lookahead+U.insert<F)););}while(U.lookahead<$&&U.strm.avail_in!==0)}function Xe(U,xe){for(var ye,G;;){if(U.lookahead<$){if(Ge(U),U.lookahead<$&&xe===u)return D;if(U.lookahead===0)break}if(ye=0,U.lookahead>=F&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+F-1])&U.hash_mask,ye=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),ye!==0&&U.strstart-ye<=U.w_size-$&&(U.match_length=me(U,ye)),U.match_length>=F)if(G=a._tr_tally(U,U.strstart-U.match_start,U.match_length-F),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=F){for(U.match_length--;U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+F-1])&U.hash_mask,ye=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart,--U.match_length!=0;);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else G=a._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if(G&&(Y(U,!1),U.strm.avail_out===0))return D}return U.insert=U.strstart<F-1?U.strstart:F-1,xe===h?(Y(U,!0),U.strm.avail_out===0?te:K):U.last_lit&&(Y(U,!1),U.strm.avail_out===0)?D:H}function nt(U,xe){for(var ye,G,W;;){if(U.lookahead<$){if(Ge(U),U.lookahead<$&&xe===u)return D;if(U.lookahead===0)break}if(ye=0,U.lookahead>=F&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+F-1])&U.hash_mask,ye=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=F-1,ye!==0&&U.prev_length<U.max_lazy_match&&U.strstart-ye<=U.w_size-$&&(U.match_length=me(U,ye),U.match_length<=5&&(U.strategy===1||U.match_length===F&&4096<U.strstart-U.match_start)&&(U.match_length=F-1)),U.prev_length>=F&&U.match_length<=U.prev_length){for(W=U.strstart+U.lookahead-F,G=a._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-F),U.lookahead-=U.prev_length-1,U.prev_length-=2;++U.strstart<=W&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+F-1])&U.hash_mask,ye=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),--U.prev_length!=0;);if(U.match_available=0,U.match_length=F-1,U.strstart++,G&&(Y(U,!1),U.strm.avail_out===0))return D}else if(U.match_available){if((G=a._tr_tally(U,0,U.window[U.strstart-1]))&&Y(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return D}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&(G=a._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<F-1?U.strstart:F-1,xe===h?(Y(U,!0),U.strm.avail_out===0?te:K):U.last_lit&&(Y(U,!1),U.strm.avail_out===0)?D:H}function At(U,xe,ye,G,W){this.good_length=U,this.max_lazy=xe,this.nice_length=ye,this.max_chain=G,this.func=W}function tt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*S),this.dyn_dtree=new r.Buf16(2*(2*x+1)),this.bl_tree=new r.Buf16(2*(2*C+1)),fe(this.dyn_ltree),fe(this.dyn_dtree),fe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(P+1),this.heap=new r.Buf16(2*y+1),fe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*y+1),fe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ft(U){var xe;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=p,(xe=U.state).pending=0,xe.pending_out=0,xe.wrap<0&&(xe.wrap=-xe.wrap),xe.status=xe.wrap?L:E,U.adler=xe.wrap===2?0:1,xe.last_flush=u,a._tr_init(xe),c):ae(U,A)}function _t(U){var xe=ft(U);return xe===c&&function(ye){ye.window_size=2*ye.w_size,fe(ye.head),ye.max_lazy_match=i[ye.level].max_lazy,ye.good_match=i[ye.level].good_length,ye.nice_match=i[ye.level].nice_length,ye.max_chain_length=i[ye.level].max_chain,ye.strstart=0,ye.block_start=0,ye.lookahead=0,ye.insert=0,ye.match_length=ye.prev_length=F-1,ye.match_available=0,ye.ins_h=0}(U.state),xe}function $t(U,xe,ye,G,W,ne){if(!U)return A;var Te=1;if(xe===d&&(xe=6),G<0?(Te=0,G=-G):15<G&&(Te=2,G-=16),W<1||g<W||ye!==m||G<8||15<G||xe<0||9<xe||ne<0||f<ne)return ae(U,A);G===8&&(G=9);var Le=new tt;return(U.state=Le).strm=U,Le.wrap=Te,Le.gzhead=null,Le.w_bits=G,Le.w_size=1<<Le.w_bits,Le.w_mask=Le.w_size-1,Le.hash_bits=W+7,Le.hash_size=1<<Le.hash_bits,Le.hash_mask=Le.hash_size-1,Le.hash_shift=~~((Le.hash_bits+F-1)/F),Le.window=new r.Buf8(2*Le.w_size),Le.head=new r.Buf16(Le.hash_size),Le.prev=new r.Buf16(Le.w_size),Le.lit_bufsize=1<<W+6,Le.pending_buf_size=4*Le.lit_bufsize,Le.pending_buf=new r.Buf8(Le.pending_buf_size),Le.d_buf=1*Le.lit_bufsize,Le.l_buf=3*Le.lit_bufsize,Le.level=xe,Le.strategy=ne,Le.method=ye,_t(U)}i=[new At(0,0,0,0,function(U,xe){var ye=65535;for(ye>U.pending_buf_size-5&&(ye=U.pending_buf_size-5);;){if(U.lookahead<=1){if(Ge(U),U.lookahead===0&&xe===u)return D;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var G=U.block_start+ye;if((U.strstart===0||U.strstart>=G)&&(U.lookahead=U.strstart-G,U.strstart=G,Y(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-$&&(Y(U,!1),U.strm.avail_out===0))return D}return U.insert=0,xe===h?(Y(U,!0),U.strm.avail_out===0?te:K):(U.strstart>U.block_start&&(Y(U,!1),U.strm.avail_out),D)}),new At(4,4,8,4,Xe),new At(4,5,16,8,Xe),new At(4,6,32,32,Xe),new At(4,4,16,16,nt),new At(8,16,32,32,nt),new At(8,16,128,128,nt),new At(8,32,128,256,nt),new At(32,128,258,1024,nt),new At(32,258,258,4096,nt)],e.deflateInit=function(U,xe){return $t(U,xe,m,15,8,0)},e.deflateInit2=$t,e.deflateReset=_t,e.deflateResetKeep=ft,e.deflateSetHeader=function(U,xe){return U&&U.state?U.state.wrap!==2?A:(U.state.gzhead=xe,c):A},e.deflate=function(U,xe){var ye,G,W,ne;if(!U||!U.state||5<xe||xe<0)return U?ae(U,A):A;if(G=U.state,!U.output||!U.input&&U.avail_in!==0||G.status===666&&xe!==h)return ae(U,U.avail_out===0?-5:A);if(G.strm=U,ye=G.last_flush,G.last_flush=xe,G.status===L)if(G.wrap===2)U.adler=0,ge(G,31),ge(G,139),ge(G,8),G.gzhead?(ge(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),ge(G,255&G.gzhead.time),ge(G,G.gzhead.time>>8&255),ge(G,G.gzhead.time>>16&255),ge(G,G.gzhead.time>>24&255),ge(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),ge(G,255&G.gzhead.os),G.gzhead.extra&&G.gzhead.extra.length&&(ge(G,255&G.gzhead.extra.length),ge(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(U.adler=o(U.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=69):(ge(G,0),ge(G,0),ge(G,0),ge(G,0),ge(G,0),ge(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),ge(G,3),G.status=E);else{var Te=m+(G.w_bits-8<<4)<<8;Te|=(2<=G.strategy||G.level<2?0:G.level<6?1:G.level===6?2:3)<<6,G.strstart!==0&&(Te|=32),Te+=31-Te%31,G.status=E,re(G,Te),G.strstart!==0&&(re(G,U.adler>>>16),re(G,65535&U.adler)),U.adler=1}if(G.status===69)if(G.gzhead.extra){for(W=G.pending;G.gzindex<(65535&G.gzhead.extra.length)&&(G.pending!==G.pending_buf_size||(G.gzhead.hcrc&&G.pending>W&&(U.adler=o(U.adler,G.pending_buf,G.pending-W,W)),z(U),W=G.pending,G.pending!==G.pending_buf_size));)ge(G,255&G.gzhead.extra[G.gzindex]),G.gzindex++;G.gzhead.hcrc&&G.pending>W&&(U.adler=o(U.adler,G.pending_buf,G.pending-W,W)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=73)}else G.status=73;if(G.status===73)if(G.gzhead.name){W=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>W&&(U.adler=o(U.adler,G.pending_buf,G.pending-W,W)),z(U),W=G.pending,G.pending===G.pending_buf_size)){ne=1;break}ne=G.gzindex<G.gzhead.name.length?255&G.gzhead.name.charCodeAt(G.gzindex++):0,ge(G,ne)}while(ne!==0);G.gzhead.hcrc&&G.pending>W&&(U.adler=o(U.adler,G.pending_buf,G.pending-W,W)),ne===0&&(G.gzindex=0,G.status=91)}else G.status=91;if(G.status===91)if(G.gzhead.comment){W=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>W&&(U.adler=o(U.adler,G.pending_buf,G.pending-W,W)),z(U),W=G.pending,G.pending===G.pending_buf_size)){ne=1;break}ne=G.gzindex<G.gzhead.comment.length?255&G.gzhead.comment.charCodeAt(G.gzindex++):0,ge(G,ne)}while(ne!==0);G.gzhead.hcrc&&G.pending>W&&(U.adler=o(U.adler,G.pending_buf,G.pending-W,W)),ne===0&&(G.status=103)}else G.status=103;if(G.status===103&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&z(U),G.pending+2<=G.pending_buf_size&&(ge(G,255&U.adler),ge(G,U.adler>>8&255),U.adler=0,G.status=E)):G.status=E),G.pending!==0){if(z(U),U.avail_out===0)return G.last_flush=-1,c}else if(U.avail_in===0&&ie(xe)<=ie(ye)&&xe!==h)return ae(U,-5);if(G.status===666&&U.avail_in!==0)return ae(U,-5);if(U.avail_in!==0||G.lookahead!==0||xe!==u&&G.status!==666){var Le=G.strategy===2?function(de,$e){for(var Ke;;){if(de.lookahead===0&&(Ge(de),de.lookahead===0)){if($e===u)return D;break}if(de.match_length=0,Ke=a._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++,Ke&&(Y(de,!1),de.strm.avail_out===0))return D}return de.insert=0,$e===h?(Y(de,!0),de.strm.avail_out===0?te:K):de.last_lit&&(Y(de,!1),de.strm.avail_out===0)?D:H}(G,xe):G.strategy===3?function(de,$e){for(var Ke,Ee,bt,tr,mi=de.window;;){if(de.lookahead<=O){if(Ge(de),de.lookahead<=O&&$e===u)return D;if(de.lookahead===0)break}if(de.match_length=0,de.lookahead>=F&&0<de.strstart&&(Ee=mi[bt=de.strstart-1])===mi[++bt]&&Ee===mi[++bt]&&Ee===mi[++bt]){tr=de.strstart+O;do;while(Ee===mi[++bt]&&Ee===mi[++bt]&&Ee===mi[++bt]&&Ee===mi[++bt]&&Ee===mi[++bt]&&Ee===mi[++bt]&&Ee===mi[++bt]&&Ee===mi[++bt]&&bt<tr);de.match_length=O-(tr-bt),de.match_length>de.lookahead&&(de.match_length=de.lookahead)}if(de.match_length>=F?(Ke=a._tr_tally(de,1,de.match_length-F),de.lookahead-=de.match_length,de.strstart+=de.match_length,de.match_length=0):(Ke=a._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++),Ke&&(Y(de,!1),de.strm.avail_out===0))return D}return de.insert=0,$e===h?(Y(de,!0),de.strm.avail_out===0?te:K):de.last_lit&&(Y(de,!1),de.strm.avail_out===0)?D:H}(G,xe):i[G.level].func(G,xe);if(Le!==te&&Le!==K||(G.status=666),Le===D||Le===te)return U.avail_out===0&&(G.last_flush=-1),c;if(Le===H&&(xe===1?a._tr_align(G):xe!==5&&(a._tr_stored_block(G,0,0,!1),xe===3&&(fe(G.head),G.lookahead===0&&(G.strstart=0,G.block_start=0,G.insert=0))),z(U),U.avail_out===0))return G.last_flush=-1,c}return xe!==h?c:G.wrap<=0?1:(G.wrap===2?(ge(G,255&U.adler),ge(G,U.adler>>8&255),ge(G,U.adler>>16&255),ge(G,U.adler>>24&255),ge(G,255&U.total_in),ge(G,U.total_in>>8&255),ge(G,U.total_in>>16&255),ge(G,U.total_in>>24&255)):(re(G,U.adler>>>16),re(G,65535&U.adler)),z(U),0<G.wrap&&(G.wrap=-G.wrap),G.pending!==0?c:1)},e.deflateEnd=function(U){var xe;return U&&U.state?(xe=U.state.status)!==L&&xe!==69&&xe!==73&&xe!==91&&xe!==103&&xe!==E&&xe!==666?ae(U,A):(U.state=null,xe===E?ae(U,-3):c):A},e.deflateSetDictionary=function(U,xe){var ye,G,W,ne,Te,Le,de,$e,Ke=xe.length;if(!U||!U.state||(ne=(ye=U.state).wrap)===2||ne===1&&ye.status!==L||ye.lookahead)return A;for(ne===1&&(U.adler=n(U.adler,xe,Ke,0)),ye.wrap=0,Ke>=ye.w_size&&(ne===0&&(fe(ye.head),ye.strstart=0,ye.block_start=0,ye.insert=0),$e=new r.Buf8(ye.w_size),r.arraySet($e,xe,Ke-ye.w_size,ye.w_size,0),xe=$e,Ke=ye.w_size),Te=U.avail_in,Le=U.next_in,de=U.input,U.avail_in=Ke,U.next_in=0,U.input=xe,Ge(ye);ye.lookahead>=F;){for(G=ye.strstart,W=ye.lookahead-(F-1);ye.ins_h=(ye.ins_h<<ye.hash_shift^ye.window[G+F-1])&ye.hash_mask,ye.prev[G&ye.w_mask]=ye.head[ye.ins_h],ye.head[ye.ins_h]=G,G++,--W;);ye.strstart=G,ye.lookahead=F-1,Ge(ye)}return ye.strstart+=ye.lookahead,ye.block_start=ye.strstart,ye.insert=ye.lookahead,ye.lookahead=0,ye.match_length=ye.prev_length=F-1,ye.match_available=0,U.next_in=Le,U.input=de,U.avail_in=Te,ye.wrap=ne,c},e.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(s,t,e){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(s,t,e){"use strict";t.exports=function(i,r){var a,n,o,l,u,h,c,A,d,f,p,m,g,y,x,C,S,P,F,O,$,L,E,D,H;a=i.state,n=i.next_in,D=i.input,o=n+(i.avail_in-5),l=i.next_out,H=i.output,u=l-(r-i.avail_out),h=l+(i.avail_out-257),c=a.dmax,A=a.wsize,d=a.whave,f=a.wnext,p=a.window,m=a.hold,g=a.bits,y=a.lencode,x=a.distcode,C=(1<<a.lenbits)-1,S=(1<<a.distbits)-1;e:do{g<15&&(m+=D[n++]<<g,g+=8,m+=D[n++]<<g,g+=8),P=y[m&C];t:for(;;){if(m>>>=F=P>>>24,g-=F,(F=P>>>16&255)===0)H[l++]=65535&P;else{if(!(16&F)){if((64&F)==0){P=y[(65535&P)+(m&(1<<F)-1)];continue t}if(32&F){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}O=65535&P,(F&=15)&&(g<F&&(m+=D[n++]<<g,g+=8),O+=m&(1<<F)-1,m>>>=F,g-=F),g<15&&(m+=D[n++]<<g,g+=8,m+=D[n++]<<g,g+=8),P=x[m&S];i:for(;;){if(m>>>=F=P>>>24,g-=F,!(16&(F=P>>>16&255))){if((64&F)==0){P=x[(65535&P)+(m&(1<<F)-1)];continue i}i.msg="invalid distance code",a.mode=30;break e}if($=65535&P,g<(F&=15)&&(m+=D[n++]<<g,(g+=8)<F&&(m+=D[n++]<<g,g+=8)),c<($+=m&(1<<F)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(m>>>=F,g-=F,(F=l-u)<$){if(d<(F=$-F)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(E=p,(L=0)===f){if(L+=A-F,F<O){for(O-=F;H[l++]=p[L++],--F;);L=l-$,E=H}}else if(f<F){if(L+=A+f-F,(F-=f)<O){for(O-=F;H[l++]=p[L++],--F;);if(L=0,f<O){for(O-=F=f;H[l++]=p[L++],--F;);L=l-$,E=H}}}else if(L+=f-F,F<O){for(O-=F;H[l++]=p[L++],--F;);L=l-$,E=H}for(;2<O;)H[l++]=E[L++],H[l++]=E[L++],H[l++]=E[L++],O-=3;O&&(H[l++]=E[L++],1<O&&(H[l++]=E[L++]))}else{for(L=l-$;H[l++]=H[L++],H[l++]=H[L++],H[l++]=H[L++],2<(O-=3););O&&(H[l++]=H[L++],1<O&&(H[l++]=H[L++]))}break}}break}}while(n<o&&l<h);n-=O=g>>3,m&=(1<<(g-=O<<3))-1,i.next_in=n,i.next_out=l,i.avail_in=n<o?o-n+5:5-(n-o),i.avail_out=l<h?h-l+257:257-(l-h),a.hold=m,a.bits=g}},{}],49:[function(s,t,e){"use strict";var i=s("../utils/common"),r=s("./adler32"),a=s("./crc32"),n=s("./inffast"),o=s("./inftrees"),l=1,u=2,h=0,c=-2,A=1,d=852,f=592;function p(L){return(L>>>24&255)+(L>>>8&65280)+((65280&L)<<8)+((255&L)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(L){var E;return L&&L.state?(E=L.state,L.total_in=L.total_out=E.total=0,L.msg="",E.wrap&&(L.adler=1&E.wrap),E.mode=A,E.last=0,E.havedict=0,E.dmax=32768,E.head=null,E.hold=0,E.bits=0,E.lencode=E.lendyn=new i.Buf32(d),E.distcode=E.distdyn=new i.Buf32(f),E.sane=1,E.back=-1,h):c}function y(L){var E;return L&&L.state?((E=L.state).wsize=0,E.whave=0,E.wnext=0,g(L)):c}function x(L,E){var D,H;return L&&L.state?(H=L.state,E<0?(D=0,E=-E):(D=1+(E>>4),E<48&&(E&=15)),E&&(E<8||15<E)?c:(H.window!==null&&H.wbits!==E&&(H.window=null),H.wrap=D,H.wbits=E,y(L))):c}function C(L,E){var D,H;return L?(H=new m,(L.state=H).window=null,(D=x(L,E))!==h&&(L.state=null),D):c}var S,P,F=!0;function O(L){if(F){var E;for(S=new i.Buf32(512),P=new i.Buf32(32),E=0;E<144;)L.lens[E++]=8;for(;E<256;)L.lens[E++]=9;for(;E<280;)L.lens[E++]=7;for(;E<288;)L.lens[E++]=8;for(o(l,L.lens,0,288,S,0,L.work,{bits:9}),E=0;E<32;)L.lens[E++]=5;o(u,L.lens,0,32,P,0,L.work,{bits:5}),F=!1}L.lencode=S,L.lenbits=9,L.distcode=P,L.distbits=5}function $(L,E,D,H){var te,K=L.state;return K.window===null&&(K.wsize=1<<K.wbits,K.wnext=0,K.whave=0,K.window=new i.Buf8(K.wsize)),H>=K.wsize?(i.arraySet(K.window,E,D-K.wsize,K.wsize,0),K.wnext=0,K.whave=K.wsize):(H<(te=K.wsize-K.wnext)&&(te=H),i.arraySet(K.window,E,D-H,te,K.wnext),(H-=te)?(i.arraySet(K.window,E,D-H,H,0),K.wnext=H,K.whave=K.wsize):(K.wnext+=te,K.wnext===K.wsize&&(K.wnext=0),K.whave<K.wsize&&(K.whave+=te))),0}e.inflateReset=y,e.inflateReset2=x,e.inflateResetKeep=g,e.inflateInit=function(L){return C(L,15)},e.inflateInit2=C,e.inflate=function(L,E){var D,H,te,K,ae,ie,fe,z,Y,ge,re,me,Ge,Xe,nt,At,tt,ft,_t,$t,U,xe,ye,G,W=0,ne=new i.Buf8(4),Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!L||!L.state||!L.output||!L.input&&L.avail_in!==0)return c;(D=L.state).mode===12&&(D.mode=13),ae=L.next_out,te=L.output,fe=L.avail_out,K=L.next_in,H=L.input,ie=L.avail_in,z=D.hold,Y=D.bits,ge=ie,re=fe,xe=h;e:for(;;)switch(D.mode){case A:if(D.wrap===0){D.mode=13;break}for(;Y<16;){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}if(2&D.wrap&&z===35615){ne[D.check=0]=255&z,ne[1]=z>>>8&255,D.check=a(D.check,ne,2,0),Y=z=0,D.mode=2;break}if(D.flags=0,D.head&&(D.head.done=!1),!(1&D.wrap)||(((255&z)<<8)+(z>>8))%31){L.msg="incorrect header check",D.mode=30;break}if((15&z)!=8){L.msg="unknown compression method",D.mode=30;break}if(Y-=4,U=8+(15&(z>>>=4)),D.wbits===0)D.wbits=U;else if(U>D.wbits){L.msg="invalid window size",D.mode=30;break}D.dmax=1<<U,L.adler=D.check=1,D.mode=512&z?10:12,Y=z=0;break;case 2:for(;Y<16;){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}if(D.flags=z,(255&D.flags)!=8){L.msg="unknown compression method",D.mode=30;break}if(57344&D.flags){L.msg="unknown header flags set",D.mode=30;break}D.head&&(D.head.text=z>>8&1),512&D.flags&&(ne[0]=255&z,ne[1]=z>>>8&255,D.check=a(D.check,ne,2,0)),Y=z=0,D.mode=3;case 3:for(;Y<32;){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}D.head&&(D.head.time=z),512&D.flags&&(ne[0]=255&z,ne[1]=z>>>8&255,ne[2]=z>>>16&255,ne[3]=z>>>24&255,D.check=a(D.check,ne,4,0)),Y=z=0,D.mode=4;case 4:for(;Y<16;){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}D.head&&(D.head.xflags=255&z,D.head.os=z>>8),512&D.flags&&(ne[0]=255&z,ne[1]=z>>>8&255,D.check=a(D.check,ne,2,0)),Y=z=0,D.mode=5;case 5:if(1024&D.flags){for(;Y<16;){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}D.length=z,D.head&&(D.head.extra_len=z),512&D.flags&&(ne[0]=255&z,ne[1]=z>>>8&255,D.check=a(D.check,ne,2,0)),Y=z=0}else D.head&&(D.head.extra=null);D.mode=6;case 6:if(1024&D.flags&&(ie<(me=D.length)&&(me=ie),me&&(D.head&&(U=D.head.extra_len-D.length,D.head.extra||(D.head.extra=new Array(D.head.extra_len)),i.arraySet(D.head.extra,H,K,me,U)),512&D.flags&&(D.check=a(D.check,H,me,K)),ie-=me,K+=me,D.length-=me),D.length))break e;D.length=0,D.mode=7;case 7:if(2048&D.flags){if(ie===0)break e;for(me=0;U=H[K+me++],D.head&&U&&D.length<65536&&(D.head.name+=String.fromCharCode(U)),U&&me<ie;);if(512&D.flags&&(D.check=a(D.check,H,me,K)),ie-=me,K+=me,U)break e}else D.head&&(D.head.name=null);D.length=0,D.mode=8;case 8:if(4096&D.flags){if(ie===0)break e;for(me=0;U=H[K+me++],D.head&&U&&D.length<65536&&(D.head.comment+=String.fromCharCode(U)),U&&me<ie;);if(512&D.flags&&(D.check=a(D.check,H,me,K)),ie-=me,K+=me,U)break e}else D.head&&(D.head.comment=null);D.mode=9;case 9:if(512&D.flags){for(;Y<16;){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}if(z!==(65535&D.check)){L.msg="header crc mismatch",D.mode=30;break}Y=z=0}D.head&&(D.head.hcrc=D.flags>>9&1,D.head.done=!0),L.adler=D.check=0,D.mode=12;break;case 10:for(;Y<32;){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}L.adler=D.check=p(z),Y=z=0,D.mode=11;case 11:if(D.havedict===0)return L.next_out=ae,L.avail_out=fe,L.next_in=K,L.avail_in=ie,D.hold=z,D.bits=Y,2;L.adler=D.check=1,D.mode=12;case 12:if(E===5||E===6)break e;case 13:if(D.last){z>>>=7&Y,Y-=7&Y,D.mode=27;break}for(;Y<3;){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}switch(D.last=1&z,Y-=1,3&(z>>>=1)){case 0:D.mode=14;break;case 1:if(O(D),D.mode=20,E!==6)break;z>>>=2,Y-=2;break e;case 2:D.mode=17;break;case 3:L.msg="invalid block type",D.mode=30}z>>>=2,Y-=2;break;case 14:for(z>>>=7&Y,Y-=7&Y;Y<32;){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}if((65535&z)!=(z>>>16^65535)){L.msg="invalid stored block lengths",D.mode=30;break}if(D.length=65535&z,Y=z=0,D.mode=15,E===6)break e;case 15:D.mode=16;case 16:if(me=D.length){if(ie<me&&(me=ie),fe<me&&(me=fe),me===0)break e;i.arraySet(te,H,K,me,ae),ie-=me,K+=me,fe-=me,ae+=me,D.length-=me;break}D.mode=12;break;case 17:for(;Y<14;){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}if(D.nlen=257+(31&z),z>>>=5,Y-=5,D.ndist=1+(31&z),z>>>=5,Y-=5,D.ncode=4+(15&z),z>>>=4,Y-=4,286<D.nlen||30<D.ndist){L.msg="too many length or distance symbols",D.mode=30;break}D.have=0,D.mode=18;case 18:for(;D.have<D.ncode;){for(;Y<3;){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}D.lens[Te[D.have++]]=7&z,z>>>=3,Y-=3}for(;D.have<19;)D.lens[Te[D.have++]]=0;if(D.lencode=D.lendyn,D.lenbits=7,ye={bits:D.lenbits},xe=o(0,D.lens,0,19,D.lencode,0,D.work,ye),D.lenbits=ye.bits,xe){L.msg="invalid code lengths set",D.mode=30;break}D.have=0,D.mode=19;case 19:for(;D.have<D.nlen+D.ndist;){for(;At=(W=D.lencode[z&(1<<D.lenbits)-1])>>>16&255,tt=65535&W,!((nt=W>>>24)<=Y);){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}if(tt<16)z>>>=nt,Y-=nt,D.lens[D.have++]=tt;else{if(tt===16){for(G=nt+2;Y<G;){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}if(z>>>=nt,Y-=nt,D.have===0){L.msg="invalid bit length repeat",D.mode=30;break}U=D.lens[D.have-1],me=3+(3&z),z>>>=2,Y-=2}else if(tt===17){for(G=nt+3;Y<G;){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}Y-=nt,U=0,me=3+(7&(z>>>=nt)),z>>>=3,Y-=3}else{for(G=nt+7;Y<G;){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}Y-=nt,U=0,me=11+(127&(z>>>=nt)),z>>>=7,Y-=7}if(D.have+me>D.nlen+D.ndist){L.msg="invalid bit length repeat",D.mode=30;break}for(;me--;)D.lens[D.have++]=U}}if(D.mode===30)break;if(D.lens[256]===0){L.msg="invalid code -- missing end-of-block",D.mode=30;break}if(D.lenbits=9,ye={bits:D.lenbits},xe=o(l,D.lens,0,D.nlen,D.lencode,0,D.work,ye),D.lenbits=ye.bits,xe){L.msg="invalid literal/lengths set",D.mode=30;break}if(D.distbits=6,D.distcode=D.distdyn,ye={bits:D.distbits},xe=o(u,D.lens,D.nlen,D.ndist,D.distcode,0,D.work,ye),D.distbits=ye.bits,xe){L.msg="invalid distances set",D.mode=30;break}if(D.mode=20,E===6)break e;case 20:D.mode=21;case 21:if(6<=ie&&258<=fe){L.next_out=ae,L.avail_out=fe,L.next_in=K,L.avail_in=ie,D.hold=z,D.bits=Y,n(L,re),ae=L.next_out,te=L.output,fe=L.avail_out,K=L.next_in,H=L.input,ie=L.avail_in,z=D.hold,Y=D.bits,D.mode===12&&(D.back=-1);break}for(D.back=0;At=(W=D.lencode[z&(1<<D.lenbits)-1])>>>16&255,tt=65535&W,!((nt=W>>>24)<=Y);){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}if(At&&(240&At)==0){for(ft=nt,_t=At,$t=tt;At=(W=D.lencode[$t+((z&(1<<ft+_t)-1)>>ft)])>>>16&255,tt=65535&W,!(ft+(nt=W>>>24)<=Y);){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}z>>>=ft,Y-=ft,D.back+=ft}if(z>>>=nt,Y-=nt,D.back+=nt,D.length=tt,At===0){D.mode=26;break}if(32&At){D.back=-1,D.mode=12;break}if(64&At){L.msg="invalid literal/length code",D.mode=30;break}D.extra=15&At,D.mode=22;case 22:if(D.extra){for(G=D.extra;Y<G;){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}D.length+=z&(1<<D.extra)-1,z>>>=D.extra,Y-=D.extra,D.back+=D.extra}D.was=D.length,D.mode=23;case 23:for(;At=(W=D.distcode[z&(1<<D.distbits)-1])>>>16&255,tt=65535&W,!((nt=W>>>24)<=Y);){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}if((240&At)==0){for(ft=nt,_t=At,$t=tt;At=(W=D.distcode[$t+((z&(1<<ft+_t)-1)>>ft)])>>>16&255,tt=65535&W,!(ft+(nt=W>>>24)<=Y);){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}z>>>=ft,Y-=ft,D.back+=ft}if(z>>>=nt,Y-=nt,D.back+=nt,64&At){L.msg="invalid distance code",D.mode=30;break}D.offset=tt,D.extra=15&At,D.mode=24;case 24:if(D.extra){for(G=D.extra;Y<G;){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}D.offset+=z&(1<<D.extra)-1,z>>>=D.extra,Y-=D.extra,D.back+=D.extra}if(D.offset>D.dmax){L.msg="invalid distance too far back",D.mode=30;break}D.mode=25;case 25:if(fe===0)break e;if(me=re-fe,D.offset>me){if((me=D.offset-me)>D.whave&&D.sane){L.msg="invalid distance too far back",D.mode=30;break}Ge=me>D.wnext?(me-=D.wnext,D.wsize-me):D.wnext-me,me>D.length&&(me=D.length),Xe=D.window}else Xe=te,Ge=ae-D.offset,me=D.length;for(fe<me&&(me=fe),fe-=me,D.length-=me;te[ae++]=Xe[Ge++],--me;);D.length===0&&(D.mode=21);break;case 26:if(fe===0)break e;te[ae++]=D.length,fe--,D.mode=21;break;case 27:if(D.wrap){for(;Y<32;){if(ie===0)break e;ie--,z|=H[K++]<<Y,Y+=8}if(re-=fe,L.total_out+=re,D.total+=re,re&&(L.adler=D.check=D.flags?a(D.check,te,re,ae-re):r(D.check,te,re,ae-re)),re=fe,(D.flags?z:p(z))!==D.check){L.msg="incorrect data check",D.mode=30;break}Y=z=0}D.mode=28;case 28:if(D.wrap&&D.flags){for(;Y<32;){if(ie===0)break e;ie--,z+=H[K++]<<Y,Y+=8}if(z!==(4294967295&D.total)){L.msg="incorrect length check",D.mode=30;break}Y=z=0}D.mode=29;case 29:xe=1;break e;case 30:xe=-3;break e;case 31:return-4;case 32:default:return c}return L.next_out=ae,L.avail_out=fe,L.next_in=K,L.avail_in=ie,D.hold=z,D.bits=Y,(D.wsize||re!==L.avail_out&&D.mode<30&&(D.mode<27||E!==4))&&$(L,L.output,L.next_out,re-L.avail_out)?(D.mode=31,-4):(ge-=L.avail_in,re-=L.avail_out,L.total_in+=ge,L.total_out+=re,D.total+=re,D.wrap&&re&&(L.adler=D.check=D.flags?a(D.check,te,re,L.next_out-re):r(D.check,te,re,L.next_out-re)),L.data_type=D.bits+(D.last?64:0)+(D.mode===12?128:0)+(D.mode===20||D.mode===15?256:0),(ge==0&&re===0||E===4)&&xe===h&&(xe=-5),xe)},e.inflateEnd=function(L){if(!L||!L.state)return c;var E=L.state;return E.window&&(E.window=null),L.state=null,h},e.inflateGetHeader=function(L,E){var D;return L&&L.state?(2&(D=L.state).wrap)==0?c:((D.head=E).done=!1,h):c},e.inflateSetDictionary=function(L,E){var D,H=E.length;return L&&L.state?(D=L.state).wrap!==0&&D.mode!==11?c:D.mode===11&&r(1,E,H,0)!==D.check?-3:$(L,E,H,H)?(D.mode=31,-4):(D.havedict=1,h):c},e.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(s,t,e){"use strict";var i=s("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],n=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(l,u,h,c,A,d,f,p){var m,g,y,x,C,S,P,F,O,$=p.bits,L=0,E=0,D=0,H=0,te=0,K=0,ae=0,ie=0,fe=0,z=0,Y=null,ge=0,re=new i.Buf16(16),me=new i.Buf16(16),Ge=null,Xe=0;for(L=0;L<=15;L++)re[L]=0;for(E=0;E<c;E++)re[u[h+E]]++;for(te=$,H=15;1<=H&&re[H]===0;H--);if(H<te&&(te=H),H===0)return A[d++]=20971520,A[d++]=20971520,p.bits=1,0;for(D=1;D<H&&re[D]===0;D++);for(te<D&&(te=D),L=ie=1;L<=15;L++)if(ie<<=1,(ie-=re[L])<0)return-1;if(0<ie&&(l===0||H!==1))return-1;for(me[1]=0,L=1;L<15;L++)me[L+1]=me[L]+re[L];for(E=0;E<c;E++)u[h+E]!==0&&(f[me[u[h+E]]++]=E);if(S=l===0?(Y=Ge=f,19):l===1?(Y=r,ge-=257,Ge=a,Xe-=257,256):(Y=n,Ge=o,-1),L=D,C=d,ae=E=z=0,y=-1,x=(fe=1<<(K=te))-1,l===1&&852<fe||l===2&&592<fe)return 1;for(;;){for(P=L-ae,O=f[E]<S?(F=0,f[E]):f[E]>S?(F=Ge[Xe+f[E]],Y[ge+f[E]]):(F=96,0),m=1<<L-ae,D=g=1<<K;A[C+(z>>ae)+(g-=m)]=P<<24|F<<16|O|0,g!==0;);for(m=1<<L-1;z&m;)m>>=1;if(m!==0?(z&=m-1,z+=m):z=0,E++,--re[L]==0){if(L===H)break;L=u[h+f[E]]}if(te<L&&(z&x)!==y){for(ae===0&&(ae=te),C+=D,ie=1<<(K=L-ae);K+ae<H&&!((ie-=re[K+ae])<=0);)K++,ie<<=1;if(fe+=1<<K,l===1&&852<fe||l===2&&592<fe)return 1;A[y=z&x]=te<<24|K<<16|C-d|0}}return z!==0&&(A[C+z]=L-ae<<24|64<<16|0),p.bits=te,0}},{"../utils/common":41}],51:[function(s,t,e){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(s,t,e){"use strict";var i=s("../utils/common"),r=0,a=1;function n(W){for(var ne=W.length;0<=--ne;)W[ne]=0}var o=0,l=29,u=256,h=u+1+l,c=30,A=19,d=2*h+1,f=15,p=16,m=7,g=256,y=16,x=17,C=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(h+2));n($);var L=new Array(2*c);n(L);var E=new Array(512);n(E);var D=new Array(256);n(D);var H=new Array(l);n(H);var te,K,ae,ie=new Array(c);function fe(W,ne,Te,Le,de){this.static_tree=W,this.extra_bits=ne,this.extra_base=Te,this.elems=Le,this.max_length=de,this.has_stree=W&&W.length}function z(W,ne){this.dyn_tree=W,this.max_code=0,this.stat_desc=ne}function Y(W){return W<256?E[W]:E[256+(W>>>7)]}function ge(W,ne){W.pending_buf[W.pending++]=255&ne,W.pending_buf[W.pending++]=ne>>>8&255}function re(W,ne,Te){W.bi_valid>p-Te?(W.bi_buf|=ne<<W.bi_valid&65535,ge(W,W.bi_buf),W.bi_buf=ne>>p-W.bi_valid,W.bi_valid+=Te-p):(W.bi_buf|=ne<<W.bi_valid&65535,W.bi_valid+=Te)}function me(W,ne,Te){re(W,Te[2*ne],Te[2*ne+1])}function Ge(W,ne){for(var Te=0;Te|=1&W,W>>>=1,Te<<=1,0<--ne;);return Te>>>1}function Xe(W,ne,Te){var Le,de,$e=new Array(f+1),Ke=0;for(Le=1;Le<=f;Le++)$e[Le]=Ke=Ke+Te[Le-1]<<1;for(de=0;de<=ne;de++){var Ee=W[2*de+1];Ee!==0&&(W[2*de]=Ge($e[Ee]++,Ee))}}function nt(W){var ne;for(ne=0;ne<h;ne++)W.dyn_ltree[2*ne]=0;for(ne=0;ne<c;ne++)W.dyn_dtree[2*ne]=0;for(ne=0;ne<A;ne++)W.bl_tree[2*ne]=0;W.dyn_ltree[2*g]=1,W.opt_len=W.static_len=0,W.last_lit=W.matches=0}function At(W){8<W.bi_valid?ge(W,W.bi_buf):0<W.bi_valid&&(W.pending_buf[W.pending++]=W.bi_buf),W.bi_buf=0,W.bi_valid=0}function tt(W,ne,Te,Le){var de=2*ne,$e=2*Te;return W[de]<W[$e]||W[de]===W[$e]&&Le[ne]<=Le[Te]}function ft(W,ne,Te){for(var Le=W.heap[Te],de=Te<<1;de<=W.heap_len&&(de<W.heap_len&&tt(ne,W.heap[de+1],W.heap[de],W.depth)&&de++,!tt(ne,Le,W.heap[de],W.depth));)W.heap[Te]=W.heap[de],Te=de,de<<=1;W.heap[Te]=Le}function _t(W,ne,Te){var Le,de,$e,Ke,Ee=0;if(W.last_lit!==0)for(;Le=W.pending_buf[W.d_buf+2*Ee]<<8|W.pending_buf[W.d_buf+2*Ee+1],de=W.pending_buf[W.l_buf+Ee],Ee++,Le===0?me(W,de,ne):(me(W,($e=D[de])+u+1,ne),(Ke=S[$e])!==0&&re(W,de-=H[$e],Ke),me(W,$e=Y(--Le),Te),(Ke=P[$e])!==0&&re(W,Le-=ie[$e],Ke)),Ee<W.last_lit;);me(W,g,ne)}function $t(W,ne){var Te,Le,de,$e=ne.dyn_tree,Ke=ne.stat_desc.static_tree,Ee=ne.stat_desc.has_stree,bt=ne.stat_desc.elems,tr=-1;for(W.heap_len=0,W.heap_max=d,Te=0;Te<bt;Te++)$e[2*Te]!==0?(W.heap[++W.heap_len]=tr=Te,W.depth[Te]=0):$e[2*Te+1]=0;for(;W.heap_len<2;)$e[2*(de=W.heap[++W.heap_len]=tr<2?++tr:0)]=1,W.depth[de]=0,W.opt_len--,Ee&&(W.static_len-=Ke[2*de+1]);for(ne.max_code=tr,Te=W.heap_len>>1;1<=Te;Te--)ft(W,$e,Te);for(de=bt;Te=W.heap[1],W.heap[1]=W.heap[W.heap_len--],ft(W,$e,1),Le=W.heap[1],W.heap[--W.heap_max]=Te,W.heap[--W.heap_max]=Le,$e[2*de]=$e[2*Te]+$e[2*Le],W.depth[de]=(W.depth[Te]>=W.depth[Le]?W.depth[Te]:W.depth[Le])+1,$e[2*Te+1]=$e[2*Le+1]=de,W.heap[1]=de++,ft(W,$e,1),2<=W.heap_len;);W.heap[--W.heap_max]=W.heap[1],function(mi,vs){var Oi,Jr,xr,Li,To,vl,la=vs.dyn_tree,Am=vs.max_code,xl=vs.stat_desc.static_tree,nv=vs.stat_desc.has_stree,ed=vs.stat_desc.extra_bits,Bh=vs.stat_desc.extra_base,_l=vs.stat_desc.max_length,fu=0;for(Li=0;Li<=f;Li++)mi.bl_count[Li]=0;for(la[2*mi.heap[mi.heap_max]+1]=0,Oi=mi.heap_max+1;Oi<d;Oi++)_l<(Li=la[2*la[2*(Jr=mi.heap[Oi])+1]+1]+1)&&(Li=_l,fu++),la[2*Jr+1]=Li,Am<Jr||(mi.bl_count[Li]++,To=0,Bh<=Jr&&(To=ed[Jr-Bh]),vl=la[2*Jr],mi.opt_len+=vl*(Li+To),nv&&(mi.static_len+=vl*(xl[2*Jr+1]+To)));if(fu!==0){do{for(Li=_l-1;mi.bl_count[Li]===0;)Li--;mi.bl_count[Li]--,mi.bl_count[Li+1]+=2,mi.bl_count[_l]--,fu-=2}while(0<fu);for(Li=_l;Li!==0;Li--)for(Jr=mi.bl_count[Li];Jr!==0;)Am<(xr=mi.heap[--Oi])||(la[2*xr+1]!==Li&&(mi.opt_len+=(Li-la[2*xr+1])*la[2*xr],la[2*xr+1]=Li),Jr--)}}(W,ne),Xe($e,tr,W.bl_count)}function U(W,ne,Te){var Le,de,$e=-1,Ke=ne[1],Ee=0,bt=7,tr=4;for(Ke===0&&(bt=138,tr=3),ne[2*(Te+1)+1]=65535,Le=0;Le<=Te;Le++)de=Ke,Ke=ne[2*(Le+1)+1],++Ee<bt&&de===Ke||(Ee<tr?W.bl_tree[2*de]+=Ee:de!==0?(de!==$e&&W.bl_tree[2*de]++,W.bl_tree[2*y]++):Ee<=10?W.bl_tree[2*x]++:W.bl_tree[2*C]++,$e=de,tr=(Ee=0)===Ke?(bt=138,3):de===Ke?(bt=6,3):(bt=7,4))}function xe(W,ne,Te){var Le,de,$e=-1,Ke=ne[1],Ee=0,bt=7,tr=4;for(Ke===0&&(bt=138,tr=3),Le=0;Le<=Te;Le++)if(de=Ke,Ke=ne[2*(Le+1)+1],!(++Ee<bt&&de===Ke)){if(Ee<tr)for(;me(W,de,W.bl_tree),--Ee!=0;);else de!==0?(de!==$e&&(me(W,de,W.bl_tree),Ee--),me(W,y,W.bl_tree),re(W,Ee-3,2)):Ee<=10?(me(W,x,W.bl_tree),re(W,Ee-3,3)):(me(W,C,W.bl_tree),re(W,Ee-11,7));$e=de,tr=(Ee=0)===Ke?(bt=138,3):de===Ke?(bt=6,3):(bt=7,4)}}n(ie);var ye=!1;function G(W,ne,Te,Le){re(W,(o<<1)+(Le?1:0),3),function(de,$e,Ke,Ee){At(de),Ee&&(ge(de,Ke),ge(de,~Ke)),i.arraySet(de.pending_buf,de.window,$e,Ke,de.pending),de.pending+=Ke}(W,ne,Te,!0)}e._tr_init=function(W){ye||(function(){var ne,Te,Le,de,$e,Ke=new Array(f+1);for(de=Le=0;de<l-1;de++)for(H[de]=Le,ne=0;ne<1<<S[de];ne++)D[Le++]=de;for(D[Le-1]=de,de=$e=0;de<16;de++)for(ie[de]=$e,ne=0;ne<1<<P[de];ne++)E[$e++]=de;for($e>>=7;de<c;de++)for(ie[de]=$e<<7,ne=0;ne<1<<P[de]-7;ne++)E[256+$e++]=de;for(Te=0;Te<=f;Te++)Ke[Te]=0;for(ne=0;ne<=143;)$[2*ne+1]=8,ne++,Ke[8]++;for(;ne<=255;)$[2*ne+1]=9,ne++,Ke[9]++;for(;ne<=279;)$[2*ne+1]=7,ne++,Ke[7]++;for(;ne<=287;)$[2*ne+1]=8,ne++,Ke[8]++;for(Xe($,h+1,Ke),ne=0;ne<c;ne++)L[2*ne+1]=5,L[2*ne]=Ge(ne,5);te=new fe($,S,u+1,h,f),K=new fe(L,P,0,c,f),ae=new fe(new Array(0),F,0,A,m)}(),ye=!0),W.l_desc=new z(W.dyn_ltree,te),W.d_desc=new z(W.dyn_dtree,K),W.bl_desc=new z(W.bl_tree,ae),W.bi_buf=0,W.bi_valid=0,nt(W)},e._tr_stored_block=G,e._tr_flush_block=function(W,ne,Te,Le){var de,$e,Ke=0;0<W.level?(W.strm.data_type===2&&(W.strm.data_type=function(Ee){var bt,tr=4093624447;for(bt=0;bt<=31;bt++,tr>>>=1)if(1&tr&&Ee.dyn_ltree[2*bt]!==0)return r;if(Ee.dyn_ltree[18]!==0||Ee.dyn_ltree[20]!==0||Ee.dyn_ltree[26]!==0)return a;for(bt=32;bt<u;bt++)if(Ee.dyn_ltree[2*bt]!==0)return a;return r}(W)),$t(W,W.l_desc),$t(W,W.d_desc),Ke=function(Ee){var bt;for(U(Ee,Ee.dyn_ltree,Ee.l_desc.max_code),U(Ee,Ee.dyn_dtree,Ee.d_desc.max_code),$t(Ee,Ee.bl_desc),bt=A-1;3<=bt&&Ee.bl_tree[2*O[bt]+1]===0;bt--);return Ee.opt_len+=3*(bt+1)+5+5+4,bt}(W),de=W.opt_len+3+7>>>3,($e=W.static_len+3+7>>>3)<=de&&(de=$e)):de=$e=Te+5,Te+4<=de&&ne!==-1?G(W,ne,Te,Le):W.strategy===4||$e===de?(re(W,2+(Le?1:0),3),_t(W,$,L)):(re(W,4+(Le?1:0),3),function(Ee,bt,tr,mi){var vs;for(re(Ee,bt-257,5),re(Ee,tr-1,5),re(Ee,mi-4,4),vs=0;vs<mi;vs++)re(Ee,Ee.bl_tree[2*O[vs]+1],3);xe(Ee,Ee.dyn_ltree,bt-1),xe(Ee,Ee.dyn_dtree,tr-1)}(W,W.l_desc.max_code+1,W.d_desc.max_code+1,Ke+1),_t(W,W.dyn_ltree,W.dyn_dtree)),nt(W),Le&&At(W)},e._tr_tally=function(W,ne,Te){return W.pending_buf[W.d_buf+2*W.last_lit]=ne>>>8&255,W.pending_buf[W.d_buf+2*W.last_lit+1]=255&ne,W.pending_buf[W.l_buf+W.last_lit]=255&Te,W.last_lit++,ne===0?W.dyn_ltree[2*Te]++:(W.matches++,ne--,W.dyn_ltree[2*(D[Te]+u+1)]++,W.dyn_dtree[2*Y(ne)]++),W.last_lit===W.lit_bufsize-1},e._tr_align=function(W){re(W,2,3),me(W,g,$),function(ne){ne.bi_valid===16?(ge(ne,ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0):8<=ne.bi_valid&&(ne.pending_buf[ne.pending++]=255&ne.bi_buf,ne.bi_buf>>=8,ne.bi_valid-=8)}(W)}},{"../utils/common":41}],53:[function(s,t,e){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(s,t,e){(function(i){(function(r,a){"use strict";if(!r.setImmediate){var n,o,l,u,h=1,c={},A=!1,d=r.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(r);f=f&&f.setTimeout?f:r,n={}.toString.call(r.process)==="[object process]"?function(y){process.nextTick(function(){m(y)})}:function(){if(r.postMessage&&!r.importScripts){var y=!0,x=r.onmessage;return r.onmessage=function(){y=!1},r.postMessage("","*"),r.onmessage=x,y}}()?(u="setImmediate$"+Math.random()+"$",r.addEventListener?r.addEventListener("message",g,!1):r.attachEvent("onmessage",g),function(y){r.postMessage(u+y,"*")}):r.MessageChannel?((l=new MessageChannel).port1.onmessage=function(y){m(y.data)},function(y){l.port2.postMessage(y)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,function(y){var x=d.createElement("script");x.onreadystatechange=function(){m(y),x.onreadystatechange=null,o.removeChild(x),x=null},o.appendChild(x)}):function(y){setTimeout(m,0,y)},f.setImmediate=function(y){typeof y!="function"&&(y=new Function(""+y));for(var x=new Array(arguments.length-1),C=0;C<x.length;C++)x[C]=arguments[C+1];var S={callback:y,args:x};return c[h]=S,n(h),h++},f.clearImmediate=p}function p(y){delete c[y]}function m(y){if(A)setTimeout(m,0,y);else{var x=c[y];if(x){A=!0;try{(function(C){var S=C.callback,P=C.args;switch(P.length){case 0:S();break;case 1:S(P[0]);break;case 2:S(P[0],P[1]);break;case 3:S(P[0],P[1],P[2]);break;default:S.apply(a,P)}})(x)}finally{p(y),A=!1}}}}function g(y){y.source===r&&typeof y.data=="string"&&y.data.indexOf(u)===0&&m(+y.data.slice(u.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var oL=rP(nF(),1),lL=rP(lF(),1);var Jx=function(s,t){return Jx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},Jx(s,t)};function N(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Jx(s,t);function e(){this.constructor=s}s.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ln=function(){return ln=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ln.apply(this,arguments)};function je(s,t,e,i){function r(a){return a instanceof e?a:new e(function(n){n(a)})}return new(e||(e=Promise))(function(a,n){function o(h){try{u(i.next(h))}catch(c){n(c)}}function l(h){try{u(i.throw(h))}catch(c){n(c)}}function u(h){h.done?a(h.value):r(h.value).then(o,l)}u((i=i.apply(s,t||[])).next())})}function ti(s,t){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,n=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return n.next=o(0),n.throw=o(1),n.return=o(2),typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function o(u){return function(h){return l([u,h])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;n&&(n=0,u[0]&&(e=0)),e;)try{if(i=1,r&&(a=u[0]&2?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,r=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){e.label=u[1];break}if(u[0]===6&&e.label<a[1]){e.label=a[1],a=u;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(u);break}a[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(s,e)}catch(h){u=[6,h],r=0}finally{i=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Xh(s){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&s[t],i=0;if(e)return e.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&i>=s.length&&(s=void 0),{value:s&&s[i++],done:!s}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Su(s,t){var e=typeof Symbol=="function"&&s[Symbol.iterator];if(!e)return s;var i=e.call(s),r,a=[],n;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(o){n={error:o}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(n)throw n.error}}return a}function Il(){for(var s=[],t=0;t<arguments.length;t++)s=s.concat(Su(arguments[t]));return s}var yt=class s{constructor(t){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=t}get value(){return this._value/100}get percent(){return this._value}toString(){return""+this._value+"%"}interpolate(t,e){return t+this.value*(e-t)}static normalize(t,e,i){return t instanceof s?t:e===i?new s(0):new s(Math.min(Math.max((t-e)*(1/(i-e)),0),1)*100)}};function Ot(s){return new yt(s)}var is=Ot(0),be=Ot(100),Qe=Ot(50);function e0(s){return s instanceof yt}function zs(s){return Number(s)!==s}function nU(s){return{}.toString.call(s)}function Gs(s){if(s!=null&&!ee(s)){let t=Number(s);return zs(t)&&ro(s)&&s!=""&&s.match(/[0-9]+/)?Gs(s.replace(/[^0-9.\-]+/g,"")):t}return s}function hF(s){if(xg(s))return new Date(s);if(ee(s))return new Date(s);{let t=Number(s);return ee(t)?new Date(t):new Date(s)}}function cF(s){if(zs(s))return"NaN";if(s===1/0)return"Infinity";if(s===-1/0)return"-Infinity";if(s===0&&1/s===-1/0)return"-0";let t=s<0;s=Math.abs(s);let e=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+s),i=e[1],r=e[2]||"",a;if(e[3]===void 0)a=r===""?i:i+"."+r;else{let n=+e[3];if(s<1){let o=n-1;a="0."+uF("0",o)+i+r}else{let o=n-r.length;o===0?a=i+r:o<0?a=i+r.slice(0,o)+"."+r.slice(o):a=i+r+uF("0",o)}}return t?"-"+a:a}function uF(s,t){return new Array(t+1).join(s)}function xg(s){return nU(s)==="[object Date]"}function ro(s){return typeof s=="string"}function ee(s){return typeof s=="number"&&Number(s)==s}function Fn(s){return typeof s=="object"&&s!==null}function _g(s){return Array.isArray(s)}var Tn="__\xA7\xA7\xA7__",Pu="__\xA7\xA7\xA7\xA7__";function jo(s,t){let e=s.length;for(let i=0;i<e;++i)if(s[i]===t)return i;return-1}function dF(s,t){let e=s.length;for(let i=0;i<e;++i)if(t(s[i]))return!0;return!1}function Ff(s,t){let e=s.length,i=new Array(e);for(let r=0;r<e;++r)i[r]=t(s[r],r);return i}function Z(s,t){let e=s.length;for(let i=0;i<e;++i)t(s[i],i)}function Fu(s,t){let e=s.length;for(;e>0;)--e,t(s[e],e)}function Tf(s,t){let e=s.length;for(let i=0;i<e&&t(s[i],i);++i);}function fs(s,t){let e=!1,i=0;for(;;){if(i=s.indexOf(t,i),i===-1)return e;e=!0,s.splice(i,1)}}function Vr(s,t){let e=s.indexOf(t);return e!==-1?(s.splice(e,1),!0):!1}function Df(s,t,e){let i=jo(s,t);i!==-1&&wg(s,i),e==null?s.push(t):Lf(s,e,t)}function Tu(s,t){s.indexOf(t)===-1&&s.push(t)}function Of(s){let t=s.length,e=new Array(t);for(let i=0;i<t;++i)e[i]=s[i];return e}function Lf(s,t,e){s.splice(t,0,e)}function wg(s,t){s.splice(t,1)}function t0(s,t){let e=s.length;for(let i=0;i<e;++i)if(t(s[i],i))return i;return-1}function oU(s,t){let e=s.length;for(;e>0;)if(--e,t(s[e],e))return e;return-1}function Cg(s,t){let e=t0(s,t);if(e!==-1)return s[e]}function AF(s,t){let e=oU(s,t);if(e!==-1)return s[e]}function If(s,t){let e=0,i=s.length,r=!1;for(;e<i;){let a=e+i>>1,n=t(s[a]);n<0?e=a+1:n===0?(r=!0,e=a+1):i=a}return{found:r,index:r?e-1:e}}function Bg(s,t){let e=0,i=s.length,r=!1;for(;e<i;){let a=e+i>>1,n=t(s[a]);n<0?e=a+1:(n===0&&(r=!0),i=a)}return{found:r,index:e}}function Wh(s,t){let e=s.length;for(;e>0;)--e,t(s[e])||s.splice(e,1)}function sr(s){return Object.keys(s)}function i0(s,t){return sr(s).sort(t)}function Dn(s){return Object.assign({},s)}function kt(s,t){sr(s).forEach(e=>{t(e,s[e])})}function fF(s,t){for(let e in s)if(lU(s,e)&&!t(e,s[e]))break}function $l(s,t,e){Z(i0(s,e),i=>{t(i,s[i])})}function lU(s,t){return{}.hasOwnProperty.call(s,t)}var Du=class{constructor(){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}},Ar=class{constructor(t){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=t}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}},Sg=class extends Du{constructor(){super(...arguments),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_dispose(){Z(this._disposers,t=>{t.dispose()})}},Br=class extends Du{constructor(t){super(),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposers=t}_dispose(){Z(this._disposers,t=>{t.dispose()})}get disposers(){return this._disposers}};var Ou=class extends Ar{constructor(){super(...arguments),Object.defineProperty(this,"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0})}increment(){return++this._counter,new Ar(()=>{--this._counter,this._counter===0&&this.dispose()})}};function mF(s){s.parentNode&&s.parentNode.removeChild(s)}function qi(s,t,e,i){return s.addEventListener(t,e,i||!1),new Ar(()=>{s.removeEventListener(t,e,i||!1)})}function Tg(s){return qi(window,"resize",t=>{s()})}function Va(s){switch(s){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function Dg(s){return s.pointerId||0}function gF(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{let s=document.createElement("button");s.style.position="fixed",s.style.top="0px",s.style.left="-10000px",document.body.appendChild(s),s.focus(),s.blur(),document.body.removeChild(s)}}function yF(s){s&&s.focus()}function Og(s){if(Va("pointerevents"))return s;if(Va("touchevents"))switch(s){case"pointerover":return"touchstart";case"pointerout":return"touchend";case"pointerleave":return"touchend";case"pointerdown":return"touchstart";case"pointermove":return"touchmove";case"pointerup":return"touchend";case"click":return"click";case"dblclick":return"dblclick"}else if(Va("mouseevents"))switch(s){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return s}function kf(s){if(typeof Touch<"u"&&s instanceof Touch)return!0;if(typeof PointerEvent<"u"&&s instanceof PointerEvent&&s.pointerType!=null)switch(s.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(s instanceof MouseEvent)}else if(s.type!=null&&s.type.match(/^mouse/))return!1;return!0}function Ef(s,t,e){s.style[t]=e}function bF(s,t){return s.style[t]}function s0(s){if(s.composedPath){let t=s.composedPath();return t.length===0?null:t[0]}else return s.target}function uU(s,t){let e=t;for(;;){if(s===e)return!0;if(e.parentNode===null){if(e.host==null)return!1;e=e.host}else e=e.parentNode}}function Sd(s,t){return s.target&&uU(t.root.dom,s.target)}function Iu(s,t){t?s.style.pointerEvents="auto":s.style.pointerEvents="none"}function kl(s){if(s.key!==void 0)return s.key;switch(s.keyCode){case 9:return"Tab";case 13:return"Enter";case 16:return"Shift";case 17:return"Control";case 27:return"Escape";case 32:return" ";case 37:return"ArrowLeft";case 38:return"ArrowUp";case 39:return"ArrowRight";case 40:return"ArrowDown";case 46:return"Delete"}return""+s.keyCode}function Mf(s){let t=s;for(;;){if(t.parentNode===null)return t.host!=null?t:null;t=t.parentNode}}var r0;function hU(s,t=""){if(s===null){if(r0==null){let e=document.createElement("style");e.type="text/css",t!=""&&e.setAttribute("nonce",t),document.head.appendChild(e),r0=e.sheet}return r0}else{let e=document.createElement("style");return e.type="text/css",t!=""&&e.setAttribute("nonce",t),s.appendChild(e),e.sheet}}function pF(s,t){let e=s.cssRules.length;return s.insertRule(t+"{}",e),s.cssRules[e]}var Nr=class extends Du{constructor(t,e,i,r=""){super(),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rule",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._root=hU(t,r);try{this._rule=pF(this._root,e)}catch{this._rule=pF(this._root,":not(*)")}kt(i,(a,n)=>{this.setStyle(a,n)})}set selector(t){this._rule.selectorText=t}get selector(){return this._rule.selectorText}_dispose(){let t=jo(this._root.cssRules,this._rule);if(t===-1)throw new Error("Could not dispose StyleRule");this._root.deleteRule(t)}_setVendorPrefixName(t,e){let i=this._rule.style;i.setProperty("-webkit-"+t,e,""),i.setProperty("-moz-"+t,e,""),i.setProperty("-ms-"+t,e,""),i.setProperty("-o-"+t,e,""),i.setProperty(t,e,"")}setStyle(t,e){t==="transition"?this._setVendorPrefixName(t,e):this._rule.style.setProperty(t,e,"")}};function cU(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}function vF(){return cU()?1:void 0}function jt(s,t){return ee(s)?s:s!=null&&ee(s.value)&&ee(t)?t*s.value:0}function Lg(s){let t=(""+s).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function Er(s,t=0,e="0"){return typeof s!="string"&&(s=s.toString()),t>s.length?Array(t-s.length+1).join(e)+s:s}function dU(s){return s.replace(/^[\s]*/,"")}function AU(s){return s.replace(/[\s]*$/,"")}function Lu(s){return dU(AU(s))}function xF(s,t,e=!1,i="..."){if(s.length>t){let r=t-1;for(;r>=0&&s.charAt(r).match(/\w/);)r--;return r>=0&&e==!1?s.substring(0,r+1)+"...":s.substring(0,t)+i}else return s}function _F(s){if(typeof s>"u")return"string";s=s.toLowerCase().replace(/^\[[^\]]*\]/,""),s=s.replace(/\[[^\]]+\]/,""),s=s.trim();let t=s.match(/\/(date|number|duration)$/);return t?t[1]:s==="number"?"number":s==="date"?"date":s==="duration"?"duration":s.match(/[#0]/)?"number":s.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}function Pd(s){return s.replace(/\/(date|number|duration)$/i,"")}function a0(s){return s&&s.replace(/<[^>]*>/g,"")}function n0(s){return s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function wF(s){let t=/[\u0590-\u05FF\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/,e=/([^]*[])/gi,i=s.split(/(\s+)/),r=[];return i.forEach(a=>{if(a.match(/^\s+$/))(a=" ")&&(a="  "),r.push(a);else if(t.test(a)){let n=a.split(e).filter(o=>o!=="");r=r.concat(n)}else r=r.concat([...a])}),r}function o0(s,t=!1){let e=new Date(s.getFullYear(),0,0),i=s.getTime()-e.getTime()+(e.getTimezoneOffset()-s.getTimezoneOffset())*60*1e3,r=1e3*60*60*24;return Math.floor(i/r)}function $f(s,t=!1){let e=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate())),i=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-i);let r=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-r.getTime())/864e5+1)/7)}function CF(s,t=!1){let e=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate())),i=e.getUTCDay()||7;return e.setUTCDate(e.getUTCDate()+4-i),new Date(Date.UTC(e.getUTCFullYear(),0,1)).getFullYear()}function BF(s,t=!1){let e=$f(new Date(s.getFullYear(),s.getMonth(),1),t),i=$f(s,t);return i==1&&(i=53),i-e+1}function SF(s,t,e=1,i=!1){let r=new Date(t,0,4,0,0,0,0);return i&&r.setUTCFullYear(t),s*7+e-((r.getDay()||7)+3)}function Rf(s,t){return s>12?s-=12:s===0&&(s=12),t!=null?s+(t-1):s}function Uf(s,t=!1,e=!1,i=!1,r){if(i)return t?"Coordinated Universal Time":"UTC";if(r){let o=s.toLocaleString("en-US",{timeZone:r}),l=s.toLocaleString("en-US",{timeZone:r,timeZoneName:t?"long":"short"});return Lu(l.substr(o.length))}let a=s.toLocaleString("UTC"),n=s.toLocaleString("UTC",{timeZoneName:t?"long":"short"}).substr(a.length);return e===!1&&(n=n.replace(/ (standard|daylight|summer|winter) /i," ")),Lu(n)}function PF(s,t){let e=t||new Date(Date.UTC(2012,0,1,0,0,0,0)),i=new Date(e.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(e.toLocaleString("en-US",{timeZone:s})).getTime()-i.getTime())/6e4*-1}function l0(s){return s.charAt(0).toUpperCase()+s.slice(1)}function u0(s){let t,e,i,r=s.h,a=s.s,n=s.l;if(a==0)t=e=i=n;else{let o=function(c,A,d){return d<0&&(d+=1),d>1&&(d-=1),d<.16666666666666666?c+(A-c)*6*d:d<.5?A:d<.6666666666666666?c+(A-c)*(.6666666666666666-d)*6:c},l=n<.5?n*(1+a):n+a-n*a,u=2*n-l;t=o(u,l,r+1/3),e=o(u,l,r),i=o(u,l,r-1/3)}return{r:Math.round(t*255),g:Math.round(e*255),b:Math.round(i*255)}}function h0(s){let t=s.r/255,e=s.g/255,i=s.b/255,r=Math.max(t,e,i),a=Math.min(t,e,i),n=0,o=0,l=(r+a)/2;if(r===a)n=o=0;else{let u=r-a;switch(o=l>.5?u/(2-r-a):u/(r+a),r){case t:n=(e-i)/u+(e<i?6:0);break;case e:n=(i-t)/u+2;break;case i:n=(t-e)/u+4;break}n/=6}return{h:n,s:o,l}}function FF(s,t){return s&&{r:Math.max(0,Math.min(255,s.r+Pg(s.r,t))),g:Math.max(0,Math.min(255,s.g+Pg(s.g,t))),b:Math.max(0,Math.min(255,s.b+Pg(s.b,t))),a:s.a}}function Pg(s,t){let e=t>0?255-s:s;return Math.round(e*t)}function TF(s,t){if(s){let e=Math.min(Math.max(s.r,s.g,s.b),230),i=Pg(e,t);return{r:Math.max(0,Math.min(255,Math.round(s.r+i))),g:Math.max(0,Math.min(255,Math.round(s.g+i))),b:Math.max(0,Math.min(255,Math.round(s.b+i))),a:s.a}}else return s}function Fg(s){return(s.r*299+s.g*587+s.b*114)/1e3>=128}function DF(s,t){if(s===void 0||t==1)return s;let e=h0(s);return e.s=t,u0(e)}function OF(s,t={r:255,g:255,b:255},e={r:255,g:255,b:255}){let i=t,r=e;return Fg(e)&&(i=e,r=t),Fg(s)?r:i}function lt(s,t){return s||(s=[]),[...s,...t].filter((e,i,r)=>r.indexOf(e)===i)}function Ig(s,t){return!(!t||s.left!=t.left||s.right!=t.right||s.top!=t.top||s.bottom!=t.bottom)}function LF(s){return s[0]==="#"&&(s=s.substr(1)),s.length==3&&(s=s[0].repeat(2)+s[1].repeat(2)+s[2].repeat(2)),parseInt(s,16)}function fU(s){s=s.replace(/[ ]/g,"");let t=s.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(t)t.push("1");else if(t=s.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!t)return 0;let e="";for(let i=1;i<=3;i++){let r=parseInt(t[i]).toString(16);r.length==1&&(r="0"+r),e+=r}return LF(e)}function Ys(s){return rt.fromAny(s)}var rt=class s{constructor(t){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=t|0}get hex(){return this._hex}get r(){return this._hex>>>16}get g(){return this._hex>>8&255}get b(){return this._hex&255}toCSS(t=1){return"rgba("+this.r+", "+this.g+", "+this.b+", "+t+")"}toCSSHex(){return"#"+Er(this.r.toString(16),2)+Er(this.g.toString(16),2)+Er(this.b.toString(16),2)}toHSL(t=1){return h0({r:this.r,g:this.g,b:this.b,a:t})}static fromHSL(t,e,i){let r=u0({h:t,s:e,l:i});return this.fromRGB(r.r,r.g,r.b)}toString(){return this.toCSSHex()}static fromHex(t){return new s(t)}static fromRGB(t,e,i){return new s((i|0)+(e<<8)+(t<<16))}static fromString(t){return new s(LF(t))}static fromCSS(t){return new s(fU(t))}static fromAny(t){if(ro(t)){if(t[0]=="#")return s.fromString(t);if(t.substr(0,3)=="rgb")return s.fromCSS(t)}else{if(ee(t))return s.fromHex(t);if(t instanceof s)return s.fromHex(t.hex)}throw new Error("Unknown color syntax: "+t)}static alternative(t,e,i){let r=OF({r:t.r,g:t.g,b:t.b},e?{r:e.r,g:e.g,b:e.b}:void 0,i?{r:i.r,g:i.g,b:i.b}:void 0);return this.fromRGB(r.r,r.g,r.b)}static interpolate(t,e,i,r="rgb"){if(r=="hsl"){let a=e.toHSL(),n=i.toHSL();return s.fromHSL(El(t,a.h,n.h),El(t,a.s,n.s),El(t,a.l,n.l))}else return s.fromRGB(El(t,e.r,i.r),El(t,e.g,i.g),El(t,e.b,i.b))}static lighten(t,e){let i=FF({r:t.r,g:t.g,b:t.b},e);return s.fromRGB(i.r,i.g,i.b)}static brighten(t,e){let i=TF({r:t.r,g:t.g,b:t.b},e);return s.fromRGB(i.r,i.g,i.b)}static saturate(t,e){let i=DF({r:t.r,g:t.g,b:t.b},e);return s.fromRGB(i.r,i.g,i.b)}};var un=class{constructor(){Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}isDisposed(){return this._disposed}dispose(){if(!this._disposed){this._disposed=!0;let t=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{Z(t,e=>{e.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}}hasListeners(){return this._listeners.length!==0}hasListenersByType(t){return dF(this._listeners,e=>(e.type===null||e.type===t)&&!e.killed)}enable(){this._enabled=!0}disable(){this._enabled=!1}enableType(t){delete this._disabled[t]}disableType(t,e=1/0){this._disabled[t]=e}_removeListener(t){if(this._iterating===0){let e=this._listeners.indexOf(t);if(e===-1)throw new Error("Invalid state: could not remove listener");this._listeners.splice(e,1)}else this._killed.push(t)}_removeExistingListener(t,e,i,r){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(a=>{a.once===t&&a.type===e&&(i===void 0||a.callback===i)&&a.context===r&&a.disposer.dispose()})}isEnabled(t){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(t)&&this._disabled[t]===void 0}removeType(t){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(e=>{e.type===t&&e.disposer.dispose()})}has(t,e,i){return t0(this._listeners,a=>a.once!==!0&&a.type===t&&(e===void 0||a.callback===e)&&a.context===i)!==-1}_shouldDispatch(t){if(this._disposed)throw new Error("EventDispatcher is disposed");let e=this._disabled[t];return ee(e)?(e<=1?delete this._disabled[t]:--this._disabled[t],!1):this._enabled}_eachListener(t){++this._iterating;try{Z(this._listeners,t)}finally{--this._iterating,this._iterating===0&&this._killed.length!==0&&(Z(this._killed,e=>{this._removeListener(e)}),this._killed.length=0)}}dispatch(t,e){this._shouldDispatch(t)&&this._eachListener(i=>{!i.killed&&(i.type===null||i.type===t)&&(i._debounceDelay?(i._debounceTimeout&&window.clearTimeout(i._debounceTimeout),i._debounceTimeout=window.setTimeout(()=>{i._debounceTimeout=void 0,i.killed||i.dispatch(t,e)},i._debounceDelay)):i.dispatch(t,e))})}_on(t,e,i,r,a,n,o){if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(t,e,i,r);let l={type:e,callback:i,context:r,shouldClone:a,dispatch:n,killed:!1,once:t,disposer:new Ar(()=>{l.killed=!0,l._debounceTimeout&&window.clearTimeout(l._debounceTimeout),this._removeListener(l)}),_debounceDelay:o};return this._listeners.push(l),l}onAll(t,e,i=!0){return this._on(!1,null,t,e,i,(r,a)=>t.call(e,a)).disposer}on(t,e,i,r=!0){return this._on(!1,t,e,i,r,(a,n)=>e.call(i,n)).disposer}onDebounced(t,e,i,r,a=!0){return this._on(!1,t,e,r,a,(n,o)=>e.call(r,o),i).disposer}once(t,e,i,r=!0){let a=this._on(!0,t,e,i,r,(n,o)=>{a.disposer.dispose(),e.call(i,o)});return a.disposer}off(t,e,i){this._removeExistingListener(!1,t,e,i)}copyFrom(t){if(this._disposed)throw new Error("EventDispatcher is disposed");if(t===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");let e=[];return Z(t._listeners,i=>{!i.killed&&i.shouldClone&&(i.type===null?e.push(this.onAll(i.callback,i.context)):i.once?e.push(this.once(i.type,i.callback,i.context)):e.push(this.on(i.type,i.callback,i.context)))}),new Br(e)}};function c0(s){return je(this,void 0,void 0,function*(){if(s!==void 0){let t=[];kt(s,(e,i)=>{t.push(i.waitForStop())}),yield Promise.all(t)}})}function El(s,t,e){return t+s*(e-t)}function pU(s,t,e){return s>=1?e:t}function d0(s,t,e){return new yt(El(s,t.percent,e.percent))}function mU(s,t,e){return rt.interpolate(s,t,e)}function IF(s,t){return typeof s=="number"&&typeof t=="number"?El:s instanceof yt&&t instanceof yt?d0:s instanceof rt&&t instanceof rt?mU:pU}var Ml;(function(s){s[s.Stopped=0]="Stopped",s[s.Playing=1]="Playing",s[s.Paused=2]="Paused"})(Ml||(Ml={}));function Vf(s,t){if(!(s>=0&&s<t))throw new Error("Index out of bounds: "+s)}var hn=class{constructor(t=[]){Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new un}),this._values=t}get values(){return this._values}contains(t){return this._values.indexOf(t)!==-1}removeValue(t){let e=0,i=this._values.length;for(;e<i;)this._values[e]===t?(this.removeIndex(e),--i):++e}indexOf(t){return jo(this._values,t)}get length(){return this._values.length}hasIndex(t){return t>=0&&t<this._values.length}getIndex(t){return this._values[t]}_onPush(t){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:t})}_onInsertIndex(t,e){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:t,newValue:e})}_onSetIndex(t,e,i){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:t,oldValue:e,newValue:i})}_onSwap(t,e){this.events.isEnabled("swap")&&this.events.dispatch("swap",{type:"swap",target:this,a:t,b:e})}_onRemoveIndex(t,e){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:t,oldValue:e})}_onMoveIndex(t,e,i){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:t,newIndex:e,value:i})}_onClear(t){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:t})}setIndex(t,e){Vf(t,this._values.length);let i=this._values[t];return i!==e&&(this._values[t]=e,this._onSetIndex(t,i,e)),i}insertIndex(t,e){return Vf(t,this._values.length+1),Lf(this._values,t,e),this._onInsertIndex(t,e),e}swap(t,e){let i=this._values.length;if(Vf(t,i),Vf(e,i),t!==e){let r=this._values[t],a=this._values[e];this._values[t]=a,this._values[e]=r,this._onSwap(r,a)}}removeIndex(t){Vf(t,this._values.length);let e=this._values[t];return wg(this._values,t),this._onRemoveIndex(t,e),e}moveValue(t,e){let i=this.indexOf(t);if(i!==-1)if(wg(this._values,i),e==null){let r=this._values.length;this._values.push(t),this._onMoveIndex(i,r,t)}else Lf(this._values,e,t),this._onMoveIndex(i,e,t);else e==null?(this._values.push(t),this._onPush(t)):(Lf(this._values,e,t),this._onInsertIndex(e,t));return t}push(t){return this._values.push(t),this._onPush(t),t}unshift(t){return this.insertIndex(0,t),t}pushAll(t){Z(t,e=>{this.push(e)})}copyFrom(t){this.pushAll(t._values)}pop(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)}shift(){return this._values.length?this.removeIndex(0):void 0}setAll(t){let e=this._values;this._values=[],this._onClear(e),Z(t,i=>{this._values.push(i),this._onPush(i)})}clear(){this.setAll([])}*[Symbol.iterator](){let t=this._values.length;for(let e=0;e<t;++e)yield this._values[e]}each(t){Z(this._values,t)}eachReverse(t){Fu(this._values,t)}},$u=class extends hn{constructor(){super(...arguments),Object.defineProperty(this,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}swap(t,e){let i=this.autoDispose;this.autoDispose=!1,super.swap(t,e),this.autoDispose=i}_onSetIndex(t,e,i){this.autoDispose&&e.dispose(),super._onSetIndex(t,e,i)}_onRemoveIndex(t,e){this.autoDispose&&e.dispose(),super._onRemoveIndex(t,e)}_onClear(t){this.autoDispose&&Z(t,e=>{e.dispose()}),super._onClear(t)}_dispose(){this.autoDispose&&Z(this._values,t=>{t.dispose()})}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}},Ii=class extends $u{constructor(t,e){super(),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=t,this.make=e}_dispose(){super._dispose(),this.autoDispose&&this.template.dispose()}};var $g=class extends hn{constructor(t){super(),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._container=t,this._events=this.events.onAll(e=>{if(e.type==="clear")Z(e.oldValues,i=>{this._onRemoved(i)});else if(e.type==="push")this._onInserted(e.newValue);else if(e.type==="setIndex")this._onRemoved(e.oldValue),this._onInserted(e.newValue,e.index);else if(e.type==="insertIndex")this._onInserted(e.newValue,e.index);else if(e.type==="removeIndex")this._onRemoved(e.oldValue);else if(e.type==="moveIndex")this._onRemoved(e.value),this._onInserted(e.value,e.newIndex);else throw new Error("Unknown IListEvent type")})}_onInserted(t,e){t._setParent(this._container,!0);let i=this._container._childrenDisplay;e===void 0?i.addChild(t._display):i.addChildAt(t._display,e)}_onRemoved(t){this._container._childrenDisplay.removeChild(t._display),this._container.markDirtyBounds(),this._container.markDirty()}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._events.dispose(),Z(this.values,t=>{t.dispose()}))}};var f0=Math.PI,a3=f0/2,Fr=f0/180,Na=180/f0;function Tr(s,t,e){if(!ee(t)||t<=0){let i=Math.round(s);return e&&i-s==.5&&i--,i}else{let i=Math.pow(10,t);return Math.round(s*i)/i}}function $F(s,t){if(!ee(t)||t<=0)return Math.ceil(s);{let e=Math.pow(10,t);return Math.ceil(s*e)/e}}function Qi(s,t,e){return Math.min(Math.max(s,t),e)}function xi(s){return Math.sin(Fr*s)}function Pi(s){return Math.cos(Fr*s)}function da(s){return s=s%360,s<0&&(s+=360),s}function ku(s,t,e,i,r){let a=Number.MAX_VALUE,n=Number.MAX_VALUE,o=-Number.MAX_VALUE,l=-Number.MAX_VALUE,u=[];u.push(A0(r,e)),u.push(A0(r,i));let h=Math.min(Math.floor(e/90)*90,Math.floor(i/90)*90),c=Math.max(Math.ceil(e/90)*90,Math.ceil(i/90)*90);for(let A=h;A<=c;A+=90)A>=e&&A<=i&&u.push(A0(r,A));for(let A=0;A<u.length;A++){let d=u[A];d.x<a&&(a=d.x),d.y<n&&(n=d.y),d.x>o&&(o=d.x),d.y>l&&(l=d.y)}return{left:s+a,top:t+n,right:s+o,bottom:t+l}}function A0(s,t){return{x:s*Pi(t),y:s*xi(t)}}function kg(s){let t=s.length;if(t>0){let e=s[0],i=e.left,r=e.top,a=e.right,n=e.bottom;if(t>1)for(let o=1;o<t;o++)e=s[o],i=Math.min(e.left,i),a=Math.max(e.right,a),r=Math.min(e.top,r),n=Math.max(e.bottom,n);return{left:i,right:a,top:r,bottom:n}}return{left:0,right:0,top:0,bottom:0}}function p0(s,t,e){if(t>e){let n=t;t=e,e=n}s=da(s);let i=(t-da(t))/360;s<t&&(s+=360*(i+1));let r=t+(e-t)/2+180,a=t+(e-t)/2-180;return s>e&&(s-360>t?s-=360:s<r?s=e:s=t),s<t&&(s>a?s=t:s=e),s}function kF(s,t){return s.x>=t.left&&s.y>=t.top&&s.x<=t.right&&s.y<=t.bottom}function m0(s){return s}function Rl(s){return s*s*s}function zh(s){return function(t){return 1-s(1-t)}}var EF=4/11,n3=6/11,o3=8/11,l3=3/4,u3=9/11,h3=10/11,c3=15/16,d3=21/22,A3=63/64,f3=1/EF/EF;var gU=2*Math.PI,yU=1,bU=.3/gU,p3=Math.asin(1/yU)*bU;var y0=class{constructor(t,e){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=t,this._settings=e,kt(e,i=>{this._userSettings[i]=!0})}get(t,e){let i=this._settings[t];return i!==void 0?i:e}setRaw(t,e){this._settings[t]=e}set(t,e){this._userSettings[t]=!0,this.setRaw(t,e)}remove(t){delete this._userSettings[t],delete this._settings[t]}setAll(t){sr(t).forEach(e=>{this.set(e,t[e])})}_eachSetting(t){kt(this._settings,t)}apply(){let t={};t.stateAnimationEasing=!0,t.stateAnimationDuration=!0;let e=this._entity.states.lookup("default");this._eachSetting((i,r)=>{t[i]||(t[i]=!0,this!==e&&(i in e._settings||(e._settings[i]=this._entity.get(i))),this._entity.set(i,r))})}applyAnimate(t){t==null&&(t=this._settings.stateAnimationDuration),t==null&&(t=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));let e=this._settings.stateAnimationEasing;e==null&&(e=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",Rl)));let i=this._entity.states.lookup("default"),r={};r.stateAnimationEasing=!0,r.stateAnimationDuration=!0;let a={};return this._eachSetting((n,o)=>{if(!r[n]){r[n]=!0,this!=i&&(n in i._settings||(i._settings[n]=this._entity.get(n)));let l=this._entity.animate({key:n,to:o,duration:t,easing:e});l&&(a[n]=l)}}),a}},Eg=class{constructor(t){Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=t}lookup(t){return this._states[t]}create(t,e){let i=this._states[t];if(i)return i.setAll(e),i;{let r=new y0(this._entity,e);return this._states[t]=r,r}}remove(t){delete this._states[t]}apply(t){let e=this._states[t];e&&e.apply(),this._entity._applyState(t)}applyAnimate(t,e){let i,r=this._states[t];return r&&(i=r.applyAnimate(e)),this._entity._applyStateAnimated(t,e),i}};var b0=class{constructor(){Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.14.1"}),Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]})}},Qa=new b0;function v0(s){Qa.licenses.push(s)}function Ha(s,t){return s===t?0:s<t?-1:1}function Mg(s,t,e){let i=s.length,r=t.length,a=Math.min(i,r);for(let n=0;n<a;++n){let o=e(s[n],t[n]);if(o!==0)return o}return Ha(i,r)}function x0(s,t){return s===t?0:s<t?-1:1}var _0=class{constructor(t){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=t}add(t,e){let i=this._callbacks[t];return i===void 0&&(i=this._callbacks[t]=[]),i.push(e),this._entity._markDirtyKey(t),new Ar(()=>{Vr(i,e)&&this._entity._markDirtyKey(t)})}remove(t){let e=this._callbacks[t];e!==void 0&&(delete this._callbacks[t],e.length!==0&&this._entity._markDirtyKey(t))}enable(t){this._disabled[t]&&(delete this._disabled[t],this._entity._markDirtyKey(t))}disable(t){this._disabled[t]||(this._disabled[t]=!0,this._entity._markDirtyKey(t))}fold(t,e){if(!this._disabled[t]){let i=this._callbacks[t];if(i!==void 0)for(let r=0,a=i.length;r<a;++r)e=i[r](e,this._entity,t)}return e}},Fd=class{constructor(t,e,i,r,a,n,o){Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new un}),this._animation=t,this._from=e,this._to=i,this._duration=r,this._easing=a,this._loops=n,this._interpolate=IF(e,i),this._oldTime=o}get to(){return this._to}get from(){return this._from}get playing(){return this._playing}get stopped(){return this._stopped}stop(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}pause(){this._playing=!1,this._oldTime=null}play(){!this._stopped&&!this._playing&&(this._playing=!0,this._animation._startAnimation())}get percentage(){return this._time/this._duration}waitForStop(){return new Promise((t,e)=>{if(this._stopped)t();else{let i=()=>{r.dispose(),t()},r=this.events.on("stopped",i)}})}_checkEnded(){return this._loops>1?(--this._loops,!1):!0}_run(t){this._oldTime!==null&&(this._time+=t-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=t}_reset(t){this._oldTime=t,this._time=0}_value(t){return this._interpolate(this._easing(t),this._from,this._to)}},vU=0,Qf=class{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++vU}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"enableDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._settings=t}_checkDirty(){sr(this._settings).forEach(t=>{this._userProperties[t]=!0,this._markDirtyKey(t)})}resetUserSettings(){this._userProperties={}}_runAnimation(t){let e=Ml.Stopped;if(!this.isDisposed()){let i=!1,r=!1;kt(this._animatingSettings,(a,n)=>{if(n.stopped)this._stopAnimation(a);else if(n.playing){n._run(t);let o=n.percentage;o>=1?n._checkEnded()?this.set(a,n._value(1)):(i=!0,n._reset(t),this._set(a,n._value(1))):(i=!0,this._set(a,n._value(o)))}else r=!0}),kt(this._animatingPrivateSettings,(a,n)=>{if(n.stopped)this._stopAnimationPrivate(a);else if(n.playing){n._run(t);let o=n.percentage;o>=1?n._checkEnded()?this.setPrivate(a,n._value(1)):(i=!0,n._reset(t),this._setPrivate(a,n._value(1))):(i=!0,this._setPrivate(a,n._value(o)))}else r=!0}),i?e=Ml.Playing:r&&(e=Ml.Paused)}return e}_markDirtyKey(t){this.markDirty()}_markDirtyPrivateKey(t){this.markDirty()}on(t,e){let i=this._settingEvents[t];return i===void 0&&(i=this._settingEvents[t]=[]),i.push(e),new Ar(()=>{Vr(i,e),i.length===0&&delete this._settingEvents[t]})}off(t,e){let i=this._settingEvents[t];i!==void 0&&e!==void 0?Vr(i,e):delete this._settingEvents[t]}onPrivate(t,e){let i=this._privateSettingEvents[t];return i===void 0&&(i=this._privateSettingEvents[t]=[]),i.push(e),new Ar(()=>{Vr(i,e),i.length===0&&delete this._privateSettingEvents[t]})}offPrivate(t,e){let i=this._privateSettingEvents[t];i!==void 0&&e!==void 0?Vr(i,e):delete this._privateSettingEvents[t]}getRaw(t,e){let i=this._settings[t];return i!==void 0?i:e}has(t){return t in this._settings}get(t,e){return this.getRaw(t,e)}_sendKeyEvent(t,e){let i=this._settingEvents[t];i!==void 0&&Z(i,r=>{r(e,this,t)})}_sendPrivateKeyEvent(t,e){let i=this._privateSettingEvents[t];i!==void 0&&Z(i,r=>{r(e,this,t)})}_setRaw(t,e,i){this._prevSettings[t]=e,this._sendKeyEvent(t,i)}setRaw(t,e){let i=this._settings[t];this._settings[t]=e,i!==e&&this._setRaw(t,i,e)}_set(t,e){let i=this._settings[t];this._settings[t]=e,i!==e&&(this._setRaw(t,i,e),this._markDirtyKey(t))}_stopAnimation(t){let e=this._animatingSettings[t];e&&(delete this._animatingSettings[t],e.stop())}set(t,e){return this._set(t,e),this._stopAnimation(t),e}remove(t){t in this._settings&&(this._prevSettings[t]=this._settings[t],delete this._settings[t],this._sendKeyEvent(t,void 0),this._markDirtyKey(t)),this._stopAnimation(t)}removeAll(){Z(sr(this._settings),t=>{this.remove(t)})}getPrivate(t,e){let i=this._privateSettings[t];return i!==void 0?i:e}_setPrivateRaw(t,e,i){this._prevPrivateSettings[t]=e,this._sendPrivateKeyEvent(t,i)}setPrivateRaw(t,e){let i=this._privateSettings[t];this._privateSettings[t]=e,i!==e&&this._setPrivateRaw(t,i,e)}_setPrivate(t,e){let i=this._privateSettings[t];this._privateSettings[t]=e,i!==e&&(this._setPrivateRaw(t,i,e),this._markDirtyPrivateKey(t))}_stopAnimationPrivate(t){let e=this._animatingPrivateSettings[t];e&&(e.stop(),delete this._animatingPrivateSettings[t])}setPrivate(t,e){return this._setPrivate(t,e),this._stopAnimationPrivate(t),e}removePrivate(t){t in this._privateSettings&&(this._prevPrivateSettings[t]=this._privateSettings[t],delete this._privateSettings[t],this._markDirtyPrivateKey(t)),this._stopAnimationPrivate(t)}setAll(t){kt(t,(e,i)=>{this.set(e,i)})}animate(t){let e=t.key,i=t.to,r=t.duration||0,a=t.loops||1,n=t.from===void 0?this.get(e):t.from,o=t.easing===void 0?m0:t.easing;if(r===0)this.set(e,i);else if(n===void 0||n===i)this.set(e,i);else{this.set(e,n);let u=this._animatingSettings[e]=new Fd(this,n,i,r,o,a,this._animationTime());return this._startAnimation(),u}let l=new Fd(this,n,i,r,o,a,null);return l.stop(),l}animatePrivate(t){let e=t.key,i=t.to,r=t.duration||0,a=t.loops||1,n=t.from===void 0?this.getPrivate(e):t.from,o=t.easing===void 0?m0:t.easing;if(r===0)this.setPrivate(e,i);else if(n===void 0||n===i)this.setPrivate(e,i);else{this.setPrivate(e,n);let u=this._animatingPrivateSettings[e]=new Fd(this,n,i,r,o,a,this._animationTime());return this._startAnimation(),u}let l=new Fd(this,n,i,r,o,a,null);return l.stop(),l}_dispose(){}isDisposed(){return this._disposed}dispose(){this.enableDispose&&!this._disposed&&(this._disposed=!0,this._dispose())}},ii=class extends Qf{constructor(t,e,i,r=[]){if(super(e),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new Eg(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new _0(this)}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:this._createEvents()}),Object.defineProperty(this,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._root=t,this._internalTemplates=r,e.id&&this._registerId(e.id)}static new(t,e,i){let r=new this(t,e,!0);return r._template=i,r._afterNew(),r}static _new(t,e,i=[]){let r=new this(t,e,!0,i);return r._afterNew(),r}_afterNew(){this._checkDirty();let t=!1,e=this._template;e&&(t=!0,e._setObjectTemplate(this)),Z(this._internalTemplates,i=>{t=!0,i._setObjectTemplate(this)}),t&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}_afterNewApplyThemes(){this._checkDirty();let t=this._template;t&&t._setObjectTemplate(this),Z(this._internalTemplates,e=>{e._setObjectTemplate(this)}),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}_createEvents(){return new un}get classNames(){return this.constructor.classNames}get className(){return this.constructor.className}_setDefaults(){}_setDefaultFn(t,e){let i=this.get(t);if(i)return i;{let r=e();return this.set(t,r),r}}_setDefault(t,e){this.has(t)||super.set(t,e)}_setRawDefault(t,e){this.has(t)||super.setRaw(t,e)}_clearDirty(){sr(this._dirty).forEach(t=>{this._dirty[t]=!1}),sr(this._dirtyPrivate).forEach(t=>{this._dirtyPrivate[t]=!1})}isDirty(t){return!!this._dirty[t]}isPrivateDirty(t){return!!this._dirtyPrivate[t]}_markDirtyKey(t){this._dirty[t]=!0,super._markDirtyKey(t)}_markDirtyPrivateKey(t){this._dirtyPrivate[t]=!0,super._markDirtyKey(t)}isType(t){return this.classNames.indexOf(t)!==-1}_pushPropertyDisposer(t,e){let i=this._disposerProperties[t];return i===void 0&&(i=this._disposerProperties[t]=[]),i.push(e),e}_disposeProperty(t){let e=this._disposerProperties[t];e!==void 0&&(Z(e,i=>{i.dispose()}),delete this._disposerProperties[t])}set template(t){let e=this._template;e!==t&&(this._template=t,e&&e._removeObjectTemplate(this),t&&t._setObjectTemplate(this),this._applyTemplates())}get template(){return this._template}markDirty(){this._root._addDirtyEntity(this)}_startAnimation(){this._root._addAnimation(this)}_animationTime(){return this._root.animationTime}_applyState(t){}_applyStateAnimated(t,e){}get(t,e){let i=this.adapters.fold(t,this._settings[t]);return i!==void 0?i:e}isUserSetting(t){return this._userProperties[t]||!1}set(t,e){return this._userProperties[t]=!0,super.set(t,e)}setRaw(t,e){this._userProperties[t]=!0,super.setRaw(t,e)}_setSoft(t,e){return this._userProperties[t]?e:super.set(t,e)}remove(t){delete this._userProperties[t],this._removeTemplateProperty(t)}setPrivate(t,e){return this._userPrivateProperties[t]=!0,super.setPrivate(t,e)}setPrivateRaw(t,e){this._userPrivateProperties[t]=!0,super.setPrivateRaw(t,e)}removePrivate(t){delete this._userPrivateProperties[t],this._removeTemplatePrivateProperty(t)}_setTemplateProperty(t,e,i){if(!this._userProperties[e]){let r=this._findTemplateByKey(e);t===r&&super.set(e,i)}}_setTemplatePrivateProperty(t,e,i){if(!this._userPrivateProperties[e]){let r=this._findTemplateByPrivateKey(e);t===r&&super.setPrivate(e,i)}}_removeTemplateProperty(t){if(!this._userProperties[t]){let e=this._findTemplateByKey(t);e?super.set(t,e._settings[t]):super.remove(t)}}_removeTemplatePrivateProperty(t){if(!this._userPrivateProperties[t]){let e=this._findTemplateByPrivateKey(t);e?super.setPrivate(t,e._privateSettings[t]):super.removePrivate(t)}}_walkParents(t){t(this._root._rootContainer),t(this)}_applyStateByKey(t){let e=this.states.create(t,{}),i={};this._eachTemplate(r=>{let a=r.states.lookup(t);a&&a._apply(e,i)}),kt(e._settings,r=>{!i[r]&&!e._userSettings[r]&&e.remove(r)})}_applyTemplate(t,e){this._templateDisposers.push(t._apply(this,e)),kt(t._settings,(i,r)=>{!e.settings[i]&&!this._userProperties[i]&&(e.settings[i]=!0,super.set(i,r))}),kt(t._privateSettings,(i,r)=>{!e.privateSettings[i]&&!this._userPrivateProperties[i]&&(e.privateSettings[i]=!0,super.setPrivate(i,r))}),this._runSetup&&t.setup&&(this._runSetup=!1,t.setup(this))}_findStaticTemplate(t){if(this._template&&t(this._template))return this._template}_eachTemplate(t){this._findStaticTemplate(e=>(t(e),!1)),Fu(this._internalTemplates,t),Z(this._templates,t)}_applyTemplates(t=!0){t&&this._disposeTemplates();let e={settings:{},privateSettings:{},states:{}};this._eachTemplate(i=>{this._applyTemplate(i,e)}),t&&(kt(this._settings,i=>{!this._userProperties[i]&&!e.settings[i]&&super.remove(i)}),kt(this._privateSettings,i=>{!this._userPrivateProperties[i]&&!e.privateSettings[i]&&super.removePrivate(i)}))}_findTemplate(t){let e=this._findStaticTemplate(t);if(e===void 0){let i=AF(this._internalTemplates,t);return i===void 0?Cg(this._templates,t):i}else return e}_findTemplateByKey(t){return this._findTemplate(e=>t in e._settings)}_findTemplateByPrivateKey(t){return this._findTemplate(e=>t in e._privateSettings)}_disposeTemplates(){Z(this._templateDisposers,t=>{t.dispose()}),this._templateDisposers.length=0}_removeTemplates(){Z(this._templates,t=>{t._removeObjectTemplate(this)}),this._templates.length=0}_applyThemes(t=!1){let e=!1,i=[],r=[],a=new Set,n=this.get("themeTagsSelf");return n&&Z(n,o=>{a.add(o)}),this._walkParents(o=>{o===this._root._rootContainer&&(e=!0),o._defaultThemes.length>0&&i.push(o._defaultThemes);let l=o.get("themes");l&&r.push(l);let u=o.get("themeTags");u&&Z(u,h=>{a.add(h)})}),r=i.concat(r),this._removeTemplates(),(e||t)&&Fu(this.classNames,o=>{let l=[];Z(r,u=>{Z(u,h=>{let c=h._lookupRules(o);c&&Fu(c,A=>{if(A.tags.every(f=>a.has(f))){let f=Bg(l,p=>{let m=Ha(A.tags.length,p.tags.length);return m===0?Mg(A.tags,p.tags,Ha):m});l.splice(f.index,0,A)}})})}),Z(l,u=>{this._templates.push(u.template),u.template._setObjectTemplate(this)})}),this._applyTemplates(),(e||t)&&(this._runSetup=!1),e||t}_changed(){}_beforeChanged(){if(this.isDirty("id")){let t=this.get("id");t&&this._registerId(t);let e=this._prevSettings.id;e&&(delete this._root.entitiesById[e],delete Qa.entitiesById[e])}}_registerId(t){if(this._root.entitiesById[t]&&this._root.entitiesById[t]!==this)throw new Error('An entity with id "'+t+'" already exists.');this._root.entitiesById[t]=this,Qa.entitiesById[t]=this}_afterChanged(){}addDisposer(t){return this._disposers.push(t),t}_dispose(){super._dispose();let t=this._template;t&&t._removeObjectTemplate(this),Z(this._internalTemplates,i=>{i._removeObjectTemplate(this)}),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach(i=>{i.dispose()}),kt(this._disposerProperties,(i,r)=>{Z(r,a=>{a.dispose()})});let e=this.get("id");e&&(delete this._root.entitiesById[e],delete Qa.entitiesById[e])}setTimeout(t,e){let i=setTimeout(()=>{this.removeDispose(r),t()},e),r=new Ar(()=>{clearTimeout(i)});return this._disposers.push(r),r}removeDispose(t){if(!this.isDisposed()){let e=jo(this._disposers,t);e>-1&&this._disposers.splice(e,1)}t.dispose()}hasTag(t){return jo(this.get("themeTags",[]),t)!==-1}addTag(t){if(!this.hasTag(t)){let e=this.get("themeTags",[]);e.push(t),this.set("themeTags",e)}}removeTag(t){if(this.hasTag(t)){let e=this.get("themeTags",[]);fs(e,t),this.set("themeTags",e)}}_t(t,e,...i){return this._root.language.translate(t,e,...i)}get root(){return this._root}};Object.defineProperty(ii,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"});Object.defineProperty(ii,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]});function w0(s){kt(s,(t,e)=>{Fn(e)&&typeof e.dispose=="function"&&(e.enableDispose=!0,e.dispose())})}var C0=class{constructor(t,e,i){Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=t,this._template=e,this._settings=i}_dispose(){w0(this._settings)}get(t,e){let i=this._settings[t];return i!==void 0?i:e}set(t,e){this._settings[t]=e,this._template._stateChanged(this._name)}remove(t){delete this._settings[t],this._template._stateChanged(this._name)}setAll(t){sr(t).forEach(e=>{this._settings[e]=t[e]}),this._template._stateChanged(this._name)}_apply(t,e){kt(this._settings,(i,r)=>{!e[i]&&!t._userSettings[i]&&(e[i]=!0,t.setRaw(i,r))})}},B0=class{constructor(t){Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=t}_dispose(){kt(this._states,(t,e)=>{e._dispose()})}lookup(t){return this._states[t]}create(t,e){let i=this._states[t];if(i)return i.setAll(e),i;{let r=new C0(t,this._template,e);return this._states[t]=r,this._template._stateChanged(t),r}}remove(t){delete this._states[t],this._template._stateChanged(t)}_apply(t,e){kt(this._states,(i,r)=>{let a=e.states[i];a==null&&(a=e.states[i]={});let n=t.states.create(i,{});r._apply(n,a)})}},S0=class{constructor(){Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}add(t,e){let i=this._callbacks[t];return i===void 0&&(i=this._callbacks[t]=[]),i.push(e),new Ar(()=>{Vr(i,e),i.length===0&&delete this._callbacks[t]})}remove(t){this._callbacks[t]!==void 0&&delete this._callbacks[t]}_apply(t){let e=[];return kt(this._callbacks,(i,r)=>{Z(r,a=>{e.push(t.adapters.add(i,a))})}),new Br(e)}},Mt=class s{constructor(t,e){if(Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new B0(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new S0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new un}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=t}static new(t){return new s(t,!0)}_dispose(){w0(this._settings),w0(this._privateSettings)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}_checkDisposed(){if(this._disposed)throw new Error("Template is disposed")}get entities(){return this._entities}get(t,e){this._checkDisposed();let i=this._settings[t];return i!==void 0?i:e}setRaw(t,e){this._checkDisposed(),this._settings[t]=e}set(t,e){this._checkDisposed(),this._settings[t]!==e&&(this.setRaw(t,e),this._entities.forEach(i=>{i._setTemplateProperty(this,t,e)}))}remove(t){this._checkDisposed(),t in this._settings&&(delete this._settings[t],this._entities.forEach(e=>{e._removeTemplateProperty(t)}))}removeAll(){this._checkDisposed(),kt(this._settings,(t,e)=>{this.remove(t)})}getPrivate(t,e){this._checkDisposed();let i=this._privateSettings[t];return i!==void 0?i:e}setPrivateRaw(t,e){return this._checkDisposed(),this._privateSettings[t]=e,e}setPrivate(t,e){return this._checkDisposed(),this._privateSettings[t]!==e&&(this.setPrivateRaw(t,e),this._entities.forEach(i=>{i._setTemplatePrivateProperty(this,t,e)})),e}removePrivate(t){this._checkDisposed(),t in this._privateSettings&&(delete this._privateSettings[t],this._entities.forEach(e=>{e._removeTemplatePrivateProperty(t)}))}setAll(t){this._checkDisposed(),kt(t,(e,i)=>{this.set(e,i)})}on(t,e){this._checkDisposed();let i=this._settingEvents[t];return i===void 0&&(i=this._settingEvents[t]=[]),i.push(e),new Ar(()=>{Vr(i,e),i.length===0&&delete this._settingEvents[t]})}onPrivate(t,e){this._checkDisposed();let i=this._privateSettingEvents[t];return i===void 0&&(i=this._privateSettingEvents[t]=[]),i.push(e),new Ar(()=>{Vr(i,e),i.length===0&&delete this._privateSettingEvents[t]})}_apply(t,e){this._checkDisposed();let i=[];return kt(this._settingEvents,(r,a)=>{Z(a,n=>{i.push(t.on(r,n))})}),kt(this._privateSettingEvents,(r,a)=>{Z(a,n=>{i.push(t.onPrivate(r,n))})}),this.states._apply(t,e),i.push(this.adapters._apply(t)),i.push(t.events.copyFrom(this.events)),new Br(i)}_setObjectTemplate(t){this._checkDisposed(),this._entities.push(t)}_removeObjectTemplate(t){fs(this._entities,t)}_stateChanged(t){this._checkDisposed(),this._entities.forEach(e=>{e._applyStateByKey(t)})}};var Rg=class s extends un{constructor(t){super(),Object.defineProperty(this,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._sprite=t}_makePointerEvent(t,e){return{type:t,originalEvent:e.event,point:e.point,simulated:e.simulated,native:e.native,target:this._sprite}}_onRenderer(t,e){this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;let i=this._rendererDisposers[t];if(i===void 0){let r=this._sprite._display.on(t,a=>{e.call(this,a)});i=this._rendererDisposers[t]=new Ou(()=>{delete this._rendererDisposers[t],r.dispose()})}return i.increment()}_on(t,e,i,r,a,n,o){let l=super._on(t,e,i,r,a,n,o),u=s.RENDERER_EVENTS[e];return u!==void 0&&(l.disposer=new Br([l.disposer,this._onRenderer(e,u)])),l}stopParentDispatch(){this._dispatchParents=!1}dispatchParents(t,e){let i=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(t,e),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(t,e)}finally{this._dispatchParents=i}}};Object.defineProperty(Rg,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(s){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",s))&&this.dispatch("click",this._makePointerEvent("click",s))},rightclick:function(s){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",s))},middleclick:function(s){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",s))},dblclick:function(s){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",s))},pointerover:function(s){let t=this._sprite,e=!0;if(t.getPrivate("trustBounds")){t._getBounds();let i=t.globalBounds();if(t.isType("Graphics")){let r=t.get("strokeWidth",1)/2;r>=1&&(i.left-=r,i.right+=r,i.top-=r,i.bottom+=r)}kF(s.point,i)||(e=!1,t._root._renderer.removeHovering(t._display))}e&&this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",s))},pointerout:function(s){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",s))},pointerdown:function(s){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",s))},pointerup:function(s){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",s))},globalpointerup:function(s){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",s))},globalpointermove:function(s){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",s))},wheel:function(s){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:s.event,point:s.point})}}});var Ks=class extends ii{constructor(){super(...arguments),Object.defineProperty(this,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_virtualParent",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.setPrivateRaw("visible",!0),super._afterNew()}markDirtyKey(t){this._markDirtyKey(t)}_markDirtyKey(t){super._markDirtyKey(t),(t=="x"||t=="y"||t=="dx"||t=="dy")&&(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}_markDirtyPrivateKey(t){super._markDirtyPrivateKey(t),(t=="x"||t=="y")&&this.markDirtyPosition()}_removeTemplateField(){this._templateField&&this._templateField._removeObjectTemplate(this)}_createEvents(){return new Rg(this)}_processTemplateField(){let t,e=this.get("templateField");if(e){let i=this.dataItem;if(i){let r=i.dataContext;r&&(t=r[e],!(t instanceof Mt)&&t&&(t=Mt.new(t)))}}this._templateField!==t&&(this._removeTemplateField(),this._templateField=t,t&&t._setObjectTemplate(this),this._applyTemplates())}_setDataItem(t){let e=this._dataItem;this._dataItem=t,this._processTemplateField();let i="dataitemchanged";t!=e&&this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,oldDataItem:e,newDataItem:t})}set dataItem(t){this._setDataItem(t)}get dataItem(){if(this._dataItem)return this._dataItem;{let t=this._parent;for(;t;){if(t._dataItem)return t._dataItem;t=t._parent}}}_addPercentageSizeChildren(){let t=this.parent;t&&(this.get("width")instanceof yt||this.get("height")instanceof yt?Tu(t._percentageSizeChildren,this):Vr(t._percentageSizeChildren,this))}_addPercentagePositionChildren(){let t=this.parent;t&&(this.get("x")instanceof yt||this.get("y")instanceof yt?Tu(t._percentagePositionChildren,this):Vr(t._percentagePositionChildren,this))}markDirtyPosition(){this._root._addDirtyPosition(this)}updatePivotPoint(){let t=this._localBounds;if(t){let e=this.get("centerX");e!=null&&(this._display.pivot.x=t.left+jt(e,t.right-t.left));let i=this.get("centerY");i!=null&&(this._display.pivot.y=t.top+jt(i,t.bottom-t.top))}}_beforeChanged(){if(super._beforeChanged(),this._handleStates(),this.isDirty("tooltip")){let t=this._prevSettings.tooltip;t&&t.dispose()}if((this.isDirty("layer")||this.isDirty("layerMargin"))&&(this._display.setLayer(this.get("layer"),this.get("layerMargin")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){let t=this._tooltipMoveDp;t&&(t.dispose(),this._tooltipMoveDp=void 0);let e=this._tooltipPointerDp;e&&(e.dispose(),this._tooltipPointerDp=void 0),this.get("tooltipPosition")=="pointer"&&(this.isHover()&&(this._tooltipMoveDp=this.events.on("globalpointermove",i=>{this.showTooltip(i.point)})),this._tooltipPointerDp=new Br([this.events.on("pointerover",()=>{this._tooltipMoveDp=this.events.on("globalpointermove",i=>{this.showTooltip(i.point)})}),this.events.on("pointerout",()=>{let i=this._tooltipMoveDp;i&&(i.dispose(),this._tooltipMoveDp=void 0)})]))}}_handleStates(){this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility())}_changed(){super._changed();let t=this._display,e=this.events;if(this.isDirty("draggable")){let r=this.get("draggable");r?(this.set("interactive",!0),this._dragDp=new Br([e.on("pointerdown",a=>{this.dragStart(a)}),e.on("globalpointermove",a=>{this.dragMove(a)}),e.on("globalpointerup",a=>{this.dragStop(a)})])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),t.cancelTouch=!!r}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){let r=this.get("tooltipText"),a=this.get("tooltipHTML"),n=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(r||a)&&(n=="click"?(this._tooltipDp=new Br([e.on("click",()=>{this.setTimeout(()=>{let o=this.getTooltip();o&&!o.isHidden()&&o.get("tooltipTarget")===this?this.hideTooltip():this.showTooltip()},10)}),qi(document,"click",o=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)):n=="always"||(this._tooltipDp=new Br([e.on("pointerover",()=>{this.showTooltip()}),e.on("pointerout",()=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)))}if(this.isDirty("toggleKey")){let r=this.get("toggleKey");r&&r!="none"?this._toggleDp=e.on("click",()=>{this._isDragging||this.set(r,!this.get(r))}):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(t.alpha=Math.max(0,this.get("opacity",1)),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("rotation")&&(this.markDirtyBounds(),t.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),t.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(t.visible=!1,this.hideTooltip()):t.visible=!0,this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();let r=this.parent;r&&(this.isDirty("width")&&this.get("width")instanceof yt||this.isDirty("height")&&this.get("height")instanceof yt)&&(r.markDirty(),r._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight")||this.isDirty("marginLeft")||this.isDirty("marginTop")||this.isDirty("marginRight")||this.isDirty("marginBottom"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){let r=this.get("wheelable");r&&this.set("interactive",!0),t.wheelable=!!r}(this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(t.filter=this.get("filter"));let i=this.get("filter","");if(this.isDirty("blur")){let r=this.get("blur",0);r!=0&&(i+=" blur("+r+"px)")}if(this.isDirty("saturate")){let r=this.get("saturate",1);r!=1&&(i+=" saturate("+r+")")}if(this.isDirty("brightness")){let r=this.get("brightness",1);r!=1&&(i+=" brightness("+r+")")}if(this.isDirty("contrast")){let r=this.get("contrast",1);r!=1&&(i+=" contrast("+r+")")}if(this.isDirty("sepia")){let r=this.get("sepia",0);r!=0&&(i+=" sepia("+r+")")}if(this.isDirty("hue")){let r=this.get("hue",0);r!=0&&(i+=" hue-rotate("+r+"deg)")}if(this.isDirty("invert")){let r=this.get("invert",0);r!=0&&(i+=" invert("+r+")")}if(i&&(t.filter=i),this.isDirty("cursorOverStyle")&&(t.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new Br([e.on("focus",()=>{this.showTooltip()}),e.on("blur",()=>{this.hideTooltip()})]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility(),this._disposers.push(e.on("blur",()=>{this.setPrivateRaw("touchHovering",!1)})),this._disposers.push(e.once("boundschanged",()=>{this.markDirtyAccessibility()}))),this.isPrivateDirty("focusable")&&this.markDirtyAccessibility(),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(t.exportable=this.get("exportable")),this.isDirty("interactive")){let r=this.events;this.get("interactive")&&!r.isDisposed()?this._hoverDp=new Br([r.on("click",a=>{kf(a.originalEvent)&&(this.getPrivate("touchHovering")||this.setTimeout(()=>{this._handleOver(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.showTooltip(),this.setPrivateRaw("touchHovering",!0),this.events.dispatch("pointerover",{type:"pointerover",target:a.target,originalEvent:a.originalEvent,point:a.point,simulated:a.simulated})},10))}),r.on("globalpointerup",a=>{kf(a.originalEvent)&&this.getPrivate("touchHovering")&&(this._handleOut(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.hideTooltip(),this.setPrivateRaw("touchHovering",!1),this.events.dispatch("pointerout",{type:"pointerout",target:a.target,originalEvent:a.originalEvent,point:a.point,simulated:a.simulated})),this._isDown&&this._handleUp(a)}),r.on("pointerover",()=>{this._handleOver()}),r.on("pointerout",()=>{this._handleOut()}),r.on("pointerdown",a=>{this._handleDown(a)})]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",null)),this.get("showTooltipOn")=="always"&&this._display.visible&&this.showTooltip()}dragStart(t){this._dragEvent=t,this.events.stopParentDispatch()}dragStop(t){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;let e="dragstop";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}}_handleOver(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleOut(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleUp(t){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;let e=Dg(t.originalEvent);delete this._downPoints[e],sr(this._downPoints).length==0&&(this._isDown=!1)}}_hasMoved(t){let e=Dg(t.originalEvent),i=this._downPoints[e];if(i){let r=Math.abs(i.x-t.point.x),a=Math.abs(i.y-t.point.y);return r>5||a>5}return!1}_hasDown(){return sr(this._downPoints).length>0}_handleDown(t){let e=this.parent;if(e&&!this.get("draggable")&&e._handleDown(t),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:t.point.x,y:t.point.y},this._isDown=!0;let i=Dg(t.originalEvent);this._downPoints[i]={x:t.point.x,y:t.point.y}}}dragMove(t){let e=this._dragEvent;if(e){if(e.simulated&&!t.simulated)return!0;let i=0,r=this.parent,a=1;for(;r!=null;)i+=r.get("rotation",0),r=r.parent,r&&(a*=r.get("scale",1));let n=(t.point.x-e.point.x)/a,o=(t.point.y-e.point.y)/a,l=this.events;if(e.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=t,this._dragPoint={x:this.x(),y:this.y()};let u="dragstart";l.isEnabled(u)&&l.dispatch(u,{type:u,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}if(this._isDragging){let u=this._dragPoint;this.set("x",u.x+n*Pi(i)+o*xi(i)),this.set("y",u.y+o*Pi(i)-n*xi(i));let h="dragged";l.isEnabled(h)&&l.dispatch(h,{type:h,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}else if(Math.hypot(n,o)>5){this._isDragging=!0,this._dragEvent=t,this._dragPoint={x:this.x(),y:this.y()};let u="dragstart";l.isEnabled(u)&&l.dispatch(u,{type:u,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}}}_updateSize(){}_getBounds(){this._localBounds=this._display.getLocalBounds()}depth(){let t=this.parent,e=0;for(;;)if(t)++e,t=t.parent;else return e}markDirtySize(){this._sizeDirty=!0,this.markDirty()}markDirtyBounds(){let t=this._display;if(this.get("isMeasured")){this._root._addDirtyBounds(this),t.isMeasured=!0,t.invalidateBounds();let e=this.parent;e&&this.get("position")!="absolute"&&(e.get("width")==null||e.get("height")==null||e.get("layout"))&&e.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()}}markDirtyAccessibility(){this._root._invalidateAccessibility(this)}markDirtyLayer(){this._display.markDirtyLayer(!0)}markDirty(){super.markDirty(),this.markDirtyLayer()}_updateBounds(){let t=this._adjustedLocalBounds,e;if(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(e={left:0,right:0,top:0,bottom:0},this._localBounds=e,this._adjustedLocalBounds=e):(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),e=this._adjustedLocalBounds),!t||t.left!==e.left||t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom){let i="boundschanged";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds()),this.getPrivate("showingTooltip")&&this.showTooltip()}}_fixMinBounds(t){let e=this.get("minWidth",this.getPrivate("minWidth")),i=this.get("minHeight",this.getPrivate("minHeight"));ee(e)&&t.right-t.left<e&&(t.right=t.left+e),ee(i)&&t.bottom-t.top<i&&(t.bottom=t.top+i);let r=this.getPrivate("width"),a=this.getPrivate("height");ee(r)&&(r>0?t.right=t.left+r:t.left=t.right+r),ee(a)&&(a>0?t.bottom=t.top+a:t.top=t.bottom+a)}_removeParent(t){t&&(t.children.removeValue(this),Vr(t._percentageSizeChildren,this),Vr(t._percentagePositionChildren,this))}_clearDirty(){super._clearDirty(),this._sizeDirty=!1}hover(){this.isDisposed()||(this.showTooltip(),this._handleOver())}unhover(){this.isDisposed()||(this.hideTooltip(),this._handleOut())}showTooltip(t){if(!this.isDisposed()){let e=this.getTooltip(),i=this.get("tooltipText"),r=this.get("tooltipHTML");if((i||r)&&e){let a=this.get("tooltipPosition"),n=this.getPrivate("tooltipTarget",this);if((a=="fixed"||!t)&&(this._display._setMatrix(),t=this.toGlobal(n._getTooltipPoint())),a=="pointer"){let u=this.getPrivate("lastTooltipCoords");if(u&&u.x==t.x&&u.y==t.y)return;this.setPrivate("lastTooltipCoords",t)}e.set("pointTo",t),e.set("tooltipTarget",n),e.get("x")||e.set("x",t.x),e.get("y")||e.set("y",t.y),i&&e.label.set("text",i),r&&e.label.set("html",r);let o=this.dataItem;if(o&&e.label._setDataItem(o),this.get("showTooltipOn")=="always"&&(t.x<0||t.x>this._root.width()||t.y<0||t.y>this._root.height())){this.hideTooltip();return}e.label.text.markDirtyText();let l=e.show();return this.setPrivateRaw("showingTooltip",!0),l}}}hideTooltip(){let t=this.getTooltip();if(t&&(this.removePrivate("lastTooltipCoords"),t.get("tooltipTarget")==this.getPrivate("tooltipTarget",this)||this.get("tooltip")==t)){let e=t.get("keepTargetHover")&&t.get("stateAnimationDuration",0)==0?400:void 0,i=t.hide(e);return this.setPrivateRaw("showingTooltip",!1),i}}_getTooltipPoint(){let t=this._localBounds;if(t){let e=0,i=0;return this.get("isMeasured")?(e=t.left+jt(this.get("tooltipX",0),t.right-t.left),i=t.top+jt(this.get("tooltipY",0),t.bottom-t.top)):(e=jt(this.get("tooltipX",0),this.width()),i=jt(this.get("tooltipY",0),this.height())),{x:e,y:i}}return{x:0,y:0}}getTooltip(){let t=this.get("tooltip");if(t)return t;{let e=this.parent;if(e)return e.getTooltip()}}_updatePosition(){let t=this.parent,e=this.get("dx",0),i=this.get("dy",0),r=this.get("x"),a=this.getPrivate("x"),n=0,o=0,l=this.get("position");r instanceof yt&&(t?r=t.innerWidth()*r.value+t.get("paddingLeft",0):r=0),ee(r)?n=r+e:a!=null?n=a:t&&l=="relative"&&(n=t.get("paddingLeft",0)+e);let u=this.get("y"),h=this.getPrivate("y");u instanceof yt&&(t?u=t.innerHeight()*u.value+t.get("paddingTop",0):u=0),ee(u)?o=u+i:h!=null?o=h:t&&l=="relative"&&(o=t.get("paddingTop",0)+i);let c=this._display;if(c.x!=n||c.y!=o){c.invalidateBounds(),c.x=n,c.y=o;let A="positionchanged";this.events.isEnabled(A)&&this.events.dispatch(A,{type:A,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}x(){let t=this.get("x"),e=this.getPrivate("x"),i=this.parent;return i?t instanceof yt?jt(t,i.innerWidth())+i.get("paddingLeft",0):ee(t)?t:e??i.get("paddingLeft",this._display.x):this._display.x}y(){let t=this.getPrivate("y");if(t!=null)return t;let e=this.get("y"),i=this.parent;return i?e instanceof yt?jt(e,i.innerHeight())+i.get("paddingTop",0):ee(e)?e:t??i.get("paddingTop",this._display.y):this._display.y}_dispose(){super._dispose(),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);let t=this.get("tooltip");t&&t.dispose(),this.markDirty()}adjustedLocalBounds(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}localBounds(){return this._localBounds}bounds(){let t=this._adjustedLocalBounds,e=this.x(),i=this.y();return{left:t.left+e,right:t.right+e,top:t.top+i,bottom:t.bottom+i}}globalBounds(){let t=this.localBounds(),e=this.toGlobal({x:t.left,y:t.top}),i=this.toGlobal({x:t.right,y:t.top}),r=this.toGlobal({x:t.right,y:t.bottom}),a=this.toGlobal({x:t.left,y:t.bottom});return{left:Math.min(e.x,i.x,r.x,a.x),top:Math.min(e.y,i.y,r.y,a.y),right:Math.max(e.x,i.x,r.x,a.x),bottom:Math.max(e.y,i.y,r.y,a.y)}}_onShow(t){}_onHide(t){}appear(t,e){return je(this,void 0,void 0,function*(){return yield this.hide(0),e?new Promise((i,r)=>{this.setTimeout(()=>{i(this.show(t))},e)}):this.show(t)})}show(t){return je(this,void 0,void 0,function*(){if(!this._isShowing){this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(t);let e=this.states.applyAnimate("default",t);yield c0(e),this._isShowing=!1}})}hide(t){return je(this,void 0,void 0,function*(){if(!this._isHiding&&!this._isHidden){this._isHiding=!0,this._isShowing=!1;let e=this.states.lookup("hidden");e||(e=this.states.create("hidden",{opacity:0,visible:!1})),this._isHidden=!0,this._onHide(t);let i=this.states.applyAnimate("hidden",t);yield c0(i),this._isHiding=!1}})}isHidden(){return this._isHidden}isShowing(){return this._isShowing}isHiding(){return this._isHiding}isHover(){return this._display.hovering()}isFocus(){return this._root.focused(this)}isDragging(){return this._isDragging}isVisible(){return!!(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden"))}isVisibleDeep(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}compositeOpacity(){let t=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*t:t}compositeScale(){let t=this.get("scale",1);return this._parent?this._parent.compositeScale()*t:t}compositeRotation(){let t=this.get("rotation",0);return this._parent?this._parent.compositeRotation()+t:t}width(){let t=this.get("width"),e=this.get("maxWidth",this.getPrivate("maxWidth")),i=this.get("minWidth",this.getPrivate("minWidth")),r=this.getPrivate("width"),a=0;if(ee(r))a=r;else if(t==null)this._adjustedLocalBounds&&(a=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(t instanceof yt){let n=this.parent;n?a=n.innerWidth()*t.value:a=this._root.width()*t.value}else ee(t)&&(a=t);return ee(i)&&(a=Math.max(i,a)),ee(e)&&(a=Math.min(e,a)),a}maxWidth(){let t=this.get("maxWidth",this.getPrivate("maxWidth"));if(ee(t))return t;{let i=this.get("width");if(ee(i))return i}let e=this.parent;return e?e.innerWidth():this._root.width()}maxHeight(){let t=this.get("maxHeight",this.getPrivate("maxHeight"));if(ee(t))return t;{let i=this.get("height");if(ee(i))return i}let e=this.parent;return e?e.innerHeight():this._root.height()}height(){let t=this.get("height"),e=this.get("maxHeight",this.getPrivate("maxHeight")),i=this.get("minHeight",this.getPrivate("minHeight")),r=this.getPrivate("height"),a=0;if(ee(r))a=r;else if(t==null)this._adjustedLocalBounds&&(a=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(t instanceof yt){let n=this.parent;n?a=n.innerHeight()*t.value:a=this._root.height()*t.value}else ee(t)&&(a=t);return ee(i)&&(a=Math.max(i,a)),ee(e)&&(a=Math.min(e,a)),a}_findStaticTemplate(t){return this._templateField&&t(this._templateField)?this._templateField:super._findStaticTemplate(t)}_walkParents(t){(this._parent||this._virtualParent)&&this._walkParent(t)}_walkParent(t){this._parent?this._parent._walkParent(t):this._virtualParent&&this._virtualParent._walkParent(t),t(this)}set virtualParent(t){this._virtualParent=t,this._applyThemes()}get parent(){return this._parent}_setParent(t,e=!1){let i=this._parent;t!==i&&(this.markDirtyBounds(),t.markDirty(),this._parent=t,e&&(this._removeParent(i),t&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}getNumberFormatter(){return this.get("numberFormatter",this._root.numberFormatter)}getDateFormatter(){return this.get("dateFormatter",this._root.dateFormatter)}getDurationFormatter(){return this.get("durationFormatter",this._root.durationFormatter)}toGlobal(t){return this._display.toGlobal(t)}toLocal(t){return this._display.toLocal(t)}_getDownPoint(){let t=this._getDownPointId();if(t)return this._downPoints[t]}_getDownPointId(){if(this._downPoints)return i0(this._downPoints,(t,e)=>t>e?1:t<e?-1:0)[0]}toFront(){let t=this.parent;t&&t.children.moveValue(this,t.children.length-1)}toBack(){let t=this.parent;t&&t.children.moveValue(this,0)}};Object.defineProperty(Ks,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"});Object.defineProperty(Ks,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ii.classNames.concat([Ks.className])});var ja=class extends ii{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}get pattern(){return this._pattern}_draw(){}_beforeChanged(){super._beforeChanged(),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fillOpacity"))&&(this._clear=!0),this._checkDirtyFill()}_checkDirtyFill(){(this.isDirty("color")||this.isDirty("fill"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let t=this.get("repetition",""),e=this.get("width",100),i=this.get("height",100),r=this.get("fill"),a=this.get("fillOpacity",1),n=this._backgroundDisplay,o=this._display;o.clear(),n.clear(),r&&a>0&&(n.beginFill(r,a),n.drawRect(0,0,e,i),n.endFill()),o.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(o,n,t,e,i)}this._clear=!1}};Object.defineProperty(ja,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"});Object.defineProperty(ja,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ii.classNames.concat([ja.className])});var Eu=class extends ja{constructor(){super(...arguments),Object.defineProperty(this,"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged(),this._clear=!0,this.isDirty("src")&&this._load();let t=this.get("canvas");t&&(this.set("width",t.width),this.set("height",t.height))}_draw(){super._draw();let t=this.get("colorOpacity");t!==void 0&&(this._display.alpha=Math.max(0,t));let e=this._image;if(e){let r=this.get("width",100),a=this.get("height",100),n=this.get("fit","image"),o=0,l=0;n=="pattern"?(o=r,l=a,this.markDirty()):(o=e.width,l=e.height,n=="image"&&(this.set("width",o),this.set("height",l)));let u=this.get("centered",!0),h=0,c=0;u&&(h=r/2-o/2,c=a/2-l/2),this._display.image(e,o,l,h,c)}let i=this.get("canvas");i&&this._display.image(i,i.width,i.height,0,0)}_load(){let t=this.get("src");if(t){let e=new Image;e.src=t,e.decode().then(()=>{this._image=e,this._draw(),this.events.isEnabled("loaded")&&this.events.dispatch("loaded",{type:"loaded",target:this})}).catch(i=>{})}}};Object.defineProperty(Eu,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"});Object.defineProperty(Eu,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ja.classNames.concat([Eu.className])});var Td;(function(s){s.ADD="lighter",s.COLOR="color",s.COLOR_BURN="color-burn",s.COLOR_DODGE="color-dodge",s.DARKEN="darken",s.DIFFERENCE="difference",s.DST_OVER="destination-over",s.EXCLUSION="exclusion",s.HARD_LIGHT="hard-light",s.HUE="hue",s.LIGHTEN="lighten",s.LUMINOSITY="luminosity",s.MULTIPLY="multiply",s.NORMAL="source-over",s.OVERLAY="overlay",s.SATURATION="saturation",s.SCREEN="screen",s.SOFT_LIGHT="soft-light",s.SRC_ATOP="source-atop",s.XOR="xor"})(Td||(Td={}));var Hf=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","fillPattern","strokePattern","fillGradient","strokeGradient","strokeDasharray","strokeDashoffset","shadowBlur","shadowColor","shadowOpacity","shadowOffsetX","shadowOffsetY","blur","sepia","invert","brightness","hue","contrast","saturate"],pt=class extends Ks{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("scale")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("lineCap")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this._display.crisp=this.get("crisp",!1),this.isDirty("fillGradient")){let t=this.get("fillGradient");if(t){this._display.isMeasured=!0;let e=t.get("target");e&&(this._disposers.push(e.events.on("boundschanged",()=>{this._markDirtyKey("fill")})),this._disposers.push(e.events.on("positionchanged",()=>{this._markDirtyKey("fill")})))}}if(this.isDirty("strokeGradient")){let t=this.get("strokeGradient");if(t){this._display.isMeasured=!0;let e=t.get("target");e&&(this._disposers.push(e.events.on("boundschanged",()=>{this._markDirtyKey("stroke")})),this._disposers.push(e.events.on("positionchanged",()=>{this._markDirtyKey("stroke")})))}}}_changed(){if(super._changed(),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();let t=this.get("strokeDasharray");ee(t)&&(t<.5?t=[0]:t=[t]),this._display.setLineDash(t);let e=this.get("strokeDashoffset");e&&this._display.setLineDashOffset(e);let i=this.get("blendMode",Td.NORMAL);this._display.blendMode=i;let r=this.get("draw");r&&typeof r=="function"&&r(this._display,this);let a=this.get("svgPath");a!=null&&this._display.svgPath(a)}}_afterChanged(){if(super._afterChanged(),this._clear){let t=this.get("fill"),e=this.get("fillGradient"),i=this.get("fillPattern"),r=this.get("fillOpacity"),a=this.get("stroke"),n=this.get("strokeGradient"),o=this.get("strokePattern"),l=this.get("shadowColor"),u=this.get("shadowBlur"),h=this.get("shadowOffsetX"),c=this.get("shadowOffsetY"),A=this.get("shadowOpacity");if(l&&(u||h||c)&&this._display.shadow(l,u,h,c,A),t&&!e&&(this._display.beginFill(t,r),this._display.endFill()),e){if(t){let f=e.get("stops",[]);f.length&&Z(f,p=>{(!p.color||p.colorInherited)&&t&&(p.color=t,p.colorInherited=!0),(p.opacity==null||p.opacityInherited)&&(p.opacity=r,p.opacityInherited=!0)})}let d=e.getFill(this);d&&(this._display.beginFill(d,r),this._display.endFill())}if(i){let d=i.pattern;d&&(this._display.beginFill(d,r),this._display.endFill(),i instanceof Eu&&i.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}if(a||n||o){let d=this.get("strokeOpacity"),f=this.get("strokeWidth",1);this.get("nonScalingStroke")&&(f=f/this.get("scale",1)),this.get("crisp")&&(f/=this._root._renderer.resolution);let p=this.get("lineJoin"),m=this.get("lineCap");if(a&&!n&&(this._display.lineStyle(f,a,d,p,m),this._display.endStroke()),n){let g=n.get("stops",[]);g.length&&Z(g,x=>{(!x.color||x.colorInherited)&&a&&(x.color=a,x.colorInherited=!0),(x.opacity==null||x.opacityInherited)&&(x.opacity=d,x.opacityInherited=!0)});let y=n.getFill(this);y&&(this._display.lineStyle(f,y,d,p,m),this._display.endStroke())}if(o){let g=o.pattern;g&&(this._display.lineStyle(f,g,d,p,m),this._display.endStroke(),o instanceof Eu&&o.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}}this.getPrivate("showingTooltip")&&this.showTooltip()}this._clear=!1}};Object.defineProperty(pt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"});Object.defineProperty(pt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ks.classNames.concat([pt.className])});var fr=class extends pt{_afterNew(){super._afterNew(),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){let t=this.width(),e=this.height(),i=0,r=0,a=t/Math.abs(t),n=e/Math.abs(e);if(this.get("containStroke",!1)){let o=this.get("strokeWidth",0);t-=o*a,e-=o*n,i+=o/2*a,r+=o/2*n}this._display.drawRect(i,r,t,e)}_updateSize(){this.markDirty(),this._clear=!0}};Object.defineProperty(fr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"});Object.defineProperty(fr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pt.classNames.concat([fr.className])});function On(s,t){s.get("reverseChildren",!1)?s.children.eachReverse(t):s.children.each(t)}var Xa=class extends ii{};Object.defineProperty(Xa,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"});Object.defineProperty(Xa,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ii.classNames.concat([Xa.className])});var Xo=class extends Xa{updateContainer(t){let e=t.get("paddingLeft",0),i=t.innerWidth(),r=0;On(t,n=>{if(n.isVisible()&&n.get("position")=="relative"){let o=n.get("width");if(o instanceof yt){r+=o.value;let l=i*o.value,u=n.get("minWidth",n.getPrivate("minWidth",-1/0));u>l&&(i-=u,r-=o.value);let h=n.get("maxWidth",n.getPrivate("maxWidth",1/0));l>h&&(i-=h,r-=o.value)}else ee(o)||(o=n.width()),i-=o+n.get("marginLeft",0)+n.get("marginRight",0)}}),(i<=0||i==1/0)&&(i=.1),On(t,n=>{if(n.isVisible()&&n.get("position")=="relative"){let o=n.get("width");if(o instanceof yt){let l=i*o.value/r-n.get("marginLeft",0)-n.get("marginRight",0),u=n.get("minWidth",n.getPrivate("minWidth",-1/0)),h=n.get("maxWidth",n.getPrivate("maxWidth",1/0));l=Math.min(Math.max(u,l),h),n.setPrivate("width",l)}else n._prevSettings.width instanceof yt&&n.setPrivate("width",void 0)}});let a=e;On(t,n=>{if(n.get("position")=="relative")if(n.isVisible()){let o=n.adjustedLocalBounds(),l=n.get("marginLeft",0),u=n.get("marginRight",0),h=n.get("maxWidth"),c=o.left,A=o.right;h&&A-c>h&&(A=c+h);let d=a+l-c;n.setPrivate("x",d),a=d+A+u}else n.setPrivate("x",void 0)})}};Object.defineProperty(Xo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"});Object.defineProperty(Xo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Xa.classNames.concat([Xo.className])});var Wo=class extends Xa{updateContainer(t){let e=t.get("paddingTop",0),i=t.innerHeight(),r=0;On(t,n=>{if(n.isVisible()&&n.get("position")=="relative"){let o=n.get("height");if(o instanceof yt){r+=o.value;let l=i*o.value,u=n.get("minHeight",n.getPrivate("minHeight",-1/0));u>l&&(i-=u,r-=o.value);let h=n.get("maxHeight",n.getPrivate("maxHeight",1/0));l>h&&(i-=h,r-=o.value)}else ee(o)||(o=n.height()),i-=o+n.get("marginTop",0)+n.get("marginBottom",0)}}),(i<=0||i==1/0)&&(i=.1),On(t,n=>{if(n.isVisible()&&n.get("position")=="relative"){let o=n.get("height");if(o instanceof yt){let l=i*o.value/r-n.get("marginTop",0)-n.get("marginBottom",0),u=n.get("minHeight",n.getPrivate("minHeight",-1/0)),h=n.get("maxHeight",n.getPrivate("maxHeight",1/0));l=Math.min(Math.max(u,l),h),n.setPrivate("height",l)}else n._prevSettings.height instanceof yt&&n.setPrivate("height",void 0)}});let a=e;On(t,n=>{if(n.get("position")=="relative")if(n.isVisible()){let o=n.adjustedLocalBounds(),l=n.get("marginTop",0),u=o.top,h=o.bottom,c=n.get("maxHeight");c&&h-u>c&&(h=u+c);let A=n.get("marginBottom",0),d=a+l-u;n.setPrivate("y",d),a=d+h+A}else n.setPrivate("y",void 0)})}};Object.defineProperty(Wo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"});Object.defineProperty(Wo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Xa.classNames.concat([Wo.className])});var Ln=class extends Xa{_afterNew(){this._setRawDefault("maxColumns",Number.MAX_VALUE),super._afterNew()}updateContainer(t){let e=t.get("paddingLeft",0),i=t.get("paddingRight",0),r=t.get("paddingTop",0),a=t.maxWidth()-e-i,n=a,o=1;On(t,f=>{if(f.get("visible")&&f.getPrivate("visible")&&!f.get("forceHidden")&&f.get("position")!="absolute"){let p=f.width();p<n&&(n=p),p>o&&(o=p)}}),n=Qi(n,1,a),o=Qi(o,1,a);let l=1;this.get("fixedWidthGrid")?l=a/o:l=a/n,l=Math.max(1,Math.floor(l)),l=Math.min(this.get("maxColumns",Number.MAX_VALUE),l);let u=this.getColumnWidths(t,l,o,a),h=r,c=0,A=0;l=u.length;let d=e;On(t,f=>{if(f.get("position")=="relative"&&f.isVisible()){let p=f.get("marginTop",0),m=f.get("marginBottom",0),g=f.adjustedLocalBounds(),y=f.get("marginLeft",0),x=f.get("marginRight",0),C=d+y-g.left,S=h+p-g.top;f.setPrivate("x",C),f.setPrivate("y",S),d+=u[c]+x,A=Math.max(A,f.height()+p+m),c++,c>=l&&(c=0,d=e,h+=A,A=0)}})}getColumnWidths(t,e,i,r){let a=0,n=[],o=0;return On(t,l=>{let u=l.adjustedLocalBounds();l.get("position")!="absolute"&&l.isVisible()&&(this.get("fixedWidthGrid")?n[o]=i:n[o]=Math.max(n[o]|0,u.right-u.left+l.get("marginLeft",0)+l.get("marginRight",0)),o<t.children.length-1&&(o++,o==e&&(o=0)))}),Z(n,l=>{a+=l}),a>r?e>2?(e-=1,this.getColumnWidths(t,e,i,r)):[r]:n}};Object.defineProperty(Ln,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"});Object.defineProperty(Ln,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Xa.classNames.concat([Ln.className])});var $s=class{static escape(t){return t.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}static unescape(t){return t.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}static cleanUp(t){return t.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}static chunk(t,e=!1,i=!1){let r=[];t=this.escape(t);let a=e?t.split("'"):[t];for(let n=0;n<a.length;n++){let o=a[n];if(o!=="")if(n%2===0){o=o.replace(/\]\[/g,"]"+Tn+"["),o=o.replace(/\[\]/g,"[ ]");let l=o.split(/[\[\]]+/);for(let u=0;u<l.length;u++){let h=this.cleanUp(this.unescape(l[u]));h!==Tn&&h!==""&&(u%2===0?r.push({type:"value",text:h}):r.push({type:i?"value":"format",text:"["+h+"]"}))}}else{let l=o.split(/[\[\]]+/);for(let u=0;u<l.length;u++){let h=this.cleanUp(this.unescape(l[u]));h!==""&&(u%2===0?r.push({type:"text",text:h}):this.isImage(h)?r.push({type:"image",text:"["+h+"]"}):r.push({type:"format",text:"["+h+"]"}))}}}return r}static isImage(t){return!!t.match(/img[ ]?:/)}static getTextStyle(t){let e={};if(t==""||t=="[ ]")return{};let i=t.match(/('[^']*')|("[^"]*")/gi);if(i)for(let a=0;a<i.length;a++)t=t.replace(i[a],i[a].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));let r=t.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!r)return{};for(let a=0;a<r.length;a++)if(r[a].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))e.fontWeight=r[a];else if(r[a].match(/^(underline|line-through)$/i))e.textDecoration=r[a];else if(r[a]!="/")if(!r[a].match(/:/))e.fill=rt.fromString(r[a]);else{let n=r[a].replace("+"," ").split(/:[ ]*/);e[n[0]]=n[1]}return e}};Object.defineProperty($s,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"});function zo(s,t){if(t!=null){t=""+t,t=$s.escape(t);let e=t.match(/\{([^}]+)\}/g),i;if(e)for(i=0;i<e.length;i++){let r=e[i].replace(/\{([^}]+)\}/,"$1"),a=P0(s,r,"");a==null&&(a=""),t=t.split(e[i]).join(a)}t=$s.unescape(t)}else t="";return t}function P0(s,t,e){let i,r=s.dataItem,a=[],n=/(format[a-zA-Z]*)\((.*)\)|([^.]+)/g,o;for(;o=n.exec(t),o!==null;)if(o[3]){a.push({prop:o[3]});let l=s.getDateFormatter().get("dateFields",[]),u=s.getNumberFormatter().get("numericFields",[]),h=s.getDurationFormatter().get("durationFields",[]);l.indexOf(o[3])!==-1?a.push({method:"formatDate",params:[]}):u.indexOf(o[3])!==-1?a.push({method:"formatNumber",params:[]}):h.indexOf(o[3])!==-1&&a.push({method:"formatDuration",params:[]})}else{let l=[];if(Lu(o[2])!=""){let u=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,h;for(;h=u.exec(o[2]),h!==null;)l.push(h[1]||h[2]||h[3])}a.push({method:o[1],params:l})}if(r){i=Gh(s,a,r._settings),(i==null||Fn(i))&&(i=Gh(s,a,r));let l=r.dataContext;i==null&&l&&(i=Gh(s,a,l),i==null&&(i=Gh(s,[{prop:t}],l)),i==null&&l.dataContext&&(i=Gh(s,a,l.dataContext))),i==null&&r.component&&r.component.dataItem!==r&&(i=P0(r.component,t,e))}return i==null&&(i=Gh(s,a,s)),i==null&&s.parent&&(i=P0(s.parent,t,e)),i}function xU(s,t){let e=s.getPrivate("customData");if(Fn(e))return e[t]}function Gh(s,t,e,i){let r=e,a=!1;for(let n=0,o=t.length;n<o;n++){let l=t[n];if(l.prop){if(r instanceof Ks){let u=r.get(l.prop);u==null&&(u=r.getPrivate(l.prop)),u==null&&(u=xU(r,l.prop)),u==null&&(u=r[l.prop]),r=u}else if(r.get){let u=r.get(l.prop);u==null&&(u=r[l.prop]),r=u}else r=r[l.prop];if(r==null)return}else switch(l.method){case"formatNumber":let u=Gs(r);u!=null&&(r=s.getNumberFormatter().format(u,i||l.params[0]||void 0),a=!0);break;case"formatDate":let h=hF(r);if(!xg(h)||zs(h.getTime()))return;h!=null&&(r=s.getDateFormatter().format(h,i||l.params[0]||void 0),a=!0);break;case"formatDuration":let c=Gs(r);c!=null&&(r=s.getDurationFormatter().format(c,i||l.params[0]||void 0,l.params[1]||void 0),a=!0);break;case"urlEncode":case"encodeURIComponent":r=encodeURIComponent(r);break;default:r[l.method]&&r[l.method].apply(e,l.params);break}}if(!a){let n=[{method:"",params:i}];if(i==null)ee(r)?(n[0].method="formatNumber",n[0].params=""):xg(r)&&(n[0].method="formatDate",n[0].params="");else{let o=_F(i);o==="number"?n[0].method="formatNumber":o==="date"?n[0].method="formatDate":o==="duration"&&(n[0].method="formatDuration")}n[0].method&&(r=Gh(s,n,r))}return r}var Re=class s extends Ks{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:new $g(this)}),Object.defineProperty(this,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_childrenPrep",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_childrenUpdt",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){super._afterNew(),this._display.addChild(this._childrenDisplay)}_afterChanged(){super._afterChanged(),this._childrenPrep=!1,this._childrenUpdt=!1}_dispose(){Fu(this.allChildren(),t=>{t.dispose()}),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),super._dispose()}_beforeChanged(){this._childrenPrep||this._prepareChildren(),this._childrenUpdt||this._updateChildren(),super._beforeChanged()}_changed(){if(super._changed(),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each(t=>{t.removePrivate("x"),t.removePrivate("y")})),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each(t=>{t.markDirtyPosition()}),this.isDirty("maskContent")){let t=this._childrenDisplay,e=this._contentMask;this.get("maskContent")?e||(e=fr.new(this._root,{x:-.5,y:-.5,width:this.width()+1,height:this.height()+1}),this._contentMask=e,t.addChildAt(e._display,0),t.mask=e._display):e&&(t.removeChild(e._display),t.mask=null,e.dispose(),this._contentMask=void 0)}}_updateSize(){super._updateSize(),Z(this._percentageSizeChildren,t=>{t._updateSize()}),Z(this._percentagePositionChildren,t=>{t.markDirtyPosition(),t._updateSize()}),this.updateBackground()}updateBackground(){let t=this.get("background"),e=this._localBounds;if(e&&!this.isHidden()){let i=e.left,r=e.top,a=e.right-i,n=e.bottom-r,o=this.get("maxWidth"),l=this.get("maxHeight");l&&n>l&&(n=l),o&&a>o&&(a=o);let u=this.width(),h=this.height();t&&(t.setAll({width:a,height:n,x:i,y:r}),this._display.interactive&&(t._display.interactive=!0));let c=this._contentMask;c&&c.setAll({width:u+1,height:h+1});let A=this.get("verticalScrollbar");if(A){A.set("height",h),A.set("x",u-A.width()-A.get("marginRight",0));let d=A.get("start",0),f=A.get("end",1);d>1-f?A.set("start",Math.max(0,f-h/this._contentHeight)):A.set("end",Math.min(1,d+h/this._contentHeight));let p=A.get("background");p&&p.setAll({width:A.width(),height:h});let m=!0;this._contentHeight<=h&&(m=!1),A.setPrivate("visible",m)}}}_applyThemes(t=!1){return super._applyThemes(t)?(this.eachChildren(e=>{e._applyThemes(t)}),!0):!1}_applyState(t){super._applyState(t),this.get("setStateOnChildren")&&this.eachChildren(e=>{e.states.apply(t)})}_applyStateAnimated(t,e){super._applyStateAnimated(t,e),this.get("setStateOnChildren")&&this.eachChildren(i=>{i.states.applyAnimate(t,e)})}innerWidth(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}innerHeight(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}_getBounds(){if(this.get("html")){let t=this._localBounds;t&&(this._contentWidth=t.right-t.left,this._contentHeight=t.bottom-t.top)}else{let t=this.get("width"),e=this.get("height"),i=this.getPrivate("width"),r=this.getPrivate("height"),a={left:0,top:0,right:this.width(),bottom:this.height()},n=this.get("layout"),o=!1,l=!1;if((n instanceof Xo||n instanceof Ln)&&(o=!0),n instanceof Wo&&(l=!0),!((t!=null||i!=null)&&(e!=null||r!=null)&&!this.get("verticalScrollbar"))){let u=Number.MAX_VALUE,h=u,c=-u,A=u,d=-u,f=this.get("paddingLeft",0),p=this.get("paddingTop",0),m=this.get("paddingRight",0),g=this.get("paddingBottom",0);this.children.each(C=>{if(C.get("position")!="absolute"&&C.get("isMeasured")){let S=C.adjustedLocalBounds(),P=C.x(),F=C.y(),O=P+S.left,$=P+S.right,L=F+S.top,E=F+S.bottom;o&&(O-=C.get("marginLeft",0),$+=C.get("marginRight",0)),l&&(L-=C.get("marginTop",0),E+=C.get("marginBottom",0)),O<h&&(h=O),$>c&&(c=$),L<A&&(A=L),E>d&&(d=E)}}),h==u&&(h=0),c==-u&&(c=0),A==u&&(A=0),d==-u&&(d=0),a.left=h-f,a.top=A-p,a.right=c+m,a.bottom=d+g;let y=this.get("minWidth");ee(y)&&y>0&&a.right-a.left<y&&(a.right>=y?a.left=a.right-y:a.right=a.left+y);let x=this.get("minHeight");ee(x)&&x>0&&a.bottom-a.top<x&&(a.bottom>=x?a.top=a.bottom-x:a.bottom=a.top+x)}this._contentWidth=a.right-a.left,this._contentHeight=a.bottom-a.top,ee(t)&&(a.left=0,a.right=t),ee(i)&&(a.left=0,a.right=i),ee(e)&&(a.top=0,a.bottom=e),ee(r)&&(a.top=0,a.bottom=r),this._localBounds=a}}_updateBounds(){let t=this.get("layout");t&&t.updateContainer(this),super._updateBounds(),this.updateBackground()}markDirty(){super.markDirty(),this._root._addDirtyParent(this)}_prepareChildren(){this._childrenPrep=!0;let t=this.innerWidth(),e=this.innerHeight();if(t!=this._prevWidth||e!=this._prevHeight){let i=this.get("layout"),r=!1,a=!1;i&&((i instanceof Xo||i instanceof Ln)&&(r=!0),i instanceof Wo&&(a=!0)),Z(this._percentageSizeChildren,n=>{if(!r){let o=n.get("width");o instanceof yt&&n.setPrivate("width",o.value*t)}if(!a){let o=n.get("height");o instanceof yt&&n.setPrivate("height",o.value*e)}}),Z(this._percentagePositionChildren,n=>{n.markDirtyPosition(),n.markDirtyBounds()}),this._prevWidth=t,this._prevHeight=e,this._sizeDirty=!0,this.updateBackground()}}_updateHTMLContent(){let t=this.get("html","");t&&t!==""?this._root._setHTMLContent(this,zo(this,t)):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}scrollToChild(t){let e=this.get("verticalScrollbar");if(e){let i=t.y(),r=this.innerHeight(),a=t.height(),n=this._contentHeight,o=1-(r-a/2)/n;if(i+a*.7+this._childrenDisplay.y>r||i-a*.3+this._childrenDisplay.y<0){let l=Math.max(0,Math.min(o,(i-a/2)/n));e.animate({key:"start",to:l,duration:e.get("animationDuration",0),easing:e.get("animationEasing")})}}}_updateChildren(){if(this._childrenUpdt=!0,this.isDirty("html")&&this._updateHTMLContent(),this.isDirty("verticalScrollbar")){let t=this.get("verticalScrollbar");if(t){t._setParent(this),t.startGrip.setPrivate("visible",!1),t.endGrip.setPrivate("visible",!1),this.set("maskContent",!0),this.set("paddingRight",t.width()+t.get("marginRight",0)+t.get("marginLeft",0));let e=this.get("background");e||(e=this.set("background",fr.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",i=>{let r=i.originalEvent;if(Sd(r,this))r.preventDefault();else return;let a=r.deltaY/5e3,n=t.get("start",0),o=t.get("end",1);n+a<=0&&(a=-n),o+a>=1&&(a=1-o),n+a>=0&&o+a<=1&&(t.set("start",n+a),t.set("end",o+a))}),this._disposers.push(this._vsbd0),this._vsbd1=t.events.on("rangechanged",()=>{let i=this._contentHeight,r=this._childrenDisplay,a=this._contentMask;r.y=-t.get("start",0)*i,r.markDirtyLayer(),a&&(a._display.y=-r.y,r.mask=a._display)}),this._disposers.push(this._vsbd1),this._display.addChild(t._display)}else{let e=this._prevSettings.verticalScrollbar;if(e){this._display.removeChild(e._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose();let i=this._childrenDisplay;i.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0)}}}if(this.isDirty("background")){let t=this._prevSettings.background;t&&this._display.removeChild(t._display);let e=this.get("background");e instanceof Ks&&(e.set("isMeasured",!1),e._setParent(this),this._display.addChildAt(e._display,0))}if(this.isDirty("mask")){let t=this.get("mask"),e=this._prevSettings.mask;if(e&&(this._display.removeChild(e._display),e!=t&&e.dispose()),t){let i=t.parent;i&&i.children.removeValue(t),t._setParent(this),this._display.addChildAt(t._display,0),this._childrenDisplay.mask=t._display}}}_processTemplateField(){super._processTemplateField(),this.children.each(t=>{t._processTemplateField()})}walkChildren(t){this.children.each(e=>{e instanceof s&&e.walkChildren(t),t(e)})}eachChildren(t){let e=this.get("background");e&&t(e);let i=this.get("verticalScrollbar");i&&t(i);let r=this.get("mask");r&&t(r),this.children.values.forEach(a=>{t(a)})}allChildren(){let t=[];return this.eachChildren(e=>{t.push(e)}),t}_setDataItem(t){let e=t!==this._dataItem;super._setDataItem(t);let i=this.get("html","");i&&i!==""&&e&&this._root._setHTMLContent(this,zo(this,i))}contentWidth(){return this._contentWidth}contentHeight(){return this._contentHeight}};Object.defineProperty(Re,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"});Object.defineProperty(Re,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ks.classNames.concat([Re.className])});var In=class extends Ks{constructor(){super(...arguments),Object.defineProperty(this,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeTextStyle()}),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeText("",this.textStyle)}),Object.defineProperty(this,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","maxChars"]}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_updateBounds(){if(this.get("text")){super._updateBounds();let t=this.get("fillGradient");t&&(this._display.style.fill=t.getFill(this))}else{let t={left:0,right:0,top:0,bottom:0};this._adjustedLocalBounds=t}}_changed(){super._changed(),this._display.clear();let t=this.textStyle;if(this.isDirty("opacity")){let e=this.get("opacity",1);this._display.alpha=e}if((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),this.get("role")=="tooltip"&&this._root.updateTooltip(this)),this.isPrivateDirty("tooltipElement")&&this.getPrivate("tooltipElement")&&this._disposers.push(new Ar(()=>{this._root._removeTooltipElement(this)})),this.isDirty("width")&&(t.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(t.oversizedBehavior=this.get("oversizedBehavior","none"),this._display.invalidateVisibility(),this.markDirtyBounds()),this.isDirty("breakWords")&&(t.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(t.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(t.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(t.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")||this.isDirty("fillGradient")){let e=this.get("fill"),i=this.get("fillGradient"),r=this.get("fillOpacity");if(i){if(e){let a=i.get("stops",[]);a.length&&Z(a,n=>{(!n.color||n.colorInherited)&&e&&(n.color=e,n.colorInherited=!0),(n.opacity==null||n.opacityInherited)&&(n.opacity=r,n.opacityInherited=!0)})}t.fill=i.getFill(this)}else e&&(t.fill=e)}if(this.isDirty("fillOpacity")){let e=this.get("fillOpacity",1);e&&(t.fillOpacity=e)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(t.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(t.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),Z(this._textStyles,e=>{this._dirty[e]&&(t[e]=this.get(e),this.markDirtyBounds())}),t.fontSize=this.get("fontSize"),t.fontFamily=this.get("fontFamily"),this._display.style=t,this.isDirty("role")&&this.get("role")=="tooltip"&&this._root.updateTooltip(this)}_getText(){let t=this.get("text","");return this.get("maxChars")&&(t=xF(t,this.get("maxChars",1e8),this.get("breakWords"),this.get("ellipsis"))),this.get("populateText")?zo(this,t):t}_getAccessibleText(){let t=this.get("ariaLabel");return t!==void 0?this.get("populateText")?zo(this,t):t:this._getText()}markDirtyText(){this._display.text=this._getText(),this.get("role")=="tooltip"&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}_setDataItem(t){super._setDataItem(t),this.get("populateText")&&this.markDirtyText()}getNumberFormatter(){return this.parent?this.parent.getNumberFormatter():super.getNumberFormatter()}getDateFormatter(){return this.parent?this.parent.getDateFormatter():super.getDateFormatter()}getDurationFormatter(){return this.parent?this.parent.getDurationFormatter():super.getDurationFormatter()}};Object.defineProperty(In,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"});Object.defineProperty(In,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ks.classNames.concat([In.className])});var F0=class{constructor(){Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver(t=>{Z(t,e=>{Z(this._targets,i=>{i.target===e.target&&i.callback()})})})}addTarget(t,e){this._observer.observe(t,{box:"border-box"}),this._targets.push({target:t,callback:e})}removeTarget(t){this._observer.unobserve(t),Wh(this._targets,e=>e.target!==t)}},Vg=class s{constructor(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}addTarget(t,e){if(this._timer===null){let r=null,a=()=>{let n=Date.now();(r===null||n>r+s.delay)&&(r=n,Z(this._targets,o=>{let l=o.target.getBoundingClientRect();(l.width!==o.size.width||l.height!==o.size.height)&&(o.size=l,o.callback())})),this._targets.length===0?this._timer=null:this._timer=requestAnimationFrame(a)};this._timer=requestAnimationFrame(a)}let i={width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0};this._targets.push({target:t,callback:e,size:i})}removeTarget(t){Wh(this._targets,e=>e.target!==t),this._targets.length===0&&this._timer!==null&&(cancelAnimationFrame(this._timer),this._timer=null)}};Object.defineProperty(Vg,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});var Ug=null;function _U(){return Ug===null&&(typeof ResizeObserver<"u"?Ug=new F0:Ug=new Vg),Ug}var Ng=class{constructor(t,e){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=_U(),this._element=t,this._listener=Tg(e),this._sensor.addTarget(t,e)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}get sensor(){return this._sensor}};var Yh=class extends ii{};Object.defineProperty(Yh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"});Object.defineProperty(Yh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ii.classNames.concat([Yh.className])});var $i=class extends Re{constructor(){super(...arguments),Object.defineProperty(this,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","fillGradient","fillOpacity","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting","maxChars","ariaLabel"]})}get text(){return this._text}_afterNew(){super._afterNew(),this._makeText(),Z(this._textKeys,t=>{let e=this.get(t);e!=null&&this._text.set(t,e)}),this.get("html","")!==""&&this._text.set("text",""),this.onPrivate("maxWidth",()=>{this._setMaxDimentions()}),this.onPrivate("maxHeight",()=>{this._setMaxDimentions()})}_makeText(){this._text=this.children.push(In.new(this._root,{}))}_updateChildren(){super._updateChildren();let t=this._text;if(Z(this._textKeys,i=>{this._text.set(i,this.get(i))}),(this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isDirty("rotation"))&&this._setMaxDimentions(),this.get("html","")!==""?t.set("text",""):(t.set("text",this.get("text")),this._maybeUpdateHTMLColor()),(this.isDirty("fill")||this.isDirty("fillGradient"))&&this._maybeUpdateHTMLColor(),this.isDirty("textAlign")||this.isDirty("width")){let i=this.get("textAlign"),r;this.get("width")!=null?i=="right"?r=be:i=="center"?r=Qe:r=0:i=="left"||i=="start"?r=this.get("paddingLeft",0):(i=="right"||i=="end")&&(r=-this.get("paddingRight",0)),t.set("x",r)}let e=this.get("background");e&&e.setPrivate("visible",t._display.textVisible)}_maybeUpdateHTMLColor(){let t=this.getPrivate("htmlElement");t&&this.get("fill")&&(t.style.color=this.get("fill").toCSSHex())}_setMaxDimentions(){let t=this.get("rotation"),e=t==90||t==270||t==-90,i=this._text,r=this.get("maxWidth",this.getPrivate("maxWidth",1/0));ee(r)?i.set(e?"maxHeight":"maxWidth",r-this.get("paddingTop",0)-this.get("paddingBottom",0)):i.set(e?"maxHeight":"maxWidth",void 0);let a=this.get("maxHeight",this.getPrivate("maxHeight",1/0));ee(a)?i.set(e?"maxWidth":"maxHeight",a-this.get("paddingLeft",0)-this.get("paddingRight",0)):i.set(e?"maxWidth":"maxHeight",void 0),this.root.events.once("frameended",()=>{i.markDirtyBounds()})}_setDataItem(t){super._setDataItem(t),this._markDirtyKey("text"),this._markDirtyKey("html");let e=this._text;e.get("populateText")&&e.markDirtyText();let i=this.get("html");i&&i!==""&&this._updateHTMLContent()}getText(){return this._text._getText()}getAccessibleText(){return this._text._getAccessibleText()}};Object.defineProperty($i,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"});Object.defineProperty($i,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([$i.className])});var Ul=class extends pt{_beforeChanged(){super._beforeChanged(),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){this.markDirtyBounds();let t=this.width(),e=this.height();if(t>0&&e>0){let i=this.get("cornerRadius",8);i=Qi(i,0,Math.min(t/2,e/2));let r=this.get("pointerX",0),a=this.get("pointerY",0),n=this.get("pointerBaseWidth",15)/2,o=0,l=0,u=t,h=0,c=t,A=e,d=0,f=e,p=(r-o)*(A-l)-(a-l)*(c-o),m=(r-d)*(h-f)-(a-f)*(u-d),g=this._display;if(g.moveTo(i,0),p>0&&m>0){let y=Math.round(Qi(r,i+n,t-n-i));a=Qi(a,-1/0,0),g.lineTo(y-n,0),g.lineTo(r,a),g.lineTo(y+n,0)}if(g.lineTo(t-i,0),g.arcTo(t,0,t,i,i),p>0&&m<0){let y=Math.round(Qi(a,i+n,e-n-i));r=Qi(r,t,1/0),g.lineTo(t,i),g.lineTo(t,Math.max(y-n,i)),g.lineTo(r,a),g.lineTo(t,y+n)}if(g.lineTo(t,e-i),g.arcTo(t,e,t-i,e,i),p<0&&m<0){let y=Math.round(Qi(r,i+n,t-n-i));a=Qi(a,e,1/0),g.lineTo(t-i,e),g.lineTo(y+n,e),g.lineTo(r,a),g.lineTo(y-n,e)}if(g.lineTo(i,e),g.arcTo(0,e,0,e-i,i),p<0&&m>0){let y=Math.round(Qi(a,i+n,e-i-n));r=Qi(r,-1/0,0),g.lineTo(0,e-i),g.lineTo(0,y+n),g.lineTo(r,a),g.lineTo(0,Math.max(y-n,i))}g.lineTo(0,i),g.arcTo(0,0,i,0,i),g.closePath()}}}};Object.defineProperty(Ul,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"});Object.defineProperty(Ul,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pt.classNames.concat([Ul.className])});var ks=class extends Re{constructor(t,e,i,r=[]){super(t,e,i,r),Object.defineProperty(this,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillGrDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlContentHovered",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._settings.themeTags=lt(this._settings.themeTags,["tooltip"]),super._afterNew(),this._setDefaultFn("background",()=>Ul.new(this._root,{})).set("themeTags",["tooltip","background"]),this._label=this.children.push($i.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",()=>{this._updateBackground()})),this._disposers.push(this.on("bounds",()=>{this._updateBackground()})),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._disposers.push(this.label.onPrivate("htmlElement",e=>{e&&(this._disposers.push(qi(e,"pointerover",i=>{this._htmlContentHovered=!0})),this._disposers.push(qi(e,"pointerout",i=>{this._htmlContentHovered=!1})))})),this.on("visible",e=>{this._handleReaderAnnouncement()}),this.label.events.on("dataitemchanged",e=>{this._handleReaderAnnouncement()}),this._root._tooltips.push(this)}_handleReaderAnnouncement(){this.get("readerAnnounce")&&this.isVisibleDeep()&&this._root.readerAlert(this.label.getAccessibleText())}get label(){return this._label}_dispose(){super._dispose(),fs(this._root._tooltips,this)}_updateChildren(){super._updateChildren(),(this.isDirty("pointerOrientation")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&this.get("background")._markDirtyKey("width"),this.get("labelText")!=null&&this.label.set("text",this.get("labelText")),this.get("labelHTML")!=null&&this.label.set("html",this.get("labelHTML")),this.get("labelAriaLabel")!=null&&this.label.set("ariaLabel",this.get("labelAriaLabel"))}_changed(){if(super._changed(),(this.isDirty("pointTo")||this.isDirty("pointerOrientation"))&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover"))if(this.get("keepTargetHover")){let e=this.get("background");this._keepHoverDp=new Br([e.events.on("pointerover",i=>{let r=this.get("tooltipTarget");r&&(r.parent&&r.parent.getPrivate("tooltipTarget")==r&&(r=r.parent),r.hover())}),e.events.on("pointerout",i=>{let r=this.get("tooltipTarget");r&&(r.parent&&r.parent.getPrivate("tooltipTarget")==r&&(r=r.parent),this._htmlContentHovered||r.unhover())})]),this.label.onPrivate("htmlElement",i=>{this._keepHoverDp&&i&&this._keepHoverDp.disposers.push(qi(i,"pointerleave",r=>{let a=this.root._renderer.getEvent(r);e.events.dispatch("pointerout",{type:"pointerout",originalEvent:a.event,point:a.point,simulated:!1,target:e})}))})}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}_onShow(){super._onShow(),this.updateBackgroundColor()}updateBackgroundColor(){let t=this.get("tooltipTarget"),e=this.get("background"),i,r;if(t&&e){if(i=t.get("fill"),r=t.get("stroke"),i==null&&(i=r),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),i!=null&&e.set("fill",i),this._fillDp=t.on("fill",a=>{a!=null&&(e.set("fill",a),this._updateTextColor(a))}),this._disposers.push(this._fillDp)),this.get("getFillGradientFromSprite")){this._fillGrDp&&this._fillGrDp.dispose();let a=t.get("fillGradient");a!=null&&e.set("fillGradient",a),this._fillGrDp=t.on("fillGradient",n=>{n!=null&&e.set("fillGradient",n)}),this._disposers.push(this._fillGrDp)}this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),i!=null&&e.set("stroke",i),this._strokeDp=t.on("fill",a=>{a!=null&&e.set("stroke",a)}),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),i!=null&&this.label.set("fill",i),this._labelDp=t.on("fill",a=>{a!=null&&this.label.set("fill",a)}),this._disposers.push(this._labelDp))}this._updateTextColor(i)}_updateTextColor(t){this.get("autoTextColor")&&(t==null&&(t=this.get("background").get("fill")),t==null&&(t=this._root.interfaceColors.get("background")),t instanceof rt&&this.label.set("fill",rt.alternative(t,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}_setDataItem(t){super._setDataItem(t),this.label._setDataItem(t)}_updateBackground(){super.updateBackground();let t=this._root.container;if(t){let e=.5,i=.5,r=this.get("centerX");r instanceof yt&&(e=r.value);let a=this.get("centerY");a instanceof yt&&(i=a.value);let n=t.width(),o=t.height(),l=this.parent,u=0,h=0;if(l){u=l.x(),h=l.y();let E=l.get("layerMargin");E&&(u+=E.left||0,h+=E.top||0,n+=(E.left||0)+(E.right||0),o+=(E.top||0)+(E.bottom||0))}let c=this.get("bounds",{left:-u,top:-h,right:n-u,bottom:o-h});this._updateBounds();let A=this.width(),d=this.height();A===0&&(A=this._w),d===0&&(d=this._h);let f=this.get("pointTo",{x:n/2,y:o/2}),p=f.x,m=f.y,g=this.get("pointerOrientation"),y=this.get("background"),x=0,C=0,S=0;y instanceof Ul&&(x=y.get("pointerLength",0),C=y.get("strokeWidth",0)/2,S=C,y.set("width",A),y.set("height",d));let P=0,F=0,O=c.right-c.left,$=c.bottom-c.top;g=="horizontal"||g=="left"||g=="right"?(C=0,g=="horizontal"?p>c.left+O/2?(p-=A*(1-e)+x,S*=-1):p+=A*e+x:g=="left"?p+=A*(1-e)+x:(p-=A*e+x,S*=-1)):(S=0,g=="vertical"?m>c.top+d/2+x?m-=d*(1-i)+x:(m+=d*i+x,C*=-1):g=="down"?m-=d*(1-i)+x:(m+=d*i+x,C*=-1)),p=Qi(p,c.left+A*e,c.left+O-A*(1-e))+S,m=Qi(m,c.top+d*i,c.top+$-d*(1-i))-C,P=f.x-p+A*e+S,F=f.y-m+d*i-C,this._fx=p,this._fy=m;let L=this.get("animationDuration",0);if(L>0&&this.get("visible")&&this.get("opacity")>.1){let E=this.get("animationEasing");this.animate({key:"x",to:p,duration:L,easing:E}),this.animate({key:"y",to:m,duration:L,easing:E})}else this.set("x",p),this.set("y",m);y instanceof Ul&&(y.set("pointerX",P),y.set("pointerY",F)),A>0&&(this._w=A),d>0&&(this._h=d)}}};Object.defineProperty(ks,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"});Object.defineProperty(ks,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([ks.className])});var Mu=class extends ii{_setDefaults(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);let t="_big_number_suffix_",e="_small_number_suffix_",i="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(t+"3")},{number:1e6,suffix:this._t(t+"6")},{number:1e9,suffix:this._t(t+"9")},{number:1e12,suffix:this._t(t+"12")},{number:1e15,suffix:this._t(t+"15")},{number:1e18,suffix:this._t(t+"18")},{number:1e21,suffix:this._t(t+"21")},{number:1e24,suffix:this._t(t+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(e+"24")},{number:1e-21,suffix:this._t(e+"21")},{number:1e-18,suffix:this._t(e+"18")},{number:1e-15,suffix:this._t(e+"15")},{number:1e-12,suffix:this._t(e+"12")},{number:1e-9,suffix:this._t(e+"9")},{number:1e-6,suffix:this._t(e+"6")},{number:.001,suffix:this._t(e+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(i+"B")},{number:1024,suffix:this._t(i+"KB")},{number:1048576,suffix:this._t(i+"MB")},{number:1073741824,suffix:this._t(i+"GB")},{number:1099511627776,suffix:this._t(i+"TB")},{number:0x4000000000000,suffix:this._t(i+"PB")}]),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(t,e,i){(e==null||ro(e)&&e.toLowerCase()==="number")&&(e=this.get("numberFormat",""));let r,a=Number(t);if(Fn(e))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),e).format(a):new Intl.NumberFormat(void 0,e).format(a)}catch{return"Invalid"}else{e=Pd(e);let n=this.parseFormat(e,this._root.language),o;a>this.get("negativeBase")?o=n.positive:a<this.get("negativeBase")?o=n.negative:o=n.zero,i!=null&&!o.mod&&(o=Dn(o),o.decimals.active=a==0?0:i),r=o.template.split(Tn).join(this.applyFormat(a,o))}return this.get("forceLTR")===!0&&(r="\u200E"+r),r}parseFormat(t,e){let i=e.translateEmpty("_thousandSeparator"),r=e.translateEmpty("_decimalSeparator"),a={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:r},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:r},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:r},template:"",source:"",parsed:!1}};t=t.replace("||",Pu);let n=t.split("|");return a.positive.source=n[0],typeof n[2]>"u"?a.zero=a.positive:a.zero.source=n[2],typeof n[1]>"u"?a.negative=a.positive:a.negative.source=n[1],kt(a,(o,l)=>{if(l.parsed)return;let u=l.source;u.toLowerCase()==="number"&&(u=this.get("numberFormat","#,###.#####"));let h=$s.chunk(u,!0);for(let c=0;c<h.length;c++){let A=h[c];if(A.text=A.text.replace(Pu,"|"),A.type==="value"){let d=A.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP!]?/);if(d)if(d===null||d[0]==="")l.template+=A.text;else{let f=d[0].match(/[abespABESP%!]{2}|[abespABESP%]{1}$/);f&&(l.mod=f[0].toLowerCase(),l.modSpacing=!!d[0].match(/[ ]{1}[abespABESP%!]{1}$/));let p=d[0].split(".");if(p[0]!==""){l.thousands.active=(p[0].match(/0/g)||[]).length,l.thousands.passive=(p[0].match(/\#/g)||[]).length+l.thousands.active;let m=p[0].split(",");m.length===1||(l.thousands.interval=(m.pop()||"").length,l.thousands.interval===0&&(l.thousands.interval=-1))}typeof p[1]>"u"||(l.decimals.active=(p[1].match(/0/g)||[]).length,l.decimals.passive=(p[1].match(/\#/g)||[]).length+l.decimals.active),l.template+=A.text.split(d[0]).join(Tn)}}else l.template+=A.text}l.parsed=!0}),a}applyFormat(t,e){let i=t<0;t=Math.abs(t);let r="",a="",n=e.mod?e.mod.split(""):[];if(n.indexOf("b")!==-1){let c=this.applyPrefix(t,this.get("bytePrefixes"),n.indexOf("!")!==-1);t=c[0],r=c[1],a=c[2],e.modSpacing&&(a=" "+a)}else if(n.indexOf("a")!==-1){let c=this.applyPrefix(t,t<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),n.indexOf("!")!==-1);t=c[0],r=c[1],a=c[2],e.modSpacing&&(a=" "+a)}else if(n.indexOf("p")!==-1){let c=Math.min(t.toString().length+2,21);t=parseFloat(t.toPrecision(c)),r=this._root.language.translate("_percentPrefix"),a=this._root.language.translate("_percentSuffix"),r==""&&a==""&&(a="%")}else if(n.indexOf("%")!==-1){let c=Math.min(t.toString().length+2,21);t*=100,t=parseFloat(t.toPrecision(c)),a="%"}else if(n.indexOf("\u2030")!==-1){let c=Math.min(t.toString().length+3,21);t*=1e3,t=parseFloat(t.toPrecision(c)),a="\u2030"}if(n.indexOf("e")!==-1){let c;e.decimals.passive>=0?c=t.toExponential(e.decimals.passive).split("e"):c=t.toExponential().split("e"),t=Number(c[0]),a="e"+c[1],e.modSpacing&&(a=" "+a)}else if(e.decimals.passive===0)t=Math.round(t);else if(e.decimals.passive>0){let c=Lg(t);if(c>0){let A=Math.pow(10,e.decimals.passive);t=Math.round(parseFloat((t*A).toFixed(c)))/A}}let o="",l=cF(t).split("."),u=l[0];if(u.length<e.thousands.active&&(u=Array(e.thousands.active-u.length+1).join("0")+u),e.thousands.interval>0){let c=[],A=u.split("").reverse().join("");for(let d=0,f=u.length;d<=f;d+=e.thousands.interval){let p=A.substr(d,e.thousands.interval).split("").reverse().join("");p!==""&&c.unshift(p)}u=c.join(e.thousands.separator)}o+=u,l.length===1&&l.push("");let h=l[1];return h.length<e.decimals.active&&(h+=Array(e.decimals.active-h.length+1).join("0")),h!==""&&(o+=e.decimals.separator+h),o===""&&(o="0"),t!==0&&i&&n.indexOf("s")===-1&&(o="-"+o),r&&(o=r+o),a&&(o+=a),o}applyPrefix(t,e,i=!1){let r=t,a="",n="",o=!1,l=1;for(let u=0,h=e.length;u<h;u++)e[u].number<=t&&(e[u].number===0?r=0:(r=t/e[u].number,l=e[u].number),a=e[u].prefix,n=e[u].suffix,o=!0);return!o&&i&&e.length&&t!=0&&(r=t/e[0].number,a=e[0].prefix,n=e[0].suffix,o=!0),o&&(r=parseFloat(r.toPrecision(Math.min(l.toString().length+Math.floor(r).toString().replace(/[^0-9]*/g,"").length,21)))),[r,a,n]}escape(t){return t.replace("||",Pu)}unescape(t){return t.replace(Pu,"|")}};function RF(s,t){let e=0,i=0,r=1,a=0,n=0,o=0,l=0,u=0;return s.formatToParts(t).forEach(h=>{switch(h.type){case"year":e=+h.value;break;case"month":i=+h.value-1;break;case"day":r=+h.value;break;case"hour":a=+h.value;break;case"minute":n=+h.value;break;case"second":o=+h.value;break;case"fractionalSecond":l=+h.value;break;case"weekday":switch(h.value){case"Sun":u=0;break;case"Mon":u=1;break;case"Tue":u=2;break;case"Wed":u=3;break;case"Thu":u=4;break;case"Fri":u=5;break;case"Sat":u=6;break}}}),a===24&&(a=0),{year:e,month:i,day:r,hour:a,minute:n,second:o,millisecond:l,weekday:u}}function MF(s,t){let{year:e,month:i,day:r,hour:a,minute:n,second:o,millisecond:l}=RF(s,t);return Date.UTC(e,i,r,a,n,o,l)}var Kh=class{constructor(t,e){if(Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=t,this._utc=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}static new(t){return new this(t,!0)}convertLocal(t){let e=this.offsetUTC(t),i=t.getTimezoneOffset(),r=new Date(t);r.setUTCMinutes(r.getUTCMinutes()-(e-i));let a=r.getTimezoneOffset();return i!=a&&r.setUTCMinutes(r.getUTCMinutes()+a-i),r}offsetUTC(t){let e=MF(this._utc,t),i=MF(this._dtf,t);return(e-i)/6e4}parseDate(t){return RF(this._dtf,t)}};var Zh=class extends ii{_setDefaults(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(t,e,i=!1){(typeof e>"u"||e==="")&&(e=this.get("dateFormat","yyyy-MM-dd"));let r,a=t;if(Fn(e))try{let u=this.get("intlLocales");return u?new Intl.DateTimeFormat(u,e).format(a):new Intl.DateTimeFormat(void 0,e).format(a)}catch{return"Invalid"}let n=this.parseFormat(e),o=this._root.timezone,l=a;return o&&!this._root.utc&&!i&&(a=o.convertLocal(a)),ee(a.getTime())?(r=this.applyFormat(a,n,i,l),this.get("capitalize")&&(r=r.replace(/^.{1}/,r.substr(0,1).toUpperCase())),r):"Invalid date"}applyFormat(t,e,i=!1,r){let a=e.template,n,o,l,u,h,c,A,d,f=t.getTime();this._root.utc&&!i?(n=t.getUTCFullYear(),o=t.getUTCMonth(),l=t.getUTCDay(),u=t.getUTCDate(),h=t.getUTCHours(),c=t.getUTCMinutes(),A=t.getUTCSeconds(),d=t.getUTCMilliseconds()):(n=t.getFullYear(),o=t.getMonth(),l=t.getDay(),u=t.getDate(),h=t.getHours(),c=t.getMinutes(),A=t.getSeconds(),d=t.getMilliseconds());for(let p=0,m=e.parts.length;p<m;p++){let g="";switch(e.parts[p]){case"G":g=this._t(n<0?"_era_bc":"_era_ad");break;case"yyyy":g=Math.abs(n).toString(),n<0&&(g+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":g=Math.abs(n).toString().substr(-e.parts[p].length),n<0&&(g+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":let y=CF(t,this._root.utc);e.parts[p]=="YYYY"?g=Math.abs(y).toString():g=Math.abs(y).toString().substr(-e.parts[p].length),y<0&&(g+=this._t("_era_bc"));break;case"u":break;case"q":g=""+Math.ceil((t.getMonth()+1)/3);break;case"MMMMM":g=this._t(this._getMonth(o)).substr(0,1);break;case"MMMM":g=this._t(this._getMonth(o));break;case"MMM":g=this._t(this._getShortMonth(o));break;case"MM":g=Er(o+1,2,"0");break;case"M":g=(o+1).toString();break;case"ww":g=Er($f(t,this._root.utc),2,"0");break;case"w":g=$f(t,this._root.utc).toString();break;case"W":g=BF(t,this._root.utc).toString();break;case"dd":g=Er(u,2,"0");break;case"d":g=u.toString();break;case"DD":case"DDD":g=Er(o0(t,this._root.utc).toString(),e.parts[p].length,"0");break;case"D":g=o0(t,this._root.utc).toString();break;case"F":break;case"g":break;case"t":g=this._root.language.translateFunc("_dateOrd").call(this,u);break;case"E":g=(l||7).toString();break;case"EE":g=Er((l||7).toString(),2,"0");break;case"EEE":case"eee":g=this._t(this._getShortWeekday(l));break;case"EEEE":case"eeee":g=this._t(this._getWeekday(l));break;case"EEEEE":case"eeeee":g=this._t(this._getShortWeekday(l)).substr(0,1);break;case"e":case"ee":g=(l-(this._root.locale.firstDayOfWeek||1)+1).toString(),e.parts[p]=="ee"&&(g=Er(g,2,"0"));break;case"a":h>=12?g=this._t("PM"):g=this._t("AM");break;case"aa":h>=12?g=this._t("P.M."):g=this._t("A.M.");break;case"aaa":h>=12?g=this._t("P"):g=this._t("A");break;case"h":g=Rf(h).toString();break;case"hh":g=Er(Rf(h),2,"0");break;case"H":g=h.toString();break;case"HH":g=Er(h,2,"0");break;case"K":g=Rf(h,0).toString();break;case"KK":g=Er(Rf(h,0),2,"0");break;case"k":g=(h+1).toString();break;case"kk":g=Er(h+1,2,"0");break;case"m":g=c.toString();break;case"mm":g=Er(c,2,"0");break;case"s":g=A.toString();break;case"ss":g=Er(A,2,"0");break;case"S":case"SS":case"SSS":g=Math.round(d/1e3*Math.pow(10,e.parts[p].length)).toString();break;case"x":g=f.toString();break;case"n":case"nn":case"nnn":g=Er(d,e.parts[p].length,"0");break;case"z":g=Uf(r||t,!1,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zz":g=Uf(r||t,!0,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"zzz":g=Uf(r||t,!1,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zzzz":g=Uf(r||t,!0,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"Z":case"ZZ":let x=this._root.utc?"UTC":this._root.timezone;x instanceof Kh&&(x=x.name);let C=x?PF(x,r||t):t.getTimezoneOffset(),S=Math.abs(C)/60,P=Math.floor(S),F=S*60-P*60;this._root.utc&&(P=0,F=0),e.parts[p]=="Z"?(g="GMT",g+=C>0?"-":"+",g+=Er(P,2)+":"+Er(F,2)):(g=C>0?"-":"+",g+=Er(P,2)+Er(F,2));break;case"i":g=t.toISOString();break;case"I":g=t.toUTCString();break}a=a.replace(Tn,g)}return a}parseFormat(t){let e={template:"",parts:[]},i=$s.chunk(t,!0);for(let r=0;r<i.length;r++){let a=i[r];if(a.type==="value"){if(a.text.match(/^date$/i)){let o=this.get("dateFormat","yyyy-MM-dd");ro(o)||(o="yyyy-MM-dd"),a.text=o}let n=a.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(n)for(let o=0;o<n.length;o++)e.parts.push(n[o]),a.text=a.text.replace(n[o],Tn)}e.template+=a.text}return e}_months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_getMonth(t){return this._months()[t]}_shortMonths(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}_getShortMonth(t){return this._shortMonths()[t]}_weekdays(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}_getWeekday(t){return this._weekdays()[t]}_shortWeekdays(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}_getShortWeekday(t){return this._shortWeekdays()[t]}parse(t,e,i){if(typeof i>"u"&&(i=this._root.utc),t instanceof Date)return t;if(ee(t))return new Date(t);if(e=="x")return new Date(parseInt(t));ro(t)||(t=t.toString());let r,a="";e=Pd(e),e=e.substr(0,t.length);let n=this.parseFormat(e),o={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},l={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:i},u=0,h=0;for(let d=0;d<n.parts.length;d++){switch(h=d+u+1,n.parts[d]){case"yyyy":case"YYYY":a+="([0-9]{4})",o.year=h;break;case"yyy":case"YYY":a+="([0-9]{3})",o.year3=h;break;case"yy":case"YY":a+="([0-9]{2})",o.year2=h;break;case"y":case"Y":a+="([0-9]{1})",o.year1=h;break;case"MMMM":a+="("+this.getStringList(this._months()).join("|")+")",o.monthLong=h;break;case"MMM":a+="("+this.getStringList(this._shortMonths()).join("|")+")",o.monthShort=h;break;case"MM":case"M":a+="([0-9]{2}|[0-9]{1})",o.month=h;break;case"ww":case"w":a+="([0-9]{2}|[0-9]{1})",o.week=h;break;case"dd":case"d":a+="([0-9]{2}|[0-9]{1})",o.day=h;break;case"DDD":case"DD":case"D":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.yearDay=h;break;case"dddd":a+="("+this.getStringList(this._weekdays()).join("|")+")",o.weekdayLong=h;break;case"ddd":a+="("+this.getStringList(this._shortWeekdays()).join("|")+")",o.weekdayShort=h;break;case"aaa":case"aa":case"a":a+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",o.am=h;break;case"hh":case"h":a+="([0-9]{2}|[0-9]{1})",o.hour12Base1=h;break;case"HH":case"H":a+="([0-9]{2}|[0-9]{1})",o.hourBase0=h;break;case"KK":case"K":a+="([0-9]{2}|[0-9]{1})",o.hour12Base0=h;break;case"kk":case"k":a+="([0-9]{2}|[0-9]{1})",o.hourBase1=h;break;case"mm":case"m":a+="([0-9]{2}|[0-9]{1})",o.minute=h;break;case"ss":case"s":a+="([0-9]{2}|[0-9]{1})",o.second=h;break;case"SSS":case"SS":case"S":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.millisecond=h,o.millisecondDigits=n.parts[d].length;break;case"nnn":case"nn":case"n":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.millisecond=h;break;case"x":a+="([0-9]{1,})",o.timestamp=h;break;case"Z":a+="GMT([-+]+[0-9]{2}:[0-9]{2})",o.zone=h;break;case"ZZ":a+="([\\-+]+[0-9]{2}[0-9]{2})",o.zone=h;break;case"i":a+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",o.iso=h,u+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":u--;break}a+="[^0-9]*"}let c=new RegExp(a),A=t.match(c);if(A){if(o.year>-1&&(l.year=parseInt(A[o.year])),o.year3>-1){let d=parseInt(A[o.year3]);d+=1e3,l.year=d}if(o.year2>-1){let d=parseInt(A[o.year2]);d>50?d+=1e3:d+=2e3,l.year=d}if(o.year1>-1){let d=parseInt(A[o.year1]);d=Math.floor(new Date().getFullYear()/10)*10+d,l.year=d}if(o.monthLong>-1&&(l.month=this.resolveMonth(A[o.monthLong])),o.monthShort>-1&&(l.month=this.resolveShortMonth(A[o.monthShort])),o.month>-1&&(l.month=parseInt(A[o.month])-1),o.week>-1&&o.day===-1&&(l.month=0,l.day=SF(parseInt(A[o.week]),l.year,1,i)),o.day>-1&&(l.day=parseInt(A[o.day])),o.yearDay>-1&&(l.month=0,l.day=parseInt(A[o.yearDay])),o.hourBase0>-1&&(l.hour=parseInt(A[o.hourBase0])),o.hourBase1>-1&&(l.hour=parseInt(A[o.hourBase1])-1),o.hour12Base0>-1){let d=parseInt(A[o.hour12Base0]);d==11&&(d=0),o.am>-1&&!this.isAm(A[o.am])&&(d+=12),l.hour=d}if(o.hour12Base1>-1){let d=parseInt(A[o.hour12Base1]);d==12&&(d=0),o.am>-1&&!this.isAm(A[o.am])&&(d+=12),l.hour=d}if(o.minute>-1&&(l.minute=parseInt(A[o.minute])),o.second>-1&&(l.second=parseInt(A[o.second])),o.millisecond>-1){let d=parseInt(A[o.millisecond]);o.millisecondDigits==2?d*=10:o.millisecondDigits==1&&(d*=100),l.millisecond=d}if(o.timestamp>-1){l.timestamp=parseInt(A[o.timestamp]);let d=new Date(l.timestamp);l.year=d.getUTCFullYear(),l.month=d.getUTCMonth(),l.day=d.getUTCDate(),l.hour=d.getUTCHours(),l.minute=d.getUTCMinutes(),l.second=d.getUTCSeconds(),l.millisecond=d.getUTCMilliseconds()}o.zone>-1&&(l.offset=this.resolveTimezoneOffset(new Date(l.year,l.month,l.day),A[o.zone])),o.iso>-1&&(l.year=Gs(A[o.iso+0]),l.month=Gs(A[o.iso+1])-1,l.day=Gs(A[o.iso+2]),l.hour=Gs(A[o.iso+3]),l.minute=Gs(A[o.iso+4]),l.second=Gs(A[o.iso+5]),l.millisecond=Gs(A[o.iso+6]),A[o.iso+7]=="Z"||A[o.iso+7]=="z"?l.utc=!0:A[o.iso+7]!=""&&(l.offset=this.resolveTimezoneOffset(new Date(l.year,l.month,l.day),A[o.iso+7]))),l.utc?r=new Date(Date.UTC(l.year,l.month,l.day,l.hour,l.minute,l.second,l.millisecond)):r=new Date(l.year,l.month,l.day,l.hour,l.minute+l.offset,l.second,l.millisecond)}else r=new Date(t);return r}resolveTimezoneOffset(t,e){if(e.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){let r=e.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),a=r[1],n=r[2],o=r[3],l=parseInt(n)*60+parseInt(o);a=="+"&&(l*=-1);let u=(t||new Date).getTimezoneOffset();return l-u}return 0}resolveMonth(t){let e=this._months().indexOf(t);return e>-1||!this._root.language.isDefault()&&(e=this._root.language.translateAll(this._months()).indexOf(t),e>-1)?e:0}resolveShortMonth(t){let e=this._shortMonths().indexOf(t);return e>-1||(e=this._months().indexOf(t),e>-1)||this._root.language&&!this._root.language.isDefault()&&(e=this._root.language.translateAll(this._shortMonths()).indexOf(t),e>-1)?e:0}isAm(t){return this.getStringList(["AM","A.M.","A"]).indexOf(t.toUpperCase())>-1}getStringList(t){let e=[];for(let i=0;i<t.length;i++)this._root.language?e.push(n0(this._t(t[i]))):e.push(n0(t[i]));return e}};var Qg=class extends ii{constructor(){super(...arguments),Object.defineProperty(this,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}})}_setDefaults(){let t="_duration_millisecond",e="_duration_second",i="_duration_minute",r="_duration_hour",a="_duration_day",n="_duration_week",o="_duration_month",l="_duration_year",u="_second",h="_minute",c="_hour",A="_day",d="_week",f="_week",p="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(t),second:this._t(t+u),minute:this._t(t+h),hour:this._t(t+c),day:this._t(t+A),week:this._t(t+d),month:this._t(t+f),year:this._t(t+p)},second:{second:this._t(e),minute:this._t(e+h),hour:this._t(e+c),day:this._t(e+A),week:this._t(e+d),month:this._t(e+f),year:this._t(e+p)},minute:{minute:this._t(i),hour:this._t(i+c),day:this._t(i+A),week:this._t(i+d),month:this._t(i+f),year:this._t(i+p)},hour:{hour:this._t(r),day:this._t(r+A),week:this._t(r+d),month:this._t(r+f),year:this._t(r+p)},day:{day:this._t(a),week:this._t(a+d),month:this._t(a+f),year:this._t(a+p)},week:{week:this._t(n),month:this._t(n+f),year:this._t(n+p)},month:{month:this._t(o),year:this._t(o+p)},year:{year:this._t(l)}}),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(t,e,i){let r=i||this.get("baseUnit");(typeof e>"u"||e==="")&&(this.get("durationFormat")!=null?e=this.get("durationFormat"):e=this.getFormat(Gs(t),void 0,r)),e=Pd(e);let a=this.parseFormat(e,r),n=Number(t),o;n>this.get("negativeBase")?o=a.positive:n<this.get("negativeBase")?o=a.negative:o=a.zero;let l=this.applyFormat(n,o);return o.color!==""&&(l="["+o.color+"]"+l+"[/]"),l}parseFormat(t,e){let i=e||this.get("baseUnit"),r={positive:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1}};t=t.replace("||",Pu);let a=t.split("|");return r.positive.source=a[0],typeof a[2]>"u"?r.zero=r.positive:r.zero.source=a[2],typeof a[1]>"u"?r.negative=r.positive:r.negative.source=a[1],kt(r,(n,o)=>{if(o.parsed)return;let l=o.source,u=[];u=o.source.match(/^\[([^\]]*)\]/),u&&u.length&&u[0]!==""&&(l=o.source.substr(u[0].length),o.color=u[1]);let h=$s.chunk(l,!0);for(let c=0;c<h.length;c++){let A=h[c];if(A.text=A.text.replace(Pu,"|"),A.type==="value"){A.text.match(/[yYMdDwhHKkmsSn]+a/)&&(o.absolute=!0,A.text=A.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));let d=A.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(d)for(let f=0;f<d.length;f++)d[f]==null&&(d[f]=this._unitAliases[d[f]]),o.parts.push(d[f]),A.text=A.text.replace(d[f],Tn)}o.template+=A.text}o.parsed=!0}),r}applyFormat(t,e){let i=!e.absolute&&t<this.get("negativeBase");t=Math.abs(t);let r=this.toTimeStamp(t,e.baseUnit),a=e.template,n={millisecond:0,second:0,minute:0,hour:0,day:0,week:0,month:0,year:0};for(let o=0,l=e.parts.length;o<l;o++){let u=e.parts[o],h=this._toTimeUnit(u.substr(0,1)),c,A=this._getUnitValue(h);o<l-1?c=Math.floor(r/A):c=Math.round(r/A),n[h]+=c,r-=c*A}kt(n,(o,l)=>{o=="millisecond"&&l==1e3?(n.second++,n.millisecond=0):o=="second"&&l==60?(n.minute++,n.second=0):o=="minute"&&l==60?(n.hour++,n.minute=0):o=="hour"&&l==24?(n.day++,n.hour=0):o=="day"&&l==7&&e.parts.indexOf("w")!==-1?(n.week++,n.day=0):o=="day"&&l==30?(n.month++,n.day=0):o=="month"&&l==12&&(n.year++,n.month=0)});for(let o=0,l=e.parts.length;o<l;o++){let u=e.parts[o],h=this._toTimeUnit(u.substr(0,1)),c=u.length;a=a.replace(Tn,Er(n[h],c,"0"))}return i&&(a="-"+a),a}toTimeStamp(t,e){return t*this._getUnitValue(e)}_toTimeUnit(t){switch(t){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}getFormat(t,e,i){if(this.get("durationFormat")!=null)return this.get("durationFormat");if(i||(i=this.get("baseUnit")),e!=null&&t!=e){t=Math.abs(t),e=Math.abs(e);let r=this.getValueUnit(Math.max(t,e),i);return this.get("durationFormats")[i][r]}else{let r=this.getValueUnit(t,i);return this.get("durationFormats")[i][r]}}getValueUnit(t,e){e||(e=this.get("baseUnit"));let i,r=this.getMilliseconds(t,e);return fF(this._getUnitValues(),(a,n)=>{if(a==e||i){if(r/n<=1)return i||(i=a),!1;i=a}return!0}),i}getMilliseconds(t,e){return e||(e=this.get("baseUnit")),t*this._getUnitValue(e)}_getUnitValue(t){return this._getUnitValues()[t]}_getUnitValues(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}};var Hg={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03BC",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_short:"HH",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(s){let t="th";if(s<11||s>13)switch(s%10){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break}return t},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:"",Confirm:""};var jg=class extends ii{_setDefaults(){this.setPrivate("defaultLocale",Hg),super._setDefaults()}translate(t,e,...i){e||(e=this._root.locale||this.getPrivate("defaultLocale"));let r=t,a=e[t];if(a===null)r="";else if(a!=null)a&&(r=a);else if(e!==this.getPrivate("defaultLocale"))return this.translate(t,this.getPrivate("defaultLocale"),...i);if(i.length)for(let n=i.length,o=0;o<n;++o)r=r.split("%"+(o+1)).join(i[o]);return r}translateAny(t,e,...i){return this.translate(t,e,...i)}setTranslationAny(t,e,i){let r=i||this._root.locale;r[t]=e}setTranslationsAny(t,e){kt(t,(i,r)=>{this.setTranslationAny(i,r,e)})}translateEmpty(t,e,...i){let r=this.translate(t,e,...i);return r==t?"":r}translateFunc(t,e){return this._root.locale[t]?this._root.locale[t]:e!==this.getPrivate("defaultLocale")?this.translateFunc(t,this.getPrivate("defaultLocale")):()=>""}translateAll(t,e){return this.isDefault()?t:Ff(t,i=>this.translate(i,e))}isDefault(){return this.getPrivate("defaultLocale")===this._root.locale}};var Wa=class{constructor(t,e){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=t,!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}static new(t){let e=new this(t,!0);return e.setupDefaultRules(),e}setupDefaultRules(){}_lookupRules(t){return this._rules[t]}ruleRaw(t,e=[]){let i=this._rules[t];i||(i=this._rules[t]=[]),e.sort(Ha);let{index:r,found:a}=If(i,n=>{let o=Ha(n.tags.length,e.length);return o===0?Mg(n.tags,e,Ha):o});if(a)return i[r].template;{let n=Mt.new({});return i.splice(r,0,{tags:e,template:n}),n}}rule(t,e=[]){return this.ruleRaw(t,e)}};function He(s,t,e,i){s.set(t,e.get(i)),e.on(i,r=>{s.set(t,r)})}var Xg=class extends Wa{setupDefaultRules(){super.setupDefaultRules();let t=this._root.language,e=this._root.interfaceColors,i=this._root.horizontalLayout,r=this._root.verticalLayout,a=this.rule.bind(this);a("InterfaceColors").setAll({stroke:rt.fromHex(15066597),fill:rt.fromHex(15987699),primaryButton:rt.fromHex(6788316),primaryButtonHover:rt.fromHex(6779356),primaryButtonDown:rt.fromHex(6872182),primaryButtonActive:rt.fromHex(6872182),primaryButtonDisabled:rt.fromHex(14342874),primaryButtonTextDisabled:rt.fromHex(16777215),primaryButtonText:rt.fromHex(16777215),primaryButtonStroke:rt.fromHex(16777215),secondaryButton:rt.fromHex(14277081),secondaryButtonHover:rt.fromHex(10724259),secondaryButtonDown:rt.fromHex(9276813),secondaryButtonActive:rt.fromHex(15132390),secondaryButtonText:rt.fromHex(0),secondaryButtonStroke:rt.fromHex(16777215),grid:rt.fromHex(0),background:rt.fromHex(16777215),alternativeBackground:rt.fromHex(0),text:rt.fromHex(0),alternativeText:rt.fromHex(16777215),disabled:rt.fromHex(11382189),positive:rt.fromHex(5288704),negative:rt.fromHex(11730944)});{let n=a("ColorSet");n.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[rt.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),n.setPrivate("currentStep",0),n.setPrivate("currentPass",0)}a("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:zh(Rl)}),a("Component").setAll({interpolationDuration:0,interpolationEasing:zh(Rl)}),a("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:Qe,tooltipY:Qe,tooltipPosition:"fixed",isMeasured:!0}),a("Sprite").states.create("default",{visible:!0,opacity:1}),a("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),a("Graphics").setAll({strokeWidth:1}),a("Chart").setAll({width:be,height:be,interactiveChildren:!1}),a("ZoomableContainer").setAll({width:be,height:be,wheelable:!0,pinchZoom:!0,maxZoomLevel:32,minZoomLevel:1,zoomStep:2,animationEasing:zh(Rl),animationDuration:600,maxPanOut:.4}),a("Sprite",["horizontal","center"]).setAll({centerX:Qe,x:Qe}),a("Sprite",["vertical","center"]).setAll({centerY:Qe,y:Qe}),a("Container",["horizontal","layout"]).setAll({layout:i}),a("Container",["vertical","layout"]).setAll({layout:r}),a("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),a("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),a("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),a("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),a("GrainPattern").setAll({width:200,height:200,colors:[rt.fromHex(0)],size:1,horizontalGap:0,verticalGap:0,density:1,minOpacity:0,maxOpacity:.2});{let n=a("PatternSet");n.setAll({step:1}),He(n,"color",e,"stroke")}a("LinearGradient").setAll({rotation:90}),a("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:Ln.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),a("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:i,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:t.translate("Press ENTER to toggle"),role:"checkbox"});{let n=a("Rectangle",["legend","item","background"]);n.setAll({fillOpacity:0}),He(n,"fill",e,"background")}a("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:Qe,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),a("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:be,height:be,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{let n=a("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});He(n,"fill",e,"disabled"),He(n,"stroke",e,"disabled")}a("Label",["legend","label"]).setAll({centerY:Qe,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0});{let n=a("Label",["legend","label"]).states.create("disabled",{});He(n,"fill",e,"disabled")}a("Label",["legend","value","label"]).setAll({centerY:Qe,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:be,populateText:!0});{let n=a("Label",["legend","value","label"]).states.create("disabled",{});He(n,"fill",e,"disabled")}a("HeatLegend").setAll({stepCount:1}),a("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),a("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:be,width:15}),a("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:be,height:15}),a("HeatLegend",["vertical"]).setAll({height:be}),a("HeatLegend",["horizontal"]).setAll({width:be}),a("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),a("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{let n=a("Label");n.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),He(n,"fill",e,"text")}a("RadialLabel").setAll({textType:"regular",centerY:Qe,centerX:Qe,inside:!1,radius:0,baseRadius:be,orientation:"auto",textAlign:"center"}),a("EditableLabel").setAll({editOn:"click",themeTags:["editablelabel"],multiLine:!0}),a("RoundedRectangle",["editablelabel","background"]).setAll({fillOpacity:0,fill:rt.fromHex(0),cornerRadiusBL:3,cornerRadiusBR:3,cornerRadiusTL:3,cornerRadiusTR:3,strokeOpacity:0,stroke:rt.fromHex(0)}),a("RoundedRectangle",["editablelabel","background"]).states.create("active",{strokeOpacity:.2}),a("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),a("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),a("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{let n=a("Tick");n.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),He(n,"stroke",e,"grid")}a("Bullet").setAll({locationX:.5,locationY:.5}),a("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:Qe,centerY:Qe,animationEasing:zh(Rl),exportable:!1}),a("Tooltip",["system"]).setAll({pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});{let n=a("PointedRectangle",["tooltip","system","background"]);n.setAll({strokeOpacity:.3}),He(n,"fill",e,"background"),He(n,"stroke",e,"grid")}a("Label",["tooltip","system"]).setAll({fontSize:12,fill:e.get("background")}),a("Polygon").setAll({animationEasing:zh(Rl)}),a("Link").setAll({cornerRadius:8,setStateOnChildren:!0});{let n=a("OrthogonalLine",["link","line"]);n.setAll({isMeasured:!1,crisp:!0});let o=n.states.create("active",{strokeWidth:2});He(o,"stroke",e,"negative")}a("OrthogonalLine",["link","hit"]).setAll({strokeWidth:10,opacity:0,strokeOpacity:0});{let n=a("OrthogonalLine");n.setAll({strokeWidth:1,strokeOpacity:1,cornerRadius:10}),He(n,"stroke",e,"grid")}{let n=a("Triangle",["link"]);n.setAll({width:14,height:10,centerY:0}),He(n,"fill",e,"grid"),He(n,"stroke",e,"grid"),n.states.create("default",{stateAnimationDuration:0});let o=n.states.create("active",{stateAnimationDuration:0,stroke:Ys(16777215),strokeWidth:2});o.set("draw",l=>{l.arc(0,0,11,0,Math.PI*2),l.moveTo(-4,-4),l.lineTo(4,4),l.moveTo(4,-4),l.lineTo(-4,4)}),He(o,"fill",e,"negative")}a("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:rt.fromHex(16777215)});{let n=a("Label",["tooltip"]);n.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),He(n,"fill",e,"alternativeText")}a("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:i,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),a("Button").states.create("hover",{}),a("Button").states.create("down",{stateAnimationDuration:0}),a("Button").states.create("active",{}),a("Button").states.create("disabled",{forceInactive:!0});{let n=a("RoundedRectangle",["button","background"]);He(n,"fill",e,"primaryButton"),He(n,"stroke",e,"primaryButtonStroke")}{let n=a("RoundedRectangle",["button","background"]).states.create("hover",{});He(n,"fill",e,"primaryButtonHover")}{let n=a("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0});He(n,"fill",e,"primaryButtonDown")}{let n=a("RoundedRectangle",["button","background"]).states.create("active",{});He(n,"fill",e,"primaryButtonActive")}{let n=a("RoundedRectangle",["button","background"]).states.create("disabled",{});He(n,"fill",e,"primaryButtonDisabled")}{let n=a("Graphics",["button","icon"]).states.create("disabled",{});He(n,"fill",e,"primaryButtonTextDisabled")}{let n=a("Label",["button"]).states.create("disabled",{});He(n,"fill",e,"primaryButtonTextDisabled")}{let n=a("Graphics",["button","icon"]);n.setAll({forceInactive:!0}),He(n,"stroke",e,"primaryButtonText")}{let n=a("Label",["button"]);He(n,"fill",e,"primaryButtonText")}a("ConfirmButton").setAll({toggleKey:"active",setStateOnChildren:!0,label:$i.new(this._root,{text:t.translate("Confirm"),forceHidden:!0})});{let n=a("RoundedRectangle",["button","background","confirm"]).states.create("active",{});He(n,"fill",e,"negative")}a("Label",["button","confirm"]).setAll({paddingTop:0,paddingBottom:0,paddingRight:3,paddingLeft:5}),a("Label",["button","confirm"]).states.create("default",{stateAnimationDuration:0}),a("Label",["button","confirm"]).states.create("active",{forceHidden:!1,stateAnimationDuration:0});{let n=a("Graphics",["icon","confirm","button"]);n.setAll({stateAnimationDuration:0}),n.states.create("default",{stateAnimationDuration:0}),He(n,"stroke",e,"primaryButtonText")}{let n=a("Graphics",["icon","confirm","button"]).states.create("active",{svgPath:"M -5 1 L 0 6 L 8 -5",strokeWidth:2});He(n,"stroke",e,"primaryButtonText")}{let n=a("Graphics",["icon","confirm","button","secondary"]).states.create("active",{});He(n,"stroke",e,"primaryButtonText")}{let n=a("RoundedRectangle",["button","background","confirm","secondary"]).states.create("active",{fillOpacity:1});He(n,"fill",e,"negative")}{let n=a("RoundedRectangle",["button","background","confirm","secondary"]).states.create("hoverActive",{fillOpacity:1});He(n,"fill",e,"negative")}a("Button",["button","confirm"]).states.create("hoverActive",{}),a("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:be,role:"button",ariaLabel:t.translate("Zoom Out"),layer:30});{let n=a("RoundedRectangle",["background","button","zoom"]);n.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),He(n,"fill",e,"primaryButton")}{let n=a("RoundedRectangle",["background","button","zoom"]).states.create("hover",{});He(n,"fill",e,"primaryButtonHover")}{let n=a("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0});He(n,"fill",e,"primaryButtonDown")}{let n=a("Graphics",["icon","button","zoom"]);n.setAll({crisp:!0,strokeOpacity:.7,draw:o=>{o.moveTo(0,0),o.lineTo(12,0)}}),He(n,"stroke",e,"primaryButtonText")}a("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:Qe,centerY:Qe,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:t.translate("Use up and down arrows to move selection")});{let n=a("RoundedRectangle",["background","resize","button"]);n.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),He(n,"fill",e,"secondaryButton"),He(n,"stroke",e,"secondaryButtonStroke")}{let n=a("RoundedRectangle",["background","resize","button"]).states.create("hover",{});He(n,"fill",e,"secondaryButtonHover")}{let n=a("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0});He(n,"fill",e,"secondaryButtonDown")}{let n=a("Graphics",["resize","button","icon"]);n.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:o=>{o.moveTo(0,.5),o.lineTo(0,12.5),o.moveTo(4,.5),o.lineTo(4,12.5)}}),He(n,"stroke",e,"secondaryButtonText")}a("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),a("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),a("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:t.translate("Play"),toggleKey:"active"});{let n=a("RoundedRectangle",["play","background"]);n.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),He(n,"fill",e,"primaryButton")}{let n=a("Graphics",["play","icon"]);n.setAll({stateAnimationDuration:0,dx:1,draw:o=>{o.moveTo(0,-5),o.lineTo(8,0),o.lineTo(0,5),o.lineTo(0,-5)}}),He(n,"fill",e,"primaryButtonText")}a("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),a("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:n=>{n.moveTo(-4,-5),n.lineTo(-1,-5),n.lineTo(-1,5),n.lineTo(-4,5),n.lineTo(-4,-5),n.moveTo(4,-5),n.lineTo(1,-5),n.lineTo(1,5),n.lineTo(4,5),n.lineTo(4,-5)}}),a("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:t.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{let n=a("RoundedRectangle",["switch","background"]);n.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),He(n,"fill",e,"primaryButton")}{let n=a("Circle",["switch","icon"]);n.setAll({radius:8,centerY:0,centerX:0,dx:0}),He(n,"fill",e,"primaryButtonText")}a("Graphics",["switch","icon"]).states.create("active",{dx:16}),a("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:zh(Rl)}),a("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:be}),a("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:be}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{let n=a("RoundedRectangle",["scrollbar","main","background"]);n.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),He(n,"fill",e,"fill")}{let n=a("RoundedRectangle",["scrollbar","thumb"]);n.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),He(n,"fill",e,"secondaryButton")}{let n=a("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{});He(n,"fill",e,"secondaryButtonHover")}{let n=a("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0});He(n,"fill",e,"secondaryButtonDown")}a("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:Qe,width:be,centerX:Qe,ariaLabel:t.translate("Use up and down arrows to move selection")}),a("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:Qe,centerY:Qe,height:be,ariaLabel:t.translate("Use left and right arrows to move selection")});{let n=a("PointedRectangle",["axis","tooltip","background"]);n.setAll({cornerRadius:0}),He(n,"fill",e,"alternativeBackground")}a("Label",["axis","tooltip"]).setAll({role:void 0}),a("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),a("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),a("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),a("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),a("Star").setAll({spikes:5,innerRadius:5,radius:10}),a("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),a("Tooltip",["indicator"]).setAll({forceHidden:!0}),a("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),a("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),a("SpriteResizer").setAll({rotationStep:10,isMeasured:!1}),a("Container",["resizer","grip"]).states.create("hover",{});{let n=a("RoundedRectangle",["resizer","grip"]);n.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),He(n,"fill",e,"background"),He(n,"stroke",e,"alternativeBackground")}{let n=a("RoundedRectangle",["resizer","grip","outline"]);n.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),n.states.create("hover",{fillOpacity:.3}),He(n,"fill",e,"alternativeBackground")}a("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),a("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{let n=a("Rectangle",["resizer","rectangle"]);n.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),He(n,"stroke",e,"alternativeBackground")}a("Graphics",["button","plus","icon"]).setAll({x:Qe,y:Qe,draw:n=>{n.moveTo(-4,0),n.lineTo(4,0),n.moveTo(0,-4),n.lineTo(0,4)}}),a("Graphics",["button","minus","icon"]).setAll({x:Qe,y:Qe,draw:n=>{n.moveTo(-4,0),n.lineTo(4,0)}}),a("Graphics",["button","home","icon"]).setAll({x:Qe,y:Qe,svgPath:"M 8 -1 L 6 -1 L 6 7 L 2 7 L 2 1 L -2 1 L -2 7 L -6 7 L -6 -1 L -8 -1 L 0 -9 L 8 -1 Z M 8 -1"}),a("Button",["zoomtools"]).setAll({marginTop:1,marginBottom:2}),a("ZoomTools").setAll({x:be,centerX:be,y:be,centerY:be,paddingRight:10,paddingBottom:10}),a("ProgressPie").setAll({radius:be,width:50,height:50,centerX:Ot(-50),centerY:Ot(-50),innerRadius:Ot(85),numberFormat:"#."});{let n=a("Label",["progresspie"]);n.setAll({centerX:Qe,centerY:Qe,fontSize:"0.75em"}),He(n,"fill",e,"primaryButton")}{let n=a("Circle",["progresspie"]);n.setAll({fillOpacity:.5}),He(n,"fill",e,"background")}{let n=a("Slice",["progresspie"]);n.setAll({startAngle:-90}),He(n,"fill",e,"primaryButton")}{let n=a("Slice",["progresspie","background"]);n.setAll({fillOpacity:.2,arc:360}),He(n,"fill",e,"primaryButton")}a("EditableLabel",["numericstepper"]).setAll({y:Qe,centerY:Qe,multiLine:!1,marginRight:2});{let n=a("Container",["numericstepper","buttons"]);n.setAll({layout:this._root.verticalLayout,centerY:Qe,y:Qe,marginRight:10,opacity:0}),n.states.create("active",{opacity:1}),n.states.create("default",{opacity:0})}{let n=a("Triangle",["numericstepper"]);n.setAll({width:17,height:11,marginTop:3,marginBottom:3,strokeWidth:5,strokeOpacity:0,cursorOverStyle:"pointer"}),He(n,"fill",e,"secondaryButton")}a("Triangle",["downbutton"]).setAll({rotation:180})}};var Dd=class{constructor(t=1,e=0,i=0,r=1,a=0,n=0){Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=t,this.b=e,this.c=i,this.d=r,this.tx=a,this.ty=n}setTransform(t,e,i,r,a,n=1){this.a=Math.cos(a)*n,this.b=Math.sin(a)*n,this.c=-Math.sin(a)*n,this.d=Math.cos(a)*n,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d)}apply(t){return{x:this.a*t.x+this.c*t.y+this.tx,y:this.b*t.x+this.d*t.y+this.ty}}applyInverse(t){let e=1/(this.a*this.d+this.c*-this.b);return{x:this.d*e*t.x+-this.c*e*t.y+(this.ty*this.c-this.tx*this.d)*e,y:this.a*e*t.y+-this.b*e*t.x+(-this.ty*this.a+this.tx*this.b)*e}}append(t){let e=this.a,i=this.b,r=this.c,a=this.d;this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*a,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*a,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*a+this.ty}prepend(t){let e=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){let i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty}copyFrom(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty}};var wU=function(){function s(t,e){var i=[],r=!0,a=!1,n=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(i.push(l.value),!(e&&i.length===e));r=!0);}catch(u){a=!0,n=u}finally{try{!r&&o.return&&o.return()}finally{if(a)throw n}}return i}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return s(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),jf=Math.PI*2,T0=function(t,e,i,r,a,n,o){var l=t.x,u=t.y;l*=e,u*=i;var h=r*l-a*u,c=a*l+r*u;return{x:h+n,y:c+o}},CU=function(t,e){var i=e===1.5707963267948966?.551915024494:e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),r=Math.cos(t),a=Math.sin(t),n=Math.cos(t+e),o=Math.sin(t+e);return[{x:r-a*i,y:a+r*i},{x:n+o*i,y:o-n*i},{x:n,y:o}]},UF=function(t,e,i,r){var a=t*r-e*i<0?-1:1,n=t*i+e*r;return n>1&&(n=1),n<-1&&(n=-1),a*Math.acos(n)},BU=function(t,e,i,r,a,n,o,l,u,h,c,A){var d=Math.pow(a,2),f=Math.pow(n,2),p=Math.pow(c,2),m=Math.pow(A,2),g=d*f-d*m-f*p;g<0&&(g=0),g/=d*m+f*p,g=Math.sqrt(g)*(o===l?-1:1);var y=g*a/n*A,x=g*-n/a*c,C=h*y-u*x+(t+i)/2,S=u*y+h*x+(e+r)/2,P=(c-y)/a,F=(A-x)/n,O=(-c-y)/a,$=(-A-x)/n,L=UF(1,0,P,F),E=UF(P,F,O,$);return l===0&&E>0&&(E-=jf),l===1&&E<0&&(E+=jf),[C,S,L,E]},SU=function(t){var e=t.px,i=t.py,r=t.cx,a=t.cy,n=t.rx,o=t.ry,l=t.xAxisRotation,u=l===void 0?0:l,h=t.largeArcFlag,c=h===void 0?0:h,A=t.sweepFlag,d=A===void 0?0:A,f=[];if(n===0||o===0)return[];var p=Math.sin(u*jf/360),m=Math.cos(u*jf/360),g=m*(e-r)/2+p*(i-a)/2,y=-p*(e-r)/2+m*(i-a)/2;if(g===0&&y===0)return[];n=Math.abs(n),o=Math.abs(o);var x=Math.pow(g,2)/Math.pow(n,2)+Math.pow(y,2)/Math.pow(o,2);x>1&&(n*=Math.sqrt(x),o*=Math.sqrt(x));var C=BU(e,i,r,a,n,o,c,d,p,m,g,y),S=wU(C,4),P=S[0],F=S[1],O=S[2],$=S[3],L=Math.abs($)/(jf/4);Math.abs(1-L)<1e-7&&(L=1);var E=Math.max(Math.ceil(L),1);$/=E;for(var D=0;D<E;D++)f.push(CU(O,$)),O+=$;return f.map(function(H){var te=T0(H[0],n,o,m,p,P,F),K=te.x,ae=te.y,ie=T0(H[1],n,o,m,p,P,F),fe=ie.x,z=ie.y,Y=T0(H[2],n,o,m,p,P,F),ge=Y.x,re=Y.y;return{x1:K,y1:ae,x2:fe,y2:z,x:ge,y:re}})},VF=SU;function PU(s,t,e){if(t!==e)throw new Error("Required "+e+" arguments for "+s+" but got "+t)}function Xf(s,t,e){if(t<e)throw new Error("Required at least "+e+" arguments for "+s+" but got "+t)}function cn(s,t,e){if(Xf(s,t,e),t%e!==0)throw new Error("Arguments for "+s+" must be in pairs of "+e)}function FU(s){for(let t=0;t<s.length;t+=7){let e=t+3,i=s[e];if(i.length>1){let r=/^([01])([01])(.*)$/.exec(i);r!==null&&(s.splice(e,0,r[1]),++e,s.splice(e,0,r[2]),++e,r[3].length>0?s[e]=r[3]:s.splice(e,1))}if(++e,i=s[e],i.length>1){let r=/^([01])(.+)$/.exec(i);r!==null&&(s.splice(e,0,r[1]),++e,s[e]=r[2])}}}function NF(s){if(s===0||s===1)return s;throw new Error("Flag must be 0 or 1")}function TU(s){let t=[0,0,0];for(let e=0;e<24;e++)t[e%3]<<=1,t[e%3]|=s&1,s>>=1;return(t[0]|0)+(t[1]<<8)+(t[2]<<16)}function Wg(s,t){for(;!(s.interactive&&!t(s));)if(s._parent)s=s._parent;else break}function DU(s,t,e){return qi(s,Og(t),i=>{let r=s0(i),a=i.touches;a?(a.length==0&&(a=i.changedTouches),e(Of(a),r)):e([i],r)})}function QF(s){let t=document.createElement("canvas");t.width=1,t.height=1;let e=t.getContext("2d",{willReadFrequently:!0});e.drawImage(s,0,0,1,1);try{return e.getImageData(0,0,1,1),!1}catch{return console.warn('Image "'+s.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function Wf(s){s.width=0,s.height=0,s.style.width="0px",s.style.height="0px"}function HF(s){return Math.floor(s)+.5}var D0=class{constructor(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}get x(){return this._x}get y(){return this._y}set x(t){this._x=t}set y(t){this._y=t}},Od=class extends Du{constructor(t){super(),Object.defineProperty(this,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new D0}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new Dd}),Object.defineProperty(this,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new Dd}),Object.defineProperty(this,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new Dd}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._renderer=t}subStatus(t){return{inactive:this.inactive==null?t.inactive:this.inactive,layer:this._layer||t.layer}}_dispose(){this._renderer._removeObject(this),this.getLayer().dirty=!0}getCanvas(){return this.getLayer().view}getLayer(){let t=this;for(;;){if(t._layer)return t._layer;if(t._parent)t=t._parent;else return this._renderer.defaultLayer}}setLayer(t,e){t==null?this._layer=void 0:(this._layer=this._renderer.getLayer(t,!0),this._layer.visible=!0,this._layer.margin=e,e&&Iu(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._layer.dirty=!0,this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost())}markDirtyLayer(){this.getLayer().dirty=!0}clear(){this.invalidateBounds()}invalidateBounds(){this._localBounds=void 0}_addBounds(t){}_getColorId(){return this._colorId===void 0&&(this._colorId=this._renderer.paintId(this)),this._colorId}_isInteractive(t){return!t.inactive&&(this.interactive||this._renderer._forceInteractive>0)}_isInteractiveMask(t){return this._isInteractive(t)}contains(t){for(;;){if(t===this)return!0;if(t._parent)t=t._parent;else return!1}}toGlobal(t){return this._matrix.apply(t)}toLocal(t){return this._matrix.applyInverse(t)}getLocalMatrix(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}getLocalBounds(){return this._localBounds||(this._localBounds={left:1e7,top:1e7,right:-1e7,bottom:-1e7},this._addBounds(this._localBounds)),this._localBounds}getAdjustedBounds(t){this._setMatrix();let e=this.getLocalMatrix(),i=e.apply({x:t.left,y:t.top}),r=e.apply({x:t.right,y:t.top}),a=e.apply({x:t.right,y:t.bottom}),n=e.apply({x:t.left,y:t.bottom});return{left:Math.min(i.x,r.x,a.x,n.x),top:Math.min(i.y,r.y,a.y,n.y),right:Math.max(i.x,r.x,a.x,n.x),bottom:Math.max(i.y,r.y,a.y,n.y)}}on(t,e,i){return this.interactive?this._renderer._addEvent(this,t,e,i):new Ar(()=>{})}_setMatrix(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}_transform(t,e){let i=this._matrix,r=i.tx*e,a=i.ty*e;this.crisp&&(r=HF(r),a=HF(a)),t.setTransform(i.a*e,i.b*e,i.c*e,i.d*e,r,a)}_transformMargin(t,e,i){let r=this._matrix;t.setTransform(r.a*e,r.b*e,r.c*e,r.d*e,(r.tx+i.left)*e,(r.ty+i.top)*e)}_transformLayer(t,e,i){i.margin?this._transformMargin(t,i.scale||e,i.margin):this._transform(t,i.scale||e)}render(t,e=0){if(this.visible&&(this.exportable!==!1||!this._renderer._omitTainted)){this._setMatrix();let i=this.subStatus(t),r=this._renderer.resolution,a=this._renderer.layers,n=this._renderer._ghostLayer,o=n.context,l=this.mask;l&&l._setMatrix(),Z(a,u=>{if(u){let h=u.context;h.save(),l&&(l._transformLayer(h,r,u),l._runPath(h),h.clip()),h.globalAlpha=this.compoundAlpha*this.alpha,this._transformLayer(h,r,u),this.filter&&(h.filter=this.filter)}}),o.save(),l&&this._isInteractiveMask(i)&&(l._transformMargin(o,r,n.margin),l._runPath(o),o.clip()),this._transformMargin(o,r,n.margin),i.layer.order>0&&!e&&Df(this._renderer._deferredGhostLayers,i.layer.order),this._render(i,e),o.restore(),Z(a,u=>{u&&u.context.restore()})}}_render(t,e=0){this.exportable===!1&&(t.layer.tainted=!0)}_ghostOnly(t=0){return t>0}_drawGhost(t,e=0){let i=this._isInteractive(t),r=t.layer.order||0;return!!(i&&(r==0&&!this._ghostOnly(e)||r==e))}hovering(){return this._renderer._hovering.has(this)}dragging(){return this._renderer._dragging.some(t=>t.value===this)}shouldCancelTouch(){let t=this._renderer;return t.tapToActivate&&!t._touchActive?!1:this.cancelTouch?!0:this._parent?this._parent.shouldCancelTouch():!1}},O0=class extends Od{constructor(){super(...arguments),Object.defineProperty(this,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_isInteractiveMask(t){return this.interactiveChildren||super._isInteractiveMask(t)}addChild(t){t._parent=this,this._children.push(t),t._layer&&this.registerChildLayer(t._layer)}addChildAt(t,e){t._parent=this,this._children.splice(e,0,t),t._layer&&this.registerChildLayer(t._layer)}removeChild(t){t._parent=void 0,Vr(this._children,t)}_render(t,e){super._render(t);let i=this._renderer;this.interactive&&this.interactiveChildren&&++i._forceInteractive,Z(this._children,r=>{r.compoundAlpha=this.compoundAlpha*this.alpha,r.render(t,e)}),this.interactive&&this.interactiveChildren&&--i._forceInteractive}registerChildLayer(t){this._childLayers||(this._childLayers=[]),Tu(this._childLayers,t),this._parent&&this._parent.registerChildLayer(t)}markDirtyLayer(t=!1){super.markDirtyLayer(),t&&this._childLayers&&Z(this._childLayers,e=>e.dirty=!0)}_dispose(){super._dispose(),this._childLayers&&Z(this._childLayers,t=>{t.dirty=!0})}};function rs(s,t){s.left=Math.min(s.left,t.x),s.top=Math.min(s.top,t.y),s.right=Math.max(s.right,t.x),s.bottom=Math.max(s.bottom,t.y)}var ss=class{colorize(t,e){}colorizeGhost(t,e){this.colorize(t,e)}path(t){}pathGhost(t){this.path(t)}addBounds(t){}},L0=class extends ss{colorize(t,e){t.beginPath()}},zf=class extends ss{constructor(t){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:t})}colorize(t,e){e!==void 0?t.fillStyle=e:t.fillStyle=this.color}},I0=class extends ss{constructor(t){super(),Object.defineProperty(this,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:t})}colorize(t,e){t.fill(),this.clearShadow&&(t.shadowColor="",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},$0=class extends ss{colorize(t,e){t.stroke()}},Gf=class extends ss{constructor(t,e,i,r){super(),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"lineCap",{enumerable:!0,configurable:!0,writable:!0,value:r})}colorize(t,e){e!==void 0?t.strokeStyle=e:t.strokeStyle=this.color,t.lineWidth=this.width,this.lineJoin&&(t.lineJoin=this.lineJoin),this.lineCap&&(t.lineCap=this.lineCap)}},k0=class extends ss{constructor(t){super(),Object.defineProperty(this,"dash",{enumerable:!0,configurable:!0,writable:!0,value:t})}colorize(t,e){t.setLineDash(this.dash)}},E0=class extends ss{constructor(t){super(),Object.defineProperty(this,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:t})}colorize(t,e){t.lineDashOffset=this.dashOffset}},M0=class extends ss{constructor(t,e,i,r){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(t){t.rect(this.x,this.y,this.width,this.height)}addBounds(t){let e=this.x,i=this.y,r=e+this.width,a=i+this.height;rs(t,{x:e,y:i}),rs(t,{x:r,y:i}),rs(t,{x:e,y:a}),rs(t,{x:r,y:a})}},R0=class extends ss{constructor(t,e,i){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i})}path(t){t.moveTo(this.x+this.radius,this.y),t.arc(this.x,this.y,this.radius,0,2*Math.PI)}addBounds(t){rs(t,{x:this.x-this.radius,y:this.y-this.radius}),rs(t,{x:this.x+this.radius,y:this.y+this.radius})}},U0=class extends ss{constructor(t,e,i,r){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(t){t.ellipse(0,0,this.radiusX,this.radiusY,0,0,Math.PI*2)}addBounds(t){rs(t,{x:this.x-this.radiusX,y:this.y-this.radiusY}),rs(t,{x:this.x+this.radiusX,y:this.y+this.radiusY})}},V0=class extends ss{constructor(t,e,i,r,a,n){super(),Object.defineProperty(this,"cx",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"cy",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(t){this.radius>0&&t.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}addBounds(t){let e=ku(this.cx,this.cy,this.startAngle*Na,this.endAngle*Na,this.radius);rs(t,{x:e.left,y:e.top}),rs(t,{x:e.right,y:e.bottom})}},N0=class extends ss{constructor(t,e,i,r,a){super(),Object.defineProperty(this,"x1",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y1",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"x2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"y2",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:a})}path(t){this.radius>0&&t.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}addBounds(t){}},Q0=class extends ss{constructor(t,e){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e})}path(t){t.lineTo(this.x,this.y)}addBounds(t){rs(t,{x:this.x,y:this.y})}},H0=class extends ss{constructor(t,e){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e})}path(t){t.moveTo(this.x,this.y)}addBounds(t){rs(t,{x:this.x,y:this.y})}},j0=class extends ss{path(t){t.closePath()}},X0=class extends ss{constructor(t,e,i,r,a,n){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(t){t.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}addBounds(t){rs(t,{x:this.cpX,y:this.cpY}),rs(t,{x:this.cpX2,y:this.cpY2}),rs(t,{x:this.toX,y:this.toY})}},W0=class extends ss{constructor(t,e,i,r){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(t){t.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}addBounds(t){rs(t,{x:this.cpX,y:this.cpY}),rs(t,{x:this.toX,y:this.toY})}},z0=class extends ss{constructor(t,e,i,r,a){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"blur",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:a})}colorize(t,e){this.opacity&&(t.fillStyle=this.color),t.shadowColor=this.color,t.shadowBlur=this.blur,t.shadowOffsetX=this.offsetX,t.shadowOffsetY=this.offsetY}colorizeGhost(t,e){}},G0=class extends ss{constructor(t,e,i,r,a){super(),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:a})}path(t){t.drawImage(this.image,this.x,this.y,this.width,this.height)}addBounds(t){rs(t,{x:this.x,y:this.y}),rs(t,{x:this.width,y:this.height})}},Y0=class extends Od{constructor(){super(...arguments),Object.defineProperty(this,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:Td.NORMAL}),Object.defineProperty(this,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}clear(){super.clear(),this._operations.length=0}_pushOp(t){this._operations.push(t)}beginFill(t,e=1){this._fillAlpha=e,t?t instanceof rt?this._pushOp(new zf(t.toCSS(e))):(this.isMeasured=!0,this._pushOp(new zf(t))):this._pushOp(new zf("rgba(0, 0, 0, "+e+")"))}endFill(){this._pushOp(new I0(this._hasShadows))}endStroke(){this._pushOp(new $0)}beginPath(){this._pushOp(new L0)}lineStyle(t=0,e,i=1,r,a){this._strokeAlpha=i,e?e instanceof rt?this._pushOp(new Gf(t,e.toCSS(i),r,a)):this._pushOp(new Gf(t,e,r,a)):this._pushOp(new Gf(t,"rgba(0, 0, 0, "+i+")",r,a))}setLineDash(t){this._pushOp(new k0(t||[]))}setLineDashOffset(t=0){this._pushOp(new E0(t))}drawRect(t,e,i,r){this._pushOp(new M0(t,e,i,r))}drawCircle(t,e,i){this._pushOp(new R0(t,e,i))}drawEllipse(t,e,i,r){this._pushOp(new U0(t,e,i,r))}arc(t,e,i,r,a,n=!1){this._pushOp(new V0(t,e,i,r,a,n))}arcTo(t,e,i,r,a){this._pushOp(new N0(t,e,i,r,a))}lineTo(t,e){this._pushOp(new Q0(t,e))}moveTo(t,e){this._pushOp(new H0(t,e))}bezierCurveTo(t,e,i,r,a,n){this._pushOp(new X0(t,e,i,r,a,n))}quadraticCurveTo(t,e,i,r){this._pushOp(new W0(t,e,i,r))}closePath(){this._pushOp(new j0)}shadow(t,e=0,i=0,r=0,a){this._hasShadows=!0,this._pushOp(new z0(a?t.toCSS(a):t.toCSS(this._fillAlpha||this._strokeAlpha),e,i,r))}image(t,e,i,r,a){this._pushOp(new G0(t,e,i,r,a))}svgPath(t){let e=0,i=0,r=null,a=null,n=null,o=null,l=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,u=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g,h;for(;(h=l.exec(t))!==null;){let c=h[1],A=h[2],d=[];for(;(h=u.exec(A))!==null;)d.push(h[1]);switch(c!=="S"&&c!=="s"&&c!=="C"&&c!=="c"&&(r=null,a=null),c!=="Q"&&c!=="q"&&c!=="T"&&c!=="t"&&(n=null,o=null),c){case"M":cn(c,d.length,2),e=+d[0],i=+d[1],this.moveTo(e,i);for(let p=2;p<d.length;p+=2)e=+d[p],i=+d[p+1],this.lineTo(e,i);break;case"m":cn(c,d.length,2),e+=+d[0],i+=+d[1],this.moveTo(e,i);for(let p=2;p<d.length;p+=2)e+=+d[p],i+=+d[p+1],this.lineTo(e,i);break;case"L":cn(c,d.length,2);for(let p=0;p<d.length;p+=2)e=+d[p],i=+d[p+1],this.lineTo(e,i);break;case"l":cn(c,d.length,2);for(let p=0;p<d.length;p+=2)e+=+d[p],i+=+d[p+1],this.lineTo(e,i);break;case"H":Xf(c,d.length,1);for(let p=0;p<d.length;++p)e=+d[p],this.lineTo(e,i);break;case"h":Xf(c,d.length,1);for(let p=0;p<d.length;++p)e+=+d[p],this.lineTo(e,i);break;case"V":Xf(c,d.length,1);for(let p=0;p<d.length;++p)i=+d[p],this.lineTo(e,i);break;case"v":Xf(c,d.length,1);for(let p=0;p<d.length;++p)i+=+d[p],this.lineTo(e,i);break;case"C":cn(c,d.length,6);for(let p=0;p<d.length;p+=6){let m=+d[p],g=+d[p+1];r=+d[p+2],a=+d[p+3],e=+d[p+4],i=+d[p+5],this.bezierCurveTo(m,g,r,a,e,i)}break;case"c":cn(c,d.length,6);for(let p=0;p<d.length;p+=6){let m=+d[p]+e,g=+d[p+1]+i;r=+d[p+2]+e,a=+d[p+3]+i,e+=+d[p+4],i+=+d[p+5],this.bezierCurveTo(m,g,r,a,e,i)}break;case"S":cn(c,d.length,4),(r===null||a===null)&&(r=e,a=i);for(let p=0;p<d.length;p+=4){let m=2*e-r,g=2*i-a;r=+d[p],a=+d[p+1],e=+d[p+2],i=+d[p+3],this.bezierCurveTo(m,g,r,a,e,i)}break;case"s":cn(c,d.length,4),(r===null||a===null)&&(r=e,a=i);for(let p=0;p<d.length;p+=4){let m=2*e-r,g=2*i-a;r=+d[p]+e,a=+d[p+1]+i,e+=+d[p+2],i+=+d[p+3],this.bezierCurveTo(m,g,r,a,e,i)}break;case"Q":cn(c,d.length,4);for(let p=0;p<d.length;p+=4)n=+d[p],o=+d[p+1],e=+d[p+2],i=+d[p+3],this.quadraticCurveTo(n,o,e,i);break;case"q":cn(c,d.length,4);for(let p=0;p<d.length;p+=4)n=+d[p]+e,o=+d[p+1]+i,e+=+d[p+2],i+=+d[p+3],this.quadraticCurveTo(n,o,e,i);break;case"T":cn(c,d.length,2),(n===null||o===null)&&(n=e,o=i);for(let p=0;p<d.length;p+=2)n=2*e-n,o=2*i-o,e=+d[p],i=+d[p+1],this.quadraticCurveTo(n,o,e,i);break;case"t":cn(c,d.length,2),(n===null||o===null)&&(n=e,o=i);for(let p=0;p<d.length;p+=2)n=2*e-n,o=2*i-o,e+=+d[p],i+=+d[p+1],this.quadraticCurveTo(n,o,e,i);break;case"A":case"a":let f=c==="a";FU(d),cn(c,d.length,7);for(let p=0;p<d.length;p+=7){let m=+d[p+5],g=+d[p+6];f&&(m+=e,g+=i);let y=VF({px:e,py:i,rx:+d[p],ry:+d[p+1],xAxisRotation:+d[p+2],largeArcFlag:NF(+d[p+3]),sweepFlag:NF(+d[p+4]),cx:m,cy:g});Z(y,x=>{this.bezierCurveTo(x.x1,x.y1,x.x2,x.y2,x.x,x.y),e=x.x,i=x.y})}break;case"Z":case"z":PU(c,d.length,0),this.closePath();break}}}_runPath(t){t.beginPath(),Z(this._operations,e=>{e.path(t)})}_render(t,e=0){super._render(t);let i=t.layer.dirty,r=this._isInteractive(t),a=this._ghostOnly(e),n=this._drawGhost(t,e);if(i||r||a){let o=t.layer.context,l=this._renderer._ghostLayer.context;i&&!a&&(o.globalCompositeOperation=this.blendMode,o.beginPath());let u;n&&(l.beginPath(),u=this._getColorId()),Z(this._operations,h=>{i&&!a&&(h.path(o),h.colorize(o,void 0)),n&&(h.pathGhost(l),h.colorizeGhost(l,u))})}}renderDetached(t){if(this.visible){this._setMatrix(),t.save();let e=this.mask;e&&(e._setMatrix(),e._transform(t,1),e._runPath(t),t.clip()),t.globalAlpha=this.compoundAlpha*this.alpha,this._transform(t,1),this.filter&&(t.filter=this.filter),t.globalCompositeOperation=this.blendMode,t.beginPath(),Z(this._operations,i=>{i.path(t),i.colorize(t,void 0)}),t.restore()}}_addBounds(t){this.visible&&this.isMeasured&&Z(this._operations,e=>{e.addBounds(t)})}},zg=class extends Od{constructor(t,e,i){super(t),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"truncated",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),this.text=e,this.style=i}invalidateBounds(){super.invalidateBounds(),this._textInfo=void 0}invalidateVisibility(){this.textVisible=!0,this.scale=this._originalScale||1}_shared(t){this.style.textAlign&&(t.textAlign=this.style.textAlign),this.style.direction&&(t.direction=this.style.direction),this.style.textBaseline&&(t.textBaseline=this.style.textBaseline)}_prerender(t,e=!1,i=!1){super._render(t);let r=t.layer.context,a=this._renderer._ghostLayer.context,n=this.style,o=this._getFontStyle(void 0,i);r.font=o,this._isInteractive(t)&&!e&&(a.font=o),n.fill&&(n.fill instanceof rt?r.fillStyle=n.fill.toCSS(n.fillOpacity!=null?n.fillOpacity:1):r.fillStyle=n.fill),n.shadowColor&&(t.layer.context.shadowColor=n.shadowColor.toCSS(n.shadowOpacity||1)),n.shadowBlur&&(t.layer.context.shadowBlur=n.shadowBlur),n.shadowOffsetX&&(t.layer.context.shadowOffsetX=n.shadowOffsetX),n.shadowOffsetY&&(t.layer.context.shadowOffsetY=n.shadowOffsetY),this._shared(r),this._isInteractive(t)&&!e&&(a.fillStyle=this._getColorId(),this._shared(a))}_getFontStyle(t,e=!1){let i=this.style,r=[];return t&&t.fontVariant?r.push(t.fontVariant):i.fontVariant&&r.push(i.fontVariant),e||(t&&t.fontWeight?r.push(t.fontWeight):i.fontWeight&&r.push(i.fontWeight)),t&&t.fontStyle?r.push(t.fontStyle):i.fontStyle&&r.push(i.fontStyle),t&&t.fontSize?(ee(t.fontSize)&&(t.fontSize=t.fontSize+"px"),r.push(t.fontSize)):i.fontSize&&(ee(i.fontSize)&&(i.fontSize=i.fontSize+"px"),r.push(i.fontSize)),t&&t.fontFamily?r.push(t.fontFamily):i.fontFamily?r.push(i.fontFamily):r.length&&r.push("Arial"),r.join(" ")}_render(t,e=0){if(this._textInfo||this._measure(t),this.textVisible){let i=this._isInteractive(t),r=t.layer.context,a=t.layer.dirty,n=this._renderer._ghostLayer.context,o=this._ghostOnly(e),l=this._drawGhost(t,e);r.save(),n.save(),this._prerender(t),Z(this._textInfo,(u,h)=>{Z(u.textChunks,(c,A)=>{if(c.style&&(r.save(),n.save(),o||(r.font=c.style),this._isInteractive(t)&&(n.font=c.style)),c.fill&&(r.save(),o||(r.fillStyle=c.fill.toCSS())),a&&!o&&r.fillText(c.text,c.offsetX,u.offsetY+c.offsetY),c.textDecoration=="underline"||c.textDecoration=="line-through"){let d=1,f=1,p=c.height,m=this.style.oversizedBehavior||"";if(["truncate","wrap","wrap-no-break"].indexOf(m)>-1){let x=this._measureText(c.text,r);c.width=x.actualBoundingBoxLeft+x.actualBoundingBoxRight}let g=c.offsetX;switch(this.style.textAlign){case"right":case"end":g-=c.width;break;case"center":g-=c.width/2;break}if(c.style)switch($s.getTextStyle(c.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":d=2;break}p&&(f=p/20);let y;c.textDecoration=="line-through"?y=d+u.offsetY+c.offsetY-c.height/2:y=d+f*1.5+u.offsetY+c.offsetY,o||(r.save(),r.beginPath(),c.fill?r.strokeStyle=c.fill.toCSS():this.style.fill&&this.style.fill instanceof rt&&(r.strokeStyle=this.style.fill.toCSS()),r.lineWidth=d*f,r.moveTo(g,y),r.lineTo(g+c.width,y),r.stroke(),r.restore())}i&&this.interactive&&l&&n.fillText(c.text,c.offsetX,u.offsetY+c.offsetY),c.fill&&r.restore(),c.style&&(r.restore(),n.restore())})}),r.restore(),n.restore()}}_addBounds(t){if(this.visible&&this.isMeasured){let e=this._measure({inactive:this.inactive,layer:this.getLayer()});rs(t,{x:e.left,y:e.top}),rs(t,{x:e.right,y:e.bottom})}}_ignoreFontWeight(){return/apple/i.test(navigator.vendor)}_measure(t){let e=t.layer.context,i=this._renderer._ghostLayer.context,r=this.style.direction=="rtl";this._textInfo=[];let a=this.style.oversizedBehavior,n=this.style.maxWidth,o=ee(n)&&a=="truncate",l=ee(n)&&(a=="wrap"||a=="wrap-no-break");e.save(),i.save(),this._prerender(t,!0,this._ignoreFontWeight());let u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",h=this.text.toString().replace(/\r/g,"").split(/\n/),c=!0,A=0,d=0,f=0,p;Z(h,(g,y)=>{let x;for(g==""?x=[{type:"value",text:""}]:x=$s.chunk(g,!1,this.style.ignoreFormatting);x.length>0;){let C={offsetY:f,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},S=this._measureText(u,e),P=S.actualBoundingBoxAscent+S.actualBoundingBoxDescent;C.height=P,C.ascent=S.actualBoundingBoxAscent;let F,O=this.style.textDecoration,$,L,E=!1,D=!0,H=[],te;Tf(x,(K,ae)=>{if(K.type=="format")if(K.text=="[/]")c||(e.restore(),i.restore(),c=!0),$=void 0,p=void 0,L=void 0,O=this.style.textDecoration,te=void 0,F=K.text;else{c||(e.restore(),i.restore());let ie=$s.getTextStyle(K.text),fe=this._getFontStyle(ie);e.save(),i.save(),e.font=fe,p=fe,F=K.text,ie.textDecoration&&(O=ie.textDecoration),ie.fill&&($=ie.fill),ie.width&&(L=Gs(ie.width)),ie.verticalAlign&&(te=ie.verticalAlign),c=!1;let z=this._measureText(u,e),Y=z.actualBoundingBoxAscent+z.actualBoundingBoxDescent;Y>C.height&&(C.height=Y),z.actualBoundingBoxAscent>C.ascent&&(C.ascent=z.actualBoundingBoxAscent)}else if(K.type=="value"&&!E){let ie=this._measureText(K.text,e),fe=ie.actualBoundingBoxLeft+ie.actualBoundingBoxRight;if(o){this.truncated=void 0;let re=D||this.style.breakWords||!1,me=this.style.ellipsis||"",Ge=this._measureText(me,e),Xe=Ge.actualBoundingBoxLeft+Ge.actualBoundingBoxRight;if(C.width+fe>n){let nt=n-C.width-Xe;K.text=this._truncateText(e,K.text,nt,re),K.text+=me,E=!0,this.truncated=!0}}else if(l&&C.width+fe>n){let re=n-C.width,me=this._truncateText(e,K.text,re,!1,D&&this.style.oversizedBehavior!="wrap-no-break");if(me=="")return this.textVisible=!0,!1;H=x.slice(ae+1),Lu(me)!=Lu(K.text)&&(H.unshift({type:"value",text:K.text.substr(me.length)}),F&&H.unshift({type:"format",text:F})),K.text=Lu(me),x=[],E=!0}let z=1,Y=1;if(p&&L&&L>fe){let re=fe/L;switch(this.style.textAlign){case"right":case"end":z=re;break;case"center":z=re,Y=re;break;default:Y=re}fe=L}let ge=ie.actualBoundingBoxAscent+ie.actualBoundingBoxDescent;ge>C.height&&(C.height=ge),ie.actualBoundingBoxAscent>C.ascent&&(C.ascent=ie.actualBoundingBoxAscent),C.width+=fe,C.left+=ie.actualBoundingBoxLeft/z,C.right+=ie.actualBoundingBoxRight/Y,C.textChunks.push({style:p,fill:$,text:K.text,width:fe,height:ge,left:ie.actualBoundingBoxLeft,right:ie.actualBoundingBoxRight,ascent:ie.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:O,verticalAlign:te}),D=!1}return!0}),this.style.lineHeight instanceof yt?(C.height*=this.style.lineHeight.value,C.ascent*=this.style.lineHeight.value):(C.height*=this.style.lineHeight||1.2,C.ascent*=this.style.lineHeight||1.2),A<C.left&&(A=C.left),d<C.right&&(d=C.right),this._textInfo.push(C),f+=C.height,x=H||[]}}),c||(e.restore(),i.restore()),Z(this._textInfo,(g,y)=>{let x=0;Z(g.textChunks,C=>{if(C.offsetX=x+C.left-g.left,C.offsetY+=g.height-g.height*(this.style.baselineRatio||.19),x+=C.width*(r?-1:1),C.verticalAlign)switch(C.verticalAlign){case"super":C.offsetY-=g.height/2-C.height/2;break;case"sub":C.offsetY+=C.height/2;break}})});let m={left:r?-d:-A,top:0,right:r?A:d,bottom:f};if(a!=="none"){let g=this._fitRatio(m);if(g<1)if(a=="fit")ee(this.style.minScale)&&g<this.style.minScale?(this.textVisible=!1,m.left=0,m.top=0,m.right=0,m.bottom=0):(this._originalScale||(this._originalScale=this.scale),this.scale=g,this.textVisible=!0);else if(a=="hide")this.textVisible=!1,m.left=0,m.top=0,m.right=0,m.bottom=0;else{switch(this.style.textAlign){case"right":case"end":m.left=r?n:-n,m.right=0;break;case"center":m.left=-n/2,m.right=n/2;break;default:m.left=0,m.right=r?-n:n}this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}return e.restore(),i.restore(),m}_fitRatio(t){let e=this.style.maxWidth,i=this.style.maxHeight;if(!ee(e)&&!ee(i))return 1;let r=t.right-t.left,a=t.bottom-t.top;return Math.min(e/r||1,i/a||1)}_truncateText(t,e,i,r=!1,a=!0){let n;do{if(r)e=e.slice(0,-1);else{let l=e.replace(/[^,;:!?\\\/\s]+[,;:!?\\\/\s]*$/g,"");if((l==""||l===e)&&a)r=!0;else{if(l=="")return e;e=l}}let o=this._measureText(e,t);n=o.actualBoundingBoxLeft+o.actualBoundingBoxRight}while(n>i&&e!="");return e}_measureText(t,e){let i=e.measureText(t),r={};if(i.actualBoundingBoxAscent==null){let n=document.createElement("div");n.innerText=t,n.style.visibility="hidden",n.style.position="absolute",n.style.top="-1000000px;",n.style.fontFamily=this.style.fontFamily||"",n.style.fontSize=this.style.fontSize+"",document.body.appendChild(n);let o=n.getBoundingClientRect();document.body.removeChild(n);let l=o.height,u=i.width;r={actualBoundingBoxAscent:l,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:u,fontBoundingBoxAscent:l,fontBoundingBoxDescent:0,width:u}}else r={actualBoundingBoxAscent:i.actualBoundingBoxAscent,actualBoundingBoxDescent:i.actualBoundingBoxDescent,actualBoundingBoxLeft:i.actualBoundingBoxLeft,actualBoundingBoxRight:i.actualBoundingBoxRight,fontBoundingBoxAscent:i.actualBoundingBoxAscent,fontBoundingBoxDescent:i.actualBoundingBoxDescent,width:i.width};let a=i.width;switch(this.style.textAlign){case"right":case"end":r.actualBoundingBoxLeft=a,r.actualBoundingBoxRight=0;break;case"center":r.actualBoundingBoxLeft=a/2,r.actualBoundingBoxRight=a/2;break;default:r.actualBoundingBoxLeft=0,r.actualBoundingBoxRight=a}return r}},K0=class{constructor(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:Ot(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:"\u2026"}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}},Z0=class extends zg{constructor(){super(...arguments),Object.defineProperty(this,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(this,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_render(t,e=0){switch(this.textType){case"circular":this._renderCircular(t,e);break;default:super._render(t,e);break}}_renderCircular(t,e=0){if(this.textVisible){this._prerender(t);let i=this._isInteractive(t),r=t.layer.context,a=t.layer.dirty,n=this._renderer._ghostLayer.context;r.save(),i&&n.save(),this._textInfo||this._measure(t);let o=this.radius||0,l=this.startAngle||0,u=0,h=this.orientation,c=h=="auto"?"auto":h=="inward",A=this.inside,d=this.style.textAlign||"left",f=this.kerning||0,p=d=="left"?1:-1,m=!this._textReversed,g=this._ghostOnly(e),y=this._drawGhost(t,e);if(c=="auto"){let x=0,C=0;Z(this._textInfo,(S,P)=>{let F=l+S.width/(o-S.height)/2*-p;F>x&&(x=F)}),d=="left"?C=(x+u/2)*Na:d=="right"?C=(x-u/2)*Na:C=l*Na,C=da(C),c=C>=270||C<=90}c==!0&&m&&(this._textInfo.reverse(),this._textReversed=!0),Z(this._textInfo,(x,C)=>{let S=x.height;A||(o+=S),(p==-1&&c||p==1&&!c)&&m&&x.textChunks.reverse();let P=l;u=0,d=="center"&&(P+=x.width/(o-S)/2*-p,u=P-l),P+=Math.PI*(c?0:1),r.save(),i&&n.save(),g||r.rotate(P),i&&n.rotate(P);let F=0;Z(x.textChunks,(O,$)=>{let L=O.text,E=O.width;F=E/2/(o-S)*p,g||r.rotate(F),i&&n.rotate(F),O.style&&(r.save(),n.save(),g||(r.font=O.style),i&&(n.font=O.style)),O.fill&&(r.save(),g||(r.fillStyle=O.fill.toCSS())),g||(r.textBaseline="middle",r.textAlign="center"),i&&(n.textBaseline="middle",n.textAlign="center"),a&&!g&&r.fillText(L,0,(c?1:-1)*(0-o+S/2)),i&&y&&n.fillText(L,0,(c?1:-1)*(0-o+S/2)),O.fill&&r.restore(),O.style&&(r.restore(),n.restore()),F=(E/2+f)/(o-S)*p,g||r.rotate(F),i&&n.rotate(F)}),r.restore(),i&&n.restore(),A&&(o-=S)}),r.restore(),i&&n.restore()}}_measure(t){switch(this.textType){case"circular":return this._measureCircular(t);default:return super._measure(t)}}_measureCircular(t){let e=t.layer.context,i=this._renderer._ghostLayer.context,r=this.style.direction=="rtl",a=this.style.oversizedBehavior,n=this.style.maxWidth,o=ee(n)&&a=="truncate",l=this.style.ellipsis||"",u;this.textVisible=!0,this._textInfo=[],this._textReversed=!1,e.save(),i.save(),this._prerender(t,!0);let h=this.text.toString().replace(/\r/g,"").split(/\n/),c=!0,A=0,d=0;return Z(h,(f,p)=>{let m=$s.chunk(f,!1,this.style.ignoreFormatting),g={offsetY:d,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},y,x,C;Z(m,(S,P)=>{if(S.type=="format"){if(S.text=="[/]")c||(e.restore(),i.restore(),c=!0),x=void 0,y=void 0,C=void 0;else{let F=$s.getTextStyle(S.text),O=this._getFontStyle(F);e.save(),i.save(),e.font=O,y=O,F.fill&&(x=F.fill),F.width&&(C=Gs(F.width)),c=!1}o&&(u=this._measureText(l,e))}else if(S.type=="value"){let F=S.text.match(/./ug)||[];r&&(F=wF(S.text),F.reverse());for(let O=0;O<F.length;O++){let $=F[O],L=this._measureText($,e),E=L.width;y&&C&&C>E&&(E=C);let D=L.actualBoundingBoxAscent+L.actualBoundingBoxDescent;if(D>g.height&&(g.height=D),L.actualBoundingBoxAscent>g.ascent&&(g.ascent=L.actualBoundingBoxAscent),A+=E,o){u||(u=this._measureText(l,e));let H=u.actualBoundingBoxLeft+u.actualBoundingBoxRight;if(A+H>n){g.textChunks.length==1?this.textVisible=!1:(g.width+=H,g.left+=u.actualBoundingBoxLeft,g.right+=u.actualBoundingBoxRight,g.textChunks.push({style:y,fill:x,text:l,width:H,height:D+u.actualBoundingBoxDescent,left:u.actualBoundingBoxLeft,right:u.actualBoundingBoxRight,ascent:u.actualBoundingBoxAscent,offsetX:0,offsetY:D,textDecoration:void 0}));break}}g.width+=E,g.left+=L.actualBoundingBoxLeft,g.right+=L.actualBoundingBoxRight,g.textChunks.push({style:y,fill:x,text:$,width:E,height:D+L.actualBoundingBoxDescent,left:L.actualBoundingBoxLeft,right:L.actualBoundingBoxRight,ascent:L.actualBoundingBoxAscent,offsetX:0,offsetY:D,textDecoration:void 0})}}}),this.style.lineHeight instanceof yt?g.height*=this.style.lineHeight.value:g.height*=this.style.lineHeight||1.2,this._textInfo.push(g),d+=g.height}),c||(e.restore(),i.restore()),a=="hide"&&A>n&&(this.textVisible=!1),Z(this._textInfo,f=>{Z(f.textChunks,p=>{p.offsetY+=Math.round((f.height-p.height+(f.ascent-p.ascent))/2)})}),e.restore(),i.restore(),{left:0,top:0,right:0,bottom:0}}},q0=class extends Od{constructor(t,e){super(t),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.image=e}_dispose(){super._dispose(),this._imageMask&&Wf(this._imageMask)}getLocalBounds(){if(!this._localBounds){let t=0,e=0;this.width&&(t=this.width),this.height&&(e=this.height),this._localBounds={left:0,top:0,right:t,bottom:e},this._addBounds(this._localBounds)}return this._localBounds}_render(t,e=0){if(super._render(t),this.image){if(this.tainted===void 0&&(this.tainted=QF(this.image),t.layer.tainted=!0),this.tainted&&this._renderer._omitTainted)return;let i=this._ghostOnly(e),r=this._drawGhost(t,e);if(t.layer.dirty&&!i){this.shadowColor&&(t.layer.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(t.layer.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(t.layer.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(t.layer.context.shadowOffsetY=this.shadowOffsetY);let a=this.width||this.image.naturalWidth,n=this.height||this.image.naturalHeight;t.layer.context.drawImage(this.image,0,0,a,n)}if(this.interactive&&this._isInteractive(t)&&r){let a=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(a,0,0)}}}clear(){super.clear(),this.image=void 0,this._imageMask=void 0}_getMask(t){if(this._imageMask===void 0){let e=this.width||t.naturalWidth,i=this.height||t.naturalHeight,r=document.createElement("canvas");r.width=e,r.height=i;let a=r.getContext("2d");a.imageSmoothingEnabled=!1,a.fillStyle=this._getColorId(),a.fillRect(0,0,e,i),QF(t)||(a.globalCompositeOperation="destination-in",a.drawImage(t,0,0,e,i)),this._imageMask=r}return this._imageMask}},J0=class{constructor(t,e,i,r){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Va("touchevents")&&t instanceof Touch?this.id=t.identifier:this.id=null}},Gg=class extends Sg{constructor(t){if(super(),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:this.getLayer(0)}),Object.defineProperty(this,"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new e_}),Object.defineProperty(this,"_deferredGhostLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(this,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:this._patternCanvas.getContext("2d")}),Object.defineProperty(this,"_realWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_realHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t==null?this.resolution=window.devicePixelRatio:this.resolution=t,this.view.style.position="absolute",this.view.setAttribute("aria-hidden","true"),this.view.appendChild(this._layerDom),this._disposers.push(new Ar(()=>{kt(this._events,(e,i)=>{i.disposer.dispose()}),Z(this.layers,e=>{Wf(e.view),e.exportableView&&Wf(e.exportableView)}),Wf(this._ghostLayer.view),Wf(this._patternCanvas)})),this._disposers.push(Tg(()=>{t==null&&(this.resolution=window.devicePixelRatio)})),Va("touchevents")){let e=i=>{this._dragging.length!==0&&Tf(this._dragging,r=>r.value.shouldCancelTouch()?(i.preventDefault(),!1):!0),this._touchActiveTimeout&&this._delayTouchDeactivate()};this._disposers.push(qi(window,"touchstart",e,{passive:!1})),this._disposers.push(qi(this.view,"touchstart",e,{passive:!1})),this._disposers.push(qi(this.view,"touchmove",()=>{this._touchActiveTimeout&&this._delayTouchDeactivate()},{passive:!0})),this._disposers.push(qi(window,"click",i=>{this._touchActive=!1},{passive:!0})),this._disposers.push(qi(this.view,"click",i=>{window.setTimeout(()=>{this._touchActive=!0,this._delayTouchDeactivate()},100)},{passive:!0}))}Va("wheelevents")&&this._disposers.push(qi(this.view,"wheel",e=>{let i=!1;this._hovering.forEach(r=>{if(r.wheelable)return i=!0,!1}),i&&e.preventDefault()},{passive:!1}))}resetImageArray(){this._ghostLayer.imageArray=void 0}_delayTouchDeactivate(){this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout(()=>{this._touchActive=!1},this.tapToActivateTimeout))}get debugGhostView(){return!!this._ghostLayer.view.parentNode}set debugGhostView(t){t?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}createLinearGradient(t,e,i,r){return this.defaultLayer.context.createLinearGradient(t,e,i,r)}createRadialGradient(t,e,i,r,a,n){return this.defaultLayer.context.createRadialGradient(t,e,i,r,a,n)}createPattern(t,e,i,r,a){return this._patternCanvas.width=r,this._patternCanvas.height=a,this._patternContext.clearRect(0,0,r,a),e.renderDetached(this._patternContext),t.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,i)}makeContainer(){return new O0(this)}makeGraphics(){return new Y0(this)}makeText(t,e){return new zg(this,t,e)}makeTextStyle(){return new K0}makeRadialText(t,e){return new Z0(this,t,e)}makePicture(t){return new q0(this,t)}resizeLayer(t){t.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resizeGhost(){this._ghostLayer.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resize(t,e,i,r){this._realWidth=t,this._realHeight=e,this._calculatedWidth=i,this._calculatedHeight=r,Z(this.layers,a=>{a&&(a.dirty=!0,this.resizeLayer(a))}),this.resizeGhost(),this.view.style.width=i+"px",this.view.style.height=r+"px"}createDetachedLayer(t=!1){let e=document.createElement("canvas"),i=e.getContext("2d",{willReadFrequently:t}),r=new t_(e,i);return e.style.position="absolute",e.style.top="0px",e.style.left="0px",r}getLayerByOrder(t){let e=this.layers,i=e.length;for(let r=0;r<i;r++){let a=e[r];if(a.order==t)return a}}getLayer(t,e=!0){let i=this.getLayerByOrder(t);if(i)return i;let r=this.createDetachedLayer(t==99);r.order=t,r.visible=e,r.view.className="am5-layer-"+t,r.visible&&this.resizeLayer(r);let a=this.layers;a.push(r),a.sort((u,h)=>u.order>h.order?1:u.order<h.order?-1:0);let n=a.length,o=jo(a,r),l;for(let u=o+1;u<n;u++)if(a[u].visible){l=a[u];break}return r.visible&&(l===void 0?this._layerDom.appendChild(r.view):this._layerDom.insertBefore(r.view,l.view)),r}render(t){this._dirtyLayers.length=0,this._deferredGhostLayers=[],Z(this.layers,i=>{i&&i.dirty&&i.visible&&(this._dirtyLayers.push(i),i.clear())}),this._ghostLayer.clear(),t.render({inactive:null,layer:this.defaultLayer});let e=this._deferredGhostLayers;if(e.length&&(e.sort((i,r)=>i-r),Z(e,i=>{t.render({inactive:null,layer:this.defaultLayer},i)})),this._ghostLayer.context.restore(),Z(this.layers,i=>{if(i){let r=i.context;r.beginPath(),r.moveTo(0,0),r.stroke()}}),Z(this._dirtyLayers,i=>{i.context.restore(),i.dirty=!1}),this._hovering.size&&this._lastPointerMoveEvent){let{events:i,target:r,native:a}=this._lastPointerMoveEvent;Z(i,n=>{this._dispatchGlobalMousemove(n,r,a)})}}paintId(t){let e=TU(++this._colorId),i=rt.fromHex(e).toCSS();return this._colorMap[i]=t,i}_removeObject(t){t._colorId!==void 0&&delete this._colorMap[t._colorId]}_adjustBoundingBox(t){let e=this._ghostLayer.margin;return new DOMRect(-e.left,-e.top,t.width+e.left+e.right,t.height+e.top+e.bottom)}getEvent(t,e=!0){let i=this.view.getBoundingClientRect(),r=t.clientX||0,a=t.clientY||0,n=this._calculatedWidth/this._realWidth,o=this._calculatedHeight/this._realHeight,l={x:r-i.left,y:a-i.top},u={x:(r-(e?i.left:0))*n,y:(a-(e?i.top:0))*o};return new J0(t,l,u,this._adjustBoundingBox(i))}_getHitTarget(t,e,i){if(e.width===0||e.height===0||t.x<e.left||t.x>e.right||t.y<e.top||t.y>e.bottom||!i||!this._layerDom.contains(i))return;let r=this._ghostLayer.getImageData(t,e);if(r.data[0]===0&&r.data[1]===0&&r.data[2]===0)return!1;let a=rt.fromRGB(r.data[0],r.data[1],r.data[2]).toCSS();return this._colorMap[a]}getObjectAtPoint(t){let e=this._ghostLayer.getImageArray(t);if(e[0]===0&&e[1]===0&&e[2]===0)return;let i=rt.fromRGB(e[0],e[1],e[2]).toCSS();return this._colorMap[i]}_withEvents(t,e){let i=this._events[t];if(i!==void 0){i.dispatching=!0;try{e(i)}finally{i.dispatching=!1,i.cleanup&&(i.cleanup=!1,Wh(i.callbacks,r=>!r.disposed),i.callbacks.length===0&&(i.disposer.dispose(),delete this._events[t]))}}}_dispatchEventAll(t,e){this.interactionsEnabled&&this._withEvents(t,i=>{Z(i.callbacks,r=>{r.disposed||r.callback.call(r.context,e)})})}_dispatchEvent(t,e,i){if(!this.interactionsEnabled)return!1;let r=!1;return this._withEvents(t,a=>{Z(a.callbacks,n=>{!n.disposed&&n.object===e&&(n.callback.call(n.context,i),r=!0)})}),r}_dispatchMousedown(t,e){let i=t.button;if(i!=0&&i!=2&&i!=1&&i!==void 0)return;let r=this.getEvent(t),a=this._getHitTarget(r.originalPoint,r.bbox,e);if(a){let n=r.id,o=!1;Wg(a,l=>{let u={id:n,value:l};return this._mousedown.push(u),!o&&this._dispatchEvent("pointerdown",l,r)&&(o=!0,this._dragging.some(c=>c.value===l&&c.id===n)||this._dragging.push(u)),!0})}}_dispatchGlobalMousemove(t,e,i){let r=this.getEvent(t),a=this._getHitTarget(r.originalPoint,r.bbox,e);r.native=i,a?(this._hovering.forEach(n=>{n.contains(a)||(this._hovering.delete(n),n.cursorOverStyle&&Ef(document.body,"cursor",n._replacedCursorStyle),this._dispatchEvent("pointerout",n,r))}),r.native&&Wg(a,n=>(this._hovering.has(n)||(this._hovering.add(n),n.cursorOverStyle&&(n._replacedCursorStyle=bF(document.body,"cursor"),Ef(document.body,"cursor",n.cursorOverStyle)),this._dispatchEvent("pointerover",n,r)),!0))):(this._hovering.forEach(n=>{n.cursorOverStyle&&Ef(document.body,"cursor",n._replacedCursorStyle),this._dispatchEvent("pointerout",n,r)}),this._hovering.clear()),this._dispatchEventAll("globalpointermove",r)}removeHovering(t){this._hovering.delete(t),t.cursorOverStyle&&Ef(document.body,"cursor",t._replacedCursorStyle)}_dispatchGlobalMouseup(t,e){let i=this.getEvent(t);i.native=e,this._dispatchEventAll("globalpointerup",i)}_dispatchDragMove(t){if(this._dragging.length!==0){let e=this.getEvent(t),i=e.id;this._dragging.forEach(r=>{r.id===i&&this._dispatchEvent("pointermove",r.value,e)})}}_dispatchDragEnd(t,e){let i=t.button,r;if(i==0||i===void 0)r="click";else if(i==2)r="rightclick";else if(i==1)r="middleclick";else return;let a=this.getEvent(t),n=a.id;if(this._mousedown.length!==0){let o=this._getHitTarget(a.originalPoint,a.bbox,e);o&&this._mousedown.forEach(l=>{l.id===n&&l.value.contains(o)&&this._dispatchEvent(r,l.value,a)}),this._mousedown.length=0}this._dragging.length!==0&&(this._dragging.forEach(o=>{o.id===n&&this._dispatchEvent("pointerup",o.value,a)}),this._dragging.length=0)}_dispatchDoubleClick(t,e){let i=this.getEvent(t),r=this._getHitTarget(i.originalPoint,i.bbox,e);r&&Wg(r,a=>!this._dispatchEvent("dblclick",a,i))}_dispatchWheel(t,e){let i=this.getEvent(t),r=this._getHitTarget(i.originalPoint,i.bbox,e);r&&Wg(r,a=>!this._dispatchEvent("wheel",a,i))}_makeSharedEvent(t,e){if(this._listeners[t]===void 0){let i=e();this._listeners[t]=new Ou(()=>{delete this._listeners[t],i.dispose()})}return this._listeners[t].increment()}_onPointerEvent(t,e){let i=!1,r=null;function a(){r=null,i=!1}return new Br([new Ar(()=>{r!==null&&clearTimeout(r),a()}),qi(this.view,Og(t),n=>{i=!0,r!==null&&clearTimeout(r),r=window.setTimeout(a,0)}),DU(window,t,(n,o)=>{r!==null&&(clearTimeout(r),r=null),e(n,o,i),i=!1})])}_initEvent(t){switch(t){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",()=>{let e=(i,r,a)=>{this._lastPointerMoveEvent={events:i,target:r,native:a},Z(i,n=>{this._dispatchGlobalMousemove(n,r,a)})};return new Br([this._onPointerEvent("pointerdown",e),this._onPointerEvent("pointermove",e)])});case"globalpointerup":return this._makeSharedEvent("pointerup",()=>{let e=this._onPointerEvent("pointerup",(r,a,n)=>{Z(r,o=>{this._dispatchGlobalMouseup(o,n)}),this._lastPointerMoveEvent={events:r,target:a,native:n}}),i=this._onPointerEvent("pointercancel",(r,a,n)=>{Z(r,o=>{this._dispatchGlobalMouseup(o,n)}),this._lastPointerMoveEvent={events:r,target:a,native:n}});return new Ar(()=>{e.dispose(),i.dispose()})});case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",()=>{let e=this._onPointerEvent("pointerdown",(n,o)=>{Z(n,l=>{this._dispatchMousedown(l,o)})}),i=this._onPointerEvent("pointermove",n=>{Z(n,o=>{this._dispatchDragMove(o)})}),r=this._onPointerEvent("pointerup",(n,o)=>{Z(n,l=>{this._dispatchDragEnd(l,o)})}),a=this._onPointerEvent("pointercancel",(n,o)=>{Z(n,l=>{this._dispatchDragEnd(l,o)})});return new Ar(()=>{e.dispose(),i.dispose(),r.dispose(),a.dispose()})});case"dblclick":return this._makeSharedEvent("dblclick",()=>this._onPointerEvent("dblclick",(e,i)=>{Z(e,r=>{this._dispatchDoubleClick(r,i)})}));case"wheel":return this._makeSharedEvent("wheel",()=>qi(this.view,Og("wheel"),e=>{this._dispatchWheel(e,s0(e))},{passive:!1}))}}_addEvent(t,e,i,r){let a=this._events[e];a===void 0&&(a=this._events[e]={disposer:this._initEvent(e),callbacks:[],dispatching:!1,cleanup:!1});let n={object:t,context:r,callback:i,disposed:!1};return a.callbacks.push(n),new Ar(()=>{n.disposed=!0,a.dispatching?a.cleanup=!0:(Vr(a.callbacks,n),a.callbacks.length===0&&(a.disposer.dispose(),delete this._events[e]))})}getCanvas(t,e){this.render(t),e||(e={});let i=this.resolution,r=Math.floor(this._calculatedWidth*this.resolution),a=Math.floor(this._calculatedHeight*this.resolution);if(e.minWidth&&e.minWidth>r){let d=e.minWidth/r;d>i&&(i=d*this.resolution)}if(e.minHeight&&e.minHeight>a){let d=e.minHeight/a;d>i&&(i=d*this.resolution)}if(e.maxWidth&&e.maxWidth<r){let d=e.maxWidth/r;d<i&&(i=d*this.resolution)}if(e.maxHeight&&e.maxHeight>a){let d=e.maxHeight/a;d<i&&(i=d*this.resolution)}e.maintainPixelRatio&&(i/=this.resolution);let n=[],o=!1,l=document.createElement("canvas");i!=this.resolution&&(o=!0,r=r*i/this.resolution,a=a*i/this.resolution),l.width=r,l.height=a,l.style.position="fixed",l.style.top="-10000px",this.view.appendChild(l),n.push(l);let u=l.getContext("2d"),h=0,c=0,A=!1;return Z(this.layers,d=>{if(d&&d.visible&&(d.tainted||o)){A=!0,d.exportableView=d.view,d.exportableContext=d.context,d.view=document.createElement("canvas"),d.view.style.position="fixed",d.view.style.top="-10000px",this.view.appendChild(d.view),n.push(d.view);let f=0,p=0;d.margin&&(f+=d.margin.left||0+d.margin.right||0,p+=d.margin.top||0+d.margin.bottom||0),d.view.width=r+f,d.view.height=a+p,d.context=d.view.getContext("2d"),d.dirty=!0,d.scale=i}}),A&&(this._omitTainted=!0,this.render(t),this._omitTainted=!1),Z(this.layers,d=>{if(d&&d.visible){let f=0,p=0;d.margin&&(f=-(d.margin.left||0)*this.resolution,p=-(d.margin.top||0)*this.resolution),u.drawImage(d.view,f,p),d.exportableView&&(d.view=d.exportableView,d.exportableView=void 0),d.exportableContext&&(d.context=d.exportableContext,d.exportableContext=void 0),h<d.view.clientWidth&&(h=d.view.clientWidth),c<d.view.clientHeight&&(c=d.view.clientHeight),d.scale=void 0}}),l.style.width=h+"px",l.style.height=c+"px",Z(n,d=>{d.style.position="",d.style.top="",this.view.removeChild(d)}),l}},e_=class{constructor(){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"imageArray",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}resize(t,e,i,r,a){this._resolution=a,t+=this.margin.left+this.margin.right,e+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,r+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(t*a),this._height=Math.floor(e*a),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=r+"px"}getImageData(t,e){return this.context.getImageData(Math.round((t.x-e.left)/e.width*this._width),Math.round((t.y-e.top)/e.height*this._height),1,1)}getImageArray(t){this.imageArray||(this.imageArray=this.context.getImageData(0,0,this._width,this._height).data);let e=this.imageArray,i=Math.round(t.x*this._resolution),a=(Math.round(t.y*this._resolution)*this._width+i)*4;return[e[a],e[a+1],e[a+2],e[a+3]]}setMargin(t){this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,Z(t,e=>{e.margin&&(this.margin.left=Math.max(this.margin.left,e.margin.left),this.margin.right=Math.max(this.margin.right,e.margin.right),this.margin.top=Math.max(this.margin.top,e.margin.top),this.margin.bottom=Math.max(this.margin.bottom,e.margin.bottom))})}clear(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}},t_=class{constructor(t,e){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=t,this.context=e}resize(t,e,i,r,a){this.width!=null&&(t=this.width,i=this.width),this.height!=null&&(e=this.height,r=this.height),this.margin?(t+=this.margin.left+this.margin.right,e+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,r+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(t*a),this._height=Math.floor(e*a),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=r+"px"}clear(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}};function jF(s,t){s==null?requestAnimationFrame(t):setTimeout(()=>{requestAnimationFrame(t)},1e3/s)}var qh=class s{constructor(t,e={},i){if(Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyAnimation",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new un}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:jg.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:Hg}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:Mu.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:Zh.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:Qg.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:Wo.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:Xo.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:Ln.new(this,{})}),Object.defineProperty(this,"_paused",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_systemTooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=e,e.accessible==!1&&(this._a11yD=!0),e.useSafeResolution==null&&(e.useSafeResolution=!0);let r;e.useSafeResolution&&(r=vF()),this._renderer=new Gg(r);let a;if(t instanceof HTMLElement?a=t:a=document.getElementById(t),Z(Qa.rootElements,l=>{if(l.dom===a)throw new Error("You cannot have multiple Roots on the same DOM node")}),this.interfaceColors=Yh.new(this,{}),a===null)throw new Error("Could not find HTML element with id `"+t+"`");this.dom=a;let n=document.createElement("div");n.style.position="relative",n.style.width="100%",n.style.height="100%",a.appendChild(n);let o=e.tooltipContainerBounds;o&&(this._tooltipContainerSettings=o),this._inner=n,this._updateComputedStyles(),Qa.rootElements.push(this)}static new(t,e){let i=new s(t,e,!0);return i._init(),i}moveDOM(t){let e;if(t instanceof HTMLElement?e=t:e=document.getElementById(t),e){for(;this.dom.childNodes.length>0;)e.appendChild(this.dom.childNodes[0]);this.dom=e,this._initResizeSensor(),this.resize()}}_handleLogo(){if(this._logo){let t=this.dom.offsetWidth,e=this.dom.offsetHeight;t<=150||e<=60?this._logo.hide():this._logo.show()}}_showBranding(){if(!this._logo){let t=this.tooltipContainer.children.push(Re.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:Ot(100),centerY:be,tooltipY:10,tooltipText:"Created using amCharts 5",tooltipX:be,cursorOverStyle:"pointer",background:fr.new(this,{fill:Ys(4671320),fillOpacity:0,tooltipY:5})}));t.set("tooltip",this.systemTooltip),t.events.on("click",()=>{window.open("https://www.amcharts.com/","_blank")}),t.states.create("hover",{}),t.children.push(pt.new(this,{stroke:Ys(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"})).states.create("hover",{stroke:Ys(3976191)}),t.children.push(pt.new(this,{stroke:Ys(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"})).states.create("hover",{stroke:Ys(4671320)}),this._logo=t,this._handleLogo()}}_getRealSize(){return this.dom.getBoundingClientRect()}_getCalculatedSize(t){return this._settings.calculateSize?this._settings.calculateSize(t):{width:t.width,height:t.height}}_init(){let t=this._settings;t.accessible!==!1&&(t.focusable&&(this._inner.setAttribute("focusable","true"),this._inner.setAttribute("tabindex",this.tabindex+"")),t.ariaLabel&&this._inner.setAttribute("aria-label",t.ariaLabel),t.role&&this._inner.setAttribute("role",t.role));let e=this._renderer,i=this._getRealSize(),r=this._getCalculatedSize(i),a=Math.floor(r.width),n=Math.floor(r.height),o=Math.floor(i.width),l=Math.floor(i.height),u=Re.new(this,{visible:!0,width:a,height:n});this._rootContainer=u,this._rootContainer._defaultThemes.push(Xg.new(this));let h=u.children.push(Re.new(this,{visible:!0,width:be,height:be}));this.container=h,e.resize(o,l,a,n),this._inner.appendChild(e.view),this._initResizeSensor();let c=document.createElement("div");if(this._htmlElementContainer=c,c.className="am5-html-container",c.style.position="absolute",c.style.pointerEvents="none",this._tooltipContainerSettings||(c.style.overflow="hidden"),this._inner.appendChild(c),this._a11yD!==!0){let A=document.createElement("div");A.className="am5-reader-container",A.setAttribute("role","alert"),A.style.position="absolute",A.style.width="1px",A.style.height="1px",A.style.overflow="hidden",A.style.clip="rect(1px, 1px, 1px, 1px)",this._readerAlertElement=A,this._inner.appendChild(this._readerAlertElement);let d=document.createElement("div");d.className="am5-focus-container",d.style.position="absolute",d.style.pointerEvents="none",d.style.top="0px",d.style.left="0px",d.style.overflow="hidden",d.style.width=a+"px",d.style.height=n+"px",d.setAttribute("role","graphics-document"),Iu(d,!1),this._focusElementContainer=d,this._inner.appendChild(this._focusElementContainer);let f=document.createElement("div");this._tooltipElementContainer=f,f.className="am5-tooltip-container",this._inner.appendChild(f),Va("keyboardevents")&&(this._disposers.push(qi(window,"keydown",p=>{let m=kl(p);m=="Shift"?this._isShift=!0:m=="Tab"&&(this._isShift=p.shiftKey)})),this._disposers.push(qi(window,"keyup",p=>{kl(p)=="Shift"&&(this._isShift=!1)})),this._disposers.push(qi(d,"click",()=>{let p=this._focusedSprite;if(p){let m=p.get("clickAnnounceText","");m!==""&&this.readerAlert(m);let g=e.getEvent(new MouseEvent("click"));p.events.dispatch("click",{type:"click",originalEvent:g.event,point:g.point,simulated:!0,target:p})}})),this._disposers.push(qi(d,"keydown",p=>{let m=this._focusedSprite;if(m){p.key=="Escape"&&(gF(),this._focusedSprite=void 0);let g=0,y=0,x=kl(p);switch(x){case"Enter":case" ":let C=m.get("clickAnnounceText","");if(C!==""&&this.readerAlert(C),x==" "&&m.get("role")!="checkbox")return;p.preventDefault();let S=e.getEvent(new MouseEvent("mouse"));m.events.dispatch("click",{type:"click",originalEvent:S.event,point:S.point,simulated:!0,target:m});return;case"ArrowLeft":g=-6;break;case"ArrowRight":g=6;break;case"ArrowUp":y=-6;break;case"ArrowDown":y=6;break;default:return}if(g!=0||y!=0){if(p.preventDefault(),!m.isDragging()){this._keyboardDragPoint={x:0,y:0};let P=e.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));P.point={x:0,y:0},m.events.isEnabled("pointerdown")&&m.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:P.event,point:P.point,simulated:!0,target:m})}let C=this._keyboardDragPoint;C.x+=g,C.y+=y;let S=e.getEvent(new MouseEvent("mousemove",{clientX:C.x,clientY:C.y}),!1);m.events.isEnabled("globalpointermove")&&m.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:S.event,point:S.point,simulated:!0,target:m})}}})),this._disposers.push(qi(d,"keyup",p=>{if(this._focusedSprite){let m=this._focusedSprite,g=kl(p);switch(g){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":if(m.isDragging()){let x=this._keyboardDragPoint,C=e.getEvent(new MouseEvent("mouseup",{clientX:x.x,clientY:x.y}));m.events.isEnabled("globalpointerup")&&m.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:C.event,point:C.point,simulated:!0,target:m}),this._keyboardDragPoint=void 0;return}else if(m.get("focusableGroup")){let x=m.get("focusableGroup"),C=this._tabindexes.filter(F=>!!(F.get("focusableGroup")==x&&F.getPrivate("focusable")!==!1&&F.isVisibleDeep())),S=C.indexOf(m),P=C.length-1;S+=g=="ArrowRight"||g=="ArrowDown"?1:-1,S<0?S=P:S>P&&(S=0),yF(C[S].getPrivate("focusElement").dom)}break;case"Tab":let y=m.get("focusableGroup");if(y&&this._isShift){this._focusNext(m.getPrivate("focusElement").dom,-1,y);return}break}}})))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}get systemTooltip(){if(!this._systemTooltip){let t=ks.new(this,{themeTags:["system"]});this._systemTooltip=t}return this._systemTooltip}_initResizeSensor(){this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new Ng(this.dom,()=>{this.autoResize&&this.resize()}),this._disposers.push(this._resizeSensorDisposer)}resize(){let t=this._getRealSize(),e=this._getCalculatedSize(t),i=Math.floor(e.width),r=Math.floor(e.height);if(i>0&&r>0){let a=Math.floor(t.width),n=Math.floor(t.height),o=this._htmlElementContainer;if(o.style.width=i+"px",o.style.height=r+"px",this._a11yD!==!0){let u=this._focusElementContainer;u.style.width=i+"px",u.style.height=r+"px"}this._renderer.resize(a,n,i,r);let l=this._rootContainer;l.setPrivate("width",i),l.setPrivate("height",r),this._render(),this._handleLogo()}}_render(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}_runTickers(t){Z(this._tickers,e=>{e(t)})}_runAnimations(t){let e=0;return Wh(this._animations,i=>{let r=i._runAnimation(t);return r===Ml.Stopped?!1:(r===Ml.Playing&&++e,!0)}),this._isDirtyAnimation=!1,e===0}_runDirties(){let t={};for(;this._isDirtyParents;)this._isDirtyParents=!1,sr(this._dirtyParents).forEach(n=>{let o=this._dirtyParents[n];delete this._dirtyParents[n],o.isDisposed()||(t[o.uid]=o,o._prepareChildren())});sr(t).forEach(n=>{t[n]._updateChildren()});let e=[];sr(this._dirty).forEach(n=>{let o=this._dirty[n];o.isDisposed()?delete this._dirty[o.uid]:(e.push(o),o._beforeChanged())}),e.forEach(n=>{n._changed(),delete this._dirty[n.uid],n._clearDirty()}),this._isDirty=!1;let i={},r=[];sr(this._dirtyBounds).forEach(n=>{let o=this._dirtyBounds[n];delete this._dirtyBounds[n],o.isDisposed()||(i[o.uid]=o.depth(),r.push(o))}),this._positionHTMLElements(),r.sort((n,o)=>Ha(i[o.uid],i[n.uid])),r.forEach(n=>{n._updateBounds()});let a=this._dirtyPositions;sr(a).forEach(n=>{let o=a[n];delete a[n],o.isDisposed()||o._updatePosition()}),e.forEach(n=>{n._afterChanged()}),sr(t).forEach(n=>{t[n]._childrenPrep=!1,t[n]._childrenUpdt=!1})}_renderFrame(t){if(this._updateTick){this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:t}),this._checkComputedStyles(),this._runTickers(t);let e=this._runAnimations(t);return this._runDirties(),this._render(),this._renderer.resetImageArray(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:t}),this._tickers.length===0&&e&&!this._isDirtyAnimation&&!this._isDirty}else return!0}_runTicker(t,e){this.isDisposed()||(this.animationTime=t,this._renderFrame(t)?(this._ticker=null,this.animationTime=null):this._paused||(e?this._ticker:jF(this.fps,this._ticker)))}_runTickerNow(t=1e4){if(!this.isDisposed()){let e=performance.now()+t;for(;;){let i=performance.now();if(i>=e){this.animationTime=null;break}if(this.animationTime=i,this._renderFrame(i)){this.animationTime=null;break}}}}_startTicker(){this._ticker===null&&(this.animationTime=null,this._ticker=t=>{this._runTicker(t)},jF(this.fps,this._ticker))}get updateTick(){return this._updateTick}set updateTick(t){this._updateTick=t,t&&this._startTicker()}_addDirtyEntity(t){this._isDirty=!0,this._dirty[t.uid]===void 0&&(this._dirty[t.uid]=t),this._startTicker()}_addDirtyParent(t){this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[t.uid]===void 0&&(this._dirtyParents[t.uid]=t),this._startTicker()}_addDirtyBounds(t){this._isDirty=!0,this._dirtyBounds[t.uid]===void 0&&(this._dirtyBounds[t.uid]=t),this._startTicker()}_addDirtyPosition(t){this._isDirty=!0,this._dirtyPositions[t.uid]===void 0&&(this._dirtyPositions[t.uid]=t),this._startTicker()}_addAnimation(t){this._isDirtyAnimation=!0,this._animations.indexOf(t)===-1&&this._animations.push(t),this._startTicker()}_markDirty(){this._isDirty=!0}_markDirtyRedraw(){this.events.once("frameended",()=>{this._isDirty=!0,this._startTicker()})}eachFrame(t){return this._tickers.push(t),this._startTicker(),new Ar(()=>{Vr(this._tickers,t)})}markDirtyGlobal(t){t||(t=this.container),t.walkChildren(e=>{e instanceof Re&&this.markDirtyGlobal(e),e.markDirty(),e.markDirtyBounds()})}width(){return Math.floor(this._getCalculatedSize(this._getRealSize()).width)}height(){return Math.floor(this._getCalculatedSize(this._getRealSize()).height)}dispose(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),Z(this._disposers,t=>{t.dispose()}),this._inner&&mF(this._inner),fs(Qa.rootElements,this))}isDisposed(){return this._isDisposed}readerAlert(t){if(this._a11yD!==!0){let e=this._readerAlertElement;t=a0(t),e.innerHTML==t&&(e.innerHTML=""),e.innerHTML=t}}setThemes(t){this._rootContainer.set("themes",t);let e=this.tooltipContainer;e&&e._applyThemes();let i=this.interfaceColors;i&&i._applyThemes()}_addTooltip(){if(!this.tooltipContainer){let t=this._tooltipContainerSettings,e=this._rootContainer.children.push(Re.new(this,{position:"absolute",isMeasured:!1,width:be,height:be,layer:t?35:30,layerMargin:t||void 0}));this.tooltipContainer=e;let i=ks.new(this,{});this.container.set("tooltip",i),i.hide(0),this._tooltip=i}}_registerTabindexOrder(t){this._a11yD!=!0&&(t.get("focusable")?Tu(this._tabindexes,t):fs(this._tabindexes,t),this._invalidateTabindexes())}_unregisterTabindexOrder(t){this._a11yD!=!0&&(fs(this._tabindexes,t),this._invalidateTabindexes())}_invalidateTabindexes(){if(this._a11yD==!0)return;this._tabindexes.sort((e,i)=>{let r=e.get("tabindexOrder",0),a=i.get("tabindexOrder",0);return r==a?0:r>a?1:-1});let t=[];Z(this._tabindexes,(e,i)=>{e.getPrivate("focusElement")?this._moveFocusElement(i,e):this._makeFocusElement(i,e);let r=e.get("focusableGroup");r&&e.getPrivate("focusable")!==!1&&(t.indexOf(r)!==-1?e.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):t.push(r))})}_updateCurrentFocus(){this._a11yD!=!0&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}_decorateFocusElement(t,e){if(this._a11yD==!0||(e||(e=t.getPrivate("focusElement").dom),!e))return;let i=t.get("role");i?e.setAttribute("role",i):e.removeAttribute("role");let r=t.get("ariaLabel");if(r){let p=zo(t,r);e.setAttribute("aria-label",p)}else e.removeAttribute("aria-label");let a=t.get("ariaLive");a?e.setAttribute("aria-live",a):e.removeAttribute("aria-live");let n=t.get("ariaChecked");n!=null&&i&&["checkbox","option","radio","menuitemcheckbox","menuitemradio","treeitem"].indexOf(i)!==-1?e.setAttribute("aria-checked",n?"true":"false"):e.removeAttribute("aria-checked");let o=t.get("ariaCurrent");o!=null?e.setAttribute("aria-current",o):e.removeAttribute("aria-current");let l=t.get("ariaSelected");l!=null&&i&&["gridcell","option","row","tab","columnheader","rowheader","treeitem"].indexOf(i)!==-1?e.setAttribute("aria-selected",l?"true":"false"):e.removeAttribute("aria-selected"),t.get("ariaHidden")?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden");let u=t.get("ariaOrientation");u?e.setAttribute("aria-orientation",u):e.removeAttribute("aria-orientation");let h=t.get("ariaValueNow");h?e.setAttribute("aria-valuenow",h):e.removeAttribute("aria-valuenow");let c=t.get("ariaValueMin");c?e.setAttribute("aria-valuemin",c):e.removeAttribute("aria-valuemin");let A=t.get("ariaValueMax");A?e.setAttribute("aria-valuemax",A):e.removeAttribute("aria-valuemax");let d=t.get("ariaValueText");d?e.setAttribute("aria-valuetext",d):e.removeAttribute("aria-valuetext");let f=t.get("ariaControls");f?e.setAttribute("aria-controls",f):e.removeAttribute("aria-controls"),t.get("visible")&&t.get("opacity")!==0&&t.get("role")!="tooltip"&&!t.isHidden()&&t.getPrivate("focusable")!==!1&&(t.height()||t.width())?(e.getAttribute("tabindex")!="-1"&&e.setAttribute("tabindex",""+this.tabindex),e.removeAttribute("aria-hidden")):(e.removeAttribute("tabindex"),e.setAttribute("aria-hidden","true"))}_makeFocusElement(t,e){if(e.getPrivate("focusElement")||this._a11yD==!0)return;let i=document.createElement("div");e.get("role")!="tooltip"&&(i.tabIndex=this.tabindex),i.style.position="absolute",Iu(i,!1);let r=[];e.setPrivate("focusElement",{dom:i,disposers:r}),this._decorateFocusElement(e),r.push(qi(i,"focus",a=>{this._handleFocus(a)})),r.push(qi(i,"blur",a=>{this._handleBlur(a)})),this._moveFocusElement(t,e)}_removeFocusElement(t){if(this._a11yD==!0)return;fs(this._tabindexes,t);let e=t.getPrivate("focusElement");e&&(this._focusElementContainer.removeChild(e.dom),Z(e.disposers,r=>{r.dispose()}))}_hideFocusElement(t){if(this._a11yD==!0)return;let e=t.getPrivate("focusElement");e.dom.style.display="none"}_moveFocusElement(t,e){if(this._a11yD==!0)return;let i=this._focusElementContainer,r=e.getPrivate("focusElement").dom;if(r===this._focusElementContainer.children[t])return;let a=this._focusElementContainer.children[t+1];a?i.insertBefore(r,a):i.append(r)}_positionFocusElement(t){if(this._a11yD==!0||t==null)return;let e=t.globalBounds(),i=e.right==e.left?t.width():e.right-e.left,r=e.top==e.bottom?t.height():e.bottom-e.top,a=this._settings.focusPadding!==void 0?this._settings.focusPadding:2,n=e.left-a,o=e.top-a;i<0&&(n+=i,i=Math.abs(i)),r<0&&(o+=r,r=Math.abs(r));let l=t.getPrivate("focusElement").dom;l.style.top=o+"px",l.style.left=n+"px",l.style.width=i+a*2+"px",l.style.height=r+a*2+"px"}_getSpriteByFocusElement(t){let e;return Tf(this._tabindexes,(i,r)=>i.getPrivate("focusElement").dom===t?(e=i,!1):!0),e}_handleFocus(t){if(this._a11yD==!0)return;let e=this._getSpriteByFocusElement(t.target);if(e){if(!e.isVisibleDeep()){this._focusNext(t.target,this._isShift?-1:1);return}this._positionFocusElement(e),this._focusedSprite=e,e.events.isEnabled("focus")&&e.events.dispatch("focus",{type:"focus",originalEvent:t,target:e})}}_focusNext(t,e,i){if(this._a11yD==!0)return;let r=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(","))),a=r.indexOf(t)+e;a<0?a=r.length-1:a>=r.length&&(a=0);let n=r[a];if(i&&e==-1){let o=this._getSpriteByFocusElement(n);if(o&&o.get("focusableGroup")==i){this._focusNext(n,e);return}}n.focus()}_handleBlur(t){if(this._a11yD==!0)return;let e=this._focusedSprite;e&&!e.isDisposed()&&e.events.isEnabled("blur")&&e.events.dispatch("blur",{type:"blur",originalEvent:t,target:e}),this._focusedSprite=void 0}updateTooltip(t){if(this._a11yD==!0)return;let e=a0(t._getText()),i=t.getPrivate("tooltipElement");t.get("role")=="tooltip"&&e!=""?(i||(i=this._makeTooltipElement(t)),i.innerHTML!=e&&(i.innerHTML=e),i.setAttribute("aria-hidden",t.isVisibleDeep()?"false":"true")):i&&(i.remove(),t.removePrivate("tooltipElement"))}_makeTooltipElement(t){let e=this._tooltipElementContainer,i=document.createElement("div");return i.style.position="absolute",i.style.width="1px",i.style.height="1px",i.style.overflow="hidden",i.style.clip="rect(1px, 1px, 1px, 1px)",Iu(i,!1),this._decorateFocusElement(t,i),e.append(i),t.setPrivate("tooltipElement",i),i}_removeTooltipElement(t){if(this._a11yD==!0)return;let e=t.getPrivate("tooltipElement");if(e){let i=e.parentElement;i&&i.removeChild(e)}}_invalidateAccessibility(t){if(this._a11yD==!0)return;this._focusElementDirty=!0;let e=t.getPrivate("focusElement");t.get("focusable")?e&&(this._decorateFocusElement(t),this._positionFocusElement(t)):e&&this._removeFocusElement(t)}focused(t){return this._focusedSprite===t}documentPointToRoot(t){let e=this._getRealSize(),i=this._getCalculatedSize(e),r=i.width/e.width,a=i.height/e.height;return{x:(t.x-e.left)*r,y:(t.y-e.top)*a}}rootPointToDocument(t){let e=this._getRealSize(),i=this._getCalculatedSize(e),r=i.width/e.width,a=i.height/e.height;return{x:t.x/r+e.left,y:t.y/a+e.top}}addDisposer(t){return this._disposers.push(t),t}_updateComputedStyles(){let t=window.getComputedStyle(this.dom),e="";kt(t,(r,a)=>{ro(r)&&r.match(/^font/)&&(e+=a)});let i=e!=this._fontHash;return i&&(this._fontHash=e),i}_checkComputedStyles(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}_invalidateLabelBounds(t){t instanceof Re?t.children.each(e=>{this._invalidateLabelBounds(e)}):t instanceof In&&t.markDirtyBounds()}_hasLicense(){for(let t=0;t<Qa.licenses.length;t++)if(Qa.licenses[t].match(/^AM5C.{5,}/i))return!0;return!1}_licenseApplied(){this._logo&&this._logo.set("forceHidden",!0)}get debugGhostView(){return this._renderer.debugGhostView}set debugGhostView(t){this._renderer.debugGhostView=t}set tapToActivate(t){this._renderer.tapToActivate=t}get tapToActivate(){return this._renderer.tapToActivate}set tapToActivateTimeout(t){this._renderer.tapToActivateTimeout=t}get tapToActivateTimeout(){return this._renderer.tapToActivateTimeout}_makeHTMLElement(t){let e=this._htmlElementContainer,i=document.createElement("div");t.setPrivate("htmlElement",i);let r=!1,a;t._walkParents(o=>{if(o.get("verticalScrollbar"))return r=!0,a=o,!1});let n;return r&&(n=document.createElement("div"),t.setPrivate("htmlElementWrapper",n),t.setPrivate("wrapperContainer",a),n.style.position="absolute",n.style.overflow="hidden",n.style.boxSizing="border-box",n.style.top="0px",n.style.left="0px",n.style.width="100%",n.style.height="100%",a.events.on("boundschanged",()=>{this._positionHTMLElement(t)})),i.style.position="absolute",i.style.overflow="auto",i.style.boxSizing="border-box",Iu(i,t.get("interactive",!1)),t.events.isEnabled("click")&&(Iu(i,!0),this._disposers.push(qi(i,"click",o=>{let l=this._renderer.getEvent(o);t.events.dispatch("click",{type:"click",originalEvent:l.event,point:l.point,simulated:!1,target:t})}))),this._positionHTMLElement(t),r?(n.append(i),e.append(n)):e.append(i),Tu(this._htmlEnabledContainers,t),i}_positionHTMLElements(){Z(this._htmlEnabledContainers,t=>{this._positionHTMLElement(t)})}_positionHTMLElement(t){let e=t.getPrivate("htmlElementWrapper");if(e){let r=t.getPrivate("wrapperContainer");if(r){let a=r.globalBounds();e.style.clipPath="rect("+a.top+"px "+a.right+"px "+a.bottom+"px "+a.left+"px)"}}let i=t.getPrivate("htmlElement");if(i){Z(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],x=>{let C=t.get(x);C?i.style[x]=C+"px":i.style[x]=""}),Z(["fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration"],x=>{let C=t.get(x);C?x=="fontSize"&&!ro(C)?i.style[x]=C+"px":i.style[x]=C+"":i.style[x]=""});let n=t.compositeScale()||1,o=t.compositeRotation()||0;i.style.transform="",i.style.transformOrigin="";let l=t.compositeOpacity();setTimeout(()=>{i.style.opacity=l+""},10);let u=t.isVisibleDeep();u&&(i.style.display="block");let h={x:t.x()+t.get("dx",0),y:t.y()+t.get("dy",0)};t.parent&&(h=t.parent.toGlobal(h)),i.style.top=h.y+"px",i.style.left=h.x+"px";let c=t.get("width"),A=t.get("height"),d=0,f=0;if(c&&(d=t.width()),A&&(f=t.height()),!c||!A){i.style.position="fixed",i.style.width="",i.style.height="";let x=i.getBoundingClientRect();i.style.position="absolute",c||(d=x.width),A||(f=x.height);let C=d/n,S=f/n,P=t.get("centerX",0),F=t.get("centerY",0),O=0,$=0,L=0,E=0;P instanceof yt?(O=-P.value*C,$=(1-P.value)*C):(O=-P,$=C-P),F instanceof yt?(L=-F.value*S,E=(1-F.value)*S):(L=-F,E=S-F),t._localBounds={left:O,right:$,top:L,bottom:E};let D=t._adjustedLocalBounds,H=t._display.getAdjustedBounds(t._localBounds);t._adjustedLocalBounds=H,(D.left!==H.left||D.right!==H.right||D.top!==H.top||D.bottom!==H.bottom)&&t.markDirtyBounds()}d>0&&(i.style.minWidth=d+"px"),f>0&&(i.style.minHeight=f+"px"),(!u||l==0)&&(i.style.display="none");let p=t.get("centerX",0),m=e0(p)?p.percent+"%":p+"px",g=t.get("centerY",0),y=e0(g)?g.percent+"%":g+"px";(p||g)&&(i.style.transform="translate(-"+m+", -"+y+")"+i.style.transform),n!=1&&(i.style.transform+="scale("+n+")"),o!=0&&(i.style.transform+=" rotate("+o+"deg)"),i.style.transform!=""&&(i.style.transformOrigin=m+" "+y)}}_setHTMLContent(t,e){let i=t.getPrivate("htmlElement");i||(i=this._makeHTMLElement(t),this.autoResize||this.resize()),i.innerHTML!=e&&(i.innerHTML=e)}_removeHTMLContent(t){let e=t.getPrivate("htmlElementWrapper"),i=t.getPrivate("htmlElement");e?(this._htmlElementContainer.removeChild(e),t.removePrivate("htmlElement"),t.removePrivate("htmlElementWrapper"),t.removePrivate("wrapperContainer")):i&&(this._htmlElementContainer.removeChild(i),t.removePrivate("htmlElement"),t.removePrivate("wrapperContainer")),fs(this._htmlEnabledContainers,t)}};var Yg;function OU(s,t,e){let i=t.interfaceColors,r=i.get("secondaryButton").toCSS(),a=i.get("text").toCSS(),n=i.get("alternativeBackground").toCSS(.45);if(!Yg){let o=new Br([new Nr(s,".am5-modal",{width:"100%",height:"100%",position:"absolute","z-index":"100000",top:"0",left:"0"},t.nonce),new Nr(s,".am5-modal-curtain",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute",background:i.get("background").toCSS(.5),"z-index":"100"},t.nonce),new Nr(s,".am5-modal-wrapper",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute","text-align":"center","white-space":"nowrap",background:i.get("background").toCSS(.5),"z-index":"101"},t.nonce),new Nr(s,".am5-modal-wrapper:before",{content:"''",display:"inline-block",height:"100%","vertical-align":"middle","margin-right":"-0.25em"},t.nonce),new Nr(s,".am5-modal-content",{display:"inline-block",padding:"1.2em","vertical-align":"middle","text-align":"start","white-space":"normal",background:i.get("background").toCSS(),"border-radius":"4px","-webkit-box-shadow":"0px 0px 36px 0px "+n,"box-shadow":"0px 0px 36px 0px "+n,color:a},t.nonce),new Nr(s,".am5-modal-content h1",{"font-size":"1em",margin:"0 0 0.5em 0"},t.nonce),new Nr(s,".am5-modal-table",{display:"table",margin:"1em 0"},t.nonce),new Nr(s,".am5-modal-table-row",{display:"table-row"},t.nonce),new Nr(s,".am5-modal-table-heading",{display:"table-heading",padding:"3px 10px 3px 0"},t.nonce),new Nr(s,".am5-modal-table-cell",{display:"table-cell",padding:"3px 0 3px 0"},t.nonce),new Nr(s,".am5-modal-table-cell > *",{"vertical-align":"middle"},t.nonce),new Nr(s,".am5-modal-content input[type=text], .am5-modal-content input[type=number], .am5-modal-content select",{border:"1px solid "+r,"border-radius":"4px",padding:"3px 5px",margin:"2px"},t.nonce),new Nr(s,".am5-modal-input-narrow",{width:"50px"},t.nonce),new Nr(s,".am5-modal-button",{"font-weight":"400",color:i.get("secondaryButtonText").toCSS(),"line-height":"1.5","text-align":"center","text-decoration":"none","vertical-align":"middle",cursor:"pointer",padding:"0.2em 0.8em","font-size":"1em","border-radius":"0.25em",margin:"0 0.25em 0 0",border:"1px solid "+i.get("secondaryButtonStroke").toCSS(),background:i.get("secondaryButton").toCSS()},t.nonce),new Nr(s,".am5-modal-button:hover",{background:i.get("secondaryButtonHover").toCSS()},t.nonce),new Nr(s,".am5-modal-button.am5-modal-primary",{color:i.get("primaryButtonText").toCSS(),border:"1px solid "+i.get("primaryButtonStroke").toCSS(),background:i.get("primaryButton").toCSS()},t.nonce),new Nr(s,".am5-modal-button.am5-modal-primary:hover",{background:i.get("primaryButtonHover").toCSS()},t.nonce)]);Yg=new Ou(()=>{Yg=void 0,o.dispose()})}return Yg.increment()}var Ru=class extends ii{_afterNew(){super._afterNewApplyThemes(),this._setRawDefault("deactivateRoot",!0),OU(Mf(this._root.dom),this._root);let t=document.createElement("div");t.className="am5-modal",t.style.display="none",this.root._inner.appendChild(t),this.setPrivate("container",t);let e=document.createElement("div");e.className="am5-modal-curtain",t.appendChild(e),this.setPrivate("curtain",e),this._disposers.push(qi(e,"click",()=>{this.cancel()}));let i=document.createElement("div");i.className="am5-modal-wrapper",t.appendChild(i),this.setPrivate("wrapper",i);let r=document.createElement("div");r.className="am5-modal-content",i.appendChild(r),this.setPrivate("content",r);let a=this.get("content");a&&(r.innerHTML=a),Va("keyboardevents")&&this._disposers.push(qi(document,"keydown",n=>{this.isOpen()&&kl(n)=="Escape"&&this.cancel()}))}_beforeChanged(){super._beforeChanged(),this.isDirty("content")&&(this.getPrivate("content").innerHTML=this.get("content",""))}isOpen(){return this.getPrivate("container").style.display!="none"}open(){this.getPrivate("container").style.display="block",this.get("deactivateRoot")&&this.setTimeout(()=>{this._root._renderer.interactionsEnabled=!1},10),this.events.dispatch("opened",{type:"opened",target:this})}close(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("closed",{type:"closed",target:this})}cancel(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("cancelled",{type:"cancelled",target:this})}_dispose(){super._dispose();let t=this.getPrivate("container");t.parentElement&&t.parentElement.removeChild(t)}};Object.defineProperty(Ru,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Modal"});Object.defineProperty(Ru,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ii.classNames.concat([Ru.className])});var Aa=class extends ii{constructor(){super(...arguments),Object.defineProperty(this,"_index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}_beforeChanged(){if(super._beforeChanged(),this.isDirty("sprite")){let t=this.get("sprite");t&&(t.setAll({position:"absolute",role:"figure"}),this._disposers.push(t))}(this.isDirty("locationX")||this.isDirty("locationY"))&&this.series&&this.series._positionBullet(this)}};Object.defineProperty(Aa,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Bullet"});Object.defineProperty(Aa,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ii.classNames.concat([Aa.className])});var pr=class extends fr{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let t=this.width(),e=this.height(),i=t/Math.abs(t),r=e/Math.abs(e),a=0,n=0,o=this.get("strokeWidth",0);this.get("containStroke",!1)&&(t-=i*o,e-=r*o,a+=i*o/2,n+=r*o/2);let l=t,u=e;if(ee(l)&&ee(u)){let h=Math.min(l,u)/2,c=jt(this.get("cornerRadiusTL",8),h),A=jt(this.get("cornerRadiusTR",8),h),d=jt(this.get("cornerRadiusBR",8),h),f=jt(this.get("cornerRadiusBL",8),h),p=Math.min(Math.abs(l/2),Math.abs(u/2));c=Qi(c,0,p),A=Qi(A,0,p),d=Qi(d,0,p),f=Qi(f,0,p);let m=this._display;m.moveTo(a+c*i,n),m.lineTo(a+l-A*i,n),A>0&&m.arcTo(a+l,n,a+l,n+A*r,A),m.lineTo(a+l,n+u-d*r),d>0&&m.arcTo(a+l,n+u,a+l-d*i,n+u,d),m.lineTo(a+f*i,n+u),f>0&&m.arcTo(a,n+u,a,n+u-f*r,f),m.lineTo(a,n+c*r),c>0&&m.arcTo(a,n,a+c*i,n,c),m.closePath()}}};Object.defineProperty(pr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"});Object.defineProperty(pr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fr.classNames.concat([pr.className])});var Vl=class extends Re{_afterNew(){this._settings.themeTags=lt(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",pr.new(this._root,{themeTags:lt(this._settings.themeTags,["background"])})),this.setPrivate("trustBounds",!0)}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){let t=this._prevSettings.icon,e=this.get("icon");e!==t&&(this._disposeProperty("icon"),t&&t.dispose(),e&&this.children.push(e),this._prevSettings.icon=e)}if(this.isDirty("label")){let t=this._prevSettings.label,e=this.get("label");e!==t&&(this._disposeProperty("label"),t&&t.dispose(),e&&this.children.push(e),this._prevSettings.label=e)}}};Object.defineProperty(Vl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"});Object.defineProperty(Vl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([Vl.className])});var Kg=class extends hn{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(t){this.processor&&this.processor.processRow(t),super._onPush(t)}_onInsertIndex(t,e){this.processor&&this.processor.processRow(e),super._onInsertIndex(t,e)}_onSetIndex(t,e,i){this.processor&&this.processor.processRow(i),super._onSetIndex(t,e,i)}};var as=class extends Qf{constructor(t,e,i){super(i),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=e,this.component=t,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(t){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,t)}hide(t){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,t)}isHidden(){return!this.get("visible")}},$n=class extends Re{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new Kg}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(t){t.incrementRef(),this._data.decrementRef(),this._data=t}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(t=>{let e=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,t.type==="clear")Z(e,i=>{i.dispose()}),e.length=0,this._onDataClear();else if(t.type==="push"){let i=new as(this,t.newValue,this._makeDataItem(t.newValue));e.push(i),this.processDataItem(i)}else if(t.type==="setIndex"){let i=e[t.index],r=this._makeDataItem(t.newValue);i.bullets&&i.bullets.length==0&&(i.bullets=void 0),sr(r).forEach(a=>{i.animate({key:a,to:r[a],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})}),i.dataContext=t.newValue}else if(t.type==="insertIndex"){let i=new as(this,t.newValue,this._makeDataItem(t.newValue));e.splice(t.index,0,i),this.processDataItem(i)}else if(t.type==="removeIndex")e[t.index].dispose(),e.splice(t.index,1);else if(t.type==="moveIndex"){let i=e[t.oldIndex];e.splice(t.oldIndex,1),e.splice(t.newIndex,0,i)}else throw new Error("Unknown IStreamEvent type");this._afterDataChange()}))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},Z(this.valueFields,t=>{this.get(t+"Field")&&(this._valueFields.push(t),this._valueFieldsF[t]={fieldKey:t+"Field",workingKey:t+"Working"})})),this.fields&&(this._fields=[],this._fieldsF={},Z(this.fields,t=>{this.get(t+"Field")&&(this._fields.push(t),this._fieldsF[t]=t+"Field")}))}get dataItems(){return this._dataItems}processDataItem(t){}_makeDataItem(t){let e={};return this._valueFields&&Z(this._valueFields,i=>{let r=this.get(this._valueFieldsF[i].fieldKey);e[i]=t[r],e[this._valueFieldsF[i].workingKey]=e[i]}),this._fields&&Z(this._fields,i=>{let r=this.get(this._fieldsF[i]);e[i]=t[r]}),e}makeDataItem(t,e){let i=new as(this,e,t);return this.processDataItem(i),i}pushDataItem(t,e){let i=this.makeDataItem(t,e);return this._mainDataItems.push(i),i}disposeDataItem(t){}showDataItem(t,e){return je(this,void 0,void 0,function*(){t.set("visible",!0)})}hideDataItem(t,e){return je(this,void 0,void 0,function*(){t.set("visible",!1)})}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){let t="datavalidated";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this}),this._dataChanged=!1}if(this._valuesDirty){let t="valueschanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}this.inited=!0}markDirtyValues(t){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}getDataItemById(t){return Cg(this.dataItems,e=>e.get("id")==t)}};Object.defineProperty($n,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"});Object.defineProperty($n,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([$n.className])});var Uu=class extends ii{_afterNew(){super._afterNewApplyThemes()}getFill(t){return{addColorStop:(e,i)=>{}}}_changed(){super._changed()}getBounds(t){let e=this.get("target");if(e){let i=e.globalBounds(),r=t.toLocal({x:i.left,y:i.top}),a=t.toLocal({x:i.right,y:i.top}),n=t.toLocal({x:i.right,y:i.bottom}),o=t.toLocal({x:i.left,y:i.bottom});return{left:Math.min(r.x,a.x,n.x,o.x),top:Math.min(r.y,a.y,n.y,o.y),right:Math.max(r.x,a.x,n.x,o.x),bottom:Math.max(r.y,a.y,n.y,o.y)}}return t._display.getLocalBounds()}};Object.defineProperty(Uu,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Gradient"});Object.defineProperty(Uu,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ii.classNames.concat([Uu.className])});var Jh=class extends Uu{getFill(t){let e=this.get("rotation",0),i=this.getBounds(t),r=i.left||0,a=i.right||0,n=i.top||0,o=i.bottom||0,l=Pi(e),u=xi(e),h=l*(a-r),c=u*(o-n);h==0&&(h=1),c==0&&(c=1);let A=Math.max(h,c),d=this._root._renderer.createLinearGradient(r,n,r+A*l,n+A*u),f=this.get("stops");if(f){let p=0;Z(f,m=>{let g=m.offset;ee(g)||(g=p/(f.length-1));let y=m.opacity;ee(y)||(y=1);let x=m.color;if(x){let C=m.lighten;C&&(x=rt.lighten(x,C));let S=m.brighten;S&&(x=rt.brighten(x,S)),d.addColorStop(g,"rgba("+x.r+","+x.g+","+x.b+","+y+")")}p++})}return d}};Object.defineProperty(Jh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinearGradient"});Object.defineProperty(Jh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Uu.classNames.concat([Jh.className])});var Nl=class extends Re{constructor(){super(...arguments),Object.defineProperty(this,"labelContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Re.new(this._root,{}))}),Object.defineProperty(this,"markerContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Re.new(this._root,{}))}),Object.defineProperty(this,"startLabel",{enumerable:!0,configurable:!0,writable:!0,value:this.labelContainer.children.push($i.new(this._root,{themeTags:["start"]}))}),Object.defineProperty(this,"endLabel",{enumerable:!0,configurable:!0,writable:!0,value:this.labelContainer.children.push($i.new(this._root,{themeTags:["end"]}))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Ii(Mt.new({}),()=>pr._new(this._root,{themeTags:lt(this.markers.template.get("themeTags",[]),[this.get("orientation"),"heatlegend","marker"])},[this.markers.template])))})}_afterNew(){this._settings.themeTags=lt(this._settings.themeTags,["heatlegend",this._settings.orientation]),super._afterNew(),this.set("tooltip",ks.new(this._root,{themeTags:["heatlegend"]}))}makeMarker(){let t=this.markers.make();return t.states.create("disabled",{}),t}showValue(t,e,i){let r=this.getTooltip();if(r&&ee(t)){let a=this.get("startValue",0),n=this.get("endValue",1),o=(t-a)/(n-a);(o==1/0||o==-1/0||isNaN(o))&&(o=.5);let l=this.get("startColor"),u=this.get("endColor");e||(e=this.getNumberFormatter().format(t)),i||(i=rt.interpolate(o,l,u)),r.label.set("text",e);let h;this.get("orientation")=="vertical"?h=this.markerContainer.toGlobal({x:0,y:this.innerHeight()*(1-o)}):h=this.markerContainer.toGlobal({x:this.innerWidth()*o,y:0});let c=r.get("background");c&&c.set("fill",i),r.set("pointTo",h),r.show()}}_prepareChildren(){super._prepareChildren();let t=this.labelContainer,e=this.get("orientation"),i=this.startLabel,r=this.endLabel,a=this.getTooltip();if(this.isDirty("orientation")&&(e=="vertical"?(this.markerContainer.setAll({layout:this._root.verticalLayout,height:be}),this.set("layout",this._root.horizontalLayout),i.setAll({y:be,x:void 0,centerY:be,centerX:be}),r.setAll({y:0,x:void 0,centerY:0,centerX:be}),t.setAll({height:be,width:void 0}),a&&a.set("pointerOrientation","horizontal")):(this.markerContainer.setAll({layout:this._root.horizontalLayout,width:be}),this.set("layout",this._root.verticalLayout),i.setAll({x:0,y:void 0,centerX:0,centerY:0}),r.setAll({x:be,y:void 0,centerX:be,centerY:0}),t.setAll({width:be,height:void 0}),a&&a.set("pointerOrientation","vertical"))),this.isDirty("stepCount")){let n=this.get("stepCount",1),o=this.get("startColor"),l=this.get("endColor"),u=this.get("startOpacity",1),h=this.get("endOpacity",1);if(this.markerContainer.children.clear(),n>1)for(let c=0;c<n;c++){let A=this.makeMarker();e=="vertical"?this.markerContainer.children.moveValue(A,0):this.markerContainer.children.push(A),o&&l&&A.setAll({fill:rt.interpolate(c/n,o,l),fillOpacity:Ot(c/n*100).interpolate(u,h)})}else if(n==1){let c=this.makeMarker();this.markerContainer.children.push(c);let A=Jh.new(this._root,{stops:[{color:o,opacity:u},{color:l,opacity:h}]});if(e=="vertical"){A.set("rotation",90);let d=A.get("stops");d&&d.reverse()}else A.set("rotation",0);o&&l&&c.set("fillGradient",A)}}(this.isDirty("startText")||this.isDirty("startValue"))&&i.set("text",this.get("startText",this.getNumberFormatter().format(this.get("startValue",0)))),(this.isDirty("endText")||this.isDirty("endValue"))&&r.set("text",this.get("endText",this.getNumberFormatter().format(this.get("endValue",1))))}};Object.defineProperty(Nl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HeatLegend"});Object.defineProperty(Nl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([Nl.className])});function XF(s){return new Promise((t,e)=>{setTimeout(t,s)})}var i_={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:365.242/12*864e5,year:31536e6};function r_(s){switch(s){case"year":return;case"month":return"year";case"week":return"month";case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function Es(s,t){return t==null&&(t=1),i_[s]*t}function kn(s){return s?i_[s.timeUnit]*s.count:0}function Zg(s,t,e,i,r){let a=s.timeUnit,n=s.count;if(a=="hour"||a=="minute"||a=="second"||a=="millisecond")return i_[s.timeUnit]*s.count;{let o=Vu(new Date(t.getTime()),a,n,e,i,void 0,r).getTime(),l=o+n*Es(a)*1.05;return l=Vu(new Date(l),a,1,e,i,void 0,r).getTime(),l-o}}function s_(s,t,e,i,r){if(t-s>Es(e,1.2))return!0;let a=new Date(s),n=new Date(t);r&&(a=r.convertLocal(a),n=r.convertLocal(n));let o=0,l=0;!i&&e!="millisecond"&&(o=a.getTimezoneOffset(),a.setUTCMinutes(a.getUTCMinutes()-o),l=n.getTimezoneOffset(),n.setUTCMinutes(n.getUTCMinutes()-l));let u=!1;switch(e){case"year":a.getUTCFullYear()!=n.getUTCFullYear()&&(u=!0);break;case"month":(a.getUTCFullYear()!=n.getUTCFullYear()||a.getUTCMonth()!=n.getUTCMonth())&&(u=!0);break;case"day":(a.getUTCMonth()!=n.getUTCMonth()||a.getUTCDate()!=n.getUTCDate())&&(u=!0);break;case"hour":a.getUTCHours()!=n.getUTCHours()&&(u=!0);break;case"minute":a.getUTCMinutes()!=n.getUTCMinutes()&&(u=!0);break;case"second":a.getUTCSeconds()!=n.getUTCSeconds()&&(u=!0);break;case"millisecond":a.getTime()!=n.getTime()&&(u=!0);break}if(u)return u;let h=r_(e);return h?s_(s,t,h,i,r):!1}function zr(s,t,e,i,r){let a;return r!=null&&(a=new Date(r)),Vu(new Date(s),t,e,i.locale.firstDayOfWeek,i.utc,a,i.timezone).getTime()}function Vu(s,t,e,i,r,a,n){if(!n||r){let o=0;switch(!r&&t!="millisecond"&&(o=s.getTimezoneOffset(),s.setUTCMinutes(s.getUTCMinutes()-o)),t){case"day":let l=s.getUTCDate();if(e>1){if(a){a=Vu(a,"day",1);let g=s.getTime()-a.getTime(),y=Math.floor(g/Es("day")/e),x=Es("day",y*e);s.setTime(a.getTime()+x-o*Es("minute"))}}else s.setUTCDate(l);s.setUTCHours(0,0,0,0);break;case"second":let u=s.getUTCSeconds();e>1&&(u=Math.floor(u/e)*e),s.setUTCSeconds(u,0);break;case"millisecond":if(e==1)return s;let h=s.getUTCMilliseconds();h=Math.floor(h/e)*e,s.setUTCMilliseconds(h);break;case"hour":let c=s.getUTCHours();e>1&&(c=Math.floor(c/e)*e),s.setUTCHours(c,0,0,0);break;case"minute":let A=s.getUTCMinutes();e>1&&(A=Math.floor(A/e)*e),s.setUTCMinutes(A,0,0);break;case"month":let d=s.getUTCMonth();e>1&&(e==2||e==3||e==4||e==6)&&(d=Math.floor(d/e)*e),s.setUTCMonth(d,1),s.setUTCHours(0,0,0,0);break;case"year":let f=s.getUTCFullYear();e>1&&(f=Math.floor(f/e)*e),s.setUTCFullYear(f,0,1),s.setUTCHours(0,0,0,0);break;case"week":if(e>1&&a){a=Vu(a,"week",1);let g=s.getTime()-a.getTime(),y=Math.floor(g/Es("week")/e),x=Es("week",y*e);s.setTime(a.getTime()+x-o*Es("minute"))}let p=s.getUTCDate(),m=s.getUTCDay();ee(i)||(i=1),m>=i?p=p-m+i:p=p-(7+m)+i,s.setUTCDate(p),s.setUTCHours(0,0,0,0);break}if(!r&&t!="millisecond"&&(s.setUTCMinutes(s.getUTCMinutes()+o),t=="day"||t=="week"||t=="month"||t=="year")){let l=s.getTimezoneOffset();if(l!=o){let u=l-o;s.setUTCMinutes(s.getUTCMinutes()+u)}}return s}else{if(isNaN(s.getTime()))return s;let o=s.getTime(),l=n.offsetUTC(s),u=s.getTimezoneOffset(),h=n.parseDate(s),c=h.year,A=h.month,d=h.day,f=h.hour,p=h.minute,m=h.second,g=h.millisecond,y=h.weekday,x=l-u;switch(t){case"day":if(e>1&&a){a=Vu(a,"day",1,i,r,void 0,n);let $=s.getTime()-a.getTime(),L=Math.floor($/Es("day")/e),E=Es("day",L*e);s.setTime(a.getTime()+E),h=n.parseDate(s),c=h.year,A=h.month,d=h.day}f=0,p=x,m=0,g=0;break;case"second":p+=x,e>1&&(m=Math.floor(m/e)*e),g=0;break;case"millisecond":p+=x,e>1&&(g=Math.floor(g/e)*e);break;case"hour":e>1&&(f=Math.floor(f/e)*e),p=x,m=0,g=0;break;case"minute":e>1&&(p=Math.floor(p/e)*e),p+=x,m=0,g=0;break;case"month":e>1&&(A=Math.floor(A/e)*e),d=1,f=0,p=x,m=0,g=0;break;case"year":e>1&&(c=Math.floor(c/e)*e),A=0,d=1,f=0,p=x,m=0,g=0;break;case"week":ee(i)||(i=1),y>=i?d=d-y+i:d=d-(7+y)+i,f=0,p=x,m=0,g=0;break}s=new Date(c,A,d,f,p,m,g);let C=s.getTime(),S=36e5;t=="hour"&&(S=36e5*e),C+S<=o&&(t=="hour"||t=="minute"||t=="second"||t=="millisecond")&&(s=new Date(C+S));let P=s.getTimezoneOffset(),O=n.offsetUTC(s)-P;return O!=x&&s.setTime(s.getTime()+(O-x)*6e4),s}}function qg(s,t,e,i){let r=i[s],a=kn(r),n=i.length-1;if(s>=n)return Object.assign({},i[n]);let o=Math.ceil(t/a);return t<a&&s>0?Object.assign({},i[s-1]):o<=e?Object.assign({},i[s]):s+1<i.length?qg(s+1,t,e,i):Object.assign({},i[s])}var Cs=class extends $n{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseSeriesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new hn}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:Re.new(this._root,{width:be,height:be,position:"absolute"})})}_afterNew(){this.valueFields.push("value","customValue"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll(t=>{if(t.type==="clear")this._handleBullets(this.dataItems);else if(t.type==="push")this._handleBullets(this.dataItems);else if(t.type==="setIndex")this._handleBullets(this.dataItems);else if(t.type==="insertIndex")this._handleBullets(this.dataItems);else if(t.type==="removeIndex")this._handleBullets(this.dataItems);else if(t.type==="moveIndex")this._handleBullets(this.dataItems);else throw new Error("Unknown IListEvent type")}))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let t=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),t)}endIndex(){let t=this.dataItems.length;return Math.max(0,Math.min(this.getPrivate("endIndex",t),t))}_handleBullets(t){Z(t,e=>{let i=e.bullets;i&&(Z(i,r=>{r.dispose()}),e.bullets=void 0)}),this.markDirtyValues()}_makeBullets(t){this._shouldMakeBullet(t)&&(t.bullets=[],this.bullets.each(e=>{this._makeBullet(t,e)}))}_shouldMakeBullet(t){return!0}_makeBullet(t,e,i){let r=e(this._root,this,t);return r&&(r._index=i,this._makeBulletReal(t,r)),r}_makeBulletReal(t,e){let i=e.get("sprite");i&&(i._setDataItem(t),i.setRaw("position","absolute"),this.bulletsContainer.children.push(i)),e.series=this,t.bullets.push(e)}addBullet(t,e){t.bullets||(t.bullets=[]),e&&this._makeBulletReal(t,e)}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._baseSeriesDirty=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let t=this.startIndex(),e=this.endIndex();if(this.isDirty("name")&&this.updateLegendValue(),this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){let r=this.getPrivate("baseValueSeries");r&&this._disposers.push(r.onPrivate("startIndex",()=>{this._baseSeriesDirty=!0,this.markDirtyValues()}))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0,t!=0&&(this._psi=void 0))),(this._psi!=t||this._pei!=e||this.isPrivateDirty("adjustedStartIndex"))&&!this._selectionAggregatesCalculated&&(t===0&&e===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(t,e),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let r=this.get("tooltip");r&&(r.hide(0),r.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let r,a=this.get("legendDataItem");if(a&&(r=a.get("markerRectangle"),r&&this.isVisible())){if(this.isDirty("stroke")){let n=this.get("stroke");r.set("stroke",n)}if(this.isDirty("fill")){let n=this.get("fill");r.set("fill",n)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let r=this.startIndex(),a=this.endIndex();a<this.dataItems.length&&a++;for(let n=r;n<a;n++){let o=this.dataItems[n];o.bullets||this._makeBullets(o)}}}_handleRemoved(){}_adjustStartIndex(t){return t}_calculateAggregates(t,e){let i=this._valueFields;if(!i)throw new Error("No value fields are set for the series.");let r={},a={},n={},o={},l={},u={},h={},c={},A={};Z(i,f=>{r[f]=0,a[f]=0,n[f]=0});let d=this.dataItems.length;Z(i,f=>{let p=f+"Change",m=f+"ChangePercent",g=f+"ChangePrevious",y=f+"ChangePreviousPercent",x=f+"ChangeSelection",C=f+"ChangeSelectionPercent",S="valueY";(f=="valueX"||f=="openValueX"||f=="lowValueX"||f=="highValueX")&&(S="valueX");let P=this.getPrivate("baseValueSeries"),F=this.getPrivate("adjustedStartIndex",t),O=($,L)=>{if($){let E=$.get(L);E!=null&&($.setRaw(g,E-A[S]),$.setRaw(y,(E-A[S])/A[S]*100),$.setRaw(x,E-u[S]),$.setRaw(C,(E-u[S])/u[S]*100),A[L]=E)}};for(let $=F;$<e;$++){let L=this.dataItems[$];if(L){let E=L.get(f);E!=null&&(n[f]++,r[f]+=E,a[f]+=Math.abs(E),c[f]=r[f]/n[f],(o[f]>E||o[f]==null)&&(o[f]=E),(l[f]<E||l[f]==null)&&(l[f]=E),h[f]=E,u[f]==null&&(u[f]=E,A[f]=E,P&&(u[S]=P._getBase(S))),t===0&&(L.setRaw(p,E-u[S]),L.setRaw(m,(E-u[S])/u[S]*100)),O(L,f))}}e<d&&O(this.dataItems[e],f),e+1<d&&O(this.dataItems[e+1],f),t>0&&t--,delete A[f];for(let $=t;$<F;$++){let L=this.dataItems[$];if(L){let E=L.get(f);A[f]==null&&(A[f]=E),E!=null&&(L.setRaw(g,E-A[S]),L.setRaw(y,(E-A[S])/A[S]*100),L.setRaw(x,E-u[S]),L.setRaw(C,(E-u[S])/u[S]*100),A[f]=E)}}}),Z(i,f=>{this.setPrivate(f+"AverageSelection",c[f]),this.setPrivate(f+"CountSelection",n[f]),this.setPrivate(f+"SumSelection",r[f]),this.setPrivate(f+"AbsoluteSumSelection",a[f]),this.setPrivate(f+"LowSelection",o[f]),this.setPrivate(f+"HighSelection",l[f]),this.setPrivate(f+"OpenSelection",u[f]),this.setPrivate(f+"CloseSelection",h[f])}),t===0&&e===d&&Z(i,f=>{this.setPrivate(f+"Average",c[f]),this.setPrivate(f+"Count",n[f]),this.setPrivate(f+"Sum",r[f]),this.setPrivate(f+"AbsoluteSum",a[f]),this.setPrivate(f+"Low",o[f]),this.setPrivate(f+"High",l[f]),this.setPrivate(f+"Open",u[f]),this.setPrivate(f+"Close",h[f])})}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));let t=this.get("heatRules");if(this._valuesDirty&&t&&t.length>0&&Z(t,e=>{let i=e.minValue||this.getPrivate(e.dataField+"Low")||0,r=e.maxValue||this.getPrivate(e.dataField+"High")||0;Z(e.target._entities,a=>{let n=a.dataItem.get(e.dataField);if(!ee(n)){e.neutral&&a.set(e.key,e.neutral);let o=a.states;if(o){let l=o.lookup("default");l&&e.neutral&&l.set(e.key,e.neutral)}if(!e.customFunction)return}if(e.customFunction)e.customFunction.call(this,a,i,r,n);else{let o;e.logarithmic?o=(Math.log(n)*Math.LOG10E-Math.log(i)*Math.LOG10E)/(Math.log(r)*Math.LOG10E-Math.log(i)*Math.LOG10E):o=(n-i)/(r-i),ee(n)&&(!ee(o)||Math.abs(o)==1/0)&&(o=.5);let l;ee(e.min)?l=e.min+(e.max-e.min)*o:e.min instanceof rt?l=rt.interpolate(o,e.min,e.max):e.min instanceof yt&&(l=d0(o,e.min,e.max)),a.set(e.key,l);let u=a.states;if(u){let h=u.lookup("default");h&&h.set(e.key,l)}}})}),this.get("visible")){let e=this.dataItems.length,i=this.startIndex(),r=this.endIndex();r<e&&r++,i>0&&i--;for(let a=0;a<i;a++)this._hideBullets(this.dataItems[a]);for(let a=i;a<r;a++)this._positionBullets(this.dataItems[a]);for(let a=r;a<e;a++)this._hideBullets(this.dataItems[a])}}_positionBullets(t){t.bullets&&Z(t.bullets,e=>{this._positionBullet(e);let i=e.get("sprite");e.get("dynamic")&&(i&&(i._markDirtyKey("fill"),i.markDirtySize()),i instanceof Re&&i.walkChildren(r=>{r._markDirtyKey("fill"),r.markDirtySize(),r instanceof $i&&r.text.markDirtyText()})),i instanceof $i&&i.get("populateText")&&i.text.markDirtyText()})}_hideBullets(t){t.bullets&&Z(t.bullets,e=>{let i=e.get("sprite");i&&i.setPrivate("visible",!1)})}_positionBullet(t){}_placeBulletsContainer(t){t.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){let t=this.bulletsContainer;t.parent&&t.parent.children.removeValue(t)}disposeDataItem(t){let e=t.bullets;e&&(Z(e,i=>{i.dispose()}),t.bullets=void 0)}_getItemReaderLabel(){return""}showDataItem(t,e){let i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return je(this,void 0,void 0,function*(){let r=[i.showDataItem.call(this,t,e)],a=t.bullets;a&&Z(a,n=>{let o=n.get("sprite");o&&r.push(o.show(e))}),yield Promise.all(r)})}hideDataItem(t,e){let i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return je(this,void 0,void 0,function*(){let r=[i.hideDataItem.call(this,t,e)],a=t.bullets;a&&Z(a,n=>{let o=n.get("sprite");o&&r.push(o.hide(e))}),yield Promise.all(r)})}_sequencedShowHide(t,e){return je(this,void 0,void 0,function*(){if(this.get("sequencedInterpolation"))if(ee(e)||(e=this.get("interpolationDuration",0)),e>0){let i=this.startIndex(),r=this.endIndex();yield Promise.all(Ff(this.dataItems,(a,n)=>je(this,void 0,void 0,function*(){let o=e||0;(n<i-10||n>r+10)&&(o=0);let l=this.get("sequencedDelay",0)+o/(r-i);yield XF(l*(n-i)),t?yield this.showDataItem(a,o):yield this.hideDataItem(a,o)})))}else yield Promise.all(Ff(this.dataItems,i=>t?this.showDataItem(i,0):this.hideDataItem(i,0)))})}updateLegendValue(t){if(t){let e=t.get("legendDataItem");if(e){let i=e.get("valueLabel");if(i){let a=i.text,n="";i._setDataItem(t),n=this.get("legendValueText",a.get("text","")),i.set("text",n),a.markDirtyText()}let r=e.get("label");if(r){let a=r.text,n="";r._setDataItem(t),n=this.get("legendLabelText",a.get("text","")),r.set("text",n),a.markDirtyText()}}}}updateLegendMarker(t){}_onHide(){super._onHide();let t=this.getTooltip();t&&t.hide()}hoverDataItem(t){}unhoverDataItem(t){}_getBase(t){let e=this.dataItems[this.startIndex()];return e?e.get(t):0}};Object.defineProperty(Cs,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"});Object.defineProperty(Cs,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:$n.classNames.concat([Cs.className])});var so=class extends Cs{constructor(){super(...arguments),Object.defineProperty(this,"itemContainers",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Ii(Mt.new({}),()=>Re._new(this._root,{themeTags:lt(this.itemContainers.template.get("themeTags",[]),["legend","item"]),themeTagsSelf:lt(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"]),background:pr.new(this._root,{themeTags:lt(this.itemContainers.template.get("themeTags",[]),["legend","item","background"]),themeTagsSelf:lt(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"])})},[this.itemContainers.template])))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Ii(Mt.new({}),()=>Re._new(this._root,{themeTags:lt(this.markers.template.get("themeTags",[]),["legend","marker"])},[this.markers.template])))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Ii(Mt.new({}),()=>$i._new(this._root,{themeTags:lt(this.labels.template.get("themeTags",[]),["legend","label"])},[this.labels.template])))}),Object.defineProperty(this,"valueLabels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Ii(Mt.new({}),()=>$i._new(this._root,{themeTags:lt(this.valueLabels.template.get("themeTags",[]),["legend","label","value"])},[this.valueLabels.template])))}),Object.defineProperty(this,"markerRectangles",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Ii(Mt.new({}),()=>pr._new(this._root,{themeTags:lt(this.markerRectangles.template.get("themeTags",[]),["legend","marker","rectangle"])},[this.markerRectangles.template])))})}_afterNew(){this._settings.themeTags=lt(this._settings.themeTags,["legend"]),this.fields.push("name","stroke","fill"),super._afterNew()}makeItemContainer(t){let e=this.children.push(this.itemContainers.make());return e._setDataItem(t),this.itemContainers.push(e),e.states.create("disabled",{}),e}makeMarker(){let t=this.markers.make();return this.markers.push(t),t.states.create("disabled",{}),t}makeLabel(){let t=this.labels.make();return t.states.create("disabled",{}),t}makeValueLabel(){let t=this.valueLabels.make();return t.states.create("disabled",{}),t}makeMarkerRectangle(){let t=this.markerRectangles.make();return t.states.create("disabled",{}),t}processDataItem(t){super.processDataItem(t);let e=this.makeItemContainer(t),i=this.get("nameField"),r=this.get("fillField"),a=this.get("strokeField");if(e){let n=this.get("clickTarget","itemContainer"),o=t.dataContext;o&&o.set&&o.set("legendDataItem",t),e._setDataItem(t),t.set("itemContainer",e);let l=this.makeMarker();if(l){e.children.push(l),l._setDataItem(t),t.set("marker",l);let c=this.get("useDefaultMarker"),A=l.children.push(this.makeMarkerRectangle()),d=t.get("fill"),f=t.get("stroke");t.set("markerRectangle",A),o&&o.get&&(d=o.get(r,d),f=o.get(a,f)),f||(f=d),c?o.on&&(o.on(r,()=>{A.set("fill",o.get(r))}),o.on(a,()=>{A.set("stroke",o.get(a))})):o&&o.createLegendMarker&&o.createLegendMarker(),A.setAll({fill:d,stroke:f});let p=o.component;p&&p.updateLegendMarker&&p.updateLegendMarker(o)}let u=this.makeLabel();if(u){e.children.push(u),u._setDataItem(t),t.set("label",u),u.text.on("text",()=>{e.setRaw("ariaLabel",u.text._getText()+(this.get("clickTarget")!=="none"?"; "+this._t("Press ENTER to toggle"):"")),e.markDirtyAccessibility()}),o&&o.get&&t.set("name",o.get(i));let c=t.get("name");c&&u.set("text",c)}let h=this.makeValueLabel();if(h&&(e.children.push(h),h._setDataItem(t),t.set("valueLabel",h)),o&&o.show&&(o.on("visible",c=>{e.set("disabled",!c)}),o.get("visible")||e.set("disabled",!0),n!="none")){let c=e;n=="marker"&&(c=l),this._addClickEvents(c,o,t)}this.children.values.sort((c,A)=>{let d=c.dataItem.dataContext,f=A.dataItem.dataContext;if(d&&f){let p=this.data.indexOf(d),m=this.data.indexOf(f);if(p>m)return 1;if(p<m)return-1}return 0}),o&&o.updateLegendValue&&o.updateLegendValue()}}_addClickEvents(t,e,i){t.set("cursorOverStyle","pointer"),t.events.on("pointerover",()=>{let r=e.component;r&&r.hoverDataItem&&r.hoverDataItem(e)}),t.events.on("pointerout",()=>{let r=e.component;r&&r.hoverDataItem&&r.unhoverDataItem(e)}),t.events.on("click",()=>{let r=i.get("label").text._getText();e.show&&e.isHidden&&(e.isHidden()||e.get("visible")===!1)?(e.show(),t.set("disabled",!1),this._root.readerAlert(this._t("%1 shown",this._root.locale,r))):e.hide&&(e.hide(),t.set("disabled",!0),this._root.readerAlert(this._t("%1 hidden",this._root.locale,r)))})}disposeDataItem(t){super.disposeDataItem(t);let e=t.dataContext;e&&e.get&&e.get("legendDataItem")==t&&e.set("legendDataItem",void 0);let i=t.get("itemContainer");i&&(this.itemContainers.removeValue(i),i.dispose());let r=t.get("marker");r&&(this.markers.removeValue(r),r.dispose());let a=t.get("markerRectangle");a&&(this.markerRectangles.removeValue(a),a.dispose());let n=t.get("label");n&&(this.labels.removeValue(n),n.dispose());let o=t.get("valueLabel");o&&(this.valueLabels.removeValue(o),o.dispose())}};Object.defineProperty(so,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Legend"});Object.defineProperty(so,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Cs.classNames.concat([so.className])});function n_(s,t){for(let e=0,i=t.length;e<i;e++){let r=t[e];if(r.length>0){let a=r[0];if(a.length>0){let n=a[0];s.moveTo(n.x,n.y);for(let o=0,l=r.length;o<l;o++)LU(s,r[o])}}}}function LU(s,t){for(let e=0,i=t.length;e<i;e++){let r=t[e];s.lineTo(r.x,r.y)}}var Nu=class extends pt{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let t=this.get("points"),e=this.get("segments");if(t&&t.length>0){let i=t[0];this._display.moveTo(i.x,i.y),n_(this._display,[[t]])}else if(e)n_(this._display,e);else if(!this.get("draw")){let i=this.width(),r=this.height();this._display.moveTo(0,0),this._display.lineTo(i,r)}}}};Object.defineProperty(Nu,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"});Object.defineProperty(Nu,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pt.classNames.concat([Nu.className])});var ec=class extends In{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeRadialText("",this.textStyle)})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged(),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*Fr,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}};Object.defineProperty(ec,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"});Object.defineProperty(ec,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:In.classNames.concat([ec.className])});var Go=class extends $i{constructor(){super(...arguments),Object.defineProperty(this,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._textKeys.push("textType","kerning"),super._afterNew()}_makeText(){this._text=this.children.push(ec.new(this._root,{}))}baseRadius(){let t=this.getPrivate("radius",0),e=this.getPrivate("innerRadius",0),i=this.get("baseRadius",0);return e+jt(i,t-e)}radius(){let t=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(t?-1:1)}_updateChildren(){if(super._updateChildren(),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){let t=this.get("textType","adjusted"),e=this.get("inside",!1),i=this.get("orientation"),r=da(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",e);let a=xi(r),n=Pi(r),o=this.baseRadius(),l=this.radius();if(this._display.angle=0,t=="circular")this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this.setRaw("x",void 0),this.setRaw("y",void 0),this._text.set("orientation",i),this._text.set("radius",l);else{o==0&&(r=0,l=0);let u=l*n,h=l*a;t=="radial"?(this.setRaw("x",u),this.setRaw("y",h),r<90||r>270||i!="auto"?(this._display.angle=r,this._flipped=!1):(this._display.angle=r+180,this._flipped=!0),this._dirty.rotation=!1):t=="adjusted"?(this.setRaw("centerX",Qe),this.setRaw("centerY",Qe),this.setRaw("x",u),this.setRaw("y",h)):t=="regular"&&(this.setRaw("x",u),this.setRaw("y",h))}this.markDirtyPosition(),this.markDirtyBounds()}}_updatePosition(){let t=this.get("textType","regular"),e=this.get("inside",!1),i=0,r=0,a=this.get("labelAngle",0),n=this.localBounds(),o=n.right-n.left,l=n.bottom-n.top;if(t=="radial"){if(this._flipped){let u=this.get("centerX");u instanceof yt&&(o=o*(1-u.value*2)),i=o*Pi(a),r=o*xi(a)}}else!e&&t=="adjusted"&&(i=o/2*Pi(a),r=l/2*xi(a));this.setRaw("dx",i),this.setRaw("dy",r),super._updatePosition()}get text(){return this._text}};Object.defineProperty(Go,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"});Object.defineProperty(Go,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:$i.classNames.concat([Go.className])});var Yo=class extends Re{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()}),Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=lt(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=pr.new(this._root,{themeTags:lt(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push(Vl.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:pt.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(pr.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}_handleAnimation(t){t&&this._disposers.push(t.events.on("stopped",()=>{this.setPrivateRaw("isBusy",!1),this._thumbBusy=!1}))}_afterNew(){this._addOrientationClass(),super._afterNew();let t=this.startGrip,e=this.endGrip,i=this.thumb,r=this.get("background");r&&this._disposers.push(r.events.on("click",a=>{this.setPrivateRaw("isBusy",!0);let n=this._display.toLocal(a.point),o=this.width(),l=this.height(),u=this.get("orientation"),h;u=="vertical"?h=(n.y-i.height()/2)/l:h=(n.x-i.width()/2)/o;let c,A;u=="vertical"?(c=h*l,A="y"):(c=h*o,A="x");let d=this.get("animationDuration",0);d>0?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:A,to:c,duration:d,easing:this.get("animationEasing")}))):(this.thumb.set(A,c),this._root.events.once("frameended",()=>{this.setPrivateRaw("isBusy",!1)}))})),this._disposers.push(i.events.on("dblclick",a=>{if(!Sd(a.originalEvent,this))return;let n=this.get("animationDuration",0),o=this.get("animationEasing");this.animate({key:"start",to:0,duration:n,easing:o}),this.animate({key:"end",to:1,duration:n,easing:o})})),this._disposers.push(t.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._startDown=!0,this._gripDown="start"})),this._disposers.push(e.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._endDown=!0,this._gripDown="end"})),this._disposers.push(i.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._thumbDown=!0,this._gripDown=void 0})),this._disposers.push(t.events.on("globalpointerup",()=>{this._startDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._startDown=!1})),this._disposers.push(e.events.on("globalpointerup",()=>{this._endDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._endDown=!1})),this._disposers.push(i.events.on("globalpointerup",()=>{this._thumbDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._thumbDown=!1})),this._disposers.push(t.on("x",()=>{this._updateThumb()})),this._disposers.push(e.on("x",()=>{this._updateThumb()})),this._disposers.push(t.on("y",()=>{this._updateThumb()})),this._disposers.push(e.on("y",()=>{this._updateThumb()})),this._disposers.push(i.events.on("positionchanged",()=>{this._updateGripsByThumb()})),this.get("orientation")=="vertical"?(t.set("x",0),e.set("x",0),this._disposers.push(i.adapters.add("y",a=>Math.max(Math.min(Number(a),this.height()-i.height()),0))),this._disposers.push(i.adapters.add("x",a=>this.width()/2)),this._disposers.push(t.adapters.add("x",a=>this.width()/2)),this._disposers.push(e.adapters.add("x",a=>this.width()/2)),this._disposers.push(t.adapters.add("y",a=>Math.max(Math.min(Number(a),this.height()),0))),this._disposers.push(e.adapters.add("y",a=>Math.max(Math.min(Number(a),this.height()),0)))):(t.set("y",0),e.set("y",0),this._disposers.push(i.adapters.add("x",a=>Math.max(Math.min(Number(a),this.width()-i.width()),0))),this._disposers.push(i.adapters.add("y",a=>this.height()/2)),this._disposers.push(t.adapters.add("y",a=>this.height()/2)),this._disposers.push(e.adapters.add("y",a=>this.height()/2)),this._disposers.push(t.adapters.add("x",a=>Math.max(Math.min(Number(a),this.width()),0))),this._disposers.push(e.adapters.add("x",a=>Math.max(Math.min(Number(a),this.width()),0))))}_updateChildren(){super._updateChildren(),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){if(super._changed(),this.isDirty("start")||this.isDirty("end")){let t="rangechanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}_released(){let t="released";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}updateGrips(){let t=this.startGrip,e=this.endGrip,i=this.get("orientation"),r=this.height(),a=this.width();i=="vertical"?(t.set("y",r*this.get("start",0)),e.set("y",r*this.get("end",1))):(t.set("x",a*this.get("start",0)),e.set("x",a*this.get("end",1)));let n=this.getPrivate("positionTextFunction"),o=Math.round(this.get("start",0)*100),l=Math.round(this.get("end",0)*100),u,h;n?(u=n.call(this,this.get("start",0)),h=n.call(this,this.get("end",0))):(u=o+"%",h=l+"%"),t.set("ariaLabel",this._t("From %1",void 0,u)),t.set("ariaValueNow",""+o),t.set("ariaValueText",o+"%"),t.set("ariaValueMin","0"),t.set("ariaValueMax","100"),e.set("ariaLabel",this._t("To %1",void 0,h)),e.set("ariaValueNow",""+l),e.set("ariaValueText",l+"%"),e.set("ariaValueMin","0"),e.set("ariaValueMax","100")}_updateThumb(){let t=this.thumb,e=this.startGrip,i=this.endGrip,r=this.height(),a=this.width(),n=e.x(),o=i.x(),l=e.y(),u=i.y(),h=0,c=1;this.get("orientation")=="vertical"?ee(l)&&ee(u)&&(!this._thumbBusy&&!t.isDragging()&&(t.set("height",u-l),t.set("y",l)),h=l/r,c=u/r):ee(n)&&ee(o)&&(!this._thumbBusy&&!t.isDragging()&&(t.set("width",o-n),t.set("x",n)),h=n/a,c=o/a),this.getPrivate("isBusy")&&(this.get("start")!=h||this.get("end")!=c)&&(this.set("start",h),this.set("end",c));let A=this.getPrivate("positionTextFunction"),d=Math.round(this.get("start",0)*100),f=Math.round(this.get("end",0)*100),p,m;A?(p=A.call(this,this.get("start",0)),m=A.call(this,this.get("end",0))):(p=d+"%",m=f+"%"),t.set("ariaLabel",this._t("From %1 to %2",void 0,p,m)),t.set("ariaValueNow",""+d),t.set("ariaValueText",d+"%")}_updateGripsByThumb(){let t=this.thumb,e=this.startGrip,i=this.endGrip;if(this.get("orientation")=="vertical"){let r=t.height();e.set("y",t.y()),i.set("y",t.y()+r)}else{let r=t.width();e.set("x",t.x()),i.set("x",t.x()+r)}}};Object.defineProperty(Yo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"});Object.defineProperty(Yo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([Yo.className])});function ar(s){return function(){return s}}var o_=Math.abs,Zs=Math.atan2,Qu=Math.cos,WF=Math.max,Jg=Math.min,ao=Math.sin,tc=Math.sqrt,Fa=1e-12,Ld=Math.PI,Yf=Ld/2,zF=2*Ld;function GF(s){return s>1?0:s<-1?Ld:Math.acos(s)}function l_(s){return s>=1?Yf:s<=-1?-Yf:Math.asin(s)}var u_=Math.PI,h_=2*u_,ic=1e-6,$U=h_-ic;function YF(s){this._+=s[0];for(let t=1,e=s.length;t<e;++t)this._+=arguments[t]+s[t]}function kU(s){let t=Math.floor(s);if(!(t>=0))throw new Error(`invalid digits: ${s}`);if(t>15)return YF;let e=10**t;return function(i){this._+=i[0];for(let r=1,a=i.length;r<a;++r)this._+=Math.round(arguments[r]*e)/e+i[r]}}var rc=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?YF:kU(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,i,r){this._append`Q${+t},${+e},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(t,e,i,r,a,n){this._append`C${+t},${+e},${+i},${+r},${this._x1=+a},${this._y1=+n}`}arcTo(t,e,i,r,a){if(t=+t,e=+e,i=+i,r=+r,a=+a,a<0)throw new Error(`negative radius: ${a}`);let n=this._x1,o=this._y1,l=i-t,u=r-e,h=n-t,c=o-e,A=h*h+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(A>ic)if(!(Math.abs(c*l-u*h)>ic)||!a)this._append`L${this._x1=t},${this._y1=e}`;else{let d=i-n,f=r-o,p=l*l+u*u,m=d*d+f*f,g=Math.sqrt(p),y=Math.sqrt(A),x=a*Math.tan((u_-Math.acos((p+A-m)/(2*g*y)))/2),C=x/y,S=x/g;Math.abs(C-1)>ic&&this._append`L${t+C*h},${e+C*c}`,this._append`A${a},${a},0,0,${+(c*d>h*f)},${this._x1=t+S*l},${this._y1=e+S*u}`}}arc(t,e,i,r,a,n){if(t=+t,e=+e,i=+i,n=!!n,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(r),l=i*Math.sin(r),u=t+o,h=e+l,c=1^n,A=n?r-a:a-r;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>ic||Math.abs(this._y1-h)>ic)&&this._append`L${u},${h}`,i&&(A<0&&(A=A%h_+h_),A>$U?this._append`A${i},${i},0,1,${c},${t-o},${e-l}A${i},${i},0,1,${c},${this._x1=u},${this._y1=h}`:A>ic&&this._append`A${i},${i},0,${+(A>=u_)},${c},${this._x1=t+i*Math.cos(a)},${this._y1=e+i*Math.sin(a)}`)}rect(t,e,i,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}};function KF(){return new rc}KF.prototype=rc.prototype;function Id(s){let t=3;return s.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{let i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);t=i}return s},()=>new rc(t)}function EU(s){return s.innerRadius}function MU(s){return s.outerRadius}function RU(s){return s.startAngle}function UU(s){return s.endAngle}function VU(s){return s&&s.padAngle}function NU(s,t,e,i,r,a,n,o){var l=e-s,u=i-t,h=n-r,c=o-a,A=c*l-h*u;if(!(A*A<Fa))return A=(h*(t-a)-c*(s-r))/A,[s+A*l,t+A*u]}function ey(s,t,e,i,r,a,n){var o=s-e,l=t-i,u=(n?a:-a)/tc(o*o+l*l),h=u*l,c=-u*o,A=s+h,d=t+c,f=e+h,p=i+c,m=(A+f)/2,g=(d+p)/2,y=f-A,x=p-d,C=y*y+x*x,S=r-a,P=A*p-f*d,F=(x<0?-1:1)*tc(WF(0,S*S*C-P*P)),O=(P*x-y*F)/C,$=(-P*y-x*F)/C,L=(P*x+y*F)/C,E=(-P*y+x*F)/C,D=O-m,H=$-g,te=L-m,K=E-g;return D*D+H*H>te*te+K*K&&(O=L,$=E),{cx:O,cy:$,x01:-h,y01:-c,x11:O*(r/S-1),y11:$*(r/S-1)}}function no(){var s=EU,t=MU,e=ar(0),i=null,r=RU,a=UU,n=VU,o=null,l=Id(u);function u(){var h,c,A=+s.apply(this,arguments),d=+t.apply(this,arguments),f=r.apply(this,arguments)-Yf,p=a.apply(this,arguments)-Yf,m=o_(p-f),g=p>f;if(o||(o=h=l()),d<A&&(c=d,d=A,A=c),!(d>Fa))o.moveTo(0,0);else if(m>zF-Fa)o.moveTo(d*Qu(f),d*ao(f)),o.arc(0,0,d,f,p,!g),A>Fa&&(o.moveTo(A*Qu(p),A*ao(p)),o.arc(0,0,A,p,f,g));else{var y=f,x=p,C=f,S=p,P=m,F=m,O=n.apply(this,arguments)/2,$=O>Fa&&(i?+i.apply(this,arguments):tc(A*A+d*d)),L=Jg(o_(d-A)/2,+e.apply(this,arguments)),E=L,D=L,H,te;if($>Fa){var K=l_($/A*ao(O)),ae=l_($/d*ao(O));(P-=K*2)>Fa?(K*=g?1:-1,C+=K,S-=K):(P=0,C=S=(f+p)/2),(F-=ae*2)>Fa?(ae*=g?1:-1,y+=ae,x-=ae):(F=0,y=x=(f+p)/2)}var ie=d*Qu(y),fe=d*ao(y),z=A*Qu(S),Y=A*ao(S);if(L>Fa){var ge=d*Qu(x),re=d*ao(x),me=A*Qu(C),Ge=A*ao(C),Xe;if(m<Ld)if(Xe=NU(ie,fe,me,Ge,ge,re,z,Y)){var nt=ie-Xe[0],At=fe-Xe[1],tt=ge-Xe[0],ft=re-Xe[1],_t=1/ao(GF((nt*tt+At*ft)/(tc(nt*nt+At*At)*tc(tt*tt+ft*ft)))/2),$t=tc(Xe[0]*Xe[0]+Xe[1]*Xe[1]);E=Jg(L,(A-$t)/(_t-1)),D=Jg(L,(d-$t)/(_t+1))}else E=D=0}F>Fa?D>Fa?(H=ey(me,Ge,ie,fe,d,D,g),te=ey(ge,re,z,Y,d,D,g),o.moveTo(H.cx+H.x01,H.cy+H.y01),D<L?o.arc(H.cx,H.cy,D,Zs(H.y01,H.x01),Zs(te.y01,te.x01),!g):(o.arc(H.cx,H.cy,D,Zs(H.y01,H.x01),Zs(H.y11,H.x11),!g),o.arc(0,0,d,Zs(H.cy+H.y11,H.cx+H.x11),Zs(te.cy+te.y11,te.cx+te.x11),!g),o.arc(te.cx,te.cy,D,Zs(te.y11,te.x11),Zs(te.y01,te.x01),!g))):(o.moveTo(ie,fe),o.arc(0,0,d,y,x,!g)):o.moveTo(ie,fe),!(A>Fa)||!(P>Fa)?o.lineTo(z,Y):E>Fa?(H=ey(z,Y,ge,re,A,-E,g),te=ey(ie,fe,me,Ge,A,-E,g),o.lineTo(H.cx+H.x01,H.cy+H.y01),E<L?o.arc(H.cx,H.cy,E,Zs(H.y01,H.x01),Zs(te.y01,te.x01),!g):(o.arc(H.cx,H.cy,E,Zs(H.y01,H.x01),Zs(H.y11,H.x11),!g),o.arc(0,0,A,Zs(H.cy+H.y11,H.cx+H.x11),Zs(te.cy+te.y11,te.cx+te.x11),g),o.arc(te.cx,te.cy,E,Zs(te.y11,te.x11),Zs(te.y01,te.x01),!g))):o.arc(0,0,A,S,C,g)}if(o.closePath(),h)return o=null,h+""||null}return u.centroid=function(){var h=(+s.apply(this,arguments)+ +t.apply(this,arguments))/2,c=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-Ld/2;return[Qu(c)*h,ao(c)*h]},u.innerRadius=function(h){return arguments.length?(s=typeof h=="function"?h:ar(+h),u):s},u.outerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:ar(+h),u):t},u.cornerRadius=function(h){return arguments.length?(e=typeof h=="function"?h:ar(+h),u):e},u.padRadius=function(h){return arguments.length?(i=h==null?null:typeof h=="function"?h:ar(+h),u):i},u.startAngle=function(h){return arguments.length?(r=typeof h=="function"?h:ar(+h),u):r},u.endAngle=function(h){return arguments.length?(a=typeof h=="function"?h:ar(+h),u):a},u.padAngle=function(h){return arguments.length?(n=typeof h=="function"?h:ar(+h),u):n},u.context=function(h){return arguments.length?(o=h??null,u):o},u}var o9=Array.prototype.slice;function ty(s){return typeof s=="object"&&"length"in s?s:Array.from(s)}function ZF(s){this._context=s}ZF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(s,t){switch(s=+s,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(s,t):this._context.moveTo(s,t);break;case 1:this._point=2;default:this._context.lineTo(s,t);break}}};function sc(s){return new ZF(s)}function iy(s){return s[0]}function ry(s){return s[1]}function Kf(s,t){var e=ar(!0),i=null,r=sc,a=null,n=Id(o);s=typeof s=="function"?s:s===void 0?iy:ar(s),t=typeof t=="function"?t:t===void 0?ry:ar(t);function o(l){var u,h=(l=ty(l)).length,c,A=!1,d;for(i==null&&(a=r(d=n())),u=0;u<=h;++u)!(u<h&&e(c=l[u],u,l))===A&&((A=!A)?a.lineStart():a.lineEnd()),A&&a.point(+s(c,u,l),+t(c,u,l));if(d)return a=null,d+""||null}return o.x=function(l){return arguments.length?(s=typeof l=="function"?l:ar(+l),o):s},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:ar(+l),o):t},o.defined=function(l){return arguments.length?(e=typeof l=="function"?l:ar(!!l),o):e},o.curve=function(l){return arguments.length?(r=l,i!=null&&(a=r(i)),o):r},o.context=function(l){return arguments.length?(l==null?i=a=null:a=r(i=l),o):i},o}function c_(s,t,e){var i=null,r=ar(!0),a=null,n=sc,o=null,l=Id(u);s=typeof s=="function"?s:s===void 0?iy:ar(+s),t=typeof t=="function"?t:t===void 0?ar(0):ar(+t),e=typeof e=="function"?e:e===void 0?ry:ar(+e);function u(c){var A,d,f,p=(c=ty(c)).length,m,g=!1,y,x=new Array(p),C=new Array(p);for(a==null&&(o=n(y=l())),A=0;A<=p;++A){if(!(A<p&&r(m=c[A],A,c))===g)if(g=!g)d=A,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),f=A-1;f>=d;--f)o.point(x[f],C[f]);o.lineEnd(),o.areaEnd()}g&&(x[A]=+s(m,A,c),C[A]=+t(m,A,c),o.point(i?+i(m,A,c):x[A],e?+e(m,A,c):C[A]))}if(y)return o=null,y+""||null}function h(){return Kf().defined(r).curve(n).context(a)}return u.x=function(c){return arguments.length?(s=typeof c=="function"?c:ar(+c),i=null,u):s},u.x0=function(c){return arguments.length?(s=typeof c=="function"?c:ar(+c),u):s},u.x1=function(c){return arguments.length?(i=c==null?null:typeof c=="function"?c:ar(+c),u):i},u.y=function(c){return arguments.length?(t=typeof c=="function"?c:ar(+c),e=null,u):t},u.y0=function(c){return arguments.length?(t=typeof c=="function"?c:ar(+c),u):t},u.y1=function(c){return arguments.length?(e=c==null?null:typeof c=="function"?c:ar(+c),u):e},u.lineX0=u.lineY0=function(){return h().x(s).y(t)},u.lineY1=function(){return h().x(s).y(e)},u.lineX1=function(){return h().x(i).y(t)},u.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ar(!!c),u):r},u.curve=function(c){return arguments.length?(n=c,a!=null&&(o=n(a)),u):n},u.context=function(c){return arguments.length?(c==null?a=o=null:o=n(a=c),u):a},u}var sy=class{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e);break}}this._x0=t,this._y0=e}};function d_(s){return new sy(s,!0)}function A_(s){return new sy(s,!1)}function f_(){}function qF(s,t,e){s._context.bezierCurveTo(s._x1+s._k*(s._x2-s._x0),s._y1+s._k*(s._y2-s._y0),s._x2+s._k*(s._x1-t),s._y2+s._k*(s._y1-e),s._x2,s._y2)}function JF(s,t){this._context=s,this._k=(1-t)/6}JF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:qF(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(s,t){switch(s=+s,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(s,t):this._context.moveTo(s,t);break;case 1:this._point=2,this._x1=s,this._y1=t;break;case 2:this._point=3;default:qF(this,s,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=s,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var p_=function s(t){function e(i){return new JF(i,t)}return e.tension=function(i){return s(+i)},e}(0);function eT(s){this._context=s}eT.prototype={areaStart:f_,areaEnd:f_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(s,t){s=+s,t=+t,this._point?this._context.lineTo(s,t):(this._point=1,this._context.moveTo(s,t))}};function m_(s){return new eT(s)}function tT(s,t){this._context=s,this._t=t}tT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(s,t){switch(s=+s,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(s,t):this._context.moveTo(s,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(s,t);else{var e=this._x*(1-this._t)+s*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,t)}break}}this._x=s,this._y=t}};function g_(s){return new tT(s,1)}var qs=class extends pt{constructor(){super(...arguments),Object.defineProperty(this,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:no()})}_getTooltipPoint(){let t=this.get("tooltipX"),e=this.get("tooltipY"),i=0,r=0;ee(t)&&(i=t),ee(e)&&(r=e);let a=this.get("radius",0),n=this.get("innerRadius",0),o=this.get("dRadius",0),l=this.get("dInnerRadius",0);return a+=o,n+=l,n<0&&(n=a+n),t instanceof yt&&(i=this.ix*(n+(a-n)*t.value)),e instanceof yt&&(r=this.iy*(n+(a-n)*e.value)),this.get("arc")>=360&&n==0&&(i=0,r=0),{x:i,y:r}}_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius")||this.isDirty("shiftRadius"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let t=this.get("startAngle",0),e=this.get("arc",0),i=this._generator;e<0&&(t=t+e,e=e*-1),e>.1&&i.cornerRadius(this.get("cornerRadius",0)),i.context(this._display);let r=this.get("radius",0),a=this.get("innerRadius",0),n=this.get("dRadius",0),o=this.get("dInnerRadius",0);r+=n,a+=o,a<0&&(a=r+a),i({innerRadius:a,outerRadius:r,startAngle:(t+90)*Fr,endAngle:(t+e+90)*Fr});let l=t+e/2;this.ix=Pi(l),this.iy=xi(l);let u=this.get("shiftRadius",0);this.setRaw("dx",this.ix*u),this.setRaw("dy",this.iy*u),this.markDirtyPosition()}}};Object.defineProperty(qs,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"});Object.defineProperty(qs,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pt.classNames.concat([qs.className])});var Hu=class extends Re{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Re.new(this._root,{width:be,height:be,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:Re.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:be,height:be})})}};Object.defineProperty(Hu,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"});Object.defineProperty(Hu,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([Hu.className])});var Bs=class extends Hu{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:Re.new(this._root,{width:be,height:be,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new $u})}_afterNew(){super._afterNew(),this._disposers.push(this.series);let t=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(e=>{if(e.type==="clear"){Z(e.oldValues,a=>{this._removeSeries(a)});let i=this.get("colors");i&&i.reset();let r=this.get("patterns");r&&r.reset()}else if(e.type==="push")t.moveValue(e.newValue),this._processSeries(e.newValue);else if(e.type==="setIndex")t.setIndex(e.index,e.newValue),this._processSeries(e.newValue);else if(e.type==="insertIndex")t.insertIndex(e.index,e.newValue),this._processSeries(e.newValue);else if(e.type==="removeIndex")this._removeSeries(e.oldValue);else if(e.type==="moveIndex")t.moveValue(e.value,e.newIndex),this._processSeries(e.value);else if(e.type==="swap"){let i=e.a,r=e.b,a=this.series.indexOf(i),n=this.series.indexOf(r);t.moveValue(i,n),t.moveValue(r,a),this.series.each(o=>{this._processSeries(o),o.markDirtyValues()})}else throw new Error("Unknown IListEvent type")}))}_processSeries(t){t.chart=this,t._placeBulletsContainer(this)}_removeSeries(t){t._handleRemoved(),t.isDisposed()||(this.seriesContainer.children.removeValue(t),t._removeBulletsContainer())}};Object.defineProperty(Bs,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"});Object.defineProperty(Bs,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Hu.classNames.concat([Bs.className])});var Ko=class extends Nu{};Object.defineProperty(Ko,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"});Object.defineProperty(Ko,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Nu.classNames.concat([Ko.className])});var Ql=class extends ja{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();let t=this.get("width",100),e=this.get("height",100),i=this.get("gap",0),r=this.get("strokeWidth",1);if(!i)this._display.moveTo(0,0),this._display.lineTo(t,0);else{let o=i+r,l=e/o,u=this.get("angle",0)*Math.PI/180;if(u===0)for(let h=-l;h<l*2;h++){let c=Math.round(h*o-o/2)+.5;this._display.moveTo(-t,c),this._display.lineTo(t*2,c)}else{let h=Math.cos(u),c=Math.sin(u),A=Math.sqrt(t*t+e*e)*2,d=o/Math.max(Math.abs(h),Math.abs(c)),f=Math.ceil(A/d)*2;for(let p=-f;p<f;p++){let m=p*o,g=m*c-A*h,y=m*h+A*c,x=m*c+A*h,C=m*h-A*c;this._display.moveTo(g,y),this._display.lineTo(x,C)}}}this._display.lineStyle(r,this.get("color"),this.get("colorOpacity"));let a=this.get("strokeDasharray");ee(a)&&(a<.5?a=[0]:a=[a]),this._display.setLineDash(a);let n=this.get("strokeDashoffset");n&&this._display.setLineDashOffset(n),this._display.endStroke()}};Object.defineProperty(Ql,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinePattern"});Object.defineProperty(Ql,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ja.classNames.concat([Ql.className])});var ju=class extends ja{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();let t=this.get("checkered",!1),e=this.get("centered",!0),i=this.get("gap",0),r=this.get("rotation",0),a=this.get("width",100),n=this.get("height",100),o=this.get("maxWidth",5),l=this.get("maxHeight",5),u=this._display,h=o+i,c=l+i,A=Math.round(a/h),d=Math.round(n/c);h=a/A,c=n/d,r!=0&&(u.x=h/2*Pi(r),u.y=-c/2*xi(r));for(let m=r==0?0:-d*2;m<d*2;m++)for(let g=r==0?0:-A*2;g<A*2;g++)if(!t||(m&1)!=1&&(g&1)!=1||(m&1)==1&&(g&1)==1){let y=g*h,x=m*c;e&&(y+=(h-o)/2,x+=(c-l)/2),u.drawRect(y,x,o,l)}t?(a=a/2-i*2,n=n/2-i*2):(a-=i,n-=i);let f=this.get("color"),p=this.get("colorOpacity");(f||p)&&(u.beginFill(f,p),u.endFill())}};Object.defineProperty(ju,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RectanglePattern"});Object.defineProperty(ju,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ja.classNames.concat([ju.className])});var Zo=class extends ii{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);let t=this.getPrivate("currentPass"),e=this.get("colors",[this.get("baseColor",rt.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",e.length);let i=this.getPrivate("numColors"),r=0,a=this.get("passOptions"),n=this.get("reuse");for(let o=r;o<i;o++)if(n)e.push(e[o]);else{let l=e[o].toHSL(),u=l.h+(a.hue||0)*t;for(;u>1;)u-=1;let h=l.s+(a.saturation||0)*t;h>1&&(h=1),h<0&&(h=0);let c=l.l+(a.lightness||0)*t;for(;c>1;)c-=1;e.push(rt.fromHSL(u,h,c))}}getIndex(t){let e=this.get("colors",[]),i=this.get("saturation");return t>=e.length?(this.generateColors(),this.getIndex(t)):i!=null?rt.saturate(e[t],i):e[t]}next(){let t=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",t+this.get("step",1)),this.getIndex(t)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}};Object.defineProperty(Zo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"});Object.defineProperty(Zo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ii.classNames.concat([Zo.className])});var ay=class extends Wa{setupDefaultRules(){super.setupDefaultRules();let t=this._root.interfaceColors,e=this.rule.bind(this);e("PercentSeries").setAll({legendLabelText:"{category}",legendValueText:"{valuePercentTotal.formatNumber('0.00p')}",colors:Zo.new(this._root,{}),width:be,height:be}),e("PieChart").setAll({radius:Ot(80),startAngle:-90,endAngle:270}),e("PieSeries").setAll({alignLabels:!0,startAngle:-90,endAngle:270}),e("PieSeries").states.create("hidden",{endAngle:-90,opacity:0}),e("Slice",["pie"]).setAll({position:"absolute",isMeasured:!1,x:0,y:0,toggleKey:"active",tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}",strokeWidth:1,strokeOpacity:1,role:"figure",lineJoin:"round"}),e("Slice",["pie"]).states.create("active",{shiftRadius:20,scale:1}),e("Slice",["pie"]).states.create("hoverActive",{scale:1.04}),e("Slice",["pie"]).states.create("hover",{scale:1.04}),e("RadialLabel",["pie"]).setAll({textType:"aligned",radius:10,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",paddingTop:5,paddingBottom:5,populateText:!0}),e("Tick",["pie"]).setAll({location:1}),e("SlicedChart").setAll({paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10}),e("FunnelSeries").setAll({startLocation:0,endLocation:1,orientation:"vertical",alignLabels:!0,sequencedInterpolation:!0}),e("FunnelSlice").setAll({interactive:!0,expandDistance:0}),e("FunnelSlice").states.create("hover",{expandDistance:.15}),e("Label",["funnel"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:Qe}),e("Label",["funnel","horizontal"]).setAll({centerX:0,centerY:Qe,rotation:-90}),e("Label",["funnel","vertical"]).setAll({centerY:Qe,centerX:0}),e("Tick",["funnel"]).setAll({location:1}),e("FunnelSlice",["funnel","link"]).setAll({fillOpacity:.5,strokeOpacity:0,expandDistance:-.1}),e("FunnelSlice",["funnel","link","vertical"]).setAll({height:10}),e("FunnelSlice",["funnel","link","horizontal"]).setAll({width:10}),e("PyramidSeries").setAll({valueIs:"area"}),e("FunnelSlice",["pyramid","link"]).setAll({fillOpacity:.5}),e("FunnelSlice",["pyramid","link","vertical"]).setAll({height:0}),e("FunnelSlice",["pyramid","link","horizontal"]).setAll({width:0}),e("FunnelSlice",["pyramid"]).setAll({interactive:!0,expandDistance:0}),e("FunnelSlice",["pyramid"]).states.create("hover",{expandDistance:.15}),e("Label",["pyramid"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:Qe}),e("Label",["pyramid","horizontal"]).setAll({centerX:0,centerY:Qe,rotation:-90}),e("Label",["pyramid","vertical"]).setAll({centerY:Qe,centerX:0}),e("Tick",["pyramid"]).setAll({location:1}),e("FunnelSlice",["pictorial"]).setAll({interactive:!0,tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}"}),e("Label",["pictorial"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:Qe}),e("Label",["pictorial","horizontal"]).setAll({centerX:0,centerY:Qe,rotation:-90}),e("Label",["pictorial","vertical"]).setAll({centerY:Qe,centerX:0}),e("FunnelSlice",["pictorial","link"]).setAll({fillOpacity:.5,width:0,height:0}),e("Tick",["pictorial"]).setAll({location:.5});{let i=e("Graphics",["pictorial","background"]);i.setAll({fillOpacity:.2}),He(i,"fill",t,"alternativeBackground")}}};var Xu=class extends Bs{_afterNew(){this._defaultThemes.push(ay.new(this._root)),super._afterNew(),this.chartContainer.children.push(this.seriesContainer),this.seriesContainer.children.push(this.bulletsContainer)}_processSeries(t){super._processSeries(t),this.seriesContainer.children.moveValue(this.bulletsContainer,this.seriesContainer.children.length-1)}};Object.defineProperty(Xu,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentChart"});Object.defineProperty(Xu,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Bs.classNames.concat([Xu.className])});var Wu=class extends Cs{constructor(){super(...arguments),Object.defineProperty(this,"slicesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Re.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Re.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"ticksContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Re.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"_lLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_rLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_hLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"slices",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeSlices())}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeLabels())}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeTicks())})}makeSlice(t){let e=this.slicesContainer.children.push(this.slices.make());return e.on("fill",()=>{this.updateLegendMarker(t)}),e.on("fillPattern",()=>{this.updateLegendMarker(t)}),e.on("stroke",()=>{this.updateLegendMarker(t)}),e._setDataItem(t),t.set("slice",e),this.slices.push(e),e}makeLabel(t){let e=this.labelsContainer.children.push(this.labels.make());return e._setDataItem(t),t.set("label",e),this.labels.push(e),e}_shouldMakeBullet(t){return t.get("value")!=null}makeTick(t){let e=this.ticksContainer.children.push(this.ticks.make());return e._setDataItem(t),t.set("tick",e),this.ticks.push(e),e}_afterNew(){this.fields.push("category","fill"),super._afterNew()}_onDataClear(){let t=this.get("colors");t&&t.reset();let e=this.get("patterns");e&&e.reset()}_prepareChildren(){if(super._prepareChildren(),this._lLabels=[],this._rLabels=[],this._hLabels=[],this._valuesDirty){let t=0,e=0,i=0,r=1/0,a=0;Z(this._dataItems,n=>{let o=n.get("valueWorking",0);t+=o,e+=Math.abs(o)}),Z(this._dataItems,n=>{let o=n.get("valueWorking",0);o>i&&(i=o),o<r&&(r=o),a++;let l=o/e;e==0&&(l=0),n.setRaw("valuePercentTotal",l*100)}),this.setPrivateRaw("valueLow",r),this.setPrivateRaw("valueHigh",i),this.setPrivateRaw("valueSum",t),this.setPrivateRaw("valueAverage",t/a),this.setPrivateRaw("valueAbsoluteSum",e)}}show(t){let e=Object.create(null,{show:{get:()=>super.show}});return je(this,void 0,void 0,function*(){let i=[];i.push(e.show.call(this,t)),i.push(this._sequencedShowHide(!0,t)),yield Promise.all(i)})}hide(t){let e=Object.create(null,{hide:{get:()=>super.hide}});return je(this,void 0,void 0,function*(){let i=[];i.push(e.hide.call(this,t)),i.push(this._sequencedShowHide(!1,t)),yield Promise.all(i)})}_updateChildren(){super._updateChildren(),this._valuesDirty&&Z(this._dataItems,t=>{t.get("label").text.markDirtyText()}),(this.isDirty("legendLabelText")||this.isDirty("legendValueText"))&&Z(this._dataItems,t=>{this.updateLegendValue(t)}),this._arrange()}_arrange(){this._arrangeDown(this._lLabels),this._arrangeUp(this._lLabels),this._arrangeDown(this._rLabels),this._arrangeUp(this._rLabels),this._arrangeLeft(this._hLabels),this._arrangeRight(this._hLabels),Z(this.dataItems,t=>{this._updateTick(t)})}_afterChanged(){super._afterChanged(),this._arrange()}processDataItem(t){if(super.processDataItem(t),t.get("fill")==null){let e=this.get("colors");e&&t.setRaw("fill",e.next())}if(t.get("fillPattern")==null){let e=this.get("patterns");e&&t.setRaw("fillPattern",e.next())}}showDataItem(t,e){let i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return je(this,void 0,void 0,function*(){let r=[i.showDataItem.call(this,t,e)];ee(e)||(e=this.get("stateAnimationDuration",0));let a=this.get("stateAnimationEasing"),n=t.get("value"),o=t.animate({key:"valueWorking",to:n,duration:e,easing:a});o&&r.push(o.waitForStop());let l=t.get("tick");l&&r.push(l.show(e));let u=t.get("label");u&&r.push(u.show(e));let h=t.get("slice");h&&r.push(h.show(e)),h.get("active")&&h.states.applyAnimate("active"),yield Promise.all(r)})}hideDataItem(t,e){let i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return je(this,void 0,void 0,function*(){let r=[i.hideDataItem.call(this,t,e)],a=this.states.create("hidden",{});ee(e)||(e=a.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));let n=a.get("stateAnimationEasing",this.get("stateAnimationEasing")),o=t.animate({key:"valueWorking",to:0,duration:e,easing:n});o&&r.push(o.waitForStop());let l=t.get("tick");l&&r.push(l.hide(e));let u=t.get("label");u&&r.push(u.hide(e));let h=t.get("slice");h.hideTooltip(),h&&r.push(h.hide(e)),yield Promise.all(r)})}disposeDataItem(t){super.disposeDataItem(t);let e=t.get("label");e&&(this.labels.removeValue(e),e.dispose());let i=t.get("tick");i&&(this.ticks.removeValue(i),i.dispose());let r=t.get("slice");r&&(this.slices.removeValue(r),r.dispose())}hoverDataItem(t){let e=t.get("slice");e&&!e.isHidden()&&e.hover()}unhoverDataItem(t){let e=t.get("slice");e&&e.unhover()}updateLegendMarker(t){if(t){let e=t.get("slice");if(e){let i=t.get("legendDataItem");if(i){let r=i.get("markerRectangle");Z(Hf,a=>{e.get(a)!=null&&r.set(a,e.get(a))})}}}}_arrangeDown(t){if(t){let e=this._getNextDown();t.sort((i,r)=>i.y>r.y?1:i.y<r.y?-1:0),Z(t,i=>{let r=i.label.adjustedLocalBounds(),a=r.top;i.y+a<e&&(i.y=e-a),i.label.set("y",i.y),e=i.y+r.bottom})}}_getNextUp(){return this.labelsContainer.maxHeight()}_getNextDown(){return 0}_arrangeUp(t){if(t){let e=this._getNextUp();t.sort((i,r)=>i.y<r.y?1:i.y>r.y?-1:0),Z(t,i=>{let r=i.label.adjustedLocalBounds(),a=r.bottom;i.y+a>e&&(i.y=e-a),i.label.set("y",i.y),e=i.y+r.top})}}_arrangeRight(t){if(t){let e=0;t.sort((i,r)=>i.y>r.y?1:i.y<r.y?-1:0),Z(t,i=>{let r=i.label.adjustedLocalBounds(),a=r.left;i.y+a<e&&(i.y=e-a),i.label.set("x",i.y),e=i.y+r.right})}}_arrangeLeft(t){if(t){let e=this.labelsContainer.maxWidth();t.sort((i,r)=>i.y<r.y?1:i.y>r.y?-1:0),Z(t,i=>{let r=i.label.adjustedLocalBounds(),a=r.right;i.y+a>e&&(i.y=e-a),i.label.set("x",i.y),e=i.y+r.left})}}_updateSize(){super._updateSize(),this.markDirty()}_updateTick(t){}_dispose(){super._dispose();let t=this.chart;t&&t.series.removeValue(this)}};Object.defineProperty(Wu,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentSeries"});Object.defineProperty(Wu,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Cs.classNames.concat([Wu.className])});var Js=class extends Xu{constructor(){super(...arguments),Object.defineProperty(this,"_maxRadius",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){super._afterNew(),this.seriesContainer.setAll({x:Qe,y:Qe})}_prepareChildren(){super._prepareChildren();let t=this.chartContainer,e=t.innerWidth(),i=t.innerHeight(),r=this.get("startAngle",0),a=this.get("endAngle",0),n=this.get("innerRadius"),o=ku(0,0,r,a,1),l=e/(o.right-o.left),u=i/(o.bottom-o.top),h={left:0,right:0,top:0,bottom:0};if(n instanceof yt){let d=n.value,f=Math.min(l,u);d=Math.max(f*d,f-Math.min(i,e))/f,h=ku(0,0,r,a,d),this.setPrivateRaw("irModifyer",d/n.value)}o=kg([o,h]);let c=this._maxRadius;this._maxRadius=Math.min(l,u);let A=jt(this.get("radius",0),this._maxRadius);this.seriesContainer.setAll({dy:-A*(o.bottom+o.top)/2,dx:-A*(o.right+o.left)/2}),(this.isDirty("startAngle")||this.isDirty("endAngle")||c!=this._maxRadius)&&this.series.each(d=>{d._markDirtyKey("startAngle")}),(this.isDirty("innerRadius")||this.isDirty("radius"))&&this.series.each(d=>{d._markDirtyKey("innerRadius")})}radius(t){let e=jt(this.get("radius",0),this._maxRadius),i=jt(this.get("innerRadius",0),e);if(t){let r=this.series.indexOf(t),a=this.series.length,n=t.get("radius");return n!=null?i+jt(n,e-i):i+(e-i)/a*(r+1)}return e}innerRadius(t){let e=this.radius(),i=jt(this.get("innerRadius",0),e);if(i<0&&(i=e+i),t){let r=this.series.indexOf(t),a=this.series.length,n=t.get("innerRadius");return n!=null?i+jt(n,e-i):i+(e-i)/a*r}return i}_updateSize(){super._updateSize(),this.markDirtyKey("radius")}};Object.defineProperty(Js,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieChart"});Object.defineProperty(Js,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Xu.classNames.concat([Js.className])});var Gr=class extends Wu{_makeSlices(){return new Ii(Mt.new({}),()=>qs._new(this._root,{themeTags:lt(this.slices.template.get("themeTags",[]),["pie","series"])},[this.slices.template]))}_makeLabels(){return new Ii(Mt.new({}),()=>Go._new(this._root,{themeTags:lt(this.labels.template.get("themeTags",[]),["pie","series"])},[this.labels.template]))}_makeTicks(){return new Ii(Mt.new({}),()=>Ko._new(this._root,{themeTags:lt(this.ticks.template.get("themeTags",[]),["pie","series"])},[this.ticks.template]))}processDataItem(t){super.processDataItem(t);let e=this.makeSlice(t);e.on("scale",()=>{this._updateTick(t)}),e.on("shiftRadius",()=>{this._updateTick(t)}),e.events.on("positionchanged",()=>{this._updateTick(t)});let i=this.makeLabel(t);i.events.on("positionchanged",()=>{this._updateTick(t)}),this.makeTick(t),e.events.on("positionchanged",()=>{i.markDirty()})}_getNextUp(){let t=this.chart;return t?t._maxRadius:this.labelsContainer.maxHeight()/2}_getNextDown(){let t=this.chart;return t?-t._maxRadius:-this.labelsContainer.maxHeight()/2}_prepareChildren(){super._prepareChildren();let t=this.chart;if(t){if(this.isDirty("alignLabels")){let e=this.labels.template;if(this.get("alignLabels"))e.set("textType","aligned");else{let i=e.get("textType");(i==null||i=="aligned")&&e.set("textType","adjusted")}}if(this._valuesDirty||this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle")||this.isDirty("alignLabels")){this.markDirtyBounds();let e=this.get("startAngle",t.get("startAngle",-90)),r=this.get("endAngle",t.get("endAngle",270))-e,a=e,n=t.radius(this);this.setPrivateRaw("radius",n);let o=t.innerRadius(this)*t.getPrivate("irModifyer",1);o<0&&(o=n+o),Z(this._dataItems,l=>{this.updateLegendValue(l);let u=r*l.get("valuePercentTotal")/100,h=l.get("slice");if(h){h.set("radius",n),h.set("innerRadius",o),h.set("startAngle",a),h.set("arc",u);let d=l.get("fill");h._setDefault("fill",d),h._setDefault("stroke",d);let f=l.get("fillPattern");h._setDefault("fillPattern",f)}let c=da(a+u/2),A=l.get("label");if(A&&(A.setPrivate("radius",n),A.setPrivate("innerRadius",o),A.set("labelAngle",c),A.get("textType")=="aligned")){let d=n+A.get("radius",0),f=n*xi(c);c>90&&c<=270?(!A.isHidden()&&!A.isHiding()&&this._lLabels.push({label:A,y:f}),d*=-1,d-=this.labelsContainer.get("paddingLeft",0),A.set("centerX",be),A.setPrivateRaw("left",!0)):(!A.isHidden()&&!A.isHiding()&&this._rLabels.push({label:A,y:f}),d+=this.labelsContainer.get("paddingRight",0),A.set("centerX",0),A.setPrivateRaw("left",!1)),A.set("x",d),A.set("y",n*xi(c))}a+=u,this._updateTick(l)})}}}_updateTick(t){let e=t.get("tick"),i=t.get("label"),r=t.get("slice"),a=e.get("location",1);if(e&&i&&r){let n=(r.get("shiftRadius",0)+r.get("radius",0))*r.get("scale",1)*a,o=i.get("labelAngle",0),l=Pi(o),u=xi(o),h=this.labelsContainer,c=h.get("paddingLeft",0),A=h.get("paddingRight",0),d=0,f=0;d=i.x(),f=i.y();let p=[];if(d!=0||f!=0){if(i.get("textType")=="circular"){let g=i.radius()-i.get("paddingBottom",0),y=i.get("labelAngle",0);d=g*Pi(y),f=g*xi(y)}let m=-A;i.getPrivate("left")&&(m=c),p=[{x:r.x()+n*l,y:r.y()+n*u},{x:d+m,y:f},{x:d,y:f}]}e.set("points",p)}}_positionBullet(t){let e=t.get("sprite");if(e){let r=e.dataItem.get("slice");if(r){let a=r.get("innerRadius",0),n=r.get("radius",0),o=r.get("startAngle",0),l=r.get("arc",0),u=t.get("locationX",.5),h=t.get("locationY",.5),c=o+l*u,A=a+(n-a)*h;e.setAll({x:Pi(c)*A,y:xi(c)*A})}}}};Object.defineProperty(Gr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieSeries"});Object.defineProperty(Gr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Wu.classNames.concat([Gr.className])});var ac=class extends Ko{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}};Object.defineProperty(ac,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisTick"});Object.defineProperty(ac,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ko.classNames.concat([ac.className])});var qo=class extends pt{_beforeChanged(){super._beforeChanged(),(this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}};Object.defineProperty(qo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Grid"});Object.defineProperty(qo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pt.classNames.concat([qo.className])});var nc=class extends $i{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}};Object.defineProperty(nc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabel"});Object.defineProperty(nc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:$i.classNames.concat([nc.className])});var ea=class extends pt{constructor(){super(...arguments),Object.defineProperty(this,"_axisLength",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"_start",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_end",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_inversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_minSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lc",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_thumbDownPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Ii(Mt.new({}),()=>ac._new(this._root,{themeTags:lt(this.ticks.template.get("themeTags",[]),this.get("themeTags",[]))},[this.ticks.template])))}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Ii(Mt.new({}),()=>qo._new(this._root,{themeTags:lt(this.grid.template.get("themeTags",[]),this.get("themeTags",[]))},[this.grid.template])))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Ii(Mt.new({}),()=>pt._new(this._root,{themeTags:lt(this.axisFills.template.get("themeTags",["axis","fill"]),this.get("themeTags",[]))},[this.axisFills.template])))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Ii(Mt.new({}),()=>nc._new(this._root,{themeTags:lt(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template])))}),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}makeTick(t,e){let i=this.ticks.make();return i._setDataItem(t),t.setRaw("tick",i),i.set("themeTags",lt(i.get("themeTags"),e)),this.axis.labelsContainer.children.push(i),this.ticks.push(i),i}makeGrid(t,e){let i=this.grid.make();return i._setDataItem(t),t.setRaw("grid",i),i.set("themeTags",lt(i.get("themeTags"),e)),this.axis.gridContainer.children.push(i),this.grid.push(i),i}makeAxisFill(t,e){let i=this.axisFills.make();return i._setDataItem(t),i.set("themeTags",lt(i.get("themeTags"),e)),this.axis.gridContainer.children.push(i),t.setRaw("axisFill",i),this.axisFills.push(i),i}makeLabel(t,e){let i=this.labels.make();return i.set("themeTags",lt(i.get("themeTags"),e)),this.axis.labelsContainer.children.moveValue(i,0),i._setDataItem(t),t.setRaw("label",i),this.labels.push(i),i}axisLength(){return 0}gridCount(){return this.axisLength()/this.get("minGridDistance",50)}_updatePositions(){}_afterNew(){super._afterNew(),this.set("isMeasured",!1);let t=this.thumb;t&&(this._disposers.push(t.events.on("pointerdown",e=>{this._handleThumbDown(e)})),this._disposers.push(t.events.on("globalpointerup",e=>{this._handleThumbUp(e)})),this._disposers.push(t.events.on("globalpointermove",e=>{this._handleThumbMove(e)})))}_beforeChanged(){super._beforeChanged(),this.isDirty("minGridDistance")&&this.root.events.once("frameended",()=>{this.axis.markDirtySize()})}_changed(){if(super._changed(),this.isDirty("pan")){let t=this.thumb;if(t){let e=this.axis.labelsContainer,i=this.get("pan");i=="zoom"?e.children.push(t):i=="none"&&e.children.removeValue(t)}}}_handleThumbDown(t){this._thumbDownPoint=this.toLocal(t.point);let e=this.axis;this._downStart=e.get("start"),this._downEnd=e.get("end")}_handleThumbUp(t){this._thumbDownPoint=void 0}_handleThumbMove(t){let e=this._thumbDownPoint;if(e){let i=this.toLocal(t.point),r=this._downStart,a=this._downEnd,n=this._getPan(i,e)*Math.min(1,a-r)/2*this.get("panSensitivity",1);this.axis.zoom(r-n,a+n,0)}}_getPan(t,e){return 0}positionToCoordinate(t){return this._inversed?(this._end-t)*this._axisLength:(t-this._start)*this._axisLength}updateTooltipBounds(t){}_updateSize(){this.markDirty(),this._clear=!0}toAxisPosition(t){let e=this._start||0,i=this._end||1;return t=t*(i-e),this.get("inversed")?t=i-t:t=e+t,t}toGlobalPosition(t){let e=this._start||0,i=this._end||1;return this.get("inversed")?t=i-t:t=t-e,t=t/(i-e),t}fixPosition(t){return this.get("inversed")?1-t:t}_updateLC(){}toggleVisibility(t,e,i,r){let a=this.axis,n=a.get("start",0),o=a.get("end",1),l=n+(o-n)*(i-1e-4),u=n+(o-n)*(r+1e-4);e<l||e>u?t.setPrivate("visible",!1):t.setPrivate("visible",!0)}_positionTooltip(t,e){let i=this.chart;i&&(t.set("pointTo",this._display.toGlobal(e)),i.inPlot(e)||t.hide())}processAxis(){}};Object.defineProperty(ea,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRenderer"});Object.defineProperty(ea,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pt.classNames.concat([ea.className])});var Hl=class extends Go{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}};Object.defineProperty(Hl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabelRadial"});Object.defineProperty(Hl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Go.classNames.concat([Hl.className])});var ta=class extends ea{constructor(){super(...arguments),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Ii(Mt.new({}),()=>Hl._new(this._root,{themeTags:lt(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template])))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Ii(Mt.new({}),()=>qs._new(this._root,{themeTags:lt(this.axisFills.template.get("themeTags",["fill"]),this.get("themeTags",[]))},[this.axisFills.template])))}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:no()})}_afterNew(){this._settings.themeTags=lt(this._settings.themeTags,["renderer","circular"]),super._afterNew(),this.setPrivateRaw("letter","X"),this.setRaw("position","absolute")}_changed(){super._changed(),(this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle"))&&this.updateLayout()}processAxis(){super.processAxis(),this.axis.labelsContainer.set("isMeasured",!1)}updateLayout(){let t=this.chart;if(t){let e=t.getPrivate("radius",0),i=jt(this.get("radius",be),e);i<0&&(i=e+i),this.setPrivate("radius",i);let r=jt(this.get("innerRadius",t.getPrivate("innerRadius",0)),e)*t.getPrivate("irModifyer",1);r<0&&(r=i+r),this.setPrivate("innerRadius",r);let a=this.get("startAngle",t.get("startAngle",-90)),n=this.get("endAngle",t.get("endAngle",270));this.setPrivate("startAngle",a),this.setPrivate("endAngle",n),this.set("draw",o=>{let l=this.positionToPoint(0);o.moveTo(l.x,l.y),a>n&&([a,n]=[n,a]),o.arc(0,0,i,a*Fr,n*Fr)}),this.axis.markDirtySize()}}updateGrid(t,e,i){if(t){e==null&&(e=0);let r=t.get("location",.5);i!=null&&i!=e&&(e=e+(i-e)*r);let a=this.getPrivate("radius",0),n=this.getPrivate("innerRadius",0),o=this.positionToAngle(e);this.toggleVisibility(t,e,0,1),a!=null&&t.set("draw",l=>{l.moveTo(n*Pi(o),n*xi(o)),l.lineTo(a*Pi(o),a*xi(o))})}}positionToAngle(t){let e=this.axis,i=this.getPrivate("startAngle",0),r=this.getPrivate("endAngle",360),a=e.get("start",0),n=e.get("end",1),o=(r-i)/(n-a),l;return this.get("inversed")?l=i+(n-t)*o:l=i+(t-a)*o,l}_handleOpposite(){}positionToPoint(t){let e=this.getPrivate("radius",0),i=this.positionToAngle(t);return{x:e*Pi(i),y:e*xi(i)}}updateLabel(t,e,i,r){if(t){e==null&&(e=0);let a=.5;r!=null&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),i!=null&&i!=e&&(e=e+(i-e)*a);let n=this.getPrivate("radius",0),o=this.getPrivate("innerRadius",0),l=this.positionToAngle(e);t.setPrivate("radius",n),t.setPrivate("innerRadius",o),t.set("labelAngle",l),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}fillDrawMethod(t,e,i){t.set("draw",r=>{e==null&&(e=this.getPrivate("startAngle",0)),i==null&&(i=this.getPrivate("endAngle",0));let a=this.getPrivate("innerRadius",0),n=this.getPrivate("radius",0);this._fillGenerator.context(r),this._fillGenerator({innerRadius:a,outerRadius:n,startAngle:(e+90)*Fr,endAngle:(i+90)*Fr})})}updateTick(t,e,i,r){if(t){e==null&&(e=0);let a=.5;r!=null&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),i!=null&&i!=e&&(e=e+(i-e)*a);let n=t.get("length",0);t.get("inside")&&(n*=-1);let l=this.getPrivate("radius",0),u=this.positionToAngle(e);this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1)),l!=null&&t.set("draw",h=>{h.moveTo(l*Pi(u),l*xi(u)),l+=n,h.lineTo(l*Pi(u),l*xi(u))})}}updateBullet(t,e,i){if(t){let r=t.get("sprite");if(r){e==null&&(e=0);let a=t.get("location",.5);i!=null&&i!=e&&(e=e+(i-e)*a);let n=this.getPrivate("radius",0),o=this.positionToAngle(e);this.toggleVisibility(r,e,0,1),r.setAll({rotation:o,x:n*Pi(o),y:n*xi(o)})}}}updateFill(t,e,i){if(t){e==null&&(e=0),i==null&&(i=1);let r=this.fitAngle(this.positionToAngle(e)),a=this.fitAngle(this.positionToAngle(i));t.setAll({startAngle:r,arc:a-r}),t._setSoft("innerRadius",this.getPrivate("innerRadius")),t._setSoft("radius",this.getPrivate("radius"))}}fitAngle(t){let e=this.getPrivate("startAngle",0),i=this.getPrivate("endAngle",0),r=Math.min(e,i),a=Math.max(e,i);return t<r&&(t=r),t>a&&(t=a),t}axisLength(){return Math.abs(this.getPrivate("radius",0)*Math.PI*2*(this.getPrivate("endAngle",360)-this.getPrivate("startAngle",0))/360)}positionTooltip(t,e){let i=this.getPrivate("radius",0),r=this.positionToAngle(e);this._positionTooltip(t,{x:i*Pi(r),y:i*xi(r)})}updateTooltipBounds(t){}};Object.defineProperty(ta,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererCircular"});Object.defineProperty(ta,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ea.classNames.concat([ta.className])});var zu=class extends ea{constructor(){super(...arguments),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:no()}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Ii(Mt.new({}),()=>Hl._new(this._root,{themeTags:lt(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template])))})}_afterNew(){this._settings.themeTags=lt(this._settings.themeTags,["renderer","radial"]),super._afterNew(),this.setPrivate("letter","Y"),this.setRaw("position","absolute")}_changed(){super._changed(),(this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle"))&&this.updateLayout()}processAxis(){super.processAxis()}updateLayout(){let t=this.chart;if(t){let e=t.getPrivate("radius",0),i=jt(this.get("radius",be),e),r=jt(this.get("innerRadius",t.getPrivate("innerRadius",0)),e)*t.getPrivate("irModifyer",1);r<0&&(r=i+r),this.setPrivate("radius",i),this.setPrivate("innerRadius",r);let a=this.get("startAngle",t.get("startAngle",-90)),n=this.get("endAngle",t.get("endAngle",270));this.setPrivate("startAngle",a),this.setPrivate("endAngle",n);let o=this.get("axisAngle",0);this.set("draw",l=>{l.moveTo(r*Pi(o),r*xi(o)),l.lineTo(i*Pi(o),i*xi(o))}),this.axis.markDirtySize()}}updateGrid(t,e,i){if(t){ee(e)||(e=0);let r=t.get("location",.5);ee(i)&&i!=e&&(e=e+(i-e)*r);let a=this.positionToCoordinate(e)+this.getPrivate("innerRadius",0);this.toggleVisibility(t,e,0,1),ee(a)&&t.set("draw",n=>{let o=this.getPrivate("startAngle",0)*Fr,l=this.getPrivate("endAngle",0)*Fr;n.arc(0,0,Math.max(0,a),Math.min(o,l),Math.max(o,l))})}}_handleOpposite(){}positionToPoint(t){let e=this.getPrivate("innerRadius",0),i=this.positionToCoordinate(t)+e,r=this.get("axisAngle",0);return{x:i*Pi(r),y:i*xi(r)}}updateLabel(t,e,i,r){if(t){ee(e)||(e=0);let a=.5;ee(r)&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),ee(i)&&i!=e&&(e=e+(i-e)*a);let n=this.positionToPoint(e),o=Math.hypot(n.x,n.y);t.setPrivate("radius",o),t.setPrivate("innerRadius",o),t.set("labelAngle",this.get("axisAngle")),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}fillDrawMethod(t,e,i){t.set("draw",r=>{e=Math.max(0,e),i=Math.max(0,i),this._fillGenerator.context(r);let a=(this.getPrivate("startAngle",0)+90)*Fr,n=(this.getPrivate("endAngle",0)+90)*Fr;n<a&&([a,n]=[n,a]),this._fillGenerator({innerRadius:e,outerRadius:i,startAngle:a,endAngle:n})})}updateTick(t,e,i,r){if(t){ee(e)||(e=0);let a=.5;ee(r)&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),ee(i)&&i!=e&&(e=e+(i-e)*a);let n=this.positionToPoint(e);t.set("x",n.x),t.set("y",n.y);let o=t.get("length",0);t.get("inside")&&(o*=-1);let u=this.get("axisAngle",0)+90;t.set("draw",h=>{h.moveTo(0,0),h.lineTo(o*Pi(u),o*xi(u))}),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}updateBullet(t,e,i){if(t){let r=t.get("sprite");if(r){ee(e)||(e=0);let a=t.get("location",.5);ee(i)&&i!=e&&(e=e+(i-e)*a);let n=this.positionToPoint(e);r.setAll({x:n.x,y:n.y}),this.toggleVisibility(r,e,0,1)}}}updateFill(t,e,i){if(t){ee(e)||(e=0),ee(i)||(i=1);let r=this.getPrivate("innerRadius",0),a=this.positionToCoordinate(e)+r,n=this.positionToCoordinate(i)+r;this.fillDrawMethod(t,a,n)}}axisLength(){return this.getPrivate("radius",0)-this.getPrivate("innerRadius",0)}updateTooltipBounds(t){}positionToCoordinate(t){return this._inversed?(t=Math.min(this._end,t),(this._end-t)*this._axisLength):(t=Math.max(this._start,t),(t-this._start)*this._axisLength)}positionTooltip(t,e){let i=this.getPrivate("innerRadius",0)+this.positionToCoordinate(e),r=this.get("axisAngle",0);this._positionTooltip(t,{x:i*Pi(r),y:i*xi(r)})}};Object.defineProperty(zu,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererRadial"});Object.defineProperty(zu,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ea.classNames.concat([zu.className])});var Jo=class extends Re{constructor(){super(...arguments),Object.defineProperty(this,"hand",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(pt.new(this._root,{themeTags:["hand"]}))}),Object.defineProperty(this,"pin",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(pt.new(this._root,{themeTags:["pin"]}))})}_afterNew(){this._settings.themeTags=lt(this._settings.themeTags,["clock"]),super._afterNew(),this.set("width",Ot(1)),this.adapters.add("x",()=>0),this.adapters.add("y",()=>0),this.pin.set("draw",(t,e)=>{let i=e.parent;if(i){let r=i.dataItem;if(r){let a=r.component;if(a){let n=a.chart;if(n){let o=n.getPrivate("radius",0),l=jt(i.get("pinRadius",0),o);l<0&&(l=o+l),t.moveTo(l,0),t.arc(0,0,l,0,360)}}}}}),this.hand.set("draw",(t,e)=>{let i=e.parent;if(i){let r=i.parent;r&&r.set("width",Ot(1));let a=i.dataItem;if(a){let n=a.component;if(n){let o=n.chart;if(o){let l=i.get("bottomWidth",10)/2,u=i.get("topWidth",0)/2,h=o.getPrivate("radius",0),c=jt(i.get("radius",0),h);c<0&&(c=h+c);let A=i.get("innerRadius",0);A instanceof yt?A=jt(A,h):A<0&&A<0&&(A=c+A),t.moveTo(A,-l),t.lineTo(c,-u),t.lineTo(c,u),t.lineTo(A,l),t.lineTo(A,-l)}}}}})}_prepareChildren(){super._prepareChildren(),this.hand._markDirtyKey("fill"),this.pin._markDirtyKey("fill")}};Object.defineProperty(Jo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ClockHand"});Object.defineProperty(Jo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([Jo.className])});var ny=class extends Wa{setupDefaultRules(){super.setupDefaultRules();let t=this.rule.bind(this),e=this._root.interfaceColors;t("RadarChart").setAll({radius:Ot(80),innerRadius:0,startAngle:-90,endAngle:270}),t("RadarColumnSeries").setAll({clustered:!0}),t("Slice",["radar","column","series"]).setAll({width:Ot(80),height:Ot(80)}),t("RadarLineSeries").setAll({connectEnds:!0}),t("SmoothedRadarLineSeries").setAll({tension:.5}),t("AxisRendererRadial").setAll({minGridDistance:40,axisAngle:-90,inversed:!1,cellStartLocation:0,cellEndLocation:1}),t("AxisRendererCircular").setAll({minGridDistance:100,inversed:!1,cellStartLocation:0,cellEndLocation:1}),t("RadialLabel",["circular"]).setAll({textType:"circular",paddingTop:1,paddingRight:0,paddingBottom:1,paddingLeft:0,centerX:0,centerY:0,radius:8}),t("AxisLabelRadial",["category"]).setAll({text:"{category}",populateText:!0}),t("RadialLabel",["radial"]).setAll({textType:"regular",centerX:0,textAlign:"right"}),t("RadarChart",["gauge"]).setAll({startAngle:180,endAngle:360,innerRadius:Ot(90)}),t("ClockHand").setAll({topWidth:1,bottomWidth:10,radius:Ot(90),pinRadius:10});{let i=t("Graphics",["clock","hand"]);i.setAll({fillOpacity:1}),He(i,"fill",e,"alternativeBackground")}{let i=t("Graphics",["clock","pin"]);i.setAll({fillOpacity:1}),He(i,"fill",e,"alternativeBackground")}}};var oy=class extends Wa{setupDefaultRules(){super.setupDefaultRules();let t=this._root.interfaceColors,e=this._root.language,i=this.rule.bind(this);i("XYChart").setAll({colors:Zo.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),i("XYSeries").setAll({legendLabelText:"{name}"}),i("Rectangle",["plotbackground","xy","background"]).setAll({fill:rt.fromHex(0),fillOpacity:0}),i("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:Zo.new(this._root,{saturation:0})});{let l=i("Graphics",["scrollbar","overlay"]);l.setAll({fillOpacity:.5}),He(l,"fill",t,"background")}i("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),i("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),i("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),i("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),i("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),i("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),i("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:be,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),i("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),i("AxisLabel",["x"]).setAll({centerY:0}),i("AxisLabel",["x","inside"]).setAll({centerY:be}),i("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),i("AxisLabel",["x","opposite"]).setAll({centerY:be}),i("AxisLabel",["y"]).setAll({centerX:be}),i("AxisLabel",["y","inside"]).setAll({centerX:0}),i("AxisLabel",["y","inside","opposite"]).setAll({centerX:be}),i("AxisLabel",["y","opposite"]).setAll({centerX:0}),i("AxisLabel",["minor"]).setAll({fontSize:"0.6em"}),i("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),i("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});{let l=i("Grid",["cursor","x"]);l.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],role:"slider",ariaLabel:e.translate("Use left and right arrows to move selection")}),He(l,"stroke",t,"alternativeBackground")}{let l=i("Grid",["cursor","y"]);l.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],role:"slider",ariaLabel:e.translate("Use up and down arrows to move selection")}),He(l,"stroke",t,"alternativeBackground")}{let l=i("Graphics",["cursor","selection"]);l.setAll({fillOpacity:.15}),He(l,"fill",t,"alternativeBackground")}i("Axis").setAll({zoomOut:!0,start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),i("AxisLabel").setAll({location:.5,multiLocation:0,centerX:Qe,centerY:Qe,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),i("Container",["axis","header"]).setAll({layer:30}),i("Rectangle",["axis","header","background"]).setAll({crisp:!0});{let l=i("AxisRenderer");l.setAll({crisp:!0,strokeOpacity:0}),He(l,"stroke",t,"grid")}i("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:be}),i("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:be});{let l=i("Rectangle",["axis","thumb","zoomgrip"]);l.setAll({fillOpacity:0}),He(l,"fill",t,"alternativeBackground"),l.states.create("hover",{fillOpacity:.1})}i("Rectangle",["axis","thumb","x","zoomgrip"]).setAll({cursorOverStyle:"ew-resize"}),i("Rectangle",["axis","thumb","y","zoomgrip"]).setAll({cursorOverStyle:"ns-resize"});{let l=i("Grid");l.setAll({location:0,strokeOpacity:.15,crisp:!0}),He(l,"stroke",t,"grid")}{let l=i("Grid",["minor"]);l.setAll({location:0,strokeOpacity:.07,crisp:!0}),He(l,"stroke",t,"grid")}i("Grid",["base"]).setAll({strokeOpacity:.3});{let l=i("Graphics",["axis","fill"]);l.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),He(l,"fill",t,"alternativeBackground")}i("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),i("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),i("Grid",["series","range"]).setAll({visible:!1}),i("AxisTick",["series","range"]).setAll({visible:!1}),i("AxisLabel",["series","range"]).setAll({visible:!1});{let l=i("AxisTick");l.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),He(l,"stroke",t,"grid")}i("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:(l,u)=>{let h=l.get("axisFill");h&&(!ee(u)||u%2==0?h.setPrivate("visible",!0):h.setPrivate("visible",!1))}});let r=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],a={millisecond:e.translate("_date_millisecond"),second:e.translate("_date_second"),minute:e.translate("_date_minute"),hour:e.translate("_date_hour"),day:e.translate("_date_day"),week:e.translate("_date_day"),month:e.translate("_date_month"),year:e.translate("_date_year")},n={millisecond:e.translate("_date_millisecond"),second:e.translate("_date_second"),minute:e.translate("_date_minute"),hour:e.translate("_date_day"),day:e.translate("_date_day"),week:e.translate("_date_day"),month:e.translate("_date_month")+" "+e.translate("_date_year"),year:e.translate("_date_year")},o={millisecond:e.translate("_date_millisecond_full"),second:e.translate("_date_second_full"),minute:e.translate("_date_minute_full"),hour:e.translate("_date_hour_full"),day:e.translate("_date_day_full"),week:e.translate("_date_week_full"),month:e.translate("_date_month_full"),year:e.translate("_date_year")};i("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:Of(r),dateFormats:Dn(a),periodChangeDateFormats:Dn(n)}),i("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,skipFirstMinor:!0,weekLabelLocation:0,gridIntervals:Of(r),dateFormats:Dn(a),periodChangeDateFormats:Dn(n),tooltipDateFormats:o,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:l=>{let u=l.get("axisFill");if(u){let h=l.component,c=l.get("value"),A=l.get("endValue"),d=h.intervalDuration(),f=h.getPrivate("baseInterval"),p=h.getPrivate("gridInterval",f),m=h.getPrivate("min",0);if(m=Vu(new Date(m),p.timeUnit,p.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),c!=null&&A!=null){let g=Math.round(Math.round((c-m)/d))/2;g==Math.round(g)?u.setPrivate("visible",!0):u.setPrivate("visible",!1)}}}}),i("GaplessDateAxis").setAll({fillRule:l=>{let u=l.get("axisFill");if(u){let h=l.get("index"),c=!1;(!ee(h)||h%2==0)&&(c=!0),u.setPrivate("visible",c)}}}),i("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:l=>{let u=l.get("axisFill");if(u){let h=l.component,c=l.get("value"),A=h.getPrivate("step");ee(c)&&ee(A)&&(Tr(c/A/2,5)==Math.round(c/A/2)?u.setPrivate("visible",!1):u.setPrivate("visible",!0))}}}),i("DurationAxis").setAll({baseUnit:"second"}),i("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),i("BaseColumnSeries").setAll({adjustBulletPosition:!0}),i("ColumnSeries").setAll({clustered:!0}),i("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:Ot(70),height:Ot(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),i("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),i("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),i("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:(l,u)=>{let h=u.parent;if(h){let c=h.height(),A=h.width();l.moveTo(0,c/2),l.lineTo(A,c/2)}}});{let l=i("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{});He(l,"stroke",t,"disabled")}i("Graphics",["line","series","legend","marker","fill"]).setAll({draw:(l,u)=>{let h=u.parent;if(h){let c=h.height(),A=h.width();l.moveTo(0,0),l.lineTo(A,0),l.lineTo(A,c),l.lineTo(0,c),l.lineTo(0,0)}}});{let l=i("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{});He(l,"stroke",t,"disabled")}i("SmoothedXYLineSeries").setAll({tension:.5}),i("SmoothedXLineSeries").setAll({tension:.5}),i("SmoothedYLineSeries").setAll({tension:.5}),i("Candlestick").setAll({position:"absolute",isMeasured:!1,width:Ot(50),height:Ot(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("OHLC").setAll({width:Ot(80),height:Ot(80)}),i("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{let l=i("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});He(l,"fill",t,"positive"),He(l,"stroke",t,"positive")}{let l=i("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});He(l,"fill",t,"negative"),He(l,"stroke",t,"negative")}i("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),i("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});{let l=i("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});He(l,"fill",t,"positive"),He(l,"stroke",t,"positive")}{let l=i("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});He(l,"fill",t,"negative"),He(l,"stroke",t,"negative")}i("RoundedRectangle",["rangegrip"]).setAll({strokeOpacity:0,fillOpacity:0,strokeWidth:1,width:12,height:12});{let l=i("Graphics",["rangegrip","button","icon"]);l.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:u=>{u.moveTo(0,.5),u.lineTo(0,12.5),u.moveTo(2,.5),u.lineTo(2,12.5),u.moveTo(4,.5),u.lineTo(4,12.5)}}),He(l,"stroke",t,"secondaryButtonText")}i("Button",["rangegrip"]).setAll({draggable:!0,paddingTop:0,paddingBottom:0}),i("Button",["rangegrip","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize",centerX:Qe}),i("Button",["rangegrip","horizontal"]).setAll({cursorOverStyle:"ew-resize",centerX:Qe}),i("Button",["rangegrip","vertical","left"]).setAll({centerY:be}),i("Button",["rangegrip","vertical","right"]).setAll({centerY:0}),i("Button",["rangegrip","horizontal","top"]).setAll({centerY:0}),i("Button",["rangegrip","horizontal","bottom"]).setAll({centerY:be})}};var Ai=class extends Bs{constructor(){super(...arguments),Object.defineProperty(this,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new $u}),Object.defineProperty(this,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new $u}),Object.defineProperty(this,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Re.new(this._root,{width:be,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Re.new(this._root,{width:be,height:be,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Re.new(this._root,{width:be,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Re.new(this._root,{height:be,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Re.new(this._root,{width:be,height:be,maskContent:!1}))}),Object.defineProperty(this,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(Re.new(this._root,{width:be,height:be}))}),Object.defineProperty(this,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(Re.new(this._root,{width:be,height:be}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(Re.new(this._root,{width:be,height:be,isMeasured:!1}))}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Re.new(this._root,{width:be,height:be,isMeasured:!1})}),Object.defineProperty(this,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Re.new(this._root,{height:be,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(Re.new(this._root,{}))}),Object.defineProperty(this,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:this.topPlotContainer.children.push(Vl.new(this._root,{themeTags:["zoom"],icon:pt.new(this._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._defaultThemes.push(oy.new(this._root)),super._afterNew(),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);let t=this._root,e=this._root.verticalLayout,i=this.zoomOutButton;i.events.on("click",()=>{this.zoomOut()}),i.hide(0),i.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",e);let r=this.plotContainer;r.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),r.children.push(this.topGridContainer),r.children.push(this.bulletsContainer),r.set("interactive",!0),r.set("interactiveChildren",!1),r.set("background",fr.new(t,{themeTags:["plotbackground","xy","background"]})),this._disposers.push(r.events.on("pointerdown",a=>{this._handlePlotDown(a)})),this._disposers.push(r.events.on("globalpointerup",a=>{this._handlePlotUp(a)})),this._disposers.push(r.events.on("globalpointermove",a=>{this._handlePlotMove(a)})),this._maskGrid(),this._setUpTouch()}_beforeChanged(){super._beforeChanged(),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_setUpTouch(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}_maskGrid(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}_removeSeries(t){t._unstack(),t._posXDp&&t._posXDp.dispose(),t._posYDp&&t._posYDp.dispose(),t.set("baseAxis",void 0);let e=t.get("xAxis");e&&(fs(e.series,t),e.markDirtyExtremes());let i=t.get("yAxis");i&&(fs(i.series,t),i.markDirtyExtremes());let r=this.get("cursor");if(r){let a=r.get("snapToSeries");a&&fs(a,t)}super._removeSeries(t)}handleWheel(t){let e=this.get("wheelX"),i=this.get("wheelY"),r=this.plotContainer,a=t.originalEvent,n=!1;if(Sd(a,this))n=!0;else return;let o=r.toLocal(t.point),l=this.get("wheelStep",.2),u=a.deltaY/100,h=a.deltaX/100,c=this.get("wheelZoomPositionX"),A=this.get("wheelZoomPositionY");(e==="zoomX"||e==="zoomXY")&&h!=0&&this.xAxes.each(d=>{if(d.get("zoomX")){let f=d.get("start"),p=d.get("end"),m=d.fixPosition(o.x/r.width());c!=null&&(m=c);let g=d.get("maxDeviation",0),y=Math.min(1+g,Math.max(-g,f-l*(p-f)*h*m)),x=Math.max(-g,Math.min(1+g,p+l*(p-f)*h*(1-m)));y==f&&x==p&&(n=!1),1/(x-y)<d.getPrivate("maxZoomFactor",1/0)/d.get("minZoomCount",1)?this._handleWheelAnimation(d.zoom(y,x)):n=!1}}),(i==="zoomX"||i==="zoomXY")&&u!=0&&this.xAxes.each(d=>{if(d.get("zoomX")){let f=d.get("start"),p=d.get("end"),m=d.fixPosition(o.x/r.width());c!=null&&(m=c);let g=d.get("maxDeviation",0),y=Math.min(1+g,Math.max(-g,f-l*(p-f)*u*m)),x=Math.max(-g,Math.min(1+g,p+l*(p-f)*u*(1-m)));y==f&&x==p&&(n=!1),1/(x-y)<d.getPrivate("maxZoomFactor",1/0)/d.get("minZoomCount",1)?this._handleWheelAnimation(d.zoom(y,x)):n=!1}}),(e==="zoomY"||e==="zoomXY")&&h!=0&&this.yAxes.each(d=>{if(d.get("zoomY")){let f=d.get("start"),p=d.get("end"),m=d.fixPosition(o.y/r.height());A!=null&&(m=A);let g=d.get("maxDeviation",0),y=Math.min(1+g,Math.max(-g,f-l*(p-f)*h*m)),x=Math.max(-g,Math.min(1+g,p+l*(p-f)*h*(1-m)));y==f&&x==p&&(n=!1),1/(x-y)<d.getPrivate("maxZoomFactor",1/0)/d.get("minZoomCount",1)?this._handleWheelAnimation(d.zoom(y,x)):n=!1}}),(i==="zoomY"||i==="zoomXY")&&u!=0&&this.yAxes.each(d=>{if(d.get("zoomY")){let f=d.get("start"),p=d.get("end"),m=d.fixPosition(o.y/r.height());A!=null&&(m=A);let g=d.get("maxDeviation",0),y=Math.min(1+g,Math.max(-g,f-l*(p-f)*u*m)),x=Math.max(-g,Math.min(1+g,p+l*(p-f)*u*(1-m)));y==f&&x==p&&(n=!1),1/(x-y)<d.getPrivate("maxZoomFactor",1/0)/d.get("minZoomCount",1)?this._handleWheelAnimation(d.zoom(y,x)):n=!1}}),(e==="panX"||e==="panXY")&&h!=0&&this.xAxes.each(d=>{if(d.get("panX")){let f=d.get("start"),p=d.get("end"),m=this._getWheelSign(d)*l*(p-f)*h,g=f+m,y=p+m,x=this._fixWheel(g,y);g=x[0],y=x[1],g==f&&y==p&&(n=!1),this._handleWheelAnimation(d.zoom(g,y))}}),(i==="panX"||i==="panXY")&&u!=0&&this.xAxes.each(d=>{if(d.get("panX")){let f=d.get("start"),p=d.get("end"),m=this._getWheelSign(d)*l*(p-f)*u,g=f+m,y=p+m,x=this._fixWheel(g,y);g=x[0],y=x[1],g==f&&y==p&&(n=!1),this._handleWheelAnimation(d.zoom(g,y))}}),(e==="panY"||e==="panXY")&&h!=0&&this.yAxes.each(d=>{if(d.get("panY")){let f=d.get("start"),p=d.get("end"),m=this._getWheelSign(d)*l*(p-f)*h,g=f+m,y=p+m,x=this._fixWheel(g,y);g=x[0],y=x[1],g==f&&y==p&&(n=!1),this._handleWheelAnimation(d.zoom(g,y))}}),(i==="panY"||i==="panXY")&&u!=0&&this.yAxes.each(d=>{if(d.get("panY")){let f=d.get("start"),p=d.get("end"),m=this._getWheelSign(d)*l*(p-f)*u,g=f-m,y=p-m,x=this._fixWheel(g,y);g=x[0],y=x[1],g==f&&y==p&&(n=!1),this._handleWheelAnimation(d.zoom(g,y))}}),n&&a.preventDefault()}_handleSetWheel(){let t=this.get("wheelX"),e=this.get("wheelY"),i=this.plotContainer;t!=="none"||e!=="none"?(this._wheelDp=i.events.on("wheel",r=>{let a=r.originalEvent;(t!=="none"&&Math.abs(a.deltaX)!=0||e!=="none"&&Math.abs(a.deltaY)!=0)&&this.handleWheel(r)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_getWheelSign(t){let e=1;return t.get("renderer").get("inversed")&&(e=-1),e}_fixWheel(t,e){let i=e-t;return t<0&&(t=0,e=t+i),e>1&&(e=1,t=e-i),[t,e]}_handlePlotDown(t){let e=t.originalEvent;if(e.button==2)return;let i=this.plotContainer,r=i.toLocal(t.point);if((this.get("pinchZoomX")||this.get("pinchZoomY"))&&e.pointerId&&sr(i._downPoints).length>0){let n=this.xAxes.getIndex(0),o=this.yAxes.getIndex(0);n&&(this._downStartX=n.get("start",0),this._downEndX=n.get("end",1)),o&&(this._downStartY=o.get("start",0),this._downEndY=o.get("end",1))}if((this.get("panX")||this.get("panY"))&&r.x>=0&&r.y>=0&&r.x<=i.width()&&r.y<=this.height()){this._downPoint={x:e.clientX,y:e.clientY};let a=this.get("panX"),n=this.get("panY");a&&this.xAxes.each(l=>{l._panStart=l.get("start"),l._panEnd=l.get("end")}),n&&this.yAxes.each(l=>{l._panStart=l.get("start"),l._panEnd=l.get("end")});let o="panstarted";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this,originalEvent:t.originalEvent})}}_handleWheelAnimation(t){t?t.events.on("stopped",()=>{this._dispatchWheelAnimation()}):this._dispatchWheelAnimation()}_dispatchWheelAnimation(){let t="wheelended";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}_handlePlotUp(t){let e=this._downPoint;if(e&&(this.get("panX")||this.get("panY"))){if(t.originalEvent.clientX==e.x&&t.originalEvent.clientY==e.y){let r="pancancelled";this.events.isEnabled(r)&&this.events.dispatch(r,{type:r,target:this,originalEvent:t.originalEvent})}let i="panended";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,originalEvent:t.originalEvent})}this._downPoint=void 0,this.xAxes.each(i=>{i._isPanning=!1}),this.yAxes.each(i=>{i._isPanning=!1})}_handlePlotMove(t){let e=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){let a=t.originalEvent.pointerId;if(a&&(this._movePoints[a]=t.point,sr(e._downPoints).length>1)){this._handlePinch();return}}let i=this._downPoint;if(i){i=e.toLocal(this._root.documentPointToRoot(i));let r=e.toLocal(t.point),a=this.get("panX"),n=this.get("panY");if(a){let o=this.get("scrollbarX");o&&o.events.disableType("rangechanged"),this.xAxes.each(l=>{if(l.get("panX")){l._isPanning=!0;let u=l._panStart,h=l._panEnd,A=(h-u)*(i.x-r.x)/e.width();l.get("renderer").get("inversed")&&(A*=-1);let d=u+A,f=h+A;f-d<1+l.get("maxDeviation",1)*2&&(l.set("start",d),l.set("end",f))}}),o&&o.events.enableType("rangechanged")}if(n){let o=this.get("scrollbarY");o&&o.events.disableType("rangechanged"),this.yAxes.each(l=>{if(l.get("panY")){l._isPanning=!0;let u=l._panStart,h=l._panEnd,A=(h-u)*(i.y-r.y)/e.height();l.get("renderer").get("inversed")&&(A*=-1);let d=u-A,f=h-A;f-d<1+l.get("maxDeviation",1)*2&&(l.set("start",d),l.set("end",f))}}),o&&o.events.enableType("rangechanged")}}}_handlePinch(){let t=this.plotContainer,e=0,i=[],r=[];if(kt(t._downPoints,(a,n)=>{i[e]=n;let o=this._movePoints[a];o&&(r[e]=o),e++}),i.length>1&&r.length>1){let a=t.width(),n=t.height(),o=i[0],l=i[1],u=r[0],h=r[1];if(o&&l&&u&&h){if(u=t.toLocal(u),h=t.toLocal(h),o=t.toLocal(o),l=t.toLocal(l),this.get("pinchZoomX")){let c=this._downStartX,A=this._downEndX;if(c!=null&&A!=null){o.x>l.x&&([o,l]=[l,o],[u,h]=[h,u]);let d=c+o.x/a*(A-c),f=c+l.x/a*(A-c),p=c+u.x/a*(A-c),m=c+h.x/a*(A-c),g=Math.max(.001,f-d),y=Math.max(.001,m-p),x=g/y,C=c*x+d-p*x,S=A*x+f-m*x;this.xAxes.each(P=>{let F=P.fixPosition(C),O=P.fixPosition(S);P.zoom(F,O,0)})}}if(this.get("pinchZoomY")){let c=this._downStartY,A=this._downEndY;if(c!=null&&A!=null){o.y<l.y&&([o,l]=[l,o],[u,h]=[h,u]);let d=c+(1-o.y/n)*(A-c),f=c+(1-l.y/n)*(A-c),p=c+(1-u.y/n)*(A-c),m=c+(1-h.y/n)*(A-c),g=Math.max(.001,f-d),y=Math.max(.001,m-p),x=g/y,C=c*x+d-p*x,S=A*x+f-m*x;this.yAxes.each(P=>{let F=P.fixPosition(C),O=P.fixPosition(S);P.zoom(F,O,0)})}}}}}_handleCursorPosition(){let t=this.get("cursor");if(t){let e=t.getPrivate("point"),i=t.get("snapToSeries");if(t._downPoint&&(i=void 0),i&&e){let r=t.get("snapToSeriesBy"),a=[];Z(i,l=>{if(!l.isHidden()&&!l.isHiding())if(r!="x!"&&r!="y!"){let u=l.startIndex(),h=l.endIndex();for(let c=u;c<h;c++){let A=l.dataItems[c];A&&!A.isHidden()&&a.push(A)}}else{let u=l.get("tooltipDataItem");u&&a.push(u)}});let n=1/0,o;if(Z(a,l=>{let u=l.get("point");if(u){let h=0;r=="x"||r=="x!"?h=Math.abs(e.x-u.x):r=="y"||r=="y!"?h=Math.abs(e.y-u.y):h=Math.hypot(e.x-u.x,e.y-u.y),h<n&&(n=h,o=l)}}),Z(i,l=>{let u=l.get("tooltip");u&&u._setDataItem(void 0)}),o){let l=o.component;l.showDataItemTooltip(o),l.setRaw("tooltipDataItem",o);let u=o.get("point");u&&t.handleMove(l.toGlobal({x:u.x-l.x(),y:u.y-l.y()}),!0)}}}}_updateCursor(){let t=this.get("cursor");t&&t.updateCursor()}_addCursor(t){this.plotContainer.children.push(t)}_prepareChildren(){if(super._prepareChildren(),this.series.each(t=>{this._colorize(t)}),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){let t=this._prevSettings.cursor,e=this.get("cursor");e!==t&&(this._disposeProperty("cursor"),t&&t.dispose(),e&&(e._setChart(this),this._addCursor(e),this._pushPropertyDisposer("cursor",e.events.on("selectended",()=>{this._handleCursorSelectEnd()}))),this._prevSettings.cursor=e)}if(this.isDirty("scrollbarX")){let t=this._prevSettings.scrollbarX,e=this.get("scrollbarX");e!==t&&(this._disposeProperty("scrollbarX"),t&&t.dispose(),e&&(e.parent||this.topAxesContainer.children.push(e),this._pushPropertyDisposer("scrollbarX",e.events.on("rangechanged",i=>{this._handleScrollbar(this.xAxes,i.start,i.end,i.grip)})),this._pushPropertyDisposer("scrollbarX",e.events.on("released",()=>{this.xAxes.each(i=>{i.get("zoomable")&&this._handleAxisSelection(i)})})),e.setPrivate("positionTextFunction",i=>{let r=this.xAxes.getIndex(0);return r&&r.getTooltipText(i,!1)||""})),this._prevSettings.scrollbarX=e)}if(this.isDirty("scrollbarY")){let t=this._prevSettings.scrollbarY,e=this.get("scrollbarY");e!==t&&(this._disposeProperty("scrollbarY"),t&&t.dispose(),e&&(e.parent||this.rightAxesContainer.children.push(e),this._pushPropertyDisposer("scrollbarY",e.events.on("rangechanged",i=>{this._handleScrollbar(this.yAxes,i.start,i.end,i.grip)})),this._pushPropertyDisposer("scrollbarY",e.events.on("released",()=>{this.yAxes.each(i=>{i.get("zoomable")&&this._handleAxisSelection(i)})})),e.setPrivate("positionTextFunction",i=>{let r=this.yAxes.getIndex(0);return r&&r.getTooltipText(i,!1)||""})),this._prevSettings.scrollbarY=e)}this._handleZoomOut()}_processSeries(t){super._processSeries(t);let e=t.get("xAxis"),i=t.get("yAxis");Df(e.series,t),Df(i.series,t),t._posXDp=t.addDisposer(e.events.on("positionchanged",()=>{t._fixPosition()})),t._posXDp=t.addDisposer(i.events.on("positionchanged",()=>{t._fixPosition()})),t.get("baseAxis")||(i.isType("CategoryAxis")||i.isType("DateAxis")?t.set("baseAxis",i):t.set("baseAxis",e)),t.get("stacked")&&(t._markDirtyKey("stacked"),Z(t.dataItems,r=>{r.set("stackToItemY",void 0),r.set("stackToItemX",void 0)})),t._markDirtyAxes(),i.markDirtyExtremes(),e.markDirtyExtremes(),e._seriesAdded=!0,i._seriesAdded=!0,this._colorize(t)}_colorize(t){let e=this.get("colors");if(e&&t.get("fill")==null){let r=e.next();t._setSoft("stroke",r),t._setSoft("fill",r)}let i=this.get("patterns");if(i&&t.get("fillPattern")==null){let r=i.next();t._setSoft("fillPattern",r)}}_handleCursorSelectEnd(){let t=this.get("cursor"),e=t.get("behavior"),i=t.getPrivate("downPositionX",0),r=t.getPrivate("downPositionY",0),a=Math.min(1,Math.max(0,t.getPrivate("positionX",.5))),n=Math.min(1,Math.max(0,t.getPrivate("positionY",.5)));this.xAxes.each(o=>{if(e==="zoomX"||e==="zoomXY"){let l=o.toAxisPosition(i),u=o.toAxisPosition(a);o.zoom(l,u)}o.setPrivate("updateScrollbar",!0)}),this.yAxes.each(o=>{if(e==="zoomY"||e==="zoomXY"){let l=o.toAxisPosition(r),u=o.toAxisPosition(n);o.zoom(l,u)}o.setPrivate("updateScrollbar",!0)})}_handleScrollbar(t,e,i,r){t.each(a=>{let n=a.fixPosition(e),o=a.fixPosition(i),l=a.zoom(n,o,void 0,r),u="updateScrollbar";a.setPrivateRaw(u,!1),l?l.events.on("stopped",()=>{a.setPrivateRaw(u,!0)}):a.setPrivateRaw(u,!0)})}_processAxis(t,e){return t.events.onAll(i=>{if(i.type==="clear")Z(i.oldValues,r=>{this._removeAxis(r)});else if(i.type==="push")e.children.push(i.newValue),i.newValue.processChart(this);else if(i.type==="setIndex")e.children.setIndex(i.index,i.newValue),i.newValue.processChart(this);else if(i.type==="insertIndex")e.children.insertIndex(i.index,i.newValue),i.newValue.processChart(this);else if(i.type==="removeIndex")this._removeAxis(i.oldValue);else if(i.type==="moveIndex")e.children.moveValue(i.value,i.newIndex),i.value.processChart(this);else throw new Error("Unknown IListEvent type")})}_removeAxis(t){if(!t.isDisposed()){let e=t.parent;e&&e.children.removeValue(t);let i=t.gridContainer,r=i.parent;r&&r.children.removeValue(i);let a=t.topGridContainer,n=a.parent;n&&n.children.removeValue(a)}}_updateChartLayout(){let t=this.leftAxesContainer.width(),e=this.rightAxesContainer.width(),i=this.bottomAxesContainer;i.set("paddingLeft",t),i.set("paddingRight",e);let r=this.topAxesContainer;r.set("paddingLeft",t),r.set("paddingRight",e)}processAxis(t){var e=this.get("cursor");e&&(this.addDisposer(t.on("start",()=>{this._updateCursor()})),this.addDisposer(t.on("end",()=>{this._updateCursor()})))}_handleAxisSelection(t,e){let i=t.fixPosition(t.get("start",0)),r=t.fixPosition(t.get("end",1));if(i>r&&([i,r]=[r,i]),this.xAxes.indexOf(t)!=-1){if(e||t.getPrivate("updateScrollbar")){let a=this.get("scrollbarX");a&&(!a.getPrivate("isBusy")||e)&&(a.setRaw("start",i),a.setRaw("end",r),a.updateGrips())}}else if(this.yAxes.indexOf(t)!=-1&&(e||t.getPrivate("updateScrollbar"))){let a=this.get("scrollbarY");a&&(!a.getPrivate("isBusy")||e)&&(a.setRaw("start",i),a.setRaw("end",r),a.updateGrips())}this._handleZoomOut()}_handleZoomOut(){let t=this.zoomOutButton;if(t&&t.parent){let e=!1;this.xAxes.each(i=>{i.get("zoomOut",!0)&&(Tr(i.get("start",0),5)!=0||Tr(i.get("end",1),5)!=1)&&(e=!0)}),this.yAxes.each(i=>{i.get("zoomOut",!0)&&(Tr(i.get("start",0),5)!=0||Tr(i.get("end",1),5)!=1)&&(e=!0)}),e?t.isHidden()&&t.show():t.hide()}}inPlot(t){let e=this.plotContainer,i=this.getPrivate("otherCharts",this._otherCharts),r=e.toGlobal(t);if(t.x>=-.5&&t.y>=-.5&&t.x<=e.width()+.5&&t.y<=e.height()+.5)return!0;if(i)for(let a=i.length-1;a>=0;a--){let n=i[a];if(n!=this){let o=n.plotContainer,l=this._root.rootPointToDocument(r),u=n._root.documentPointToRoot(l),h=o.toLocal(u);if(h.x>=-.1&&h.y>=-.1&&h.x<=o.width()+.1&&h.y<=o.height()+.1)return!0}}return!1}arrangeTooltips(){let t=this.plotContainer,e=t.width(),i=t.height(),r=this.height(),a=this._root.tooltipContainer.get("layerMargin");a&&a.bottom>r&&(r=a.bottom);let n=t._display.toGlobal({x:0,y:0}),o=t._display.toGlobal({x:e,y:i}),l=[],u=0,h=1/0,c=this._movePoint,A=this.get("maxTooltipDistance"),d=this.get("maxTooltipDistanceBy","xy"),f,p;ee(A)&&this.series.each(g=>{if(!g.isHidden()){let y=g.get("tooltip");if(y){let x=y.get("pointTo");if(x){let C=Math.hypot(c.x-x.x,c.y-x.y);d=="x"?C=Math.abs(c.x-x.x):d=="y"&&(C=Math.abs(c.y-x.y)),C<h&&(h=C,f=g,p=x)}}}});let m=[];if(this.series.each(g=>{let y=g.get("tooltip");if(y&&!y.get("forceHidden")){let x=!1,C=y.get("pointTo");if(C){if(A>=0){let S=y.get("pointTo");if(S&&p&&g!=f){let P=Math.hypot(p.x-S.x,p.y-S.y);d=="x"?P=Math.abs(p.x-S.x):d=="y"&&(P=Math.abs(p.y-S.y)),P>A&&(x=!0)}}else A==-1&&g!=f&&(x=!0);!this.inPlot(this._tooltipToLocal(C))||!y.dataItem?x=!0:x||(u+=C.y),x||g.isHidden()||g.isHiding()?y.hide(0):(y.show(),l.push(y),m.push(g))}}}),this.setPrivate("tooltipSeries",m),this.get("arrangeTooltips")){let g=0,y=0,x=this._root.tooltipContainer,C=l.length;if(u/C>i/2+n.y){l.sort((F,O)=>x0(O.get("pointTo").y,F.get("pointTo").y));let P=o.y;if(Z(l,F=>{let O=F.height();y++,g+=O;let $=F.get("centerY");$ instanceof yt&&(O*=$.value),O+=F.get("marginBottom",0),F.set("bounds",{left:n.x,top:n.y,right:o.x,bottom:P}),F.setPrivate("customData",{left:n.x,top:n.y,right:o.x,bottom:P}),P=Math.min(P-O,F._fy-O),F.parent==x&&x.children.moveValue(F,0)}),P<0){l.reverse();let F=P;Z(l,O=>{y++;let $=O.get("bounds");if($){let L=$.top-P,E=$.bottom-P;L<F&&(L=F,E=L+O.height()),O.set("bounds",{left:$.left,top:L,right:$.right,bottom:E}),F=$.bottom-P+O.get("marginBottom",0)}})}}else{l.reverse(),l.sort((F,O)=>x0(F.get("pointTo").y,O.get("pointTo").y));let P=0;if(Z(l,F=>{y++;let O=F.height();g+=O;let $=F.get("centerY");$ instanceof yt&&(O*=$.value),O+=F.get("marginBottom",0),F.set("bounds",{left:n.x,top:P,right:o.x,bottom:Math.max(n.y+r,P+O)}),F.parent==x&&x.children.moveValue(F,0),P=Math.max(P+O,F._fy+O)}),P>r){l.reverse();let F=r;Z(l,O=>{y++;let $=O.get("bounds");if($){let L=$.top-(r-P),E=$.bottom-(r-P);E>F&&(E=F,L=E-O.height()),O.set("bounds",{left:$.left,top:L,right:$.right,bottom:E}),F=E-O.height()-O.get("marginBottom",0)}})}}g==0&&y>0&&this._disposers.push(this.root.events.once("frameended",()=>{this.arrangeTooltips()}))}}_tooltipToLocal(t){return this.plotContainer.toLocal(t)}zoomOut(){this.xAxes.each(t=>{t.get("zoomOut",!0)&&(t.setPrivate("updateScrollbar",!0),t.zoom(0,1))}),this.yAxes.each(t=>{t.get("zoomOut",!0)&&(t.setPrivate("updateScrollbar",!0),t.zoom(0,1))})}_dispose(){super._dispose();let t=this.get("cursor");t&&t.dispose()}};Object.defineProperty(Ai,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"});Object.defineProperty(Ai,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Bs.classNames.concat([Ai.className])});var Ta=class extends Ai{constructor(){super(...arguments),Object.defineProperty(this,"radarContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(Re.new(this._root,{x:Qe,y:Qe}))}),Object.defineProperty(this,"_arcGenerator",{enumerable:!0,configurable:!0,writable:!0,value:no()}),Object.defineProperty(this,"_maxRadius",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){this._defaultThemes.push(ny.new(this._root)),super._afterNew();let t=this.radarContainer,e=this.gridContainer,i=this.topGridContainer,r=this.seriesContainer,a=this.bulletsContainer;t.children.pushAll([e,r,i,a]),r.set("mask",pt.new(this._root,{})),e.set("mask",pt.new(this._root,{})),this._disposers.push(this.plotContainer.events.on("boundschanged",()=>{this._updateRadius()}))}_maskGrid(){}_prepareChildren(){if(super._prepareChildren(),this._sizeDirty||this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle")){let t=this.chartContainer,e=t.innerWidth(),i=t.innerHeight(),r=this.get("startAngle",0),a=this.get("endAngle",0),n=this.get("innerRadius"),o=ku(0,0,r,a,1),l=e/(o.right-o.left),u=i/(o.bottom-o.top),h={left:0,right:0,top:0,bottom:0};if(n instanceof yt){let A=n.value,d=Math.min(l,u);A=Math.max(d*A,d-Math.min(i,e))/d,h=ku(0,0,r,a,A),this.setPrivateRaw("irModifyer",A/n.value)}o=kg([o,h]),this._maxRadius=Math.max(0,Math.min(l,u));let c=jt(this.get("radius",0),this._maxRadius);this.radarContainer.setAll({dy:-c*(o.bottom+o.top)/2,dx:-c*(o.right+o.left)/2}),this._updateRadius()}}_addCursor(t){this.radarContainer.children.push(t)}_updateRadius(){let t=jt(this.get("radius",Ot(80)),this._maxRadius);this.setPrivateRaw("radius",t);let e=jt(this.get("innerRadius",0),t);e<0&&(e=t+e),this.setPrivateRaw("innerRadius",e),this.xAxes.each(r=>{r.get("renderer").updateLayout()}),this.yAxes.each(r=>{r.get("renderer").updateLayout()}),this._updateMask(this.seriesContainer,e,t),this._updateMask(this.gridContainer,e,t),this.series.each(r=>{r.get("maskBullets")?this._updateMask(r.bulletsContainer,e,t):r.bulletsContainer.remove("mask")});let i=this.get("cursor");i&&i.updateLayout()}_updateMask(t,e,i){let r=t.get("mask");r&&r.set("draw",a=>{this._arcGenerator.context(a),this._arcGenerator({innerRadius:e,outerRadius:i+.5,startAngle:(this.get("startAngle",0)+90)*Fr,endAngle:(this.get("endAngle",0)+90)*Fr})})}processAxis(t){this.radarContainer.children.push(t)}_processSeries(t){super._processSeries(t),this._updateRadius()}inPlot(t,e,i){let r=Math.hypot(t.x,t.y),a=da(Math.atan2(t.y,t.x)*Na),n=da(this.get("startAngle",0)),o=da(this.get("endAngle",0)),l=!1;return n<o&&n<a&&a<o&&(l=!0),n>o&&(a>n&&(l=!0),a<o&&(l=!0)),n==o&&(l=!0),l?(e==null&&(e=this.getPrivate("radius",0)),i==null&&(i=this.getPrivate("innerRadius",0)),i>e&&([i,e]=[e,i]),r<=e+.5&&r>=i-.5):!1}_tooltipToLocal(t){return this.radarContainer._display.toLocal(t)}_handlePinch(){}};Object.defineProperty(Ta,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadarChart"});Object.defineProperty(Ta,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ai.classNames.concat([Ta.className])});function QU(s,t){return s==null?t:t==null?s:t<s?t:s}function HU(s,t){return s==null?t:t==null?s:t>s?t:s}var fa=class extends Cs{constructor(){super(...arguments),Object.defineProperty(this,"_xField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_axesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_stackDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataSets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_mainContainerMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"mainContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Re.new(this._root,{}))}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new hn}),Object.defineProperty(this,"_skipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_couldStackTo",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_reallyStackedTo",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_stackedSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_aLocationX0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationX1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_aLocationY0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationY1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_showBullets",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueX","openValueX","lowValueX","highValueX"]}),Object.defineProperty(this,"valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueY","openValueY","lowValueY","highValueY"]}),Object.defineProperty(this,"_valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_emptyDataItem",{enumerable:!0,configurable:!0,writable:!0,value:new as(this,void 0,{})}),Object.defineProperty(this,"_dataSetId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posXDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posYDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.fields.push("categoryX","categoryY","openCategoryX","openCategoryY"),this.valueFields.push("valueX","valueY","openValueX","openValueY","lowValueX","lowValueY","highValueX","highValueY"),this._setRawDefault("vcx",1),this._setRawDefault("vcy",1),this._setRawDefault("valueXShow","valueXWorking"),this._setRawDefault("valueYShow","valueYWorking"),this._setRawDefault("openValueXShow","openValueXWorking"),this._setRawDefault("openValueYShow","openValueYWorking"),this._setRawDefault("lowValueXShow","lowValueXWorking"),this._setRawDefault("lowValueYShow","lowValueYWorking"),this._setRawDefault("highValueXShow","highValueXWorking"),this._setRawDefault("highValueYShow","highValueYWorking"),this._setRawDefault("lowValueXGrouped","low"),this._setRawDefault("lowValueYGrouped","low"),this._setRawDefault("highValueXGrouped","high"),this._setRawDefault("highValueYGrouped","high"),super._afterNew(),this.set("maskContent",!0),this._disposers.push(this.axisRanges.events.onAll(t=>{if(t.type==="clear")Z(t.oldValues,e=>{this._removeAxisRange(e)});else if(t.type==="push")this._processAxisRange(t.newValue);else if(t.type==="setIndex")this._processAxisRange(t.newValue);else if(t.type==="insertIndex")this._processAxisRange(t.newValue);else if(t.type==="removeIndex")this._removeAxisRange(t.oldValue);else if(t.type==="moveIndex")this._processAxisRange(t.value);else throw new Error("Unknown IStreamEvent type")})),this.states.create("hidden",{opacity:1,visible:!1}),this.onPrivate("startIndex",()=>{this.root.events.once("frameended",()=>{this.updateLegendValue()})}),this.onPrivate("endIndex",()=>{this.root.events.once("frameended",()=>{this.updateLegendValue()})}),this._makeFieldNames()}_processAxisRange(t){let e=Re.new(this._root,{});t.container=e,this.children.push(e),t.series=this;let i=t.axisDataItem;i.setRaw("isRange",!0);let r=i.component;if(r){r._processAxisRange(i,["range","series"]);let a=i.get("bullet");if(a){let o=a.get("sprite");o&&o.setPrivate("visible",!1)}let n=i.get("axisFill");n&&e.set("mask",n),r._seriesAxisRanges.push(i)}}_onDataClear(){super._onDataClear(),kt(this._dataSets,(t,e)=>{Z(e,i=>{i.dispose()}),e.length=0})}_removeAxisRange(t){let e=t.axisDataItem,i=e.component;e.dispose(),fs(i._seriesAxisRanges,e);let r=t.container;r&&r.dispose()}_updateFields(){super._updateFields(),this._valueXFields=[],this._valueYFields=[],this._valueXShowFields=[],this._valueYShowFields=[],this.__valueXShowFields=[],this.__valueYShowFields=[],this.valueXFields&&Z(this.valueXFields,t=>{if(this.get(t+"Field")){this._valueXFields.push(t);let i=this.get(t+"Show");this.__valueXShowFields.push(i),i.indexOf("Working")!=-1?this._valueXShowFields.push(i.split("Working")[0]):this._valueXShowFields.push(i)}}),this.valueYFields&&Z(this.valueYFields,t=>{if(this.get(t+"Field")){this._valueYFields.push(t);let i=this.get(t+"Show");this.__valueYShowFields.push(i),i.indexOf("Working")!=-1?this._valueYShowFields.push(i.split("Working")[0]):this._valueYShowFields.push(i)}})}_dispose(){super._dispose(),this._bullets={};let t=this.chart;t&&t.series.removeValue(this),Vr(this.get("xAxis").series,this),Vr(this.get("yAxis").series,this)}_min(t,e){let i=QU(this.getPrivate(t),e);this.setPrivate(t,i)}_max(t,e){let i=HU(this.getPrivate(t),e);this.setPrivate(t,i)}_shouldMakeBullet(t){let e=this.get("xAxis"),i=this.get("yAxis"),r=this.get("baseAxis");if(!e.inited||!i.inited)return!1;let a=this.get("minBulletDistance",0);if(a>0){let n=this.startIndex(),l=this.endIndex()-n;if(e==r){if(e.get("renderer").axisLength()/l<a/5)return!1}else if(i==r&&i.get("renderer").axisLength()/l<a/5)return!1}return t.get(this._xField)!=null&&t.get(this._yField)!=null}_makeFieldNames(){let t=this.get("xAxis"),e=this.get("yAxis"),i=t.getPrivate("name"),r=l0(i),a=e.getPrivate("name"),n=l0(a),o=t.get("renderer").getPrivate("letter"),l=e.get("renderer").getPrivate("letter"),u="open",h="low",c="high",A="Show";t.className==="ValueAxis"?(this._xField=this.get(i+o+A),this._xOpenField=this.get(u+r+o+A),this._xLowField=this.get(h+r+o+A),this._xHighField=this.get(c+r+o+A)):(this._xField=i+o,this._xOpenField=u+r+o,this._xLowField=h+r+o,this._xHighField=c+r+o),e.className==="ValueAxis"?(this._yField=this.get(a+l+A),this._yOpenField=this.get(u+n+l+A),this._yLowField=this.get(h+n+l+A),this._yHighField=this.get(c+n+l+A)):(this._yField=a+l,this._yOpenField=u+n+l,this._yLowField=h+n+l,this._yHighField=c+n+l)}_fixVC(){let t=this.get("xAxis"),e=this.get("yAxis"),i=this.get("baseAxis"),r=this.states.lookup("hidden"),a=this.get("sequencedInterpolation");if(r){let n=0;a&&(n=.999999999999),t===i?r.set("vcy",n):(e===i||r.set("vcy",n),r.set("vcx",n))}}_handleMaskBullets(){this.isDirty("maskBullets")&&this.bulletsContainer.set("maskContent",this.get("maskBullets"))}_fixPosition(){let t=this.get("xAxis"),e=this.get("yAxis");this.set("x",t.x()-jt(t.get("centerX",0),t.width())-t.parent.get("paddingLeft",0)),this.set("y",e.y()-jt(e.get("centerY",0),e.height())-e.parent.get("paddingTop",0)),this.bulletsContainer.set("y",this.y()),this.bulletsContainer.set("x",this.x())}_prepareChildren(){super._prepareChildren(),this._bullets={},(this.isDirty("valueYShow")||this.isDirty("valueXShow")||this.isDirty("openValueYShow")||this.isDirty("openValueXShow")||this.isDirty("lowValueYShow")||this.isDirty("lowValueXShow")||this.isDirty("highValueYShow")||this.isDirty("highValueXShow"))&&(this._updateFields(),this._makeFieldNames(),this._valuesDirty=!0),(this.isDirty("xAxis")||this.isDirty("yAxis"))&&(this._valuesDirty=!0),this.set("width",this.get("xAxis").width()),this.set("height",this.get("yAxis").height()),this._handleMaskBullets();let t=this.get("xAxis"),e=this.get("yAxis"),i=this.get("baseAxis"),r=this.get("tooltipPositionX"),a;switch(r){case"open":a=this._xOpenField;break;case"low":a=this._xLowField;break;case"high":a=this._xHighField;break;default:a=this._xField}this._tooltipFieldX=a;let n=this.get("tooltipPositionY"),o;switch(n){case"open":o=this._yOpenField;break;case"low":o=this._yLowField;break;case"high":o=this._yHighField;break;default:o=this._yField}this._tooltipFieldY=o,this.isDirty("baseAxis")&&this._fixVC(),this._fixPosition();let l=this.get("stacked");if(this.isDirty("stacked")&&(l?this._valuesDirty&&!this._dataProcessed||this._stack():this._unstack()),this._valuesDirty&&!this._dataProcessed&&(this._dataProcessed=!0,l&&this._stack(),Z(this.dataItems,u=>{Z(this._valueXShowFields,h=>{let c=u.get(h);c!=null&&(l&&(c+=this.getStackedXValue(u,h)),this._min("minX",c),this._max("maxX",c))}),Z(this._valueYShowFields,h=>{let c=u.get(h);c!=null&&(l&&(c+=this.getStackedYValue(u,h)),this._min("minY",c),this._max("maxY",c))}),t.processSeriesDataItem(u,this._valueXFields),e.processSeriesDataItem(u,this._valueYFields)}),t._seriesValuesDirty=!0,e._seriesValuesDirty=!0,this.get("ignoreMinMax")||((this.isPrivateDirty("minX")||this.isPrivateDirty("maxX"))&&t.markDirtyExtremes(),(this.isPrivateDirty("minY")||this.isPrivateDirty("maxY"))&&e.markDirtyExtremes()),this._markStakedDirtyStack(),this.get("tooltipDataItem")||this.updateLegendValue(void 0)),(this.isDirty("vcx")||this.isDirty("vcy"))&&this._markStakedDirtyStack(),this._dataGrouped||(t._groupSeriesData(this),e._groupSeriesData(this),this._dataGrouped=!0),this._valuesDirty||this.isPrivateDirty("startIndex")||this.isPrivateDirty("adjustedStartIndex")||this.isPrivateDirty("endIndex")||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty||this._sizeDirty){let u=this.startIndex(),h=this.endIndex(),c=this.get("minBulletDistance",0);if(c>0&&i&&(i.get("renderer").axisLength()/(h-u)>c?this._showBullets=!0:this._showBullets=!1),(this._psi!=u||this._pei!=h||this.isDirty("vcx")||this.isDirty("vcy")||this.isPrivateDirty("adjustedStartIndex")||this._stackDirty||this._valuesDirty)&&!this._selectionProcessed){this._selectionProcessed=!0;let A=this.get("vcx",1),d=this.get("vcy",1),f=this.get("stacked",!1),p=this.getPrivate("outOfSelection");if(i===t||!i)if(e._calculateTotals(),this.setPrivateRaw("selectionMinY",void 0),this.setPrivateRaw("selectionMaxY",void 0),p)e.markDirtySelectionExtremes();else for(let m=u;m<h;m++)this.processYSelectionDataItem(this.dataItems[m],d,f);if(i===e||!i)if(t._calculateTotals(),this.setPrivateRaw("selectionMinX",void 0),this.setPrivateRaw("selectionMaxX",void 0),p)e.markDirtySelectionExtremes();else for(let m=u;m<h;m++)this.processXSelectionDataItem(this.dataItems[m],A,f);if((i===t||!i)&&(this.get("valueYShow")!=="valueYWorking"||this.get("useSelectionExtremes"))){let m=this.getPrivate("selectionMinY");m!=null&&(this.setPrivateRaw("minY",m),e.markDirtyExtremes());let g=this.getPrivate("selectionMaxY");g!=null&&(this.setPrivateRaw("maxY",g),e.markDirtyExtremes())}if((i===e||!i)&&(this.get("valueXShow")!=="valueXWorking"||this.get("useSelectionExtremes"))){let m=this.getPrivate("selectionMinX");m!=null&&(this.setPrivateRaw("minX",m),e.markDirtyExtremes());let g=this.getPrivate("selectionMaxX");g!=null&&(this.setPrivateRaw("maxX",g),t.markDirtyExtremes())}(this.isPrivateDirty("selectionMinX")||this.isPrivateDirty("selectionMaxX"))&&t.markDirtySelectionExtremes(),(this.isPrivateDirty("selectionMinY")||this.isPrivateDirty("selectionMaxY"))&&e.markDirtySelectionExtremes()}}}_makeRangeMask(){if(this.axisRanges.length>0){let t=this._mainContainerMask;t==null&&(t=this.children.push(pt.new(this._root,{})),this._mainContainerMask=t,t.set("draw",(e,i)=>{let r=this.parent;if(r){let a=this._root.container.width(),n=this._root.container.height();e.moveTo(-a,-n),e.lineTo(-a,n*2),e.lineTo(a*2,n*2),e.lineTo(a*2,-n),e.lineTo(-a,-n),this.axisRanges.each(o=>{let l=o.axisDataItem.get("axisFill");if(r&&l){let u=l.get("draw");u&&u(e,i)}})}this.mainContainer._display.mask=t._display})),t.markDirty(),t._markDirtyKey("fill")}else this.mainContainer._display.mask=null}_updateChildren(){super._updateChildren(),this._x=this.x(),this._y=this.y(),this._makeRangeMask()}_stack(){let t=this.chart;if(t){let e=t.series.indexOf(this);if(this._couldStackTo=[],e>0){let i;for(let r=e-1;r>=0&&(i=t.series.getIndex(r),!(i.get("xAxis")===this.get("xAxis")&&i.get("yAxis")===this.get("yAxis")&&i.className===this.className&&(this._couldStackTo.push(i),!i.get("stacked"))));r--);}this._stackDataItems()}}_unstack(){kt(this._reallyStackedTo,(t,e)=>{delete e._stackedSeries[this.uid]}),this._reallyStackedTo={},Z(this.dataItems,t=>{t.setRaw("stackToItemY",void 0),t.setRaw("stackToItemX",void 0)})}_handleRemoved(){let t=this.get("xAxis");t&&t._handleSeriesRemoved();let e=this.get("yAxis");e&&e._handleSeriesRemoved()}_stackDataItems(){let t=this.get("baseAxis"),e=this.get("xAxis"),i=this.get("yAxis"),r,a;t===e?(r="valueY",a="stackToItemY"):t===i&&(r="valueX",a="stackToItemX");let n=this._couldStackTo.length,o=0,l=this.get("stackToNegative");this._reallyStackedTo={},Z(this.dataItems,u=>{for(let h=0;h<n;h++){let c=this._couldStackTo[h],A=c.dataItems[o],d=u.get(r);if(A){let f=A.get(r);if(l)if(ee(d)){if(ee(f)){if(h==n-1&&u.setRaw(a,void 0),d>=0&&f>=0){u.setRaw(a,A),this._reallyStackedTo[c.uid]=c,c._stackedSeries[this.uid]=this;break}if(d<0&&f<0){u.setRaw(a,A),this._reallyStackedTo[c.uid]=c,c._stackedSeries[this.uid]=this;break}}}else break;else if(ee(d)&&ee(f)){u.setRaw(a,A),this._reallyStackedTo[c.uid]=c,c._stackedSeries[this.uid]=this;break}}}o++})}processXSelectionDataItem(t,e,i){Z(this.__valueXShowFields,r=>{let a=t.get(r);a!=null&&(i&&(a+=this.getStackedXValueWorking(t,r)),this._min("selectionMinX",a),this._max("selectionMaxX",a*e))})}processYSelectionDataItem(t,e,i){Z(this.__valueYShowFields,r=>{let a=t.get(r);a!=null&&(i&&(a+=this.getStackedYValueWorking(t,r)),this._min("selectionMinY",a),this._max("selectionMaxY",a*e))})}getStackedYValueWorking(t,e){let i=t.get("stackToItemY");if(i){let r=i.component;return i.get(e,0)*r.get("vcy",1)+this.getStackedYValueWorking(i,e)}return 0}getStackedXValueWorking(t,e){let i=t.get("stackToItemX");if(i){let r=i.component;return i.get(e,0)*r.get("vcx",1)+this.getStackedXValueWorking(i,e)}return 0}getStackedYValue(t,e){let i=t.get("stackToItemY");return i?i.get(e,0)+this.getStackedYValue(i,e):0}getStackedXValue(t,e){let i=t.get("stackToItemX");return i?i.get(e,0)+this.getStackedXValue(i,e):0}createLegendMarker(t){this.updateLegendMarker()}_markDirtyAxes(){this._axesDirty=!0,this.markDirty()}_markDataSetDirty(){this._afterDataChange(),this._valuesDirty=!0,this._dataProcessed=!1,this._aggregatesCalculated=!1,this.markDirty()}_clearDirty(){super._clearDirty(),this._axesDirty=!1,this._selectionProcessed=!1,this._stackDirty=!1,this._dataProcessed=!1}_positionBullet(t){let e=t.get("sprite");if(e){let i=e.dataItem,r=t.get("locationX",i.get("locationX",.5)),a=t.get("locationY",i.get("locationY",.5)),n=this.get("xAxis"),o=this.get("yAxis"),l=this.get("exactLocationX",!1),u=this.get("exactLocationY",!1),h=n.getDataItemPositionX(i,this._xField,r,this.get("vcx",1),l),c=o.getDataItemPositionY(i,this._yField,a,this.get("vcy",1),u),A=this.getPoint(h,c),d=i.get("left",A.x),f=i.get("right",A.x),p=i.get("top",A.y),m=i.get("bottom",A.y),g=0,y=0,x=f-d,C=m-p;if(this._shouldShowBullet(h,c)){e.setPrivate("visible",!t.getPrivate("hidden"));let S=t.get("field"),P=this.get("baseAxis"),F=this.get("xAxis"),O=this.get("yAxis");if(S!=null){let L;P==F?(S=="value"?L=this._yField:S=="open"?L=this._yOpenField:S=="high"?L=this._yHighField:S=="low"&&(L=this._yLowField),L&&(c=O.getDataItemPositionY(i,L,0,this.get("vcy",1),u),A=O.get("renderer").positionToPoint(c),y=A.y,g=d+x*r)):(S=="value"?L=this._xField:S=="open"?L=this._xOpenField:S=="high"?L=this._xHighField:S=="low"&&(L=this._xLowField),L&&(h=F.getDataItemPositionX(i,L,0,this.get("vcx",1),l),A=F.get("renderer").positionToPoint(h),g=A.x,y=m-C*a))}else g=d+x*r,y=m-C*a;let $=t.get("stacked");if($){let L=this.chart;if(P==F){let E=this._bullets[h+"_"+c];if(E){let D=E.bounds(),H=e.localBounds(),te=y;y=D.top,$=="down"?y=D.bottom-H.top:$=="auto"?L&&(te<L.plotContainer.height()/2?y=D.bottom-H.top:y+=H.bottom):y+=H.bottom}this._bullets[h+"_"+c]=e}else{let E=this._bullets[h+"_"+c];if(E){let D=E.bounds(),H=e.localBounds(),te=g;g=D.right,$=="down"?g=D.left-H.right:$=="auto"?L&&(te<L.plotContainer.width()/2?g=D.left-H.right:g-=H.left):g-=H.left}this._bullets[h+"_"+c]=e}}e.isType("Label")&&(e.setPrivate("maxWidth",Math.abs(x)),e.setPrivate("maxHeight",Math.abs(C))),e.setAll({x:g,y})}else e.setPrivate("visible",!1)}}_shouldShowBullet(t,e){return this._showBullets}setDataSet(t){if(this._dataSets[t]){this._handleDataSetChange(),this._dataItems=this._dataSets[t],this._markDataSetDirty(),this._dataSetId=t;let e="datasetchanged";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,id:t})}}resetGrouping(){kt(this._dataSets,(t,e)=>{e!=this._mainDataItems&&Z(e,i=>{i.dispose()})}),this._dataSets={},this._dataItems=this.mainDataItems}_handleDataSetChange(){Z(this._dataItems,t=>{let e=t.bullets;e&&Z(e,i=>{if(i){let r=i.get("sprite");r&&r.setPrivate("visible",!1)}})}),this._selectionProcessed=!1}show(t){let e=Object.create(null,{show:{get:()=>super.show}});return je(this,void 0,void 0,function*(){this._fixVC();let i=[];i.push(e.show.call(this,t).then(()=>{this._isShowing=!1;let r=this.get("xAxis"),a=this.get("yAxis"),n=this.get("baseAxis");a!==n&&a.markDirtySelectionExtremes(),r!==n&&r.markDirtySelectionExtremes()})),i.push(this.bulletsContainer.show(t)),i.push(this._sequencedShowHide(!0,t)),yield Promise.all(i)})}hide(t){let e=Object.create(null,{hide:{get:()=>super.hide}});return je(this,void 0,void 0,function*(){this._fixVC();let i=[];i.push(e.hide.call(this,t).then(()=>{this._isHiding=!1})),i.push(this.bulletsContainer.hide(t)),i.push(this._sequencedShowHide(!1,t)),yield Promise.all(i)})}showDataItem(t,e){let i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return je(this,void 0,void 0,function*(){let r=[i.showDataItem.call(this,t,e)];ee(e)||(e=this.get("stateAnimationDuration",0));let a=this.get("stateAnimationEasing");Z(this._valueFields,n=>{r.push(t.animate({key:n+"Working",to:t.get(n),duration:e,easing:a}).waitForStop())}),yield Promise.all(r)})}hideDataItem(t,e){let i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return je(this,void 0,void 0,function*(){let r=[i.hideDataItem.call(this,t,e)],a=this.states.lookup("hidden");a||(a=this.states.create("hidden",{})),ee(e)||(e=a.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));let n=a.get("stateAnimationEasing",this.get("stateAnimationEasing")),o=this.get("xAxis"),l=this.get("yAxis"),u=this.get("baseAxis"),h=this.get("stacked");if((u===o||!u)&&Z(this._valueYFields,c=>{let A=l.getPrivate("min"),d=l.baseValue();ee(A)&&A>d&&(d=A),h&&(d=0),t.get(c)!=null&&r.push(t.animate({key:c+"Working",to:d,duration:e,easing:n}).waitForStop())}),u===l||!u){let c=o.getPrivate("min"),A=o.baseValue();ee(c)&&c>A&&(A=c),h&&(A=0),Z(this._valueXFields,d=>{t.get(d)!=null&&r.push(t.animate({key:d+"Working",to:A,duration:e,easing:n}).waitForStop())})}yield Promise.all(r)})}_markDirtyStack(){this._stackDirty=!0,this.markDirty(),this._markStakedDirtyStack()}_markStakedDirtyStack(){let t=this._stackedSeries;t&&kt(t,(e,i)=>{i._stackDirty||i._markDirtyStack()})}_afterChanged(){super._afterChanged(),this._skipped&&(this._markDirtyAxes(),this._skipped=!1)}showDataItemTooltip(t){this.getPrivate("doNotUpdateLegend")||(this.updateLegendMarker(t),this.updateLegendValue(t));let e=this.get("tooltip"),i=this.get("exactLocationX",!1),r=this.get("exactLocationY",!1);if(e)if(!this.isHidden()&&this.get("visible")){if(e._setDataItem(t),t){let a=this.get("locationX",0),n=this.get("locationY",1),o=t.get("locationX",a),l=t.get("locationY",n),u=this.get("xAxis"),h=this.get("yAxis"),c=this.get("vcx",1),A=this.get("vcy",1),d=u.getDataItemPositionX(t,this._tooltipFieldX,this._aLocationX0+(this._aLocationX1-this._aLocationX0)*o,c,i),f=h.getDataItemPositionY(t,this._tooltipFieldY,this._aLocationY0+(this._aLocationY1-this._aLocationY0)*l,A,r),p=this.getPoint(d,f),m=!0;if(Z(this._valueFields,g=>{t.get(g)==null&&(m=!1)}),m){let g=this.chart;g&&g.inPlot(p)?(e.label.text.markDirtyText(),e.set("tooltipTarget",this._getTooltipTarget(t)),e.set("pointTo",this._display.toGlobal({x:p.x,y:p.y}))):e._setDataItem(void 0)}else e._setDataItem(void 0)}}else this.hideTooltip()}hideTooltip(){let t=this.get("tooltip");return t&&t.set("tooltipTarget",this),super.hideTooltip()}_getTooltipTarget(t){if(this.get("seriesTooltipTarget")=="bullet"){let e=t.bullets;if(e&&e.length>0){let r=e[0].get("sprite");if(r)return r}}return this}updateLegendValue(t){let e=this.get("legendDataItem");if(e){let i=e.get("label");if(i){let a="";t?(i._setDataItem(t),a=this.get("legendLabelText",i.get("text",this.get("name","")))):(i._setDataItem(this._emptyDataItem),a=this.get("legendRangeLabelText",this.get("legendLabelText",i.get("text",this.get("name",""))))),i.set("text",a)}let r=e.get("valueLabel");if(r){let a="";t?(r._setDataItem(t),a=this.get("legendValueText",r.get("text",""))):(r._setDataItem(this._emptyDataItem),a=this.get("legendRangeValueText",r.get("text",""))),r.set("text",a)}}}_getItemReaderLabel(){let t="X: {"+this._xField;return this.get("xAxis").isType("DateAxis")&&(t+=".formatDate()"),t+="}; Y: {"+this._yField,this.get("yAxis").isType("DateAxis")&&(t+=".formatDate()"),t+="}",t}getPoint(t,e){let i=this.get("xAxis").get("renderer").positionToCoordinate(t),r=this.get("yAxis").get("renderer").positionToCoordinate(e),a=999999999;return r<-a&&(r=-a),r>a&&(r=a),i<-a&&(i=-a),i>a&&(i=a),{x:i,y:r}}_shouldInclude(t){return!0}handleCursorHide(){this.hideTooltip(),this.updateLegendValue(void 0),this.updateLegendMarker(void 0)}_afterDataChange(){super._afterDataChange(),this.get("xAxis")._markDirtyKey("start"),this.get("yAxis")._markDirtyKey("start"),this.resetExtremes()}resetExtremes(){this.setPrivate("selectionMinX",void 0),this.setPrivate("selectionMaxX",void 0),this.setPrivate("selectionMinY",void 0),this.setPrivate("selectionMaxY",void 0),this.setPrivate("minX",void 0),this.setPrivate("minY",void 0),this.setPrivate("maxX",void 0),this.setPrivate("maxY",void 0)}createAxisRange(t){return this.axisRanges.push({axisDataItem:t})}get mainDataItems(){return this._mainDataItems}_adjustStartIndex(t){let e=this.get("xAxis");if(this.get("baseAxis")==e&&e.isType("DateAxis")){let r=e.baseDuration(),a=e.getPrivate("selectionMin",e.getPrivate("min",0)),n=r*this.get("locationX",.5),o=-1/0;for(;o<a;){let l=this.dataItems[t];if(l){let u=l.open;if(u?o=u.valueX:o=l.get("valueX",0),o+=n,o<a)t++;else break}else break}}return t}};Object.defineProperty(fa,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYSeries"});Object.defineProperty(fa,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Cs.classNames.concat([fa.className])});var Gu=class s extends fa{constructor(){super(...arguments),Object.defineProperty(this,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_columnsUpdated",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_makeGraphics(t,e){return this.makeColumn(e,t)}_makeFieldNames(){super._makeFieldNames();let t=this.get("xAxis"),e=this.get("yAxis"),i="CategoryAxis",r="ValueAxis";t.isType(i)&&(this.get("openCategoryXField")||(this._xOpenField=this._xField)),t.isType(r)&&(this.get("openValueXField")||(this._xOpenField=this._xField)),e.isType(i)&&(this.get("openCategoryYField")||(this._yOpenField=this._yField)),e.isType(r)&&(this.get("openValueYField")||(this._yOpenField=this._yField))}_prepareChildren(){super._prepareChildren();let t=this.get("xAxis"),e=this.get("yAxis"),i=this.dataItems.length,r=Math.max(0,this.startIndex()-2),a=Math.min(this.endIndex()+2,i-1);if(t.inited&&e.inited)for(let n=r;n<=a;n++){let o=this.dataItems[n];this._createGraphics(o)}}_updateChildren(){let t=this.chart;t&&(this._ph=t.plotContainer.height(),this._pw=t.plotContainer.width());let e=this.get("xAxis"),i=this.get("yAxis"),r=this.get("baseAxis"),a=this.columns.template;this.isDirty("fill")&&a.get("fill")==null&&a.set("fill",this.get("fill")),this.isDirty("fillPattern")&&a.get("fillPattern")==null&&a.set("fillPattern",this.get("fillPattern")),this.isDirty("stroke")&&a.get("stroke")==null&&a.set("stroke",this.get("stroke"));let n=0,o=0,l=0;Z(r.series,g=>{if(g instanceof s){let y=g.get("stacked");y&&l==0&&o++,!y&&g.get("clustered")&&o++}g===this&&(n=o-1),l++}),this.get("clustered")||(n=0,o=1),o===0&&(o=1,n=0);let u=e.get("renderer"),h=i.get("renderer"),c="cellStartLocation",A="cellEndLocation",d=u.get(c,0),f=u.get(A,1),p=h.get(c,0),m=h.get(A,1);if(this._aLocationX0=d+n/o*(f-d),this._aLocationX1=d+(n+1)/o*(f-d),this._aLocationY0=p+n/o*(m-p),this._aLocationY1=p+(n+1)/o*(m-p),e.inited&&i.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty){let g=this.dataItems.length,y=Math.max(0,this.startIndex()-2),x=Math.min(this.endIndex()+2,g-1);for(let P=0;P<y;P++)this._toggleColumn(this.dataItems[P],!1);let C=this.dataItems[y];for(let P=y;P<=x;P++){let F=this.dataItems[P];if(F.get("valueX")!=null&&F.get("valueY")!=null){if(C=F,P>0&&y>0)for(let O=P-1;O>=0;O--){let $=this.dataItems[O];if($.get("valueX")!=null&&$.get("valueY")!=null){C=$;break}}break}else this._toggleColumn(F,!1)}this._beforeColumnsDraw();let S=0;i.isType("CategoryAxis")&&e.isType("CategoryAxis")?S=2:e===r?S=0:i===r&&(S=1);for(let P=y;P<=x;P++){let F=this.dataItems[P];this._updateGraphics(F,C,S),F.get("valueX")!=null&&F.get("valueY")!=null&&(C=F)}this._afterColumnsDraw();for(let P=x+1;P<g;P++)this._toggleColumn(this.dataItems[P],!1);this._columnsUpdated=!0}}else this._skipped=!0;this.getPrivate("doNotUpdateLegend")||this.updateLegendMarker(this.get("tooltipDataItem")),super._updateChildren()}_afterChanged(){super._afterChanged(),this._columnsUpdated=!1}_beforeColumnsDraw(){}_afterColumnsDraw(){}_createGraphics(t){let e=t.get("graphics");if(!e){e=this._makeGraphics(this.columns,t),t.set("graphics",e),e._setDataItem(t);let i=t.get("legendDataItem");if(i){let a=i.get("markerRectangle");if(a){let n=a.states.lookup("default");Z(Hf,o=>{let l=e.get(o,this.get(o));a.set(o,l),n.set(o,l)})}}let r=t.get("rangeGraphics");r&&Z(r,a=>{a.dispose()}),r=[],t.setRaw("rangeGraphics",r),this.axisRanges.each(a=>{let n=a.container,o=this._makeGraphics(a.columns,t);r&&r.push(o),o.setPrivate("list",a.columns),n.children.push(o)})}}createAxisRange(t){return Z(this.dataItems,e=>{let i=e.get("graphics");i&&(i.dispose(),e.set("graphics",void 0))}),super.createAxisRange(t)}_updateGraphics(t,e,i){let r=t.get("graphics"),a=this._xField,n=this._yField,o=t.get(a),l=t.get(n),u=this.get("exactLocationX",!1);if(o!=null&&l!=null){let h=this._xOpenField,c=this._yOpenField,A=this.get("locationX",t.get("locationX",.5)),d=this.get("locationY",t.get("locationY",.5)),f=this.get("openLocationX",t.get("openLocationX",A)),p=this.get("openLocationY",t.get("openLocationY",d)),m=r.get("width"),g=r.get("height"),y=this.get("stacked"),x=this.get("xAxis"),C=this.get("yAxis"),S=x.get("start"),P=x.get("end"),F=C.get("start"),O=C.get("end"),$,L,E,D,H=this.get("vcy",1),te=this.get("vcx",1),K=!1,ae=!1;if(i==0){let fe=this._aLocationX0+f-.5,z=this._aLocationX1+A-.5;if(m instanceof yt){let Y=(z-fe)*(1-m.value)/2;fe+=Y,z-=Y}if($=x.getDataItemPositionX(t,h,fe,te,u),L=x.getDataItemPositionX(t,a,z,te,u),E=C.getDataItemPositionY(t,n,d,H),this._yOpenField!==this._yField)D=C.getDataItemPositionY(t,c,p,H);else if(y){let Y=t.get("stackToItemY");Y?D=C.getDataItemPositionY(Y,n,p,Y.component.get("vcy")):D=C.basePosition()}else D=C.basePosition();t.setRaw("point",{x:$+(L-$)/2,y:E}),ae=!0}else if(i==1){let fe=this._aLocationY0+p-.5,z=this._aLocationY1+d-.5;if(g instanceof yt){let Y=(z-fe)*(1-g.value)/2;fe+=Y,z-=Y}if(E=C.getDataItemPositionY(t,c,fe,H),D=C.getDataItemPositionY(t,n,z,H),L=x.getDataItemPositionX(t,a,A,te,u),this._xOpenField!==this._xField)$=x.getDataItemPositionX(t,h,f,te,u);else if(y){let Y=t.get("stackToItemX");Y?$=x.getDataItemPositionX(Y,a,f,Y.component.get("vcx"),u):$=x.basePosition()}else $=x.basePosition();K=!0,t.setRaw("point",{x:L,y:E+(D-E)/2})}else if(i==2){let fe=this._aLocationX0+f-.5,z=this._aLocationX1+A-.5;if(m instanceof yt){let Y=(z-fe)*(1-m.value)/2;fe+=Y,z-=Y}if($=x.getDataItemPositionX(t,h,fe,te),L=x.getDataItemPositionX(t,a,z,te),fe=this._aLocationY0+p-.5,z=this._aLocationY1+d-.5,g instanceof yt){let Y=(z-fe)*(1-g.value)/2;fe+=Y,z-=Y}E=C.getDataItemPositionY(t,c,fe,H),D=C.getDataItemPositionY(t,n,z,H),t.setRaw("point",{x:$+(L-$)/2,y:E+(D-E)/2})}this._applyGraphicsStates(t,e),this._updateSeriesGraphics(t,r,$,L,E,D,K,ae),$<S&&L<S||$>P&&L>P||E<F&&D<=F||E>=O&&D>O||zs($)||zs(E)?this._toggleColumn(t,!1):this._toggleColumn(t,!0);let ie=t.get("rangeGraphics");ie&&Z(ie,fe=>{this._updateSeriesGraphics(t,fe,$,L,E,D,K,ae)})}else this._toggleColumn(t,!1)}_updateSeriesGraphics(t,e,i,r,a,n,o,l){let u=e.get("width"),h=e.get("height"),c=e.get("maxWidth"),A=e.get("maxHeight"),d=this.getPoint(i,a),f=this.getPoint(r,n),p=t.get("point");if(p){let m=this.getPoint(p.x,p.y);p.x=m.x+this._x,p.y=m.y+this._y}if(i=d.x,r=f.x,a=d.y,n=f.y,ee(u)){let m=(r-i-u)/2;i+=m,r-=m}if(ee(c)&&c<Math.abs(r-i)){let m=(r-i-c)/2;i+=m,r-=m}if(ee(h)){let m=(n-a-h)/2;a+=m,n-=m}if(ee(A)&&A<Math.abs(n-a)){let m=(n-a-A)/2;a+=m,n-=m}this.get("adjustBulletPosition")&&(o&&(r=Math.min(Math.max(0,r),this._pw),i=Math.min(Math.max(0,i),this._pw)),l&&(a=Math.min(Math.max(0,a),this._ph),n=Math.min(Math.max(0,n),this._ph))),t.setRaw("left",i),t.setRaw("right",r),t.setRaw("top",a),t.setRaw("bottom",n),e.setPrivate("width",r-i),e.setPrivate("height",n-a),e.set("x",i),e.set("y",n-(n-a))}_handleDataSetChange(){super._handleDataSetChange(),Z(this._dataItems,t=>{this._toggleColumn(t,!1)})}_applyGraphicsStates(t,e){let i=t.get("graphics"),r=i.states.lookup("dropFromOpen"),a=i.states.lookup("riseFromOpen"),n=i.states.lookup("dropFromPrevious"),o=i.states.lookup("riseFromPrevious");if(r||n||a||o){let l=this.get("xAxis"),u=this.get("yAxis"),h=this.get("baseAxis"),c,A,d;h===l&&u.isType("ValueAxis")?(c=t.get(this._yOpenField),A=t.get(this._yField),d=e.get(this._yField)):h===u&&l.isType("ValueAxis")&&(c=t.get(this._xOpenField),A=t.get(this._xField),d=e.get(this._xField)),ee(c)&&ee(A)&&(A<c?r&&r.apply():a&&a.apply(),ee(d)&&(A<d?n&&n.apply():o&&o.apply()))}}disposeDataItem(t){super.disposeDataItem(t);let e=t.get("graphics");e&&(this.columns.removeValue(e),e.dispose());let i=t.get("rangeGraphics");i&&Z(i,r=>{let a=r.getPrivate("list");a&&a.removeValue(r),r.dispose()})}hideDataItem(t,e){let i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return je(this,void 0,void 0,function*(){let r=[i.hideDataItem.call(this,t,e)],a=t.get("graphics");a&&r.push(a.hide(e));let n=t.get("rangeGraphics");n&&Z(n,o=>{r.push(o.hide(e))}),yield Promise.all(r)})}_toggleColumn(t,e){let i=t.get("graphics");i&&i.setPrivate("visible",e);let r=t.get("rangeGraphics");r&&Z(r,n=>{n.setPrivate("visible",e)});let a=t.bullets;a&&Z(a,n=>{n.setPrivate("hidden",!e)})}showDataItem(t,e){let i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return je(this,void 0,void 0,function*(){let r=[i.showDataItem.call(this,t,e)],a=t.get("graphics");a&&r.push(a.show(e));let n=t.get("rangeGraphics");n&&Z(n,o=>{r.push(o.show(e))}),yield Promise.all(r)})}updateLegendMarker(t){let e=this.get("legendDataItem");if(this.get("useLastColorForLegendMarker")&&!t){let i=this.dataItems[this.endIndex()-1];i&&(t=i)}if(e){let i=this.columns.template;if(t){let a=t.get("graphics");a&&(i=a)}let r=e.get("markerRectangle");if(r&&!e.get("itemContainer").get("disabled")){let a=r.states.lookup("default");Z(Hf,n=>{let o=i.get(n,this.get(n));r.set(n,o),a.set(n,o)})}}}_getTooltipTarget(t){if(this.get("seriesTooltipTarget")=="bullet")return super._getTooltipTarget(t);let e=t.get("graphics");return e||this}};Object.defineProperty(Gu,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BaseColumnSeries"});Object.defineProperty(Gu,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fa.classNames.concat([Gu.className])});var En=class extends Re{constructor(){super(...arguments),Object.defineProperty(this,"_alwaysShow",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(qo.new(this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(qo.new(this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(pt.new(this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_lastPoint2",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=lt(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:be,height:be,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout(()=>{this.setPrivate("visible",!0)},500)),this._disposers.push(this.lineX.events.on("positionchanged",()=>{this._handleXLine()})),this._disposers.push(this.lineY.events.on("positionchanged",()=>{this._handleYLine()})),this._disposers.push(this.lineX.events.on("focus",()=>this._handleLineFocus())),this._disposers.push(this.lineX.events.on("blur",()=>this._handleLineBlur())),this._disposers.push(this.lineY.events.on("focus",()=>this._handleLineFocus())),this._disposers.push(this.lineY.events.on("blur",()=>this._handleLineBlur())),Va("keyboardevents")&&this._disposers.push(qi(document,"keydown",t=>{this._handleLineMove(kl(t),t.ctrlKey)}))}_setUpTouch(){let t=this.chart;t&&(t.plotContainer._display.cancelTouch=this.get("behavior")!="none")}_handleXLine(){let t=this.lineX.x(),e=!0;(t<0||t>this.width())&&(e=!1),this.lineX.setPrivate("visible",e)}_handleYLine(){let t=this.lineY.y(),e=!0;(t<0||t>this.height())&&(e=!1),this.lineY.setPrivate("visible",e)}_handleLineMove(t,e){let i="",r=this.chart,a;if(r&&r.xAxes.length){this._root.focused(this.lineX)?(i="positionX",a=r.xAxes.getIndex(0)):this._root.focused(this.lineY)&&(a=r.yAxes.getIndex(0),i="positionY");let n=1;if(e&&(n=5),a){let o=a.get("renderer").get("inversed",!1),l;t=="ArrowRight"||t=="ArrowDown"?l=1:t=="ArrowLeft"||t=="ArrowUp"?l=-1:t=="Tab"&&(l=0),l!=null&&(o&&(l*=-1),this.set(i,a.nextPosition(l*n)))}}}_handleLineFocus(){this._alwaysShow=this.get("alwaysShow",!1),this.setAll({positionX:this.getPrivate("positionX",0),positionY:this.getPrivate("positionY",0),alwaysShow:!0}),this._handleLineMove("Tab")}_handleLineBlur(){(this.lineX.isFocus()||this.lineY.isFocus())&&this.setAll({positionX:void 0,positionY:void 0,alwaysShow:this._alwaysShow})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;let t=this.get("xAxis");if(t){let e=t.get("tooltip");e&&(this._tooltipX=!0,this._disposers.push(e.on("pointTo",()=>{this._updateXLine(e)})))}}if(this.isDirty("yAxis")){this._tooltipY=!1;let t=this.get("yAxis");if(t){let e=t.get("tooltip");e&&(this._tooltipY=!0,this._disposers.push(e.on("pointTo",()=>{this._updateYLine(e)})))}}}_handleSyncWith(){let t=this.chart;if(t){let e=this.get("syncWith"),i=[];e&&Z(e,r=>{let a=r.chart;a&&i.push(a)}),t._otherCharts=i}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){let t=this.get("positionX"),e=this.get("positionY");t==null&&e==null?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(t){let e=Tr(this._display.toLocal(t.get("pointTo",{x:0,y:0})).x,3);this._toX!=e&&(this.lineX.animate({key:"x",to:e,duration:t.get("animationDuration",0),easing:t.get("animationEasing")}),this._toX=e)}_updateYLine(t){let e=Tr(this._display.toLocal(t.get("pointTo",{x:0,y:0})).y,3);this._toY!=e&&(this.lineY.animate({key:"y",to:e,duration:t.get("animationDuration",0),easing:t.get("animationEasing")}),this._toY=e)}_drawLines(){this.lineX.set("draw",t=>{t.moveTo(0,0),t.lineTo(0,this.height())}),this.lineY.set("draw",t=>{t.moveTo(0,0),t.lineTo(this.width(),0)})}updateCursor(){this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0)))),this.handleMove()}_setChart(t){this.chart=t,this._handleSyncWith();let e=t.plotContainer;this.events.on("boundschanged",()=>{this._disposers.push(this.setTimeout(()=>{this.updateCursor()},50))}),Va("touchevents")&&(this._disposers.push(e.events.on("click",r=>{kf(r.originalEvent)&&this._handleMove(r)})),this._setUpTouch()),this._disposers.push(e.events.on("pointerdown",r=>{this._handleCursorDown(r)})),this._disposers.push(e.events.on("globalpointerup",r=>{this._handleCursorUp(r),!r.native&&!this.isHidden()&&this._handleMove(r)})),this._disposers.push(e.events.on("globalpointermove",r=>{!this.get("syncWith")&&sr(e._downPoints).length==0&&!r.native&&this.isHidden()||(this._handleMove(r),Math.hypot(this._lastPoint2.x-r.point.x,this._lastPoint2.y-r.point.y)>1&&(this._handleLineBlur(),this._lastPoint2=r.point))}));let i=this.parent;i&&i.children.moveValue(this.selection)}_inPlot(t){let e=this.chart;return e?e.inPlot(t):!1}_handleCursorDown(t){if(t.originalEvent.button==2)return;let e=t.point,i=this._display.toLocal(e),r=this.chart;if(this.selection.set("draw",()=>{}),r&&this._inPlot(i)){if(this._downPoint=i,this.get("behavior")!="none"){this.selection.show();let o="selectstarted";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this,originalEvent:t.originalEvent})}let a=this._getPosition(i).x,n=this._getPosition(i).y;this.setPrivate("downPositionX",a),this.setPrivate("downPositionY",n)}}_handleCursorUp(t){if(this._downPoint){let e=this.get("behavior","none");if(e!="none"){e.charAt(0)==="z"&&this.selection.hide();let i=t.point,r=this._display.toLocal(i),a=this._downPoint,n=this.get("moveThreshold",1);if(r&&a){let o=!1;if((e==="zoomX"||e==="zoomXY"||e==="selectX"||e==="selectXY")&&Math.abs(r.x-a.x)>n&&(o=!0),(e==="zoomY"||e==="zoomXY"||e==="selectY"||e==="selectXY")&&Math.abs(r.y-a.y)>n&&(o=!0),o){let l="selectended";this.events.isEnabled(l)&&this.events.dispatch(l,{type:l,target:this,originalEvent:t.originalEvent})}else{let l="selectcancelled";this.events.isEnabled(l)&&this.events.dispatch(l,{type:l,target:this,originalEvent:t.originalEvent})}}}}this._downPoint=void 0}_handleMove(t){if(this.getPrivate("visible")){let e=this.chart;if(e&&sr(e.plotContainer._downPoints).length>1){this.set("forceHidden",!0);return}else this.set("forceHidden",!1);let i=t.point,r=this._lastPoint;if(Math.round(r.x)===Math.round(i.x)&&Math.round(r.y)===Math.round(i.y))return;this._lastPoint=i,this.setPrivate("lastPoint",i),this.handleMove({x:i.x,y:i.y},!1,t.originalEvent)}}_getPosition(t){return{x:t.x/this.width(),y:t.y/this.height()}}handleMove(t,e,i){t||(t=this._movePoint);let r=this.get("alwaysShow");if(!t){this.hide(0);return}this._movePoint=t;let a=this._display.toLocal(t),n=this.chart;if(n&&(this._inPlot(a)||this._downPoint)){n._movePoint=t,this.isHidden()&&(this.show(),this.get("behavior","").charAt(0)=="z"&&this.selection.set("draw",()=>{}));let o=a.x,l=a.y,u=this._getPosition(a);this.setPrivate("point",a);let h=this.get("snapToSeries");this._downPoint&&(h=void 0);let c=this.get("positionX"),A=u.x;ee(c)&&(A=c);let d=this.get("positionY"),f=u.y;ee(d)&&(f=d),this.setPrivate("positionX",A),this.setPrivate("positionY",f);let p=this._getPoint(A,f);if(o=p.x,l=p.y,n.xAxes.each(m=>{m._handleCursorPosition(A,h),r&&m.handleCursorShow()}),n.yAxes.each(m=>{m._handleCursorPosition(f,h),r&&m.handleCursorShow()}),!e){n._handleCursorPosition();let m="cursormoved";this.events.isEnabled(m)&&this.events.dispatch(m,{type:m,target:this,point:t,originalEvent:i})}this._updateLines(o,l),n.arrangeTooltips()}else if(!this._downPoint&&!r){this.hide(0);let o="cursorhidden";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this})}this._downPoint&&this.get("behavior")!="none"&&this._updateSelection(a)}_getPoint(t,e){return{x:this.width()*t,y:this.height()*e}}_updateLines(t,e){this._tooltipX||this.lineX.set("x",t),this._tooltipY||this.lineY.set("y",e),this._drawLines()}_updateSelection(t){let e=this.selection,i=this.get("behavior"),r=this.width(),a=this.height();t.x<0&&(t.x=0),t.x>r&&(t.x=r),t.y<0&&(t.y=0),t.y>a&&(t.y=a),e.set("draw",n=>{let o=this._downPoint;o&&(i==="zoomXY"||i==="selectXY"?(n.moveTo(o.x,o.y),n.lineTo(o.x,t.y),n.lineTo(t.x,t.y),n.lineTo(t.x,o.y),n.lineTo(o.x,o.y)):i==="zoomX"||i==="selectX"?(n.moveTo(o.x,0),n.lineTo(o.x,a),n.lineTo(t.x,a),n.lineTo(t.x,0),n.lineTo(o.x,0)):(i==="zoomY"||i==="selectY")&&(n.moveTo(0,o.y),n.lineTo(r,o.y),n.lineTo(r,t.y),n.lineTo(0,t.y),n.lineTo(0,o.y)))})}_onHide(){if(this.isHidden()){let t=this.chart;t&&(t.xAxes.each(e=>{e.handleCursorHide()}),t.yAxes.each(e=>{e.handleCursorHide()}),t.series.each(e=>{e.handleCursorHide()}))}super._onHide()}_onShow(){if(!this.isHidden()){let t=this.chart;t&&(t.xAxes.each(e=>{e.handleCursorShow()}),t.yAxes.each(e=>{e.handleCursorShow()}))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}};Object.defineProperty(En,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"});Object.defineProperty(En,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([En.className])});var jl=class extends En{constructor(){super(...arguments),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:no()})}_afterNew(){this._settings.themeTags=lt(this._settings.themeTags,["radar","cursor"]),super._afterNew()}_handleXLine(){}_handleYLine(){}_getPosition(t){let e=Math.hypot(t.x,t.y),i=da(Math.atan2(t.y,t.x)*Na),r=this.getPrivate("innerRadius"),a=da(this.getPrivate("startAngle")),n=da(this.getPrivate("endAngle"));(n<a||n==a)&&(i<a&&(i+=360),n=n+360);let o=(i-a)/(n-a);return o<0&&(o=1+o),o<.003&&(o=0),o>.997&&(o=1),{x:o,y:(e-r)/(this.getPrivate("radius")-r)}}_getPoint(t,e){let i=this.getPrivate("innerRadius"),r=this.getPrivate("startAngle"),a=this.getPrivate("endAngle"),n=this.getPrivate("radius"),o=r+t*(a-r),l=i+(n-i)*e;return{x:l*Pi(o),y:l*xi(o)}}updateLayout(){let t=this.chart;if(t){let e=t.getPrivate("radius",0);this.setPrivate("radius",jt(this.get("radius",be),e));let i=jt(this.get("innerRadius",t.getPrivate("innerRadius",0)),e);i<0&&(i=e+i),this.setPrivate("innerRadius",i);let r=this.get("startAngle",t.get("startAngle",-90)),a=this.get("endAngle",t.get("endAngle",270));this.setPrivate("startAngle",r),this.setPrivate("endAngle",a)}}_updateLines(t,e){this._tooltipX||this._drawXLine(t,e),this._tooltipY||this._drawYLine(t,e)}_drawXLine(t,e){let i=this.getPrivate("innerRadius"),r=this.getPrivate("radius"),a=Math.atan2(e,t);this.lineX.set("draw",n=>{n.moveTo(i*Math.cos(a),i*Math.sin(a)),n.lineTo(r*Math.cos(a),r*Math.sin(a))})}_drawYLine(t,e){let i=Math.hypot(t,e);this.lineY.set("draw",r=>{r.arc(0,0,i,this.getPrivate("startAngle",0)*Fr,this.getPrivate("endAngle",0)*Fr)})}_updateXLine(t){let e=t.get("pointTo");e&&(e=this._display.toLocal(e),this._drawXLine(e.x,e.y))}_updateYLine(t){let e=t.get("pointTo");e&&(e=this._display.toLocal(e),this._drawYLine(e.x,e.y))}_inPlot(t){let e=this.chart;return e?e.inPlot(t,this.getPrivate("radius"),this.getPrivate("innerRadius")):!1}_updateSelection(t){this.selection.set("draw",e=>{let i=this.get("behavior"),r=this._downPoint,a=this.getPrivate("startAngle"),n=this.getPrivate("endAngle"),o=this.getPrivate("radius"),l=this.getPrivate("innerRadius");o<l&&([o,l]=[l,o]);let u=a,h=n,c=o,A=l;r&&(i=="zoomXY"||i=="selectXY"?(u=Math.atan2(r.y,r.x)*Na,h=Math.atan2(t.y,t.x)*Na,A=Math.hypot(r.x,r.y),c=Math.hypot(t.x,t.y)):i=="zoomX"||i=="selectX"?(u=Math.atan2(r.y,r.x)*Na,h=Math.atan2(t.y,t.x)*Na):(i=="zoomY"||i=="selectY")&&(A=Math.hypot(r.x,r.y),c=Math.hypot(t.x,t.y))),A=Qi(A,l,o),c=Qi(c,l,o),u=p0(u,a,n),h=p0(h,a,n),u==h&&(h=u+360),u*=Fr,h*=Fr,this._fillGenerator.context(e),this._fillGenerator({innerRadius:A,outerRadius:c,startAngle:u+Math.PI/2,endAngle:h+Math.PI/2})})}};Object.defineProperty(jl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadarCursor"});Object.defineProperty(jl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:En.classNames.concat([jl.className])});var ei=class extends fa{constructor(){super(...arguments),Object.defineProperty(this,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:Kf()}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:c_()}),Object.defineProperty(this,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Ii(Mt.new({}),()=>pt._new(this._root,{themeTags:lt(this.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template])))}),Object.defineProperty(this,"fills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Ii(Mt.new({}),()=>pt._new(this._root,{themeTags:lt(this.strokes.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template])))}),Object.defineProperty(this,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0})}_afterNew(){this._fillGenerator.y0(function(t){return t[3]}),this._fillGenerator.x0(function(t){return t[2]}),this._fillGenerator.y1(function(t){return t[1]}),this._fillGenerator.x1(function(t){return t[0]}),super._afterNew()}makeStroke(t){let e=this.mainContainer.children.push(t.make());return t.push(e),e}makeFill(t){let e=this.mainContainer.children.push(t.make());return t.push(e),e}_updateChildren(){this._strokeTemplate=void 0,this._fillTemplate=void 0;let t=this.get("xAxis"),e=this.get("yAxis");if(this.isDirty("stroke")){let i=this.get("stroke");this.strokes.template.set("stroke",i);let r=this._legendStroke;r&&r.states.lookup("default").set("stroke",i)}if(this.isDirty("fill")){let i=this.get("fill");this.fills.template.set("fill",i);let r=this._legendFill;r&&r.states.lookup("default").set("fill",i)}if(this.isDirty("fillPattern")){let i=this.get("fillPattern");this.fills.template.set("fillPattern",i);let r=this._legendFill;r&&r.states.lookup("default").set("fillPattern",i)}if(this.isDirty("curveFactory")){let i=this.get("curveFactory");i&&(this._strokeGenerator.curve(i),this._fillGenerator.curve(i))}if(t.inited&&e.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each(h=>{h.setPrivate("visible",!1)}),this.strokes.each(h=>{h.setPrivate("visible",!1)}),this.axisRanges.each(h=>{let c=h.fills;c&&c.each(d=>{d.setPrivate("visible",!1)});let A=h.strokes;A&&A.each(d=>{d.setPrivate("visible",!1)})});let i=this.startIndex(),r=this.strokes.template.get("templateField"),a=this.fills.template.get("templateField"),n=!0,o=!0;r&&(n=!1),a&&(o=!1);for(let h=i-1;h>=0;h--){let c=this.dataItems[h],A=!0,d=c.dataContext;if(r&&d[r]&&(n=!0),a&&d[a]&&(o=!0),Z(this._valueFields,f=>{ee(c.get(f))||(A=!1)}),A&&n&&o){i=h;break}}let l=this.dataItems.length,u=this.endIndex();if(u<l){u++;for(let h=u;h<l;h++){let c=this.dataItems[h],A=!0;if(Z(this._valueFields,d=>{ee(c.get(d))||(A=!1)}),A){u=h+1;break}}}if(i>0&&i--,this._endIndex=u,this._clearGraphics(),this._sindex=0,this._dindex=i,this.dataItems.length==1)this._startSegment(0);else for(;this._dindex<u-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;super._updateChildren()}_clearGraphics(){this.strokes.clear(),this.fills.clear(),this.axisRanges.each(t=>{t.fills.clear(),t.strokes.clear()})}_startSegment(t){let e=this._endIndex,i=e,r=this.get("autoGapCount"),a=this.get("connect"),n=this.makeFill(this.fills),o=this._fillTemplate,l=this.fills.template;o&&o!=l&&(n.template=o),n.setPrivate("visible",!0);let u=this.makeStroke(this.strokes),h=this._strokeTemplate;h&&h!=this.strokes.template&&(u.template=h),u.setPrivate("visible",!0);let c=this.get("xAxis"),A=this.get("yAxis"),d=this.get("baseAxis"),f=this.get("vcx",1),p=this.get("vcy",1),m=this._xField,g=this._yField,y=this._xOpenField,x=this._yOpenField,C=this.get("openValueXField"),S=this.get("openValueYField");C||(y=this._xField),S||(x=this._yField);let P=this.get("stacked"),F=c.basePosition(),O=A.basePosition(),$;d===A?$=this._yField:$=this._xField;let L=[],E=[];L.push(E);let D=this.strokes.template.get("templateField"),H=this.fills.template.get("templateField"),te=this.get("locationX",.5),K=this.get("locationY",.5),ae=this.get("openLocationX",te),ie=this.get("openLocationY",K),fe=this.get("minDistance",0),z,Y=this.fills.template.get("visible");this.axisRanges.length>0&&(Y=!0);let ge=!1;(P||C||S)&&(ge=!0);let re={points:E,segments:L,stacked:P,getOpen:ge,basePosX:F,basePosY:O,fillVisible:Y,xField:m,yField:g,xOpenField:y,yOpenField:x,vcx:f,vcy:p,baseAxis:d,xAxis:c,yAxis:A,locationX:te,locationY:K,openLocationX:ae,openLocationY:ie,minDistance:fe},me=this._strokeTemplate,Ge=this._fillTemplate;for(z=t;z<i;z++){this._dindex=z;let Xe=this._dataItems[z],nt=Xe.get(m),At=Xe.get(g);if(nt==null||At==null?a||(E=[],L.push(E),re.points=E):this._getPoints(Xe,re),D){let tt=Xe.dataContext[D];if(tt)if(tt instanceof Mt||(tt=Mt.new(tt)),this._strokeTemplate=tt,z>t){i=z;break}else me=tt,u.template=tt}if(H){let tt=Xe.dataContext[H];if(tt)if(tt instanceof Mt||(tt=Mt.new(tt)),this._fillTemplate=tt,z>t){i=z;break}else Ge=tt,n.template=tt}if(!a){let tt=this.dataItems[z+1];tt&&d.shouldGap(Xe,tt,r,$)&&(E=[],L.push(E),re.points=E)}}n.setRaw("userData",[t,z]),u.setRaw("userData",[t,z]),z===e&&this._endLine(E,L[0][0]),u&&this._drawStroke(u,L),n&&this._drawFill(n,L),this.axisRanges.each(Xe=>{let nt=Xe.container,At=Xe.fills,tt=this.makeFill(At);nt&&nt.children.push(tt),tt.setPrivate("visible",!0),this._drawFill(tt,L);let ft=Xe.strokes,_t=this.makeStroke(ft);nt&&nt.children.push(_t),me&&me!=this.strokes.template&&(_t.template=me),Ge&&Ge!=this.fills.template&&(tt.template=Ge),_t.setPrivate("visible",!0),this._drawStroke(_t,L),tt.setRaw("userData",[t,z]),_t.setRaw("userData",[t,z])})}_getPoints(t,e){let i=e.points,r=t.get("locationX",e.locationX),a=t.get("locationY",e.locationY),n=this.get("exactLocationX",!1),o=this.get("exactLocationY",!1),l=e.xAxis.getDataItemPositionX(t,e.xField,r,e.vcx,n),u=e.yAxis.getDataItemPositionY(t,e.yField,a,e.vcy,o);if(this._shouldInclude(l)){let h=this.getPoint(l,u),c=[h.x,h.y];if(h.x+=this._x,h.y+=this._y,t.set("point",h),e.fillVisible){let A=l,d=u;if(e.baseAxis===e.xAxis?d=e.basePosY:e.baseAxis===e.yAxis&&(A=e.basePosX),e.getOpen){let p=t.get(e.xOpenField),m=t.get(e.yOpenField);if(p!=null&&m!=null){let g=t.get("openLocationX",e.openLocationX),y=t.get("openLocationY",e.openLocationY);if(e.stacked){let x=t.get("stackToItemX"),C=t.get("stackToItemY");x?(A=e.xAxis.getDataItemPositionX(x,e.xField,g,x.component.get("vcx"),n),zs(A)&&(A=e.basePosX)):e.yAxis===e.baseAxis?A=e.basePosX:A=e.xAxis.getDataItemPositionX(t,e.xOpenField,g,e.vcx,n),C?(d=e.yAxis.getDataItemPositionY(C,e.yField,y,C.component.get("vcy"),o),zs(d)&&(d=e.basePosY)):e.xAxis===e.baseAxis?d=e.basePosY:d=e.yAxis.getDataItemPositionY(t,e.yOpenField,y,e.vcy,o)}else A=e.xAxis.getDataItemPositionX(t,e.xOpenField,g,e.vcx,n),d=e.yAxis.getDataItemPositionY(t,e.yOpenField,y,e.vcy,o)}}let f=this.getPoint(A,d);c[2]=f.x,c[3]=f.y}if(e.minDistance>0){let A=c[0],d=c[1],f=c[2],p=c[3],m=this._previousPoint,g=m[0],y=m[1],x=m[2],C=m[3];(Math.hypot(A-g,d-y)>e.minDistance||f&&p&&Math.hypot(f-x,p-C)>e.minDistance)&&(i.push(c),this._previousPoint=c)}else i.push(c)}}_endLine(t,e){}_drawStroke(t,e){t.get("visible")&&!t.get("forceHidden")&&t.set("draw",i=>{Z(e,r=>{this._strokeGenerator.context(i),this._strokeGenerator(r)})})}_drawFill(t,e){t.get("visible")&&!t.get("forceHidden")&&t.set("draw",i=>{Z(e,r=>{this._fillGenerator.context(i),this._fillGenerator(r)})})}_processAxisRange(t){super._processAxisRange(t),t.fills=new Ii(Mt.new({}),()=>pt._new(this._root,{themeTags:lt(t.fills.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template,t.fills.template])),t.strokes=new Ii(Mt.new({}),()=>pt._new(this._root,{themeTags:lt(t.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template,t.strokes.template]))}createLegendMarker(t){let e=this.get("legendDataItem");if(e){let i=e.get("marker"),r=e.get("markerRectangle");r&&r.setPrivate("visible",!1),i.set("background",fr.new(i._root,{fillOpacity:0,fill:Ys(0)}));let a=i.children.push(pt._new(i._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=a;let n=i.children.push(pt._new(i._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=n;let o=this._root.interfaceColors.get("disabled");if(a.states.create("disabled",{fill:o,stroke:o}),n.states.create("disabled",{fill:o,stroke:o}),this.bullets.length>0){let l=this.bullets.getIndex(0);if(l){let u=l(i._root,this,new as(this,{legend:!0},{}));if(u){let h=u.get("sprite");h instanceof pt&&h.states.create("disabled",{fill:o,stroke:o}),h&&(h.setAll({tooltipText:void 0,tooltipHTML:void 0,focusable:void 0,focusableGroup:void 0,ariaLabel:void 0}),i.children.push(h),h.setAll({x:i.width()/2,y:i.height()/2}),i.events.on("boundschanged",()=>{h.setAll({x:i.width()/2,y:i.height()/2})}))}}}}}};Object.defineProperty(ei,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"});Object.defineProperty(ei,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fa.classNames.concat([ei.className])});var el=class extends ei{_afterNew(){super._afterNew(),this.set("maskContent",!1),this.bulletsContainer.set("maskContent",!1),this.bulletsContainer.set("mask",pt.new(this._root,{}))}_handleMaskBullets(){}getPoint(t,e){let i=this.get("yAxis"),r=this.get("xAxis"),a=i.get("renderer"),n=a.positionToCoordinate(e)+a.getPrivate("innerRadius",0),l=r.get("renderer").positionToAngle(t);return{x:n*Pi(l),y:n*xi(l)}}_endLine(t,e){this.get("connectEnds")&&e&&t.push(e)}_shouldInclude(t){let e=this.get("xAxis");return!(t<e.get("start")||t>e.get("end"))}_shouldShowBullet(t,e){let i=this.get("xAxis");return t<i.get("start")||t>i.get("end")?!1:this._showBullets}_positionBullet(t){let e=t.get("sprite");if(e){let i=e.dataItem,r=t.get("locationX",i.get("locationX",.5)),a=t.get("locationY",i.get("locationY",.5)),n=this.get("xAxis"),o=this.get("yAxis"),l=n.getDataItemPositionX(i,this._xField,r,this.get("vcx",1)),u=o.getDataItemPositionY(i,this._yField,a,this.get("vcy",1)),h=this.getPoint(l,u);this._shouldShowBullet(l,u)?(e.setPrivate("visible",!0),e.set("x",h.x),e.set("y",h.y)):e.setPrivate("visible",!1)}}};Object.defineProperty(el,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadarLineSeries"});Object.defineProperty(el,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ei.classNames.concat([el.className])});var oo=class extends $n{constructor(){super(...arguments),Object.defineProperty(this,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"minorDataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Re.new(this._root,{}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Re.new(this._root,{width:be,height:be})}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Re.new(this._root,{width:be,height:be})}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Re.new(this._root,{isMeasured:!1,width:be,height:be,position:"absolute"}))}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_skipSync",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new hn}),Object.defineProperty(this,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesAdded",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Re.new(this._root,{themeTags:["axis","header"],position:"absolute",background:fr.new(this._root,{themeTags:["header","background"],fill:this._root.interfaceColors.get("background")})}))}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_dispose(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),super._dispose()}_afterNew(){super._afterNew(),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll(e=>{if(e.type==="clear")Z(e.oldValues,i=>{i.dispose()});else if(e.type==="push")this._processAxisRange(e.newValue,["range"]);else if(e.type==="setIndex")this._processAxisRange(e.newValue,["range"]);else if(e.type==="insertIndex")this._processAxisRange(e.newValue,["range"]);else if(e.type==="removeIndex")this.disposeDataItem(e.oldValue);else if(e.type==="moveIndex")this._processAxisRange(e.value,["range"]);else throw new Error("Unknown IStreamEvent type")}));let t=this.get("renderer");t&&(t.axis=this,t.processAxis()),this.children.push(t),this._createGhostLabel()}_createGhostLabel(){let e=this.get("renderer").makeLabel(new as(this,void 0,{}),[]);e.adapters.disable("text"),e.setAll({opacity:0,tooltipText:void 0,tooltipHTML:void 0,interactive:!1}),e.events.disable(),this.ghostLabel=e}_updateFinals(t,e){}zoom(t,e,i,r){if(this.get("zoomable",!0))if(this._updateFinals(t,e),this.get("start")!==t||this.get("end")!=e){let a=this._sAnimation,n=this._eAnimation;t>e&&([t,e]=[e,t]);let o=this.get("maxDeviation",.5)*Math.min(1,e-t);t<-o&&(t=-o),e>1+o&&(e=1+o),ee(i)||(i=this.get("interpolationDuration",0)),r||(r="end");let l=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100)),u=l;e===1&&t!==0&&(t<this.get("start",0)?r="start":r="end"),t===0&&e!==1&&(e>this.get("end",1)?r="end":r="start");let h=this.get("minZoomCount",0),c=this.dataItems;c&&c.length<h&&(h=c.length);let A=this.get("maxZoomCount",1/0);ee(h)&&(l=u/h);let d=1;if(ee(A)&&(d=u/A),r==="start"?(A>0&&1/(e-t)<d&&(e=t+1/d),1/(e-t)>l&&(e=t+1/l),e>1&&e-t<1/l&&(t=e-1/l)):(A>0&&1/(e-t)<d&&(t=e-1/d),1/(e-t)>l&&(t=e-1/l),t<0&&e-t<1/l&&(e=t+1/l)),1/(e-t)>l&&(e=t+1/l),1/(e-t)>l&&(t=e-1/l),A!=null&&h!=null&&t==this.get("start")&&e==this.get("end")){let f=this.chart;f&&f._handleAxisSelection(this,!0)}if((a&&a.playing&&a.to==t||this.get("start")==t)&&(n&&n.playing&&n.to==e||this.get("end")==e))return;if(i>0){let f=this.get("interpolationEasing"),p,m;if(this.get("start")!=t&&(p=this.animate({key:"start",to:t,duration:i,easing:f})),this.get("end")!=e&&(m=this.animate({key:"end",to:e,duration:i,easing:f})),this._sAnimation=p,this._eAnimation=m,p)return p;if(m)return m}else this.set("start",t),this.set("end",e),this.root.events.once("frameended",()=>{this.markDirtyKey("start")})}else this._sAnimation&&this._sAnimation.stop(),this._eAnimation&&this._eAnimation.stop()}get series(){return this._series}_processAxisRange(t,e){t.setRaw("isRange",!0),this._createAssets(t,e),this._rangesDirty=!0,this._prepareDataItem(t);let i=t.get("above"),r=this.topGridContainer,a=t.get("grid");i&&a&&r.children.moveValue(a);let n=t.get("axisFill");i&&n&&r.children.moveValue(n)}_prepareDataItem(t,e){}markDirtyExtremes(){}markDirtySelectionExtremes(){}_calculateTotals(){}_updateAxisRanges(){this._bullets={},this.axisRanges.each(t=>{this._prepareDataItem(t)}),Z(this._seriesAxisRanges,t=>{this._prepareDataItem(t)})}_prepareChildren(){super._prepareChildren();let t=this.ghostLabel;if(t&&(this.get("fixAxisSize")?t.set("visible",!0):t.set("visible",!1)),this.isDirty("start")||this.isDirty("end")){let i=this.chart;i&&i._updateCursor();let r=this.get("start",0),a=this.get("end",1),n=this.get("maxDeviation",.5)*Math.min(1,a-r);if(r<-n){let o=r+n;r=-n,this.setRaw("start",r),this.isDirty("end")&&this.setRaw("end",a-o)}if(a>1+n){let o=a-1-n;a=1+n,this.setRaw("end",a),this.isDirty("start")&&this.setRaw("start",r-o)}}let e=this.get("renderer");if(e._start=this.get("start"),e._end=this.get("end"),e._inversed=e.get("inversed",!1),e._axisLength=e.axisLength()/(e._end-e._start),e._updateLC(),this.isDirty("tooltip")){let i=this.get("tooltip");if(i){let r=e.get("themeTags");i.addTag("axis"),i.addTag(this.className.toLowerCase()),i._applyThemes(),r&&(i.set("themeTags",lt(i.get("themeTags"),r)),i.label._applyThemes())}}}_updateTooltipBounds(){let t=this.get("tooltip");t&&this.get("renderer").updateTooltipBounds(t)}_updateBounds(){super._updateBounds(),this._updateTooltipBounds()}processChart(t){this.chart=t;let e=this.get("renderer");e.chart=t,t.gridContainer.children.push(this.gridContainer),t.topGridContainer.children.push(this.topGridContainer),t.axisHeadersContainer.children.push(this.axisHeader),this.on("start",()=>{t._handleAxisSelection(this)}),this.on("end",()=>{t._handleAxisSelection(this)}),t.plotContainer.onPrivate("width",()=>{this.markDirtySize()}),t.plotContainer.onPrivate("height",()=>{this.markDirtySize()}),t.processAxis(this)}hideDataItem(t){return this._toggleFHDataItem(t,!0),super.hideDataItem(t)}showDataItem(t){return this._toggleFHDataItem(t,!1),super.showDataItem(t)}_toggleFHDataItem(t,e){let i="forceHidden",r=t.get("label");r&&r.set(i,e);let a=t.get("grid");a&&a.set(i,e);let n=t.get("tick");n&&n.set(i,e);let o=t.get("axisFill");o&&o.set(i,e);let l=t.get("bullet");if(l){let u=l.get("sprite");u&&u.set(i,e)}}_toggleDataItem(t,e){let i=t.get("label"),r="visible";i&&i.setPrivate(r,e);let a=t.get("grid");a&&a.setPrivate(r,e);let n=t.get("tick");n&&n.setPrivate(r,e);let o=t.get("axisFill");o&&o.setPrivate(r,e);let l=t.get("bullet");if(l){let u=l.get("sprite");u&&u.setPrivate(r,e)}}_createAssets(t,e,i){var r,a,n;let o=this.get("renderer"),l="minor",u=t.get("label");if(!u)o.makeLabel(t,e);else{let A=u.get("themeTags"),d=!1;i?A?.indexOf(l)==-1&&(d=!0):A?.indexOf(l)!=-1&&(d=!0),d&&((r=u.parent)===null||r===void 0||r.children.removeValue(u),o.makeLabel(t,e),u.dispose(),o.labels.removeValue(u))}let h=t.get("grid");if(!h)o.makeGrid(t,e);else{let A=h.get("themeTags"),d=!1;i?A?.indexOf(l)==-1&&(d=!0):A?.indexOf(l)!=-1&&(d=!0),d&&((a=h.parent)===null||a===void 0||a.children.removeValue(h),o.makeGrid(t,e),h.dispose(),o.grid.removeValue(h))}let c=t.get("tick");if(!c)o.makeTick(t,e);else{let A=!1,d=c.get("themeTags");i?d?.indexOf(l)==-1&&(A=!0):d?.indexOf(l)!=-1&&(A=!0),A&&((n=c.parent)===null||n===void 0||n.children.removeValue(c),o.makeTick(t,e),c.dispose(),o.ticks.removeValue(c))}(!i&&!t.get("axisFill")||i&&!t.get("axisFill")&&this.get("minorAxisFillsEnabled"))&&o.makeAxisFill(t,e),this._processBullet(t)}_processBullet(t){let e=t.get("bullet"),i=this.get("bullet");if(!e&&i&&!t.get("isRange")&&(e=i(this._root,this,t)),e){e.axis=this;let r=e.get("sprite");r&&(r._setDataItem(t),t.setRaw("bullet",e),r.parent||this.bulletsContainer.children.push(r))}}_afterChanged(){super._afterChanged();let t=this.chart;t&&(t._updateChartLayout(),t.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions(),this._seriesAdded=!1}disposeDataItem(t){super.disposeDataItem(t);let e=this.get("renderer"),i=t.get("label");i&&(e.labels.removeValue(i),i.dispose());let r=t.get("tick");r&&(e.ticks.removeValue(r),r.dispose());let a=t.get("grid");a&&(e.grid.removeValue(a),a.dispose());let n=t.get("axisFill");n&&(e.axisFills.removeValue(n),n.dispose());let o=t.get("bullet");o&&o.dispose()}_updateGhost(){this.setPrivate("cellWidth",this.getCellWidthPosition()*this.get("renderer").axisLength());let t=this.ghostLabel;if(t){if(!t.isHidden()){let r=t.localBounds(),a=Math.ceil(r.right-r.left),n=t.get("text");Z(this.dataItems,o=>{let l=o.get("label");if(l&&!l.isHidden()){let u=l.localBounds();Math.ceil(u.right-u.left)>a&&(n=l.text._getText())}}),t.set("text",n)}let e=this.get("start",0),i=this.get("end",1);this.get("renderer").updateLabel(t,e+(i-e)*.5)}}_handleCursorPosition(t,e){t=this.get("renderer").toAxisPosition(t),this._cursorPosition=t,this._snapToSeries=e,this.updateTooltip()}updateTooltip(){let t=this._snapToSeries,e=this._cursorPosition,i=this.get("tooltip"),r=this.get("renderer");ee(e)&&(Z(this.series,a=>{if(a.get("baseAxis")===this){let n=this.getSeriesItem(a,e,this.get("tooltipLocation"));t&&t.indexOf(a)!=-1?(a.updateLegendMarker(n),a.updateLegendValue(n),a._settings.tooltipDataItem=n):(a.showDataItemTooltip(n),a.setRaw("tooltipDataItem",n))}}),this.get("snapTooltip")&&(e=this.roundAxisPosition(e,this.get("tooltipLocation",.5))),this.setPrivateRaw("tooltipPosition",e),i&&(r.updateTooltipBounds(i),zs(e)?i.hide(0):(this._updateTooltipText(i,e),r.positionTooltip(i,e),e<this.get("start",0)||e>this.get("end",1)?i.hide(0):i.show(0))))}_updateTooltipText(t,e){t.label.set("text",this.getTooltipText(e))}roundAxisPosition(t,e){return t}_handleSeriesRemoved(){}handleCursorShow(){let t=this.get("tooltip");t&&t.show()}handleCursorHide(){let t=this.get("tooltip");t&&t.hide()}processSeriesDataItem(t,e){}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._rangesDirty=!1}coordinateToPosition(t){let e=this.get("renderer");return e.toAxisPosition(t/e.axisLength())}toAxisPosition(t){return this.get("renderer").toAxisPosition(t)}toGlobalPosition(t){return this.get("renderer").toGlobalPosition(t)}fixPosition(t){return this.get("renderer").fixPosition(t)}shouldGap(t,e,i,r){return!1}createAxisRange(t){return this.axisRanges.push(t)}_groupSeriesData(t){}getCellWidthPosition(){return .05}};Object.defineProperty(oo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"});Object.defineProperty(oo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:$n.classNames.concat([oo.className])});var yi=class extends oo{constructor(){super(...arguments),Object.defineProperty(this,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dseHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minRealLog",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1})}markDirtyExtremes(){this._dirtyExtremes=!0,this.markDirty()}markDirtySelectionExtremes(){this._dirtySelectionExtremes=!0,this.markDirty()}_afterNew(){this._settings.themeTags=lt(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),super._afterNew()}_prepareChildren(){var t;if(super._prepareChildren(),this.isDirty("syncWithAxis")){this._prevSettings.syncWithAxis&&this._syncDp&&this._syncDp.dispose();let r=this.get("syncWithAxis");r&&(this._syncDp=new Br([r.onPrivate("selectionMinFinal",()=>{this._dirtySelectionExtremes=!0}),r.onPrivate("selectionMaxFinal",()=>{this._dirtySelectionExtremes=!0})]))}let e=!1;if((this.isDirty("min")||this.isDirty("max")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(e=!0,(t=this.ghostLabel)===null||t===void 0||t.set("text","")),(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||e||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection"))&&(this._getMinMax(),this._dirtyExtremes=!1),this._handleSizeDirty(),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)){let i=this.chart,r=!1;if(i){let a=this.get("renderer").getPrivate("letter");a=="Y"?i.xAxes.each(n=>{n.className!="ValueAxis"&&(r=!0)}):a=="X"&&i.yAxes.each(n=>{n.className!="ValueAxis"&&(r=!0)})}r&&this._getSelectionMinMax(),this._dirtySelectionExtremes=!1}this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}_handleSizeDirty(){this._sizeDirty&&!this._dseHandled&&(this._dirtySelectionExtremes=!0,this._dseHandled=!0,(this.getPrivate("selectionMinFinal")!=this.getPrivate("selectionMin")||this.getPrivate("selectionMaxFinal")!=this.getPrivate("selectionMax"))&&(this._dirtySelectionExtremes=!1))}_clearDirty(){super._clearDirty(),this._dseHandled=!1}_groupData(){}_formatText(t){let e=this.get("numberFormat"),i=this.getNumberFormatter(),r="";return e?r=i.format(t,e):r=i.format(t,void 0,this.getPrivate("stepDecimalPlaces")),r}_prepareAxisItems(){let t=this.getPrivate("min"),e=this.getPrivate("max");if(ee(t)&&ee(e)){let i=this.get("logarithmic"),r=this.getPrivate("step"),a=this.getPrivate("selectionMin"),n=this.getPrivate("selectionMax")+r,o=a-r,l=1,u=t;if(i){if(o=this._minLogAdjusted,o<a)for(;o<a;)o+=r;if(u=o,u<=0){let C=this._minRealLog;ee(C)||(C=1),u=Math.pow(10,Math.log(C)*Math.LOG10E),r<1&&(ee(this._minRealLog)?u=this._minRealLog:u=Math.pow(10,-50))}l=Math.log(n-r)*Math.LOG10E-Math.log(u)*Math.LOG10E,l>2&&(o=Math.pow(10,Math.log(u)*Math.LOG10E-50))}let h=this.get("renderer"),c=h.get("minorLabelsEnabled"),A=h.get("minorGridEnabled",c),d=Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E)),f=Math.round(r/d),p=2;Tr(f/5,10)%1==0&&(p=5),Tr(f/10,10)%1==0&&(p=10);let m=r/p,g=0,y=0,x=-1/0;for(;o<n;){let C;this.dataItems.length<g+1?(C=new as(this,void 0,{}),this._dataItems.push(C),this.processDataItem(C)):C=this.dataItems[g],this._createAssets(C,[]),this._toggleDataItem(C,!0),C.setRaw("value",o);let S=C.get("label");S&&S.set("text",this._formatText(o)),this._prepareDataItem(C);let P=o;if(i&&l>2?P=Math.pow(10,Math.log(u)*Math.LOG10E+g-50):P+=r,A){let O=o+m;for(i&&(l>2&&(m=this._adjustMinMax(o,P,10).step),O=o+m);O<P-r*1e-11;){let $;this.minorDataItems.length<y+1?($=new as(this,void 0,{}),this.minorDataItems.push($),this.processDataItem($)):$=this.minorDataItems[y],this._createAssets($,["minor"],!0),this._toggleDataItem($,!0),$.setRaw("value",O);let L=$.get("label");L&&(c?L.set("text",this._formatText(O)):L.setPrivate("visible",!1)),this._prepareDataItem($),O+=m,y++}}if(o=P,x==o)break;let F=Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E));if(F<1&&!i){let O=Math.round(Math.abs(Math.log(Math.abs(F))*Math.LOG10E))+2;o=Tr(o,O)}g++,i&&l<=2&&o-r<r&&(o=r),x=o}for(let C=g;C<this.dataItems.length;C++)this._toggleDataItem(this.dataItems[C],!1);for(let C=y;C<this.minorDataItems.length;C++)this._toggleDataItem(this.minorDataItems[C],!1);Z(this.series,C=>{C.inited&&C._markDirtyAxes()}),this._updateGhost()}}_prepareDataItem(t,e){let i=this.get("renderer"),r=t.get("value"),a=t.get("endValue"),n=this.valueToPosition(r),o=n,l=this.valueToPosition(r+this.getPrivate("step"));ee(a)&&(o=this.valueToPosition(a),l=o),t.get("isRange")&&a==null&&(l=n);let u=o,h=t.get("labelEndValue");h!=null&&(u=this.valueToPosition(h)),i.updateLabel(t.get("label"),n,u,e);let c=t.get("grid");if(i.updateGrid(c,n,o),c&&(r==this.get("baseValue",0)?(c.addTag("base"),c._applyThemes()):c.hasTag("base")&&(c.removeTag("base"),c._applyThemes())),i.updateTick(t.get("tick"),n,u,e),i.updateFill(t.get("axisFill"),n,l),this._processBullet(t),i.updateBullet(t.get("bullet"),n,o),!t.get("isRange")){let A=this.get("fillRule");A&&A(t)}}_handleRangeChange(){let t=this.positionToValue(this.get("start",0)),e=this.positionToValue(this.get("end",1)),i=this.get("renderer").gridCount(),r=this._adjustMinMax(t,e,i,!0),a=Lg(r.step);this.setPrivateRaw("stepDecimalPlaces",a),t=Tr(t,a),e=Tr(e,a),r=this._adjustMinMax(t,e,i,!0);let n=r.step;t=r.min,e=r.max,(this.getPrivate("selectionMin")!==t||this.getPrivate("selectionMax")!==e||this.getPrivate("step")!==n)&&(this.setPrivateRaw("selectionMin",t),this.setPrivateRaw("selectionMax",e),this.setPrivateRaw("step",n))}positionToValue(t){let e=this.getPrivate("min"),i=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(t*(Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E)+Math.log(e)*Math.LOG10E)/Math.LOG10E):t*(i-e)+e}valueToPosition(t){let e=this.getPrivate("min"),i=this.getPrivate("max");if(this.get("logarithmic")){if(t<=0){let r=this.get("treatZeroAs");ee(r)&&(t=r)}return(Math.log(t)*Math.LOG10E-Math.log(e)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E)}else return(t-e)/(i-e)}valueToFinalPosition(t){let e=this.getPrivate("minFinal"),i=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(t<=0){let r=this.get("treatZeroAs");ee(r)&&(t=r)}return(Math.log(t)*Math.LOG10E-Math.log(e)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E)}else return(t-e)/(i-e)}getX(t,e,i){t=i+(t-i)*e;let r=this.valueToPosition(t);return this._settings.renderer.positionToCoordinate(r)}getY(t,e,i){t=i+(t-i)*e;let r=this.valueToPosition(t);return this._settings.renderer.positionToCoordinate(r)}getDataItemCoordinateX(t,e,i,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(t,e,i,r))}getDataItemPositionX(t,e,i,r){let a=t.get(e);if(t.get("stackToItemX")){let o=t.component;a=a*r+o.getStackedXValueWorking(t,e)}else a=this._baseValue+(a-this._baseValue)*r;return this.valueToPosition(a)}getDataItemCoordinateY(t,e,i,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(t,e,i,r))}getDataItemPositionY(t,e,i,r){let a=t.get(e);if(t.get("stackToItemY")){let o=t.component;a=a*r+o.getStackedYValueWorking(t,e)}else a=this._baseValue+(a-this._baseValue)*r;return this.valueToPosition(a)}basePosition(){return this.valueToPosition(this.baseValue())}baseValue(){let t=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),e=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0)),i=this.get("baseValue",0);return i<t&&(i=t),i>e&&(i=e),i}cellEndValue(t){return t}fixSmallStep(t){return 1+t===1?(t*=2,this.fixSmallStep(t)):t}_fixMin(t){return t}_fixMax(t){return t}_calculateTotals(){if(this.get("calculateTotals")){let t=this.series[0];if(t){let e=t.startIndex();if(t.dataItems.length>0){e>0&&e--;let i=t.endIndex();i<t.dataItems.length&&i++;let r,a;t.get("yAxis")==this?(r="valueY",a="vcy"):t.get("xAxis")==this&&(r="valueX",a="vcx");let n=r+"Working";if(r)for(let o=e;o<i;o++){let l=0,u=0;Z(this.series,h=>{if(!h.get("excludeFromTotal")){let c=h.dataItems[o];if(c){let A=c.get(n)*h.get(a);zs(A)||(l+=A,u+=Math.abs(A))}}}),Z(this.series,h=>{if(!h.get("excludeFromTotal")){let c=h.dataItems[o];if(c){let A=c.get(n)*h.get(a);if(!zs(A)){c.set(r+"Total",u),c.set(r+"Sum",l);let d=A/u*100;u==0&&(d=0),c.set(r+"TotalPercent",d)}}}})}}}}}_getSelectionMinMax(){let t=this.getPrivate("minFinal"),e=this.getPrivate("maxFinal"),i=this.get("min"),r=this.get("max"),a=this.get("extraMin",0),n=this.get("extraMax",0);this.get("logarithmic")&&(this.get("extraMin")==null&&(a=.1),this.get("extraMax")==null&&(n=.2));let o=this.get("renderer").gridCount(),l=this.get("strictMinMaxSelection"),u=this.get("strictMinMax");if(ee(t)&&ee(e)){let h=e,c=t;if(Z(this.series,C=>{if(!C.get("ignoreMinMax")){let S,P,F=C.getPrivate("outOfSelection");if(C.get("xAxis")===this){if(!F){let O=C.getPrivate("minX"),$=C.getPrivate("maxX");(C.startIndex()!=0||C.endIndex()!=C.dataItems.length)&&(O=void 0,$=void 0),S=C.getPrivate("selectionMinX",O),P=C.getPrivate("selectionMaxX",$)}}else if(C.get("yAxis")===this&&!F){let O=C.getPrivate("minY"),$=C.getPrivate("maxY");(C.startIndex()!=0||C.endIndex()!=C.dataItems.length)&&(O=void 0,$=void 0),S=C.getPrivate("selectionMinY",O),P=C.getPrivate("selectionMaxY",$)}!C.isHidden()&&!C.isShowing()&&(ee(S)&&(h=Math.min(h,S)),ee(P)&&(c=Math.max(c,P)))}}),this.axisRanges.each(C=>{if(C.get("affectsMinMax")){let S=C.get("value");S!=null&&(h=Math.min(h,S),c=Math.max(c,S)),S=C.get("endValue"),S!=null&&(h=Math.min(h,S),c=Math.max(c,S))}}),h>c&&([h,c]=[c,h]),ee(i)?u?h=i:h=t:u&&ee(this._minReal)&&(h=this._minReal),ee(r)?u?c=r:c=e:u&&ee(this._maxReal)&&(c=this._maxReal),h===c){let C=h;if(h-=this._deltaMinMax,c+=this._deltaMinMax,h<t){let P=C-t;P==0&&(P=this._deltaMinMax),h=C-P,c=C+P,u=!0}let S=this._adjustMinMax(h,c,o,u);h=S.min,c=S.max}let A=h,d=c,f=c-h;h-=f*a,c+=f*n;let p=this._adjustMinMax(h,c,o);h=p.min,c=p.max,h=Qi(h,t,e),c=Qi(c,t,e),p=this._adjustMinMax(h,c,o,!0),u||(h=p.min,c=p.max);let m=this.get("syncWithAxis");if(m&&(p=this._syncAxes(h,c,p.step,m.getPrivate("selectionMinFinal",m.getPrivate("minFinal",0)),m.getPrivate("selectionMaxFinal",m.getPrivate("maxFinal",1)),m.getPrivate("selectionStepFinal",m.getPrivate("step",1))),p.min<t&&(p.min=t),p.max>e&&(p.max=e),h=p.min,c=p.max),u&&(ee(i)&&(h=Math.max(h,i)),ee(r)&&(c=Math.min(c,r))),l&&(h=A-(d-A)*a,c=d+(d-A)*n),u){ee(i)?h=i:h=A,ee(r)?c=r:c=d,c-h<=1e-8&&(h-=this._deltaMinMax,c+=this._deltaMinMax);let C=c-h;h-=C*a,c+=C*n}this.get("logarithmic")&&(h<=0&&(h=A*(1-Math.min(a,.99))),h<t&&(h=t),c>e&&(c=e));let g=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),y=Tr(this.valueToFinalPosition(h),g),x=Tr(this.valueToFinalPosition(c),g);this.setPrivateRaw("selectionMinFinal",h),this.setPrivateRaw("selectionMaxFinal",c),this.setPrivateRaw("selectionStepFinal",p.step),this.zoom(y,x)}}_getMinMax(){let t=this.get("min"),e=this.get("max"),i=1/0,r=-1/0,a=this.get("extraMin",0),n=this.get("extraMax",0);this.get("logarithmic")&&(this.get("strictMinMax")||(this.get("extraMin")==null&&(a=.1),this.get("extraMax")==null&&(n=.2)));let o=1/0;if(Z(this.series,x=>{if(!x.get("ignoreMinMax")){let C,S;if(x.get("xAxis")===this?(C=x.getPrivate("minX"),S=x.getPrivate("maxX")):x.get("yAxis")===this&&(C=x.getPrivate("minY"),S=x.getPrivate("maxY")),ee(C)&&ee(S)){i=Math.min(i,C),r=Math.max(r,S);let P=S-C;P<=0&&(P=Math.abs(S/100)),P<o&&(o=P)}}}),this.axisRanges.each(x=>{if(x.get("affectsMinMax")){let C=x.get("value");C!=null&&(i=Math.min(i,C),r=Math.max(r,C)),C=x.get("endValue"),C!=null&&(i=Math.min(i,C),r=Math.max(r,C))}}),this.get("logarithmic")){let x=this.get("treatZeroAs");ee(x)&&i<=0&&(i=x),i<=0&&new Error("Logarithmic value axis can not have values <= 0.")}if(i===0&&r===0&&(r=.9,i=-.9),ee(t)&&(i=t),ee(e)&&(r=e),i===1/0||r===-1/0){this.setPrivate("minFinal",void 0),this.setPrivate("maxFinal",void 0);return}i>r&&([i,r]=[r,i]);let l=i,u=r,h=this.adapters.fold("min",i),c=this.adapters.fold("max",r);this._minRealLog=i,ee(h)&&(i=h),ee(c)&&(r=c),i=this._fixMin(i),r=this._fixMax(r),r-i<=1/Math.pow(10,15)&&(r-i!==0?this._deltaMinMax=(r-i)/2:this._getDelta(r),i-=this._deltaMinMax,r+=this._deltaMinMax),i-=(r-i)*a,r+=(r-i)*n,this.get("logarithmic")&&(i<0&&l>=0&&(i=0),r>0&&u<=0&&(r=0)),this._minReal=i,this._maxReal=r;let A=this.get("strictMinMax"),d=this.get("strictMinMaxSelection",!1);d&&(A=d);let f=A;ee(e)&&(f=!0);let p=this.get("renderer").gridCount(),m=this._adjustMinMax(i,r,p,f);if(i=m.min,r=m.max,m=this._adjustMinMax(i,r,p,!0),i=m.min,r=m.max,A){ee(t)?i=t:i=this._minReal,ee(e)?r=e:r=this._maxReal,r-i<=1e-8&&(i-=this._deltaMinMax,r+=this._deltaMinMax);let x=r-i;i-=x*a,r+=x*n}h=this.adapters.fold("min",i),c=this.adapters.fold("max",r),ee(h)&&(i=h),ee(c)&&(r=c),o==1/0&&(o=r-i);let g=Math.round(Math.abs(Math.log(Math.abs(r-i))*Math.LOG10E))+5;i=Tr(i,g),r=Tr(r,g);let y=this.get("syncWithAxis");if(y&&(m=this._syncAxes(i,r,m.step,y.getPrivate("minFinal",y.getPrivate("min",0)),y.getPrivate("maxFinal",y.getPrivate("max",1)),y.getPrivate("step",1)),i=m.min,r=m.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((r-i)/o*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=i,i=this._minReal,r=this._maxReal,i<=0&&(i=l*(1-Math.min(a,.99)))),ee(i)&&ee(r)&&(this.getPrivate("minFinal")!==i||this.getPrivate("maxFinal")!==r)){this.setPrivate("minFinal",i),this.setPrivate("maxFinal",r),this._saveMinMax(i,r);let x=this.get("interpolationDuration",0),C=this.get("interpolationEasing");this.animatePrivate({key:"min",to:i,duration:x,easing:C}),this.animatePrivate({key:"max",to:r,duration:x,easing:C})}}_fixZoomFactor(){}_getDelta(t){let e=Math.log(Math.abs(t))*Math.LOG10E,i=Math.pow(10,Math.floor(e));i=i/10,this._deltaMinMax=i}_saveMinMax(t,e){}_adjustMinMax(t,e,i,r){i<=1&&(i=1),i=Math.round(i);let a=t,n=e,o=e-t;o===0&&(o=Math.abs(e));let l=Math.log(Math.abs(o))*Math.LOG10E,u=Math.pow(10,Math.floor(l));u=u/10;let h=u;r&&(h=0),r?(t=Math.floor(t/u)*u,e=Math.ceil(e/u)*u):(t=Math.ceil(t/u)*u-h,e=Math.floor(e/u)*u+h),t<0&&a>=0&&(t=0),e>0&&n<=0&&(e=0),l=Math.log(Math.abs(o))*Math.LOG10E,u=Math.pow(10,Math.floor(l)),u=u/100;let c=Math.ceil(o/i/u)*u,A=Math.pow(10,Math.floor(Math.log(Math.abs(c))*Math.LOG10E)),d=Math.ceil(c/A);d>5?d=10:d<=5&&d>2&&(d=5),c=Math.ceil(c/(A*d))*A*d;let f=this.get("maxPrecision");if(ee(f)){let y=$F(c,f);f<Number.MAX_VALUE&&c!==y&&(c=y,c==0&&(c=1))}let p=0;A<1&&(p=Math.round(Math.abs(Math.log(Math.abs(A))*Math.LOG10E))+1,c=Tr(c,p));let m=Math.floor(t/c);t=Tr(c*m,p);let g;return r?g=Math.floor(e/c):g=Math.ceil(e/c),g===m&&g++,e=Tr(c*g,p),e<n&&(e=e+c),t>a&&(t=t-c),c=this.fixSmallStep(c),{min:t,max:e,step:c}}getTooltipText(t,e){let i=this.get("tooltipNumberFormat",this.get("numberFormat")),r=this.getNumberFormatter(),a=this.get("extraTooltipPrecision",0),n=this.getPrivate("stepDecimalPlaces",0)+a,o=Tr(this.positionToValue(t),n);return i?r.format(o,i):r.format(o,void 0,n)}getSeriesItem(t,e){let i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),r=this.positionToValue(e),a,n;if(Z(t.dataItems,(o,l)=>{let u=Math.abs(o.get(i)-r);(a===void 0||u<n)&&(a=l,n=u)}),a!=null)return t.dataItems[a]}zoomToValues(t,e,i){let r=this.getPrivate("minFinal",this.getPrivate("min",0)),a=this.getPrivate("maxFinal",this.getPrivate("max",1));this.getPrivate("min")!=null&&this.getPrivate("max")!=null&&this.zoom((t-r)/(a-r),(e-r)/(a-r),i)}_syncAxes(t,e,i,r,a,n){if(this.get("syncWithAxis")){let l=Math.round(a-r)/n,u=Math.round((e-t)/i),h=this.get("renderer").gridCount();if(ee(l)&&ee(u)){let c=!1,A=0,d=(e-t)*.01,f=t,p=e,m=i;for(;c!=!0;)if(c=this._checkSync(f,p,m,l),A++,A>500&&(c=!0),c)t=f,e=p,i=m;else{A/3==Math.round(A/3)?(f=t-d*A,t>=0&&f<0&&(f=0)):(p=e+d*A,p<=0&&p>0&&(p=0));let g=this._adjustMinMax(f,p,h,!0);f=g.min,p=g.max,m=g.step}}}return{min:t,max:e,step:i}}_checkSync(t,e,i,r){let a=(e-t)/i;for(let n=1;n<r;n++)if(Tr(a/n,1)==r||a*n==r)return!0;return!1}getCellWidthPosition(){let t=this.getPrivate("selectionMax",this.getPrivate("max")),e=this.getPrivate("selectionMin",this.getPrivate("min"));return ee(t)&&ee(e)?this.getPrivate("step",1)/(t-e):.05}nextPosition(t){t==null&&(t=1),this.get("renderer").getPrivate("letter")=="Y"&&(t*=-1);let e=this.positionToValue(this.getPrivate("tooltipPosition",0));return e+=this.getPrivate("step",1)*t,e=Qi(e,this.getPrivate("selectionMin",0),this.getPrivate("selectionMax",1)),this.toGlobalPosition(this.valueToPosition(e))}};Object.defineProperty(yi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"});Object.defineProperty(yi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:oo.classNames.concat([yi.className])});var ns=class s extends oo{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=lt(this._settings.themeTags,["axis"]),this.fields.push("category","id","cellSize"),this.setPrivateRaw("name","category"),this.addTag("category"),super._afterNew()}_afterDataChange(){super._afterDataChange();let t=this.dataItems.length;t>0&&this.setPrivateRaw("maxZoomFactor",t),this.setPrivateRaw("startIndex",Math.min(this.getPrivate("startIndex",0),t)),this.setPrivateRaw("endIndex",Math.min(this.getPrivate("endIndex",t),1))}_prepareChildren(){super._prepareChildren();let t=this.dataItems.length,e=0;this._valuesDirty&&(this._itemMap={},Z(this.dataItems,n=>{n.setRaw("index",e),this._itemMap[n.get("category")]=n,e++}),this.setPrivateRaw("maxZoomFactor",t));let i=this.get("start",0),r=this.get("end",1),a=this._getIndices(i,r);this.setPrivateRaw("startIndex",a.startIndex),this.setPrivateRaw("endIndex",a.endIndex),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}adjustZoom(){let t=this.dataItems.length;if(t>1){let e=this.get("maxZoomCount",this.dataItems.length),i=this.get("minZoomCount",1),r=0,a=this.getPrivate("startIndex",0),n=this.getPrivate("endIndex",0),o=this._sAnimation,l=this._eAnimation,u=this.get("start",0),h=!1;o&&!o.stopped&&(u=Number(o.to),h=!0);let c=this.get("end",1);if(l&&!l.stopped&&(c=Number(l.to),h=!0),h){let A=this._getIndices(u,c);a=A.startIndex,n=A.endIndex}for(let A=a;A<n;A++){let d=this.dataItems[A];r+=d.get("finalCellSize",1)}if(r<=i){let A=0;for(let d=a;d<t;d++){let f=this.dataItems[d];if(A+=f.get("finalCellSize",1),n=d+1,A>=i)break}if(A<i)for(let d=a-1;d>=0;d--){let f=this.dataItems[d];if(A+=f.get("finalCellSize",1),a=d,A>=i)break}this.zoomToIndexes(a,n)}else if(r>=e){let A=r;for(let d=n-1;d>=a;d--){let f=this.dataItems[d];if(A-=f.get("finalCellSize",1),A<=e){n=d+1;break}}this.zoomToIndexes(a,n)}}}_handleRangeChange(){Z(this.series,t=>{let e=this.dataItems[this.startIndex()].get("category"),i=this.dataItems[this.endIndex()-1].get("category"),r=t.get("baseAxis"),a=t.get("xAxis"),n=t.get("yAxis");if(a instanceof s&&n instanceof s)t._markDirtyAxes();else if(r===this){let o,l,u=n;if(a===r?(t.get("categoryXField")&&(o="categoryX"),t.get("openCategoryXField")&&(l="openCategoryX")):n===r&&(t.get("categoryYField")&&(o="categoryY"),t.get("openCategoryYField")&&(l="openCategoryY"),u=a),u instanceof yi&&(o||l)){let A=function(m,g,y,x,C,S){let P,F=g.categoryToIndex(C);for(;!P&&F>=0&&F<g.dataItems.length;){let O=g.dataItems[F].get("category");if(S=="previous")for(let $=m.dataItems.length-1;$>=0;$--){let L=m.dataItems[$];if(y&&L.get(y)===O){P=L;break}if(x&&L.get(x)===O){P=L;break}}else for(let $=0,L=m.dataItems.length;$<L;$++){let E=m.dataItems[$];if(y&&E.get(y)===O){P=E;break}if(x&&E.get(x)===O){P=E;break}}P||(F+=S==="previous"?-1:1)}return P},h,c;h=A(t,this,o,l,e,"next"),c=A(t,this,o,l,i,"previous");let d=0,f=t.dataItems.length;h&&(d=t.dataItems.indexOf(h)),c&&(f=t.dataItems.indexOf(c)+1),t.setPrivate("startIndex",d),t.setPrivate("endIndex",f);let p=!1;for(let m=d;m<f;m++){let g=t.dataItems[m];if(Z(t.__valueXShowFields,y=>{g.get(y)!=null&&(p=!0)}),Z(t.__valueYShowFields,y=>{g.get(y)!=null&&(p=!0)}),p)break}t.setPrivate("outOfSelection",!p)}t._markDirtyAxes()}})}_prepareAxisItems(){var t;let e=this.get("renderer"),i=this.dataItems.length,r=this.startIndex();r>0&&r--;let a=this.endIndex();a<i&&a++;let n=e.get("minorLabelsEnabled"),o=e.get("minorGridEnabled",n),l=e.axisLength()/Math.max(e.get("minGridDistance"),1),u=Math.max(1,Math.min(i,Math.ceil((a-r)/l)));r=Math.floor(r/u)*u,this._frequency=u;for(let c=0;c<i;c++)this._toggleDataItem(this.dataItems[c],!1);let h=this.dataItems[r].get("index",0);for(let c=r;c<a;c=c+u){let A=this.dataItems[c];this._createAssets(A,[]),this._toggleDataItem(A,!0);let d=u;o&&(d=1),this._prepareDataItem(A,h,d),h++}if(e.get("minorGridEnabled"))for(let c=r;c<a;c++){let A=this.dataItems[c];c%u!=0&&(this._createAssets(A,["minor"],!0),this._toggleDataItem(A,!0),this._prepareDataItem(A,0,1),n||(t=A.get("label"))===null||t===void 0||t.setPrivate("visible",!1))}this._updateGhost()}_prepareDataItem(t,e,i){let r=this.get("renderer"),a=t.get("categoryLocation",0),n=t.get("endCategoryLocation",1),o=t.get("index");ee(o)||(o=this.categoryToIndex(t.get("category")));let l=this.indexToPosition(o,a),u=t.get("endCategory"),h;u?(h=this.categoryToIndex(u),ee(h)||(h=o)):h=o;let c=this.indexToPosition(h,n),A,d;if(t.get("isRange")){if(A=h,!ee(o))return}else A=o+this._frequency-1;d=this.indexToPosition(A,n),r.updateLabel(t.get("label"),l,c,i),r.updateGrid(t.get("grid"),l,c),r.updateTick(t.get("tick"),l,c,i),r.updateFill(t.get("axisFill"),l,d),this._processBullet(t),r.updateBullet(t.get("bullet"),l,c);let f=this.get("fillRule");f&&f(t,e)}startIndex(){let t=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),t-1)}endIndex(){let t=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",t),t))}baseValue(){}basePosition(){return 0}getX(t){let e=this._itemMap[t];return e?this._settings.renderer.positionToCoordinate(this.indexToPosition(e.get("index",0))):NaN}getY(t){let e=this._itemMap[t];return e?this._settings.renderer.positionToCoordinate(this.indexToPosition(e.get("index",0))):NaN}getDataItemPositionX(t,e,i,r){let a=t.get(e),n=this._itemMap[a];return n?this.indexToPosition(n.get("index",0),i):NaN}getDataItemCoordinateX(t,e,i,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(t,e,i,r))}getDataItemPositionY(t,e,i,r){let a=t.get(e),n=this._itemMap[a];return n?this.indexToPosition(n.get("index",0),i):NaN}getDataItemCoordinateY(t,e,i,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(t,e,i,r))}indexToPosition(t,e,i){let r=this.dataItems.length,a=0;if(r==0||(t>=r&&(t=r-1,e=1),ee(e)||(e=.5),!ee(t)))return 0;let n=this.get("startLocation",0),o=this.get("endLocation",1);if(!this.get("cellSizeField"))r-=n,r-=1-o,a=(t+e-n)/r;else{let l=i?"finalCellSize":"cellSize",u=this.dataItems,h=0;Z(this.dataItems,d=>{h+=d.get(l,1)}),h-=n*u[0].get(l,1),h-=(1-o)*u[u.length-1].get(l,1);let c=0;for(let d=0;d<t;d++)c+=u[d].get(l,1);let A=u[t].get(l,1);a=(c+e*A-n*u[0].get(l,1))/h}if(!i){let l=this.dataItems[t];l&&(a+=l.get("deltaPosition",0))}return a}categoryToPosition(t){let e=this._itemMap[t];return e?this.indexToPosition(e.get("index")):NaN}categoryToIndex(t){let e=this._itemMap[t];return e?e.get("index"):NaN}dataItemToPosition(t){return this.indexToPosition(t.get("index"))}roundAxisPosition(t,e){return t+=(.5-e)/this.dataItems.length,this.indexToPosition(this.axisPositionToIndex(t),e)}axisPositionToIndex(t){let e=this.dataItems.length;if(e===0)return 0;if(this.get("cellSizeField")){let i=0,r=[];Z(this.dataItems,u=>{let h=u.get("cellSize",1);r.push(h),i+=h});let a=this.get("startLocation",0),n=this.get("endLocation",1);i-=a,i-=1-n;let o=t*i+a,l=0;for(let u=0;u<e;u++){let h=r[u];if(o<l+h)return u;l+=h}return e-1}else return Qi(Math.floor(t*e),0,e-1)}getTooltipText(t,e){let i=this.dataItems[this.axisPositionToIndex(t)];if(i){let r=i.get("label");if(r)return zo(r,this.get("tooltipText",""))}}_updateTooltipText(t,e){t._setDataItem(this.dataItems[this.axisPositionToIndex(e)]),t.label.text.markDirtyText()}getSeriesItem(t,e){if(this.dataItems.length>0){let i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),r=this.axisPositionToIndex(e),a=t.dataItems[r],n=this.dataItems[r],o=n.get("category");if(a&&n&&a.get(i)===o)return a;for(let l=0,u=t.dataItems.length;l<u;l++){let h=t.dataItems[l];if(h.get(i)===o)return h}}}_getIndices(t,e){let i=this.dataItems.length,r=0,a=i;if(this.get("cellSizeField")){let n=0;Z(this.dataItems,l=>{n+=l.get("cellSize",1)});let o=0;for(let l=0;l<i;l++)if(o+=this.dataItems[l].get("cellSize",1),o/n>t){r=l;break}for(let l=r+1;l<i;l++)if(o+=this.dataItems[l].get("cellSize",1),o/n>e){a=l+1;break}r=Math.max(r,0),a=Math.min(a,i)}else r=Math.max(Math.round(this.get("start",0)*i),0),a=Math.min(Math.round(this.get("end",1)*i),i);return{startIndex:r,endIndex:a}}zoomToIndexes(t,e,i){let r=this.dataItems.length;this.get("cellSizeField")?(t=Math.min(Math.max(t,0),r),e=Math.max(Math.min(e,r),1),this.setPrivateRaw("startIndex",t),this.setPrivateRaw("endIndex",e),this.zoom(this.indexToPosition(t,0,!0),this.indexToPosition(e,0,!0),i)):this.zoom(t/r,e/r,i)}zoomToCategories(t,e,i){this.zoomToIndexes(this.categoryToIndex(t),this.categoryToIndex(e)+1,i)}getCellWidthPosition(){return this._frequency/this.dataItems.length/(this.get("end",1)-this.get("start",0))}nextPosition(t){t==null&&(t=1),this.get("renderer").getPrivate("letter")=="Y"&&(t*=-1);let e=this.getPrivate("tooltipPosition",0),i=Qi(this.axisPositionToIndex(e)+t,0,this.dataItems.length-1);return this.toGlobalPosition(this.indexToPosition(i))}};Object.defineProperty(ns,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"});Object.defineProperty(ns,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:oo.classNames.concat([ns.className])});var Sr=class extends yi{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesDataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_baseDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_intervalMax",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_intervalMin",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=lt(this._settings.themeTags,["axis"]),super._afterNew(),this._setBaseInterval(this.get("baseInterval")),this.on("baseInterval",()=>{this._setBaseInterval(this.get("baseInterval"))})}_setBaseInterval(t){this.setPrivateRaw("baseInterval",t),this._baseDuration=kn(t)}_fixZoomFactor(){let t=this.get("maxZoomFactor");t!=null&&t!=1/0?this.setPrivateRaw("maxZoomFactor",t):this.setPrivateRaw("maxZoomFactor",Math.round((this.getPrivate("max",0)-this.getPrivate("min",0))/this.baseMainDuration()))}_groupData(){let t=this.getPrivate("min"),e=this.getPrivate("max");if(ee(t)&&ee(e)){this._fixZoomFactor();let i=this.getPrivate("groupInterval");if(i?this._setBaseInterval(i):this._setBaseInterval(this.get("baseInterval")),this.isDirty("groupInterval")){let r=this.get("groupInterval");r&&(this.setRaw("groupIntervals",[r]),this._handleRangeChange())}if(this.isDirty("groupData")&&!this._dataGrouped){if(this.get("groupData"))Z(this.series,r=>{this._groupSeriesData(r)}),this._handleRangeChange();else{let r=this.get("baseInterval"),a=r.timeUnit+r.count;Z(this.series,n=>{n.setDataSet(a),n.resetGrouping()}),this._setBaseInterval(r),this.setPrivateRaw("groupInterval",void 0),this.markDirtyExtremes()}this._dataGrouped=!0}}}_groupSeriesData(t){if(this.get("groupData")&&!t.get("groupDataDisabled")){this._dataGrouped=!0,this._seriesDataGrouped=!0;let e=[],i=this.baseMainDuration(),r=this.get("groupIntervals");Z(r,d=>{kn(d)>i&&e.push(d)}),t._dataSets={};let a=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),n,o=t.get("baseAxis");t.get("xAxis")===o?n=t._valueYFields:t.get("yAxis")===o&&(n=t._valueXFields);let l=t._mainDataItems,u=this.get("baseInterval"),h=u.timeUnit+u.count;t._dataSets[h]=l;let c=t.get("groupDataCallback"),A=t.get("groupDataWithOriginals",!1);c&&(A=!0),Z(e,d=>{let f=-1/0,p=d.timeUnit+d.count;t._dataSets[p]=[];let m,g={},y={},x={},C={};Z(n,$=>{g[$]=0,y[$]=0,x[$]=t.get($+"Grouped"),C[$]=$+"Working"});let S=Es(d.timeUnit),P=l[0],F;P&&(F=l[0].get(a));let O;Z(l,$=>{let L=$.get(a),E=zr(L,d.timeUnit,d.count,this._root,F),D;f<E-S/24?(D=Dn($.dataContext),m=new as(t,D,t._makeDataItem(D)),m.setRaw(a,E),t._dataSets[p].push(m),Z(n,H=>{let te=$.get(H);ee(te)?(m.setRaw(H,te),m.setRaw(C[H],te),y[H]=1,g[H]=te):(g[H]=0,y[H]=0)}),A&&m.set("originals",[$]),c&&O&&c(O,d),O=m):(Z(n,H=>{let te=x[H],K=$.get(H);if(K!=null){let ae=m.get(H);switch(te){case"close":m.setRaw(H,K);break;case"sum":m.setRaw(H,ae+K);break;case"open":break;case"low":K<ae&&m.setRaw(H,K);break;case"high":K>ae&&m.setRaw(H,K);break;case"average":y[H]++,g[H]+=K;let fe=g[H]/y[H];m.setRaw(H,fe);break;case"extreme":Math.abs(K)>Math.abs(ae)&&m.setRaw(H,K);break}m.setRaw(C[H],m.get(H));let ie=Dn($.dataContext);ie[a]=E,m.dataContext=ie}}),A&&m.get("originals").push($)),f=E}),c&&O&&c(O,d)}),t._dataSetId&&t.setDataSet(t._dataSetId),this.markDirtySize(),this._seriesAdded&&this._root.events.once("frameended",()=>{this.markDirtySize()})}}_clearDirty(){super._clearDirty(),this._groupingCalculated=!1,this._dataGrouped=!1}getGroupInterval(t){let e=this.get("baseInterval"),i=qg(0,t,this.get("groupCount",1/0),this.get("groupIntervals"));return kn(i)<kn(e)&&(i=Object.assign({},e)),i}getIntervalMax(t){return this._intervalMax[t.timeUnit+t.count]}getIntervalMin(t){return this._intervalMin[t.timeUnit+t.count]}_handleRangeChange(){super._handleRangeChange();let t=Math.round(this.getPrivate("selectionMin")),e=Math.round(this.getPrivate("selectionMax"));if(ee(t)&&ee(e)){if(this.get("endLocation")==0&&(e+=1),this.get("groupData")&&!this._groupingCalculated){this._groupingCalculated=!0;let i=this.get("groupInterval"),r=this.getPrivate("groupInterval"),a=e-t+(this.get("startLocation",0)+(1-this.get("endLocation",1))*this.baseDuration());if(r){let n=kn(r);a=Math.ceil(a/n)*n}if(i||(i=this.getGroupInterval(a)),i&&(!r||r.timeUnit!==i.timeUnit||r.count!==i.count||this._seriesDataGrouped)){this._seriesDataGrouped=!1,this.setPrivateRaw("groupInterval",i),this._setBaseInterval(i);let n=i.timeUnit+i.count;Z(this.series,o=>{o.get("baseAxis")===this&&o.setDataSet(n)}),this.markDirtyExtremes(),this._root.events.once("frameended",()=>{this._root.events.once("frameended",()=>{let o="groupintervalchanged";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this})})})}}Z(this.series,i=>{if(i.get("baseAxis")===this){let r=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),n=Bg(i.dataItems,p=>Ha(p.get(r),t)).index;n>0&&(n-=1),e+=this.baseDuration()*(1-this.get("endLocation",1));let l=If(i.dataItems,p=>Ha(p.get(r),e)).index,u=l;u>1&&u--;let h=i.dataItems[n],c=i.dataItems[u],A,d;h&&(d=h.get(r)),c&&(A=c.get(r));let f=!1;A!=null&&d!=null&&(A<t||d>e)&&(f=!0),i.setPrivate("outOfSelection",f),i.setPrivate("startIndex",n),i.setPrivate("adjustedStartIndex",i._adjustStartIndex(n)),i.setPrivate("endIndex",l),this.root.events.once("frameended",()=>{i._markDirtyPrivateKey("adjustedStartIndex")})}})}}_adjustMinMax(t,e,i,r){return{min:t,max:e,step:(e-t)/i}}intervalDuration(){return this._intervalDuration}_saveMinMax(t,e){let i=this.getPrivate("groupInterval");i||(i=this.get("baseInterval"));let r=i.timeUnit+i.count;this._intervalMin[r]=t,this._intervalMax[r]=e}_getM(t){return t=="day"||t=="month"||t=="year"?1.05:1.01}_getMinorInterval(t){var e;let i,r=t.count,a=t.timeUnit;return r>1&&(r==10||r==15?r=5:r==12?r=2:r==6?r=1:r==30?r=10:r<10&&(r=1),i={timeUnit:a,count:r}),a=="week"&&(((e=this.getPrivate("baseInterval"))===null||e===void 0?void 0:e.timeUnit)!="week"?i={timeUnit:"day",count:1}:i={timeUnit:"week",count:1}),a=="year"&&r==1&&this.getPrivate("selectionMax",0)-this.getPrivate("selectionMin",0)<4*366*24*60*60*1e3&&(i={timeUnit:"month",count:1}),i}_prepareAxisItems(){let t=this.getPrivate("min"),e=this.getPrivate("max");if(ee(t)&&ee(e)){let i=this._root,r=Math.round(this.getPrivate("selectionMin")),a=Math.round(this.getPrivate("selectionMax")),n=this.get("renderer"),o=this.getPrivate("baseInterval"),l=r,u=0,h=this.get("gridIntervals"),c=qg(0,a-r,n.gridCount(),h);kn(c)<this.baseDuration()&&(c=Object.assign({},o));let A=kn(c);this._intervalDuration=A;let d=r_(c.timeUnit),f=i.utc,p=i.timezone;l=zr(r-A,c.timeUnit,c.count,i,t);let m=l-A,g,y=this.get("dateFormats");this.setPrivateRaw("gridInterval",c);let x=n.get("minorLabelsEnabled"),C=n.get("minorGridEnabled",x),S,P=0;C&&(S=this._getMinorInterval(c),P=kn(S));let F=0;for(;l<a+A;){let O;this.dataItems.length<u+1?(O=new as(this,void 0,{}),this._dataItems.push(O),this.processDataItem(O)):O=this.dataItems[u],this._createAssets(O,[]),this._toggleDataItem(O,!0),O.setRaw("value",l),O.setRaw("labelEndValue",void 0);let $=l+Es(c.timeUnit,c.count*this._getM(c.timeUnit));$=zr($,c.timeUnit,1,i),O.setRaw("endValue",$);let L=new Date(l);g=y[c.timeUnit],d&&this.get("markUnitChange")&&ee(m)&&c.timeUnit!="year"&&s_(l,m,d,f,p)&&(g=this.get("periodChangeDateFormats")[c.timeUnit]);let E=O.get("label");E&&E.set("text",i.dateFormatter.format(L,g));let D=c.count;if(c.timeUnit=="week"?E?.set("location",this.get("weekLabelLocation",0)):E?.set("location",n.labels.template.get("location")),C){D=1;let H=c.timeUnit;H=="week"&&this.get("skipFirstMinor")&&(H="day");let te=l+Es(H,this._getM(H));te=zr(te,H,1,i),O.setRaw("labelEndValue",te)}if(this._prepareDataItem(O,D),m=l,l=$,S){let H=S.timeUnit,te=S.count,K=this._getM(H);this.get("skipFirstMinor")||(m-=P*K);let ae=zr(m+P*K,H,te,i,m),ie,fe=this.get("minorDateFormats",this.get("dateFormats"));for(;ae<l-.01*P;){let z;this.minorDataItems.length<F+1?(z=new as(this,void 0,{}),this.minorDataItems.push(z),this.processDataItem(z)):z=this.minorDataItems[F],this._createAssets(z,["minor"],!0),this._toggleDataItem(z,!0),z.setRaw("value",ae);let Y=ae+Es(H,te*K);Y=zr(Y,H,1,i),z.setRaw("endValue",Y);let ge=new Date(ae);g=fe[H];let re=z.get("label");if(re&&(x?re.set("text",i.dateFormatter.format(ge,g)):re.setPrivate("visible",!1)),this._prepareDataItem(z,1),ae==ie)break;if(!z.get("isRange")){let me=this.get("fillRule");me&&me(z)}ie=ae,ae=Y,F++}}if(l==m)break;u++}for(let O=u;O<this.dataItems.length;O++)this._toggleDataItem(this.dataItems[O],!1);for(let O=F;O<this.minorDataItems.length;O++)this._toggleDataItem(this.minorDataItems[O],!1);Z(this.series,O=>{O.inited&&O._markDirtyAxes()})}this._updateGhost()}_updateFinals(t,e){this.setPrivateRaw("selectionMinFinal",this.positionToValue(t)),this.setPrivateRaw("selectionMaxFinal",this.positionToValue(e))}_getDelta(){this._deltaMinMax=this.baseDuration()/2}_fixMin(t){let e=this.getPrivate("baseInterval"),i=e.timeUnit,r=zr(t,i,e.count,this._root),a=r+Es(i,e.count*this._getM(i));return a=zr(a,i,1,this._root),r+(a-r)*this.get("startLocation",0)}_fixMax(t){let e=this.getPrivate("baseInterval"),i=e.timeUnit,r=zr(t,i,e.count,this._root),a=r+Es(i,e.count*this._getM(i));return a=zr(a,i,1,this._root),r+(a-r)*this.get("endLocation",1)}_updateDates(t,e){}_handleSeriesRemoved(){this.setPrivate("baseInterval",this.get("baseInterval")),this.setPrivate("min",void 0),this.setPrivate("minFinal",void 0)}baseDuration(){return this._baseDuration}baseMainDuration(){return kn(this.get("baseInterval"))}processSeriesDataItem(t,e){let i=this.getPrivate("baseInterval");t.open||(t.open={}),t.close||(t.close={}),Z(e,r=>{let a=t.get(r);if(ee(a)){let n=t.open[r],o=t.close[r];if(!(a>=n&&a<=o)){let l=i.timeUnit,u=i.count;n=zr(a,l,u,this._root),o=n+Es(l,u*this._getM(l)),o=zr(o,l,1,this._root),t.open[r]=n,t.close[r]=o}this._updateDates(n,t.component)}})}_handleSizeDirty(){}getDataItemPositionX(t,e,i,r,a){let n,o,l;return a?l=t.get(e):(t.open&&t.close?(n=t.open[e],o=t.close[e]):(n=t.get(e),o=n),l=n+(o-n)*i,l=this._baseValue+(l-this._baseValue)*r),this.valueToPosition(l)}getDataItemCoordinateX(t,e,i,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(t,e,i,r))}getDataItemPositionY(t,e,i,r,a){let n,o,l;return a?l=t.get(e):(t.open&&t.close?(n=t.open[e],o=t.close[e]):(n=t.get(e),o=n),l=n+(o-n)*i,l=this._baseValue+(l-this._baseValue)*r),this.valueToPosition(l)}getDataItemCoordinateY(t,e,i,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(t,e,i,r))}roundAxisPosition(t,e){let i=this.positionToValue(t);i=i-(e-.5)*this.baseDuration();let r=this.getPrivate("baseInterval");if(!zs(i)){let a=this._root.locale.firstDayOfWeek,n=r.timeUnit,o=this._root.utc,l=this._root.timezone,u=r.count;i=zr(i,n,u,this._root,this.getPrivate("min",0));let h=Zg(r,new Date(i),a,o,l);return l&&(i=zr(i+this.baseDuration()*.05,n,u,this._root,this.getPrivate("min",0)),h=Zg(r,new Date(i+h*e),a,o,l)),this.valueToPosition(i+h*e)}return NaN}getTooltipText(t,e){if(this.getPrivate("min")!=null){let i=this.get("tooltipDateFormats")[this.getPrivate("baseInterval").timeUnit],r=this.positionToValue(t);if(ee(r)){let a=new Date(r),n=this.getPrivate("baseInterval"),o=Zg(n,a,this._root.locale.firstDayOfWeek,this._root.utc,this._root.timezone);return e!==!1&&(a=new Date(r+this.get("tooltipIntervalOffset",-this.get("tooltipLocation",.5))*o)),this._root.dateFormatter.format(a,this.get("tooltipDateFormat",i))}}return""}getSeriesItem(t,e,i,r){let a=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),n=this.positionToValue(e);i==null&&(i=.5),n=n-(i-.5)*this.baseDuration();let o=If(t.dataItems,l=>{let u=0;return l.open&&(u=l.open[a]),Ha(u,n)});if(r||t.get("snapTooltip")){let l=t.dataItems[o.index-1],u=t.dataItems[o.index];if(l&&u&&l.open&&u.close){let h=l.open[a],c=u.close[a];if(Math.abs(n-h)>Math.abs(n-c))return u}if(l)return l;if(u)return u}else{let l=t.dataItems[o.index-1];if(l&&l.open&&l.close){let u=l.open[a],h=l.close[a];if(n>=u&&n<=h)return l}}}shouldGap(t,e,i,r){let a=t.get(r);return e.get(r)-a>this.baseDuration()*i}zoomToDates(t,e,i){this.zoomToValues(t.getTime(),e.getTime(),i)}zoomToValues(t,e,i){let r=this.getPrivate("minFinal",this.getPrivate("min",0)),a=this.getPrivate("maxFinal",this.getPrivate("max",0));if(this.getPrivate("min")!=null&&this.getPrivate("max")!=null)if(this.get("groupData")){let n=this.getGroupInterval(e-t),o=this.get("baseInterval"),l=this.getIntervalMin(o),u=this.getIntervalMax(o)-1;u=zr(u,n.timeUnit,n.count,this.root),u+=this._getM(n.timeUnit)*kn(n),u=zr(u,n.timeUnit,n.count,this.root);let h=zr(l,n.timeUnit,n.count,this.root),c=zr(u,n.timeUnit,n.count,this.root),A=(t-h)/(c-h),d=(e-h)/(c-h);this.zoom(A,d,i)}else this.zoom((t-r)/(a-r),(e-r)/(a-r),i)}positionToDate(t){return new Date(this.positionToValue(t))}dateToPosition(t){return this.valueToPosition(t.getTime())}getCellWidthPosition(){let t=this.getPrivate("selectionMax",this.getPrivate("max")),e=this.getPrivate("selectionMin",this.getPrivate("min"));return ee(t)&&ee(e)?this._intervalDuration/(t-e):.05}nextPosition(t){t==null&&(t=1);let e=this.get("tooltipLocation",.5)*this.baseDuration();this.get("renderer").getPrivate("letter")=="Y"&&(t*=-1);let i=this.positionToValue(this.getPrivate("tooltipPosition",0)),r=this.getPrivate("baseInterval"),a=this._nextTime(i,t,r),n=this.getPrivate("selectionMin",0),o=this.getPrivate("selectionMax",0),l=zr(n,r.timeUnit,r.count,this._root),u=zr(o,r.timeUnit,r.count,this._root);return a+=e,a=Qi(a,l+e,u-e),this.toGlobalPosition(this.valueToPosition(a))}_nextTime(t,e,i){return zr(t+e*this.baseDuration(),i.timeUnit,i.count,this._root)}};Object.defineProperty(Sr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DateAxis"});Object.defineProperty(Sr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:yi.classNames.concat([Sr.className])});var Yu=class extends ii{constructor(){super(...arguments),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged();let t=this.get("sprite");if(this.isDirty("sprite")&&t&&(t.setAll({position:"absolute",role:"figure"}),this._disposers.push(t)),this.isDirty("location")){let e=t.dataItem;this.axis&&t&&e&&this.axis._prepareDataItem(e)}}_dispose(){let t=this.axis;t&&kt(t._bullets,(e,i)=>{i.uid==this.uid&&delete t._bullets[e]}),super._dispose()}};Object.defineProperty(Yu,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisBullet"});Object.defineProperty(Yu,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ii.classNames.concat([Yu.className])});var ps=class extends ea{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:fr.new(this._root,{width:be,isMeasured:!1,themeTags:["axis","x","thumb","zoomgrip"]})})}_afterNew(){this._settings.themeTags=lt(this._settings.themeTags,["renderer","x"]),super._afterNew(),this.setPrivateRaw("letter","X");let t=this.grid.template;t.set("height",be),t.set("width",0),t.set("draw",(e,i)=>{e.moveTo(0,0),e.lineTo(0,i.height())}),this.set("draw",(e,i)=>{e.moveTo(0,0),e.lineTo(i.width(),0)})}_changed(){var t;super._changed();let e=this.axis,i=e.ghostLabel;i&&(i.setPrivate("visible",!this.get("inside")),i.set("x",-1e3));let r="opposite",a="inside";if(this.isDirty(r)||this.isDirty(a)){let n=this.chart,o=e.children;if(this.get(a)?e.addTag(a):e.removeTag(a),n){if(this.get(r)){let l=n.topAxesContainer.children;l.indexOf(e)==-1&&l.insertIndex(0,e),e.addTag(r),o.moveValue(this)}else{let l=n.bottomAxesContainer.children;l.indexOf(e)==-1&&l.moveValue(e),e.removeTag(r),o.moveValue(this,0)}(t=e.ghostLabel)===null||t===void 0||t._applyThemes(),this.labels.each(l=>{l._applyThemes()}),this.root._markDirtyRedraw()}e.markDirtySize()}this.thumb.setPrivate("height",e.labelsContainer.height())}_getPan(t,e){return(e.x-t.x)/this.width()}toAxisPosition(t){let e=this._start||0,i=this._end||1;return t-=this._ls,t=t*(i-e)/this._lc,this.get("inversed")?t=i-t:t=e+t,t}toGlobalPosition(t){let e=this._start||0,i=this._end||1;return this.get("inversed")?t=i-t:t=t-e,t=t/(i-e)*this._lc,t+=this._ls,t}_updateLC(){let t=this.axis,e=t.parent;if(e){let i=e.innerWidth();this._lc=this.axisLength()/i,this._ls=(t.x()-e.get("paddingLeft",0))/i}}_updatePositions(){let t=this.axis,e=t.x()-jt(t.get("centerX",0),t.width())-t.parent.get("paddingLeft",0);t.gridContainer.set("x",e),t.topGridContainer.set("x",e),t.bulletsContainer.set("y",this.y());let i=t.chart;if(i){let r=i.plotContainer,a=t.axisHeader,n=t.get("marginLeft",0),o=t.x()-n,l=t.parent;l&&(o-=l.get("paddingLeft",0)),a.children.length>0?(n=t.axisHeader.width(),t.set("marginLeft",n+1)):a.set("width",n),a.setAll({x:o,y:-1,height:r.height()+2})}}processAxis(){super.processAxis();let t=this.axis;t.get("width")==null&&t.set("width",be);let e=this._root.verticalLayout;t.set("layout",e),t.labelsContainer.set("width",be),t.axisHeader.setAll({layout:e})}axisLength(){return this.axis.width()}positionToPoint(t){return{x:this.positionToCoordinate(t),y:0}}updateTick(t,e,i,r){if(t){ee(e)||(e=0);let a=.5;ee(r)&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),ee(i)&&i!=e&&(e=e+(i-e)*a),t.set("x",this.positionToCoordinate(e));let n=t.get("length",0),o=t.get("inside",this.get("inside",!1));this.get("opposite")?(t.set("y",be),o||(n*=-1)):(t.set("y",0),o&&(n*=-1)),t.set("draw",l=>{l.moveTo(0,0),l.lineTo(0,n)}),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}updateLabel(t,e,i,r){if(t){let a=.5;ee(r)&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),ee(e)||(e=0);let n=t.get("inside",this.get("inside",!1));this.get("opposite")?n?(t.set("position","absolute"),t.set("y",0)):(t.set("position","relative"),t.set("y",be)):n?(t.set("y",0),t.set("position","absolute")):(t.set("y",void 0),t.set("position","relative")),ee(i)&&i!=e&&(e=e+(i-e)*a),t.set("x",this.positionToCoordinate(e)),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}updateGrid(t,e,i){if(t){ee(e)||(e=0);let r=t.get("location",.5);ee(i)&&i!=e&&(e=e+(i-e)*r),t.set("x",this.positionToCoordinate(e)),this.toggleVisibility(t,e,0,1)}}updateBullet(t,e,i){if(t){let r=t.get("sprite");if(r){ee(e)||(e=0);let a=t.get("location",.5);ee(i)&&i!=e&&(e=e+(i-e)*a);let n=this.axis.roundAxisPosition(e,a),o=this.axis._bullets[n],l=-1;if(this.get("opposite")&&(l=1),t.get("stacked"))if(o){let u=o.get("sprite");u&&r.set("y",u.y()+u.height()*l)}else r.set("y",0);this.axis._bullets[n]=t,r.set("x",this.positionToCoordinate(e)),this.toggleVisibility(r,e,0,1)}}}updateFill(t,e,i){if(t){ee(e)||(e=0),ee(i)||(i=1);let r=this.positionToCoordinate(e),a=this.positionToCoordinate(i);this.fillDrawMethod(t,r,a)}}fillDrawMethod(t,e,i){t.set("draw",r=>{let a=this.axis.gridContainer.height(),n=this.width();i<e&&([i,e]=[e,i]),!(e>n||i<0)&&(r.moveTo(e,0),r.lineTo(i,0),r.lineTo(i,a),r.lineTo(e,a),r.lineTo(e,0))})}positionTooltip(t,e){this._positionTooltip(t,{x:this.positionToCoordinate(e),y:0})}updateTooltipBounds(t){let e=this.get("inside"),i=1e5,r=this._display.toGlobal({x:0,y:0}),a=r.x,n=0,o=this.axisLength(),l=i,u="up";this.get("opposite")?e?(u="up",n=r.y,l=i):(u="down",n=r.y-i,l=i):e?(u="down",n=r.y-i,l=i):(u="up",n=r.y,l=i);let h={left:a,right:a+o,top:n,bottom:n+l},c=t.get("bounds");Ig(h,c)||(t.set("bounds",h),t.set("pointerOrientation",u))}};Object.defineProperty(ps,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"});Object.defineProperty(ps,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ea.classNames.concat([ps.className])});var Da=class extends ea{constructor(){super(...arguments),Object.defineProperty(this,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:fr.new(this._root,{height:be,isMeasured:!1,themeTags:["axis","y","thumb","zoomgrip"]})})}_afterNew(){this._settings.themeTags=lt(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),super._afterNew(),this.setPrivateRaw("letter","Y");let t=this.grid.template;t.set("width",be),t.set("height",0),t.set("draw",(e,i)=>{e.moveTo(0,0),e.lineTo(i.width(),0)}),this.set("draw",(e,i)=>{e.moveTo(0,0),e.lineTo(0,i.height())})}_getPan(t,e){return(t.y-e.y)/this.height()}_changed(){var t;super._changed();let e=this.axis,i=e.ghostLabel;i&&(i.setPrivate("visible",!this.get("inside")),i.set("y",-1e3));let r=this.thumb,a="opposite",n="inside",o=this.chart;if(this.isDirty(a)||this.isDirty(n)){let u=e.children;if(this.get(n)?e.addTag(n):e.removeTag(n),o){if(this.get(a)){let h=o.rightAxesContainer.children;h.indexOf(e)==-1&&h.moveValue(e,0),e.addTag(a),u.moveValue(this,0)}else{let h=o.leftAxesContainer.children;h.indexOf(e)==-1&&h.moveValue(e),e.removeTag(a),u.moveValue(this)}(t=e.ghostLabel)===null||t===void 0||t._applyThemes(),this.labels.each(h=>{h._applyThemes()}),this.root._markDirtyRedraw()}e.markDirtySize()}let l=e.labelsContainer.width();o&&(this.get(a)?r.set("centerX",0):r.set("centerX",l)),r.setPrivate("width",l)}processAxis(){super.processAxis();let t=this.axis;t.get("height")==null&&t.set("height",be);let e=this._root.horizontalLayout;t.set("layout",e),t.labelsContainer.set("height",be),t.axisHeader.set("layout",e)}_updatePositions(){let t=this.axis,e=t.y()-jt(t.get("centerY",0),t.height());t.gridContainer.set("y",e),t.topGridContainer.set("y",e),t.bulletsContainer.set("x",this.x());let i=t.chart;if(i){let r=i.plotContainer,a=t.axisHeader,n=t.get("marginTop",0);a.children.length>0?(n=t.axisHeader.height(),t.set("marginTop",n+1)):a.set("height",n),a.setAll({y:t.y()-n,x:-1,width:r.width()+2})}}axisLength(){return this.axis.innerHeight()}positionToPoint(t){return{x:0,y:this.positionToCoordinate(t)}}updateLabel(t,e,i,r){if(t){ee(e)||(e=0);let a=.5;ee(r)&&r>1?a=t.get("multiLocation",a):a=t.get("location",a);let n=this.get("opposite"),o=t.get("inside",this.get("inside",!1));n?(t.set("x",0),o?t.set("position","absolute"):t.set("position","relative")):o?(t.set("x",0),t.set("position","absolute")):(t.set("x",void 0),t.set("position","relative")),ee(i)&&i!=e&&(e=e+(i-e)*a),t.set("y",this.positionToCoordinate(e)),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}updateGrid(t,e,i){if(t){ee(e)||(e=0);let r=t.get("location",.5);ee(i)&&i!=e&&(e=e+(i-e)*r),t.set("y",this.positionToCoordinate(e)),this.toggleVisibility(t,e,0,1)}}updateTick(t,e,i,r){if(t){ee(e)||(e=0);let a=.5;ee(r)&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),ee(i)&&i!=e&&(e=e+(i-e)*a),t.set("y",this.positionToCoordinate(e));let n=t.get("length",0),o=t.get("inside",this.get("inside",!1));this.get("opposite")?(t.set("x",0),o&&(n*=-1)):o||(n*=-1),t.set("draw",l=>{l.moveTo(0,0),l.lineTo(n,0)}),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}updateBullet(t,e,i){if(t){let r=t.get("sprite");if(r){ee(e)||(e=0);let a=t.get("location",.5);ee(i)&&i!=e&&(e=e+(i-e)*a);let n=this.axis.roundAxisPosition(e,a),o=this.axis._bullets[n],l=1;if(this.get("opposite")&&(l=-1),t.get("stacked"))if(o){let u=o.get("sprite");u&&r.set("x",u.x()+u.width()*l)}else r.set("x",0);this.axis._bullets[n]=t,r.set("y",this.positionToCoordinate(e)),this.toggleVisibility(r,e,0,1)}}}updateFill(t,e,i){if(t){ee(e)||(e=0),ee(i)||(i=1);let r=this.positionToCoordinate(e),a=this.positionToCoordinate(i);this.fillDrawMethod(t,r,a)}}fillDrawMethod(t,e,i){t.set("draw",r=>{let a=this.axis.gridContainer.width(),n=this.height();i<e&&([i,e]=[e,i]),!(e>n||i<0)&&(r.moveTo(0,e),r.lineTo(a,e),r.lineTo(a,i),r.lineTo(0,i),r.lineTo(0,e))})}positionToCoordinate(t){return this._inversed?(t-this._start)*this._axisLength:(this._end-t)*this._axisLength}positionTooltip(t,e){this._positionTooltip(t,{x:0,y:this.positionToCoordinate(e)})}updateTooltipBounds(t){let e=this.get("inside"),i=1e5,r=this._display.toGlobal({x:0,y:0}),a=r.y,n=0,o=this.axisLength(),l=i,u="right";this.get("opposite")?e?(u="right",n=r.x-i,l=i):(u="left",n=r.x,l=i):e?(u="left",n=r.x,l=i):(u="right",n=r.x-i,l=i);let h={left:n,right:n+l,top:a,bottom:a+o},c=t.get("bounds");Ig(h,c)||(t.set("bounds",h),t.set("pointerOrientation",u))}_updateLC(){let t=this.axis,e=t.parent;if(e){let i=e.innerHeight();this._lc=this.axisLength()/i,this._ls=t.y()/i}}toAxisPosition(t){let e=this._start||0,i=this._end||1;return t-=this._ls,t=t*(i-e)/this._lc,this.get("inversed")?t=e+t:t=i-t,t}toGlobalPosition(t){let e=this._start||0,i=this._end||1;return this.get("inversed")?t=t-e:t=i-t,t=t/(i-e)*this._lc,t+=this._ls,t}fixPosition(t){return this.get("inversed")?t:1-t}};Object.defineProperty(Da,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"});Object.defineProperty(Da,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ea.classNames.concat([Da.className])});var Ku=class extends pr{_beforeChanged(){super._beforeChanged(),(this.isDirty("lowX0")||this.isDirty("lowY0")||this.isDirty("lowX1")||this.isDirty("lowY1")||this.isDirty("highX0")||this.isDirty("highX1")||this.isDirty("highY0")||this.isDirty("highY1"))&&(this._clear=!0)}_draw(){super._draw();let t=this._display;t.moveTo(this.get("lowX0",0),this.get("lowY0",0)),t.lineTo(this.get("lowX1",0),this.get("lowY1",0)),t.moveTo(this.get("highX0",0),this.get("highY0",0)),t.lineTo(this.get("highX1",0),this.get("highY1",0))}};Object.defineProperty(Ku,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Candlestick"});Object.defineProperty(Ku,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pr.classNames.concat([Ku.className])});var Yi=class extends Gu{constructor(){super(...arguments),Object.defineProperty(this,"allColumns",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(pt.new(this._root,{}))}),Object.defineProperty(this,"allColumnsData",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Ii(Mt.new({}),()=>pr._new(this._root,{position:"absolute",themeTags:lt(this.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template])))})}makeColumn(t,e){let i=e.make();return this.get("turboMode")?i.virtualParent=this.chart:this.mainContainer.children.push(i),i._setDataItem(t),e.push(i),i}_processAxisRange(t){super._processAxisRange(t),t.columns=new Ii(Mt.new({}),()=>pr._new(this._root,{position:"absolute",themeTags:lt(t.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template,t.columns.template]))}_beforeColumnsDraw(){this.allColumnsData=[]}_afterColumnsDraw(){this.get("turboMode")&&this.allColumns.set("draw",t=>{t.clear(),Z(this.allColumnsData,e=>{let i=e.width,r=e.height,a=e.x,n=e.y,o=e.stroke,l=e.fill,u=e.strokeWidth,h=e.strokeOpacity,c=e.fillOpacity;t.beginFill(l,c),t.beginPath(),t.lineStyle(u,o,h),t.drawRect(a,n,i,r),t.endStroke(),t.endFill()})})}_updateSeriesGraphics(t,e,i,r,a,n,o,l){if(this.get("turboMode")){let u=e.get("stroke"),h=e.get("fillOpacity",1),c=e.get("strokeOpacity",1),A=e.get("strokeWidth",1),d=e.get("fill"),f=this.getPoint(i,a),p=this.getPoint(r,n),m=t.get("point");if(m){let g=this.getPoint(m.x,m.y);m.x=g.x+this._x,m.y=g.y+this._y}i=f.x,r=p.x,a=f.y,n=p.y,t.setRaw("left",i),t.setRaw("right",r),t.setRaw("top",a),t.setRaw("bottom",n),this.allColumnsData.push({width:r-i,height:n-a,x:i,y:a,stroke:u,fill:d,strokeWidth:A,strokeOpacity:c,fillOpacity:h})}else super._updateSeriesGraphics(t,e,i,r,a,n,o,l)}};Object.defineProperty(Yi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColumnSeries"});Object.defineProperty(Yi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Gu.classNames.concat([Yi.className])});var za=class extends Yi{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Ii(Mt.new({themeTags:["autocolor"]}),()=>Ku._new(this._root,{themeTags:lt(this.columns.template.get("themeTags",[]),["candlestick","series","column"])},[this.columns.template])))})}makeColumn(t,e){let i=e.make();return this.get("turboMode")?i.virtualParent=this.chart:this.mainContainer.children.push(i),i._setDataItem(t),e.push(i),i}_updateGraphics(t,e,i){super._updateGraphics(t,e,i);let r=this.getRaw("xAxis"),a=this.getRaw("yAxis"),n=this.get("vcy",1),o=this.get("vcx",1),l,u,h,c,A,d,f,p,m=this.get("locationX",t.get("locationX",.5)),g=this.get("locationY",t.get("locationY",.5)),y=this.get("openLocationX",t.get("openLocationX",m)),x=this.get("openLocationY",t.get("openLocationY",g)),C;if(i==0){let S=a.getDataItemPositionY(t,this._yOpenField,1,n),P=a.getDataItemPositionY(t,this._yField,1,n);c=a.getDataItemPositionY(t,this._yLowField,1,n),p=a.getDataItemPositionY(t,this._yHighField,1,n),f=Math.max(S,P),h=Math.min(S,P);let F=this._aLocationX0+y-.5,O=this._aLocationX1+m-.5;l=r.getDataItemPositionX(t,this._xField,F+(O-F)/2,o),u=l,A=l,d=l,C="vertical"}else{let S=r.getDataItemPositionX(t,this._xOpenField,1,o),P=r.getDataItemPositionX(t,this._xField,1,o);u=r.getDataItemPositionX(t,this._xLowField,1,o),d=r.getDataItemPositionX(t,this._xHighField,1,o),A=Math.max(S,P),l=Math.min(S,P);let F=this._aLocationY0+x-.5,O=this._aLocationY1+g-.5;h=a.getDataItemPositionY(t,this._yField,F+(O-F)/2,n),c=h,f=h,p=h,C="horizontal"}this._updateCandleGraphics(t,l,u,h,c,A,d,f,p,C)}_updateCandleGraphics(t,e,i,r,a,n,o,l,u,h){let c=t.get("graphics");if(c){let A=this.getPoint(e,r),d=this.getPoint(i,a),f=this.getPoint(n,l),p=this.getPoint(o,u);if(this.get("turboMode")){let m=this.allColumnsData[this.allColumnsData.length-1];m.lowX0=A.x,m.lowY0=A.y,m.lowX1=d.x,m.lowY1=d.y,m.highX0=f.x,m.highY0=f.y,m.highX1=p.x,m.highY1=p.y}else{let m=c.x(),g=c.y();c.set("lowX0",A.x-m),c.set("lowY0",A.y-g),c.set("lowX1",d.x-m),c.set("lowY1",d.y-g),c.set("highX0",f.x-m),c.set("highY0",f.y-g),c.set("highX1",p.x-m),c.set("highY1",p.y-g),c.set("orientation",h);let y=t.get("rangeGraphics");y&&Z(y,x=>{x.set("lowX0",A.x-m),x.set("lowY0",A.y-g),x.set("lowX1",d.x-m),x.set("lowY1",d.y-g),x.set("highX0",f.x-m),x.set("highY0",f.y-g),x.set("highX1",p.x-m),x.set("highY1",p.y-g),x.set("orientation",h)})}}}_afterColumnsDraw(){this.get("turboMode")&&this.allColumns.set("draw",t=>{t.clear(),Z(this.allColumnsData,e=>{t.beginPath();let i=e.width,r=e.height,a=e.x,n=e.y,o=e.stroke,l=e.fill,u=e.strokeWidth,h=e.strokeOpacity,c=e.fillOpacity,A=e.lowX0,d=e.lowY0,f=e.lowX1,p=e.lowY1,m=e.highX0,g=e.highY0,y=e.highX1,x=e.highY1;t.beginFill(l,c),t.beginPath(),t.lineStyle(u,o,h),t.drawRect(a,n,i,r),t.moveTo(A,d),t.lineTo(f,p),t.moveTo(m,g),t.lineTo(y,x),t.endStroke(),t.endFill()})})}_processAxisRange(t){super._processAxisRange(t),t.columns=new Ii(Mt.new({}),()=>Ku._new(this._root,{themeTags:lt(t.columns.template.get("themeTags",[]),["candlestick","series","column"])},[this.columns.template,t.columns.template]))}};Object.defineProperty(za,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CandlestickSeries"});Object.defineProperty(za,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Yi.classNames.concat([za.className])});var lo=class extends ei{_afterNew(){this._setDefault("curveFactory",g_),super._afterNew()}_getPoints(t,e){let i=e.points,r=this.get("stepWidth",be).value/2,a=t.get("locationX",e.locationX),n=t.get("locationY",e.locationY),o=a,l=n;e.baseAxis===e.xAxis?(a-=r,o+=r):e.baseAxis===e.yAxis&&(n-=r,l+=r);let u=e.xAxis.getDataItemPositionX(t,e.xField,a,e.vcx),h=e.yAxis.getDataItemPositionY(t,e.yField,n,e.vcy),c=e.xAxis.getDataItemPositionX(t,e.xField,o,e.vcx),A=e.yAxis.getDataItemPositionY(t,e.yField,l,e.vcy);if(this._shouldInclude(u)){let d=this.getPoint(u,h),f=[d.x,d.y],p=this.getPoint(c,A),m=[p.x,p.y];if(e.fillVisible){let g=u,y=h,x=c,C=A;if(e.baseAxis===e.xAxis?(y=e.basePosY,C=e.basePosY):e.baseAxis===e.yAxis&&(g=e.basePosX,x=e.basePosX),e.getOpen){let F=t.get(e.xOpenField),O=t.get(e.yOpenField);if(F!=null&&O!=null)if(a=t.get("openLocationX",e.openLocationX),n=t.get("openLocationY",e.openLocationY),o=a,l=n,e.baseAxis===e.xAxis?(a-=r,o+=r):e.baseAxis===e.yAxis&&(n-=r,l+=r),e.stacked){let $=t.get("stackToItemX"),L=t.get("stackToItemY");$?(g=e.xAxis.getDataItemPositionX($,e.xField,a,$.component.get("vcx")),x=e.xAxis.getDataItemPositionX($,e.xField,o,$.component.get("vcx"))):e.yAxis===e.baseAxis?(g=e.basePosX,x=e.basePosX):e.baseAxis===e.yAxis&&(g=e.xAxis.getDataItemPositionX(t,e.xOpenField,a,e.vcx),x=e.xAxis.getDataItemPositionX(t,e.xOpenField,o,e.vcx)),L?(y=e.yAxis.getDataItemPositionY(L,e.yField,n,L.component.get("vcy")),C=e.yAxis.getDataItemPositionY(L,e.yField,l,L.component.get("vcy"))):e.xAxis===e.baseAxis?(y=e.basePosY,C=e.basePosY):e.baseAxis===e.yAxis&&(y=e.yAxis.getDataItemPositionY(t,e.yOpenField,n,e.vcy),C=e.yAxis.getDataItemPositionY(t,e.yOpenField,l,e.vcy))}else g=e.xAxis.getDataItemPositionX(t,e.xOpenField,a,e.vcx),y=e.yAxis.getDataItemPositionY(t,e.yOpenField,n,e.vcy),x=e.xAxis.getDataItemPositionX(t,e.xOpenField,o,e.vcx),C=e.yAxis.getDataItemPositionY(t,e.yOpenField,l,e.vcy)}let S=this.getPoint(g,y),P=this.getPoint(x,C);f[2]=S.x,f[3]=S.y,m[2]=P.x,m[3]=P.y}i.push(f),i.push(m),t.set("point",{x:f[0]+(m[0]-f[0])/2,y:f[1]+(m[1]-f[1])/2})}this.get("noRisers")&&(e.points=[],e.segments.push(i))}};Object.defineProperty(lo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"StepLineSeries"});Object.defineProperty(lo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ei.classNames.concat([lo.className])});var iT=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function jU(s){return typeof s=="string"&&iT.test(s)}var rT=jU;function XU(s){if(!rT(s))throw TypeError("Invalid UUID");let t;return Uint8Array.of((t=parseInt(s.slice(0,8),16))>>>24,t>>>16&255,t>>>8&255,t&255,(t=parseInt(s.slice(9,13),16))>>>8,t&255,(t=parseInt(s.slice(14,18),16))>>>8,t&255,(t=parseInt(s.slice(19,23),16))>>>8,t&255,(t=parseInt(s.slice(24,36),16))/1099511627776&255,t/4294967296&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255)}var y_=XU;var ia=[];for(let s=0;s<256;++s)ia.push((s+256).toString(16).slice(1));function sT(s,t=0){return(ia[s[t+0]]+ia[s[t+1]]+ia[s[t+2]]+ia[s[t+3]]+"-"+ia[s[t+4]]+ia[s[t+5]]+"-"+ia[s[t+6]]+ia[s[t+7]]+"-"+ia[s[t+8]]+ia[s[t+9]]+"-"+ia[s[t+10]]+ia[s[t+11]]+ia[s[t+12]]+ia[s[t+13]]+ia[s[t+14]]+ia[s[t+15]]).toLowerCase()}function WU(s){s=unescape(encodeURIComponent(s));let t=new Uint8Array(s.length);for(let e=0;e<s.length;++e)t[e]=s.charCodeAt(e);return t}var aT="6ba7b810-9dad-11d1-80b4-00c04fd430c8",nT="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function b_(s,t,e,i,r,a){let n=typeof e=="string"?WU(e):e,o=typeof i=="string"?y_(i):i;if(typeof i=="string"&&(i=y_(i)),i?.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+n.length);if(l.set(o),l.set(n,o.length),l=t(l),l[6]=l[6]&15|s,l[8]=l[8]&63|128,r){a=a||0;for(let u=0;u<16;++u)r[a+u]=l[u];return r}return sT(l)}function zU(s,t,e,i){switch(s){case 0:return t&e^~t&i;case 1:return t^e^i;case 2:return t&e^t&i^e&i;case 3:return t^e^i}}function v_(s,t){return s<<t|s>>>32-t}function GU(s){let t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520],i=new Uint8Array(s.length+1);i.set(s),i[s.length]=128,s=i;let r=s.length/4+2,a=Math.ceil(r/16),n=new Array(a);for(let o=0;o<a;++o){let l=new Uint32Array(16);for(let u=0;u<16;++u)l[u]=s[o*64+u*4]<<24|s[o*64+u*4+1]<<16|s[o*64+u*4+2]<<8|s[o*64+u*4+3];n[o]=l}n[a-1][14]=(s.length-1)*8/Math.pow(2,32),n[a-1][14]=Math.floor(n[a-1][14]),n[a-1][15]=(s.length-1)*8&4294967295;for(let o=0;o<a;++o){let l=new Uint32Array(80);for(let f=0;f<16;++f)l[f]=n[o][f];for(let f=16;f<80;++f)l[f]=v_(l[f-3]^l[f-8]^l[f-14]^l[f-16],1);let u=e[0],h=e[1],c=e[2],A=e[3],d=e[4];for(let f=0;f<80;++f){let p=Math.floor(f/20),m=v_(u,5)+zU(p,h,c,A)+d+t[p]+l[f]>>>0;d=A,A=c,c=v_(h,30)>>>0,h=u,u=m}e[0]=e[0]+u>>>0,e[1]=e[1]+h>>>0,e[2]=e[2]+c>>>0,e[3]=e[3]+A>>>0,e[4]=e[4]+d>>>0}return Uint8Array.of(e[0]>>24,e[0]>>16,e[0]>>8,e[0],e[1]>>24,e[1]>>16,e[1]>>8,e[1],e[2]>>24,e[2]>>16,e[2]>>8,e[2],e[3]>>24,e[3]>>16,e[3]>>8,e[3],e[4]>>24,e[4]>>16,e[4]>>8,e[4])}var oT=GU;function x_(s,t,e,i){return b_(80,oT,s,t,e,i)}x_.DNS=aT;x_.URL=nT;var $d=x_;var ly=class extends Wa{setupDefaultRules(){super.setupDefaultRules(),this.rule("Component").setAll({interpolationDuration:600}),this.rule("Hierarchy").set("animationDuration",600),this.rule("Scrollbar").set("animationDuration",600),this.rule("Tooltip").set("animationDuration",300),this.rule("MapChart").set("animationDuration",1e3),this.rule("MapChart").set("wheelDuration",300),this.rule("Entity").setAll({stateAnimationDuration:600}),this.rule("Sprite").states.create("default",{stateAnimationDuration:600}),this.rule("Tooltip",["axis"]).setAll({animationDuration:200}),this.rule("WordCloud").set("animationDuration",500),this.rule("Polygon").set("animationDuration",600),this.rule("ArcDiagram").set("animationDuration",600)}};var lT=ly;var uo=class s extends Wa{constructor(t,e){super(t,e),Object.defineProperty(this,"_dp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"responsiveRules",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._dp=new Br([this._root._rootContainer.onPrivate("width",i=>{this._isUsed()&&this._maybeApplyRules()}),this._root._rootContainer.onPrivate("height",i=>{this._isUsed()&&this._maybeApplyRules()})])}static widthXXS(t,e){return t<=s.XXS}static widthXS(t,e){return t<=s.XS}static widthS(t,e){return t<=s.S}static widthM(t,e){return t<=s.M}static widthL(t,e){return t<=s.L}static widthXL(t,e){return t<=s.XL}static widthXXL(t,e){return t<=s.XXL}static heightXXS(t,e){return e<=s.XXS}static heightXS(t,e){return e<=s.XS}static heightS(t,e){return e<=s.S}static heightM(t,e){return e<=s.M}static heightL(t,e){return e<=s.L}static heightXL(t,e){return e<=s.XL}static heightXXL(t,e){return e<=s.XXL}static isXXS(t,e){return t<=s.XXS&&e<=s.XXS}static isXS(t,e){return t<=s.XS&&e<=s.XS}static isS(t,e){return t<=s.S&&e<=s.S}static isM(t,e){return t<=s.M&&e<=s.M}static isL(t,e){return t<=s.L&&e<=s.L}static isXL(t,e){return t<=s.XL&&e<=s.XL}static isXXL(t,e){return t<=s.XXL&&e<=s.XXL}static maybeXXS(t,e){return t<=s.XXS||e<=s.XXS}static maybeXS(t,e){return t<=s.XS||e<=s.XS}static maybeS(t,e){return t<=s.S||e<=s.S}static maybeM(t,e){return t<=s.M||e<=s.M}static maybeL(t,e){return t<=s.L||e<=s.L}static maybeXL(t,e){return t<=s.XL||e<=s.XL}static maybeXXL(t,e){return t<=s.XXL||e<=s.XXL}static newEmpty(t){return new this(t,!0)}addRule(t){return t.name&&!t.template&&(t.template=this.rule(t.name,t.tags)),this.responsiveRules.push(t),this._maybeApplyRule(t),t}removeRule(t){fs(this.responsiveRules,t)}dispose(){this._dp&&this._dp.dispose()}_isUsed(){return this._root._rootContainer.get("themes").indexOf(this)!==-1}_maybeApplyRules(){Z(this.responsiveRules,t=>{this._maybeUnapplyRule(t)}),Z(this.responsiveRules,t=>{this._maybeApplyRule(t)})}_maybeApplyRule(t){if(t.applied)return;let e=this._root._rootContainer.getPrivate("width"),i=this._root._rootContainer.getPrivate("height");t.relevant.call(t,e,i)&&(t.applied=!0,t.template&&t.settings&&t.template.setAll(t.settings),t.applying&&t.applying.call(t))}_maybeUnapplyRule(t){if(!t.applied)return;let e=this._root._rootContainer.getPrivate("width"),i=this._root._rootContainer.getPrivate("height");t.relevant.call(t,e,i)||(t.applied=!1,t.template&&t.template.removeAll(),t.removing&&t.removing.call(t))}setupDefaultRules(){super.setupDefaultRules();let t=e=>this.addRule(e);t({name:"Chart",relevant:s.widthXXS,settings:{paddingLeft:0,paddingRight:0}}),t({name:"Chart",relevant:s.heightXXS,settings:{paddingTop:0,paddingBottom:0}}),t({name:"Bullet",relevant:s.isXS,settings:{forceHidden:!0}}),t({name:"Legend",relevant:s.isXS,settings:{forceHidden:!0}}),t({name:"HeatLegend",tags:["vertical"],relevant:s.widthXS,settings:{forceHidden:!0}}),t({name:"HeatLegend",tags:["horizontal"],relevant:s.heightXS,settings:{forceHidden:!0}}),t({name:"Label",tags:["heatlegend","start"],relevant:s.maybeXS,settings:{forceHidden:!0}}),t({name:"Label",tags:["heatlegend","end"],relevant:s.maybeXS,settings:{forceHidden:!0}}),t({name:"Button",tags:["resize"],relevant:s.maybeXS,settings:{forceHidden:!0}}),t({name:"AxisRendererX",relevant:s.heightXS,settings:{inside:!0}}),t({name:"AxisRendererY",relevant:s.widthXS,settings:{inside:!0}}),t({name:"AxisRendererXLabel",relevant:s.heightXS,settings:{minPosition:.1,maxPosition:.9}}),t({name:"AxisLabel",tags:["y"],relevant:s.widthXS,settings:{centerY:be,maxPosition:.9}}),t({name:"AxisLabel",tags:["x"],relevant:s.heightXXS,settings:{forceHidden:!0}}),t({name:"AxisLabel",tags:["x","minor"],relevant:s.widthXXL,settings:{forceHidden:!0}}),t({name:"AxisLabel",tags:["y"],relevant:s.widthXXS,settings:{forceHidden:!0}}),t({name:"AxisLabel",tags:["y","minor"],relevant:s.heightXXL,settings:{forceHidden:!0}}),t({name:"AxisTick",tags:["x"],relevant:s.heightXS,settings:{inside:!0,minPosition:.1,maxPosition:.9}}),t({name:"AxisTick",tags:["y"],relevant:s.widthXXS,settings:{inside:!0,minPosition:.1,maxPosition:.9}}),t({name:"Grid",relevant:s.maybeXXS,settings:{forceHidden:!0}}),t({name:"RadialLabel",tags:["radial"],relevant:s.maybeXS,settings:{forceHidden:!0}}),t({name:"RadialLabel",tags:["circular"],relevant:s.maybeS,settings:{inside:!0}}),t({name:"AxisTick",relevant:s.maybeS,settings:{inside:!0}}),t({name:"RadialLabel",tags:["circular"],relevant:s.maybeXS,settings:{forceHidden:!0}}),t({name:"AxisTick",tags:["circular"],relevant:s.maybeXS,settings:{inside:!0}}),t({name:"PieChart",relevant:s.maybeXS,settings:{radius:Ot(99)}}),t({name:"PieChart",relevant:s.widthM,settings:{radius:Ot(99)}}),t({name:"RadialLabel",tags:["pie"],relevant:s.maybeXS,settings:{forceHidden:!0}}),t({name:"RadialLabel",tags:["pie"],relevant:s.widthM,settings:{forceHidden:!0}}),t({name:"Tick",tags:["pie"],relevant:s.maybeXS,settings:{forceHidden:!0}}),t({name:"Tick",tags:["pie"],relevant:s.widthM,settings:{forceHidden:!0}}),t({name:"FunnelSeries",relevant:s.widthM,settings:{alignLabels:!1}}),t({name:"Label",tags:["funnel","vertical"],relevant:s.widthL,settings:{forceHidden:!0}}),t({name:"Tick",tags:["funnel","vertical"],relevant:s.widthL,settings:{forceHidden:!0}}),t({name:"Label",tags:["funnel","horizontal"],relevant:s.heightS,settings:{forceHidden:!0}}),t({name:"Tick",tags:["funnel","horizontal"],relevant:s.heightS,settings:{forceHidden:!0}}),t({name:"PyramidSeries",relevant:s.widthM,settings:{alignLabels:!1}}),t({name:"Label",tags:["pyramid","vertical"],relevant:s.widthL,settings:{forceHidden:!0}}),t({name:"Tick",tags:["pyramid","vertical"],relevant:s.widthL,settings:{forceHidden:!0}}),t({name:"Label",tags:["pyramid","horizontal"],relevant:s.heightS,settings:{forceHidden:!0}}),t({name:"Tick",tags:["pyramid","horizontal"],relevant:s.heightS,settings:{forceHidden:!0}}),t({name:"PictorialStackedSeries",relevant:s.widthM,settings:{alignLabels:!1}}),t({name:"Label",tags:["pictorial","vertical"],relevant:s.widthL,settings:{forceHidden:!0}}),t({name:"Tick",tags:["pictorial","vertical"],relevant:s.widthL,settings:{forceHidden:!0}}),t({name:"Label",tags:["pictorial","horizontal"],relevant:s.heightS,settings:{forceHidden:!0}}),t({name:"Tick",tags:["pictorial","horizontal"],relevant:s.heightS,settings:{forceHidden:!0}}),t({name:"Label",tags:["flow","horizontal"],relevant:s.widthS,settings:{forceHidden:!0}}),t({name:"Label",tags:["flow","vertical"],relevant:s.heightS,settings:{forceHidden:!0}}),t({name:"Chord",relevant:s.maybeXS,settings:{radius:Ot(99)}}),t({name:"Label",tags:["hierarchy","node"],relevant:s.maybeXS,settings:{forceHidden:!0}})}};Object.defineProperty(uo,"XXS",{enumerable:!0,configurable:!0,writable:!0,value:100});Object.defineProperty(uo,"XS",{enumerable:!0,configurable:!0,writable:!0,value:200});Object.defineProperty(uo,"S",{enumerable:!0,configurable:!0,writable:!0,value:300});Object.defineProperty(uo,"M",{enumerable:!0,configurable:!0,writable:!0,value:400});Object.defineProperty(uo,"L",{enumerable:!0,configurable:!0,writable:!0,value:600});Object.defineProperty(uo,"XL",{enumerable:!0,configurable:!0,writable:!0,value:800});Object.defineProperty(uo,"XXL",{enumerable:!0,configurable:!0,writable:!0,value:1e3});var uT=uo;var qe=function(){function s(t){this._value=t}return Object.defineProperty(s.prototype,"value",{get:function(){return this._value/100},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"percent",{get:function(){return this._value},enumerable:!0,configurable:!0}),s.prototype.toString=function(){return""+this._value+"%"},s}();function ue(s){return new qe(s)}function __(s){return s instanceof qe}function Rr(s){return Number(s)!==s}function hT(s){return{}.toString.call(s)}function kd(s){if(typeof s=="string")return s;if(typeof s=="number")return""+s;throw new Error("Expected a string or number but got "+hT(s))}function Vi(s){return!!s}function Gt(s){if(V(s)&&!I(s)){var t=Number(s);return Rr(t)&&ut(s)&&s!=""?Gt(s.replace(/[^0-9.\-]+/g,"")):t}return s}function os(s){if(V(s)&&!ut(s)){if(I(s))return kd(s);if(ri(s))return s.toString()}return s}function cT(s){return!V(s)||I(s)||__(s)?s:ut(s)&&s.indexOf("%")!=-1?ue(Gt(s)):Gt(s)}function V(s){return s!=null}function fi(s){if(V(s))return s;throw new Error("Value doesn't exist")}function uy(s,t){return V(s)?s:t}function Zu(s){return hT(s)==="[object Date]"}function ut(s){return typeof s=="string"}function I(s){return typeof s=="number"&&Number(s)==s}function ri(s){return typeof s=="object"&&s!=null}function bi(s){return Array.isArray(s)}var Zf=Math.PI,C_=Zf/2,Ed=Zf/180,il=180/Zf;function cy(s,t,e){return V(s)?(s=Gt(s),De(s,t,e)):s}function ve(s,t,e){if(!I(t)||t<=0){var i=Math.round(s);return e&&i-s==.5&&i--,i}else{var r=Math.pow(10,t);return Math.round(s*r)/r}}function B_(s,t){if(!I(t)||t<=0)return Math.ceil(s);var e=Math.pow(10,t);return Math.ceil(s*e)/e}function De(s,t,e){if(I(t)){if(I(e)&&e<t){var i=e;e=t,t=i}s<t&&(s=t)}return I(e)&&s>e&&(s=e),s}function Be(s){return ve(Math.sin(Ed*s),10)}function S_(s){return ve(Math.tan(Ed*s),10)}function Se(s){return ve(Math.cos(Ed*s),10)}function st(s,t){return I(s)?I(t)&&t>s?t:s:I(t)?t:null}function dt(s,t){return I(s)?I(t)&&t<s?t:s:I(t)?t:null}function dT(s,t){return s.reduce(function(e,i){return Math.abs(i-t)<Math.abs(e-t)?i:e})}function Md(s,t){var e=fi(s.start),i=fi(t.start),r=fi(s.end),a=fi(t.end);return Math.max(e,i)<=Math.min(r,a)}function Rd(s){var t=fi(s.start),e=fi(s.end);return{start:1-e,end:1-t}}function AT(s,t){var e=fi(s.start),i=fi(t.start),r=fi(s.end),a=fi(t.end),n=Math.max(e,i),o=Math.min(r,a);if(!(o<n))return{start:n,end:o}}function Et(s,t){return s?(t||(t={x:0,y:0}),Math.sqrt(Math.pow(Math.abs(s.x-t.x),2)+Math.pow(Math.abs(s.y-t.y),2))):0}function fT(s,t){return s?(t||(t={x:0,y:0}),Math.abs(s.x-t.x)):0}function pT(s,t){return s?(t||(t={x:0,y:0}),Math.abs(s.y-t.y)):0}function mT(s,t,e,i,r){if(!s)return 0;t||(t={x:0,y:0});var a=0,n=s;if(r>0)for(var o=0;o<=r;o++){var l=qf(s,t,e,i,o/r);a+=Et(n,l),n=l}return a}function gT(s,t,e,i){var r=Et(t,i),a=Et(s,e);return Math.abs(a/r)}function oc(s,t,e){return I(e)||(e=.5),{x:s.x+(t.x-s.x)*e,y:s.y+(t.y-s.y)*e}}function nr(s,t){t||(t={x:s.x*2,y:s.y*2});var e=t.x-s.x,i=t.y-s.y,r=Math.atan2(i,e)*il;return r<0&&(r+=360),tl(r)}function Ud(s){if(s){var t=s.length;if(t!==0){for(var e=void 0,i=void 0,r,a=void 0,n=0;n<t;n++){var o=s[n];(!I(i)||o.x>i)&&(i=o.x),(!I(e)||o.x<e)&&(e=o.x),(!I(r)||o.y<r)&&(r=o.y),(!I(a)||o.y>a)&&(a=o.y)}return{x:e,y:r,width:i-e,height:a-r}}}return{x:0,y:0,width:0,height:0}}function rl(s){var t=s.length;if(t!==0){for(var e=void 0,i=void 0,r=void 0,a=void 0,n=0;n<t;n++){var o=s[n];e=dt(o.x,e),i=dt(o.y,i),r=st(o.x+o.width,r),a=st(o.y+o.height,a)}return{x:e,y:i,width:r-e,height:a-i}}}function P_(s,t,e,i){var r=(1-i)*(1-i)*s.x+2*(1-i)*i*e.x+i*i*t.x,a=(1-i)*(1-i)*s.y+2*(1-i)*i*e.y+i*i*t.y;return{x:r,y:a}}function qf(s,t,e,i,r){var a={x:0,y:0},n=1-r,o=n*n,l=o*n;return a.x=s.x*l+e.x*3*o*r+i.x*3*n*r*r+t.x*r*r*r,a.y=s.y*l+e.y*3*o*r+i.y*3*n*r*r+t.y*r*r*r,a}function dy(s,t,e,i,r,a){return r=hy(r),a=hy(a),{x:(-s.x+t.x/r+e.x)*r,y:(-s.y+t.y/a+e.y)*a}}function Ay(s,t,e,i,r,a){return r=hy(r),a=hy(a),{x:(t.x+e.x/r-i.x)*r,y:(t.y+e.y/a-i.y)*a}}function hy(s){return 1-s+1e-5}function tl(s){return s==360?360:s%360}function dn(s,t,e){if(t>e){var i=t;t=e,e=i}s=tl(s);var r=(t-tl(t))/360;s<t&&(s+=360*(r+1));var a=t+(e-t)/2+180,n=t+(e-t)/2-180;return s>e&&(s-360>t?s-=360:s<a?s=e:s=t),s<t&&(s>n?s=t:s=e),s}function Oa(s,t,e){var i=Number.MAX_VALUE,r=Number.MAX_VALUE,a=-Number.MAX_VALUE,n=-Number.MAX_VALUE,o=[];I(e)||(e=1),o.push(w_(e,s)),o.push(w_(e,t));for(var l=Math.min(Math.floor(s/90)*90,Math.floor(t/90)*90),u=Math.max(Math.ceil(s/90)*90,Math.ceil(t/90)*90),h=l;h<=u;h+=90)h>=s&&h<=t&&o.push(w_(e,h));for(var c=0;c<o.length;c++){var A=o[c];A.x<i&&(i=A.x),A.y<r&&(r=A.y),A.x>a&&(a=A.x),A.y>n&&(n=A.y)}return{x:i,y:r,width:a-i,height:n-r}}function w_(s,t){return{x:s*Se(t),y:s*Be(t)}}function fy(s,t){return s.x>=t.x&&s.x<=t.x+t.width&&s.y>=t.y&&s.y<=t.y+t.height}function Ms(s,t){for(var e=s.length,i=0;i<e;++i)if(s[i]===t)return i;return-1}function Jf(s,t){for(var e=s.length,i=0;i<e;++i)if(t(s[i]))return!0;return!1}function Xl(s,t){for(var e=s.length,i=new Array(e),r=0;r<e;++r)i[r]=t(s[r],r);return i}function we(s,t){for(var e=s.length,i=0;i<e;++i)t(s[i],i)}function yT(s,t){for(var e=s.length;e--;)t(s[e],e)}function Vd(s,t){for(var e=s.length,i=0;i<e&&t(s[i],i);++i);}function bT(s,t){for(var e=s.length,i=t;i<e;++i)s[i-t]=s[i];s.length=e-t}function vT(s,t){for(var e=t.length,i=0;i<e;++i)s.push(t[i])}function Ye(s,t){var e=!1,i=s.indexOf(t);if(i!==-1){e=!0,s.splice(i,1);for(var r=s.length;i<r;)s[i]===t?(s.splice(i,1),--r):++i}return e}function pa(s,t,e){var i=Ms(s,t);i!==-1&&Ju(s,i),e==null?s.push(t):qu(s,e,t)}function lc(s,t,e){I(e)?e===0?s.unshift(t):s.splice(e,0,t):s.push(t)}function xT(s,t,e){var i=s.indexOf(t);i!==-1&&s.splice(i,1),I(e)?s.splice(e,0,t):s.push(t)}function py(s){return Array.isArray(s)?s:[s]}function Wl(s){for(var t=s.length,e=new Array(t),i=0;i<t;++i)e[i]=s[i];return e}function qu(s,t,e){s.splice(t,0,e)}function Ju(s,t){s.splice(t,1)}function Nd(s,t,e){for(var i=0,r=s.length,a=!1;i<r;){var n=i+r>>1,o=t(e,s[n]);o<0?r=n:(o===0&&(a=!0),i=n+1)}return{found:a,index:a?i-1:i}}function my(s,t){for(var e=s.length,i=0;i<e;++i)if(t(s[i],i))return i;return-1}function F_(s,t){for(var e=s.length,i=0;i<e;)t(s[i])?++i:(s.splice(i,1),--e)}var Ft=function(){function s(t){this._disposed=!1,this._dispose=t}return s.prototype.isDisposed=function(){return this._disposed},s.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._dispose())},s}();var Vt=function(s){N(t,s);function t(e){return s.call(this,function(){we(e,function(i){i.dispose()})})||this}return t}(Ft);var Ci=function(s){N(t,s);function t(){var e=s.call(this,function(){V(e._disposer)&&(e._disposer.dispose(),e._disposer=void 0)})||this;return e}return t.prototype.get=function(){return this._value},t.prototype.set=function(e,i){V(this._disposer)&&this._disposer.dispose(),this._disposer=i,this._value=e},t.prototype.reset=function(){this.set(void 0,void 0)},t}(Ft);var zl=function(s){N(t,s);function t(){var e=s!==null&&s.apply(this,arguments)||this;return e._counter=0,e}return t.prototype.increment=function(){var e=this;return++this._counter,new Ft(function(){--e._counter,e._counter===0&&e.dispose()})},t}(Ft);var T_=!1,gy=[],ep=[],yy=[],D_=[],YU=1e3/60,by=typeof requestAnimationFrame=="function"?function(s){requestAnimationFrame(s)}:function(s){setTimeout(s,YU)};function _T(){for(var s=Date.now(),t=gy.length,e=0;e<t;++e)gy[e](s);bT(gy,t);for(var e=0;e<ep.length;++e)ep[e](s);ep.length=0;for(var e=0;e<yy.length;++e)yy[e](s);yy.length=0,gy.length===0&&ep.length===0?T_=!1:by(_T)}function wT(){T_||(T_=!0,by(_T))}function O_(s){ep.push(s),wT()}function vy(s){yy.push(s),wT()}function L_(s){D_.push(s)}function I_(){for(var s=Date.now(),t=D_.length,e=0;e<t;++e)D_.shift()(s)}var Ga=function(){function s(){this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}return s.prototype.isDisposed=function(){return this._disposed},s.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{we(t,function(e){e.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}},s.prototype.hasListeners=function(){return this._listeners.length!==0},s.prototype.hasListenersByType=function(t){return Jf(this._listeners,function(e){return(e.type===null||e.type===t)&&!e.killed})},s.prototype.enable=function(){this._enabled=!0},s.prototype.disable=function(){this._enabled=!1},s.prototype.enableType=function(t){delete this._disabled[t]},s.prototype.disableType=function(t,e){e===void 0&&(e=1/0),this._disabled[t]=e},s.prototype._removeListener=function(t){if(this._iterating===0){var e=this._listeners.indexOf(t);if(e===-1)throw new Error("Invalid state: could not remove listener");this._listeners.splice(e,1)}else this._killed.push(t)},s.prototype._removeExistingListener=function(t,e,i,r){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(function(a){a.once===t&&a.type===e&&(i==null||a.callback===i)&&a.context===r&&a.disposer.dispose()})},s.prototype.isEnabled=function(t){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(t)&&this._disabled[t]==null},s.prototype.has=function(t,e,i){var r=my(this._listeners,function(a){return a.once!==!0&&a.type===t&&(e==null||a.callback===e)&&a.context===i});return r!==-1},s.prototype._shouldDispatch=function(t){if(this._disposed)throw new Error("EventDispatcher is disposed");var e=this._disabled[t];return I(e)?(e<=1?delete this._disabled[t]:--this._disabled[t],!1):this._enabled},s.prototype._eachListener=function(t){var e=this;++this._iterating;try{we(this._listeners,t)}finally{--this._iterating,this._iterating===0&&this._killed.length!==0&&(we(this._killed,function(i){e._removeListener(i)}),this._killed.length=0)}},s.prototype.dispatchImmediately=function(t,e){this._shouldDispatch(t)&&this._eachListener(function(i){!i.killed&&(i.type===null||i.type===t)&&i.dispatch(t,e)})},s.prototype.dispatch=function(t,e){this._shouldDispatch(t)&&this._eachListener(function(i){!i.killed&&(i.type===null||i.type===t)&&L_(function(){i.killed||i.dispatch(t,e)})})},s.prototype._on=function(t,e,i,r,a,n){var o=this;if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(t,e,i,r);var l={type:e,callback:i,context:r,shouldClone:a,dispatch:n,killed:!1,once:t,disposer:new Ft(function(){l.killed=!0,o._removeListener(l)})};return this._listeners.push(l),l},s.prototype.onAll=function(t,e,i){return i===void 0&&(i=!0),this._on(!1,null,t,e,i,function(r,a){return t.call(e,r,a)}).disposer},s.prototype.on=function(t,e,i,r){return r===void 0&&(r=!0),this._on(!1,t,e,i,r,function(a,n){return e.call(i,n)}).disposer},s.prototype.once=function(t,e,i,r){r===void 0&&(r=!0);var a=this._on(!0,t,e,i,r,function(n,o){a.disposer.dispose(),e.call(i,o)});return a.disposer},s.prototype.off=function(t,e,i){this._removeExistingListener(!1,t,e,i)},s.prototype.copyFrom=function(t){var e=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(t===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");we(t._listeners,function(i){!i.killed&&i.shouldClone&&(i.type===null?e.onAll(i.callback,i.context):i.once?e.once(i.type,i.callback,i.context):e.on(i.type,i.callback,i.context))})},s}();var tp=function(s){N(t,s);function t(e){var i=s.call(this)||this;return i.target=e,i}return t.prototype.copyFrom=function(e){var i=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");we(e._listeners,function(r){r.context!==e.target&&!r.killed&&r.shouldClone&&(r.type===null?i.onAll(r.callback,r.context):r.once?i.once(r.type,r.callback,r.context):i.on(r.type,r.callback,r.context))})},t}(Ga);function BT(s){return function(t){for(var e in s)if(Mn(s,e)&&!t([e,s[e]]))break}}function ST(s){var t=[];for(var e in s)Mn(s,e)&&t.push(e);return t}function KU(s,t){return ST(s).sort(t)}function Mn(s,t){return{}.hasOwnProperty.call(s,t)}function $_(s,t){for(var e in s)if(Mn(s,e)&&!t(e,s[e]))break}function Ue(s,t){$_(s,function(e,i){return t(e,i),!0})}function ho(s,t,e){we(KU(s,e),function(i){t(i,s[i])})}function ip(s,t){return Object.assign({},s,t)}function PT(s){return JSON.parse(JSON.stringify(s))}function Ni(s,t,e){we(e,function(i){V(s[i])&&(t[i]=s[i])})}function FT(s,t,e){we(e,function(i){t[i]=s[i]})}function Qd(s,t){Ni(s,t,ST(s))}function sl(s){return function(t){for(var e=s.length,i=0;i<e&&t(s[i]);++i);}}function TT(s){var t=0;return s(function(e){return++t,!0}),t}function uc(s){var t=[];return s(function(e){return t.push(e),!0}),t}function Qr(s,t){s(t)}function ce(s,t){s(function(e){return t(e),!0})}function Gl(s,t){return sl(uc(s).sort(t))}function xy(s,t){return function(e){return s(function(i){return e(t(i))})}}function DT(){for(var s=[],t=0;t<arguments.length;t++)s[t]=arguments[t];return function(e){for(var i=!0,r=function(o){return i=e(o)},a=s.length,n=0;n<a&&(s[n](r),!!i);++n);}}function OT(s){return function(t){var e=!0,i=function(r){return e=t(r)};s(function(r){return r(i),e})}}function Rn(s){return function(t){var e=0;s(function(i){return t([e++,i])})}}function LT(s,t){var e;return s(function(i){return t(i)?(e=i,!1):!0}),e}function Hd(s,t){var e=!1;return s(function(i){return t(i)?(e=!0,!1):!0}),e}var hc=function(){function s(t,e){this.createNewItems=!1,this.list=t,this._create=e,this.reset()}return s.prototype.reset=function(){this._listCopy=uc(this.list.iterator())},s.prototype.clear=function(){this._listCopy.length=0},s.prototype.getFirst=function(){return this.returnItem(0)},s.prototype.getLast=function(){return this.returnItem(this._listCopy.length-1)},s.prototype.find=function(t){var e=my(this._listCopy,t);if(e!==-1){var i=this._listCopy[e];return Ye(this._listCopy,i),i}else return this.getLast()},s.prototype.removeItem=function(t){return Ye(this._listCopy,t)},s.prototype.returnItem=function(t){if(t>=0&&t<this._listCopy.length){var e=this._listCopy[t];return Ye(this._listCopy,e),e}else if(this.createNewItems)return this._create()},s.prototype.iterator=function(){return sl(this._listCopy)},s}();function rp(s,t){return s===t?0:s<t?-1:1}function k_(s,t){return new Array(t+1).join(s)}function IT(s){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<s;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Ya=function(s){N(t,s);function t(e){var i=this,r=e.events.on("removed",function(a){a.oldValue.dispose()},void 0,!1);return i=s.call(this,function(){r.dispose(),ce(e.iterator(),function(a){var n=a[1];n.dispose()})})||this,i}return t}(Ft);var Rt=function(){function s(){this.events=new Ga,this._dictionary={}}return s.prototype.hasKey=function(t){return Mn(this._dictionary,t)},s.prototype.getKey=function(t){return this._dictionary[t]},s.prototype.insertKey=function(t,e){if(Mn(this._dictionary,t))throw new Error("Key "+t+" already exists in dictionary");this._dictionary[t]=e,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:t,newValue:e})},s.prototype.setKey=function(t,e){if(Mn(this._dictionary,t)){var i=this._dictionary[t];i!==e&&(this._dictionary[t]=e,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:t,oldValue:i,newValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}))}else this._dictionary[t]=e,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:t,newValue:e})},s.prototype.updateKey=function(t,e){if(Mn(this._dictionary,t)){var i=this._dictionary[t],r=e(i);i!==r&&(this._dictionary[t]=r,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:t,oldValue:i,newValue:r}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}))}else throw new Error("Key "+t+" doesn't exist in dictionary")},s.prototype.removeKey=function(t){if(Mn(this._dictionary,t)){var e=this._dictionary[t];delete this._dictionary[t],this.events.isEnabled("removeKey")&&this.events.dispatchImmediately("removeKey",{type:"removeKey",target:this,key:t,oldValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:e})}},s.prototype.insertKeyIfEmpty=function(t,e){return this.hasKey(t)||this.insertKey(t,e()),this.getKey(t)},s.prototype.clear=function(){var t=this;this.events.isEnabled("removed")&&Ue(this._dictionary,function(e,i){t.events.dispatchImmediately("removed",{type:"removed",target:t,oldValue:i})}),this._dictionary={},this.events.isEnabled("cleared")&&this.events.dispatchImmediately("cleared",{type:"cleared",target:this})},s.prototype.copyFrom=function(t){var e=this;ce(t.iterator(),function(i){e.setKey(i[0],i[1])})},s.prototype.iterator=function(){return BT(this._dictionary)},s.prototype[Symbol.iterator]=function(){var t,e,i,r;return ti(this,function(a){switch(a.label){case 0:t=[];for(e in this._dictionary)t.push(e);i=0,a.label=1;case 1:return i<t.length?(r=t[i],Mn(this._dictionary,r)?[4,[r,this._dictionary[r]]]:[3,3]):[3,4];case 2:a.sent(),a.label=3;case 3:return i++,[3,1];case 4:return[2]}})},s.prototype.each=function(t){ce(this.iterator(),function(e){var i=Su(e,2),r=i[0],a=i[1];return t(r,a)})},s.prototype.sortedIterator=function(){return Gl(this.iterator(),function(t,e){return rp(t[0],e[0])})},s}();var al=function(s){N(t,s);function t(e){var i=s.call(this)||this;return i.template=e,i}return Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;ce(e.iterator(),function(r){i.setKey(r[0],r[1].clone())})},t.prototype.create=function(e){var i=this;return this.insertKeyIfEmpty(e,function(){return i.template.clone()})},t}(Rt);var $T=function(){function s(){this._storage=new Rt,this.ttl=1e3}return s.prototype.set=function(t,e,i,r){var a=this._storage.insertKeyIfEmpty(t,function(){return new Rt}),n={touched:new Date().getTime(),ttl:I(r)?r:this.ttl,value:i};a.setKey(e,n)},s.prototype.get=function(t,e,i){if(i===void 0&&(i=void 0),this._storage.hasKey(t)){var r=this._storage.getKey(t);if(r.hasKey(e)){var a=r.getKey(e);return a.ttl&&a.touched+a.ttl<new Date().getTime()&&(a.expired=!0),a.expired?(r.removeKey(e),i):a.value}else return i}else return i},s.prototype.clear=function(t){t?this._storage.removeKey(t):this._storage.clear()},s}();var eh=new $T;var kT=function(){function s(){var t=this;this.events=new Ga,this.themes=[],this.loadedThemes={},this._uidCount=0,this.registeredClasses={},this._placeholders={},this.invalidSprites={},this.invalidDatas={},this.invalidRawDatas=[],this.invalidDataItems=[],this.invalidDataRange=[],this.invalidPositions={},this.invalidLayouts={},this.baseSprites=[],this.baseSpritesByUid={},this.queue=[],this.deferred=[],this.uid=this.getUniqueId(),this.invalidSprites.noBase=[],this.invalidDatas.noBase=[],this.invalidLayouts.noBase=[],this.invalidPositions.noBase=[],typeof addEventListener<"u"&&(addEventListener("beforeprint",function(){we(t.baseSprites,function(e){var i=e.paper.svg;i.setAttribute("viewBox","0 0 "+i.clientWidth+" "+i.clientHeight)})}),addEventListener("afterprint",function(){we(t.baseSprites,function(e){var i=e.paper.svg;i.removeAttribute("viewBox")})}))}return s.prototype.getUniqueId=function(){var t=this._uidCount;return this._uidCount+=1,"id-"+t},Object.defineProperty(s.prototype,"map",{get:function(){return this._map||(this._map=new Rt),this._map},enumerable:!0,configurable:!0}),s.prototype.setCache=function(t,e,i){eh.set(this.uid,t,e,i)},s.prototype.getCache=function(t,e){return e===void 0&&(e=void 0),eh.get(this.uid,t,e)},s.prototype.dispatch=function(t,e){this.events.isEnabled(t)&&(e?(e.type=t,e.target=e.target||this,this.events.dispatch(t,{type:t,target:this})):this.events.dispatch(t,{type:t,target:this}))},s.prototype.dispatchImmediately=function(t,e){this.events.isEnabled(t)&&(e?(e.type=t,e.target=e.target||this,this.events.dispatchImmediately(t,e)):this.events.dispatchImmediately(t,{type:t,target:this}))},s.prototype.getPlaceholder=function(t){return V(this._placeholders[t])?this._placeholders[t]:(this._placeholders[t]="__amcharts_"+t+"_"+IT(8)+"__",this._placeholders[t])},s.prototype.addToInvalidComponents=function(t){t.baseId?pa(this.invalidDatas[t.baseId],t):pa(this.invalidDatas.noBase,t)},s.prototype.removeFromInvalidComponents=function(t){t.baseId&&Ye(this.invalidDatas[t.baseId],t),Ye(this.invalidDatas.noBase,t)},s.prototype.addToInvalidSprites=function(t){t.baseId?lc(this.invalidSprites[t.baseId],t):lc(this.invalidSprites.noBase,t)},s.prototype.removeFromInvalidSprites=function(t){t.baseId&&Ye(this.invalidSprites[t.baseId],t),Ye(this.invalidSprites.noBase,t)},s.prototype.addToInvalidPositions=function(t){t.baseId?lc(this.invalidPositions[t.baseId],t):lc(this.invalidPositions.noBase,t)},s.prototype.removeFromInvalidPositions=function(t){t.baseId&&Ye(this.invalidPositions[t.baseId],t),Ye(this.invalidPositions.noBase,t)},s.prototype.addToInvalidLayouts=function(t){t.baseId?lc(this.invalidLayouts[t.baseId],t):lc(this.invalidLayouts.noBase,t)},s.prototype.removeFromInvalidLayouts=function(t){t.baseId&&Ye(this.invalidLayouts[t.baseId],t),Ye(this.invalidLayouts.noBase,t)},s}();var M=new kT;function Ss(s,t){var e=M.registeredClasses[t];return e!=null&&s instanceof e}var E_=function(){function s(t,e,i){this._array=t,this._start=e,this._end=i}return s.prototype.iterator=function(){var t=this;return function(e){if(t._start!==t._end)if(t._start<t._end)for(var i=t._start;i<t._end&&e(t._array[i]);++i);else for(var i=t._start-1;i>=t._end&&e(t._array[i]);--i);}},s.prototype.backwards=function(){return new s(this._array,this._end,this._start)},s.prototype.range=function(t,e){if(t<=e){if(this._start===this._end)return this;if(this._start<this._end){var i=e-t;return t=Math.max(this._start+t,this._start),e=Math.min(t+i,this._end),new s(this._array,t,e)}else{var i=e-t;return t=Math.max(this._start-t,this._end),e=Math.max(t-i,this._end),new s(this._array,t,e)}}else throw new Error("Start index must be lower than end index")},s}();var ZU=function(s){N(t,s);function t(e,i,r){var a=s.call(this,[e.events.on("inserted",function(n){var o=n.newValue,l=a._getKey(o),u=0;Qr(e.iterator(),function(h){return h===o?!1:(a._getKey(h)===l&&++u,!0)}),a._insert(o,l,u)},void 0,!1),e.events.on("removed",function(n){a._remove(n.oldValue)},void 0,!1)])||this;return a._keys=[],a._groups={},a._getKey=i,a._sort=r,ce(e.iterator(),function(n){a._insert(n,i(n))}),a}return t.prototype._insert=function(e,i,r){if(this._groups[i]==null){this._groups[i]=[];var a=Nd(this._keys,this._sort,i),n=a.found,o=a.index;if(n)throw new Error("Key already exists: "+i);qu(this._keys,o,i)}r==null?this._groups[i].push(e):qu(this._groups[i],r,e)},t.prototype._remove=function(e){var i=this._getKey(e),r=this._groups[i];if(r!=null&&(Ye(r,e),r.length===0)){delete this._groups[i];var a=Nd(this._keys,this._sort,i),n=a.found,o=a.index;if(n)Ju(this._keys,o);else throw new Error("Key doesn't exist: "+i)}},t.prototype.iterator=function(){var e=this;return OT(xy(sl(this._keys),function(i){return sl(e._groups[i])}))},t}(Vt);var Tt=function(s){N(t,s);function t(e,i){i===void 0&&(i=!0);var r=this;if(i){var a=e.events.on("removed",function(n){n.oldValue.dispose()},void 0,!1);r=s.call(this,function(){a.dispose(),ce(e.iterator(),function(n){n.dispose()})})||this}else r=s.call(this,function(){ce(e.iterator(),function(n){n.dispose()})})||this;return r}return t}(Ft);function ap(s,t){if(!(s>=0&&s<t))throw new Error("Index out of bounds: "+s)}var gt=function(){function s(t){t===void 0&&(t=[]),this.events=new Ga,this._values=t}return Object.defineProperty(s.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),s.prototype.contains=function(t){return this._values.indexOf(t)!==-1},s.prototype.removeValue=function(t){for(var e=0,i=this._values.length;e<i;)this._values[e]===t?(this.removeIndex(e),--i):++e},s.prototype.indexOf=function(t){return Ms(this._values,t)},Object.defineProperty(s.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),s.prototype.hasIndex=function(t){return t>=0&&t<this._values.length},s.prototype.getIndex=function(t){return this._values[t]},s.prototype.setIndex=function(t,e){ap(t,this._values.length);var i=this._values[t];return i!==e&&(this._values[t]=e,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:t,oldValue:i,newValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e})),i},s.prototype.insertIndex=function(t,e){ap(t,this._values.length+1),qu(this._values,t,e),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:t,newValue:e}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e})},s.prototype._sortQuicksort=function(t,e,i){if(t<e){var r=this._sortPartition(t,e,i);this._sortQuicksort(t,r,i),this._sortQuicksort(r+1,e,i)}},s.prototype._sortPartition=function(t,e,i){for(var r=this._values,a=r[t],n=t-1,o=e+1;;){do++n;while(i(r[n],a)<0);do--o;while(i(r[o],a)>0);if(n>=o)return o;this.swap(n,o)}},s.prototype.sort=function(t){this._sortQuicksort(0,this._values.length-1,t)},s.prototype.swap=function(t,e){var i=this._values.length;if(ap(t,i),ap(e,i),t!==e){var r=this._values[t],a=this._values[e];this._values[t]=a,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:t,oldValue:r,newValue:a}),this._values[e]=r,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:e,oldValue:a,newValue:r})}},s.prototype.removeIndex=function(t){ap(t,this._values.length);var e=this._values[t];return Ju(this._values,t),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:t,oldValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:e}),e},s.prototype.moveValue=function(t,e){var i=this.indexOf(t);if(i!==-1){var r=this._values[i];Ju(this._values,i),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:i,oldValue:r})}e==null?(e=this._values.length,this._values.push(t)):qu(this._values,e,t),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t}),i===-1&&this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:t})},s.prototype.push=function(t){var e=this._values.push(t)-1;return this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:t}),t},s.prototype.unshift=function(t){this.insertIndex(0,t)},s.prototype.pushAll=function(t){var e=this;we(t,function(i){e.push(i)})},s.prototype.copyFrom=function(t){this.pushAll(t._values)},s.prototype.pop=function(){var t=this._values.length-1;return t<0?void 0:this.removeIndex(this._values.length-1)},s.prototype.shift=function(){return this._values.length?this.removeIndex(0):void 0},s.prototype.setAll=function(t){var e=this,i=Wl(this._values);this._values.length=0,we(t,function(r){e._values.push(r)}),this.events.isEnabled("setAll")&&this.events.dispatchImmediately("setAll",{type:"setAll",target:this,oldArray:i,newArray:this._values}),this.events.isEnabled("removed")&&we(i,function(r){e.events.dispatchImmediately("removed",{type:"removed",target:e,oldValue:r})}),this.events.isEnabled("inserted")&&we(this._values,function(r){e.events.dispatchImmediately("inserted",{type:"inserted",target:e,newValue:r})})},s.prototype.clear=function(){this.setAll([])},s.prototype.iterator=function(){return sl(this._values)},s.prototype[Symbol.iterator]=function(){var t,e;return ti(this,function(i){switch(i.label){case 0:t=this._values.length,e=0,i.label=1;case 1:return e<t?[4,this._values[e]]:[3,4];case 2:i.sent(),i.label=3;case 3:return++e,[3,1];case 4:return[2]}})},s.prototype.each=function(t){we(this._values,t)},s.prototype.range=function(t,e){if(t<=e){var i=e-t;return t=Math.max(t,0),e=Math.min(t+i,this._values.length),new E_(this._values,t,e)}else throw new Error("Start index must be lower than end index")},s.prototype.backwards=function(){return new E_(this._values,this._values.length,0)},s}();var zt=function(s){N(t,s);function t(e){var i=s.call(this)||this;return i.template=e,i}return Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;ce(e.iterator(),function(r){i.push(r.clone())})},t.prototype.create=function(e){var i=e!=null?new e:this.template.clone();return this.push(i),i},t.prototype.clone=function(){for(var e=new t(this.template),i=this.values,r=i.length,a=0;a<r;++a)e.push(i[a].clone());return e},t}(gt);var M_=function(){function s(t){this._values=[],this.events=new Ga,t!=null&&this.setAll(t)}return Object.defineProperty(s.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),s.prototype._insert=function(t){return this._values.push(t),this._values.length-1},Object.defineProperty(s.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),s.prototype.indexOf=function(t){return Ms(this._values,t)},s.prototype.contains=function(t){return this.indexOf(t)!==-1},s.prototype.getIndex=function(t){return this._values[t]},Object.defineProperty(s.prototype,"first",{get:function(){return this._values[0]},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"last",{get:function(){return this._values[this._values.length-1]},enumerable:!0,configurable:!0}),s.prototype.insert=function(t){var e=this._insert(t);this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,index:e,newValue:t})},s.prototype.remove=function(t){var e=this.indexOf(t);if(e!==-1){var i=this._values[e];Ju(this._values,e),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,index:e,oldValue:i})}},s.prototype.setAll=function(t){var e=this;yT(this._values,function(i,r){e._values.pop(),e.events.isEnabled("removed")&&e.events.dispatchImmediately("removed",{type:"removed",target:e,index:r,oldValue:i})}),we(t,function(i){e.insert(i)})},s.prototype.clear=function(){this.setAll([])},s.prototype.slice=function(t,e){var i=new s;return i._values=this._values.slice(t,e),i},s.prototype.findClosestIndex=function(t,e,i){i===void 0&&(i="any");var r=-1,a,n,o=0;return Qr(this.iterator(),function(l){var u=e(l);if(i==="any"){if(u===t)return r=o,!1;var h=Math.abs(t-u);(!V(n)||n>h)&&(r=o,a=u,n=h)}else i==="left"&&u<t?(!V(a)||a<u)&&(r=o,a=u):i==="right"&&u>=t&&(!V(a)||a>=u)&&(r=o,a=u);return++o,!0}),r===-1&&(i==="left"?r=0:i==="right"&&(r=this.length-1)),r},s.prototype.iterator=function(){return sl(this._values)},s.prototype[Symbol.iterator]=function(){var t,e;return ti(this,function(i){switch(i.label){case 0:t=this._values.length,e=0,i.label=1;case 1:return e<t?[4,this._values[e]]:[3,4];case 2:i.sent(),i.label=3;case 3:return++e,[3,1];case 4:return[2]}})},s.prototype.each=function(t){we(this._values,t)},s}();var np=function(s){N(t,s);function t(e){var i=s.call(this)||this;return i._ordering=e,i}return t.prototype._insert=function(e){var i=Nd(this._values,this._ordering,e).index;return qu(this._values,i,e),i},t.prototype.indexOf=function(e){var i=Nd(this._values,this._ordering,e),r=i.found,a=i.index;return r?a:-1},t.prototype.update=function(e){var i=Ms(this._values,e);if(i!==-1){var r=this._values.length-1;(i===0||this._ordering(this._values[i-1],e)<0)&&(i===r||this._ordering(e,this._values[i+1])<0)||(Ju(this._values,i),this._insert(e))}},t}(M_);var th=function(s){N(t,s);function t(e){var i=s.call(this)||this;return i.template=e,i}return Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;ce(e.iterator(),function(r){i.insert(r.clone())})},t.prototype.slice=function(e,i){var r=new t(this.template);return r._values=this._values.slice(e,i),r},t.prototype.create=function(e){var i=e!=null?new e:this.template.clone();return this.insert(i),i},t}(M_);var op=function(s){N(t,s);function t(e,i){var r=s.call(this,i)||this;return r.template=e,r}return Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;ce(e.iterator(),function(r){i.insert(r.clone())})},t.prototype.create=function(e){var i=e!=null?new e:this.template.clone();return this.insert(i),i},t}(np);function La(s,t){return s===t?0:s<t?-1:1}function Xd(s){switch(s){case 0:return 0;case-1:return 1;case 1:return-1}}function _y(s,t){return s===0?t:s}var ET=function(){function s(){this._callbackId=0,this._callbacks=new np(function(t,e){return _y(La(t.priority,e.priority),La(t.id,e.id))})}return s.prototype.addAll=function(t,e,i,r,a){r===void 0&&(r=0),this._callbacks.insert({id:++this._callbackId,key:e,callback:i,priority:r,scope:a,type:t})},s.prototype.isEnabled=function(t,e){return Jf(this._callbacks.values,function(i){return i.key===e&&t instanceof i.type})},s.prototype.applyAll=function(t,e,i){var r=this._callbacks.values,a=r.length;if(a==0)return i;for(var n=0;n<a;++n){var o=r[n];o.key===e&&t instanceof o.type&&(i=o.callback.call(o.scope,i,t,e))}return i},s}();var lp=new ET,mr=function(){function s(t){this._callbackId=0,this._callbacks=new np(function(e,i){return _y(La(e.priority,i.priority),La(e.id,i.id))}),this._disabled={},this.object=t,this.events=this._callbacks.events}return s.prototype.add=function(t,e,i,r){i===void 0&&(i=0),this._callbacks.insert({id:++this._callbackId,key:t,callback:e,priority:i,scope:r})},s.prototype.has=function(t,e,i,r){return i===void 0&&(i=0),Hd(this._callbacks.iterator(),function(a){return a.key===t&&a.callback===e&&a.priority===i&&a.scope===r})},s.prototype.remove=function(t,e){var i=this;we(uc(this._callbacks.iterator()),function(r){r.key===t&&(!I(e)||e===r.priority)&&i._callbacks.remove(r)})},s.prototype.enableKey=function(t){delete this._disabled[t]},s.prototype.disableKey=function(t,e){e===void 0&&(e=1/0),this._disabled[t]=e},s.prototype._hasListenersByType=function(t){return Jf(this._callbacks.values,function(e){return e.key===t})},s.prototype.isEnabled=function(t){return this._disabled[t]==null&&(this._hasListenersByType(t)||lp.isEnabled(this.object,t))},s.prototype._shouldDispatch=function(t){var e=this._disabled[t];return I(e)?(e<=1?delete this._disabled[t]:--this._disabled[t],!1):!0},s.prototype.apply=function(t,e){if(this._shouldDispatch(t)){var i=this._callbacks.values,r=i.length;if(r>0)for(var a=0;a<r;++a){var n=i[a];n.key===t&&(e=n.callback.call(n.scope,e,this.object,t))}return e=lp.applyAll(this.object,t,e),e}else return e},s.prototype.keys=function(){return uc(xy(this._callbacks.iterator(),function(t){return t.key}))},s.prototype.copyFrom=function(t){var e=this;ce(t._callbacks.iterator(),function(i){e.add(i.key,i.callback,i.priority,i.scope)}),Ue(t._disabled,function(i,r){e._disabled[i]=r})},s.prototype.clear=function(){this._callbacks.clear()},s}();var MT={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgrey:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},grey:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgrey:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},rebeccapurple:{r:102,g:51,b:153},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};function RT(s,t){var e;return MT[s]?e=MT[s]:s.charAt(0)==="#"?e=qU(s):s.match(/^rgba?\(/)&&(e=eV(s)),e||(e={r:0,g:0,b:0,a:1}),V(t)&&(e.a=t),e}function qU(s){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;s=s.replace(t,function(i,r,a,n){return r+r+a+a+n+n});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:JU(s)}function JU(s){var t=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i;s=s.replace(t,function(i,r,a,n,o){return r+r+a+a+n+n+o+o});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:parseInt(e[4],16)/256}:void 0}function eV(s){s=s.replace(/[ ]/g,"");var t=s.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(t)t.push("1");else if(t=s.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!t)return;return{r:parseInt(t[1]),g:parseInt(t[2]),b:parseInt(t[3]),a:parseFloat(t[4])}}function UT(s){return"#"+U_(s.r.toString(16))+U_(s.g.toString(16))+U_(s.b.toString(16))}function VT(s){return V(s.a)&&s.a!==1?"rgba("+s.r+","+s.g+","+s.b+","+s.a+")":"rgb("+s.r+","+s.g+","+s.b+")"}function U_(s){return s.length==1?"0"+s:""+s}function cc(s,t,e){return e=De(e,0,1),s?t?{r:s.r+Math.round((t.r-s.r)*e),g:s.g+Math.round((t.g-s.g)*e),b:s.b+Math.round((t.b-s.b)*e),a:(s.a||1)+Math.round(((t.a||1)-(s.a||1))*e)}:s:t||s}function NT(s,t){return s&&{r:Math.max(0,Math.min(255,s.r+wy(s.r,t))),g:Math.max(0,Math.min(255,s.g+wy(s.g,t))),b:Math.max(0,Math.min(255,s.b+wy(s.b,t))),a:s.a}}function wy(s,t){var e=t>0?255-s:s;return Math.round(e*t)}function QT(s,t){if(s){var e=Math.min(Math.max(s.r,s.g,s.b),230),i=wy(e,t);return{r:Math.max(0,Math.min(255,Math.round(s.r+i))),g:Math.max(0,Math.min(255,Math.round(s.g+i))),b:Math.max(0,Math.min(255,Math.round(s.b+i))),a:s.a}}else return s}function HT(s,t){if(s==null||t==1)return s;var e=up(s);return e.s=t,V_(e)}function V_(s){var t,e,i,r=s.h,a=s.s,n=s.l;if(a==0)t=e=i=n;else{var o=function(c,A,d){return d<0&&(d+=1),d>1&&(d-=1),d<.16666666666666666?c+(A-c)*6*d:d<.5?A:d<.6666666666666666?c+(A-c)*(.6666666666666666-d)*6:c},l=n<.5?n*(1+a):n+a-n*a,u=2*n-l;t=o(u,l,r+1/3),e=o(u,l,r),i=o(u,l,r-1/3)}return{r:Math.round(t*255),g:Math.round(e*255),b:Math.round(i*255)}}function up(s){var t=s.r/255,e=s.g/255,i=s.b/255,r=Math.max(t,e,i),a=Math.min(t,e,i),n=0,o=0,l=(r+a)/2;if(r===a)n=o=0;else{var u=r-a;switch(o=l>.5?u/(2-r-a):u/(r+a),r){case t:n=(e-i)/u+(e<i?6:0);break;case e:n=(i-t)/u+2;break;case i:n=(t-e)/u+4;break}n/=6}return{h:n,s:o,l}}function Cy(s){return(s.r*299+s.g*587+s.b*114)/1e3>=128}var xt=function(){function s(t){this._value=t}return Object.defineProperty(s.prototype,"rgb",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hex",{get:function(){return this._value?UT(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rgba",{get:function(){return this._value?VT(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"alpha",{get:function(){return this._value!=null&&this._value.a!=null?this._value.a:1},set:function(t){this._value&&(this._value.a=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"lightColor",{get:function(){return this._lightColor||(this._lightColor=new s({r:255,g:255,b:255})),this._lightColor},set:function(t){this._lightColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"darkColor",{get:function(){return this._darkColor||(this._darkColor=new s({r:0,g:0,b:0})),this._darkColor},set:function(t){this._darkColor=t},enumerable:!0,configurable:!0}),s.prototype.toString=function(){return this.alpha<1?this.rgba:this.hex},s.prototype.lighten=function(t){return new s(NT(this.rgb,t))},s.prototype.brighten=function(t){return new s(QT(this.rgb,t))},s.prototype.saturate=function(t){return new s(HT(this.rgb,t))},Object.defineProperty(s.prototype,"alternative",{get:function(){if(this.rgb!=null)return Cy(this.rgb)?this.darkColor:this.lightColor;throw new Error("Color does not exist")},enumerable:!0,configurable:!0}),s}();function Ve(s,t){if(!V(s))return new xt(void 0);if(typeof s=="string"){var e="_color_"+s+"_"+(t||"1"),i=M.getCache(e);if(i)return new xt({r:i.r,g:i.g,b:i.b,a:i.a});var r=RT(s,t);return M.setCache(e,r),new xt(r)}return s instanceof xt?(V(t)&&(s.alpha=t),s):new xt(s)}function jT(s){return s instanceof xt}function XT(s){return Ve(s)}function ra(s){return V(s)&&!jT(s)?XT(s):s}var Hi=function(){function s(){this._disposed=!1,this._disposers=[],this.className="BaseObject"}return s.prototype.debug=function(){},Object.defineProperty(s.prototype,"uid",{get:function(){return this._uid||(this._uid=M.getUniqueId(),M.map.setKey(this._uid,this)),this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"map",{get:function(){return this._map||(this._map=new Rt),this._map},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"delayedMap",{get:function(){return this._delayedMap||(this._delayedMap=new Rt),this._delayedMap},enumerable:!0,configurable:!0}),s.prototype.addDelayedMap=function(t,e){var i=this.delayedMap;i.hasKey(e)||i.setKey(e,[]);var r=i.getKey(e);r.push({property:t,target:this})},s.prototype.processDelayedMap=function(){var t=this;this.delayedMap.each(function(e,i){if(t.map.hasKey(e)){var r=t.map.getKey(e);we(i,function(a){a.target[a.property]=r}),t.delayedMap.removeKey(e)}})},s.prototype.applyTheme=function(){var t=this;if(M){var e=this.getCurrentThemes();e&&we(e,function(i,r){i(t)})}},Object.defineProperty(s.prototype,"themes",{get:function(){return this._themes},set:function(t){this._themes=t},enumerable:!0,configurable:!0}),s.prototype.getCurrentThemes=function(){return this.themes||M.themes},s.prototype.isDisposed=function(){return this._disposed},s.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._disposers;for(this._disposers=null;t.length!==0;){var e=t.shift();e.dispose()}this.clearCache(),this.clonedFrom&&this.clonedFrom.clones.removeValue(this);var i=this._uid;i!=null&&M.map.removeKey(i)}},s.prototype.addDisposer=function(t){this._disposers.push(t)},s.prototype.removeDispose=function(t){if(!this._disposed){var e=Ms(this._disposers,t);e>-1&&this._disposers.splice(e,1)}t.dispose()},s.prototype.clone=function(t){t||(t="clone-"+M.getUniqueId());var e=new this.constructor;return e.cloneId=t,e.copyFrom(this),e},Object.defineProperty(s.prototype,"clones",{get:function(){return this._clones||(this._clones=new gt),this._clones},enumerable:!0,configurable:!0}),s.prototype.copyFrom=function(t){t.clones.push(this),this.clonedFrom=t},Object.defineProperty(s.prototype,"className",{get:function(){return this._className},set:function(t){this._className=t},enumerable:!0,configurable:!0}),s.prototype.setCache=function(t,e,i){eh.set(this.uid,t,e,i)},s.prototype.getCache=function(t,e){return e===void 0&&(e=void 0),eh.get(this.uid,t,e)},s.prototype.clearCache=function(){eh.clear(this.uid)},s.prototype.setTimeout=function(t,e){var i=this,r=setTimeout(function(){i.removeDispose(a),t()},e),a=new Ft(function(){clearTimeout(r)});return this._disposers.push(a),a},s.prototype.setInterval=function(t,e){var i=this,r=setInterval(function(){i.removeDispose(a),t()},e),a=new Ft(function(){clearTimeout(r)});return this._disposers.push(a),a},Object.defineProperty(s.prototype,"config",{set:function(t){try{this.processConfig(t)}catch(e){this.raiseCriticalError(e)}},enumerable:!0,configurable:!0}),s.prototype.processConfig=function(t){var e=this;if(t){var i=this;if(ho(t,function(a,n){var o=n;if(a=="callback"&&typeof n=="function"&&n.call(i),e.hasProperty(a)){var l;if(ri(o)&&V(o.type)&&(!ri(i[a])||!V(i[a].className)||o.forceCreate||i[a].className!=o.type)&&!e.asIs(a)?(l=e.createClassInstance(o.type),l?i[a]=l:l=i[a]):l=i[a],l instanceof mr)e.processAdapters(l,o);else if(l instanceof Ga)e.processEvents(l,o);else if(a=="locale"&&ut(o))window["am4lang_"+o]&&(i[a]=window["am4lang_"+o]);else if(a=="parent"&&ut(o)){var u=e.map.getKey(o);u?i[a]=u:e.addDelayedMap("parent",o)}else if(e.asIs(a))i[a]=o;else if(e.asFunction(a)&&ut(o))if(V(M.registeredClasses[o]))i[a]=M.registeredClasses[o];else throw Error("Invalid easing function: "+o);else if(o instanceof s)i[a]=o;else if(l instanceof s)l.config=o;else if(l instanceof zt||l instanceof th||l instanceof op){if(bi(o))l instanceof zt?e.processListTemplate(o,l):e.processOrderedTemplate(o,l);else if(ri(o))if(o instanceof s)l.template=o;else{var h=void 0;V(o.template)?h=o.template:h=o,l.template instanceof s?l.template.config=h:Ue(h,function(c,A){var d=l.template[c];d instanceof mr?e.processAdapters(d,A):d instanceof Ga?e.processEvents(d,A):d instanceof al?e.processDictionaryTemplate(d,A):l.template[c]instanceof s?l.template[c].config=A:ri(A)&&V(A.type)?(d=e.createClassInstance(A.type),d?(d instanceof s&&(d.config=A),l.template[c]=d):l.template[c]=A):d instanceof gt?e.processList(A,d):l.template[c]=e.maybeColorOrPercent(A)}),V(o.values)&&(l instanceof zt?e.processListTemplate(o.values,l):e.processOrderedTemplate(o.values,l))}}else l instanceof gt?a=="children"?e.processList(o,l,e):e.processList(o,l):l instanceof al?e.processDictionaryTemplate(l,o):l instanceof Rt?e.processDictionary(l,o):l instanceof xt||l instanceof qe?i[a]=e.maybeColorOrPercent(o):ri(l)&&ri(o)?Qd(o,l):(o=e.maybeColorOrPercent(o),i[a]=o)}else e.isReserved(a)||(i[a]=o)},this.configOrder),this.processingErrors.length){var r=this.processingErrors.join(`
`);throw this._processingErrors=[],Error(r)}}},s.prototype.maybeColorOrPercent=function(t){if(ut(t)){if(t.match(/^[\-]?[0-9.]+\%$/))return ue(Gt(t));if(t.match(/^\#[0-9abcdef]{3,}$/i))return Ve(t)}return t},s.prototype.processAdapters=function(t,e){var i=this;bi(e)?we(e,function(r,a){t.add(r.key,r.callback,r.priority||0,i)}):ri(e)&&Ue(e,function(r,a){t.has(r,a)||t.add(r,a)})},s.prototype.processEvents=function(t,e){var i=this;bi(e)?we(e,function(r,a){t.on(r.type,r.callback,i)}):ri(e)&&Ue(e,function(r,a){t.has(r,a)||t.on(r,a)})},s.prototype.processDictionaryTemplate=function(t,e){ri(e)&&Ue(e,function(i,r){var a;i=="template"?a=t.template:t.hasKey(i)?a=t.getKey(i):a=t.create(i),a instanceof s?a.config=r:ri(a)&&ri(r)?Qd(r,a):a.setKey(i,r)})},s.prototype.processDictionary=function(t,e){ri(e)&&Ue(e,function(i,r){t.setKey(i,r)})},s.prototype.processListTemplate=function(t,e){var i=this;for(we(t,function(r,a){var n=i.getConfigEntryType(r),o;if(e.hasIndex(a)&&!r.forceCreate)o=e.getIndex(a);else if(r instanceof s){e.push(r);return}else n?o=e.create(n):o=e.create();r===o||ri(r)&&(o instanceof s?o.config=r:ri(o)&&ri(r)?Qd(r,o):e.setIndex(e.indexOf(o),r))});t.length>e.length;)e.pop()},s.prototype.processOrderedTemplate=function(t,e){var i=this;we(t,function(r,a){var n=i.getConfigEntryType(r),o;n?o=e.create(n):o=e.create(),ri(r)&&(o instanceof s?o.config=r:ri(o)&&ri(r)?Qd(r,o):e.insert(r))})},s.prototype.processList=function(t,e,i){var r=this;bi(t)||(t=[t]);var a=e.length,n=0;for(we(t,function(o,l){if(ri(o)){var u=void 0;if(l<a&&!o.forceCreate)u=e.getIndex(l);else if(o instanceof s){e.push(o);return}else n++,u=r.createEntryInstance(o),i?u.parent=i:e.push(u);u instanceof s?u.config=o:ri(u)&&ri(o)&&Qd(o,u)}else e.hasIndex(l)?e.setIndex(l,o):e.push(o)});!i&&t.length+n<e.length;)e.pop()},s.prototype.configOrder=function(t,e){return t==e?0:t=="language"?-1:e=="language"?1:0},s.prototype.asIs=function(t){return Ms(["locale"],t)!=-1},s.prototype.asFunction=function(t){return!1},s.prototype.createClassInstance=function(t){if(V(M.registeredClasses[t]))return new M.registeredClasses[t];throw Error('Invalid type: "'+t+'".')},s.prototype.createEntryInstance=function(t){var e;return V(t.type)&&(e=this.createClassInstance(t.type)),e||t},s.prototype.getConfigEntryType=function(t){if(V(t.type)){if(V(M.registeredClasses[t.type]))return M.registeredClasses[t.type];throw Error('Invalid type: "'+t.type+'".')}},s.prototype.hasProperty=function(t){return t in this},s.prototype.isReserved=function(t){return["type","forceCreate"].indexOf(t)!==-1},Object.defineProperty(s.prototype,"processingErrors",{get:function(){return this._processingErrors||(this._processingErrors=[]),this._processingErrors},enumerable:!0,configurable:!0}),s}();var ls=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="BaseObjectEvents",e}return Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher||(this._eventDispatcher=new Ga,this._disposers.push(this._eventDispatcher)),this._eventDispatcher},enumerable:!0,configurable:!0}),t.prototype.dispatch=function(e,i){this._eventDispatcher&&this.events.isEnabled(e)&&(i?(i.type=e,i.target=i.target||this,this.events.dispatch(e,{type:e,target:this})):this.events.dispatch(e,{type:e,target:this}))},t.prototype.dispatchImmediately=function(e,i){this._eventDispatcher&&this.events.isEnabled(e)&&(i?(i.type=e,i.target=i.target||this,this.events.dispatchImmediately(e,i)):this.events.dispatchImmediately(e,{type:e,target:this}))},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),e._eventDispatcher&&this.events.copyFrom(e._eventDispatcher)},t}(Hi);var Dt={};aU(Dt,{anyToDate:()=>dp,anyToNumber:()=>qd,camelToDashed:()=>sV,capitalize:()=>mc,cleanFormat:()=>rh,copy:()=>j_,copyProperties:()=>ma,decimalPlaces:()=>tw,documentPointToSprite:()=>nl,documentPointToSvg:()=>co,escapeForRgex:()=>Yd,fitNumber:()=>Ap,fitNumberRelative:()=>fp,get12Hours:()=>Jd,getBaseURI:()=>ih,getDayFromWeek:()=>Z_,getFormat:()=>G_,getMonthWeek:()=>K_,getPixelRatio:()=>X_,getTimeZone:()=>eA,getWeek:()=>Gd,getWeekYear:()=>q_,getYearDay:()=>Ty,height:()=>ew,isIE:()=>ol,isNotEmpty:()=>pc,joinUrl:()=>pp,ltrim:()=>z_,numberToString:()=>Y_,padString:()=>us,parseUrl:()=>Q_,plainText:()=>Zd,random:()=>nV,relativeRadiusToValue:()=>or,relativeToValue:()=>oi,reverseString:()=>Sy,rtrim:()=>W_,serializeUrl:()=>H_,softCopyProperties:()=>iV,splitTextByCharCount:()=>hp,spritePointToDocument:()=>tA,spritePointToSprite:()=>Yr,spritePointToSvg:()=>sa,spriteRectToSvg:()=>gc,stringify:()=>Py,stripHash:()=>N_,stripTags:()=>Fy,svgPointToDocument:()=>Dy,svgPointToSprite:()=>Ps,svgRectToSprite:()=>oV,trim:()=>cp,truncateWithEllipsis:()=>Kd,unquote:()=>aV,used:()=>Un,valueToRelative:()=>rV,width:()=>J_});function WT(){return/apple/i.test(navigator.vendor)}function zT(){return/MSIE |Trident\//.test(navigator.userAgent)}var By="string",dc="number",Ac="date",zd="duration",ms="__\xA7\xA7\xA7__",Yl="__\xA7\xA7\xA7\xA7__";function Un(s){}function ma(s,t){return Ue(s,function(e,i){V(i)&&(t[e]=i)}),t}function N_(s){return/^[^#]*/.exec(s)[0]}function ih(){var s="#";if(WT()){var t=document.baseURI;if(t){t=N_(t);var e=N_(location.href);t!==e&&(s=e+s)}}return s}function iV(s,t){return Ue(s,function(e,i){V(i)&&!V(t[e])&&(t[e]=i)}),t}function j_(s,t){return Ue(s,function(e,i){t[e]=i}),t}function pc(s){return V(s)&&s.toString()!==""}function oi(s,t){return I(s)?s:s!=null&&I(s.value)&&I(t)?t*s.value:0}function or(s,t,e){var i;return I(s)?(i=s,i<0&&(e?i=t+i:i=t-i)):s!=null&&I(s.value)&&(i=t*s.value),i}function rV(s,t){return s instanceof qe?s.value:s/t}function X_(){var s=window.devicePixelRatio||1;return s}function sV(s){return s.replace(/\W+/g,"-").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()}function mc(s){var t=s.split("");return t[0]=t[0].toUpperCase(),t.join("")}function Py(s){return JSON.stringify(s)}function Yd(s){return s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function hp(s,t,e,i,r){if(s.length<=t)return[s];var a=[];if(e){for(var n=-1,o=s.replace(/([,;:!?\\\/]+|[\s])/g,ms+"$1"+ms),l=o.split(ms),u=1;u<l.length;u++){var h=l[u];(h=="."||h==",")&&l[u-1].match(/[\w]+$/)&&(l[u-1]+=h,l[u]="")}for(var u=0;u<l.length;u++){var h=l[u],c=h.length;if(c!==0){if(c>t&&(e!==!0||r!=!1)){i&&(h=Sy(h));var A=h.match(new RegExp(".{1,"+t+"}","g"));if(A){if(i)for(var d=0;d<A.length;d++)A[d]=Sy(A[d]);a=a.concat(A)}}else n===-1&&(a.push(""),n=0),a[n].length+c+1>t&&a[n]!==""&&(a.push(""),n++),a[n]+=h;n=a.length-1}}}else{var A=s.match(new RegExp(".{1,"+t+"}","g"));if(A){if(i)for(var d=0;d<A.length;d++)i||(A[d]=Sy(A[d]));a=A}}return a.length==1&&e&&r&&a[0].length>t&&(a=[]),a}function Kd(s,t,e,i,r){if(s.length<=t)return s;t-=e.length,t<1&&(t=1);var a=hp(s,t,i,r);return(a[0]||"")+e}function cp(s){return s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function W_(s){return s.replace(/[\s\uFEFF\xA0]+$/g,"")}function z_(s){return s.replace(/^[\s\uFEFF\xA0]+/g,"")}function Sy(s){return s.split("").reverse().join("")}function aV(s){var t=s.trim();return t=s.replace(/^'(.*)'$/,"$1"),t==s&&(t=s.replace(/^"(.*)"$/,"$1")),t}function us(s,t,e){return t===void 0&&(t=0),e===void 0&&(e="0"),typeof s!="string"&&(s=s.toString()),t>s.length?Array(t-s.length+1).join(e)+s:s}function G_(s){if(typeof s>"u")return By;s=s.toLowerCase().replace(/^\[[^\]]*\]/,""),s=s.replace(/\[[^\]]+\]/,""),s=s.trim();var t=s.match(/\/(date|number|duration)$/);return t?t[1]:s===dc?dc:s===Ac?Ac:s===zd?zd:s.match(/[#0]/)?dc:s.match(/[ymwdhnsqaxkzgtei]/)?Ac:By}function rh(s){return s.replace(/\/(date|number|duration)$/i,"")}function Fy(s){return s&&s.replace(/<[^>]*>/g,"")}function Zd(s){return s&&Fy((""+s).replace(/[\n\r]+/g,". "))}function Y_(s){if(Rr(s))return"NaN";if(s===1/0)return"Infinity";if(s===-1/0)return"-Infinity";if(s===0&&1/s===-1/0)return"-0";var t=s<0;s=Math.abs(s);var e=fi(/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+s)),i=e[1],r=e[2]||"",a;if(e[3]==null)a=r===""?i:i+"."+r;else{var n=+e[3];if(s<1){var o=n-1;a="0."+k_("0",o)+i+r}else{var o=n-r.length;o===0?a=i+r:o<0?a=i+r.slice(0,o)+"."+r.slice(o):a=i+r+k_("0",o)}}return t?"-"+a:a}function dp(s){if(Zu(s)){var t=new Date(s);return t.setMilliseconds(s.getMilliseconds()),t}else{if(I(s))return new Date(s);var e=Number(s);return I(e)?new Date(e):new Date(s)}}function qd(s){if(Zu(s))return s.getTime();if(I(s))return s;if(ut(s)){var t=Number(s);return I(t)?t:void 0}}function Ty(s,t){t===void 0&&(t=!1);var e=new Date(s.getFullYear(),0,0),i=s.getTime()-e.getTime()+(e.getTimezoneOffset()-s.getTimezoneOffset())*60*1e3,r=1e3*60*60*24;return Math.floor(i/r)}function Gd(s,t){t===void 0&&(t=!1);var e=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate())),i=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-i);var r=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-r.getTime())/864e5+1)/7)}function K_(s,t){t===void 0&&(t=!1);var e=Gd(new Date(s.getFullYear(),s.getMonth(),1),t),i=Gd(s,t);return i==1&&(i=53),i-e+1}function Z_(s,t,e,i){e===void 0&&(e=1),i===void 0&&(i=!1);var r=new Date(t,0,4,0,0,0,0);i&&r.setUTCFullYear(t);var a=s*7+e-((r.getDay()||7)+3);return a}function Jd(s,t){return s>12?s-=12:s===0&&(s=12),V(t)?s+(t-1):s}function eA(s,t,e,i){if(t===void 0&&(t=!1),e===void 0&&(e=!1),i===void 0&&(i=!1),i)return t?"Coordinated Universal Time":"UTC";var r=s.toLocaleString("UTC"),a=s.toLocaleString("UTC",{timeZoneName:t?"long":"short"}).substr(r.length);return e===!1&&(a=a.replace(/ (standard|daylight|summer|winter) /i," ")),a}function q_(s,t){t===void 0&&(t=!1);var e=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate())),i=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-i);var r=new Date(Date.UTC(e.getUTCFullYear(),0,1));return r.getFullYear()}function nV(s,t){return Math.floor(Math.random()*(t-s))+s}function Ap(s,t,e){return s>e?e:s<t?t:s}function fp(s,t,e){var i=e-t;return(s>e||s<t)&&(s=t+(s-i*Math.floor(s/i))),s}function Ps(s,t){var e=s.x,i=s.y,r=[];if(t){for(;V(t.parent);)r.push(t),t=t.parent;r.reverse();for(var a=0;a<r.length;a++){var n=r[a],o=n.rotation,l=e-n.pixelX-n.ex,u=i-n.pixelY-n.ey;n.dx&&(e-=n.dx),n.dy&&(i-=n.dy);var h=n.scale;n.group&&(h=n.group.scale),e=(Se(-o)*l-Be(-o)*u)/h-n.pixelPaddingLeft,i=(Se(-o)*u+Be(-o)*l)/h-n.pixelPaddingTop}}return{x:e,y:i}}function sa(s,t){var e=s.x,i=s.y;if(t)for(;V(t.parent);){var r=t.rotation;e+=t.pixelPaddingLeft+t.ex,i+=t.pixelPaddingTop+t.ey;var a=t.scale;t.group&&(a=t.group.scale);var n=t.pixelX+(e*Se(r)-i*Be(r))*a,o=t.pixelY+(e*Be(r)+i*Se(r))*a;t.dx&&(n+=t.dx),t.dy&&(o+=t.dy),e=n,i=o,t=t.parent}return{x:e,y:i}}function Yr(s,t,e){return Ps(sa(s,t),e)}function oV(s,t){var e=Ps(s,t),i=Ps({x:s.x+s.width,y:s.y+s.height},t);return{x:e.x,y:e.y,width:i.x-e.x,height:i.y-e.y}}function gc(s,t){var e=sa(s,t),i=sa({x:s.x+s.width,y:s.y+s.height},t);return{x:e.x,y:e.y,width:i.x-e.x,height:i.y-e.y}}function co(s,t,e){try{var i=t.getBoundingClientRect();return I(e)||(e=1),{x:(s.x-i.left)/e,y:(s.y-i.top)/e}}catch{return s}}function Dy(s,t){try{var e=t.getBoundingClientRect();return{x:s.x+e.left,y:s.y+e.top}}catch{return s}}function nl(s,t){if(t&&t.htmlContainer){var e=co(s,fi(t.htmlContainer),t.svgContainer.cssScale);return Ps(e,t)}else return s}function tA(s,t){if(t&&t.htmlContainer){var e=sa(s,t);return Dy(e,fi(t.htmlContainer))}else return s}function J_(s){var t=getComputedStyle(s),e=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),i=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth);return s.clientWidth-e-i}function ew(s){var t=getComputedStyle(s),e=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),i=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth);return s.clientHeight-e-i}function tw(s){var t=(""+s).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}var lV=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*:)?(?:(\/\/)([^\@]+\@)?([^\/\?\#\:]*)(\:[0-9]+)?)?([^\?\#]*)(\?[^\#]*)?(\#.*)?$/;function Q_(s){var t=lV.exec(s);return{protocol:t&&t[1]||"",separator:t&&t[2]||"",authority:t&&t[3]||"",domain:t&&t[4]||"",port:t&&t[5]||"",path:t&&t[6]||"",query:t&&t[7]||"",hash:t&&t[8]||""}}function H_(s){return s.protocol+s.separator+s.authority+s.domain+s.port+s.path+s.query+s.hash}function GT(s){return s.protocol===""&&s.separator===""&&s.authority===""&&s.domain===""&&s.port===""}function pp(s,t){var e=Q_(s),i=Q_(t);if(GT(e))throw new Error("Left URL is not absolute");if(GT(i)){if(i.path!=="")if(i.path[0]==="/")e.path=i.path;else{var r=e.path.split(/\//),a=i.path.split(/\//);if(r.length===0?a.length!==0&&r.push(""):r.length>1&&r.pop(),vT(r,a),e.path=r.join("/"),e.path!==""&&e.path[0]!=="/")throw new Error("URL path must start with /")}return e.query=i.query,e.hash=i.hash,H_(e)}else return H_(i)}function ol(){return!!window.MSInputMethodContext&&!!document.documentMode}function rw(s){return+s}M.registeredClasses["ease.linear"]=rw;function uV(s){return s*s}M.registeredClasses["ease.quadIn"]=uV;function hV(s){return s*(2-s)}M.registeredClasses["ease.quadOut"]=hV;function cV(s){return s*=2,(s<=1?s*s:--s*(2-s)+1)/2}M.registeredClasses["ease.quadInOut"]=cV;function YT(s,t){return Math.pow(s,t)}M.registeredClasses["ease.polyIn"]=YT;function KT(s,t){return 1-Math.pow(1-s,t)}M.registeredClasses["ease.polyOut"]=KT;function ZT(s,t){return s*=2,(s<=1?Math.pow(s,t):2-Math.pow(2-s,t))/2}M.registeredClasses["ease.polyInOut"]=ZT;function dV(s){return YT(s,3)}M.registeredClasses["ease.polyIn3"]=dV;function $y(s){return KT(s,3)}M.registeredClasses["ease.polyOut3"]=$y;function AV(s){return ZT(s,3)}M.registeredClasses["ease.polyInOut3"]=AV;function fV(s){return Math.pow(2,10*s-10)}M.registeredClasses["ease.expIn"]=fV;function pV(s){return 1-Math.pow(2,-10*s)}M.registeredClasses["ease.expOut"]=pV;function mV(s){return s*=2,(s<=1?Math.pow(2,10*s-10):2-Math.pow(2,10-10*s))/2}M.registeredClasses["ease.expInOut"]=mV;function gV(s){return 1-Math.cos(s*C_)}M.registeredClasses["ease.sinIn"]=gV;function sw(s){return Math.sin(s*C_)}M.registeredClasses["ease.sinOut"]=sw;function yV(s){return(1-Math.cos(Zf*s))/2}M.registeredClasses["ease.sinInOut"]=yV;function aw(s){return s*s*s}M.registeredClasses["ease.cubicIn"]=aw;function Vn(s){return--s*s*s+1}M.registeredClasses["ease.cubicOut"]=Vn;function bV(s){return s*=2,(s<=1?s*s*s:(s-=2)*s*s+2)/2}M.registeredClasses["ease.cubicInOut"]=bV;function vV(s){return 1-Math.sqrt(1-s*s)}M.registeredClasses["ease.circleIn"]=vV;function xV(s){return Math.sqrt(1- --s*s)}M.registeredClasses["ease.circleOut"]=xV;function _V(s){return s*=2,(s<=1?1-Math.sqrt(1-s*s):Math.sqrt(1-(s-=2)*s)+1)/2}M.registeredClasses["ease.circleInOut"]=_V;var iw=4/11,wV=6/11,CV=8/11,BV=3/4,SV=9/11,PV=10/11,FV=15/16,TV=21/22,DV=63/64,Oy=1/iw/iw;function OV(s){return 1-Ly(1-s)}M.registeredClasses["ease.bounceIn"]=OV;function Ly(s){return s=+s,s<iw?Oy*s*s:s<CV?Oy*(s-=wV)*s+BV:s<PV?Oy*(s-=SV)*s+FV:Oy*(s-=TV)*s+DV}M.registeredClasses["ease.bounceOut"]=Ly;function LV(s){return s*=2,(s<=1?1-Ly(1-s):Ly(s-1)+1)/2}M.registeredClasses["ease.bounceInOut"]=LV;var IV=2*Math.PI,mp=1,gp=.3/IV,Iy=Math.asin(1/mp)*gp;function $V(s){return mp*Math.pow(2,10*--s)*Math.sin((Iy-s)/gp)}M.registeredClasses["ease.elasticIn"]=$V;function kV(s){return 1-mp*Math.pow(2,-10*(s=+s))*Math.sin((s+Iy)/gp)}M.registeredClasses["ease.elasticOut"]=kV;function EV(s){return s=s*2-1,(s<0?mp*Math.pow(2,10*s)*Math.sin((Iy-s)/gp):2-mp*Math.pow(2,-10*s)*Math.sin((Iy+s)/gp))/2}M.registeredClasses["ease.elasticInOut"]=EV;var yc=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.transitionDuration=0,e.transitionEasing=Vn,e.properties={},e.propertyFields={},e.filters=new gt,e.isTemplate=!1,e.className="SpriteState",e._disposers.push(new Tt(e.filters)),e.applyTheme(),e}return Object.defineProperty(t.prototype,"adapter",{get:function(){var e=this;return this._adapterO||(this._adapterO=new mr(this),this._adapterO.events.on("inserted",function(i){e[i.newValue.key]=e[i.newValue.key]},void 0,!1),this._adapterO.events.on("removed",function(i){e[i.newValue.key]=e[i.newValue.key]},void 0,!1)),this._adapterO},enumerable:!0,configurable:!0}),t.prototype.getPropertyValue=function(e){var i=this.properties[e],r=this.sprite;if(r){var a=this.propertyFields[e];if(V(a)&&(r.dataItem&&(i=r.dataItem.dataContext[a]),i==null&&(i="__unset")),V(i))this._adapterO&&(i=this._adapterO.apply(e,i));else{var n=r.getPropertyValue(e);this._adapterO?i=this._adapterO.apply(e,n):i=n,i==n&&(i=void 0)}}return i},t.prototype.copyFrom=function(e){e&&e!=this&&(this.transitionDuration=e.transitionDuration,this.transitionEasing=e.transitionEasing,ma(e.properties,this.properties),ma(e.propertyFields,this.propertyFields),this.filters.copyFrom(e.filters),e._adapterO&&this.adapter.copyFrom(e._adapterO))},Object.defineProperty(t.prototype,"allValues",{get:function(){var e=this,i={};if(Ue(this.properties,function(n,o){i[n]=e.getPropertyValue(n)}),this._adapterO){var r=this._adapterO.keys();Ue(r,function(n,o){var l=e.getPropertyValue(o);i[o]=l})}var a=this.propertyFields;return Ue(a,function(n){var o=e.getPropertyValue(n);i[n]=o}),i},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.properties={},this.filters.clear()},t.prototype.processConfig=function(e){V(e)&&V(e.properties)&&Ue(e.properties,function(i,r){ut(r)&&(r.match(/^[0-9.\-]+\%$/)?e.properties[i]=ue(Gt(r)):r.match(/^\#[0-9abcdef]{3,}$/i)&&(e.properties[i]=ra(r)))}),s.prototype.processConfig.call(this,e)},t.prototype.asFunction=function(e){return e=="transitionEasing"||s.prototype.asIs.call(this,e)},t}(Hi);M.registeredClasses.SpriteState=yc;var nw=function(s){N(t,s);function t(){var e=s!==null&&s.apply(this,arguments)||this;return e._interactionEvents=new Rt,e}return t.prototype._dispatchSpriteEvent=function(e){if(!(this.target.disabled||this.target.isTemplate)&&this.target.events.isEnabled(e.type)){var i=ip(e,{target:this.target});this.target.events.dispatchImmediately(i.type,i)}},t.prototype._dispatchSpritePointEvent=function(e){if(!(this.target.disabled||this.target.isTemplate)&&this.target.events.isEnabled(e.type)){var i=ip(e,{target:this.target,spritePoint:e.point?nl(e.point,this.target):void 0,svgPoint:this.target.getSvgPoint(e.point)});this.target.events.dispatchImmediately(i.type,i)}},t.prototype._addInteractionObjectEvent=function(e,i,r,a){var n=this,o=a+"-"+e,l=this._interactionEvents.insertKeyIfEmpty(o,function(){var u=n.target.interactions.events.on(e,i,r,a);return new zl(function(){n._interactionEvents.removeKey(o),u.dispose()})});return l.increment()},t.prototype._on=function(e,i,r,a,n,o){var l=s.prototype._on.call(this,e,i,r,a,n,o),u=[l.disposer];switch(i){case"hit":case"track":case"doublehit":case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":u.push(this._addInteractionObjectEvent(i,this._dispatchSpritePointEvent,this,n));break;case"rightclick":case"down":case"up":case"drag":case"dragged":case"dragstart":case"dragstop":case"over":case"out":case"swipe":case"swipeleft":case"swiperight":case"resize":case"focus":case"blur":case"toggled":u.push(this._addInteractionObjectEvent(i,this._dispatchSpriteEvent,this,n));break}switch(i){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"toggled":this.target.togglable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":this.target.hoverable=!0;case"out":this.target.hoverable=!0;break;case"focus":case"blur":this.target.focusable=!0;break}return l.disposer=new Vt(u),l},t}(tp);var ow=function(){function s(){}return s.opacity=1,s.strokeOpacity=1,s.strokeWidth=1,s.fillOpacity=1,s.fill=Ve("#000000"),s.stroke=Ve("#000000"),s.focusable=void 0,s.tabindex=0,s}();var et={verbose:!0,commercialLicense:!1,classNamePrefix:"amcharts-",autoSetClassName:!1,minPolylineStep:.5,onlyShowOnViewport:!1,queue:!1,autoDispose:!1,licenses:[],suppressErrors:!1,suppressWarnings:!1,animationsEnabled:!0,nonce:"",deferredDelay:100,disableHoverOnTransform:"never",pixelPerfectPrecision:0};function qT(){for(var s=[],t=0;t<arguments.length;t++)s[t]=arguments[t];et.verbose&&console&&console.log.apply(console,Il(s))}function iA(){for(var s=[],t=0;t<arguments.length;t++)s[t]=arguments[t];et.suppressWarnings||console&&console.warn.apply(console,Il(s))}var JT=function(){function s(){this._isPaused=!1,this.animations=[],this.uid=M.getUniqueId(),this.dummyCounter=0,this._frameRequested=!1,this.updateStepDuration=45,this.time=Date.now()}return s.prototype.reportTime=function(t,e){this.dummyCounter<6,e&&(this.time=Date.now())},s.prototype.update=function(){var t=this;if(!this._isPaused){this._frameRequested=!1;var e=Date.now();M.dispatchImmediately("enterframe");var i=[];for(var r in M.invalidDatas)if(Mn(M.invalidDatas,r)){for(var a=M.invalidDatas[r];a.length>0;){var n=a[0],o=n.dataProvider;if(n.isDisposed())Ye(a,n);else if(o&&o.dataInvalid)try{if(o.validateData(),o.dataValidationProgress<1)break}catch(c){Ye(a,o),o.raiseCriticalError(c)}else try{if(n.validateData(),n.dataValidationProgress<1)break}catch(c){Ye(a,n),n.raiseCriticalError(c)}}if(Date.now()-e>this.updateStepDuration)break}for(;M.invalidRawDatas.length>0;){var n=M.invalidRawDatas[0];if(n.isDisposed())Ye(M.invalidRawDatas,n);else try{n.validateRawData()}catch(A){Ye(M.invalidRawDatas,n),n.raiseCriticalError(A)}}for(;M.invalidDataItems.length>0;){var n=M.invalidDataItems[0],o=n.dataProvider;if(!(n.isDisposed()||n.dataInvalid||o&&o.dataInvalid))try{n.validateDataItems()}catch(d){Ye(M.invalidDataItems,n),n.raiseCriticalError(d)}Ye(M.invalidDataItems,n)}for(;M.invalidDataRange.length>0;){var n=M.invalidDataRange[0],o=n.dataProvider;if(!(n.isDisposed()||n.dataInvalid||o&&o.dataInvalid))try{n.validateDataRange(),n.skipRangeEvent||n.dispatchImmediately("datarangechanged"),n.skipRangeEvent=!1}catch(d){Ye(M.invalidDataRange,n),n.raiseCriticalError(d)}Ye(M.invalidDataRange,n)}var l=[];Ue(M.invalidLayouts,function(c){t.validateLayouts(c)}),Ue(M.invalidPositions,function(c){t.validatePositions(c)});var u=!1;if(e=Date.now(),Ue(M.invalidSprites,function(c,A){for(var d=0;A.length>0;){if(t.validateLayouts(c),t.validatePositions(c),d++,d==5){if(Date.now()-e>t.updateStepDuration)break;d=0}var f=A[A.length-1];if(f&&!f.isDisposed()){if(!f._systemCheckIfValidate())l.push(f);else if(!t.checkIfValidate2(f))l.push(f);else try{f._systemUpdate(l)}catch(p){f.invalid=!1,Ye(A,f),f.raiseCriticalError(p)}f.invalid=!1}Ye(A,f)}M.invalidSprites[c]=M.invalidSprites[c].concat(l)}),Ue(M.invalidSprites,function(c,A){A.length>0&&(u=!0)}),Ue(M.invalidDatas,function(c,A){A.length>0&&(u=!0)}),we(Wl(this.animations),function(c){c.update()}),Ue(M.invalidLayouts,function(c){t.validateLayouts(c)}),Ue(M.invalidPositions,function(c){t.validatePositions(c)}),I_(),Ue(M.invalidLayouts,function(c){t.validateLayouts(c)}),Ue(M.invalidPositions,function(c){t.validatePositions(c)}),M.dispatchImmediately("exitframe"),(u||this.animations.length>0||i.length>0)&&this.requestFrame(),this.updateStepDuration<200){var h=!0;Ue(M.invalidDatas,function(c,A){A.length>0&&(h=!1)}),Ue(M.invalidSprites,function(c,A){A.length>0&&(h=!1)}),h&&(this.updateStepDuration=200)}}},s.prototype.checkIfValidate2=function(t){return!(t.dataItem&&t.dataItem.component&&t.dataItem.component.dataInvalid&&!t.dataItem.component.isTemplate)},s.prototype.requestFrame=function(){var t=this;this._frameRequested||(by(function(){t.update()}),this._frameRequested=!0)},s.prototype.softInvalidate=function(t){var e=this;t.children.each(function(i){i instanceof Fe&&e.softInvalidate(i),i.measureFailed&&(Ss(i,"Label")?i.hardInvalidate():i.invalidate(),i.measureFailed=!1)})},s.prototype.validatePositions=function(t){for(var e=M.invalidPositions[t];e.length>0;){var i=e[e.length-1];if(i.isDisposed())Ye(e,i);else try{i._systemValidatePositions()}catch(r){i.positionInvalid=!1,Ye(e,i),i.raiseCriticalError(r)}}},s.prototype.validateLayouts=function(t){for(var e=M.invalidLayouts[t];e.length>0;){var i=e[e.length-1];if(i.isDisposed())Ye(e,i);else try{i.children.each(function(r){r._systemValidateLayouts()}),i.validateLayout()}catch(r){i.layoutInvalid=!1,Ye(e,i),i.raiseCriticalError(r)}}},s.prototype.log=function(t){qT(t)},Object.defineProperty(s.prototype,"isPaused",{get:function(){return this._isPaused},set:function(t){this._isPaused=t,t||(this._frameRequested=!1,this.requestFrame())},enumerable:!0,configurable:!0}),s.VERSION="4.10.39",s}();var Bt=new JT;function tD(s,t,e){return t+(e-t)*s}function RV(s,t,e){return new qe(tD(s,t.percent,e.percent))}function UV(s,t,e){var i=new xt(cc(t.rgb,e.rgb,s));return t.alpha!=e.alpha&&(i.alpha=t.alpha+(e.alpha-t.alpha)*s),i}function eD(s,t){return t+s.charAt(0).toUpperCase()+s.substr(1)}var Nn=function(){function s(t){this._disposer=new Ft(function(){for(;t.length!==0;)t[0].dispose()})}return s.prototype.isDisposed=function(){return this._disposer.isDisposed()},s.prototype.dispose=function(){this._disposer.dispose()},s}();var gs=function(s){N(t,s);function t(e,i,r,a){var n=s.call(this)||this;return n.duration=0,n.easing=rw,n.progress=0,n._loop=0,n._pause=!1,n._delayTimeout=null,n._time=0,n._isFinished=!1,n.className="Animation",et.animationsEnabled===!1&&(r=0),n.object=e,n.animationOptions=py(i),n.duration=r,a&&(n.easing=a),n.applyTheme(),n}return t.prototype.debug=function(){},t.prototype.dispose=function(){s.prototype.dispose.call(this),this.pause()},t.prototype.delay=function(e){var i=this;if(e>0){this.pause(),pa(this.object.animations,this);var r=setTimeout(function(){i._delayTimeout=null,i.start()},e);this._delayTimeout=new Ft(function(){clearTimeout(r)})}return this},t.prototype._start=function(){this._isFinished=!1,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),this.stopSameAnimations(),this._pause=!1,pa(Bt.animations,this),pa(this.object.animations,this),Bt.requestFrame()},t.prototype.start=function(){this._start(),this._startTime=Date.now(),this._time=0,this.staticOptions=[];for(var e=this.animationOptions.length-1;e>=0;e--){var i=this.animationOptions[e];if(V(i.from)||(i.childObject?i.from=i.childObject[i.property]:(i.from=this.object[i.property],V(i.from)||(i.from=ow[i.property]))),i.from==i.to)Ye(this.animationOptions,i);else if(!V(i.from)||!(i.from instanceof qe)&&i.to instanceof qe||i.from instanceof qe&&!(i.to instanceof qe))this.staticOptions.push(i),Ye(this.animationOptions,i);else if(I(i.to))if(i.updateMethod=tD,i.from instanceof qe){var r=this.object[eD(i.property,"pixel")];isNaN(r)?(this.staticOptions.push(i),Ye(this.animationOptions,i)):i.from=r}else isNaN(i.from)&&(this.staticOptions.push(i),Ye(this.animationOptions,i));else if(i.to instanceof xt)i.from?i.updateMethod=UV:(this.staticOptions.push(i),Ye(this.animationOptions,i));else if(i.to instanceof qe){if(i.updateMethod=RV,!isNaN(i.from)){var r=this.object[eD(i.property,"relative")];isNaN(r)||(i.from=ue(r*100))}}else this.staticOptions.push(i),Ye(this.animationOptions,i)}if(this.applyStaticOptions(),this.events.isEnabled("animationstarted")){var a={type:"animationstarted",target:this,progress:this.progress};this.events.dispatchImmediately("animationstarted",a)}return this.update(),this.duration===0&&this.end(),this},t.prototype.loop=function(e){return I(e)||(e=1/0),this._loop=e,this},t.prototype.pause=function(){return this._pause=!0,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),Ye(Bt.animations,this),Ye(this.object.animations,this),this},t.prototype.resume=function(){return this._start(),this._startTime=Date.now()-this._time,this},t.prototype.end=function(){if(this._loop==0&&this.pause(),this.setProgress(1),this.applyStaticOptions(),this.events.isEnabled("animationended")){var e={type:"animationended",target:this,progress:this.progress};this.events.dispatchImmediately("animationended",e)}return this._loop>0?(this._loop--,this.start()):(this.stop(),this._isFinished=!0),this},t.prototype.kill=function(){this.pause(),this._isFinished=!0},t.prototype.isFinished=function(){return this._isFinished},t.prototype.applyStaticOptions=function(){var e=this;we(this.staticOptions,function(i){i.childObject?i.childObject[i.property]=e.progress==1?i.to:i.from:e.object[i.property]=e.progress==1?i.to:i.from})},t.prototype.stop=function(e){if(this.pause(),!e&&this.events.isEnabled("animationstopped")){var i={type:"animationstopped",target:this,progress:this.progress};this.events.dispatchImmediately("animationstopped",i)}return this},t.prototype.setProgress=function(e){var i=this;if(this._time=this.duration*e,we(this.animationOptions,function(a){if(a.updateMethod&&V(a.from)){var n=a.updateMethod(e,a.from,a.to);a.childObject?a.childObject[a.property]=n:i.object[a.property]=n}}),this.progress=e,this.events.isEnabled("animationprogress")){var r={type:"animationprogress",target:this,progress:this.progress};this.events.dispatchImmediately("animationprogress",r)}Bt.requestFrame()},t.prototype.update=function(){if(!this._pause){var e=void 0;this._time=De(Date.now()-this._startTime,0,this.duration);var i=this._time/this.duration;e=this.easing(i),(this.duration==0||!I(e)||i>=1)&&(e=1),this.setProgress(e),ve(this._time/this.duration,6)==1&&this.end()}return this},Object.defineProperty(t.prototype,"delayed",{get:function(){return!!this._delayTimeout},enumerable:!0,configurable:!0}),t.prototype.stopSameAnimations=function(){var e=this;we(Wl(this.object.animations),function(i){if(i!==e&&!i.delayed){var r=[];we(e.animationOptions,function(a){we(i.animationOptions,function(n){a.property==n.property&&a.childObject==n.childObject&&(r.push(n),i.animationOptions.length==0&&i.kill())})}),we(r,function(a){Ye(i.animationOptions,a)})}})},t.prototype.asFunction=function(e){return e=="easing"||s.prototype.asIs.call(this,e)},t}(ls);var sh="http://www.w3.org/2000/svg",uw="http://www.w3.org/2000/xmlns/",rA="http://www.w3.org/1999/xlink";function ji(s,t,e,i){return s.addEventListener(t,e,i||!1),new Ft(function(){s.removeEventListener(t,e,i||!1)})}function yp(s){if(ut(s)){var t=document.getElementById(s);if(t==null&&(t=document.getElementsByClassName(s)[0]),t instanceof HTMLElement)return t}else if(s instanceof HTMLElement)return s}function sA(s,t){if(s)if(s.classList){var e=t.split(" ");we(e,function(r){s.classList.add(r)})}else{var i=s.getAttribute("class");i?s.setAttribute("class",i.split(" ").filter(function(r){return r!==t}).join(" ")+" "+t):s.setAttribute("class",t)}}function aA(s,t){if(s)if(s.classList)s.classList.remove(t);else{var e=s.getAttribute("class");e&&s.setAttribute("class",e.split(" ").filter(function(i){return i!==t}).join(" "))}}function hw(s,t,e){s.style[t]=e}function Ey(s,t){return s.currentStyle?s.currentStyle[t]:document.defaultView.getComputedStyle(s,null).getPropertyValue(t)}function bc(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{var s=document.createElement("button");s.style.position="fixed",s.style.top="0px",s.style.left="-10000px",document.body.appendChild(s),s.focus(),s.blur(),document.body.removeChild(s)}}function cw(s,t){for(var e=t;;){if(s===e)return!0;if(e.parentNode==null){if(e.host==null)return!1;e=e.host}else e=e.parentNode}}function nA(s){for(var t=s;;){if(t.parentNode==null)return t.host!=null?t:null;t=t.parentNode}}function My(s){for(var t=s.ownerDocument,e=s;;){if(e.parentNode==null)return e===t||e.host!=null?e:null;e=e.parentNode}}function iD(s){return typeof s.composedPath=="function"?s.composedPath()[0]:s.target}function dw(s){O_(function(){try{var t=s.getBoundingClientRect(),e=t.left-Math.round(t.left),i=t.top-Math.round(t.top);e!==0&&vy(function(){s.style.left=e+"px"}),i!==0&&vy(function(){s.style.top=i+"px"})}catch{}})}var lw;function VV(s){if(s==null){if(!V(lw)){var t=document.createElement("style");t.type="text/css",et.nonce!=""&&t.setAttribute("nonce",et.nonce),document.head.appendChild(t),lw=t.sheet}return lw}else{var t=document.createElement("style");return t.type="text/css",et.nonce!=""&&t.setAttribute("nonce",et.nonce),s.appendChild(t),t.sheet}}function NV(s,t){var e=s.cssRules.length;return s.insertRule(t+"{}",e),s.cssRules[e]}var vi=function(s){N(t,s);function t(e,i,r){var a=this,n=VV(e);return a=s.call(this,function(){var o=Ms(n.cssRules,a._rule);if(o===-1)throw new Error("Could not dispose StyleRule");n.deleteRule(o)})||this,a._rule=NV(n,i),Ue(r,function(o,l){a.setStyle(o,l)}),a}return Object.defineProperty(t.prototype,"selector",{get:function(){return this._rule.selectorText},set:function(e){this._rule.selectorText=e},enumerable:!0,configurable:!0}),t.prototype._setVendorPrefixName=function(e,i){var r=this._rule.style;r.setProperty("-webkit-"+e,i,""),r.setProperty("-moz-"+e,i,""),r.setProperty("-ms-"+e,i,""),r.setProperty("-o-"+e,i,""),r.setProperty(e,i,"")},t.prototype.setStyle=function(e,i){e==="transition"?this._setVendorPrefixName(e,i):this._rule.style.setProperty(e,i,"")},t}(Ft);var QV=0,HV=function(s){N(t,s);function t(e,i,r){var a=this,n=V(r)?r:"__style_"+ ++QV+"__";return a=s.call(this,e,"."+n,i)||this,a._className=n,a}return Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(e){this._className=e,this.selector="."+e},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this._className},t}(vi);function Aw(s){if(document.readyState!=="loading")s();else{var t=function(){document.readyState!=="loading"&&(document.removeEventListener("readystatechange",t),s())};document.addEventListener("readystatechange",t)}}function bp(s){var t=Ey(s,"font-family");if(t)return t;var e=s.parentElement||s.parentNode;return e?bp(e):void 0}function vp(s){var t=Ey(s,"font-size");if(t)return t;var e=s.parentElement||s.parentNode;return e?vp(e):void 0}function Ry(s,t){var e=s.getBoundingClientRect(),i=bi(t)?t:t?[t]:[];if(i.length){for(var r=0;r<i.length;r++){var a=i[r];if(!Ry(a))return!1;var n=a.getBoundingClientRect();if(e.top>=0&&e.left>=0&&e.top<=n.top+n.height&&e.left<=n.left+n.width)return!0}return!1}return e.top>=0&&e.left>=0&&e.top<=(window.innerHeight||document.documentElement.clientHeight)&&e.left<=(window.innerWidth||document.documentElement.clientWidth)}var ah=function(){function s(t){this._isDisposed=!1,this._x=0,this._y=0,this._rotationY=0,this._rotationX=0,this._rotation=0,this._scale=1,typeof t=="string"?this.node=document.createElementNS(sh,t):this.node=t}return s.prototype.removeNode=function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)},Object.defineProperty(s.prototype,"transformString",{get:function(){if(this.node)return this._transformString},enumerable:!0,configurable:!0}),s.prototype.transform=function(){var t="translate("+this._x+","+this._y+")";if(this._scale!=1&&(t+=(t?" ":"")+"scale("+this._scale+")"),this._rotation!=0){var e="rotate("+this._rotation+")";this._rotationX&&this._rotationY&&(e="rotate("+this._rotation+" "+this._rotationX+" "+this._rotationY+")"),t+=(t?" ":"")+e}this._transformString=t,this.node.setAttribute("transform",t)},s.prototype.getBBox=function(){var t={width:0,height:0,x:0,y:0};if(this.node&&this.node.parentNode)try{var e=this.node.getBBox();t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height}catch{}return t},s.prototype.moveTo=function(t){if(t){var e=t.x,i=t.y;(this._x!=e||this._y!=i)&&(this._x=e,this._y=i,this.transform())}},Object.defineProperty(s.prototype,"content",{get:function(){return this.node.innerHTML||""},set:function(t){this.node.innerHTML=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"textContent",{get:function(){return this.node.textContent||""},set:function(t){this.node.textContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"x",{get:function(){return this._x},set:function(t){this._x!=t&&(this._x=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"y",{get:function(){return this._y},set:function(t){this._y!=t&&(this._y=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!=t&&(this._rotation=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rotationX",{get:function(){return this._rotationX},set:function(t){this._rotationX!=t&&(this._rotationX=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rotationY",{get:function(){return this._rotationY},set:function(t){this._rotationY!=t&&(this._rotationY=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale!=t&&(this._scale=t,this.transform())},enumerable:!0,configurable:!0}),s.prototype.removeAttr=function(t){this.node.removeAttribute(t)},s.prototype.attr=function(t){var e=this;return Ue(t,function(i,r){V(r)?e.node.setAttribute(i,r):e.node.removeAttribute(i)}),this},s.prototype.getAttr=function(t){return this.node.getAttribute(t)},s.prototype.attrNS=function(t,e,i){return this.node.setAttributeNS(t,e,i),this},s.prototype.getAttrNS=function(t,e){return this.node.getAttributeNS(t,e)},s.prototype.removeStyle=function(t){this.node.style[t]=null,delete this.node.style[t]},s.prototype.getStyle=function(t){return this.node.style[t]},s.prototype.addStyle=function(t){var e=this;return Ue(t,function(i,r){V(r)?e.node.style[i]=r:e.removeStyle(i)}),this},s.prototype.addClass=function(t){sA(this.node,t)},s.prototype.removeClass=function(t){aA(this.node,t)},s.prototype.setClass=function(t){this.node.setAttribute("class",t)},s.prototype.removeChildNodes=function(){for(;this.node.childNodes.length>0;)this.node.removeChild(this.node.firstChild)},s.prototype.isDisposed=function(){return this._isDisposed},s.prototype.dispose=function(){this.removeNode()},s}();var xp=function(s){N(t,s);function t(e){return s.call(this,e)||this}return t.prototype.add=function(e){e&&this.node.appendChild(e.node)},t.prototype.addToBack=function(e){if(e){var i=this.node.childNodes[0];i?i!=e.node&&this.node.insertBefore(e.node,i):this.node.appendChild(e.node)}},t.prototype.removeElement=function(e){if(e)try{e.node&&e.node.parentNode==this.node&&this.node.removeChild(e.node)}catch{}},t.prototype.hasChild=function(e){for(var i=0;i<this.node.childNodes.length;i++)if(this.node.childNodes[i]==e.node)return!0;return!1},Object.defineProperty(t.prototype,"content",{get:function(){return this.node.innerHTML},set:function(e){this.node.innerHTML=e},enumerable:!0,configurable:!0}),t.prototype.removeChildren=function(){if(this.node.childNodes)for(;this.node.childNodes.length>0;){var e=this.node.firstChild;e&&e.parentNode&&e.parentNode.removeChild(e)}},t.prototype.removeChildrenByTag=function(e){if(this.node.childNodes)for(var i=this.node.getElementsByTagName(e),r=0;r<i.length;r++)this.node.removeChild(i[r])},t}(ah);var ze=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._purposes={stroke:Ve("#e5e5e5"),fill:Ve("#f3f3f3"),primaryButton:Ve("#6794dc"),primaryButtonHover:Ve("#6771dc"),primaryButtonDown:Ve("#68dc75"),primaryButtonActive:Ve("#68dc75"),primaryButtonText:Ve("#FFFFFF"),primaryButtonStroke:Ve("#FFFFFF"),secondaryButton:Ve("#d9d9d9"),secondaryButtonHover:Ve("#d9d9d9").brighten(-.25),secondaryButtonDown:Ve("#d9d9d9").brighten(-.35),secondaryButtonActive:Ve("#d9d9d9").brighten(.35),secondaryButtonText:Ve("#000000"),secondaryButtonStroke:Ve("#FFFFFF"),grid:Ve("#000000"),background:Ve("#ffffff"),alternativeBackground:Ve("#000000"),text:Ve("#000000"),alternativeText:Ve("#FFFFFF"),disabledBackground:Ve("#999999"),positive:Ve("#67dc75"),negative:Ve("#dc6788")},e.className="InterfaceColorSet",e.applyTheme(),e}return t.prototype.debug=function(){},t.prototype.getFor=function(e){return this._purposes[e]},t.prototype.setFor=function(e,i){this._purposes[e]=i},t}(Hi);M.registeredClasses.InterfaceColorSet=ze;var rD=new Rt;function sD(s,t){t||(t="ampopup");var e=new ze,i=e.getFor("text"),r=e.getFor("background");r.alpha=.8;var a=e.getFor("alternativeBackground");a.alpha=.05;var n=rD.insertKeyIfEmpty(t,function(){var o=new Vt([new vi(s,"."+t,{overflow:"visible",position:"absolute",top:"0",left:"0","z-index":"2000"}),new vi(s,"."+t+"-curtain",{width:"100%",height:"100%",position:"absolute",top:"0",left:"0","z-index":"2001","background-color":r.hex,opacity:"0.5"}),new vi(s,"."+t+"-header",{display:"block",width:"100%","min-height":"1.8em",background:a.rgba}),new vi(s,"."+t+"-title",{"font-weight":"bold","font-size":"110%",padding:"0.5em 1.2em 0.5em 1em"}),new vi(s,"."+t+"-content",{background:r.hex,"background-color":r.rgba,color:i.hex,display:"inline-block",position:"absolute",top:"0",left:"0","max-width":"90%","max-height":"90%",overflow:"auto","z-index":"2002"}),new vi(s,"."+t+"-inside",{padding:"1em"}),new vi(s,"."+t+"-close",{display:"block",position:"absolute",top:"0.3em",right:"0.3em","background-color":"rgb(100, 100, 100)",background:"rgba(100, 100, 100, 0.1) url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) no-repeat center","background-size":"80%",width:"1.2em",height:"1.2em",cursor:"pointer"})]);return new zl(function(){rD.removeKey(t),o.dispose()})});return n.increment()}var fw=function(s){N(t,s);function t(){var e=s!==null&&s.apply(this,arguments)||this;return e._domEvents={},e}return t.prototype._addDOMEvent=function(e,i,r,a){var n=this;if(!this._domEvents[e]){var o=function(l){r.call(a,i,l)};this.target.element.addEventListener(e,o,!1),this._domEvents[e]=new zl(function(){delete n._domEvents[e],n.target.element.removeEventListener(e,o,!1)})}return this._domEvents[e].increment()},t.prototype._dispatchKeyboardEvent=function(e,i){this.target.events.isEnabled(e)&&this.target.events.dispatchImmediately(e,{type:e,target:this.target,event:i})},t.prototype._on=function(e,i,r,a,n,o){var l=s.prototype._on.call(this,e,i,r,a,n,o),u=[l.disposer];switch(i){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":case"out":this.target.hoverable=!0;break;case"focus":case"blur":case"focusin":case"focusout":this.target.focusable=!0;break;case"keydown":u.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this));break;case"keyup":u.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this));break;case"keypress":u.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this));break;case"input":u.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this));break}return l.disposer=new Vt(u),l},t}(tp);var pw=function(s){N(t,s);function t(e){var i=s.call(this)||this;return i._eventDispatcher=new fw(i),i.eventDisposers=new Rt,i.replacedStyles=new Rt,i._clickable=!1,i._contextMenuDisabled=!1,i._hoverable=!1,i._trackable=!1,i._draggable=!1,i._swipeable=!1,i._resizable=!1,i._wheelable=!1,i._inert=!1,i._isHover=!1,i.isRealHover=!1,i._isHoverByTouch=!1,i._isDown=!1,i._isFocused=!1,i._isTouchProtected=!1,i._inertiaOptions=new Rt,i.inertias=new Rt,i._hitOptions={},i._hoverOptions={},i._swipeOptions={},i._keyboardOptions={},i._mouseOptions={},i._cursorOptions={defaultStyle:[{property:"cursor",value:"default"}]},i._disposers.push(i._eventDispatcher),i._element=e,i.className="InteractionObject",i._disposers.push(new Ya(i.inertias)),i._disposers.push(new Ya(i.eventDisposers)),i.applyTheme(),i}return Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHover",{get:function(){return this._isHover},set:function(e){this.isHover!=e&&(this._isHover=e,e?at().overObjects.moveValue(this):(this.isRealHover=!1,at().overObjects.removeValue(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHoverByTouch",{get:function(){return this._isHoverByTouch},set:function(e){this.isHoverByTouch!=e&&(this._isHoverByTouch=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overPointers",{get:function(){return this._overPointers||(this._overPointers=new gt),this._overPointers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDown",{get:function(){return this._isDown},set:function(e){this.isDown!=e&&(this._isDown=e,e?at().downObjects.moveValue(this):at().downObjects.removeValue(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"downPointers",{get:function(){return this._downPointers||(this._downPointers=new gt),this._downPointers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFocused",{get:function(){return this._isFocused},set:function(e){this.isFocused!=e&&(this._isFocused=e,e?at().focusedObject=this:at().focusedObject=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTouchProtected",{get:function(){return this._isTouchProtected},set:function(e){this._isTouchProtected!=e&&(this._isTouchProtected=e,e?at().unprepElement(this):(this.draggable||this.swipeable||this.trackable||this.resizable)&&at().prepElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickable",{get:function(){return this._clickable},set:function(e){this._clickable!==e&&(this._clickable=e,at().processClickable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contextMenuDisabled",{get:function(){return this._contextMenuDisabled},set:function(e){this._contextMenuDisabled!==e&&(this._contextMenuDisabled=e,at().processContextMenu(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverable",{get:function(){return this._hoverable},set:function(e){this._hoverable!==e&&(this._hoverable=e,at().processHoverable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackable",{get:function(){return this._trackable},set:function(e){this._trackable!==e&&(this._trackable=e,at().processTrackable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable!==e&&(this._draggable=e,at().processDraggable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeable",{get:function(){return this._swipeable},set:function(e){this._swipeable!==e&&(this._swipeable=e,at().processSwipeable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this._resizable},set:function(e){this._resizable!==e&&(this._resizable=e,at().processResizable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wheelable",{get:function(){return this._wheelable},set:function(e){this._wheelable!==e&&(this._wheelable=e,at().processWheelable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inert",{get:function(){return this._inert},set:function(e){this._inert!==e&&(this._inert=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusable",{get:function(){return this._focusable},set:function(e){this._focusable!==e&&(this._focusable=e,this._focusable&&this.tabindex==-1&&(this._tabindex=1),at().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabindex",{get:function(){return uy(this._tabindex,-1)},set:function(e){this._tabindex!==e&&(this._tabindex=e,e>-1&&(this.focusable=!0),at().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this._element=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalPosition",{get:function(){return this._originalPosition||{x:0,y:0}},set:function(e){this._originalPosition=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalScale",{get:function(){return uy(this._originalScale,1)},set:function(e){this._originalScale!==e&&(this._originalScale=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalAngle",{get:function(){return uy(this._originalAngle,0)},set:function(e){this._originalAngle!==e&&(this._originalAngle=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertiaOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("inertiaOptions",this._inertiaOptions):this._inertiaOptions},set:function(e){this._inertiaOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hitOptions",this._hitOptions):this._hitOptions},set:function(e){this._hitOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hoverOptions",this._hoverOptions):this._hoverOptions},set:function(e){this._hoverOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("swipeOptions",this._swipeOptions):this._swipeOptions},set:function(e){this._swipeOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyboardOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("keyboardOptions",this._keyboardOptions):this._keyboardOptions},set:function(e){this._keyboardOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("mouseOptions",this._mouseOptions):this._mouseOptions},set:function(e){this._mouseOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("cursorOptions",this._cursorOptions):this._cursorOptions},set:function(e){this._cursorOptions=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.inertiaOptions=e.inertiaOptions,this.hitOptions=e.hitOptions,this.hoverOptions=e.hoverOptions,this.swipeOptions=e.swipeOptions,this.keyboardOptions=e.keyboardOptions,this.cursorOptions=e.cursorOptions,this.contextMenuDisabled=e.contextMenuDisabled,at().applyCursorOverStyle(this)},t.prototype.setEventDisposer=function(e,i,r){var a=this.eventDisposers.getKey(e);i?a==null&&this.eventDisposers.setKey(e,r()):a!=null&&(a.dispose(),this.eventDisposers.removeKey(e))},t.prototype.dispose=function(){s.prototype.dispose.call(this);var e=at();e.overObjects.removeValue(this),e.downObjects.removeValue(this),e.trackedObjects.removeValue(this),e.transformedObjects.removeValue(this),this.isHover&&this.wheelable&&e.unlockWheel(),e.focusedObject===this&&(e.focusedObject=void 0)},t}(ls);var mw=function(){function s(t,e){this._disposed=!1,this.directionX=0,this.directionY=0,this.interaction=t,this.keyboardEvent=e,this._startedOn=new Date().getTime(),at().processDragStart(t),Bt.animations.push(this),this.update()}return s.prototype.update=function(){var t=this.interaction,e=at().getKeyboardOption(t,"speed"),i=at().getKeyboardOption(t,"accelleration"),r=at().getKeyboardOption(t,"accellerationDelay"),a={x:0,y:0};this.keyboardEvent.shiftKey?(e*=.5,i=1):this.keyboardEvent.ctrlKey&&(e*=2);var n=new Date().getTime()-this._startedOn,o=n-r;if(i>0&&o>0){var l=n/r;n=r,a.x+=this.directionX*(e*i*l*o),a.y+=this.directionY*(e*i*l*o)}a.x+=this.directionX*(e*n),a.y+=this.directionY*(e*n),at().handleTransformMove(t,a,{x:0,y:0},this.keyboardEvent,!0,!1)},s.prototype.isDisposed=function(){return this._disposed},s.prototype.dispose=function(){this._disposed||(at().processDragStop(this.interaction),Ye(Bt.animations,this))},s}();var gw=function(s){N(t,s);function t(e,i,r,a){var n=s.call(this)||this;return n.animations=[],n.className="Inertia",n.interaction=e,n.type=i,n.point=r,n.startPoint=a,n._disposers.push(new Nn(n.animations)),n}return Object.defineProperty(t.prototype,"x",{get:function(){return this.point.x},set:function(e){I(e)&&(this.point.x=e,this.handleMove())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.point.y},set:function(e){I(e)&&(this.point.y=e,this.handleMove())},enumerable:!0,configurable:!0}),t.prototype.handleMove=function(){if(this.interaction.events.isEnabled("drag")){var e={type:"drag",target:this.interaction,shift:{x:this.x-this.startPoint.x,y:this.y-this.startPoint.y},startPoint:this.startPoint,point:{x:this.x,y:this.y},touch:!1};this.interaction.events.dispatchImmediately("drag",e)}},t.prototype.done=function(){this.interaction.inertias.removeKey(this.type),this.type==="move"&&at().processDragStop(this.interaction),this.dispose()},t}(Hi);var aD=function(){function s(){}return s.prototype.getEventKey=function(t){var e=t.keyCode||t.which,i;switch(e){case 38:i="up";break;case 40:i="down";break;case 37:i="left";break;case 39:i="right";break;case 13:i="enter";break;case 27:i="esc";break;case 36:i="home";break;case 35:i="end";break;case 9:i="tab";break;case 17:i="ctrl";break;case 18:i="alt";break;case 16:i="shift";break;case 32:i="space";break;case 36:i="home";break;case 35:i="end";break;case 33:i="pgup";break;case 34:i="pgdn";break;case 45:i="ins";break;case 46:i="del";break;case 107:i="plus";break;case 109:i="minus";break;default:i="other";break}return i},s.prototype.isKey=function(t,e){var i=this.getEventKey(t);return ut(e)&&(e=[e]),e.indexOf(i)!==-1},s.prototype.shiftKey=function(t){return t.shiftKey},s.prototype.ctrlKey=function(t){return t.ctrlKey},s.prototype.altKey=function(t){return t.altKey},s.prototype.metaKey=function(t){return t.metaKey},s}();var ga=new aD;var jV={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6};function yw(s){switch(s){case"year":return;case"month":return"year";case"week":return"month";case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function gr(s,t){return V(t)||(t=1),jV[s]*t}function XV(){return new Date}function fo(){return XV().getTime()}function vc(s){return new Date(s.getTime())}function Uy(s,t,e,i){s=new Date(s.getTime()),t=new Date(t.getTime());var r=0,a=0;!i&&e!="millisecond"&&(r=s.getTimezoneOffset(),s.setUTCMinutes(s.getUTCMinutes()-r),a=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-a));var n=!1;switch(e){case"year":s.getUTCFullYear()!=t.getUTCFullYear()&&(n=!0);break;case"month":(s.getUTCFullYear()!=t.getUTCFullYear()||s.getUTCMonth()!=t.getUTCMonth())&&(n=!0);break;case"day":(s.getUTCMonth()!=t.getUTCMonth()||s.getUTCDate()!=t.getUTCDate())&&(n=!0);break;case"hour":s.getUTCHours()!=t.getUTCHours()&&(n=!0);break;case"minute":s.getUTCMinutes()!=t.getUTCMinutes()&&(n=!0);break;case"second":s.getUTCSeconds()!=t.getUTCSeconds()&&(n=!0);break;case"millisecond":s.getTime()!=t.getTime()&&(n=!0);break}if(n)return!0;var o=yw(e);return o?(s.setUTCMinutes(s.getUTCMinutes()+r),t.setUTCMinutes(t.getUTCMinutes()+a),Uy(s,t,o,i)):!1}function Fs(s,t,e,i){var r=0;switch(!i&&t!="millisecond"&&(r=s.getTimezoneOffset(),s.setUTCMinutes(s.getUTCMinutes()-r)),t){case"day":var a=s.getUTCDate();s.setUTCDate(a+e);break;case"second":var n=s.getUTCSeconds();s.setUTCSeconds(n+e);break;case"millisecond":var o=s.getUTCMilliseconds();s.setUTCMilliseconds(o+e);break;case"hour":var l=s.getUTCHours();s.setUTCHours(l+e);break;case"minute":var u=s.getUTCMinutes();s.setUTCMinutes(u+e);break;case"year":var h=s.getUTCFullYear();s.setUTCFullYear(h+e);break;case"month":var c=s.getUTCMonth();s.setUTCMonth(c+e);break;case"week":var A=s.getUTCDate();s.setUTCDate(A+e*7);break}if(!i&&t!="millisecond"&&(s.setUTCMinutes(s.getUTCMinutes()+r),t=="day"||t=="week"||t=="month"||t=="year")){var d=s.getTimezoneOffset();if(d!=r){var f=d-r;s.setUTCMinutes(s.getUTCMinutes()+f),s.getTimezoneOffset()!=d&&s.setUTCMinutes(s.getUTCMinutes()-f)}}return s}function Hr(s,t,e,i,r,a,n,o){n===void 0&&(n=0),I(e)||(e=1);var l=0;switch(o&&["day","month","week","year"].indexOf(t)!=-1&&(s=oA(s,o)),!r&&t!="millisecond"&&(l=s.getTimezoneOffset(),s.setUTCMinutes(s.getUTCMinutes()-l)),t){case"day":var u=s.getUTCDate();if(e>1){if(a){a=Hr(a,"day",1);var h=s.getTime()-a.getTime(),c=Math.floor(h/gr("day")/e),A=gr("day",c*e);s.setTime(a.getTime()+A-l*gr("minute"))}}else s.setUTCDate(u);s.setUTCHours(0,0,0,0);break;case"second":var d=s.getUTCSeconds();e>1&&(d=Math.floor(d/e)*e),s.setUTCSeconds(d,0);break;case"millisecond":if(e==1)return s;var f=s.getUTCMilliseconds();f=Math.floor(f/e)*e,s.setUTCMilliseconds(f);break;case"hour":var p=s.getUTCHours();e>1&&(p=Math.floor(p/e)*e),s.setUTCHours(p,n,0,0);break;case"minute":var m=s.getUTCMinutes();f=s.getUTCMilliseconds(),e>1&&(m=Math.floor(m/e)*e),s.setUTCMinutes(m,0,0);break;case"month":var g=s.getUTCMonth();e>1&&(g=Math.floor(g/e)*e),s.setUTCMonth(g,1),s.setUTCHours(0,n,0,0);break;case"year":var y=s.getUTCFullYear();e>1&&(y=Math.floor(y/e)*e),s.setUTCFullYear(y,0,1),s.setUTCHours(0,n,0,0);break;case"week":var x=s.getUTCDate(),C=s.getUTCDay();I(i)||(i=1),C>=i?x=x-C+i:x=x-(7+C)+i,s.setUTCDate(x),s.setUTCHours(0,n,0,0);break}if(!r&&t!="millisecond"&&(s.setUTCMinutes(s.getUTCMinutes()+l),t=="day"||t=="week"||t=="month"||t=="year")){var S=s.getTimezoneOffset();if(S!=l){var P=S-l;s.setUTCMinutes(s.getUTCMinutes()+P)}}return s}function oA(s,t){var e=new Date(s.toLocaleString("en-US",{timeZone:t}));return e}function nD(s){var t=new Date;t.setHours(0,0,0,0);var e=oA(t,s);return e.getMinutes()}var oD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._globalEventsAdded=!1,e._pointerEvents={pointerdown:"mousedown",pointerup:"mouseup",pointermove:"mousemove",pointercancel:"mouseup",pointerover:"mouseover",pointerout:"mouseout",wheel:"wheel"},e._usePointerEventsOnly=!1,e._useTouchEventsOnly=!1,e._addHoverEvents=!0,e._passiveSupported=!1,e._delayedEvents={out:[]},e.overObjects=new gt,e.downObjects=new gt,e.trackedObjects=new gt,e.transformedObjects=new gt,e.pointers=new Rt,e.inertiaOptions=new Rt,e.hitOptions={doubleHitTime:300,hitTolerance:10,noFocus:!0},e.hoverOptions={touchOutBehavior:"leave",touchOutDelay:1e3},e.swipeOptions={time:500,verticalThreshold:75,horizontalThreshold:30},e.keyboardOptions={speed:.1,accelleration:1.2,accellerationDelay:2e3},e.mouseOptions={sensitivity:1},e.className="Interaction",e.body=e.getInteraction(document.body),e._disposers.push(e.body),window.hasOwnProperty("PointerEvent")?(e._pointerEvents.pointerdown="pointerdown",e._pointerEvents.pointerup="pointerup",e._pointerEvents.pointermove="pointermove",e._pointerEvents.pointercancel="pointercancel",e._pointerEvents.pointerover="pointerover",e._pointerEvents.pointerout="pointerout"):window.hasOwnProperty("MSPointerEvent")?(e._pointerEvents.pointerdown="MSPointerDown",e._pointerEvents.pointerup="MSPointerUp",e._pointerEvents.pointermove="MSPointerMove",e._pointerEvents.pointercancel="MSPointerUp",e._pointerEvents.pointerover="MSPointerOver",e._pointerEvents.pointerout="MSPointerOut"):typeof matchMedia<"u"&&matchMedia("(pointer:fine)").matches?"ontouchstart"in window&&(e._addHoverEvents=!1,e._useTouchEventsOnly=!0):window.navigator.userAgent.match(/MSIE /)||e.fullFF()?e._usePointerEventsOnly=!0:e._useTouchEventsOnly=!0,"onwheel"in document.createElement("div")?e._pointerEvents.wheel="wheel":V(document.onmousewheel)&&(e._pointerEvents.wheel="mousewheel"),e.inertiaOptions.setKey("move",{time:100,duration:500,factor:1,easing:$y}),e.inertiaOptions.setKey("resize",{time:100,duration:500,factor:1,easing:$y}),e._passiveSupported=t.passiveSupported,e.applyTheme(),e}return t.prototype.fullFF=function(){return window.navigator.userAgent.match(/Firefox/)&&!window.navigator.userAgent.match(/Android/)},t.prototype.debug=function(){},t.prototype.addGlobalEvents=function(){var e=this;this._globalEventsAdded||(this._useTouchEventsOnly||(this._disposers.push(ji(document,this._pointerEvents.pointerdown,function(i){e.handleGlobalPointerDown(i)})),this._disposers.push(ji(document,this._pointerEvents.pointermove,function(i){e.handleGlobalPointerMove(i)})),this._disposers.push(ji(document,this._pointerEvents.pointerup,function(i){e.handleGlobalPointerUp(i)})),this._disposers.push(ji(document,this._pointerEvents.pointercancel,function(i){e.handleGlobalPointerUp(i,!0)})),this._disposers.push(ji(document,"mouseenter",function(i){!V(i.relatedTarget)&&(i.buttons==0||i.which==0)&&e.handleDocumentLeave(i)}))),this._usePointerEventsOnly||(this._disposers.push(ji(document,"touchstart",function(i){e.handleGlobalTouchStart(i)})),this._disposers.push(ji(document,"touchmove",function(i){e.handleGlobalTouchMove(i)})),this._disposers.push(ji(document,"touchend",function(i){e.handleGlobalTouchEnd(i)}))),this._disposers.push(ji(document,"keydown",function(i){e.handleGlobalKeyDown(i)})),this._disposers.push(ji(document,"keyup",function(i){e.handleGlobalKeyUp(i)})),this._globalEventsAdded=!0)},t.prototype.processClickable=function(e){this.processTouchable(e)},t.prototype.processContextMenu=function(e){e.contextMenuDisabled?e.eventDisposers.hasKey("contextMenuDisabled")||e.eventDisposers.setKey("contextMenuDisabled",ji(e.element,"contextmenu",function(i){i.preventDefault()})):e.eventDisposers.hasKey("contextMenuDisabled")&&e.eventDisposers.getKey("contextMenuDisabled").dispose()},t.prototype.processHoverable=function(e){var i=this;if(e.hoverable||e.trackable)this.addGlobalEvents(),this.applyCursorOverStyle(e),!e.eventDisposers.hasKey("hoverable")&&this._addHoverEvents&&e.eventDisposers.setKey("hoverable",new Vt([ji(e.element,this._pointerEvents.pointerout,function(a){return i.handlePointerOut(e,a)}),ji(e.element,this._pointerEvents.pointerover,function(a){return i.handlePointerOver(e,a)})])),e.trackable;else{var r=e.eventDisposers.getKey("hoverable");r!=null&&(r.dispose(),e.eventDisposers.removeKey("hoverable"))}this.processTouchable(e)},t.prototype.processMovable=function(e){(e.draggable||e.swipeable||e.trackable||e.resizable)&&(!this.isGlobalElement(e)&&!e.isTouchProtected&&this.prepElement(e),this.applyCursorOverStyle(e)),this.processTouchable(e)},t.prototype.processTrackable=function(e){this.processHoverable(e),this.processMovable(e),e.trackable?this.trackedObjects.moveValue(e):this.trackedObjects.removeValue(e)},t.prototype.processDraggable=function(e){this.processMovable(e)},t.prototype.processSwipeable=function(e){this.processMovable(e)},t.prototype.processResizable=function(e){this.processMovable(e)},t.prototype.processWheelable=function(e){var i=this;if(e.wheelable)e.eventDisposers.hasKey("wheelable")||e.eventDisposers.setKey("wheelable",new Vt([ji(e.element,this._pointerEvents.wheel,function(a){return i.handleMouseWheel(e,a)},this._passiveSupported?{passive:!1}:!1),e.events.on("out",function(a){e.wheelable&&i.unlockWheel()}),e.events.on("over",function(a){e.wheelable&&i.lockWheel()})]));else{var r=e.eventDisposers.getKey("wheelable");r!=null&&(r.dispose(),e.eventDisposers.removeKey("wheelable"))}},t.prototype.processFocusable=function(e){var i=this;if(e.focusable===!0&&e.tabindex>-1&&!this._useTouchEventsOnly)e.eventDisposers.hasKey("focusable")||e.eventDisposers.setKey("focusable",new Vt([ji(e.element,"focus",function(a){return i.handleFocus(e,a)}),ji(e.element,"blur",function(a){return i.handleBlur(e,a)}),ji(e.element,this._pointerEvents.pointerdown,function(a){return i.handleFocusBlur(e,a)}),ji(e.element,"touchstart",function(a){return i.handleFocusBlur(e,a)},this._passiveSupported?{passive:!1}:!1)]));else{var r=e.eventDisposers.getKey("focusable");r!=null&&(r.dispose(),e.eventDisposers.removeKey("focusable"))}},t.prototype.processTouchable=function(e){var i=this;if(e.clickable||e.hoverable||e.trackable||e.draggable||e.swipeable||e.resizable)this.addGlobalEvents(),e.eventDisposers.hasKey("touchable")||(!this._useTouchEventsOnly&&!this._usePointerEventsOnly?e.eventDisposers.setKey("touchable",new Vt([ji(e.element,this._pointerEvents.pointerdown,function(a){return i.handlePointerDown(e,a)}),ji(e.element,"touchstart",function(a){return i.handleTouchDown(e,a)},this._passiveSupported?{passive:!1}:!1)])):this._useTouchEventsOnly?this._usePointerEventsOnly||e.eventDisposers.setKey("touchable",ji(e.element,"touchstart",function(a){return i.handleTouchDown(e,a)},this._passiveSupported?{passive:!1}:!1)):e.eventDisposers.setKey("touchable",ji(e.element,this._pointerEvents.pointerdown,function(a){return i.handlePointerDown(e,a)})));else{var r=e.eventDisposers.getKey("touchable");r!=null&&(r.dispose(),e.eventDisposers.removeKey("touchable"))}},t.prototype.handleFocus=function(e,i){if(!e.focusable){i.preventDefault();return}if(e.isFocused=!0,e.events.isEnabled("focus")&&!Bt.isPaused){var r={type:"focus",target:e,event:i};e.events.dispatchImmediately("focus",r)}},t.prototype.handleFocusBlur=function(e,i){e.focusable!==!1&&this.getHitOption(e,"noFocus")&&e.events.once("focus",function(){e.events.disableType("blur"),bc(),e.sprite&&e.sprite.handleBlur(),e.events.enableType("blur")})},t.prototype.handleBlur=function(e,i){if(!e.focusable){i.preventDefault();return}if(e.isFocused=!1,e.events.isEnabled("blur")&&!Bt.isPaused){var r={type:"blur",target:e,event:i};e.events.dispatchImmediately("blur",r)}},t.prototype.handleGlobalKeyDown=function(e){if(this.focusedObject){if(ga.isKey(e,"esc"))bc();else if(this.focusedObject.draggable&&ga.isKey(e,["up","down","left","right"])){e.preventDefault();var i=this.focusedObject,r="interactionKeyboardObject";if(i.eventDisposers.hasKey(r))return;var a=new mw(i,e);switch(i.eventDisposers.setKey(r,a),ga.getEventKey(e)){case"up":a.directionY=-1;break;case"down":a.directionY=1;break;case"left":a.directionX=-1;break;case"right":a.directionX=1;break}}}},t.prototype.handleGlobalKeyUp=function(e){var i="interactionKeyboardObject";if(this.focusedObject){var r=this.focusedObject.eventDisposers.getKey(i);r!=null&&(e.preventDefault(),r.dispose(),this.focusedObject.eventDisposers.removeKey(i));var a=this.focusedObject.sprite;ga.isKey(e,"enter")&&a&&(a.events.isEnabled("hit")||a.events.isEnabled("toggled")?this.focusedObject.dispatchImmediately("hit"):a.showTooltipOn=="hit"&&this.focusedObject.dispatchImmediately("up"))}},t.prototype.handleGlobalPointerMove=function(e){var i=this.getPointer(e);if(i.point=this.getPointerPoint(e),this.events.isEnabled("track")&&!Bt.isPaused){var r={type:"track",target:this,event:e,pointer:i,touch:i.touch};this.events.dispatchImmediately("track",r)}this.addBreadCrumb(i,i.point),this.handleGlobalMove(i,e)},t.prototype.handleGlobalPointerDown=function(e){this.processDelayed();var i=this.getPointer(e);if(this.events.isEnabled("down")&&!Bt.isPaused){var r={type:"down",target:this,event:e,pointer:i,touch:i.touch};this.events.dispatchImmediately("down",r)}},t.prototype.preventTouchAction=function(e){e.defaultPrevented||e.preventDefault()},t.prototype.handleGlobalPointerUp=function(e,i){i===void 0&&(i=!1);var r=this.getPointer(e);if(this.events.isEnabled("up")&&!Bt.isPaused){var a={type:"up",target:this,event:e,pointer:r,touch:r.touch};this.events.dispatchImmediately("up",a)}this.handleGlobalUp(r,e,i)},t.prototype.handleGlobalTouchMove=function(e){for(var i=0;i<e.changedTouches.length;i++){var r=this.getPointer(e.changedTouches[i]);if(r.point=this.getPointerPoint(e.changedTouches[i]),this.events.isEnabled("track")&&!Bt.isPaused){var a={type:"track",target:this,event:e,pointer:r,touch:r.touch};this.events.dispatchImmediately("track",a)}this.addBreadCrumb(r,r.point),this.handleGlobalMove(r,e)}},t.prototype.handleGlobalTouchStart=function(e){this.processDelayed();for(var i=0;i<e.changedTouches.length;i++){var r=this.getPointer(e.changedTouches[i]);if(!this._usePointerEventsOnly&&this.events.isEnabled("down")&&!Bt.isPaused){var a={type:"down",target:this,event:e,pointer:r,touch:r.touch};this.events.dispatchImmediately("down",a)}}},t.prototype.handleGlobalTouchEnd=function(e){for(var i=0;i<e.changedTouches.length;i++){var r=this.getPointer(e.changedTouches[i]);if(this.events.isEnabled("up")&&!Bt.isPaused){var a={type:"up",target:this,event:e,pointer:r,touch:r.touch};this.events.dispatchImmediately("up",a)}this.handleGlobalUp(r,e)}},t.prototype.handlePointerDown=function(e,i){var r=this.getPointer(i);!r.touch&&i.which!=1&&i.which!=3||(r.button=i.which,this.resetPointer(r,i),this.handleDown(e,r,i))},t.prototype.handlePointerOver=function(e,i){var r=this.getPointer(i);this.handleOver(e,r,i)},t.prototype.handlePointerOut=function(e,i){var r=this.getPointer(i);this.handleOut(e,r,i)},t.prototype.handleMouseWheel=function(e,i){var r=this.getPointer(i);r.point=this.getPointerPoint(i);var a=0,n=0,o=1;if(i.deltaMode==1&&(o=50),o*=this.getMouseOption(e,"sensitivity"),i instanceof WheelEvent)a=Math.round(-1*i.wheelDeltaX||i.deltaX*o),n=Math.round(-1*i.wheelDeltaY||i.deltaY*o);else throw new Error("Invalid event type");this.handleWheel(e,r,a,n,i)},t.prototype.handleTouchDown=function(e,i){for(var r=0;r<i.changedTouches.length;r++){var a=this.getPointer(i.changedTouches[r]);this.maybePreventDefault(e,i,a),this.resetPointer(a,i.changedTouches[r]),this.handleDown(e,a,i)}},t.prototype.handleHit=function(e,i,r){var a=fo();if(e.lastHit&&e.lastHit>=a-this.getHitOption(e,"doubleHitTime")){if(a-e.lastHit<100)return;if(e.lastHit=void 0,e.lastHitPointer=void 0,e.events.isEnabled("doublehit")&&!Bt.isPaused){var n={type:"doublehit",target:e,point:i.point,event:r,touch:i.touch};e.events.dispatchImmediately("doublehit",n)}}else if(e.lastHit=a,e.lastHitPointer=i,i.button===3){if(e.events.isEnabled("rightclick")&&!Bt.isPaused){var n={type:"rightclick",target:e,event:r};e.events.dispatchImmediately("rightclick",n)}}else if(e.events.isEnabled("hit")&&!Bt.isPaused){var n={type:"hit",target:e,event:r,point:i.point,touch:i.touch};e.events.dispatchImmediately("hit",n)}},t.prototype.handleOver=function(e,i,r,a){if(a===void 0&&(a=!1),!!e.hoverable){var n=!1;if(this.shouldCancelHovers(i)&&this.areTransformed()&&this.moved(i,this.getHitOption(e,"hitTolerance"))&&(n=!0,this.cancelAllHovers(r)),this.processDelayed(),e.overPointers.moveValue(i),!e.isRealHover&&(n||(e.isHover=!0,e.isRealHover=!0,this.overObjects.moveValue(e)),this.handleTrack(this.body,i,r,!0),e.events.isEnabled("over")&&!Bt.isPaused&&!n)){var o={type:"over",target:e,event:r,pointer:i,touch:i.touch};e.events.dispatchImmediately("over",o)}}},t.prototype.handleOut=function(e,i,r,a,n){var o=this;if(a===void 0&&(a=!1),n===void 0&&(n=!1),!!e.hoverable&&(e.overPointers.removeValue(i),e.isHover&&(!e.hasDelayedOut||n))){if(a&&e.overPointers.length)return;if(i&&i.touch&&!n&&!this.old(i)){var l=this.getHoverOption(e,"touchOutBehavior");if(l=="leave"){this._delayedEvents.out.push({type:"out",io:e,pointer:i,event:r,keepUntil:fo()+500}),e.hasDelayedOut=!0;return}else if(l=="delay"&&this.getHoverOption(e,"touchOutDelay")){this._delayedEvents.out.push({type:"out",io:e,pointer:i,event:r,keepUntil:fo()+500,timeout:this.setTimeout(function(){o.handleOut(e,i,r,!0)},this.getHoverOption(e,"touchOutDelay"))});return}}if(e.isHover=!1,this.overObjects.removeValue(e),!e.isDisposed()&&e.events.isEnabled("out")&&!Bt.isPaused){var u={type:"out",target:e,event:r,pointer:i,touch:i.touch};e.events.dispatchImmediately("out",u)}e.overPointers.clear(),e.hasDelayedOut=!1}},t.prototype.processDelayed=function(){for(var e;e=this._delayedEvents.out.pop(),!!e;)e.timeout&&e.timeout.dispose(),this.handleOut(e.io,e.pointer,e.event,!1,!0)},t.prototype.handleDown=function(e,i,r){if(this.maybePreventDefault(e,r,i),e.inert&&this.stopInertia(e),this.handleOver(e,i,r,!0),e.downPointers.moveValue(i),this.applyCursorDownStyle(e,i),e.isDown||(e.focusable!==!1&&this.getHitOption(e,"noFocus")&&this.focusedObject&&bc(),e.isDown=!0,this.downObjects.moveValue(e),e.draggable&&this.processDragStart(e,i,r),e.resizable&&this.processResizeStart(e,i,r)),e.events.isEnabled("down")&&!Bt.isPaused){var a={type:"down",target:e,event:r,pointer:i,touch:i.touch};e.events.dispatchImmediately("down",a)}},t.prototype.handleGlobalUp=function(e,i,r){var a=this;r===void 0&&(r=!1);var n=this.downObjects.values.slice();n.sort(function(o,l){if(o&&l){var u=o.element.compareDocumentPosition(l.element);return u&Node.DOCUMENT_POSITION_CONTAINED_BY?1:u&Node.DOCUMENT_POSITION_CONTAINS?-1:0}else return 0}),we(n,function(o){o&&o.downPointers.contains(e)&&a.handleUp(o,e,i,r)})},t.prototype.handleDocumentLeave=function(e){var i=this;ce(this.downObjects.backwards().iterator(),function(r){r.downPointers.each(function(a){i.handleUp(r,a,e)})})},t.prototype.handleUp=function(e,i,r,a){if(a===void 0&&(a=!1),this.restoreCursorDownStyle(e,i),e.downPointers.removeValue(i),(i&&i.touch||this._useTouchEventsOnly)&&this.handleOut(e,i,r,!0),e.isDown){if(e.downPointers.length==0&&(e.isDown=!1,this.downObjects.removeValue(e)),e.events.isEnabled("up")&&!Bt.isPaused&&i){var n={type:"up",target:e,event:r,pointer:i,touch:i.touch};e.events.dispatchImmediately("up",n)}a||(e.swipeable&&this.swiped(e,i)?this.handleSwipe(e,i,r):(e.clickable&&!this.moved(i,this.getHitOption(e,"hitTolerance"))&&this.handleHit(e,i,r),e.inert&&this.moved(i,this.getHitOption(e,"hitTolerance"))?this.handleInertia(e,i):e.draggable&&this.processDragStop(e,i,r),e.resizable&&this.processResizeStop(e,i,r)))}},t.prototype.maybePreventDefault=function(e,i,r){V(i)&&(e.draggable||e.swipeable||e.trackable||e.resizable)&&!this.isGlobalElement(e)&&i.cancelable!==!1&&(!e.isTouchProtected||!r||!r.touch)&&i.preventDefault()},t.prototype.cancelAllHovers=function(e){var i=this;ce(this.overObjects.backwards().iterator(),function(r){if(r){var a=r.overPointers.getIndex(0);i.handleOut(r,a,e,!0,!0)}})},t.prototype.shouldCancelHovers=function(e){return et.disableHoverOnTransform=="always"||et.disableHoverOnTransform=="touch"&&e.touch},t.prototype.handleGlobalMove=function(e,i){var r=this;if(!e.touch){var a=iD(e.lastEvent);ce(this.overObjects.backwards().iterator(),function(n){if(n&&n.overPointers.contains(e)&&n.hoverable){var o=!1;n.element&&e.lastEvent&&cw(n.element,a)||(o=!0),o&&r.handleOut(n,e,i,!0)}})}ce(this.transformedObjects.backwards().iterator(),function(n){n.downPointers.contains(e)&&!(n.swipeable&&r.swiping(n,e))&&(n.draggable||n.resizable)&&r.handleTransform(n,i)}),ce(this.trackedObjects.backwards().iterator(),function(n){n.overPointers.contains(e)||r.handleTrack(n,e,i)})},t.prototype.handleTrack=function(e,i,r,a){if(a===void 0&&(a=!1),!(!a&&!this.moved(i,0))&&e.events.isEnabled("track")&&!Bt.isPaused){var n={type:"track",target:e,event:r,point:i.point,pointer:i,touch:i.touch};e.events.dispatchImmediately("track",n)}},t.prototype.handleSwipe=function(e,i,r){if(e.events.isEnabled("swipe")&&!Bt.isPaused){var a={type:"swipe",target:e,event:r,touch:i.touch};e.events.dispatchImmediately("swipe",a)}if(i.startPoint.x<i.point.x){if(e.events.isEnabled("swiperight")&&!Bt.isPaused){var a={type:"swiperight",target:e,event:r,touch:i.touch};e.events.dispatchImmediately("swiperight",a)}}else if(e.events.isEnabled("swipeleft")&&!Bt.isPaused){var a={type:"swipeleft",target:e,event:r,touch:i.touch};e.events.dispatchImmediately("swipeleft",a)}},t.prototype.handleWheel=function(e,i,r,a,n){var o={x:r,y:a};e.events.isEnabled("wheel")&&!Bt.isPaused&&e.events.dispatchImmediately("wheel",{type:"wheel",target:e,event:n,point:i.point,shift:o}),r<0?e.events.isEnabled("wheelleft")&&!Bt.isPaused&&e.events.dispatchImmediately("wheelleft",{type:"wheelleft",target:e,event:n,point:i.point,shift:o}):r>0?e.events.isEnabled("swiperight")&&!Bt.isPaused&&e.events.dispatchImmediately("wheelright",{type:"wheelright",target:e,event:n,point:i.point,shift:o}):a<0?e.events.isEnabled("wheelup")&&!Bt.isPaused&&e.events.dispatchImmediately("wheelup",{type:"wheelup",target:e,event:n,point:i.point,shift:o}):a>0&&e.events.isEnabled("wheeldown")&&!Bt.isPaused&&e.events.dispatchImmediately("wheeldown",{type:"wheeldown",target:e,event:n,point:i.point,shift:o})},t.prototype.handleInertia=function(e,i){e.draggable&&e.downPointers.length===0&&this.handleMoveInertia(e,i),e.resizable&&e.downPointers.length>1&&this.handleResizeInertia(e,i)},t.prototype.handleMoveInertia=function(e,i){var r=e,a="move",n={x:i.point.x,y:i.point.y},o={x:i.startPoint.x,y:i.startPoint.y},l=new gw(r,a,n,o),u=this.getTrailPoint(i,fo()-this.getInertiaOption(e,"move","time"));if(typeof u>"u"){this.processDragStop(e,i,i.lastUpEvent);return}var h=this.getInertiaOption(e,"move","factor"),c=[{to:i.point.x+(i.point.x-u.point.x)*h,property:"x"},{to:i.point.y+(i.point.y-u.point.y)*h,property:"y"}],A=new gs(l,c,this.getInertiaOption(e,"move","duration"),this.getInertiaOption(e,"move","easing")).start();this._disposers.push(A.events.on("animationended",function(d){l.done()})),e.inertias.setKey("move",l)},t.prototype.handleResizeInertia=function(e,i){},t.prototype.handleTransform=function(e,i){var r=e.downPointers.getIndex(0),a=null,n=null;r&&(a=r.point,n=r.startPoint);var o,l,u;l={x:e.originalPosition.x,y:e.originalPosition.y},u=l;for(var h=!0,c=1;c<e.downPointers.length;c++){var A=e.downPointers.getIndex(c);if(n.x!=A.startPoint.x&&n.y!=A.startPoint.y){h=!1,o=A,l=o.point,u=o.startPoint;break}}var d=r&&this.moved(r,0);if(e.draggable&&r&&r.dragStartEvents&&r.dragStartEvents.length&&d&&e.events.isEnabled("dragstart")&&!Bt.isPaused&&e.events.dispatchImmediately("dragstart",r.dragStartEvents.shift()),h&&e.draggable)this.handleTransformMove(e,a,n,i,d,r.touch),this.shouldCancelHovers(r)&&this.moved(r,this.getHitOption(e,"hitTolerance"))&&this.cancelAllHovers(i);else{var f=o&&this.moved(o,0);(this.shouldCancelHovers(r)&&this.moved(r,this.getHitOption(e,"hitTolerance"))||this.shouldCancelHovers(o)&&this.moved(o,this.getHitOption(e,"hitTolerance")))&&this.cancelAllHovers(i),e.draggable&&e.resizable?(this.handleTransformMove(e,a,n,i,d&&f,r.touch),this.handleTransformResize(e,a,n,l,u,i,d&&f,r.touch)):(e.draggable&&this.handleTransformMove(e,a,n,i,d,r.touch),e.resizable&&(!h||i.ctrlKey)&&this.handleTransformResize(e,a,n,l,u,i,d&&f,r.touch))}},t.prototype.handleTransformMove=function(e,i,r,a,n,o){if(n&&e.events.isEnabled("drag")&&!Bt.isPaused&&(!e.isTouchProtected||!o)){var l={type:"drag",target:e,event:a,shift:{x:i.x-r.x,y:i.y-r.y},startPoint:r,point:i,touch:o};e.events.dispatchImmediately("drag",l)}},t.prototype.handleTransformResize=function(e,i,r,a,n,o,l,u){if(e.events.isEnabled("resize")&&!Bt.isPaused&&(!e.isTouchProtected||!u)){var h={type:"resize",target:e,event:o,scale:gT(i,r,a,n),startPoint1:r,point1:i,startPoint2:n,point2:a,touch:u};e.events.dispatchImmediately("resize",h)}},t.prototype.processDragStart=function(e,i,r){this.transformedObjects.moveValue(e),this.shouldCancelHovers(i)&&this.cancelAllHovers(r);var a={type:"dragstart",target:e,event:r,touch:i?i.touch:!1};i&&(i.dragTarget=e),i&&i.dragStartEvents?i.dragStartEvents.push(a):Bt.isPaused||e.dispatchImmediately("dragstart",a)},t.prototype.processDragStop=function(e,i,r){if(i||(i=this.getDragPointer(e)),i&&(i.dragTarget=void 0),this.transformedObjects.removeValue(e),(!i||this.moved(i,0))&&e.events.isEnabled("dragstop")&&!Bt.isPaused){var a={type:"dragstop",target:e,touch:i?i.touch:!1};e.events.dispatchImmediately("dragstop",a)}},t.prototype.processResizeStart=function(e,i,r){this.transformedObjects.moveValue(e)},t.prototype.processResizeStop=function(e,i,r){this.transformedObjects.removeValue(e)},t.prototype.dragStart=function(e,i){i||(i=this.getDragPointer(e)),i&&this.handleDown(e,i,i.lastDownEvent)},t.prototype.dragStop=function(e,i,r){i||(i=this.getDragPointer(e)),i&&!r&&this.handleGlobalUp(i,i.lastUpEvent,r)},t.prototype.getDragPointer=function(e){return e?e.downPointers.getIndex(0):this.transformedObjects.length?this.getDragPointer(this.transformedObjects.getIndex(0)):void 0},t.prototype.getPointerId=function(e){var i="";return V(e.identifier)?i=""+e.identifier:V(e.pointerId)?i=""+e.pointerId:i="m",i.replace("-","")},t.prototype.getPointerPoint=function(e){return{x:e.clientX,y:e.clientY}},t.prototype.getPointer=function(e){var i=this.getPointerId(e),r=this.getPointerPoint(e),a;return this.pointers.hasKey(i)?(a=this.pointers.getKey(i),a.touch=this.isPointerTouch(e)):(a={id:i,touch:this.isPointerTouch(e),startPoint:r,startTime:fo(),point:r,track:[],swipeCanceled:!1,dragStartEvents:[]},this.addBreadCrumb(a,r),this.pointers.setKey(i,a)),a.lastEvent=e,this.lastPointer=a,a},t.prototype.isPointerTouch=function(e){if(typeof Touch<"u"&&e instanceof Touch)return!0;if(typeof PointerEvent<"u"&&e instanceof PointerEvent&&V(e.pointerType))switch(e.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(e instanceof MouseEvent)}else if(V(e.type)&&e.type.match(/^mouse/))return!1;return!0},t.prototype.resetPointer=function(e,i){var r=this.getPointerPoint(i);e.startTime=fo(),e.startPoint={x:r.x,y:r.y},e.point={x:r.x,y:r.y},e.track=[],e.swipeCanceled=!1},t.prototype.addBreadCrumb=function(e,i){e.track.push({timestamp:fo(),point:i})},t.prototype.lockDocument=function(){this.prepElement(this.body)},t.prototype.unlockDocument=function(){this.transformedObjects.length==0&&this.restoreAllStyles(this.body)},t.prototype.lockElement=function(e){this.prepElement(e)},t.prototype.unlockElement=function(e){this.restoreAllStyles(e)},t.prototype.lockWheel=function(){window.addEventListener(this._pointerEvents.wheel,this.wheelLockEvent,this._passiveSupported?{passive:!1}:!1)},t.prototype.unlockWheel=function(){window.removeEventListener(this._pointerEvents.wheel,this.wheelLockEvent)},t.prototype.isLocalElement=function(e,i,r){var a=this.getCache("local_pointer_"+e.id);if(V(a))return a;var n=My(i)||document;if(n.elementFromPoint){var o=n.elementFromPoint(e.point.x,e.point.y),l=o&&cw(i,o);return this.setCache("local_pointer_"+e.id+"_"+r,l,100),l}return!1},t.prototype.wheelLockEvent=function(e){return e.preventDefault(),!1},t.prototype.prepElement=function(e){var i=e.element;if(i){for(var r=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],a=0;a<r.length;a++)r[a]in i.style&&this.setTemporaryStyle(e,r[a],"none");this.setTemporaryStyle(e,"tapHighlightColor","rgba(0, 0, 0, 0)")}},t.prototype.unprepElement=function(e){var i=e.element;if(i){for(var r=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],a=0;a<r.length;a++)r[a]in i.style&&this.restoreStyle(e,r[a]);this.restoreStyle(e,"tapHighlightColor")}},t.prototype.getHitOption=function(e,i){var r=e.hitOptions[i];return typeof r>"u"&&(r=this.hitOptions[i]),r},t.prototype.getHoverOption=function(e,i){var r=e.hoverOptions[i];return typeof r>"u"&&(r=this.hoverOptions[i]),r},t.prototype.getSwipeOption=function(e,i){var r=e.swipeOptions[i];return typeof r>"u"&&(r=this.swipeOptions[i]),r},t.prototype.getKeyboardOption=function(e,i){var r=e.keyboardOptions[i];return typeof r>"u"&&(r=this.keyboardOptions[i]),r},t.prototype.getMouseOption=function(e,i){var r=e.mouseOptions[i];return typeof r>"u"&&(r=this.mouseOptions[i]),r},t.prototype.getInertiaOption=function(e,i,r){var a=e.inertiaOptions.getKey(i),n;return a&&V(a[r])?n=a[r]:n=this.inertiaOptions.getKey(i)[r],n},t.prototype.stopInertia=function(e){for(var i,r=["move","resize"],a=0;a<r.length;a++)if(i=r[a],e.inertias.hasKey(i)){var n=e.inertias.getKey(i);if(n){n.dispose();continue}}},t.prototype.swiping=function(e,i){var r=fo();return i.swipeCanceled||!e.swipeable?!1:Math.abs(i.startPoint.y-i.point.y)<this.getSwipeOption(e,"verticalThreshold")&&i.startTime>r-this.getSwipeOption(e,"time")},t.prototype.swiped=function(e,i){var r=fo();return i.swipeCanceled?!1:Math.abs(i.startPoint.x-i.point.x)>this.getSwipeOption(e,"horizontalThreshold")&&Math.abs(i.startPoint.y-i.point.y)<this.getSwipeOption(e,"verticalThreshold")&&i.startTime>r-this.getSwipeOption(e,"time")},t.prototype.applyCursorOverStyle=function(e){var i=e.cursorOptions;if(V(i.overStyle))for(var r=0;r<i.overStyle.length;r++)hw(e.element,i.overStyle[r].property,i.overStyle[r].value)},t.prototype.applyCursorDownStyle=function(e,i){if(!(i&&i.touch)){var r=e.cursorOptions.downStyle;if(e.downPointers.contains(i)&&V(r))for(var a=0;a<r.length;a++)this.setTemporaryStyle(this.body,r[a].property,r[a].value),this.setTemporaryStyle(e,r[a].property,r[a].value)}},t.prototype.restoreCursorDownStyle=function(e,i){if(!(i&&i.touch)){var r=e.cursorOptions.downStyle;if(e.downPointers.contains(i)&&V(r))for(var a=0;a<r.length;a++)this.restoreStyle(this.body,r[a].property),this.restoreStyle(e,r[a].property)}},t.prototype.setGlobalStyle=function(e){for(var i=at().body,r=bi(e)?e:[e],a=0;a<r.length;a++)this.setTemporaryStyle(i,r[a].property,r[a].value)},t.prototype.restoreGlobalStyle=function(e){for(var i=at().body,r=bi(e)?e:[e],a=0;a<r.length;a++)this.restoreStyle(i,r[a].property)},t.prototype.isGlobalElement=function(e){return document.body===e.element},t.prototype.moved=function(e,i,r){r===void 0&&(r=300);var a=this.getShift(e);return Math.abs(a.x)>i||Math.abs(a.y)>i},t.prototype.old=function(e,i){return i===void 0&&(i=300),fo()-e.startTime>i},t.prototype.getShift=function(e){return{x:e.startPoint.x-e.point.x,y:e.startPoint.y-e.point.y}},t.prototype.getTrailPoint=function(e,i){for(var r,a=0;a<e.track.length;a++)if(e.track[a].timestamp>=i){r=e.track[a];break}return r},t.prototype.pointerExists=function(e,i){var r=!1;return e.each(function(a){a!=i&&(r=a.point.x==i.point.x&&a.point.y==i.point.y)}),r},t.prototype.getInteraction=function(e){return new pw(e)},t.prototype.setTemporaryStyle=function(e,i,r){var a=e.element;V(a.style[i])&&!e.replacedStyles.hasKey(i)&&e.replacedStyles.setKey(i,a.style[i]),hw(a,i,r)},t.prototype.restoreStyle=function(e,i){e.replacedStyles.hasKey(i)?(e.element.style[i]=e.replacedStyles.getKey(i),e.replacedStyles.removeKey(i)):delete e.element.style[i]},t.prototype.restoreAllStyles=function(e){ce(e.replacedStyles.iterator(),function(i){var r=i[0],a=i[1];e.element.style[r]=a,e.replacedStyles.removeKey(r)})},t.prototype.dispose=function(){this.isDisposed()||(s.prototype.dispose.call(this),this.restoreAllStyles(this.body),this.unlockWheel())},t.prototype.log=function(e,i,r){var a=!0;if(a){if(i.changedTouches){for(var n=0;n<i.changedTouches.length;n++)this.logTouch(e,i.type,i.changedTouches[n]);return}var o="";if(i.pointerType)switch(i.pointerType){case 2:o="touch";break;case 4:o="mouse";break;default:o=i.pointerType;break}else typeof TouchEvent<"u"&&i instanceof TouchEvent?o="touch":i.type.match(/^mouse/)?o="mouse":o="???";var l="";V(i.identifier)?l=i.identifier:V(i.pointerId)?l=i.pointerId:l="???",console.log(r?e+" ("+r.uid+")  "+i.type+"  "+o+"  "+l:e+"  "+i.type+"  "+o+"  "+l)}},t.prototype.areTransformed=function(e){var i=this.transformedObjects.length;if(e)for(var r=bi(e)?e:[e],a=0;a<r.length;a++)this.transformedObjects.contains(r[a])&&i--;return i>0},t.prototype.logTouch=function(e,i,r){console.log(e+"  "+i+"  touch  "+r.identifier)},Object.defineProperty(t,"passiveSupported",{get:function(){var e=this;if(this._passiveSupported==null)try{var i=Object.defineProperty({},"passive",{get:function(){e._passiveSupported=!0}});window.addEventListener("test",i,i),window.removeEventListener("test",i,i)}catch{this._passiveSupported=!1}return this._passiveSupported},enumerable:!0,configurable:!0}),t}(ls);var bw=null;function at(){return bw==null&&(bw=new oD),bw}var wp=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.adapter=new mr(e),e._elements={},e._IOs={},e._content="",e._title="",e._classPrefix="ampopup",e._defaultStyles=!0,e._showCurtain=!1,e._draggable=!0,e._align="center",e._dynamicResize=!0,e._verticalAlign="middle",e._shift={x:0,y:0},e._tempShift={x:0,y:0},e._readerTitle="",e._closable=!0,e._cssLoaded=!1,e._fitTo="window",e.isTemplate=!1,e._sized=!1,e.className="Popup",e}return t.prototype.open=function(){this.container&&(this._elements.wrapper&&this.container.appendChild(this._elements.wrapper),this._elements.curtain&&(this.container.appendChild(this._elements.curtain),this.showCurtain=this.showCurtain),this.positionElement(),this.dispatchImmediately("opened"))},t.prototype.close=function(){this._elements.wrapper&&this._elements.wrapper.parentElement&&this._elements.wrapper.parentElement.removeChild(this._elements.wrapper),this._elements.curtain&&this._elements.curtain.parentElement&&this._elements.curtain.parentElement.removeChild(this._elements.curtain),this.dispatchImmediately("closed"),this.releasePointers()},t.prototype.dispose=function(){this.close(),s.prototype.dispose.call(this)},t.prototype.positionElement=function(e){var i=this;e===void 0&&(e=!0),this._elements.wrapper&&setTimeout(function(){if(i._elements.wrapper){if(e||!i._sized){i._elements.wrapper.style.opacity="0.01",i._elements.wrapper.style.left="0",i._elements.wrapper.style.top="0",i._elements.wrapper.style.margin="0 0 0 0",i._elements.wrapper.style.width="",i._elements.wrapper.style.height="";var r=i._elements.wrapper.getBoundingClientRect();i._elements.wrapper.style.width=r.width+"px",i._elements.wrapper.style.height=r.height+"px",i._sized=!0}if(i.dynamicResize)for(var a=i._elements.wrapper.getElementsByTagName("img"),n=0;n<a.length;n++){var o=a[n];if(!o.complete){o.addEventListener("load",function(){i.positionElement(!0)});break}}setTimeout(function(){if(i._elements.wrapper){var l;switch((e||!i._sized)&&i._bbox?l=i._bbox:(l=i._elements.wrapper.getBoundingClientRect(),i._elements.wrapper.style.opacity=""),i.align){case"left":i._elements.wrapper.style.left="0",i._elements.wrapper.style.right="auto",i._elements.wrapper.style.marginLeft=i.toStyle(i._shift.x+i._tempShift.x);break;case"center":i._elements.wrapper.style.left="50%",i._elements.wrapper.style.right="auto",i._elements.wrapper.style.marginLeft=i.toStyle(Math.round(-l.width/2)+(i._shift.x+i._tempShift.x));break;case"right":i._elements.wrapper.style.left="auto",i._elements.wrapper.style.right="0",i._elements.wrapper.style.marginLeft=i.toStyle(i._shift.x+i._tempShift.x);break;default:i._elements.wrapper.style.left=i.toStyle(i.left)||"auto",i._elements.wrapper.style.right=i.toStyle(i.right)||"auto",i._elements.wrapper.style.marginLeft=i.toStyle(i._shift.x+i._tempShift.x);break}switch(i.verticalAlign){case"top":i._elements.wrapper.style.top="0",i._elements.wrapper.style.bottom="auto",i._elements.wrapper.style.marginTop=i.toStyle(i._shift.y+i._tempShift.y);break;case"middle":i._elements.wrapper.style.top="50%",i._elements.wrapper.style.bottom="auto",i._elements.wrapper.style.marginTop=i.toStyle(Math.round(-l.height/2)+(i._shift.y+i._tempShift.y));break;case"bottom":i._elements.wrapper.style.top="auto",i._elements.wrapper.style.bottom="0",i._elements.wrapper.style.marginTop=i.toStyle(i._shift.y+i._tempShift.y);break;default:i._elements.wrapper.style.top=i.toStyle(i.top)||"auto",i._elements.wrapper.style.bottom=i.toStyle(i.bottom)||"auto",i._elements.wrapper.style.marginTop=i.toStyle(i._shift.y+i._tempShift.y);break}}},1)}},1)},t.prototype.setupDragging=function(){var e=this;this.draggable?(this._IOs.header.events.has("drag")||this._IOs.header.events.on("drag",function(i){e._tempShift.x=i.shift.x,e._tempShift.y=i.shift.y,e.positionElement(!1)}),this._IOs.header.events.has("dragstop")||this._IOs.header.events.on("dragstop",function(i){e._shift.x+=e._tempShift.x,e._shift.y+=e._tempShift.y,e._tempShift.x=0,e._tempShift.y=0,e.positionElement(!1)})):this._IOs.header&&(at().unprepElement(this._IOs.header),this._IOs.header.events.has("drag")&&this._IOs.header.events.off("drag"),this._IOs.header.events.has("dragstop")&&this._IOs.header.events.off("dragstop"))},t.prototype.toStyle=function(e){return V(e)?I(e)?""+e+"px":e.toString():null},Object.defineProperty(t.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",this._classPrefix)},set:function(e){this._classPrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classPrefixRaw",{get:function(){return this._classPrefix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.adapter.apply("content",this._content)},set:function(e){this._content!=e&&(this._content=e,this._elements.content||this.createContentElement(),this._elements.content.innerHTML=e,this.positionElement())},enumerable:!0,configurable:!0}),t.prototype.getClassNames=function(){return this.adapter.apply("classNames",{wrapperClass:this.classPrefix+"",headerClass:this.classPrefix+"-header",titleClass:this.classPrefix+"-title",contentClass:this.classPrefix+"-content",insideClass:this.classPrefix+"-inside",curtainClass:this.classPrefix+"-curtain",closeClass:this.classPrefix+"-close"})},t.prototype.createContentElement=function(){if(!this._elements.wrapper){var e=this.getClassNames(),i=document.createElement("div");i.className=e.contentClass,i.style.opacity="0.01";var r=document.createElement("a");r.className=e.closeClass;var a=document.createElement("div");a.className=e.headerClass;var n=document.createElement("div");n.innerHTML=this.title,n.className=e.titleClass,this.title||(n.style.display="none");var o=document.createElement("div");o.className=e.insideClass,o.innerHTML=this.content,this._IOs.wrapper=at().getInteraction(i),this._IOs.header=at().getInteraction(a),this._disposers.push(this._IOs.wrapper),this._IOs.wrapper.events.on("over",this.disablePointers,this),this._IOs.wrapper.events.on("out",this.releasePointers,this),this._IOs.close=at().getInteraction(r),this._disposers.push(this._IOs.close),r.style.visibility="hidden",i.setAttribute("role","dialog"),a.appendChild(r),a.appendChild(n),i.appendChild(a),i.appendChild(o),this.container.appendChild(i),this._elements.wrapper=i,this._elements.header=a,this._elements.content=o,this._elements.title=n,this._elements.close=r,this.defaultStyles&&this.loadDefaultCSS(),this.createCurtainElement(),this.applyEvents(),this.applyReaderSettings(),this.setupDragging()}},Object.defineProperty(t.prototype,"title",{get:function(){return this.adapter.apply("title",this._title)},set:function(e){this._title!=e&&(this._title=e,this._elements.content||this.createContentElement(),this._elements.title.innerHTML=e,this.positionElement(),this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerTitle",{get:function(){return this.adapter.apply("readerTitle",this._readerTitle!=""?this._readerTitle:this.title)},set:function(e){this._readerTitle!=e&&(this._readerTitle=e,this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closable",{get:function(){return this.adapter.apply("closable",this._closable)},set:function(e){e!==this._closable&&(this._closable=e,this.applyEvents())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fitTo",{get:function(){return this.adapter.apply("fitTo",this._fitTo)},set:function(e){e!=this._fitTo&&(this._fitTo=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",this._defaultStyles)},set:function(e){this._defaultStyles!=e&&(this._defaultStyles=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showCurtain",{get:function(){return this.adapter.apply("showCurtain",this._showCurtain)},set:function(e){this._showCurtain!=e&&(this._showCurtain=e,this._elements.curtain&&(this._elements.curtain.style.display=e?"block":"none"))},enumerable:!0,configurable:!0}),t.prototype.createCurtainElement=function(){var e=this.getClassNames(),i=document.createElement("div");i.className=e.curtainClass,this.container.appendChild(i),this._IOs.curtain=at().getInteraction(i),this._disposers.push(this._IOs.curtain),this._IOs.curtain.events.on("over",this.disablePointers,this),this._IOs.curtain.events.on("out",this.releasePointers,this),i.style.display=this.showCurtain?"block":"none",this._elements.curtain=i},Object.defineProperty(t.prototype,"draggable",{get:function(){return this.adapter.apply("draggable",this._draggable)},set:function(e){this._draggable!=e&&(this._draggable=e,this.setupDragging())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dynamicResize",{get:function(){return this.adapter.apply("dynamicResize",this._dynamicResize)},set:function(e){this._dynamicResize!=e&&(this._dynamicResize=e,this.positionElement(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.adapter.apply("align",this._align)},set:function(e){this._align!=e&&(this._align=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",this._verticalAlign)},set:function(e){this._verticalAlign!=e&&(this._verticalAlign=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.adapter.apply("left",this._left)},set:function(e){this.left!=e&&(this._left=e,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.adapter.apply("right",this._right)},set:function(e){this.right!=e&&(this._right=e,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.adapter.apply("top",this._top)},set:function(e){this.top!=e&&(this._top=e,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.adapter.apply("bottom",this._bottom)},set:function(e){this.bottom!=e&&(this._bottom=e,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),t.prototype.loadDefaultCSS=function(){this._cssLoaded||(this._disposers.push(sD(nA(this.container),this.classPrefix)),Ue(this._elements,function(e,i){i.style.display=""}),this._cssLoaded=!0)},t.prototype.applyEvents=function(){var e=this;if(this._IOs.close)if(this.closable){this._IOs.close.element.style.visibility="visible";var i=[at().body.events.on("keyup",function(r){ga.isKey(r.event,"esc")&&e.closable&&e.close()}),this._IOs.close.events.on("hit",function(r){e.close()})];i.push(this._IOs.curtain.events.on("hit",function(r){e.showCurtain&&e.closable&&e.close()})),this._disposers.push(new Vt(i))}else this._IOs.close.element.style.visibility="hidden"},t.prototype.disablePointers=function(){this.sprite&&(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled,this.sprite.interactionsEnabled=!1)},t.prototype.releasePointers=function(){V(this._spriteInteractionsEnabled)&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled,this._spriteInteractionsEnabled=void 0)},t.prototype.applyReaderSettings=function(){this.elements.wrapper.setAttribute("aria-label",this.readerTitle)},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.container=e.container,this.sprite=e.sprite,this.classPrefix=e.classPrefixRaw,this.content=e.content,this.title=e.title,this.readerTitle=e.readerTitle,this.defaultStyles=e.defaultStyles,this.showCurtain=e.showCurtain,this.align=e.align,this.verticalAlign=e.verticalAlign,this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.adapter.copyFrom(e.adapter)},t}(ls);var Cp=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.adapter=new mr(e),e.className="Modal",e.showCurtain=!0,e.draggable=!1,e}return t}(wp);var WV=function(){function s(){var t=this;this._targets=[],this._observer=new ResizeObserver(function(e){we(e,function(i){we(t._targets,function(r){r.target===i.target&&r.callback()})})})}return s.prototype.addTarget=function(t,e){this._observer.observe(t,{box:"content-box"}),this._targets.push({target:t,callback:e})},s.prototype.removeTarget=function(t){this._observer.unobserve(t),F_(this._targets,function(e){return e.target!==t})},s}(),zV=function(){function s(){this._targets=[]}return s.prototype.addTarget=function(t,e){var i=this;if(this._targets.length===0){var r=null,a=function(){var o=Date.now();(r===null||o>r+s.delay)&&(r=o,we(i._targets,function(l){var u=l.target.getBoundingClientRect();(u.width!==l.size.width||u.height!==l.size.height)&&(l.size=u,l.callback())})),i._timer=requestAnimationFrame(a)};this._timer=requestAnimationFrame(a)}var n=t.getBoundingClientRect();this._targets.push({target:t,callback:e,size:n})},s.prototype.removeTarget=function(t){F_(this._targets,function(e){return e.target!==t}),this._targets.length===0&&cancelAnimationFrame(this._timer)},s.delay=200,s}(),Vy=null;function GV(){return Vy===null&&(typeof ResizeObserver<"u"?Vy=new WV:Vy=new zV),Vy}var lD=function(){function s(t,e){this._disposed=!1,this._sensor=GV(),this._element=t,this._sensor.addTarget(t,e)}return s.prototype.isDisposed=function(){return this._disposed},s.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element))},Object.defineProperty(s.prototype,"sensor",{get:function(){return this._sensor},enumerable:!0,configurable:!0}),s.prototype.reset=function(){iA("resizeSensor.reset() is no longer needed and can be removed")},s}();var Ny=[],Bp=function(){function s(t,e){var i=this;this._disposed=!1,this.autoResize=!0,this.nonExportableSprites=[],this._disposers=[],this.cssScale=1,this._printing=!1,this.htmlElement=t,e||(this._printing=!1,this.initSensor(),this._disposers.push(ji(window,"beforeprint",function(){i._printing=!0})),this._disposers.push(ji(window,"afterprint",function(){i._printing=!1}))),Ny.push(this);var r=document.createElement("div"),a=r.style;a.width="100%",a.height="100%",a.position="relative",t.appendChild(r),this.SVGContainer=r}return s.prototype.initSensor=function(){var t=this;this.resizeSensor&&this.resizeSensor.dispose();var e=function(){t.autoResize&&!t._printing&&t.measure()};this.resizeSensor=new lD(this.htmlElement,e),this._disposers.push(this.resizeSensor)},s.prototype.measure=function(){var t=J_(this.htmlElement),e=ew(this.htmlElement),i=this.container;i&&((this.width!=t||this.height!=e)&&(this.width=t,this.height=e,t>0&&(i.maxWidth=t),e>0&&(i.maxHeight=e),dw(this.SVGContainer)),i.maxWidth||(i.maxWidth=0),i.maxHeight||(i.maxHeight=0),this.cssScale=1,this.checkTransform(this.htmlElement))},Object.defineProperty(s.prototype,"container",{get:function(){return this._container},set:function(t){this._container=t,this.measure()},enumerable:!0,configurable:!0}),s.prototype.isDisposed=function(){return this._disposed},s.prototype.dispose=function(){this._disposed||Ye(Ny,this),we(this._disposers,function(t){t.dispose()})},Object.defineProperty(s.prototype,"hideOverflow",{set:function(t){t?this.SVGContainer.style.overflow="hidden":this.SVGContainer.style.overflow=""},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"modal",{get:function(){return V(this._modal)||(this._modal=new Cp,this._modal.container=this.SVGContainer,this._disposers.push(this._modal)),this._modal},enumerable:!0,configurable:!0}),s.prototype.openModal=function(t,e){this.closeModal();var i=this.modal;return i.content=t,i.readerTitle=e||"",i.title=e||"",i.open(),i},s.prototype.closeModal=function(){this._modal&&this.modal.close()},Object.defineProperty(s.prototype,"popups",{get:function(){if(!V(this._popups)){var t=new wp;t.container=this.SVGContainer,this._popups=new zt(t),this._disposers.push(new Tt(this._popups)),this._disposers.push(this._popups.template)}return this._popups},enumerable:!0,configurable:!0}),s.prototype.openPopup=function(t,e){var i=this.popups.create();return i.content=t,V(e)&&(i.title=e),i.open(),i},s.prototype.closeAllPopups=function(){this.popups.each(function(t){t.close()})},Object.defineProperty(s.prototype,"readerAlertElement",{get:function(){if(!V(this._readerAlertElement)){var t=document.createElement("div");t.setAttribute("role","alert"),t.style.zIndex="-100000",t.style.opacity="0",t.style.position="absolute",t.style.top="0",this.SVGContainer.appendChild(t),this._readerAlertElement=t}return this._readerAlertElement},enumerable:!0,configurable:!0}),s.prototype.readerAlert=function(t){this.readerAlertElement.innerHTML=t},s.prototype.checkTransform=function(t){if(window.getComputedStyle){if(t&&t.style){var e=window.getComputedStyle(t,null);if(e){var i=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform");if(i&&i!=="none"){var r=i.split("(")[1].split(")")[0].split(","),a=Number(r[0]),n=Number(r[1]),o=Math.sqrt(a*a+n*n);isNaN(o)||(this.cssScale*=o)}}}t.parentNode&&t.parentNode instanceof HTMLElement&&this.checkTransform(t.parentNode)}},s}();var Qy=function(){function s(t,e){this.container=t,this.id=e;var i=document.createElementNS(sh,"svg");i.setAttribute("version","1.1"),i.setAttributeNS(uw,"xmlns",sh),i.setAttributeNS(uw,"xmlns:xlink",rA),i.setAttribute("role","group"),this.container.appendChild(i),this.defs=document.createElementNS(sh,"defs"),i.appendChild(this.defs),i.style.width="100%",i.style.height="100%",i.style.overflow="visible",this.svg=i}return s.prototype.add=function(t){return new ah(t)},s.prototype.addGroup=function(t){return new xp(t)},s.prototype.append=function(t){t&&this.svg.appendChild(t.node)},s.prototype.appendDef=function(t){t&&this.defs.appendChild(t.node)},s.prototype.foreignObject=function(){var t=new ah("foreignObject");return t},s.prototype.supportsForeignObject=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Extensibility","1.1")},s}();var vw=null;function po(){if(vw===null){var s=document.createElement("div");s.hidden=!0,s.style.width="1px",s.style.height="1px",s.style.position="absolute",s.style.zIndex="-1000000",document.body.appendChild(s);var t=new Bp(s,!0);vw=new Qy(t.SVGContainer,"ghost")}return vw}var mo=function(s){N(t,s);function t(){var e=s.call(this)||this;e._elements=new gt,e.properties={},e.className="Pattern",e.width=10,e.height=10,e.x=0,e.y=0,e.patternUnits="userSpaceOnUse";var i=new ze;return e.backgroundFill=i.getFor("background"),e.backgroundOpacity=0,e.fillOpacity=1,e.fill=i.getFor("alternativeBackground"),e.stroke=i.getFor("alternativeBackground"),e.strokeOpacity=1,e.strokeWidth=1,e.shapeRendering="crispEdges",e.rotation=0,e.element=e.paper.addGroup("pattern"),e.id="pattern-"+M.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e._disposers.push(new Tt(e._elements)),e.patternUnits=e.patternUnits,e.width=e.width,e.height=e.height,e.applyTheme(),e}return t.prototype.draw=function(){var e=this,i=this.element;if(i){i.removeChildNodes();var r=this.paper.add("rect");r.attr({width:this.width,height:this.height,"shape-rendering":"crispEdges",fill:this.backgroundFill.hex,"fill-opacity":this.backgroundOpacity,stroke:this.backgroundFill.hex,"stroke-opacity":0}),i.add(r),i.attr({x:this.x,y:this.y,width:this.width,height:this.height,stroke:this.stroke.hex,fill:this.fill.hex,"fill-opacity":this.fillOpacity,"stroke-opacity":this.strokeOpacity,"stroke-width":this.strokeWidth,"shape-rendering":this.shapeRendering,patternUnits:this.patternUnits,"stroke-dasharray":this.strokeDasharray}),ce(this._elements.iterator(),function(a){a.rotation=e.rotation,a.rotationX=e.properties.rotationX,a.rotationY=e.properties.rotationY,e.element.add(a)})}},t.prototype.animate=function(e,i,r){return new gs(this,e,i,r).start()},t.prototype.addElement=function(e){this._elements.push(e),this._disposers.push(e)},t.prototype.removeElement=function(e){this._elements.removeValue(e),this.removeDispose(e)},Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.properties.fillOpacity},set:function(e){this.properties.fillOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.properties.fill},set:function(e){this.properties.fill=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundFill",{get:function(){return this.properties.backgroundFill},set:function(e){this.properties.backgroundFill=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundOpacity",{get:function(){return this.properties.backgroundOpacity},set:function(e){this.properties.backgroundOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(e){this.properties.stroke=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this.properties.strokeOpacity},set:function(e){this.properties.strokeOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(e){this.properties.strokeWidth=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shapeRendering",{get:function(){return this.properties.shapeRendering},set:function(e){this.properties.shapeRendering=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.properties.rotation},set:function(e){this.properties.rotation=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patternUnits",{get:function(){return this.properties.patternUnits},set:function(e){this.properties.patternUnits=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.properties.width},set:function(e){this.properties.width=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.properties.height},set:function(e){this.properties.height=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.properties.x},set:function(e){this.properties.x=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.properties.y},set:function(e){this.properties.y=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:po()},set:function(e){this._paper!=e&&(this._paper=e,this.draw(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;s.prototype.copyFrom.call(this,e),Ue(e.properties,function(r,a){i[r]=a})},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Nn(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDasharray",{get:function(){return this.properties.strokeDashArray},set:function(e){this.properties.strokeDashArray=e,this.draw()},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){if(e&&V(e.elements)&&bi(e.elements))for(var i=0,r=e.elements.length;i<r;i++){var a=e.elements[i];if(V(a.type)){var n=this.createEntryInstance(a);n instanceof Hi&&(n.config=a),this.addElement(V(a.typeProperty)?n[a.typeProperty]:n.element)}}s.prototype.processConfig.call(this,e)},t}(Hi);M.registeredClasses.Pattern=mo;var hs=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._stops=new gt,e._rotation=0,e.className="LinearGradient",e._stops.events.on("setIndex",e.validate,e),e._stops.events.on("inserted",e.validate,e),e.element=e.paper.addGroup("linearGradient"),e.id="gradient-"+M.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e.applyTheme(),e}return t.prototype.validate=function(){var e=this,i=(this._rotation+90)*Ed,r=Math.round(50+Math.sin(i+Math.PI)*50)+"%",a=Math.round(50+Math.cos(i)*50)+"%",n=Math.round(50+Math.sin(i)*50)+"%",o=Math.round(50+Math.cos(i+Math.PI)*50)+"%",l=this.element;l.removeChildNodes(),l.attr({x1:r,x2:n,y1:a,y2:o}),ce(Rn(this._stops.iterator()),function(u){var h=u[0],c=u[1],A=c.offset;I(A)||(A=h/(e._stops.length-1));var d=e.paper.add("stop");V(c.color)&&d.attr({"stop-color":c.color.toString()}),I(c.opacity)&&d.attr({"stop-opacity":c.opacity}),I(A)&&d.attr({offset:A}),l.add(d)})},t.prototype.clear=function(){this._stops.clear()},t.prototype.addColor=function(e,i,r){this._stops.push({color:e,opacity:i,offset:r})},Object.defineProperty(t.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:po()},set:function(e){this._paper!=e&&(this._paper=e,this.validate(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation=e,this.validate()},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.stops.copyFrom(e.stops),this._rotation=e.rotation},Object.defineProperty(t.prototype,"gradientUnits",{set:function(e){this.element.attr({gradientUnits:e})},enumerable:!0,configurable:!0}),t}(Hi);M.registeredClasses.LinearGradient=hs;var Ka=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._stops=new gt,e.element=e.paper.addGroup("radialGradient"),e.id="gradient-"+M.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e.applyTheme(),e}return t.prototype.draw=function(){var e=this,i=this.element;if(I(this.cx)){var r=this.cx;r instanceof qe&&(r=r.percent+"%"),i.attr({cx:r})}if(I(this.cy)){var r=this.cy;r instanceof qe&&(r=r.percent+"%"),i.attr({cy:r})}if(this.fx){var r=this.fx;r instanceof qe&&(r=r.percent+"%"),i.attr({fx:r})}if(this.fy){var r=this.fy;r instanceof qe&&(r=r.percent+"%"),i.attr({fy:r})}i.removeChildNodes(),ce(Rn(this._stops.iterator()),function(a){var n=a[0],o=a[1],l=o.offset;I(l)||(l=n/(e._stops.length-1));var u=e.paper.add("stop");V(o.color)&&u.attr({"stop-color":o.color.toString()}),I(o.opacity)&&u.attr({"stop-opacity":o.opacity}),I(l)&&u.attr({offset:l}),i.add(u)})},t.prototype.addColor=function(e,i,r){this._stops.push({color:e,opacity:i,offset:r}),this.draw()},Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:po()},set:function(e){this._paper!=e&&(this._paper=e,this.draw(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cx",{get:function(){return this._cx},set:function(e){this._cx=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cy",{get:function(){return this._cy},set:function(e){this._cy=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fx",{get:function(){return this._fx},set:function(e){this._fx=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fy",{get:function(){return this._fy},set:function(e){this._fy=e,this.draw()},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.stops.copyFrom(e.stops),this.cx=e.cx,this.cy=e.cy,this.fx=e.fx,this.fy=e.fy},Object.defineProperty(t.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._stops.clear()},t}(Hi);M.registeredClasses.RadialGradient=Ka;var li=function(){function s(){}return s.grab=[{property:"cursor",value:"move"},{property:"cursor",value:"grab"},{property:"cursor",value:"-webkit-grab"}],s.grabbing=[{property:"cursor",value:"move"},{property:"cursor",value:"grabbing"},{property:"cursor",value:"-webkit-grabbing"}],s.pointer=[{property:"cursor",value:"pointer"}],s.default=[{property:"cursor",value:"default"}],s.horizontalResize=[{property:"cursor",value:"ew-resize"}],s.verticalResize=[{property:"cursor",value:"ns-resize"}],s.notAllowed=[{property:"cursor",value:"not-allowed"}],s.text=[{property:"cursor",value:"text"}],s}();var xw={_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03BC",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_second:"HH:mm:ss",_date_minute:"HH:mm",_date_hour:"HH:mm",_date_day:"MMM dd",_date_week:"ww",_date_month:"MMM",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(s){var t="th";if(s<11||s>13)switch(s%10){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break}return t},"Zoom Out":"",Play:"",Stop:"",Legend:"","Click, tap or press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Click, tap or press ENTER to open":"","Click, tap or press ENTER to print.":"","Click, tap or press ENTER to export as %1.":"",'To save the image, right-click this link and choose "Save picture as..."':"",'To save the image, right-click thumbnail on the left and choose "Save picture as..."':"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""};var ya=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.adapter=new mr(e),e._locale=xw,e._defaultLocale=xw,e.className="Language",V(et.defaultLocale)&&(e.locale=et.defaultLocale),e.applyTheme(),e}return t.prototype.getLocale=function(e){return e==null&&(e=this._locale),this.adapter.apply("locale",{locale:e}).locale},t.prototype.translate=function(e,i){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];i=this.getLocale(i);var n=e,o=this.getTranslations(i),l=o[e];if(l===null)n="";else if(V(l))l&&(n=l);else if(i!==this._defaultLocale)return this.translate.apply(this,Il([e,this._defaultLocale],r));if(r.length)for(var u=r.length,h=0;h<u;++h)n=n.split("%"+(h+1)).join(r[h]);return this.adapter.apply("translate",{translation:n,locale:i}).translation},t.prototype.translateAny=function(e,i){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];return this.translate.apply(this,Il([e,i],r))},t.prototype.setTranslationAny=function(e,i,r){var a=r||this.locale;a[e]=i},t.prototype.translateEmpty=function(e,i){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];var n=this.translate.apply(this,Il([e,i],r));return n==e?"":n},t.prototype.translateFunc=function(e,i){i=this.getLocale(i);var r=this.getTranslations(i),a=r[e];return a??(i!==this._defaultLocale?this.translateFunc(e,this._defaultLocale):function(){return""})},t.prototype.translateAll=function(e,i){var r=this;return this.isDefault()?e:Xl(e,function(a){return r.translate(a,i)})},t.prototype.isDefault=function(){return this._defaultLocale===this._locale},Object.defineProperty(t.prototype,"locale",{get:function(){return this._locale},set:function(e){if(this._locale!=e&&(this._locale=e,this.events.isEnabled("localechanged"))){var i={type:"localechanged",locale:e,target:this};this.events.dispatchImmediately("localechanged",i)}},enumerable:!0,configurable:!0}),t.prototype.getTranslations=function(e){return this.adapter.apply("translations",{translations:e,locale:e}).translations},t}(ls);var ww=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.adapter=new mr(e),e.className="TextFormatter",e.applyTheme(),e}return t.prototype.debug=function(){},t.prototype.format=function(e,i){V(i)||(i="svg");var r="";e=this.escape(e);var a=e.match(/\[([^\]]*?)\]/gm);if(!a)return this.wrap(e,"",i);for(var n=e.split(/\[[^\[\]]*\]/),o=0,l=n.length;o<l;o++){var u=n[o];if(u!==""){u=this.adapter.apply("chunk",u);var h="";o>0&&(h=a[o-1].replace("[","").replace("]","")),r+=this.wrap(u,h,i)}}return r=this.unescape(r),this.cleanUp(r)},t.prototype.escape=function(e){return e.replace(/\[\[/g,M.getPlaceholder("1")).replace(/([^\/\]]{1})\]\]/g,"$1"+M.getPlaceholder("2")).replace(/\]\]/g,M.getPlaceholder("2")).replace(/\{\{/g,M.getPlaceholder("3")).replace(/\}\}/g,M.getPlaceholder("4")).replace(/\'\'/g,M.getPlaceholder("5"))},t.prototype.unescape=function(e){return e.replace(new RegExp(M.getPlaceholder("1"),"g"),"[[").replace(new RegExp(M.getPlaceholder("2"),"g"),"]]").replace(new RegExp(M.getPlaceholder("3"),"g"),"{{").replace(new RegExp(M.getPlaceholder("4"),"g"),"}}").replace(new RegExp(M.getPlaceholder("5"),"g"),"''")},t.prototype.cleanUp=function(e){return e.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")},t.prototype.wrap=function(e,i,r){switch((i===""||i==="/")&&(i=""),r){case"html":return this.wrapHtml(e,this.translateStyleShortcuts(i));default:return this.wrapSvg(e,this.translateStyleShortcuts(i))}},t.prototype.wrapSvg=function(e,i){return i===""?"<tspan>"+e+"</tspan>":"<tspan style='"+i+"'>"+e+"</tspan>"},t.prototype.getSvgElement=function(e,i){var r=new ah("tspan");return r.textContent=e,i&&r.node.setAttribute("style",i),r},t.prototype.wrapHtml=function(e,i){return i===""?"<span>"+e+"</span>":"<span style='"+this.styleSvgToHtml(i)+"'>"+e+"</span>"},t.prototype.getHtmlElement=function(e,i){var r=document.createElement("span");return r.innerHTML=e,i&&r.setAttribute("style",i),r},t.prototype.styleSvgToHtml=function(e){return e=e.replace(/fill:/,"color:"),e},t.prototype.translateStyleShortcuts=function(e){if(e==""||e=="[ ]")return"";var i=M.getCache("translateStyleShortcuts_"+e);if(i)return i;var r=e.match(/('[^']*')|("[^"]*")/gi);if(r)for(var a=0;a<r.length;a++)e=e.replace(r[a],r[a].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));var n=e.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w]+)|(\/)/gi);if(!n)return e;for(var a=0;a<n.length;a++)n[a].match(/^bold$/i)?n[a]="font-weight:"+n[a]:n[a]=="/"?n[a]="":n[a].match(/:/)?n[a]=n[a].replace(/\+/g," "):n[a]="fill:"+n[a];var o=n.join(";");return M.setCache("translateStyleShortcuts_"+e,o),o},t.prototype.chunk=function(e,i,r){i===void 0&&(i=!1),r===void 0&&(r=!1);var a=[];e=this.escape(e);for(var n=i?e.split("'"):[e],o=0;o<n.length;o++){var l=n[o];if(l!=="")if(o%2===0){l=l.replace(/\]\[/g,"]"+ms+"["),l=l.replace(/\[\]/g,"[ ]");for(var u=l.split(/[\[\]]+/),h=0;h<u.length;h++){var c=this.cleanUp(this.unescape(u[h]));c!==ms&&c!==""&&(h%2===0?a.push({type:"value",text:this.adapter.apply("chunk",c)}):a.push({type:r?"value":"format",text:"["+c+"]"}))}}else for(var u=l.split(/[\[\]]+/),h=0;h<u.length;h++){var c=this.cleanUp(this.unescape(u[h]));c!==""&&(h%2===0?a.push({type:"text",text:c}):this.isImage(c)?a.push({type:"image",text:"["+c+"]"}):a.push({type:"format",text:"["+c+"]"}))}}return a},t.prototype.isImage=function(e){return!!e.match(/img[ ]?:/)},t}(Hi);var _w;function Ia(){return _w==null&&(_w=new ww),_w}M.registeredClasses.TextFormatter=ww;var Kl=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._negativeBase=0,e._numberFormat="#,###.#####",e._outputFormat="svg",e._smallNumberThreshold=1,e._forceLTR=!1,e.className="NumberFormatter",e.applyTheme(),e}return t.prototype.dispose=function(){s.prototype.dispose.call(this),this.language&&this.language.dispose()},Object.defineProperty(t.prototype,"language",{get:function(){return this._language||(this.sprite?this._language=this.sprite.language:this._language=new ya),this._language},set:function(e){this._language=e},enumerable:!0,configurable:!0}),t.prototype.format=function(e,i,r){(typeof i>"u"||ut(i)&&i.toLowerCase()==="number")&&(i=this._numberFormat);var a,n=Number(e);if(ri(i))try{return this.intlLocales?new Intl.NumberFormat(this.intlLocales,i).format(n):new Intl.NumberFormat(void 0,i).format(n)}catch{return"Invalid"}else{i=rh(i);var o=this.parseFormat(i,this.language),l=void 0;n>this._negativeBase?l=o.positive:n<this._negativeBase?l=o.negative:l=o.zero,V(r)&&!l.mod&&(l=PT(l),l.decimals.active=n==0?0:r),a=l.template.split(ms).join(this.applyFormat(n,l))}return this.forceLTR&&(a="\u200E"+a),a},t.prototype.parseFormat=function(e,i){var r=this,a=this.getCache(e);if(V(a))return a;var n={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:i.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:i.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:i.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:i.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:i.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:i.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1}};e=e.replace("||",Yl);var o=e.split("|");return n.positive.source=o[0],typeof o[2]>"u"?n.zero=n.positive:n.zero.source=o[2],typeof o[1]>"u"?n.negative=n.positive:n.negative.source=o[1],Ue(n,function(l,u){if(!u.parsed){if(typeof r.getCache(u.source)<"u"){n[l]=r.getCache(u.source);return}var h=u.source;h.toLowerCase()==="number"&&(h=ut(r._numberFormat)?r._numberFormat:"#,###.#####");for(var c=Ia().chunk(h,!0),A=0;A<c.length;A++){var d=c[A];if(d.text=d.text.replace(Yl,"|"),d.type==="value"){var f=d.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP!]?/);if(f)if(f===null||f[0]==="")u.template+=d.text;else{var p=f[0].match(/[abespABESP%!]{2}|[abespABESP%]{1}$/);p&&(u.mod=p[0].toLowerCase(),u.modSpacing=!!f[0].match(/[ ]{1}[abespABESP%!]{1}$/));var m=f[0].split(".");if(m[0]!==""){u.thousands.active=(m[0].match(/0/g)||[]).length,u.thousands.passive=(m[0].match(/\#/g)||[]).length+u.thousands.active;var g=m[0].split(",");g.length===1||(u.thousands.interval=fi(g.pop()).length,u.thousands.interval===0&&(u.thousands.interval=-1))}typeof m[1]>"u"||(u.decimals.active=(m[1].match(/0/g)||[]).length,u.decimals.passive=(m[1].match(/\#/g)||[]).length+u.decimals.active),u.template+=d.text.split(f[0]).join(ms)}}else u.template+=d.text}r.setCache(u.source,u),u.parsed=!0}}),this.setCache(e,n),n},t.prototype.applyFormat=function(e,i){var r=e<0;e=Math.abs(e);var a="",n="",o=i.mod?i.mod.split(""):[];if(o.indexOf("b")!==-1){var l=this.applyPrefix(e,this.bytePrefixes,o.indexOf("!")!==-1);e=l[0],a=l[1],n=l[2],i.modSpacing&&(n=" "+n)}else if(o.indexOf("a")!==-1){var u=this.applyPrefix(e,e<this.smallNumberThreshold?this.smallNumberPrefixes:this.bigNumberPrefixes,o.indexOf("!")!==-1);e=u[0],a=u[1],n=u[2],i.modSpacing&&(n=" "+n)}else if(o.indexOf("p")!==-1){var h=Math.min(e.toString().length+2,21);e=parseFloat(e.toPrecision(h)),a=this.language.translate("_percentPrefix")||"",n=this.language.translate("_percentSuffix")||"",a==""&&n==""&&(n="%")}else if(o.indexOf("%")!==-1){var h=dt(e.toString().length+2,21);e*=100,e=parseFloat(e.toPrecision(h)),n="%"}else if(o.indexOf("\u2030")!==-1){var h=dt(e.toString().length+3,21);e*=1e3,e=parseFloat(e.toPrecision(h)),n="\u2030"}if(o.indexOf("e")!==-1){var c=void 0;i.decimals.passive>=0?c=e.toExponential(i.decimals.passive).split("e"):c=e.toExponential().split("e"),e=Number(c[0]),n="e"+c[1],i.modSpacing&&(n=" "+n)}else if(i.decimals.passive===0)e=Math.round(e);else if(i.decimals.passive>0){var A=Math.pow(10,i.decimals.passive);e=Math.round(e*A)/A}var d="",f=Y_(e).split("."),p=f[0];if(p.length<i.thousands.active&&(p=Array(i.thousands.active-p.length+1).join("0")+p),i.thousands.interval>0){for(var m=[],g=p.split("").reverse().join(""),y=0,x=p.length;y<=x;y+=i.thousands.interval){var C=g.substr(y,i.thousands.interval).split("").reverse().join("");C!==""&&m.unshift(C)}p=m.join(i.thousands.separator)}d+=p,f.length===1&&f.push("");var S=f[1];return S.length<i.decimals.active&&(S+=Array(i.decimals.active-S.length+1).join("0")),S!==""&&(d+=i.decimals.separator+S),d===""&&(d="0"),e!==0&&r&&o.indexOf("s")===-1&&(d="-"+d),a&&(d=a+d),n&&(d+=n),d},t.prototype.applyPrefix=function(e,i,r){r===void 0&&(r=!1);for(var a=e,n="",o="",l=!1,u=1,h=0,c=i.length;h<c;h++)i[h].number<=e&&(i[h].number===0?a=0:(a=e/i[h].number,u=i[h].number),n=i[h].prefix,o=i[h].suffix,l=!0);return!l&&r&&i.length&&e!=0&&(a=e/i[0].number,n=i[0].prefix,o=i[0].suffix,l=!0),l&&(a=parseFloat(a.toPrecision(dt(u.toString().length+Math.floor(a).toString().replace(/[^0-9]*/g,"").length,21)))),[a,n,o]},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(t.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(e){this._numberFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(e){this._intlLocales=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"negativeBase",{get:function(){return this._negativeBase},set:function(e){this._negativeBase=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bigNumberPrefixes",{get:function(){return V(this._bigNumberPrefixes)||(this._bigNumberPrefixes=[{number:1e3,suffix:this.language.translate("_big_number_suffix_3")},{number:1e6,suffix:this.language.translate("_big_number_suffix_6")},{number:1e9,suffix:this.language.translate("_big_number_suffix_9")},{number:1e12,suffix:this.language.translate("_big_number_suffix_12")},{number:1e15,suffix:this.language.translate("_big_number_suffix_15")},{number:1e18,suffix:this.language.translate("_big_number_suffix_18")},{number:1e21,suffix:this.language.translate("_big_number_suffix_21")},{number:1e24,suffix:this.language.translate("_big_number_suffix_24")}]),this._bigNumberPrefixes},set:function(e){this._bigNumberPrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smallNumberPrefixes",{get:function(){return V(this._smallNumberPrefixes)||(this._smallNumberPrefixes=[{number:1e-24,suffix:this.language.translate("_small_number_suffix_24")},{number:1e-21,suffix:this.language.translate("_small_number_suffix_21")},{number:1e-18,suffix:this.language.translate("_small_number_suffix_18")},{number:1e-15,suffix:this.language.translate("_small_number_suffix_15")},{number:1e-12,suffix:this.language.translate("_small_number_suffix_12")},{number:1e-9,suffix:this.language.translate("_small_number_suffix_9")},{number:1e-6,suffix:this.language.translate("_small_number_suffix_6")},{number:.001,suffix:this.language.translate("_small_number_suffix_3")}]),this._smallNumberPrefixes},set:function(e){this._smallNumberPrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smallNumberThreshold",{get:function(){return this._smallNumberThreshold},set:function(e){this._smallNumberThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bytePrefixes",{get:function(){return V(this._bytePrefixes)||(this._bytePrefixes=[{number:1,suffix:this.language.translate("_byte_suffix_B")},{number:1024,suffix:this.language.translate("_byte_suffix_KB")},{number:1048576,suffix:this.language.translate("_byte_suffix_MB")},{number:1073741824,suffix:this.language.translate("_byte_suffix_GB")},{number:1099511627776,suffix:this.language.translate("_byte_suffix_TB")},{number:0x4000000000000,suffix:this.language.translate("_byte_suffix_PB")}]),this._bytePrefixes},set:function(e){this._bytePrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"forceLTR",{get:function(){return this._forceLTR},set:function(e){this._forceLTR=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),t.prototype.escape=function(e){return e.replace("||",Yl)},t.prototype.unescape=function(e){return e.replace(Yl,"|")},t}(Hi);M.registeredClasses.NumberFormatter=Kl;var An=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._dateFormat="yyyy-MM-dd",e._inputDateFormat="yyyy-MM-dd",e._utc=!1,e.timezoneMinutes=0,e._firstDayOfWeek=1,e.months=["January","February","March","April","May","June","July","August","September","October","November","December"],e.monthsShort=["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e._outputFormat="svg",e.capitalize=!0,e.className="DateFormatter",e.applyTheme(),e}return Object.defineProperty(t.prototype,"language",{get:function(){return this._language},set:function(e){this._language=e,this.dateFormat=this._language.translate("_date")},enumerable:!0,configurable:!0}),t.prototype.format=function(e,i,r){this.language||(this.sprite?this.language=this.sprite.language:this.language=new ya),(typeof i>"u"||i==="")&&(i=this._dateFormat);var a,n;if(ut(e)?n=this.parse(e):n=dp(e),ri(i))try{return this.intlLocales?new Intl.DateTimeFormat(this.intlLocales,i).format(n):new Intl.DateTimeFormat(void 0,i).format(n)}catch{return"Invalid"}else{i=rh(i);var o=this.parseFormat(i);if(V(this.timezoneOffset)?n.setMinutes(n.getMinutes()+n.getTimezoneOffset()-this.timezoneOffset):V(this.timezone)&&r!==!1&&(n=oA(n,this.timezone)),!I(n.getTime()))return this.language.translate("Invalid date");a=this.applyFormat(n,o,this.language),this.capitalize&&(a=a.replace(/^.{1}/,a.substr(0,1).toUpperCase()))}return a},t.prototype.parseFormat=function(e){var i=this.getCache(e);if(V(i))return i;for(var r={template:"",parts:[]},a=Ia().chunk(e,!0),n=0;n<a.length;n++){var o=a[n];if(o.type==="value"){o.text.match(/^date$/i)&&ut(this._dateFormat)&&(o.text=this._dateFormat);var l=o.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(l)for(var u=0;u<l.length;u++)r.parts.push(l[u]),o.text=o.text.replace(l[u],ms)}r.template+=o.text}return this.setCache(e,r),r},t.prototype.applyFormat=function(e,i,r){var a=i.template,n,o,l,u,h,c,A,d,f=e.getTimezoneOffset(),p=e.getTime();this.utc?(n=e.getUTCFullYear(),o=e.getUTCMonth(),l=e.getUTCDay(),u=e.getUTCDate(),h=e.getUTCHours(),c=e.getUTCMinutes(),A=e.getUTCSeconds(),d=e.getUTCMilliseconds()):(n=e.getFullYear(),o=e.getMonth(),l=e.getDay(),u=e.getDate(),h=e.getHours(),c=e.getMinutes(),A=e.getSeconds(),d=e.getMilliseconds());for(var m=0,g=i.parts.length;m<g;m++){var y="";switch(i.parts[m]){case"G":y=r.translate(n<0?"_era_bc":"_era_ad");break;case"yyyy":y=Math.abs(n).toString(),n<0&&(y+=r.translate("_era_bc"));break;case"yyy":case"yy":case"y":y=Math.abs(n).toString().substr(-i.parts[m].length),n<0&&(y+=r.translate("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":var x=q_(e);i.parts[m]=="YYYY"?y=Math.abs(x).toString():y=Math.abs(x).toString().substr(-i.parts[m].length),x<0&&(y+=r.translate("_era_bc"));break;case"u":break;case"q":y=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":y=r.translate(this.months[o]).substr(0,1);break;case"MMMM":y=r.translate(this.months[o]);break;case"MMM":y=r.translate(this.monthsShort[o]);break;case"MM":y=us(o+1,2,"0");break;case"M":y=(o+1).toString();break;case"ww":y=us(Gd(e,this.utc),2,"0");break;case"w":y=Gd(e,this.utc).toString();break;case"W":y=K_(e,this.utc).toString();break;case"dd":y=us(u,2,"0");break;case"d":y=u.toString();break;case"DD":case"DDD":y=us(Ty(e,this.utc).toString(),i.parts[m].length,"0");break;case"D":y=Ty(e,this.utc).toString();break;case"F":break;case"g":break;case"t":y=r.translateFunc("_dateOrd").call(this,u);break;case"E":y=(l||7).toString();break;case"EE":y=us((l||7).toString(),2,"0");break;case"EEE":case"eee":y=r.translate(this.weekdaysShort[l]);break;case"EEEE":case"eeee":y=r.translate(this.weekdays[l]);break;case"EEEEE":case"eeeee":y=r.translate(this.weekdays[l]).substr(0,1);break;case"e":case"ee":y=(l-this.firstDayOfWeek+1).toString(),i.parts[m]=="ee"&&(y=us(y,2,"0"));break;case"a":h>=12?y=r.translate("PM"):y=r.translate("AM");break;case"aa":h>=12?y=r.translate("P.M."):y=r.translate("A.M.");break;case"aaa":h>=12?y=r.translate("P"):y=r.translate("A");break;case"h":y=Jd(h).toString();break;case"hh":y=us(Jd(h),2,"0");break;case"H":y=h.toString();break;case"HH":y=us(h,2,"0");break;case"K":y=Jd(h,0).toString();break;case"KK":y=us(Jd(h,0),2,"0");break;case"k":y=(h+1).toString();break;case"kk":y=us(h+1,2,"0");break;case"m":y=c.toString();break;case"mm":y=us(c,2,"0");break;case"s":y=A.toString();break;case"ss":y=us(A,2,"0");break;case"S":case"SS":case"SSS":y=Math.round(d/1e3*Math.pow(10,i.parts[m].length)).toString();break;case"x":y=p.toString();break;case"n":case"nn":case"nnn":y=us(d,i.parts[m].length,"0");break;case"z":y=eA(e,!1,!1,this.utc);break;case"zz":y=eA(e,!0,!1,this.utc);break;case"zzz":y=eA(e,!1,!0,this.utc);break;case"zzzz":y=eA(e,!0,!0,this.utc);break;case"Z":case"ZZ":var C=Math.abs(f)/60,S=Math.floor(C),P=C*60-S*60;this.utc&&(S=0,P=0),i.parts[m]=="Z"?(y="GMT",y+=f>0?"-":"+",y+=us(S,2)+":"+us(P,2)):(y=f>0?"-":"+",y+=us(S,2)+us(P,2));break;case"i":y=e.toISOString();break;case"I":y=e.toUTCString();break}a=a.replace(ms,y)}return a},t.prototype.parse=function(e,i){if(V(i)||(i=this.inputDateFormat),e instanceof Date)return e;if(typeof e=="number")return new Date(e);typeof e!="string"&&(e=e.toString()),this.language||(this.sprite?this.language=this.sprite.language:this.language=new ya);var r,a="";i=rh(i),i=i.substr(0,e.length);for(var n=this.parseFormat(i),o={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},l={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this.utc},u=0,h=0,c=0;c<n.parts.length;c++){switch(h=c+u+1,n.parts[c]){case"yyyy":case"YYYY":a+="([0-9]{4})",o.year=h;break;case"yyy":case"YYY":a+="([0-9]{3})",o.year3=h;break;case"yy":case"YY":a+="([0-9]{2})",o.year2=h;break;case"y":case"Y":a+="([0-9]{1})",o.year1=h;break;case"MMMM":a+="("+this.getStringList(this.months).join("|")+")",o.monthLong=h;break;case"MMM":a+="("+this.getStringList(this.monthsShort).join("|")+")",o.monthShort=h;break;case"MM":case"M":a+="([0-9]{2}|[0-9]{1})",o.month=h;break;case"ww":case"w":a+="([0-9]{2}|[0-9]{1})",o.week=h;break;case"dd":case"d":a+="([0-9]{2}|[0-9]{1})",o.day=h;break;case"DDD":case"DD":case"D":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.yearDay=h;break;case"dddd":a+="("+this.getStringList(this.weekdays).join("|")+")",o.weekdayLong=h;break;case"ddd":a+="("+this.getStringList(this.weekdaysShort).join("|")+")",o.weekdayShort=h;break;case"aaa":case"aa":case"a":a+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",o.am=h;break;case"hh":case"h":a+="([0-9]{2}|[0-9]{1})",o.hour12Base1=h;break;case"HH":case"H":a+="([0-9]{2}|[0-9]{1})",o.hourBase0=h;break;case"KK":case"K":a+="([0-9]{2}|[0-9]{1})",o.hour12Base0=h;break;case"kk":case"k":a+="([0-9]{2}|[0-9]{1})",o.hourBase1=h;break;case"mm":case"m":a+="([0-9]{2}|[0-9]{1})",o.minute=h;break;case"ss":case"s":a+="([0-9]{2}|[0-9]{1})",o.second=h;break;case"SSS":case"SS":case"S":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.millisecond=h,o.millisecondDigits=n.parts[c].length;break;case"nnn":case"nn":case"n":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.millisecond=h;break;case"x":a+="([0-9]{1,})",o.timestamp=h;break;case"Z":a+="GMT([-+]+[0-9]{2}:[0-9]{2})",o.zone=h;break;case"ZZ":a+="([\\-+]+[0-9]{2}[0-9]{2})",o.zone=h;break;case"i":a+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2}).?([0-9]{0,3})([zZ]|[+-][0-9]{2}:?[0-9]{2}|$)",o.iso=h,u+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":u--;break}a+="[^0-9]*"}var A=new RegExp(a),d=e.match(A);if(d){if(o.year>-1&&(l.year=parseInt(d[o.year])),o.year3>-1){var f=parseInt(d[o.year3]);f+=1e3,l.year=f}if(o.year2>-1){var f=parseInt(d[o.year2]);f>50?f+=1e3:f+=2e3,l.year=f}if(o.year1>-1){var f=parseInt(d[o.year1]);f=Math.floor(new Date().getFullYear()/10)*10+f,l.year=f}if(o.monthLong>-1&&(l.month=this.resolveMonth(d[o.monthLong])),o.monthShort>-1&&(l.month=this.resolveShortMonth(d[o.monthShort])),o.month>-1&&(l.month=parseInt(d[o.month])-1),o.week>-1&&o.day===-1&&(l.month=0,l.day=Z_(parseInt(d[o.week]),l.year,1,this.utc)),o.day>-1&&(l.day=parseInt(d[o.day])),o.yearDay>-1&&(l.month=0,l.day=parseInt(d[o.yearDay])),o.hourBase0>-1&&(l.hour=parseInt(d[o.hourBase0])),o.hourBase1>-1&&(l.hour=parseInt(d[o.hourBase1])-1),o.hour12Base0>-1){var f=parseInt(d[o.hour12Base0]);f==11&&(f=0),o.am>-1&&!this.isAm(d[o.am])&&(f+=12),l.hour=f}if(o.hour12Base1>-1){var f=parseInt(d[o.hour12Base1]);f==12&&(f=0),o.am>-1&&!this.isAm(d[o.am])&&(f+=12),l.hour=f}if(o.minute>-1&&(l.minute=parseInt(d[o.minute])),o.second>-1&&(l.second=parseInt(d[o.second])),o.millisecond>-1){var f=parseInt(d[o.millisecond]);o.millisecondDigits==2?f*=10:o.millisecondDigits==1&&(f*=100),l.millisecond=f}if(o.timestamp>-1){l.timestamp=parseInt(d[o.timestamp]);var p=new Date(l.timestamp);l.year=p.getUTCFullYear(),l.month=p.getUTCMonth(),l.day=p.getUTCDate(),l.hour=p.getUTCHours(),l.minute=p.getUTCMinutes(),l.second=p.getUTCSeconds(),l.millisecond=p.getUTCMilliseconds()}o.zone>-1&&(l.offset=this.resolveTimezoneOffset(new Date(l.year,l.month,l.day),d[o.zone])),o.iso>-1&&(l.year=Gt(d[o.iso+0]),l.month=Gt(d[o.iso+1])-1,l.day=Gt(d[o.iso+2]),l.hour=Gt(d[o.iso+3]),l.minute=Gt(d[o.iso+4]),l.second=Gt(d[o.iso+5]),l.millisecond=Gt(d[o.iso+6]),d[o.iso+7]=="Z"||d[o.iso+7]=="z"?l.utc=!0:d[o.iso+7]!=""&&(l.offset=this.resolveTimezoneOffset(new Date(l.year,l.month,l.day),d[o.iso+7]))),l.utc?r=new Date(Date.UTC(l.year,l.month,l.day,l.hour,l.minute,l.second,l.millisecond)):r=new Date(l.year,l.month,l.day,l.hour,l.minute+l.offset,l.second,l.millisecond)}else r=new Date(e);return r},t.prototype.resolveTimezoneOffset=function(e,i){var r=i.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/);if(r){var a=fi(i.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)),n=a[1],o=a[2],l=a[3],u=parseInt(o)*60+parseInt(l);n=="+"&&(u*=-1);var h=(e||new Date).getTimezoneOffset(),c=u-h;return c}return 0},t.prototype.resolveMonth=function(e){var i=this.months.indexOf(e);return i>-1||this.language&&!this.language.isDefault()&&(i=this.language.translateAll(this.months).indexOf(e),i>-1)?i:0},t.prototype.resolveShortMonth=function(e){var i=this.monthsShort.indexOf(e);return i>-1||(i=this.months.indexOf(e),i>-1)||this.language&&!this.language.isDefault()&&(i=this.language.translateAll(this.monthsShort).indexOf(e),i>-1)?i:0},t.prototype.isAm=function(e){var i=this.getStringList(["AM","A.M.","A"]);return i.indexOf(e.toUpperCase())>-1},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},t.prototype.getStringList=function(e){for(var i=[],r=0;r<e.length;r++)this.language?i.push(Yd(this.language.translate(e[r]))):i.push(Yd(e[r]));return i},Object.defineProperty(t.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(e){this._dateFormat=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputDateFormat",{get:function(){return this._inputDateFormat},set:function(e){this._inputDateFormat=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(e){this._intlLocales=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"utc",{get:function(){return this._utc},set:function(e){this._utc=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezoneOffset",{get:function(){return this._timezoneOffset},set:function(e){this._timezoneOffset!=e&&(this._timezoneOffset=e,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezone",{get:function(){return this._timezone},set:function(e){this._timezone!=e&&(this._timezone=e,this.timezoneMinutes=nD(e),this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{get:function(){return this._firstDayOfWeek},set:function(e){this._firstDayOfWeek=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),t}(Hi);M.registeredClasses.DateFormatter=An;var lA=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._negativeBase=0,e._baseUnit="second",e._outputFormat="svg",e._unitValues={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},e._unitAliases={Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"},e.className="DurationFormatter",e.applyTheme(),e}return t.prototype.format=function(e,i,r){this.language||(this.sprite?this.language=this.sprite.language:this.language=new ya);var a=r||this._baseUnit;(typeof i>"u"||i==="")&&(V(this.durationFormat)?i=this.durationFormat:i=this.getFormat(Gt(e),null,a)),i=rh(i);var n=this.parseFormat(i,a),o=Number(e),l;o>this._negativeBase?l=n.positive:o<this._negativeBase?l=n.negative:l=n.zero;var u=this.applyFormat(o,l);return l.color!==""&&(this._outputFormat==="svg"?u="<tspan fill='"+l.color+"'>"+u+"</tspan>":this._outputFormat==="html"&&(u="<span style='color: "+l.color+";'>"+u+"</span>")),u},t.prototype.parseFormat=function(e,i){var r=this,a=this.getCache(e);if(V(a))return a;var n=i||this._baseUnit,o={positive:{color:"",template:"",parts:[],source:"",baseUnit:n,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:n,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:n,parsed:!1,absolute:!1}};e=e.replace("||",Yl);var l=e.split("|");return o.positive.source=l[0],typeof l[2]>"u"?o.zero=o.positive:o.zero.source=l[2],typeof l[1]>"u"?o.negative=o.positive:o.negative.source=l[1],Ue(o,function(u,h){if(!h.parsed){if(typeof r.getCache(h.source)<"u"){o[u]=r.getCache(h.source);return}var c=h.source,A=[];A=h.source.match(/^\[([^\]]*)\]/),A&&A.length&&A[0]!==""&&(c=h.source.substr(A[0].length),h.color=A[1]);for(var d=Ia().chunk(c,!0),f=0;f<d.length;f++){var p=d[f];if(p.text=p.text.replace(Yl,"|"),p.type==="value"){p.text.match(/[yYMdDwhHKkmsSn]+a/)&&(h.absolute=!0,p.text=p.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));var m=p.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(m)for(var g=0;g<m.length;g++)V(m[g])||(m[g]=r._unitAliases[m[g]]),h.parts.push(m[g]),p.text=p.text.replace(m[g],ms)}h.template+=p.text}r.setCache(h.source,h),h.parsed=!0}}),this.setCache(e,o),o},t.prototype.applyFormat=function(e,i){var r=!i.absolute&&e<this._negativeBase;e=Math.abs(e);for(var a=this.toTimeStamp(e,i.baseUnit),n=i.template,o=0,l=i.parts.length;o<l;o++){var u=i.parts[o],h=this.toTimeUnit(u.substr(0,1)),c=u.length,A=Math.floor(a/this._unitValues[h]);n=n.replace(ms,us(A,c,"0")),a-=A*this._unitValues[h]}return r&&(n="-"+n),n},t.prototype.toTimeStamp=function(e,i){return e*this._unitValues[i]},t.prototype.toTimeUnit=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(t.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(e){this._baseUnit=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),t.prototype.getFormat=function(e,i,r){if(V(this.durationFormat))return this.durationFormat;if(r||(r=this.baseUnit),V(i)&&e!=i){e=Math.abs(e),i=Math.abs(i);var a=this.getValueUnit(st(e,i),r);return this.durationFormats[r][a]}else{var n=this.getValueUnit(e,r);return this.durationFormats[r][n]}},t.prototype.getValueUnit=function(e,i){i||(i=this.baseUnit);var r,a=this.getMilliseconds(e,i);return $_(this._unitValues,function(n,o){if(n==i||r){var l=a/o;if(l<=1)return r||(r=n),!1;r=n}return!0}),r},t.prototype.getMilliseconds=function(e,i){return i||(i=this.baseUnit),e*this._unitValues[i]},Object.defineProperty(t.prototype,"durationFormat",{get:function(){return this._durationFormat},set:function(e){this._durationFormat!=e&&(this._durationFormat=e,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormats",{get:function(){return this._durationFormats||(this._durationFormats={millisecond:{millisecond:this.language.translate("_duration_millisecond"),second:this.language.translate("_duration_millisecond_second"),minute:this.language.translate("_duration_millisecond_minute"),hour:this.language.translate("_duration_millisecond_hour"),day:this.language.translate("_duration_millisecond_day"),week:this.language.translate("_duration_millisecond_week"),month:this.language.translate("_duration_millisecond_month"),year:this.language.translate("_duration_millisecond_year")},second:{second:this.language.translate("_duration_second"),minute:this.language.translate("_duration_second_minute"),hour:this.language.translate("_duration_second_hour"),day:this.language.translate("_duration_second_day"),week:this.language.translate("_duration_second_week"),month:this.language.translate("_duration_second_month"),year:this.language.translate("_duration_second_year")},minute:{minute:this.language.translate("_duration_minute"),hour:this.language.translate("_duration_minute_hour"),day:this.language.translate("_duration_minute_day"),week:this.language.translate("_duration_minute_week"),month:this.language.translate("_duration_minute_month"),year:this.language.translate("_duration_minute_year")},hour:{hour:this.language.translate("_duration_hour"),day:this.language.translate("_duration_hour_day"),week:this.language.translate("_duration_hour_week"),month:this.language.translate("_duration_hour_month"),year:this.language.translate("_duration_hour_year")},day:{day:this.language.translate("_duration_day"),week:this.language.translate("_duration_day_week"),month:this.language.translate("_duration_day_month"),year:this.language.translate("_duration_day_year")},week:{week:this.language.translate("_duration_week"),month:this.language.translate("_duration_week_month"),year:this.language.translate("_duration_week_year")},month:{month:this.language.translate("_duration_month"),year:this.language.translate("_duration_month_year")},year:{year:this.language.translate("_duration_year")}}),this._durationFormats},set:function(e){this._durationFormats=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),t}(Hi);M.registeredClasses.DurationFormatter=lA;var uD=new Rt;function hD(s,t){var e=t||"amexport",i=new ze,r=uD.insertKeyIfEmpty(e,function(){var a=new Vt([new vi(s,"."+e+"-menu *",{"box-sizing":"border-box"}),new vi(s,"."+e+"-menu-level-0",{position:"absolute",top:"5px",right:"5px"}),new vi(s,"."+e+"-menu-level-0."+e+"-left",{right:"auto",left:"5px"}),new vi(s,"."+e+"-menu-level-0."+e+"-right",{right:"5px",left:"auto"}),new vi(s,"."+e+"-menu-level-0."+e+"-top",{top:"5px",bottom:"auto"}),new vi(s,"."+e+"-menu-level-0."+e+"-bottom",{top:"auto",bottom:"5px"}),new vi(s,"."+e+"-item."+e+"-item-level-0",{opacity:"0.3",width:"30px","min-height":"30px",transition:"all 100ms ease-in-out"}),new vi(s,"div:hover > div > ."+e+"-menu ."+e+"-item."+e+"-item-level-0, ."+e+"-item."+e+"-item-level-0.active",{opacity:"0.9"}),new vi(s,"."+e+"-item."+e+"-item-level-0 > a",{padding:"0","text-align":"center",overflow:"hidden"}),new vi(s,"."+e+"-item."+e+"-item-level-0:before",{display:"block"}),new vi(s,"."+e+"-item",{position:"relative",display:"block",opacity:"0","z-index":"1","border-radius":"3px","background-color":i.getFor("secondaryButton").hex,padding:"0",margin:"1px 1px 0 0",color:i.getFor("secondaryButton").alternative.hex,transition:"all 100ms ease-in-out, opacity 0.5s ease 0.5s"}),new vi(s,"."+e+"-left ."+e+"-item",{margin:"1px 0 0 1px"}),new vi(s,"."+e+"-item:hover, ."+e+"-item.active",{background:i.getFor("secondaryButtonHover").hex,color:i.getFor("secondaryButtonText").hex}),new vi(s,"."+e+"-item > ."+e+"-menu",{position:"absolute",top:"-1px",right:"0","margin-right":"100%"}),new vi(s,"."+e+"-left ."+e+"-item > ."+e+"-menu",{left:"0",right:"auto","margin-left":"100%","margin-right":"auto"}),new vi(s,"."+e+"-right ."+e+"-item > ."+e+"-menu",{left:"auto",right:"0","margin-left":"auto","margin-right":"100%"}),new vi(s,"."+e+"-top ."+e+"-item > ."+e+"-menu",{top:"-1px",bottom:"auto"}),new vi(s,"."+e+"-bottom ."+e+"-item > ."+e+"-menu",{top:"auto",bottom:"0"}),new vi(s,"."+e+"-item > ."+e+"-menu",{display:"none"}),new vi(s,"."+e+"-item:hover > ."+e+"-menu, ."+e+"-item.active > ."+e+"-menu",{display:"block"}),new vi(s,"."+e+"-item:hover > ."+e+"-menu > ."+e+"-item, ."+e+"-item.active > ."+e+"-menu > ."+e+"-item",{opacity:"1"}),new vi(s,"."+e+"-menu",{display:"block","list-style":"none",margin:"0",padding:"0"}),new vi(s,"."+e+"-label",{display:"block",cursor:"default",padding:"0.5em 1em"}),new vi(s,"."+e+"-icon",{display:"block",cursor:"default",padding:"0.2em 0.4em",width:"1.2em",height:"1.2em","min-width":"32px","min-height":"32px",margin:"auto auto","border-radius":"3px"}),new vi(s,"."+e+"-item-level-0 > ."+e+"-icon",{padding:"0.1em 0.2em"}),new vi(s,"."+e+"-clickable",{cursor:"pointer"})]);return new zl(function(){uD.removeKey(e),a.dispose()})});return r.increment()}var Sp=function(s){N(t,s);function t(){var e=s!==null&&s.apply(this,arguments)||this;return e._validateDisposer=null,e}return t.prototype.invalidate=function(){this._validateDisposer===null&&(this._validateDisposer=M.events.on("exitframe",this.validate,this))},t.prototype.validate=function(){this._validateDisposer!==null&&(this._validateDisposer.dispose(),this._validateDisposer=null)},t.prototype.dispose=function(){this._validateDisposer!==null&&(this._validateDisposer.dispose(),this._validateDisposer=null),s.prototype.dispose.call(this)},t}(ls);var Cw=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.adapter=new mr(e),e.closeDelay=1e3,e.closeOnClick=!0,e._language=new Ci,e._menuTag="ul",e._itemTag="li",e._labelTag="a",e._iconTag="img",e._classPrefix="amexport",e._defaultStyles=!0,e._align="right",e._verticalAlign="top",e._tabindex=0,e._ignoreNextClose=!1,e._items=[{label:"...",menu:[{label:"Image",menu:[{type:"png",label:"PNG"},{type:"jpg",label:"JPG"},{type:"svg",label:"SVG"},{type:"pdf",label:"PDF"}]},{label:"Data",menu:[{type:"json",label:"JSON"},{type:"csv",label:"CSV"},{type:"xlsx",label:"XLSX"},{type:"html",label:"HTML"},{type:"pdfdata",label:"PDF"}]},{label:"Print",type:"print"}]}],e.className="ExportMenu",e._disposers.push(e._language),e.invalidate(),e.applyTheme(),e}return t.prototype.validate=function(){this.draw(),s.prototype.validate.call(this)},t.prototype.draw=function(){var e=this;this._element?(this._element.innerHTML="",this._element.className=this.getMenuItemClass(0)):this._element=this.createMenuElement(0),this.defaultStyles&&(this._element.style.display="none"),fi(this._container).appendChild(this._element);for(var i=this.adapter.apply("items",{items:this._items}).items,r=i.length,a=0;a<r;a++)this.drawBranch(this._element,i[a],0);this._element=this.adapter.apply("menuElement",{menuElement:this._element}).menuElement,this._disposers.push(at().body.events.on("down",function(n){n.pointer.touch||(e._ignoreNextClose=!1),e.close()})),this._disposers.push(at().body.events.on("keydown",function(n){var o=ga.getEventKey(n.event);switch(o){case"esc":e.close();break;case"up":case"down":case"left":case"right":e._currentSelection&&n.event.preventDefault(),e.moveSelection(o);break}})),this.defaultStyles&&this.loadDefaultCSS()},t.prototype.drawBranch=function(e,i,r){var a=this;if(i=this.adapter.apply("branch",{branch:i,level:r}).branch,i.unsupported!==!0){i.ascendants||(i.ascendants=new gt);var n=i.type,o=this.createItemElement(r,n),l;i.icon?(l=this.createIconElement(r,n),l.src=i.icon,(i.label||i.title)&&(l.title=i.title||i.label)):i.svg?(l=this.createSvgElement(r,n,i.svg),(i.label||i.title)&&(l.title=i.title||i.label)):(l=this.createLabelElement(r,n),l.innerHTML=i.label?this.language.translate(i.label):"",i.title&&(l.title=i.title));var u=this.getReaderLabel(i,l.innerHTML);l.setAttribute("aria-label",u),o.appendChild(l),i.interactions=at().getInteraction(o),i.element=o,this.typeClickable(n)&&(i.interactions.events.on("hit",function(m){if(a.events.isEnabled("hit")&&!a.isDisposed()){var g={type:"hit",event:m.event,target:a,branch:i};a.events.dispatchImmediately("hit",g)}}),i.interactions.events.on("keyup",function(m){if(ga.isKey(m.event,"enter")&&a.events.isEnabled("enter")){var g={type:"enter",event:m.event,target:a,branch:i};a.events.dispatchImmediately("enter",g)}}));{var h=this.getSubMenu(i);h!=null&&(i.interactions.events.on("keyup",function(m){ga.isKey(m.event,"enter")&&(a.selectBranch(h[0]),a.setFocus(h[0]))}),i.interactions.events.on("hit",function(m){a.selectBranch(i)}))}i.interactions.events.on("over",function(m){if(m.pointer.touch&&(a._ignoreNextClose=!0),a.selectBranch(i),a.events.isEnabled("over")){var g={type:"over",event:m.event,target:a,branch:i};a.events.dispatchImmediately("over",g)}}),i.interactions.events.on("out",function(m){if(!a.isDisposed()&&(m.pointer.touch||a.delayUnselectBranch(i),a.events.isEnabled("out"))){var g={type:"out",event:m.event,target:a,branch:i};a.events.dispatchImmediately("out",g)}}),i.interactions.events.on("focus",function(m){a.selectBranch(i)}),i.interactions.events.on("blur",function(m){a.delayUnselectBranch(i)});var c=r+1;if(i.menu){var A=this.createMenuElement(c);i.submenuElement=A;for(var d=i.menu.length,f=0;f<d;f++){var p=new gt;i.menu[f].ascendants=p,i.ascendants.length&&p.copyFrom(i.ascendants),p.push(i),this.drawBranch(A,i.menu[f],c)}if(A.innerHTML=="")return;o.appendChild(A)}i.hidden&&this.hideBranch(i),i.id&&o.setAttribute("id",i.id),i.color&&(o.style.backgroundColor=i.color.hex),e.appendChild(o)}},t.prototype.createMenuElement=function(e){var i=document.createElement(this.menuTag);return i.className=this.getMenuItemClass(e),e===0?i.setAttribute("role","menubar"):i.setAttribute("role","menu"),i},t.prototype.getMenuItemClass=function(e){var i=this.classPrefix+"-menu "+this.classPrefix+"-menu-level-"+e;return e===0&&(i+=" "+this.classPrefix+"-menu-root "+this.classPrefix+"-"+this.align+" "+this.classPrefix+"-"+this.verticalAlign),this.adapter.apply("menuClass",{className:i,level:e}).className},t.prototype.createItemElement=function(e,i){var r=document.createElement(this.itemTag),a=this.classPrefix+"-item "+this.classPrefix+"-item-level-"+e+" "+this.classPrefix+"-item-"+(i||"blank");return r.className=this.adapter.apply("itemClass",{className:a,level:e,type:i}).className,r.setAttribute("role","menuitem"),r.setAttribute("tabindex",this.tabindex.toString()),r},t.prototype.createLabelElement=function(e,i){var r=document.createElement(this.labelTag),a=this.classPrefix+"-label "+this.classPrefix+"-label-level-"+e+" "+this.classPrefix+"-item-"+(i||"blank");return this.typeClickable(i)&&(a+=" "+this.classPrefix+"-clickable"),r.className=this.adapter.apply("labelClass",{className:a,level:e,type:i}).className,r},t.prototype.createIconElement=function(e,i){var r=document.createElement(this.iconTag),a=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+e+" "+this.classPrefix+"-item-"+(i||"blank");return this.typeClickable(i)&&(a+=" "+this.classPrefix+"-clickable"),r.className=this.adapter.apply("labelClass",{className:a,level:e,type:i}).className,r.setAttribute("tabindex",this.tabindex.toString()),r.setAttribute("role","menuitem"),r},t.prototype.createSvgElement=function(e,i,r){var a=new DOMParser,n=a.parseFromString(r,"image/svg+xml").documentElement,o=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+e+" "+this.classPrefix+"-item-"+(i||"blank");return this.typeClickable(i)&&(o+=" "+this.classPrefix+"-clickable"),n.setAttribute("class",this.adapter.apply("labelClass",{className:o,level:e,type:i}).className),n.setAttribute("tabindex",this.tabindex.toString()),n.setAttribute("role","menuitem"),n},t.prototype.dispose=function(){this._disposed||(s.prototype.dispose.call(this),this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element))},t.prototype.typeClickable=function(e){return V(e)},t.prototype.hasSubMenu=function(e){return!!(e.menu&&e.menu.length)},t.prototype.getSubMenu=function(e){if(e.menu&&e.menu.length)return e.menu},t.prototype.getReaderLabel=function(e,i){return i=Fy(i),e.ascendants.length==0?(i=i=="..."?this.language.translate("Export"):i,i+=" ["+this.language.translate("Press ENTER or use arrow keys to navigate")+"]"):this.hasSubMenu(e)?i+=" ["+this.language.translate("Click, tap or press ENTER to open")+"]":e.type=="print"?i=this.language.translate("Click, tap or press ENTER to print."):this.typeClickable(e.type)&&(i=this.language.translate("Click, tap or press ENTER to export as %1.",void 0,i)),this.adapter.apply("rederLabel",{label:i,branch:e}).label},Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){this._container=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tag",{set:function(e){this._menuTag=e,this._itemTag=e=="ul"?"li":"div",this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menuTag",{get:function(){return this.adapter.apply("menuTag",{tag:this._menuTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemTag",{get:function(){return this.adapter.apply("itemTag",{tag:this._itemTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelTag",{get:function(){return this.adapter.apply("labelTag",{tag:this._labelTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconTag",{get:function(){return this.adapter.apply("iconTag",{tag:this._iconTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.adapter.apply("align",{align:this._align}).align},set:function(e){this._align=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",{verticalAlign:this._verticalAlign}).verticalAlign},set:function(e){this._verticalAlign=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",{classPrefix:this._classPrefix}).classPrefix},set:function(e){this._classPrefix=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",{defaultStyles:this._defaultStyles}).defaultStyles},set:function(e){this._defaultStyles!=e&&(this._defaultStyles=e,e&&this.loadDefaultCSS()),this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.loadDefaultCSS=function(){this._disposers.push(hD(nA(this.container),this.classPrefix)),this._element&&(this._element.style.display="")},Object.defineProperty(t.prototype,"tabindex",{get:function(){return this.adapter.apply("tabindex",{tabindex:this._tabindex}).tabindex},set:function(e){this._tabindex=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){var e=this,i=this._language.get();return i==null&&(i=new ya,this._language.set(i,i.events.on("localechanged",function(r){e.invalidate()}))),i},set:function(e){var i=this;this._language.set(e,e.events.on("localechanged",function(r){i.invalidate()})),this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.close=function(){var e=this;if(!this.isDisposed()){if(this._ignoreNextClose){this._ignoreNextClose=!1;return}if(this.closeOnClick&&(this._element.style.pointerEvents="none",setTimeout(function(){e._element.style.pointerEvents="auto"},100)),this._currentSelection&&(this.setBlur(this._currentSelection),this._currentSelection=void 0),this._element)for(var i=this._element.getElementsByClassName("active"),r=i.length,a=r-1;a>=0;a--)i[a]&&aA(i[a],"active");this.events.dispatchImmediately("closed",{type:"closed",target:this})}},t.prototype.selectBranch=function(e){var i=this;if(!this.isDisposed()&&(e.closeTimeout&&(this.removeDispose(e.closeTimeout),e.closeTimeout=void 0),sA(e.element,"active"),e.submenuElement&&e.submenuElement.setAttribute("aria-expanded","true"),this._currentSelection&&this._currentSelection!==e&&this._currentSelection.ascendants&&ce(DT(sl([this._currentSelection]),this._currentSelection.ascendants.iterator()),function(a){!e.ascendants.contains(a)&&e!==a&&i.unselectBranch(a,!0)}),ce(e.ascendants.iterator(),function(a){a.closeTimeout&&(i.removeDispose(a.closeTimeout),a.closeTimeout=void 0),sA(a.element,"active")}),this._currentSelection=e,this.events.isEnabled("branchselected"))){var r={type:"branchselected",target:this,branch:e};this.events.dispatchImmediately("branchselected",r)}},t.prototype.unselectBranch=function(e,i){if(!this.isDisposed()&&(aA(e.element,"active"),e.submenuElement&&e.submenuElement.removeAttribute("aria-expanded"),this._currentSelection==e&&(this._currentSelection=void 0),this.events.isEnabled("branchunselected"))){var r={type:"branchunselected",target:this,branch:e};this.events.dispatchImmediately("branchunselected",r)}},t.prototype.delayUnselectBranch=function(e,i){var r=this;this.isDisposed()||(e.closeTimeout&&(this.removeDispose(e.closeTimeout),e.closeTimeout=void 0),e.closeTimeout=this.setTimeout(function(){r.unselectBranch(e,i)},this.closeDelay),i!==!0&&e.ascendants&&ce(e.ascendants.iterator(),function(a){r.delayUnselectBranch(a,!0)}))},t.prototype.moveSelection=function(e){if(!this.isDisposed()&&this._currentSelection){var i;if(e=="up")i=this.getPrevSibling(this._currentSelection);else if(e=="down")i=this.getNextSibling(this._currentSelection);else if(e=="left"&&this.align=="right"||e=="right"&&this.align=="left"){var r=this.getSubMenu(this._currentSelection);r!=null&&(i=r[0])}else(e=="right"&&this.align=="right"||e=="left"&&this.align=="left")&&(i=this.getParentItem(this._currentSelection));i&&i!==this._currentSelection&&(this.selectBranch(i),this.setFocus(i),this._currentSelection=i)}},t.prototype.getSiblings=function(e){var i=this.getParentItem(e);return i&&i.menu?i.menu:[]},t.prototype.getParentItem=function(e){if(e.ascendants&&e.ascendants.length)return e.ascendants.getIndex(e.ascendants.length-1)},t.prototype.getNextSibling=function(e){var i=this.getSiblings(e);if(i.length>1){var r=i.indexOf(e)+1;return r=i.length==r?0:r,i[r].unsupported?this.getNextSibling(i[r]):i[r]}else return e},t.prototype.getPrevSibling=function(e){var i=this.getSiblings(e);if(i.length>1){var r=i.indexOf(e)-1;return r=r==-1?i.length-1:r,i[r].unsupported?this.getPrevSibling(i[r]):i[r]}else return e},t.prototype.setFocus=function(e){if(e.interactions)try{e.interactions.element.focus()}catch{}},t.prototype.setBlur=function(e){if(e.interactions)try{e.interactions.element.blur()}catch{}},t.prototype.hideBranch=function(e){e.element.style.display="none"},t.prototype.showBranch=function(e){e.element.style.display=""},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),t}(Sp);function uA(s,t,e){return new Promise(function(i,r){var a=V(e)&&e.responseType=="blob",n=new XMLHttpRequest;if(n.onload=function(){if(n.status===200){var u=void 0,h;if(a){h=n.response,YV(h).then(function(A){var d={xhr:n,error:!1,response:A,blob:h,type:n.getResponseHeader("Content-Type"),target:t};i(d)});return}else u=n.responseText||n.response;var c={xhr:n,error:!1,response:u,blob:h,type:n.getResponseHeader("Content-Type"),target:t};i(c)}else r({xhr:n,error:!0,type:n.getResponseHeader("Content-Type"),target:t})},n.onerror=function(){r({xhr:n,error:!0,type:n.getResponseHeader("Content-Type"),target:t})},n.open("GET",s,!0),e&&e.withCredentials&&(n.withCredentials=!0),V(e)){if(V(e.requestHeaders))for(var o=0;o<e.requestHeaders.length;o++){var l=e.requestHeaders[o];n.setRequestHeader(l.key,l.value)}V(e.responseType)&&(n.responseType=e.responseType)}n.send()})}function YV(s){return new Promise(function(t,e){var i=new FileReader;i.onload=function(r){t(i.result)},i.onerror=function(r){e(r)},i.readAsText(s)})}var Sw;function KV(){return je(this,void 0,void 0,function(){var s,t,e,i;return ti(this,function(r){switch(r.label){case 0:return[4,Promise.all([import("./RJHL4W6B.js"),import("./NHT6JDVV.js")])];case 1:return s=r.sent(),t=s[0].default||s[0],e=s[1].default||s[1],i=window,i.pdfMake=i.pdfMake||{},i.pdfMake.vfs=e,t.vfs=e,[2,t]}})})}var cD=/src: ([^;]+);/;function ZV(){return window.navigator.msSaveOrOpenBlob!=null}function qV(s){return new Promise(function(t,e){var i=new FileReader;i.onload=function(r){t(i.result)},i.onerror=function(r){e(r)},i.readAsDataURL(s)})}function JV(s){return je(this,void 0,void 0,function(){var t,e;return ti(this,function(i){switch(i.label){case 0:t=s.sheet,i.label=1;case 1:return i.trys.push([1,2,,4]),[2,t.cssRules];case 2:return e=i.sent(),[4,new Promise(function(r,a){s.addEventListener("load",function(){r(t.cssRules)},!0),s.addEventListener("error",function(n){a(n)},!0),setTimeout(function(){a(new Error("Timeout while waiting for <style> to load"))},1e4)})];case 3:return[2,i.sent()];case 4:return[2]}})})}function dD(s,t,e){return je(this,void 0,void 0,function(){var i,r,a,n;return ti(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,uA(t)];case 1:return i=o.sent(),[3,3];case 2:return r=o.sent(),console.error("Failed to load stylesheet",t,r),[2];case 3:a=s.createElement("style"),a.textContent=i.response,et.nonce!=""&&a.setAttribute("nonce",et.nonce),s.head.appendChild(a),o.label=4;case 4:return o.trys.push([4,,7,8]),[4,JV(a)];case 5:return n=o.sent(),[4,AD(s,t,n,e)];case 6:return o.sent(),[3,8];case 7:return s.head.removeChild(a),[7];case 8:return[2]}})})}function AD(s,t,e,i){return je(this,void 0,void 0,function(){var r,a,n,o,l;return ti(this,function(u){switch(u.label){case 0:for(r=[],a=e.length,n=0;n<a;n++)o=e[n],o.type===CSSRule.IMPORT_RULE?(l=o.href,l&&(l=pp(t,l),r.push(dD(s,l,i)))):i(t,o);return r.length?[4,Promise.all(r)]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})}function eN(s){return je(this,void 0,void 0,function(){var t,e;return ti(this,function(i){switch(i.label){case 0:t=document.createElement("iframe"),t.src="about:blank",t.setAttribute("title",""),document.head.appendChild(t),i.label=1;case 1:return i.trys.push([1,,3,4]),e=t.contentDocument,[4,Promise.all(Xl(document.styleSheets,function(r){var a=r.href;return a==null?AD(e,location.href,r.cssRules,s):(a=pp(location.href,a),dD(e,a,s))}))];case 2:return i.sent(),[3,4];case 3:return document.head.removeChild(t),[7];case 4:return[2]}})})}var Pw=function(s){N(t,s);function t(e){var i=s.call(this)||this;return i.adapter=new mr(i),i._formatOptions=new Rt,i._extraSprites=[],i._validateSprites=[],i.dataFieldsOrder=[],i._dynamicDataFields=!0,i._removedObjects=new gt,i._hiddenObjects=[],i._objectsAlreadyHidden=!1,i._filePrefix="amCharts",i.useWebFonts=!0,i.useRetina=!0,i.useSimplifiedExport=!0,i.timeoutDelay=2e3,i._exportRunning=!1,i._prevHasData=!1,i._container=e,i.className="Export",i._formatOptions.setKey("png",{}),i._formatOptions.setKey("jpg",{quality:.8}),i._formatOptions.setKey("gif",{}),i._formatOptions.setKey("svg",{}),i._formatOptions.setKey("pdf",{fontSize:14,imageFormat:"png",align:"left",addURL:!0,addColumnNames:!0}),i._formatOptions.setKey("json",{indent:2,useLocale:!0}),i._formatOptions.setKey("csv",{addColumnNames:!0,emptyAs:"",addBOM:!0}),i._formatOptions.setKey("xlsx",{addColumnNames:!0,useLocale:!0,emptyAs:""}),i._formatOptions.setKey("html",{addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("pdfdata",{fontSize:14,imageFormat:"png",addURL:!0,addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("print",{delay:500,printMethod:"iframe"}),i.adapter.add("options",function(r){var a=i._formatOptions.getKey(r.type);return r.options?r.options=ip(a,r.options):r.options=a,r}),i.applyTheme(),i.dispatchImmediately("inited"),i}return Object.defineProperty(t.prototype,"menu",{get:function(){return this._menu},set:function(e){var i=this;this._menu&&this.removeDispose(this._menu),this._menu=e,this._menu.container=this.container,this._menu.language=this._language,this._menu.adapter.add("branch",function(r){return r.branch.unsupported=!i.typeSupported(r.branch.type),r}),this._menu.events.on("hit",function(r){i.export(r.branch.type,r.branch.options),i.menu.close()}),this._menu.events.on("enter",function(r){i.export(r.branch.type,r.branch.options),i.menu.close()}),this._menu.events.on("over",function(r){i._disablePointers()}),this._menu.events.on("out",function(r){setTimeout(function(){i._releasePointers()},10)}),this.dispatchImmediately("menucreated"),this._menu.adapter.add("classPrefix",function(r){return r.classPrefix=et.classNamePrefix+r.classPrefix,r}),this._disposers.push(this._menu)},enumerable:!0,configurable:!0}),t.prototype.typeSupported=function(e){var i=!0,r=this.getFormatOptions(e);return V(r)&&r.disabled?i=!1:e==="pdf"||(e==="xlsx"?i=!!this._hasData():(e=="print"&&!window.print||["json","csv","html","pdfdata"].indexOf(e)!==-1&&!this._hasData())&&(i=!1)),this.adapter.apply("supported",{supported:i,type:e}).supported},t.prototype._hasData=function(){return this.data&&this.data.length},t.prototype._getFunction=function(e){switch(e){case"png":case"gif":case"jpg":return this.getImage;case"svg":return this.getSVG;case"pdf":case"pdfdata":return this.getPDF;case"xlsx":return this.getExcel;case"csv":return this.getCSV;case"json":return this.getJSON;case"html":return this.getHTML;case"print":return this.getPrint;default:return this.unsupported}},t.prototype.export=function(e,i){return je(this,void 0,void 0,function(){var r,a,n,o,l,u=this;return ti(this,function(h){switch(h.label){case 0:return e=="custom"?(this.handleCustom(i),[2,!0]):(this._exportRunning=!0,this.events.isEnabled("exportstarted")&&(r={type:"exportstarted",target:this,format:e,options:i},this.events.dispatchImmediately("exportstarted",r)),this.showPreloader(),this.timeoutDelay&&(this.hideTimeout(),this._timeoutTimeout=this.setTimeout(function(){if(u.events.isEnabled("exporttimedout")){var c={type:"exporttimedout",target:u,format:e,options:i};u.events.dispatchImmediately("exporttimedout",c)}u.showTimeout()},this.timeoutDelay)),this.hideNonExportableSprites(),a=this._getFunction(e),i=this.adapter.apply("options",{options:i,type:e}).options,a=this.adapter.apply("exportFunction",{func:a,type:e,options:i}).func,[4,a.call(this,e,i)]);case 1:return n=h.sent(),this._exportRunning=!1,this._releasePointers(),this.restoreNonExportableSprites(),n?(this.events.isEnabled("exportfinished")&&(o={type:"exportfinished",target:this,format:e,options:i},this.events.dispatchImmediately("exportfinished",o)),this.hidePreloader(),this.hideTimeout(),this.menu&&this.menu.close(),e==="print"?[2,this.print(n,i,this.adapter.apply("title",{title:this.title,options:i}).title)]:e=="pdfdata"?[2,this.download(n,this.filePrefix+".pdf")]:[2,this.download(n,this.filePrefix+"."+e,i&&i.addBOM)]):(this.events.isEnabled("error")&&(l={type:"error",target:this,format:e,options:i},this.events.dispatchImmediately("error",l)),[2,!1])}})})},t.prototype.unsupported=function(e,i){return je(this,void 0,void 0,function(){return ti(this,function(r){return[2,""]})})},t.prototype.handleCustom=function(e){V(e)&&V(e.callback)&&e.callback.call(e.callbackTarget||this,e)},t.prototype.getPrint=function(e,i){return je(this,void 0,void 0,function(){return ti(this,function(r){return[2,this.getImage("png",i)]})})},t.prototype.getFontFamilies=function(){return je(this,void 0,void 0,function(){var e,i,r,a,n=this;return ti(this,function(o){switch(o.label){case 0:return e=this.getDOMURL(),i=[],r=[],[4,eN(function(l,u){if(u.type===CSSRule.FONT_FACE_RULE){var h=u.cssText,c=cD.exec(h);if(c!==null){var A=c[1].split(/ *, */).map(function(d){return je(n,void 0,void 0,function(){var f,p,m,g,y,x;return ti(this,function(C){switch(C.label){case 0:return f=/^url\(["']?([^"'\)]+)["']?\)([^,]*)$/.exec(d),f!==null?[3,1]:[2,d];case 1:if(p=f[2],m=pp(l,f[1]),this.webFontFilter&&!m.match(this.webFontFilter))return[2,null];C.label=2;case 2:return C.trys.push([2,7,,8]),[4,uA(m,void 0,{responseType:"blob"})];case 3:return g=C.sent(),ZV()?(y=e.createObjectURL(g.blob),i.push(y),[3,6]):[3,4];case 4:return[4,qV(g.blob)];case 5:y=C.sent(),C.label=6;case 6:return[2,'url("'+y+'")'+p];case 7:return x=C.sent(),console.error("Failed to load font",m,x),[2,null];case 8:return[2]}})})});r.push(Promise.all(A).then(function(d){return d=d.filter(function(f){return f!=null}),d.length===0?"":h.replace(cD,"src: "+d.join(", ")+";")}))}}})];case 1:return o.sent(),[4,Promise.all(r)];case 2:return a=o.sent(),[2,{blobs:i,cssText:a.filter(function(l){return!!l}).join(`
`)}]}})})},t.prototype.getImage=function(e,i,r){return je(this,void 0,void 0,function(){var a,n,o,l,u,h,h;return ti(this,function(c){switch(c.label){case 0:return a=this._objectsAlreadyHidden,a||this.hideNonExportableSprites(),V(i)||(i=this.getFormatOptions(e)),[4,this.awaitValidSprites()];case 1:return c.sent(),[4,this.simplifiedImageExport()];case 2:if(!c.sent())return[3,10];n=void 0,c.label=3;case 3:return c.trys.push([3,7,,9]),[4,this.getCanvas(i)];case 4:return n=c.sent(),r===!1?[3,6]:[4,this.addExtras(n,i)];case 5:o=c.sent(),this.disposeCanvas(n),n=o,c.label=6;case 6:return l=n.toDataURL(this.getContentType(e),i.quality),this.disposeCanvas(n),a||this.restoreNonExportableSprites(),[2,l];case 7:return u=c.sent(),console.error(u.message+`
`+u.stack),iA("Simple export failed, falling back to advanced export"),n&&this.disposeCanvas(n),[4,this.getImageAdvanced(e,i,r)];case 8:return h=c.sent(),a||this.restoreNonExportableSprites(),[2,h];case 9:return[3,12];case 10:return[4,this.getImageAdvanced(e,i,r)];case 11:return h=c.sent(),a||this.restoreNonExportableSprites(),[2,h];case 12:return[2]}})})},t.prototype.addExtras=function(e,i,r){return je(this,void 0,void 0,function(){var a,n,o,l,u,h,c,A,d,f,p,m,g,y,x=this;return ti(this,function(C){switch(C.label){case 0:return this.extraSprites.length?(a=0,n=0,o=e.width,l=e.height,u=0,h=0,[4,Promise.all(Xl(this.extraSprites,function(S){return je(x,void 0,void 0,function(){var P,F,O,$;return ti(this,function(L){switch(L.label){case 0:return S instanceof ke?P={sprite:S,position:"bottom"}:P=S,P.position=P.position||"bottom",P.marginTop=P.marginTop||0,P.marginRight=P.marginRight||0,P.marginBottom=P.marginBottom||0,P.marginLeft=P.marginLeft||0,r?[4,P.sprite.exporting.getCanvasAdvanced(i)]:[3,2];case 1:return F=L.sent(),[3,4];case 2:return[4,P.sprite.exporting.getCanvas(i)];case 3:F=L.sent(),L.label=4;case 4:return O=F.width+P.marginLeft+P.marginRight,$=F.height+P.marginTop+P.marginBottom,P.position=="top"?(o=P.crop?l:st(o,O),n+=$):P.position=="right"?(l=P.crop?l:st(l,$),u+=O):P.position=="left"?(l=P.crop?l:st(l,$),a+=O):P.position==="bottom"&&(o=P.crop?l:st(o,O),h+=$),[2,{canvas:F,position:P.position,left:P.marginLeft,top:P.marginTop,width:O,height:$}]}})})}))]):[3,2];case 1:return c=C.sent(),A=this.getDisposableCanvas(),A.width=a+o+u,A.height=n+l+h,d=A.getContext("2d"),f=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),f&&(d.fillStyle=f.toString(),d.fillRect(0,0,A.width,A.height)),p=a,m=n,g=p+o,y=m+l,we(c,function(S){S.position=="top"?(m-=S.height,d.drawImage(S.canvas,a+S.left,m+S.top)):S.position=="right"?(d.drawImage(S.canvas,g+S.left,n+S.top),g+=S.width):S.position=="left"?(p-=S.width,d.drawImage(S.canvas,p+S.left,n+S.top)):S.position==="bottom"&&(d.drawImage(S.canvas,a+S.left,y+S.top),y+=S.height),x.disposeCanvas(S.canvas)}),d.drawImage(e,a,n),[2,A];case 2:return[2,e]}})})},t.prototype.getCanvas=function(e){return je(this,void 0,void 0,function(){var i,r,a,n,o,l,u,h,c,A,d,f,p,m,g,y,x;return ti(this,function(C){switch(C.label){case 0:V(e)||(e={}),i=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),r=this.getDOMURL(),a=null,n=null,C.label=1;case 1:return C.trys.push([1,,4,5]),l=this.sprite.pixelWidth,u=this.sprite.pixelHeight,h=bp(this.sprite.dom),c=vp(this.sprite.dom),A=e.scale||1,d=this.getPixelRatio(e),A=this.getAdjustedScale(l*d,u*d,A,e),o=this.getDisposableCanvas(),o.style.width=l*A+"px",o.style.height=u*A+"px",o.width=l*A,o.height=u*A,f=o.getContext("2d"),i&&(f.fillStyle=i.toString(),f.fillRect(0,0,l*A,u*A)),p=[],this.useWebFonts&&p.push(this.getFontFamilies().then(function(S){return n=S.blobs,S.cssText})),p.push(this.imagesToDataURI(this.sprite.dom,e)),p.push(this.prepForeignObjects(this.sprite.dom,e)),[4,Promise.all(p)];case 2:return m=C.sent(),g=this.normalizeSVG("<style>"+m[0]+"</style>"+this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),e,l,u,A,h,c),y=new Blob([g],{type:"image/svg+xml"}),a=r.createObjectURL(y),[4,this.loadNewImage(a,l*A*d,u*A*d,"anonymous")];case 3:return x=C.sent(),f.drawImage(x,0,0),[3,5];case 4:return a!==null&&r.revokeObjectURL(a),n!==null&&we(n,function(S){r.revokeObjectURL(S)}),this.restoreRemovedObjects(),[7];case 5:return[2,o]}})})},t.prototype.getCanvasAdvanced=function(e){return je(this,void 0,void 0,function(){var i,r,a,n,o,l,u,h,c,A,d;return ti(this,function(f){switch(f.label){case 0:return V(e)||(e={}),[4,this.imagesToDataURI(this.sprite.dom,e)];case 1:return f.sent(),i=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),[4,this.canvg];case 2:return r=f.sent(),a=this.sprite.pixelWidth,n=this.sprite.pixelHeight,o=bp(this.sprite.dom),l=vp(this.sprite.dom),u=e.scale||1,h=this.getPixelRatio(e),u=this.getAdjustedScale(a*h,n*h,u,e),c=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),e,a,n,u,o,l,i),A=this.getDisposableCanvas(),A.style.width=a*h*u+"px",A.style.height=n*h*u+"px",A.width=a*h*u,A.height=n*h*u,d={useCORS:!0},h!=1&&(d.ignoreDimensions=!0,d.scaleWidth=a*h*u,d.scaleHeight=n*h*u),[4,r.fromString(A.getContext("2d"),c,d).render()];case 3:return f.sent(),[2,A]}})})},t.prototype.getImageAdvanced=function(e,i,r){return je(this,void 0,void 0,function(){var a,n,o;return ti(this,function(l){switch(l.label){case 0:return a=this._objectsAlreadyHidden,a||this.hideNonExportableSprites(),V(i)||(i=this.getFormatOptions(e)),[4,this.getCanvasAdvanced(i)];case 1:return n=l.sent(),r===!1?[3,3]:[4,this.addExtras(n,i,!0)];case 2:n=l.sent(),l.label=3;case 3:return o=n.toDataURL(this.getContentType(e),i.quality),this.disposeCanvas(n),a||this.restoreNonExportableSprites(),[2,o]}})})},t.prototype.getDisposableCanvas=function(){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="-10000px",document.body.appendChild(e),e},t.prototype.disposeCanvas=function(e){document.body.contains(e)&&document.body.removeChild(e)},t.prototype.getPixelRatio=function(e){return this.useRetina?X_():1},t.prototype.getAdjustedScale=function(e,i,r,a){if(!a)return r;var n=e*r,o=e*r,l,u;return a.maxWidth&&n>a.maxWidth&&(l=a.maxWidth/e),a.maxHeight&&o>a.maxHeight&&(u=a.maxHeight/i),l||u?dt(l,u):(a.minWidth&&n<a.minWidth&&(l=a.minWidth/e),a.minHeight&&o<a.minHeight&&(u=a.minHeight/i),l||u?st(l,u):r)},t.prototype.imagesToDataURI=function(e,i){return je(this,void 0,void 0,function(){var r,a,n,o,l,u;return ti(this,function(h){switch(h.label){case 0:if(r=e.querySelectorAll("image"),!r.length)return[3,2];for(a=[],n=r.length,o=0;o<n;o++)l=r[o],u=l.getAttributeNS(t.XLINK,"href"),u&&(u.indexOf("data:image")!==-1||(u.indexOf(".svg")!==-1?a.push(this.svgToDataURI(l,i)):a.push(this.imageToDataURI(l,i))));return[4,Promise.all(a)];case 1:return h.sent(),[2];case 2:return[2]}})})},t.prototype.prepForeignObjects=function(e,i){return je(this,void 0,void 0,function(){var r,a,n;return ti(this,function(o){if(r=e.querySelectorAll("foreignObject"),r.length)for(a=r.length,n=0;n<a;n++)this.temporarilyRemoveObject(r[n]);return[2]})})},t.prototype.imageToDataURI=function(e,i){return je(this,void 0,void 0,function(){var r,a,n,o;return ti(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.loadNewImage(e.getAttributeNS(t.XLINK,"href"),null,null,"anonymous")];case 1:r=l.sent(),a=document.createElement("canvas"),a.width=r.width,a.height=r.height,a.getContext("2d").drawImage(r,0,0);try{return n=a.toDataURL(),e.setAttribute("href",n),[2,n]}catch{return i.keepTainted!==!1&&this.temporarilyRemoveObject(e),[2,void 0]}return[3,3];case 2:return o=l.sent(),(!i||i.keepTainted!==!1)&&this.temporarilyRemoveObject(e),[2,void 0];case 3:return[2]}})})},t.prototype.svgToDataURI=function(e,i){return je(this,void 0,void 0,function(){var r,a,n,o,l;return ti(this,function(u){switch(u.label){case 0:r=e.getAttributeNS(t.XLINK,"href"),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,uA(r)];case 2:return a=u.sent(),n=this.adapter.apply("charset",{charset:"base64",type:"svg",options:i}).charset,o=this.adapter.apply("svgToDataURI",{data:"data:"+this.getContentType("svg")+";"+n+","+btoa(a.response),options:i}).data,e.setAttributeNS(t.XLINK,"href",o),[2,o];case 3:return l=u.sent(),(!i||i.keepTainted!==!1)&&this.temporarilyRemoveObject(e),[2,void 0];case 4:return[2]}})})},t.prototype.temporarilyRemoveObject=function(e,i){var r=e.parentElement||e.parentNode;i||(i=this.sprite.paper.add("g").node),r.insertBefore(i,e),e.textContent,r.removeChild(e),this._removedObjects.push({element:e,placeholder:i})},t.prototype.restoreRemovedObjects=function(){for(var e;e=this._removedObjects.pop(),!!e;){var i=e.placeholder.parentElement||e.placeholder.parentNode;i.insertBefore(e.element,e.placeholder)}},t.prototype.simplifiedImageExport=function(){return je(this,void 0,void 0,function(){var e,i,r,a,n,o,l,u,h;return ti(this,function(c){switch(c.label){case 0:if(this.useSimplifiedExport===!1)return[2,!1];if(e=M.getCache("simplifiedImageExport"),e===!1||e===!0)return[2,e];c.label=1;case 1:c.trys.push([1,6,,7]),i=document.createElement("canvas"),i.width=1,i.height=1,r=i.getContext("2d"),a=this.getDOMURL(),n=new Blob([this.normalizeSVG("<g></g>",{},1,1)],{type:"image/svg+xml"}),o=a.createObjectURL(n),l=void 0,c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.loadNewImage(o,1,1)];case 3:return l=c.sent(),[3,5];case 4:return u=c.sent(),[2,!1];case 5:r.drawImage(l,0,0),a.revokeObjectURL(o);try{return M.setCache("simplifiedImageExport",!0),[2,!0]}catch{return M.setCache("simplifiedImageExport",!1),[2,!1]}return[3,7];case 6:return h=c.sent(),M.setCache("simplifiedImageExport",!1),[2,!1];case 7:return[2]}})})},t.prototype.loadNewImage=function(e,i,r,a){return new Promise(function(n,o){var l;i&&r?l=new Image(i,r):l=new Image,a&&l.setAttribute("crossOrigin",a),l.onload=function(){n(l)};function u(){if(a){var h=l.src;l.onerror=function(){o(new Error('Loading image "'+e+'" failed'))},l.removeAttribute("crossorigin"),l.src="",l.src=h}else o(new Error('Loading image "'+e+'" failed'))}l.onabort=u,l.onerror=u,l.src=e})},t.prototype.getDOMURL=function(){return self.URL||self.webkitURL||self},t.prototype.getSVG=function(e,i,r){return r===void 0&&(r=!0),je(this,void 0,void 0,function(){var a,n,o,l,u,h,c,A,d,f;return ti(this,function(p){switch(p.label){case 0:return a=this._objectsAlreadyHidden,a||this.hideNonExportableSprites(),V(i)||(i=this.getFormatOptions("svg")),[4,this.awaitValidSprites()];case 1:return p.sent(),n=this.sprite.pixelWidth,o=this.sprite.pixelHeight,l=bp(this.sprite.dom),u=vp(this.sprite.dom),h=i.scale||1,c=this.getPixelRatio(i),h=this.getAdjustedScale(n*c,o*c,h,i),A=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),i,n,o,h,l,u),d=this.adapter.apply("charset",{charset:"charset=utf-8",type:"svg",options:i}).charset,f=this.adapter.apply("getSVG",{data:r?"data:"+this.getContentType(e)+";"+d+","+encodeURIComponent(A):A,options:i}).data,a||this.restoreNonExportableSprites(),[2,f]}})})},t.prototype.normalizeSVG=function(e,i,r,a,n,o,l,u){var h="";r&&(h+='width="'+Math.round(r*(n||1))+'px" '),a&&(h+='height="'+Math.round(a*(n||1))+'px" ');var c="";o&&(c+="font-family: "+o.replace(/"/g,"")+";"),l&&(c+="font-size: "+l+";"),n&&(h+='viewBox="0 0 '+r+" "+a+'" ');var A=[],d=e.match(/<foreignObject[\s\S]*<\/foreignObject>/gi);if(d)for(var f=0;f<d.length;f++)e=e.replace(d[f],ms),A.push(d[f]);e.match(/<svg/)?h!==""&&(e=e.replace(/(<svg[^>]*)width="[^"]*"/,"$1"),e=e.replace(/(<svg[^>]*)height="[^"]*"/,"$1"),e=e.replace(/(<svg)/,"$1"+h)):e='<?xml version="1.0" encoding="utf-8"?><svg '+h+' style="'+c+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+e+"</svg>",u&&(e=e.replace(/(<svg[^>]*>)/,'$1<rect width="100%" height="100%" fill="'+u.rgba+'"/>')),zT()&&(e=e.replace(/<feColorMatrix [^\/>]*\/>/gi,""));var p=new RegExp("url\\("+Yd(ih()),"g");if(e=e.replace(p,"url(#"),e=e.replace(/url\(&quot;([^)]*)&quot;\)/gm,"url($1)"),A.length)for(var f=0;f<A.length;f++)e=e.replace(ms,A[f]);return e=this.adapter.apply("normalizeSVG",{data:e,options:i}).data,e},t.prototype.serializeElement=function(e){return new XMLSerializer().serializeToString(e)},t.prototype.getPDF=function(e,i){return je(this,void 0,void 0,function(){function r(m){var g={};g.normal=m.normal.path,p[m.normal.path]=m.normal.bytes,m.bold?(g.bold=m.bold.path,p[m.bold.path]=m.bold.bytes):g.bold=m.normal.path,m.italics?(g.italics=m.italics.path,p[m.italics.path]=m.italics.bytes):g.italics=m.normal.path,m.bolditalics?(g.bolditalics=m.bolditalics.path,p[m.bolditalics.path]=m.bolditalics.bytes):g.bolditalics=m.normal.path,f[m.name]=g}var a,n,o,l,u,h,c,A,d,f,p;return ti(this,function(m){switch(m.label){case 0:return[4,this.getImage(i.imageFormat||"png",i)];case 1:return a=m.sent(),[4,this.pdfmake];case 2:return n=m.sent(),o=[30,30,30,30],l={pageSize:i.pageSize||"A4",pageOrientation:i.pageOrientation||"portrait",pageMargins:i.pageMargins||o,defaultStyle:{font:i.font?i.font.name:void 0},content:[]},u=this.adapter.apply("title",{title:this.title,options:i}).title,h=0,u&&(l.content.push({text:u,fontSize:i.fontSize||14,bold:!0,margin:[0,0,0,15]}),h+=50),i.addURL&&(l.content.push({text:this.language.translate("Saved from")+": "+document.location.href,fontSize:i.fontSize,margin:[0,0,0,15]}),h+=50),e!="pdfdata"&&l.content.push({image:a,alignment:i.align||"left",fit:this.getPageSizeFit(l.pageSize,l.pageMargins,h)}),e=="pdfdata"||i.addData?(A=(c=l.content).push,d={},[4,this.getPDFData("pdf",i)]):[3,4];case 3:A.apply(c,[(d.table=m.sent(),d.fontSize=i.fontSize||14,d)]),m.label=4;case 4:return l=this.adapter.apply("pdfmakeDocument",{doc:l,options:i}).doc,f=null,p=null,i.font&&(f={},p={},r(i.font),i.extraFonts&&we(i.extraFonts,r)),[4,new Promise(function(g,y){n.createPdf(l,null,f,p).getDataUrl(function(x){g(x)})})];case 5:return[2,m.sent()]}})})},t.prototype.getPDFData=function(e,i){return je(this,void 0,void 0,function(){var r,a,n,o,l,u,h=this;return ti(this,function(c){if(r={body:[]},a=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"pdf"}).dataFields,n=this.data,i.pivot)o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder,ho(a,function(A,d){var f=[];i.addColumnNames&&f.push(d);for(var p=n.length,m=0;m<p;m++){var g=n[m][A];f.push(h.convertToSpecialFormat(A,g,i,!0))}r.body.push(h.getPDFDataRow(f,i,void 0,!0))},function(A,d){var f=o.indexOf(A),p=o.indexOf(d);return f>p?1:f<p?-1:0});else for(i.addColumnNames&&(r.body.push(this.getPDFDataRow(a,i,void 0,!0)),r.headerRows=1),l=n.length,u=0;u<l;u++)r.body.push(this.getPDFDataRow(n[u],i,a));return[2,this.adapter.apply("pdfmakeTable",{table:r,options:i}).table]})})},t.prototype.getPDFDataRow=function(e,i,r,a){var n=this;a===void 0&&(a=!1);var o=[];r||(r=e);var l=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder;return ho(r,function(u,h){var c=n.convertEmptyValue(u,e[u],i),A=a?c:n.convertToSpecialFormat(u,c,i);A=""+A,o.push(A)},function(u,h){var c=l.indexOf(u),A=l.indexOf(h);return c>A?1:c<A?-1:0}),o},t.prototype.getPageSizeFit=function(e,i,r){r===void 0&&(r=0);var a=[0,0,0,0];typeof i=="number"?a=[i,i,i,i]:i.length==2?a=[i[0],i[1],i[0],i[1]]:i.length==4&&(a=i);var n={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]},o=n[e];return o[0]-=a[0]+a[2],o[1]-=a[1]+a[3]+r,o},t.prototype.getExcel=function(e,i){return je(this,void 0,void 0,function(){var r,a,n,o,l,u,h,c,A,d,f=this;return ti(this,function(p){switch(p.label){case 0:return V(i)||(i=this.getFormatOptions("xlsx")),[4,this.xlsx];case 1:if(r=p.sent(),a=this.adapter.apply("xlsxWorkbookOptions",{xlsx:r,options:{bookType:"xlsx",bookSST:!1,type:"base64"}}).options,n=this.normalizeExcelSheetName(this.adapter.apply("xlsxSheetName",{xlsx:r,name:this.title||this.language.translate("Data")}).name),o={SheetNames:[n],Sheets:{}},l=[],u=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"xslx"}).dataFields,i.pivot)h=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder,ho(u,function(m,g){var y=[];i.addColumnNames&&y.push(g);for(var x=f.data.length,C=0;C<x;C++){var S=f.data[C][m];y.push(f.convertToSpecialFormat(m,S,i,!0))}l.push(f.getExcelRow(y,i,void 0,!0))},function(m,g){var y=h.indexOf(m),x=h.indexOf(g);return y>x?1:y<x?-1:0});else for(i.addColumnNames&&l.push(this.getExcelRow(u,i,void 0,!0)),c=this.data.length,A=0;A<c;A++)l.push(this.getExcelRow(this.data[A],i,u));return o.Sheets[n]=r.utils.aoa_to_sheet(l),o=this.adapter.apply("xlsxWorkbook",{xlsx:r,workbook:o,options:i}).workbook,d=this.adapter.apply("getExcel",{data:"data:"+this.getContentType(e)+";base64,"+r.write(o,a),options:i}).data,[2,d]}})})},t.prototype.normalizeExcelSheetName=function(e){return e=e.replace(/([:\\\/?*\[\]]+)/g," "),Kd(e,31,"...",!0)},t.prototype.getExcelRow=function(e,i,r,a){var n=this;a===void 0&&(a=!1);var o=[];r||(r=e);var l=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder;return ho(r,function(u,h){var c=n.convertEmptyValue(u,e[u],i),A=a?c:n.convertToSpecialFormat(u,c,i,!0);o.push(A)},function(u,h){var c=l.indexOf(u),A=l.indexOf(h);return c>A?1:c<A?-1:0}),o},t.prototype.getCSV=function(e,i,r){return r===void 0&&(r=!0),je(this,void 0,void 0,function(){var a,n,o,l,u,h,c,A,d,f,p=this;return ti(this,function(m){if(V(i)||(i=this.getFormatOptions("csv")),a="",n=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"csv"}).dataFields,o="",l=this.data,i.pivot)u=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder,ho(n,function(g,y){var x=[];i.addColumnNames&&x.push(y);for(var C=l.length,S=0;S<C;S++){var P=l[S][g];x.push(p.convertToSpecialFormat(g,P,i,!0))}a+=o+p.getCSVRow(x,i,void 0,!0),o=`
`},function(g,y){var x=u.indexOf(g),C=u.indexOf(y);return x>C?-1:x<C?1:0});else{for(h=l.length,c=0;c<h;c++)A=this.getCSVRow(l[c],i,n),i.reverse?a=A+o+a:a+=o+A,o=`
`;i.addColumnNames&&(a=this.getCSVRow(n,i,void 0,!0)+o+a)}return d=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:i}).charset,f=this.adapter.apply("getCSV",{data:r?"data:"+this.getContentType(e)+";"+d+","+encodeURIComponent(a):a,options:i}).data,[2,f]})})},t.prototype.getCSVRow=function(e,i,r,a){var n=this;a===void 0&&(a=!1);var o=i.separator||",",l=[];r||(r=e);var u=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder;return ho(r,function(h,c){var A=n.convertEmptyValue(h,e[h],i),d=a?A:n.convertToSpecialFormat(h,A,i);d=""+d,d=d.replace(/"/g,'""'),(i.forceQuotes||d.search(new RegExp(`"|
|`+o,"g"))>=0)&&(d='"'+d+'"'),l.push(d)},function(h,c){var A=u.indexOf(h),d=u.indexOf(c);return A>d?1:A<d?-1:0}),l.join(o)},t.prototype.getHTML=function(e,i,r){return r===void 0&&(r=!0),je(this,void 0,void 0,function(){var a,n,o,l,u,h,c,A,d=this;return ti(this,function(f){if(V(i)||(i=this.getFormatOptions("html")),a="<table>",i.tableClass&&(a='<table class="'+i.tableClass+'">'),n=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"html"}).dataFields,o=this.data,i.pivot)l=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,a+=`
<tbody>`,ho(n,function(p,m){var g=[];i.addColumnNames&&g.push(m);for(var y=o.length,x=0;x<y;x++){var C=o[x][p];g.push(d.convertToSpecialFormat(p,C,i,!0))}a+=`
`+d.getHTMLRow(g,i,void 0,!0)},function(p,m){var g=l.indexOf(p),y=l.indexOf(m);return g>y?-1:g<y?1:0}),a+=`
</tbody>`;else{for(i.addColumnNames&&(a+=`
<thead>
`+this.getHTMLRow(n,i,void 0,!0,!0)+`
</thead>`),a+=`
<tbody>`,u=o.length,h=0;h<u;h++)a+=`
`+this.getHTMLRow(o[h],i,n);a+=`
</tbody>`}return a+=`
</table>`,c=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:i}).charset,A=this.adapter.apply("getHTML",{data:r?"data:"+this.getContentType(e)+";"+c+","+encodeURIComponent(a):a,options:i}).data,[2,A]})})},t.prototype.getHTMLRow=function(e,i,r,a,n){var o=this;a===void 0&&(a=!1),n===void 0&&(n=!1);var l="	<tr>";i.rowClass&&(l='	<tr class="'+i.rowClass+'">'),r||(r=e);var u=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,h=n?"th":"td",c=!0;return ho(r,function(A,d){var f=o.convertEmptyValue(A,e[A],i),p=a?f:o.convertToSpecialFormat(A,f,i);p=""+p,p=p.replace(/[\u00A0-\u9999<>\&]/gim,function(g){return"&#"+g.charCodeAt(0)+";"});var m=h;i.pivot&&c&&(m="th"),i.cellClass?l+=`
		<`+m+' class="'+i.cellClass+'">'+p+"</"+m+">":l+=`
		<`+m+">"+p+"</"+m+">",c=!1},function(A,d){var f=u.indexOf(A),p=u.indexOf(d);return f>p?1:f<p?-1:0}),l+=`
	</tr>`,l},t.prototype.getJSON=function(e,i,r){return r===void 0&&(r=!0),je(this,void 0,void 0,function(){var a,n,o,l,u,h,c,A,d,f=this;return ti(this,function(p){if(V(i)||(i=this.getFormatOptions("json")),n=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"json"}).dataFields,this._dynamicDataFields)a=this.data;else for(a=[],o=this.data,l=function(m,g){var y=o[g];if(typeof y=="object"){var x={};Ue(y,function(C,S){V(n[C])&&(x[n[C]]=f.convertToSpecialFormat(C,S,i))}),a.push(x)}},u=o.length,h=0;h<u;h++)l(u,h);return c=JSON.stringify(a,function(m,g){return typeof g=="object"&&Ue(g,function(y,x){g[y]=f.convertToSpecialFormat(y,x,i)}),g},i.indent),A=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:i}).charset,d=this.adapter.apply("getJSON",{data:r?"data:"+this.getContentType(e)+";"+A+","+encodeURIComponent(c):c,options:i}).data,[2,d]})})},t.prototype.convertToSpecialFormat=function(e,i,r,a){if(typeof i=="number")if(this.isDateField(e))i=new Date(i);else{if(this.isDurationField(e))return this.durationFormatter.format(i,this.durationFormat);if(this.isNumberField(e)&&this.numberFormat)return this.numberFormatter.format(i,this.numberFormat)}return i instanceof Date?r.useTimestamps?i=i.getTime():r.useLocale?a||(i=i.toLocaleString()):i=this.dateFormatter.format(i,this.dateFormat):ut(i)&&this.isDateField(e)&&this.dateFormat&&(i=this.dateFormatter.format(this.dateFormatter.parse(i),this.dateFormat)),i},t.prototype.convertEmptyValue=function(e,i,r){return V(i)?i:r.emptyAs},t.prototype.download=function(e,i,r){return r===void 0&&(r=!1),je(this,void 0,void 0,function(){var m,g,o,a,h,c,A,d,n,m,g,o,l,u,h,c,A,d,f,p,m,g,y,x;return ti(this,function(C){if(this.msBlobDownloadSupport()){if(m=e.split(";"),g=m.shift().replace(/data:/,""),e=decodeURIComponent(m.join(";").replace(/^[^,]*,/,"")),["image/svg+xml","application/json","text/csv"].indexOf(g)==-1)try{o=atob(e),e=o}catch{return[2,!1]}else return a=new Blob([e],{type:g}),window.navigator.msSaveBlob(a,i),[2,!0];for(h=new Array(e.length),c=0;c<e.length;++c)A=e.charCodeAt(c),h[c]=A;d=new Blob([new Uint8Array(h)],{type:g}),window.navigator.msSaveBlob(d,i)}else if(this.blobDownloadSupport()){if(n=document.createElement("a"),n.download=i,document.body.appendChild(n),m=e.split(";"),g=m.shift().replace(/data:/,""),e=decodeURIComponent(m.join(";").replace(/^[^,]*,/,"")),["image/svg+xml","application/json","text/csv","text/html"].indexOf(g)==-1)try{o=atob(e),e=o}catch{return[2,!1]}else return r&&(e="\uFEFF"+e),l=new Blob([e],{type:g}),u=window.URL.createObjectURL(l),n.href=u,n.download=i,n.click(),setTimeout(function(){document.body.removeChild(n),window.URL.revokeObjectURL(u)},100),[2,!0];for(h=new Array(e.length),c=0;c<e.length;++c)A=e.charCodeAt(c),h[c]=A;r&&(h=[239,187,191].concat(h)),d=new Blob([new Uint8Array(h)],{type:g}),f=window.URL.createObjectURL(d),n.href=f,n.download=i,document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(function(){window.URL.revokeObjectURL(f)},100)}else this.linkDownloadSupport()?(p=document.createElement("a"),p.download=i,p.href=e,document.body.appendChild(p),p.click(),document.body.removeChild(p)):this.legacyIE()?(m=e.match(/^data:(.*);[ ]*([^,]*),(.*)$/),m.length===4&&(m[2]=="base64"?m[1].match(/^image\//)&&this.showModal('<img src="'+e+'" style="float: left; max-width: 50%; max-height: 80%; margin: 0 1em 0.5em 0; border: 1px solid #eee;" /><p>'+this.language.translate('To save the image, right-click thumbnail on the left and choose "Save picture as..."')+'</p><p style="text-align: center;"><small>'+this.language.translate("(Press ESC to close this message)")+"</small></p>",this.language.translate("Image Export Complete")):(g=void 0,i.match(/\.svg$/)?g="image/svg+xml":(g="text/plain",i+=".txt"),y=document.createElement("iframe"),y.width="1px",y.height="1px",y.style.display="none",document.body.appendChild(y),x=y.contentDocument,x.open(g,"replace"),x.write(decodeURIComponent(m[3])),x.close(),x.execCommand("SaveAs",!0,i),document.body.removeChild(y)))):window.location.href=e;return[2,!0]})})},t.prototype.downloadSupport=function(){return this.linkDownloadSupport()||this.msBlobDownloadSupport()},t.prototype.linkDownloadSupport=function(){var e=M.getCache("linkDownloadSupport");if(e===!1||e===!0)return e;var i=document.createElement("a"),r=typeof i.download<"u";return M.setCache("linkDownloadSupport",r),r},t.prototype.blobDownloadSupport=function(){return V(window.Blob)},t.prototype.msBlobDownloadSupport=function(){return V(window.navigator.msSaveOrOpenBlob)},t.prototype.legacyIE=function(){var e=document.createElement("div");return e.innerHTML="<!--[if lt IE 10]><i></i><![endif]-->",e.getElementsByTagName("i").length==1},t.prototype.print=function(e,i,r){return je(this,void 0,void 0,function(){return ti(this,function(a){return i.printMethod=="css"?[2,this.printViaCSS(e,i,r)]:[2,this.printViaIframe(e,i,r)]})})},t.prototype.printViaCSS=function(e,i,r){return je(this,void 0,void 0,function(){var a,n,o,l,u;return ti(this,function(h){return a=document.documentElement.scrollTop||document.body.scrollTop,n=new vi(nA(this.container),"body > *",{display:"none",position:"fixed",visibility:"hidden",opacity:"0",clipPath:"polygon(0px 0px,0px 0px,0px 0px,0px 0px);"}),r&&document&&document.title&&(o=document.title,document.title=r),l=new Image,l.src=e,l.style.maxWidth="100%",l.style.display="block",l.style.position="relative",l.style.visibility="visible",l.style.opacity="1",l.style.clipPath="none",document.body.appendChild(l),this.setTimeout(function(){window.print()},50),u=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,u&&i.delay<1e3?i.delay=1e3:i.delay<100&&(i.delay=100),this.setTimeout(function(){document.body.removeChild(l),n.dispose(),o&&(document.title=document.title),document.documentElement.scrollTop=document.body.scrollTop=a},i.delay||500),[2,!0]})})},t.prototype.printViaIframe=function(e,i,r){return je(this,void 0,void 0,function(){var a,n,o;return ti(this,function(l){return a=document.createElement("iframe"),a.style.visibility="hidden",document.body.appendChild(a),a.contentWindow.document.open(),a.contentWindow.document.close(),n=new Image,n.src=e,n.style.maxWidth="100%",n.style.height="auto",r&&(a.contentWindow.document.title=r),a.contentWindow.document.body.appendChild(n),a.load=function(){a.contentWindow.document.body.appendChild(n)},this.setTimeout(function(){try{a.contentWindow.document.execCommand("print",!1,null)||a.contentWindow.print()}catch{a.contentWindow.print()}},i.delay||50),o=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,o&&i.delay<1e3?i.delay=1e3:i.delay<100&&(i.delay=100),this.setTimeout(function(){document.body.removeChild(a)},i.delay+50||100),[2,!0]})})},t.prototype.findBackgroundColor=function(e){var i=1,r=Ey(e,"background-color");if((r.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||r=="transparent")&&(i=0),i==0){var a=e.parentElement;return a?this.findBackgroundColor(a):Ve("#fff")}else return Ve(r,i)},Object.defineProperty(t.prototype,"container",{get:function(){return this.adapter.apply("container",{container:this._container}).container},set:function(e){this._container=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sprite",{get:function(){return this.adapter.apply("sprite",{sprite:this._sprite}).sprite},set:function(e){this._sprite=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraSprites",{get:function(){return this.adapter.apply("extraSprites",{extraSprites:this._extraSprites}).extraSprites},set:function(e){this._extraSprites=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validateSprites",{get:function(){return this.adapter.apply("validateSprites",{validateSprites:this._validateSprites}).validateSprites},set:function(e){this._validateSprites=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.adapter.apply("data",{data:this._data}).data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataFields",{get:function(){return this._dataFields||this.generateDataFields(),this.adapter.apply("dataFields",{dataFields:this._dataFields}).dataFields},set:function(e){this._dataFields=e,this._dynamicDataFields=!1},enumerable:!0,configurable:!0}),t.prototype.handleDataUpdated=function(){this._dynamicDataFields&&(this._dataFields=void 0);var e=this.data.length>0;this._prevHasData!=e&&(this._prevHasData=e,this.menu&&this.menu.invalidate())},Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter||(this._dateFormatter=new An,this._dateFormatter.language=this.language),this.adapter.apply("dateFormatter",{dateFormatter:this._dateFormatter}).dateFormatter},set:function(e){this._dateFormatter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormat",{get:function(){return this.adapter.apply("dateFormat",{dateFormat:this._dateFormat}).dateFormat},set:function(e){this._dateFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFields",{get:function(){return this._dateFields||(this._dateFields=new gt),this.adapter.apply("dateFields",{dateFields:this._dateFields}).dateFields},set:function(e){this._dateFields=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFormatter",{get:function(){return this._numberFormatter||(this._numberFormatter=new Kl,this._numberFormatter.language=this.language),this.adapter.apply("numberFormatter",{numberFormatter:this._numberFormatter}).numberFormatter},set:function(e){this._numberFormatter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFormat",{get:function(){return this.adapter.apply("numberFormat",{numberFormat:this._numberFormat}).numberFormat},set:function(e){this._numberFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFields",{get:function(){return this._numberFields||(this._numberFields=new gt),this.adapter.apply("numberFields",{numberFields:this._numberFields}).numberFields},set:function(e){this._numberFields=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormatter",{get:function(){return this._durationFormatter||(this._durationFormatter=new lA,this._durationFormatter.language=this.language),this.adapter.apply("durationFormatter",{durationFormatter:this._durationFormatter}).durationFormatter},set:function(e){this._durationFormatter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormat",{get:function(){return this.adapter.apply("durationFormat",{durationFormat:this._durationFormat}).durationFormat},set:function(e){this._durationFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFields",{get:function(){return this._durationFields||(this._durationFields=new gt),this.adapter.apply("durationFields",{durationFields:this._durationFields}).durationFields},set:function(e){this._durationFields=e},enumerable:!0,configurable:!0}),t.prototype.generateDataFields=function(){var e=this;this._dataFields={},this.data.length&&we(this.data,function(i){Ue(i,function(r,a){V(e._dataFields[r])||(e._dataFields[r]=e.adapter.apply("dataFieldName",{name:r,field:r}).name)})})},t.prototype.isDateField=function(e){return this.adapter.apply("isDateField",{isDateField:this.dateFields.contains(e),field:e}).isDateField},t.prototype.isNumberField=function(e){return this.adapter.apply("isNumberField",{isNumberField:this.numberFields.contains(e),field:e}).isNumberField},t.prototype.isDurationField=function(e){return this.adapter.apply("isDurationField",{isDurationField:this.durationFields.contains(e),field:e}).isDurationField},t.prototype.getContentType=function(e){var i="";switch(e){case"png":case"gif":i="image/"+e;break;case"jpg":i="image/jpeg";break;case"svg":i="image/svg+xml";break;case"csv":i="text/csv";break;case"json":i="application/json";break;case"html":i="text/html";break;case"pdf":case"pdfdata":i="application/pdf";break;case"xlsx":i="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break}return this.adapter.apply("contentType",{contentType:i,type:e}).contentType},Object.defineProperty(t.prototype,"filePrefix",{get:function(){return this.adapter.apply("filePrefix",{filePrefix:this._filePrefix}).filePrefix},set:function(e){this._filePrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this.adapter.apply("backgroundColor",{backgroundColor:this._backgroundColor}).backgroundColor},set:function(e){this._backgroundColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.adapter.apply("title",{title:this._title}).title},set:function(e){this._title=e},enumerable:!0,configurable:!0}),t.prototype.showPreloader=function(){var e=this.preloader;e&&(e.progress=.5,e.label.text="...")},t.prototype.hidePreloader=function(){var e=this.preloader;e&&(e.progress=1)},Object.defineProperty(t.prototype,"preloader",{get:function(){return this._sprite&&this._sprite.parent&&this._sprite.parent.preloader?this._sprite.parent.preloader:void 0},enumerable:!0,configurable:!0}),t.prototype.showTimeout=function(){this.showModal(this.adapter.apply("timeoutMessage",{message:this.language.translate("Export operation took longer than expected. Something might have gone wrong.")}).message)},t.prototype.hideTimeout=function(){this._timeoutTimeout&&(this.removeDispose(this._timeoutTimeout),this._timeoutTimeout=null),this.hideModal()},Object.defineProperty(t.prototype,"language",{get:function(){return this._language||(this._language=new ya),this._language},set:function(e){this._language=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modal",{get:function(){return this._modal||(this._modal=new Cp,this._modal.adapter.add("classPrefix",function(e){return e=et.classNamePrefix+e,e})),this._modal},enumerable:!0,configurable:!0}),t.prototype.showModal=function(e,i){this.hideModal(),this.hidePreloader();var r=this.modal;r.container=this.sprite.svgContainer.SVGContainer,r.content=e,r.readerTitle=i,r.open()},t.prototype.hideModal=function(){this._modal&&this.modal.close()},t.prototype._canvg=function(){return je(this,void 0,void 0,function(){var e;return ti(this,function(i){switch(i.label){case 0:return[4,import("./KFBXT7X2.js")];case 1:return e=i.sent(),e.default!=null?[2,e.default]:[2,e]}})})},Object.defineProperty(t.prototype,"canvg",{get:function(){return this._canvg()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pdfmake",{get:function(){return Sw==null&&(Sw=KV()),Sw},enumerable:!0,configurable:!0}),t.prototype._xlsx=function(){return je(this,void 0,void 0,function(){return ti(this,function(e){switch(e.label){case 0:return[4,import("./ZIIH7OXL.js")];case 1:return[2,e.sent()]}})})},Object.defineProperty(t.prototype,"xlsx",{get:function(){return this._xlsx()},enumerable:!0,configurable:!0}),t.prototype.setFormatOptions=function(e,i){this._formatOptions.setKey(e,i)},t.prototype.getFormatOptions=function(e){return this._formatOptions.getKey(e)},Object.defineProperty(t.prototype,"formatOptions",{get:function(){return this._formatOptions},enumerable:!0,configurable:!0}),t.prototype._disablePointers=function(){V(this._spriteInteractionsEnabled)||(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled),this.sprite.interactionsEnabled=!1},t.prototype._releasePointers=function(){V(this._spriteInteractionsEnabled)&&!this._exportRunning&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled)},t.prototype.hideNonExportableSprites=function(){var e=this;if(!this._objectsAlreadyHidden){var i=this.sprite.svgContainer;i&&we(i.nonExportableSprites,function(r){!r.isHidden&&!r.isHiding&&r.visible&&e._hiddenObjects.push(r),r.hide(0)}),this._objectsAlreadyHidden=!0}},t.prototype.restoreNonExportableSprites=function(){this._objectsAlreadyHidden&&(we(this._hiddenObjects,function(e){e.show(0)}),this._hiddenObjects=[],this._objectsAlreadyHidden=!1)},t.prototype.awaitValidSprites=function(){return je(this,void 0,void 0,function(){var e;return ti(this,function(i){switch(i.label){case 0:return e=[],this.validateSprites.length&&we(this.validateSprites,function(r,a){r.invalid&&e.push(new Promise(function(n,o){r.events.once("validated",function(l){n()})}))}),e.length?[4,Promise.all(e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.processConfig=function(e){M.registeredClasses.ExportMenu=Cw,e&&(V(e.menu)&&!V(e.menu.type)&&(e.menu.type="ExportMenu"),V(e.dataFields)&&ri(e.dataFields)&&(this.dataFields=e.dataFields,delete e.dataFields)),s.prototype.processConfig.call(this,e)},t.XLINK="http://www.w3.org/1999/xlink",t}(Sp);var Bi=["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin"],ke=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.properties={},e._eventDispatcher=new nw(e),e._bindings={},e._isTemplate=!1,e._isPath=!1,e._inited=!1,e._ready=!1,e.isHiding=!1,e._isHidden=!1,e.isShowing=!1,e.isStandaloneInstance=!1,e._isActive=!1,e._mask=new Ci,e._positionPrecision=3,e._language=new Ci,e._exporting=new Ci,e._exportable=!0,e._bbox={x:0,y:0,width:0,height:0},e.invalid=!1,e.positionInvalid=!1,e.propertyFields={},e.applyOnClones=!1,e._measuredWidthSelf=0,e._measuredHeightSelf=0,e.maxLeft=0,e.maxRight=0,e.maxTop=0,e.maxBottom=0,e.maxLeftSelf=0,e.maxRightSelf=0,e.maxTopSelf=0,e.maxBottomSelf=0,e._isDragged=!1,e._isResized=!1,e._disabled=!1,e._internalDisabled=!1,e._updateDisabled=!1,e._internalDefaultsApplied=!1,e.rollOutDelay=0,e.isBaseSprite=!1,e.shouldClone=!0,e.appeared=!1,e.ex=0,e.ey=0,e.dragWhileResize=!1,e.measureFailed=!1,e.preventShow=!1,e.cloneTooltip=!0,e.className="Sprite",e._disposers.push(e._eventDispatcher),e.uid,e.group=e.paper.addGroup("g"),e.setPropertyValue("scale",1),e.setPropertyValue("rotation",0),e.setPropertyValue("align","none"),e.setPropertyValue("valign","none"),e.setPropertyValue("pixelPerfect",!1),e.setPropertyValue("visible",!0),e.setPropertyValue("tooltipPosition","fixed"),e.setPropertyValue("verticalCenter","none"),e.setPropertyValue("horizontalCenter","none"),e.setPropertyValue("tooltipX",ue(50)),e.setPropertyValue("tooltipX",ue(50)),e.setPropertyValue("marginTop",0),e.setPropertyValue("marginBottom",0),e.setPropertyValue("marginLeft",0),e.setPropertyValue("marginRight",0),e.setPropertyValue("dx",0),e.setPropertyValue("dy",0),e.setPropertyValue("paddingTop",0),e.setPropertyValue("paddingBottom",0),e.setPropertyValue("paddingRight",0),e.setPropertyValue("paddingLeft",0),e.setPropertyValue("togglable",!1),e.setPropertyValue("hidden",!1),e.setPropertyValue("urlTarget","_self"),e.setPropertyValue("alwaysShowTooltip",!1),e.setPropertyValue("showTooltipOn","hover"),e._prevMeasuredWidth=0,e._prevMeasuredHeight=0,e._measuredWidth=0,e._measuredHeight=0,e._isMeasured=!0,e.invalidate(),e.applyTheme(),e._disposers.push(e.events),e._disposers.push(e.group),e._disposers.push(e._mask),e._disposers.push(e._language),e._disposers.push(e._exporting),e._disposers.push(new Ft(function(){Ue(e._bindings,function(i,r){r.dispose()})})),e.setPropertyValue("interactionsEnabled",!0),e}return Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new mr(this)),this._adapterO},enumerable:!0,configurable:!0}),t.prototype.applyTheme=function(){s.prototype.applyTheme.call(this),et.autoSetClassName&&this.setClassName()},t.prototype.getCurrentThemes=function(){var e=this._themes;if(e)return e;var i=this._parent;return i?i.getCurrentThemes():M.themes},t.prototype.applyInternalDefaults=function(){this._internalDefaultsApplied=!0},t.prototype.invalidate=function(){this.disabled||this._isTemplate||this.__disabled||this.invalid||(this.invalid=!0,M.addToInvalidSprites(this),Bt.requestFrame())},t.prototype.validate=function(){this.dispatchImmediately("beforevalidated"),this._internalDefaultsApplied||this.applyInternalDefaults(),this.beforeDraw(),this.draw(),this.invalid=!1,M.removeFromInvalidSprites(this),this.afterDraw()},t.prototype.invalidatePosition=function(){this.disabled||this._isTemplate||this.positionInvalid||(this.positionInvalid=!0,M.addToInvalidPositions(this),Bt.requestFrame())},t.prototype.validatePosition=function(){var e=this.pixelX,i=this.pixelY,r=this.dx,a=this.dy,n=e+r,o=i+a;this._updateDisabled&&(this._internalDisabled?this.group.attr({display:"none"}):this.disabled||this.removeSVGAttribute("display"),this._updateDisabled=!1);var l=this.measure(),u=this.group.transformString;this.group.moveTo({x:n,y:o}),this.group.rotation=this.rotation,this.nonScaling?this.group.scale=this.scale/this.globalScale:this.group.scale=this.scale,(u!=this.group.transformString||l)&&(u==null?this.dispatch("transformed"):this.dispatchImmediately("transformed"),this.dispatch("positionchanged"),(this.showTooltipOn=="hit"||this.showTooltipOn=="always")&&this.updateTooltipPosition()),e+r==n&&i+a==o&&(M.removeFromInvalidPositions(this),this.positionInvalid=!1);var h=this._maskRectangle;h&&this._clipElement.moveTo({x:h.x-e,y:h.y-i})},t.prototype.beforeDraw=function(){},t.prototype.draw=function(){},t.prototype.afterDraw=function(){var e,i;if((this.isMeasured||this.horizontalCenter!=="none"||this.verticalCenter!=="none")&&this.measureElement(),this._inited)this.dispatch("validated");else{if(this._adapterO)try{for(var r=Xh(this._adapterO.keys()),a=r.next();!a.done;a=r.next()){var n=a.value;switch(n){case"mask":case"fill":case"opacity":case"fillOpacity":case"stroke":case"strokeOpacity":case"strokeWidth":case"shapeRendering":case"strokeDasharray":case"strokeDashoffset":case"strokeLinecap":case"strokeLinejoin":case"textDecoration":case"fontSize":case"fontFamily":case"fontWeight":this[n]=this[n];break}}}catch(o){e={error:o}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}this.applyFilters(),this.visible=this.visible,this.interactionsEnabled=this.getPropertyValue("interactionsEnabled"),this._inited=!0,this.showOnInit||(this.appeared=!0),this.hidden&&this.hide(0),this.applyMask(),this.dispatch("validated"),this.dispatch("inited"),this.dispatchReady()}this.showTooltipOn=="always"&&(this.visible&&!this.disabled&&!this.__disabled?this.showTooltip():this.hideTooltip(0))},t.prototype.dispatchReady=function(){this.isReady()||(this._ready=!0,this.dispatch("ready"))},t.prototype.reinit=function(){this._inited=!1,this.setState(this.defaultState),this.invalidate()},t.prototype.handleGlobalScale=function(){this.dispatch("globalscalechanged"),this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth),this.nonScaling&&this.validatePosition(),this.updateFilterScale()},t.prototype.updateFilterScale=function(){var e=this;ce(this.filters.iterator(),function(i){i.scale=e.globalScale})},t.prototype.removeFromInvalids=function(){M.removeFromInvalidSprites(this),M.removeFromInvalidPositions(this)},t.prototype.copyFrom=function(e){var i=this;s.prototype.copyFrom.call(this,e),this.isMeasured=e.isMeasured,this.states.copyFrom(e.states),e.filters.length>0&&e.filters.each(function(r){i.filters.push(r.clone())}),e._adapterO&&this.adapter.copyFrom(e._adapterO),e._interaction&&this.interactions.copyFrom(e.interactions),e._plugins&&this.plugins.copyFrom(e.plugins),this.configField=e.configField,this.applyOnClones=e.applyOnClones,this.disabled=e.disabled,this.virtualParent=e.virtualParent,this.exportable=e.exportable,e._tooltip&&(this._tooltip?this._tooltip.copyFrom(e.tooltip):e.cloneTooltip?this.tooltip=e.tooltip.clone():this._tooltip=e.tooltip),this._showSystemTooltip=e.showSystemTooltip,ma(e.propertyFields,this.propertyFields),ma(e.properties,this),e.fillModifier&&(this.fillModifier=e.fillModifier.clone()),e.strokeModifier&&(this.strokeModifier=e.strokeModifier.clone()),e.focusFilter&&(this.focusFilter=e.focusFilter.clone())},t.prototype.dispose=function(){if(!this.isDisposed()){if(this.showTooltipOn=="always"&&this.tooltip&&this.tooltip.hide(),this.dispatchImmediately("beforedisposed"),this.isBaseSprite){if(this.htmlContainer)for(;this.htmlContainer.childNodes.length>0;)this.htmlContainer.removeChild(this.htmlContainer.firstChild);this.isBaseSprite=!1}if(s.prototype.dispose.call(this),this._adapterO&&this._adapterO.clear(),this.applyOnClones&&this._clones)for(var e=this._clones.length-1;e>=0;e--){var i=this._clones.getIndex(e);i.dispose()}this._svgContainer&&this._svgContainer.dispose(),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0),this._urlDisposer&&this._urlDisposer.dispose(),this.removeFromInvalids(),this.element&&this.element.dispose(),this.group&&this.group.dispose(),this._numberFormatter&&this._numberFormatter.dispose(),this._focusFilter&&this._focusFilter.dispose();var r=this.stroke;r&&!(r instanceof xt)&&r.dispose&&(this.clonedFrom&&this.clonedFrom.stroke==r||r.dispose());var a=this.fill;if(a&&!(a instanceof xt)&&a.dispose&&(this.clonedFrom&&this.clonedFrom.fill==a||a.dispose()),V(this.id)&&this.map.removeKey(this.id),this.parent=void 0,this._filters)for(;this._filters.length>0;){var n=this._filters.getIndex(0);n.dispose(),this._filters.removeValue(n)}this._alwaysShowDisposers=void 0}},Object.defineProperty(t.prototype,"isTemplate",{get:function(){return this._isTemplate},set:function(e){e=Vi(e),this._isTemplate!=e&&(this._isTemplate=e,this instanceof Fe&&ce(this.children.iterator(),function(i){i.isTemplate=e}),e?(this.parent=this._parent,this.removeFromInvalids()):this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSystemTooltip",{get:function(){return V(this._showSystemTooltip)?this._showSystemTooltip:this.virtualParent?this.virtualParent.showSystemTooltip:this._parent?this._parent.showSystemTooltip:!1},set:function(e){e=Vi(e),this._showSystemTooltip!=e&&(this._showSystemTooltip=e,this.applyAccessibility())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topParent",{get:function(){if(this._topParent)return this._topParent;if(this._parent)return this._parent.topParent},set:function(e){this._topParent=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(e){if(!this._isTemplate){this.paper;var i=this._parent;i!=e&&(i&&i.children.removeValue(this),this._parent=e,e?(this.topParent=e.topParent,e.isTemplate&&(this.isTemplate=!0),this.baseId=e.baseId,e.children.push(this),this._tooltip&&!this._tooltipContainer&&(this._tooltip.parent=e.tooltipContainer),this._dataItem||(this.dataItem=e.dataItem),this.handleAlwaysShowTooltip(),this.dataItem&&this.applyAccessibility(),this.dispatchImmediately("parentset")):this.topParent=void 0)}},enumerable:!0,configurable:!0}),t.prototype.handleAlwaysShow=function(){this.showTooltip()},t.prototype.handleAlwaysShowTooltip=function(){var e=this,i=this._alwaysShowDisposers;if(i&&we(i,function(a){a.dispose()}),this._alwaysShowDisposers=[],this.showTooltipOn=="always")for(;e!=null;){var r=e.events.on("visibilitychanged",this.handleAlwaysShow,this,!1);this.addDisposer(r),this._alwaysShowDisposers.push(r),e=e.parent}},Object.defineProperty(t.prototype,"virtualParent",{get:function(){return this._virtualParent},set:function(e){this._virtualParent=e,this.dataItem&&this.applyAccessibility()},enumerable:!0,configurable:!0}),t.prototype.appendDefs=function(){this.filterElement&&this.paper.appendDef(this.filterElement);var e=this.fill;e&&e.element&&this.paper.appendDef(e.element);var i=this.stroke;if(i&&i.element&&this.paper.appendDef(i.element),this.fillModifier&&this.fill instanceof xt){var r=this.fillModifier.modify(this.fill);r&&r.element&&this.paper.appendDef(r.element)}if(this.strokeModifier&&this.stroke instanceof xt){var a=this.strokeModifier.modify(this.stroke);a&&a.element&&this.paper.appendDef(a.element)}this._clipPath&&this.paper.appendDef(this._clipPath),this._exportable===!1&&(this.exportable=!1)},Object.defineProperty(t.prototype,"map",{get:function(){var e=this.topParent;return e?e.map:(this._map||(this._map=new Rt),this._map)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delayedMap",{get:function(){var e=this.topParent;return e?e.delayedMap:(this._delayedMap||(this._delayedMap=new Rt),this._delayedMap)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){if(this._id!=e){if(this._id=e,this.map.hasKey(e))throw Error("Duplicate id ("+e+") used on multiple objects.");this.map.setKey(e,this),et.autoSetClassName&&this.setClassName()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dom",{get:function(){return this.group.node},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){if(this._paper)return this._paper;var e=this._parent;return e?e.paper:po()},set:function(e){this.setPaper(e)},enumerable:!0,configurable:!0}),t.prototype.setPaper=function(e){var i=this._paper;return i!=e?(this._paper=e,this.appendDefs(),!0):!1},Object.defineProperty(t.prototype,"htmlContainer",{get:function(){if(this._htmlContainer)return this._htmlContainer;var e=this._parent;if(e)return e.htmlContainer},set:function(e){this._htmlContainer=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleElement",{get:function(){return this._titleElement||(this._titleElement=this.paper.add("title"),this.group.add(this._titleElement)),this._titleElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"descriptionElement",{get:function(){return this._descriptionElement||(this._descriptionElement=this.paper.add("desc"),this.group.add(this._descriptionElement)),this._descriptionElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._filters||(this._filters=new gt,this._disposers.push(this._filters.events.onAll(this.applyFilters,this)),this._disposers.push(new Tt(this._filters))),this._filters},enumerable:!0,configurable:!0}),t.prototype.setSVGAttributes=function(){this.fill=this.fill,this.opacity=this.opacity,this.fillOpacity=this.fillOpacity,this.stroke=this.stroke,this.strokeOpacity=this.strokeOpacity,this.shapeRendering=this.shapeRendering,this.strokeDasharray=this.strokeDasharray,this.strokeDashoffset=this.strokeDashoffset,this.strokeLinecap=this.strokeLinecap,this.strokeLinejoin=this.strokeLinejoin,this.focusable=this.focusable,this.tabindex=this.tabindex,this.role=this.role},t.prototype.setSVGAttribute=function(e){this.group.attr(e)},t.prototype.removeSVGAttribute=function(e){this.group.removeAttr(e)},t.prototype.setClassName=function(){var e=this.className,i=et.classNamePrefix;this.element&&this.element.addClass(i+e),this.group.addClass(i+e+"-group"),V(this.id)&&this.group.addClass(i+this.id),this.userClassName&&this.group.addClass(this.userClassName)},t.prototype.uidAttr=function(){return this.setSVGAttribute({id:this.uid}),this.uid},t.prototype.updateClipPath=function(){var e=this._clipElement;e&&e.moveTo({x:this.mask.pixelX,y:this.mask.pixelY})},t.prototype.createClipPath=function(){if(!this._clipPath){this._clipPath=this.paper.addGroup("clipPath"),this.paper.appendDef(this._clipPath),this._disposers.push(this._clipPath);var e=M.getUniqueId();this._clipPath.attr({id:e}),this.group.attr({"clip-path":'url("'+ih()+e+'")'})}},t.prototype.applyMask=function(){var e=this.mask;if(this._clipPath&&e)if(e instanceof Fe){this._clipElement.attr({width:st(0,e.pixelWidth),height:st(0,e.pixelHeight)});var i=Yr({x:e.pixelX,y:e.pixelY},e.parent,this);this._clipPath.x=i.x,this._clipPath.y=i.y}else e.element&&e.element!=this._clipElement&&(this._clipElement=e.element,this._clipPath.add(this._clipElement)),this._clipPath.scale=e.scale,this._clipPath.x=e.pixelX,this._clipPath.y=e.pixelY,this._clipPath.rotation=e.rotation},t.prototype.applyFilters=function(){var e=this;if(this._filters&&this._filters.length>0){var i=100,r=100;this.filterElement?this.filterElement.removeChildNodes():(this.filterElement=this.paper.addGroup("filter"),this._disposers.push(this.filterElement)),this.paper.appendDef(this.filterElement);var a="filter-"+this.uid;this.filterElement.attr({id:a}),ce(this.filters.iterator(),function(l){l.sprite=e,l.paper=e.paper,e.filterElement.attr({filterUnits:l.filterUnits}),l.appendPrimitives(e.filterElement),l.width>i&&(i=l.width),l.height>r&&(r=l.height),l.scale=e.globalScale});var n=i+"%",o=r+"%";this.filterElement.attr({width:n,height:o,x:-(i-100)/2+"%",y:-(r-100)/2+"%"}),this.group.attr({filter:'url("'+ih()+a+'")'})}else this.filterElement&&(this.group.removeAttr("filter"),this.filterElement.removeChildNodes())},t.prototype.removeClipPath=function(){this._clipPath&&(this.removeDispose(this._clipPath),this._clipPath=void 0)},t.prototype.setElement=function(e){this.element=e,this.setSVGAttributes(),this.applyAccessibility()},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this.removeElement(),this._element=e,this.group.add(e),e.node instanceof SVGPathElement&&(this._isPath=!0),this.invalid||this.validate(),et.autoSetClassName&&this.setClassName()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgContainer",{get:function(){if(this._svgContainer)return this._svgContainer;if(this._parent)return this._parent.svgContainer},set:function(e){this._svgContainer=e},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){if(this.element)if(this.definedBBox)this._bbox=this.definedBBox;else{var e=this.element.getBBox();this._bbox={x:e.x,y:e.y,width:e.width,height:e.height}}},t.prototype.updateCenter=function(){if(this.element){var e=this.element.transformString,i=this.bbox,r=0,a=0,n=i.x,o=i.y,l=i.width,u=i.height,h=this.pixelPaddingLeft,c=this.pixelPaddingRight,A=this.pixelPaddingTop,d=this.pixelPaddingBottom,f=st(l+h+c,this.pixelWidth),p=st(u+A+d,this.pixelHeight),m=i.x,g=i.x+f,y=i.y,x=i.y+p,C=this.horizontalCenter,S=this.verticalCenter;switch(C){case"none":r=n+h;break;case"left":r=h;break;case"middle":r=h-(l+c+h)/2;break;case"right":r=-c-l;break}switch(S){case"none":a=o+A;break;case"top":a=A;break;case"middle":a=A-(u+d+A)/2;break;case"bottom":a=-d-u;break}this._measuredHeight=p,this._measuredWidth=f;var P=ve(r-n,this._positionPrecision,!0),F=ve(a-o,this._positionPrecision,!0);this.ex=P-h,this.ey=F-A,this.maxLeft=m+P-h,this.maxRight=g+P-h,this.maxTop=y+F-A,this.maxBottom=x+F-A,this.pixelPerfect&&et.pixelPerfectPrecision==0&&(P-=.5,F-=.5),this.element.moveTo({x:P,y:F}),e!=this.element.transformString&&this.dispatchImmediately("transformed")}},t.prototype.measure=function(){this.updateCenter();var e=this._measuredWidth,i=this._measuredHeight,r=this.maxLeft,a=this.maxRight,n=this.maxTop,o=this.maxBottom;this._measuredWidthSelf=e,this._measuredHeightSelf=i;var l=this._positionPrecision;if(this.maxLeftSelf=this.maxLeft,this.maxRightSelf=this.maxRight,this.maxTopSelf=this.maxTop,this.maxBottomSelf=this.maxBottom,this.rotation!==0||this.scale!==1||this.nonScaling){this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth);var u=this.paper.svg,h=u.createSVGMatrix(),c=this.rotation,A=this.scale;this.nonScaling&&(A=this.scale/this.globalScale),h.a=Se(c)*A,h.c=-Be(c)*A,h.e=0,h.b=Be(c)*A,h.d=Se(c)*A,h.f=0;var d=u.createSVGPoint();d.x=r,d.y=n;var f=u.createSVGPoint();f.x=a,f.y=n;var p=u.createSVGPoint();p.x=a,p.y=o;var m=u.createSVGPoint();m.x=r,m.y=o;var g=d.matrixTransform(h),y=f.matrixTransform(h),x=p.matrixTransform(h),C=m.matrixTransform(h);r=Math.min(g.x,y.x,x.x,C.x),a=Math.max(g.x,y.x,x.x,C.x),n=Math.min(g.y,y.y,x.y,C.y),o=Math.max(g.y,y.y,x.y,C.y),e=a-r,i=o-n,this.maxLeft=ve(r,l,!0),this.maxRight=ve(a,l,!0),this.maxTop=ve(n,l,!0),this.maxBottom=ve(o,l,!0)}return this._measuredWidth=ve(e,l,!0),this._measuredHeight=ve(i,l,!0),this._measuredWidth!=this._prevMeasuredWidth||this._measuredHeight!=this._prevMeasuredHeight?(this._prevMeasuredHeight=this._measuredHeight,this._prevMeasuredWidth=this._measuredWidth,this.dispatch("sizechanged"),(this.isHover||this.showTooltipOn=="hit"||this.showTooltipOn=="always")&&this.tooltip&&this.tooltip.visible&&(V(this.tooltipText)||V(this.tooltipHTML))&&this.updateTooltipPosition(),!0):!1},t.prototype.insertBefore=function(e){var i=this._parent;if(i){var r=i.children.indexOf(e);r!==-1&&(i.children.moveValue(this,r),i.sortChildren())}return this},t.prototype.insertAfter=function(e){var i=this._parent;if(i){var r=i.children.indexOf(e);r!==-1&&(i.children.moveValue(this,r+1),i.sortChildren())}return this},t.prototype.removeElement=function(){this._element&&(this.removeDispose(this._element),this._element=void 0)},t.prototype.getRelativeX=function(e){return e instanceof qe?e.value:this._parent?e/this._parent.innerWidth:0},t.prototype.getRelativeY=function(e){return e instanceof qe?e.value:this._parent?e/this._parent.innerHeight:0},t.prototype.getPixelX=function(e){var i=0;if(I(e))i=e;else if(e instanceof qe){var r=e.value;this._parent&&(i=ve(this._parent.innerWidth*r,this._positionPrecision,!0))}return i},t.prototype.getPixelY=function(e){var i=0;if(I(e))i=e;else if(e instanceof qe){var r=e.value;this._parent&&(i=ve(this._parent.innerHeight*r,this._positionPrecision,!0))}return i},t.prototype.moveTo=function(e,i,r,a){this.isDragged&&!a||(e&&(I(e.x)&&this.setPropertyValue("x",ve(e.x,this._positionPrecision,!0)),I(e.y)&&this.setPropertyValue("y",ve(e.y,this._positionPrecision,!0))),I(i)&&(this.rotation=i),I(r)&&(this.scale=r),this.invalidatePosition())},Object.defineProperty(t.prototype,"mask",{get:function(){return this._adapterO?this._adapterO.apply("mask",this._mask.get()):this._mask.get()},set:function(e){var i=this;this._mask.get()!==e&&(e?(this.createClipPath(),e instanceof Fe?this._clipElement=this.paper.add("rect"):(e.isMeasured=!1,e.element&&(this._clipElement=e.element)),this._clipElement&&this._clipPath.add(this._clipElement),this._mask.set(e,new Vt([e.events.on("maxsizechanged",function(){i.inited&&i.applyMask()},void 0,!1),e.events.on("validated",this.applyMask,this,!1),e.events.on("positionchanged",this.applyMask,this,!1)])),this.applyMask()):(this._mask.reset(),this.group.removeAttr("clip-path"),this.removeClipPath()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskRectangle",{get:function(){return this._maskRectangle},set:function(e){e?(this.createClipPath(),this._clipElement||(this._clipElement=this.paper.add("rect"),this._clipPath.add(this._clipElement)),this._clipElement.attr({width:e.width,height:e.height})):(this.removeClipPath(),this._clipElement=void 0),this._maskRectangle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMeasured",{get:function(){return this._isMeasured},set:function(e){e=Vi(e),e||(this._measuredWidth=0,this._measuredHeight=0),this._isMeasured!=e&&(this._isMeasured=e,this.invalidatePosition())},enumerable:!0,configurable:!0}),t.prototype.hitTest=function(e){this.invalid&&this.validate(),e.invalid&&e.validate();var i=this.pixelX+this.maxLeft,r=this.pixelY+this.maxTop,a=i+this.maxRight,n=r+this.maxBottom,o=e.pixelX+e.maxLeft,l=e.pixelY+e.maxTop,u=o+e.maxRight,h=l+e.maxBottom;return!(o>a||u<i||l>n||h<r)},Object.defineProperty(t.prototype,"inited",{get:function(){return this._inited},enumerable:!0,configurable:!0}),t.prototype.isReady=function(){return this._ready},Object.defineProperty(t.prototype,"states",{get:function(){if(!this._states){var e=new yc;this._states=new al(e),this._disposers.push(this._states.events.on("insertKey",this.processState,this,!1)),this._disposers.push(this._states.events.on("setKey",this.processState,this,!1)),this._disposers.push(new Ya(this._states)),this._disposers.push(e)}return this._states},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenState",{get:function(){if(!this.states.getKey("hidden")){var e=this.states.create("hidden");e.properties.opacity=0,e.properties.visible=!1}return this.states.getKey("hidden")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultState",{get:function(){if(!this.states.getKey("default")){var e=this.states.create("default");e.properties.opacity=1}return this.states.getKey("default")},enumerable:!0,configurable:!0}),t.prototype.processState=function(e){var i=e.newValue;if(i.sprite=this,i.name=e.key,(this.states.hasKey("hover")||this.showTooltipOn=="hover"&&(V(this.tooltipHTML)||V(this.tooltipText)))&&(this.hoverable=!0),(this.states.hasKey("down")||this.showTooltipOn=="hover"&&(V(this.tooltipHTML)||V(this.tooltipText)))&&(this.clickable=!0),this.states.hasKey("focus")&&(this.focusable=!0),this.applyOnClones)for(var r=this.clones.values,a=r.length,n=0;n<a;++n){var o=r[n];o.isDisposed()||o.states.setKey(i.name,i)}},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Nn(this._animations))),this._animations},enumerable:!0,configurable:!0}),t.prototype.getSvgPoint=function(e){try{var i=this.htmlContainer.getBoundingClientRect();return{x:e.x-i.left,y:e.y-i.top}}catch{return e}},t.prototype.animate=function(e,i,r){return new gs(this,e,i,r).start()},t.prototype.setState=function(e,i,r){var a;if(e instanceof yc)this.states.setKey(e.name,e),a=e;else if(a=this.states.getKey(e),!a)return;if(a.name=="hover"){if(this.isHidden)return;this.isHover=!0}return a.name=="hidden"?this.isHiding=!0:this.visible||this.setVisibility(a.properties.visible||this.defaultState.properties.visible),a.name=="active"&&(this.isActive=!0),I(i)||(i=a.transitionDuration),V(r)||(r=a.transitionEasing),this.transitTo(a,i,r)},t.prototype.applyCurrentState=function(e){var i=this.setState(this.defaultState,e);return this.isHover&&(i=this.setState("hover",e)),this.isDown&&this.interactions.downPointers.length&&(i=this.setState("down",e)),this.isFocused=this.isFocused,this.isActive&&(i=this.setState("active",e),this.isHover&&this.states.hasKey("hoverActive")&&(i=this.setState("hoverActive",e))),i},t.prototype.transitTo=function(e,i,r){var a=this,n=[],o=e.allValues,l;if(Ue(o,function(h,c){var A=a[h];if(c!=A&&a.defaultState.properties[h]==null&&(a.defaultState.properties[h]=A),c!="__unset"){var d={from:A,to:c,property:h};n.push(d)}}),n.length>0&&(l=this.animate(n,i,r),l&&!l.isFinished()?this._disposers.push(l.events.on("animationended",function(){a.dispatchImmediately("transitionended")})):this.dispatchImmediately("transitionended")),e.filters.length>0){var u=[];ce(e.filters.iterator(),function(h){var c=h.clone();u.push(c);var A=[];ce(a.filters.iterator(),function(d){d.className==c.className&&(Hd(a.defaultState.filters.iterator(),function(f){return f.className===c.className})||a.defaultState.filters.push(d),Ue(c.properties,function(f,p){var m=d.properties[f];m!=p&&A.push({property:f,from:m,to:p})}))}),c.animate(A,i,r)}),this.filters.clear(),this.filters.pushAll(u)}return l},t.prototype.isInTransition=function(){return this.animations.length>0},Object.defineProperty(t.prototype,"isHover",{get:function(){return this.isInteractive()?this.interactions.isHover:!1},set:function(e){e=Vi(e),e!==this.isHover&&this.isInteractive()&&(this.interactions.isHover=e,e?this.handleOver():(this.interactions.isRealHover=!1,this.handleOut()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDragged",{get:function(){return this._isDragged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isResized",{get:function(){return this._isResized},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDown",{get:function(){return this.isInteractive()?this.interactions.isDown:!1},set:function(e){e=Vi(e),this.isInteractive()&&this.isDown!=e&&(this.interactions.isDown=e,e?this.handleDown():this.handleUp())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFocused",{get:function(){return this.isInteractive()?this.interactions.isFocused:!1},set:function(e){e=Vi(e),this.focusable&&this.isFocused!=e&&this.isInteractive()&&(this.interactions.isFocused=e,e===!0?this.handleFocus():this.handleBlur())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},set:function(e){this.setActive(e)},enumerable:!0,configurable:!0}),t.prototype.setActive=function(e){e=Vi(e),this._isActive!==e&&(this._isActive=e,e&&this.states.hasKey("active")?(this.setState("active"),this.isHover&&this.states.hasKey("hoverActive")&&this.setState("hoverActive")):this.applyCurrentState(),this.dispatchImmediately("toggled"))},Object.defineProperty(t.prototype,"disabled",{get:function(){var e=this.getPropertyValue("disabled");return V(e)?e:this.virtualParent?this.virtualParent.disabled:this._parent?this._parent.disabled:!1},set:function(e){this.setDisabled(e)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){e=Vi(e);var i=this.getPropertyValue("disabled");if(i!=e){if(this.setPropertyValue("disabled",e,!0),e)this.parent=this._parent,this.removeFromInvalids(),this.group.attr({display:"none"}),this.dispatch("disabled");else{if(this._parent){var r=this._parent.element;r.hasChild(this.group)||r.add(this.group)}this instanceof Fe?(this.deepInvalidate(),this._background&&this._background.invalidate()):this.invalidate(),this.__disabled||this.removeSVGAttribute("display"),this.dispatch("enabled")}return this.dispatch("transformed"),Bt.requestFrame(),!0}return!1},Object.defineProperty(t.prototype,"__disabled",{get:function(){return this._internalDisabled},set:function(e){this._internalDisabled!=e&&(this._internalDisabled=e,this._updateDisabled=!0,this.invalidatePosition(),e||this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFormatter",{get:function(){return this._numberFormatter?this._numberFormatter:this.virtualParent?this.virtualParent.numberFormatter:this._parent?this._parent.numberFormatter:(this._numberFormatter=new Kl,this._numberFormatter.language=this.language,this.numberFormatter)},set:function(e){this._numberFormatter=e,this._numberFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.virtualParent?this.virtualParent.dateFormatter:this._parent?this._parent.dateFormatter:(this._dateFormatter=new An,this._dateFormatter.language=this.language,this.dateFormatter)},set:function(e){this._dateFormatter=e,this._dateFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormatter",{get:function(){return this._durationFormatter?this._durationFormatter:this.virtualParent?this.virtualParent.durationFormatter:this._parent?this._parent.durationFormatter:(this._durationFormatter=new lA,this._durationFormatter.language=this.language,this.durationFormatter)},set:function(e){this._durationFormatter=e,this._durationFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){var e=this._language.get();return e||(this.virtualParent?this.virtualParent.language:this._parent?this._parent.language:(e=new ya,this.language=e,e))},set:function(e){var i=this;this._language.get()!==e&&this._language.set(e,e.events.on("localechanged",function(r){if(i._numberFormatter&&(i._numberFormatter.language=i.language),i._dateFormatter&&(i._dateFormatter.language=i.language),i._durationFormatter&&(i._durationFormatter.language=i.language),i._exporting.get()){var a=i._exporting.get();a.numberFormatter.language=i.language,a.dateFormatter.language=i.language,a.durationFormatter.language=i.language,a.language=i.language}i instanceof Fe&&i.deepInvalidate()}))},enumerable:!0,configurable:!0}),t.prototype.populateString=function(e,i){if(V(e)){e=kd(e),e=Ia().escape(e);var r=e.match(/\{([^}]+)\}/g),a=void 0;if(r)for(a=0;a<r.length;a++){var n=r[a].replace(/\{([^}]+)\}/,"$1"),o=this.getTagValue(n,"",i);V(o)||(o=""),e=e.split(r[a]).join(o)}e=Ia().unescape(e)}else e="";return this._adapterO?this._adapterO.apply("populateString",e):e},t.prototype.getTagValue=function(e,i,r){var a;V(r)||(r=this.dataItem);for(var n=[],o=/([^.]+)\(([^)]*)\)|([^.]+)/g,l;l=o.exec(e),l!==null;)if(l[3])n.push({prop:l[3]});else{var u=[];if(cp(l[2])!="")for(var h=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,c=void 0;c=h.exec(l[2]),c!==null;)u.push(c[1]||c[2]||c[3]);n.push({method:l[1],params:u})}if(r){a=this.getTagValueFromObject(n,r.values),(!V(a)||ri(a))&&(a=this.getTagValueFromObject(n,r));var A=r.dataContext;!V(a)&&A&&(a=this.getTagValueFromObject(n,r.dataContext),V(a)||(a=this.getTagValueFromObject([{prop:e}],A)),!V(a)&&A.dataContext&&(a=this.getTagValueFromObject(n,A.dataContext))),!V(a)&&r.component&&r.component.dataItem!==r&&(a=r.component.getTagValue(e,i))}return V(a)||(a=this.getTagValueFromObject(n,this.populateStringFrom||this)),!V(a)&&this._parent&&(a=this._parent.getTagValue(e,i)),a},t.prototype.getTagValueFromObject=function(e,i,r){for(var a=i,n=!1,o=0,l=e.length;o<l;o++){var u=e[o];if(u.prop){if(a=a[u.prop],!V(a))return}else switch(u.method){case"formatNumber":var h=qd(a);V(h)&&(a=this.numberFormatter.format(h,r||u.params[0]||void 0),n=!0);break;case"formatDate":var c=void 0;if(ut(a)?c=this.dateFormatter.parse(a):c=dp(a),!Zu(c)||Rr(c.getTime()))return;V(c)&&(a=this.dateFormatter.format(c,r||u.params[0]||void 0),n=!0);break;case"formatDuration":var A=qd(a);V(A)&&(a=this.durationFormatter.format(A,r||u.params[0]||void 0,u.params[1]||void 0),n=!0);break;case"urlEncode":case"encodeURIComponent":a=encodeURIComponent(a);break;default:a[u.method]&&a[u.method].apply(this,u.params);break}}if(!n){var d=[{method:"",params:r}];if(!V(r))I(a)?(d[0].method="formatNumber",d[0].params=""):Zu(a)&&(d[0].method="formatDate",d[0].params="");else{var f=G_(r);f===dc?d[0].method="formatNumber":f===Ac?d[0].method="formatDate":f===zd&&(d[0].method="formatDuration")}d[0].method&&(a=this.getTagValueFromObject(d,a))}return a},Object.defineProperty(t.prototype,"dataItem",{get:function(){if(!this._dataItem){if(this.virtualParent)return this.virtualParent.dataItem;if(this._parent)return this._parent.dataItem}return this._dataItem},set:function(e){this.setDataItem(e)},enumerable:!0,configurable:!0}),t.prototype.setDataItem=function(e){var i=this;if(this._dataItem!=e){if(this._dataItem=e,e){if(this.configField){var r=e.dataContext;r&&(this.config=r[this.configField],!this.config&&r.dataContext&&(this.config=r.dataContext[this.configField]))}var a=e.dataContext;if(a){var n=a.dataContext;Ue(this.propertyFields,function(o,l){if(V(a[l])){var u=i;u[o]=a[l]}else if(n){var h=n[l];if(V(h)){var u=i;u[o]=h}}})}}this.invalidate()}},t.prototype.getPropertyValue=function(e){var i=this.properties[e];return this._isTemplate||(this._adapterO&&(i=this._adapterO.apply(e,i)),i=lp.applyAll(this,e,i)),i},t.prototype.setColorProperty=function(e,i,r){var a=this.properties[e];return i instanceof xt&&a instanceof xt&&i.toString()==a.toString()?!1:this.setPropertyValue(e,i,r)},t.prototype.setPercentProperty=function(e,i,r,a,n,o){if(i=cT(i),I(i))return I(n)&&(i=ve(i,n,o)),this.setPropertyValue(e,i,r,a);var l=this.properties[e];return i instanceof qe&&l instanceof qe&&i.value==l.value?!1:this.setPropertyValue(e,i,r,a)},t.prototype.setPropertyValue=function(e,i,r,a){if(this.properties[e]!==i&&!this.isDisposed()){if(this.properties[e]=i,this.events.isEnabled("propertychanged")){var n={type:"propertychanged",target:this,property:e};this.events.dispatchImmediately("propertychanged",n)}if(r&&this.invalidate(),a&&this.invalidatePosition(),this.applyOnClones)for(var o=this.clones.values,l=o.length,u=0;u<l;++u){var h=o[u];h.isDisposed()||(h[e]=i)}return!0}return!1},t.prototype.bind=function(e,i,r,a){var n=this;r===void 0&&(r=e),V(this._bindings[e])&&this._bindings[e].dispose(),this[e]=i[r],this._bindings[e]=i.events.on("propertychanged",function(o){if(o.property===r){var l=i[r];a&&(l=a(l)),n[e]=l}})},t.prototype.observe=function(e,i,r,a){var n=this;return new Vt(Xl(py(e),function(o){return n.events.on("propertychanged",function(l){l.property===o&&i.call(r,l)},r,a)}))},t.prototype.applyAccessibility=function(){var e=this.readerTitle,i=this.readerDescription,r=this.role,a=this.readerHidden,n=this.readerChecked,o=this.readerControls,l=this.readerLive,u=this.readerOrientation,h=this.readerValueNow,c=this.readerValueText,A=[],d=[],f=this.readerLabelledBy;f&&A.push(f);var p=this.readerDescribedBy;if(p&&d.push(p),e)if(A.length||this.showSystemTooltip){var m=this.titleElement,g=this.uid+"-title";m.node.textContent!=e&&(m.node.textContent=e,m.attr({id:g})),A.push(g)}else this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0),this.setSVGAttribute({"aria-label":e});else this.removeSVGAttribute("aria-label"),this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0);if(i){var y=this.descriptionElement,x=this.uid+"-description";y.node.textContent!=i&&(y.node.textContent=i,y.attr({id:x})),d.push(x)}else this._descriptionElement&&(this.group.removeElement(this._descriptionElement),this._descriptionElement=void 0);A.length?this.setSVGAttribute({"aria-labelledby":A.join(" ")}):this.removeSVGAttribute("aria-labelledby"),d.length?this.setSVGAttribute({"aria-describedby":d.join(" ")}):this.removeSVGAttribute("aria-describedby"),r?this.setSVGAttribute({role:r}):this.removeSVGAttribute("role"),a?this.setSVGAttribute({"aria-hidden":"true"}):this.removeSVGAttribute("aria-hidden"),n?this.setSVGAttribute({"aria-checked":"true"}):n===!1?this.setSVGAttribute({"aria-checked":"false"}):this.removeSVGAttribute("aria-checked"),o?this.setSVGAttribute({"aria-controls":o}):this.removeSVGAttribute("aria-controls"),l?this.setSVGAttribute({"aria-live":l}):this.removeSVGAttribute("aria-live"),u?this.setSVGAttribute({"aria-orientation":u}):this.removeSVGAttribute("aria-orientation"),h?this.setSVGAttribute({"aria-valuenow":h}):this.removeSVGAttribute("aria-valuenow"),c?this.setSVGAttribute({"aria-valuetext":c}):this.removeSVGAttribute("aria-valuetext")},Object.defineProperty(t.prototype,"readerTitle",{get:function(){var e=this.getPropertyValue("readerTitle");return V(e)&&this.dataItem?this.populateString(e):e},set:function(e){e=os(e),this.setPropertyValue("readerTitle",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerDescription",{get:function(){var e=this.getPropertyValue("readerDescription");return V(e)&&this.dataItem?this.populateString(e):this.getPropertyValue("readerDescription")},set:function(e){e=os(e),this.setPropertyValue("readerDescription",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"role",{get:function(){return this.getPropertyValue("role")},set:function(e){e=os(e),this.setPropertyValue("role",e)&&(this.applyAccessibility(),e=="slider"&&(this.setSVGAttribute({"aria-valuemin":"0"}),this.setSVGAttribute({"aria-valuemax":"100"})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerHidden",{get:function(){return this.getPropertyValue("readerHidden")},set:function(e){e=Vi(e),this.setPropertyValue("readerHidden",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerChecked",{get:function(){return this.getPropertyValue("readerChecked")},set:function(e){e=Vi(e),this.setPropertyValue("readerChecked",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerControls",{get:function(){return this.getPropertyValue("readerControls")},set:function(e){e=os(e),this.setPropertyValue("readerControls",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerLive",{get:function(){return this.getPropertyValue("readerLive")},set:function(e){e=os(e),this.setPropertyValue("readerLive",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerLabelledBy",{get:function(){return this.getPropertyValue("readerLabelledBy")},set:function(e){e=os(e),this.setPropertyValue("readerLabelledBy",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerDescribedBy",{get:function(){return this.getPropertyValue("readerDescribedBy")},set:function(e){e=os(e),this.setPropertyValue("readerDescribedBy",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerOrientation",{get:function(){return this.getPropertyValue("readerOrientation")},set:function(e){e=os(e),this.setPropertyValue("readerOrientation",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerValueNow",{get:function(){return this.getPropertyValue("readerValueNow")},set:function(e){e=os(e),this.setPropertyValue("readerValueNow",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerValueText",{get:function(){return this.getPropertyValue("readerValueText")},set:function(e){e=os(e),this.setPropertyValue("readerValueText",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyboardOptions",{get:function(){if(!this.interactions.keyboardOptions){if(this.virtualParent)return this.virtualParent.keyboardOptions;if(this._parent)return this._parent.keyboardOptions}return this.interactions.keyboardOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseOptions",{get:function(){if(!this.interactions.mouseOptions){if(this.virtualParent)return this.virtualParent.mouseOptions;if(this._parent)return this._parent.mouseOptions}return this.interactions.mouseOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interactions",{get:function(){if(!this._interaction){var e=at().getInteraction(this.dom);this._interaction=e,e.clickable=this.clickable,e.hoverable=this.hoverable,e.trackable=this.trackable,e.draggable=this.draggable,e.swipeable=this.swipeable,e.resizable=this.resizable,e.wheelable=this.wheelable,e.contextMenuDisabled=this.contextMenuDisabled,e.inert=this.inert,e.sprite=this,this._disposers.push(e)}return this._interaction},enumerable:!0,configurable:!0}),t.prototype.isInteractive=function(){return!!this._interaction},Object.defineProperty(t.prototype,"focusable",{get:function(){return this.getPropertyValue("focusable")},set:function(e){var i=this;e=Vi(e),this.setPropertyValue("focusable",e)&&(!e&&!this.isInteractive()||(this.interactions.focusable=e,e?(this.setSVGAttribute({focusable:e}),V(this._tabindex)||(this.tabindex=0)):(this.removeSVGAttribute("focusable"),this.tabindex=void 0),this.interactions.setEventDisposer("sprite-focusable",e,function(){return new Vt([i.events.on("blur",i.handleBlur,i,!1),i.events.on("focus",i.handleFocus,i,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleFocus=function(e){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!0,this.topParent.focusedElement=this),this.focusFilter&&this.filters.push(this.focusFilter),this.hoverOnFocus&&(this.isHover=!0,this.handleOver()))},t.prototype.handleBlur=function(e){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!1,this.topParent.focusedElement=void 0),this.focusFilter&&this.filters.removeValue(this.focusFilter),this.hoverOnFocus&&(this.isHover=!1,this.handleOut()))},Object.defineProperty(t.prototype,"focusFilter",{get:function(){var e=this._focusFilter;if(e)return e;if(this.virtualParent)return this.virtualParent.focusFilter;if(this._parent)return this._parent.focusFilter},set:function(e){this._focusFilter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOnFocus",{get:function(){return this.getPropertyValue("hoverOnFocus")},set:function(e){e!==this.hoverOnFocus&&this.setPropertyValue("hoverOnFocus",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabindex",{get:function(){var e=this._tabindex;if(e!=null)return e;if(this.virtualParent)return this.virtualParent.tabindex;if(this._parent)return this._parent.tabindex},set:function(e){e=Gt(e),this.setPropertyValue("tabindex",e)&&I(e)&&(this.interactions.tabindex=e,this.setSVGAttribute({tabindex:e}),this._tabindex=e,this.focusable=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertiaOptions",{get:function(){return!this.interactions.inertiaOptions&&this._parent?this._parent.inertiaOptions:this.interactions.inertiaOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"draggable",{get:function(){return this.getPropertyValue("draggable")},set:function(e){var i=this;e=Vi(e),this.setPropertyValue("draggable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.draggable=e,this.interactions.setEventDisposer("sprite-draggable",e,function(){return new Vt([i.events.on("down",i.handleDown,i,!1),i.events.on("dragstart",i.handleDragStart,i,!1),i.events.on("drag",i.handleDragMove,i,!1),i.events.on("dragstop",i.handleDragStop,i,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleDragStart=function(e){(!this.interactions.isTouchProtected||!e.touch)&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this._isDragged=!0,this.hideTooltip(0))},t.prototype.dragStart=function(e){this._isDragged=!0,at().dragStart(this.interactions,e)},t.prototype.handleDragStop=function(e){(!this.interactions.isTouchProtected||!e.touch)&&(this._isDragged=!1,this.showTooltip(),this.interactions.originalPosition=void 0)},t.prototype.dragStop=function(e,i){this._isDragged=!1,at().dragStop(this.interactions,e,i)},t.prototype.handleDragMove=function(e){if(!this.interactions.isTouchProtected||!e.touch){var i=this.interactions.originalPosition;if(i&&this._isDragged){var r=this._parent.globalScale*this.svgContainer.cssScale;this.moveTo({x:i.x+e.shift.x/r,y:i.y+e.shift.y/r},void 0,void 0,!0)}this.dispatchImmediately("dragged",e)}},Object.defineProperty(t.prototype,"inert",{get:function(){return this.getPropertyValue("inert")},set:function(e){e=Vi(e),this.setPropertyValue("inert",e)&&(!e&&!this.isInteractive()||(this.interactions.inert=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOptions",{get:function(){if(!this.interactions.hoverOptions){if(this.virtualParent)return this.virtualParent.hoverOptions;if(this._parent)return this._parent.hoverOptions}return this.interactions.hoverOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverable",{get:function(){return this.getPropertyValue("hoverable")},set:function(e){var i=this;e=Vi(e),this.setPropertyValue("hoverable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.hoverable=e,this.interactions.setEventDisposer("sprite-hoverable",e,function(){return new Vt([i.events.on("over",i.handleOver,i,!1),i.events.on("out",i.handleOut,i,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleOver=function(e){if(this._outTimeout&&this._outTimeout.dispose(),this.isHover){this.states.hasKey("hover")&&(this.isHidden||this.applyCurrentState());var i=void 0;e&&e.pointer&&(i=co(e.pointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale)),this.showTooltipOn=="hover"&&this.showTooltip(i)}else this.showTooltipOn=="hover"&&this.hideTooltip(),!this.isHidden&&this.states.hasKey("hover")&&this.applyCurrentState()},t.prototype.handleOut=function(e){var i=this;if(this.tooltip&&this.tooltip.targetSprite==this&&this.tooltip.keepTargetHover){this._outTimeout=this.setTimeout(function(){i.tooltip.isHover||(i.tooltip.targetSprite==i&&i.hideTooltip(),i._outTimeout=i.setTimeout(i.handleOutReal.bind(i),i.rollOutDelay))},10);return}this.showTooltipOn=="hover"&&this.hideTooltip(),this._outTimeout=this.setTimeout(this.handleOutReal.bind(this),this.rollOutDelay)},t.prototype.handleOutReal=function(){!this.isHidden&&!this.isHiding&&this.states.hasKey("hover")&&this.applyCurrentState()},Object.defineProperty(t.prototype,"hitOptions",{get:function(){if(!this.interactions.hitOptions){if(this.virtualParent)return this.virtualParent.hitOptions;if(this._parent)return this._parent.hitOptions}return this.interactions.hitOptions},enumerable:!0,configurable:!0}),t.prototype.handleDown=function(e){this.interactions.downPointers.length===1&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this.interactions.originalAngle=this.rotation,this.interactions.originalScale=this.scale,this.states.hasKey("down")&&this.setState("down"))},t.prototype.handleUp=function(e){var i=this;this._isResized=!1,this.states.hasKey("down")&&this.applyCurrentState(),this.showTooltipOn=="hit"&&(this.updateTooltipPosition(e.pointer?e.pointer.point:void 0),this._disposers.push(M.events.once("exitframe",function(){i.showTooltip()})),this._disposers.push(at().body.events.once("down",function(r){i.hideTooltip()})))},Object.defineProperty(t.prototype,"clickable",{get:function(){return this.getPropertyValue("clickable")},set:function(e){var i=this;e=Vi(e),this.setPropertyValue("clickable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.clickable=e,this.interactions.setEventDisposer("sprite-clickable",e,function(){return new Vt([i.events.on("down",i.handleDown,i,!1),i.events.on("up",i.handleUp,i,!1)])})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"togglable",{get:function(){return this.getPropertyValue("togglable")},set:function(e){var i=this;e=Vi(e),this.setPropertyValue("togglable",e)&&(!e&&!this.isInteractive()||this.interactions.setEventDisposer("sprite-togglable",e,function(){return i.events.on("hit",i.handleToggle,i,!1)}))},enumerable:!0,configurable:!0}),t.prototype.handleToggle=function(e){this.isActive=!this.isActive},Object.defineProperty(t.prototype,"contextMenuDisabled",{get:function(){return this.getPropertyValue("contextMenuDisabled")},set:function(e){e=Vi(e),this.setPropertyValue("contextMenuDisabled",e)&&(this.interactions.contextMenuDisabled=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.getPropertyValue("url")},set:function(e){this.setPropertyValue("url",e)&&(this._urlDisposer&&this._urlDisposer.dispose(),pc(e)&&(this._urlDisposer=this.events.on("hit",this.urlHandler,this,!1),this.clickable=!0,this.cursorOverStyle=li.pointer))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseId",{get:function(){return!this._baseId&&this._parent&&(this.baseId=this._parent.baseId),this._baseId},set:function(e){this.setBaseId(e)},enumerable:!0,configurable:!0}),t.prototype.setBaseId=function(e){e!=this._baseId&&(this.invalid&&(this.invalid=!1,M.removeFromInvalidSprites(this),this.invalidate()),this._baseId=e)},Object.defineProperty(t.prototype,"baseSprite",{get:function(){if(this.isBaseSprite)return this;if(this._parent)return this._parent.baseSprite},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"urlTarget",{get:function(){return this.getPropertyValue("urlTarget")},set:function(e){this.setPropertyValue("urlTarget",e)},enumerable:!0,configurable:!0}),t.prototype.urlHandler=function(e){if(pc(this.url)){var i=this.populateString(this.url);this.urlTarget==="_self"?window.location.href=i:window.open(i,this.urlTarget)}},Object.defineProperty(t.prototype,"swipeOptions",{get:function(){if(!this.interactions.swipeOptions){if(this.virtualParent)return this.virtualParent.swipeOptions;if(this._parent)return this._parent.swipeOptions}return this.interactions.swipeOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeable",{get:function(){return this.getPropertyValue("swipeable")},set:function(e){e=Vi(e),this.setPropertyValue("swipeable",e)&&(this.applyCursorStyle(),!e&&!this.isInteractive()||(this.interactions.swipeable=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackable",{get:function(){return this.getPropertyValue("trackable")},set:function(e){e=Vi(e),this.setPropertyValue("trackable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.trackable=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wheelable",{get:function(){return this.getPropertyValue("wheelable")},set:function(e){this.setPropertyValue("wheelable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.wheelable=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this.getPropertyValue("resizable")},set:function(e){var i=this;e=Vi(e),this.setPropertyValue("resizable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.resizable=e,this.interactions.setEventDisposer("sprite-resizable",e,function(){return new Vt([i.events.on("down",i.handleDown,i,!1),i.events.on("resize",i.handleResize,i,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleResize=function(e){if((!this.interactions.isTouchProtected||!e.touch)&&(this._isResized=!0,this.scale=this.interactions.originalScale*e.scale,this.validatePosition(),this.draggable||this.dragWhileResize)){this._isDragged=!1;var i=co(e.point1,this.htmlContainer,this.svgContainer.cssScale),r=co(e.point2,this.htmlContainer,this.svgContainer.cssScale),a=oc(i,r),n=nl(e.startPoint1,this._parent),o=nl(e.startPoint2,this._parent),l=this.interactions.originalPosition,u=this.interactions.originalScale;if(l){var h={x:(n.x-l.x)/u,y:(n.y-l.y)/u},c={x:(o.x-l.x)/u,y:(o.y-l.y)/u},A=oc(h,c),d=Ps(a,this._parent);this.moveTo({x:d.x-A.x*this.scale,y:d.y-A.y*this.scale},void 0,void 0,!0)}}},Object.defineProperty(t.prototype,"cursorOptions",{get:function(){if(!this.interactions.cursorOptions){if(this.virtualParent)return this.virtualParent.cursorOptions;if(this._parent)return this._parent.cursorOptions}return this.interactions.cursorOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorOverStyle",{set:function(e){this.cursorOptions.overStyle||(this.interactions.cursorOptions={defaultStyle:this.cursorOptions.defaultStyle}),this.cursorOptions.overStyle=e,at().applyCursorOverStyle(this.interactions)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorDownStyle",{set:function(e){this.cursorOptions.downStyle=e},enumerable:!0,configurable:!0}),t.prototype.applyCursorStyle=function(){},Object.defineProperty(t.prototype,"interactionsEnabled",{get:function(){var e=this.getPropertyValue("interactionsEnabled");return e===!1?!1:this.virtualParent?this.virtualParent.interactionsEnabled:this._parent?this._parent.interactionsEnabled:!0},set:function(e){if(e=Vi(e),this.setPropertyValue("interactionsEnabled",e)){var i=null;e?this.group.node.style.pointerEvents="":i="none",this.group.node.style.pointerEvents=i}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exporting",{get:function(){return this.getExporting()},set:function(e){this._exporting.set(e,e)},enumerable:!0,configurable:!0}),t.prototype.getExporting=function(){var e=this._exporting.get();if(e)return e;if(this.isStandaloneInstance||!this._parent)e=new Pw(this.svgContainer.SVGContainer),e.sprite=this,e.language=this.language,e.numberFormatter=this.numberFormatter,e.dateFormatter=this.dateFormatter,e.durationFormatter=this.durationFormatter,this._exporting.set(e,e);else return this._parent.exporting;return e},Object.defineProperty(t.prototype,"exportable",{get:function(){return this._exportable},set:function(e){var i=this.svgContainer;this._exportable=e,i&&(e?Ye(i.nonExportableSprites,this):Ms(i.nonExportableSprites,this)==-1&&i.nonExportableSprites.push(this))},enumerable:!0,configurable:!0}),t.prototype.modalPrefix=function(e){return e=et.classNamePrefix+e,e},Object.defineProperty(t.prototype,"modal",{get:function(){var e=this.svgContainer;if(e){var i=e.modal;return i.adapter.has("classPrefix",this.modalPrefix)||i.adapter.add("classPrefix",this.modalPrefix),i}},enumerable:!0,configurable:!0}),t.prototype.openModal=function(e,i){var r=this.svgContainer;if(r)return r.openModal(e,i)},t.prototype.closeModal=function(){var e=this.svgContainer;e&&e.closeModal()},Object.defineProperty(t.prototype,"popups",{get:function(){var e=this.svgContainer;if(e){var i=e.popups;return i.template.sprite=this,i.template.adapter.has("classPrefix",this.modalPrefix)||i.template.adapter.add("classPrefix",this.modalPrefix),i}},enumerable:!0,configurable:!0}),t.prototype.openPopup=function(e,i){var r=this.svgContainer;if(r)return r.openPopup(e,i)},t.prototype.closeAllPopups=function(){var e=this.svgContainer;e&&e.closeAllPopups()},Object.defineProperty(t.prototype,"x",{get:function(){return this.getPropertyValue("x")},set:function(e){this.isDragged||this.setPercentProperty("x",e,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelX",{get:function(){var e=De(this.getPixelX(this.x),this.minX,this.maxX);return this._adapterO?this._adapterO.apply("pixelX",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeX",{get:function(){return this._adapterO?this._adapterO.apply("relativeX",this.getRelativeX(this.x)):this.getRelativeX(this.x)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minX",{get:function(){return this.getPropertyValue("minX")},set:function(e){I(e)&&(e=ve(e,this._positionPrecision,!0),this.setPropertyValue("minX",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return this.getPropertyValue("maxX")},set:function(e){I(e)&&(e=ve(e,this._positionPrecision,!0),this.setPropertyValue("maxX",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.getPropertyValue("y")},set:function(e){this.isDragged||this.setPercentProperty("y",e,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelY",{get:function(){var e=De(this.getPixelY(this.y),this.minY,this.maxY);return this._adapterO?this._adapterO.apply("pixelY",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeY",{get:function(){return this._adapterO?this._adapterO.apply("relativeY",this.getRelativeX(this.y)):this.getRelativeX(this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return this.getPropertyValue("minY")},set:function(e){I(e)&&(e=ve(e,this._positionPrecision,!0),this.setPropertyValue("minY",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return this.getPropertyValue("maxY")},set:function(e){I(e)&&(e=ve(e,this._positionPrecision,!0),this.setPropertyValue("maxY",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx",{get:function(){return this.getPropertyValue("dx")},set:function(e){I(e)&&(e=ve(e,this._positionPrecision,!0),this.setPropertyValue("dx",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy",{get:function(){return this.getPropertyValue("dy")},set:function(e){I(e)&&(e=ve(e,this._positionPrecision,!0),this.setPropertyValue("dy",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.getPropertyValue("rotation")},set:function(e){e=Gt(e),I(e)||(e=0),this.setPropertyValue("rotation",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.getPropertyValue("align")},set:function(e){e=os(e),this.setPropertyValue("align",e)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valign",{get:function(){return this.getPropertyValue("valign")},set:function(e){e=os(e),this.setPropertyValue("valign",e)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalCenter",{get:function(){return this.getPropertyValue("horizontalCenter")},set:function(e){e=os(e),this.setPropertyValue("horizontalCenter",e)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalCenter",{get:function(){return this.getPropertyValue("verticalCenter")},set:function(e){e=os(e),this.setPropertyValue("verticalCenter",e)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){var e=this.getPropertyValue("maxWidth");if(!I(e)&&this._parent){var i=this._parent.maxWidth;return this._parent.layout!="absolute"&&this.align!="none"&&this.align!=null&&(i=i-this.pixelMarginLeft-this.pixelMarginRight),i}return e},set:function(e){this.setMaxWidth(e)},enumerable:!0,configurable:!0}),t.prototype.setMaxWidth=function(e){var i=this.maxWidth,r=this.maxHeight;if(this.setPropertyValue("maxWidth",e)){I(this.relativeWidth)&&this.invalidate();var a={type:"maxsizechanged",target:this,previousWidth:i,previousHeight:r};this.dispatchImmediately("maxsizechanged",a)}},Object.defineProperty(t.prototype,"maxHeight",{get:function(){var e=this.getPropertyValue("maxHeight");if(!I(e)&&this._parent){var i=this._parent.maxHeight;return this._parent.layout!="absolute"&&this.valign!="none"&&this.valign!=null&&(i=i-this.pixelMarginTop-this.pixelMarginBottom),i}return e},set:function(e){this.setMaxHeight(e)},enumerable:!0,configurable:!0}),t.prototype.setMaxHeight=function(e){var i=this.maxWidth,r=this.maxHeight;if(this.setPropertyValue("maxHeight",e)){I(this.relativeHeight)&&this.invalidate();var a={type:"maxsizechanged",target:this,previousWidth:i,previousHeight:r};this.dispatchImmediately("maxsizechanged",a)}},Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(e){this.setPropertyValue("minWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(e){this.setPropertyValue("minHeight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(e){var i=this.setPercentProperty("width",e,!0,!1,this._positionPrecision,!0);i&&(this.percentWidth=void 0,this.relativeWidth=void 0,e instanceof qe?(this.percentWidth=e.percent,I(this._pixelWidth)&&(this.maxWidth=void 0),this._pixelWidth=void 0):(this._pixelWidth=Number(e),this.maxWidth=this._pixelWidth),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(e){var i=this.setPercentProperty("height",e,!0,!1,this._positionPrecision,!0);i&&(this.percentHeight=void 0,this._relativeHeight=void 0,e instanceof qe?(this.percentHeight=e.percent,I(this._pixelHeight)&&(this.maxHeight=void 0),this._pixelHeight=void 0):(this._pixelHeight=Number(e),this.maxHeight=this._pixelHeight),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelWidth",{get:function(){var e;I(this.percentWidth)?e=this.maxWidth:I(this._pixelWidth)?e=this._pixelWidth:e=0;var i=this.minWidth;i!=null&&e<i&&(e=i);var r=ve(e,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelWidth",r):r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelHeight",{get:function(){var e;I(this.percentHeight)?e=this.maxHeight:I(this._pixelHeight)?e=this._pixelHeight:e=0;var i=this.minHeight;i!=null&&e<i&&(e=i);var r=ve(e,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelHeight",r):r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeWidth",{get:function(){var e=this._relativeWidth;if(I(e))return this._adapterO?this._adapterO.apply("relativeWidth",e):e},set:function(e){this._relativeWidth!=e&&(this._relativeWidth=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeHeight",{get:function(){var e=this._relativeHeight;if(I(e))return this._adapterO?this._adapterO.apply("relativeHeight",e):e},set:function(e){this._relativeHeight!=e&&(this._relativeHeight=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measuredWidth",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredWidth",this._measuredWidth):this._measuredWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measuredHeight",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredHeight",this._measuredHeight):this._measuredHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerWidth",{get:function(){var e=this.pixelWidth+this.pixelMarginRight+this.pixelMarginLeft;return this._adapterO?this._adapterO.apply("outerWidth",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerHeight",{get:function(){var e=this.pixelHeight+this.pixelMarginTop+this.pixelMarginBottom;return this._adapterO?this._adapterO.apply("outerHeight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerWidth",{get:function(){var e=Math.max(0,this.pixelWidth-this.pixelPaddingRight-this.pixelPaddingLeft);return this._adapterO?this._adapterO.apply("innerWidth",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerHeight",{get:function(){var e=Math.max(0,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom);return this._adapterO?this._adapterO.apply("innerHeight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalScale",{get:function(){var e=this.scale;return this._parent&&(e=e*this._parent.globalScale),this._adapterO?this._adapterO.apply("globalScale",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.getPropertyValue("scale")},set:function(e){e=Gt(e),e<0&&(e=0),e!=this.getPropertyValue("scale")&&(this.setPropertyValue("scale",e,!1,!0),this.handleGlobalScale())},enumerable:!0,configurable:!0}),t.prototype.margin=function(e,i,r,a){return this.marginTop=e,this.marginRight=i,this.marginBottom=r,this.marginLeft=a,this},Object.defineProperty(t.prototype,"marginLeft",{get:function(){return this.getPropertyValue("marginLeft")},set:function(e){this.setPercentProperty("marginLeft",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginRight",{get:function(){return this.getPropertyValue("marginRight")},set:function(e){this.setPercentProperty("marginRight",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginTop",{get:function(){return this.getPropertyValue("marginTop")},set:function(e){this.setPercentProperty("marginTop",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginBottom",{get:function(){return this.getPropertyValue("marginBottom")},set:function(e){this.setPercentProperty("marginBottom",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginRight",{get:function(){var e=this.getPixelX(this.marginRight);return this._adapterO?this._adapterO.apply("pixelMarginRight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginRight",{get:function(){var e=this.getRelativeX(this.marginRight);return this._adapterO?this._adapterO.apply("relativeMarginRight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginLeft",{get:function(){var e=this.getPixelX(this.marginLeft);return this._adapterO?this._adapterO.apply("pixelMarginLeft",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginLeft",{get:function(){var e=this.getRelativeX(this.marginLeft);return this._adapterO?this._adapterO.apply("relativeMarginLeft",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginTop",{get:function(){var e=this.getPixelY(this.marginTop);return this._adapterO?this._adapterO.apply("pixelMarginTop",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginTop",{get:function(){var e=this.getRelativeY(this.marginTop);return this._adapterO?this._adapterO.apply("relativeMarginTop",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginBottom",{get:function(){var e=this.getPixelY(this.marginBottom);return this._adapterO?this._adapterO.apply("pixelMarginBottom",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginBottom",{get:function(){var e=this.getRelativeY(this.marginBottom);return this._adapterO?this._adapterO.apply("relativeMarginBottom",e):e},enumerable:!0,configurable:!0}),t.prototype.padding=function(e,i,r,a){return this.paddingTop=e,this.paddingRight=i,this.paddingBottom=r,this.paddingLeft=a,this},Object.defineProperty(t.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft")},set:function(e){this.setPercentProperty("paddingLeft",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight")},set:function(e){this.setPercentProperty("paddingRight",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingTop",{get:function(){return this.getPropertyValue("paddingTop")},set:function(e){this.setPercentProperty("paddingTop",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingBottom",{get:function(){return this.getPropertyValue("paddingBottom")},set:function(e){this.setPercentProperty("paddingBottom",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingRight",{get:function(){return this.getPixelX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingRight",{get:function(){return this.getRelativeX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingLeft",{get:function(){return this.getPixelX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingLeft",{get:function(){return this.getRelativeX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingTop",{get:function(){return this.getPixelY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingTop",{get:function(){return this.getRelativeY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingBottom",{get:function(){return this.getPixelY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingBottom",{get:function(){return this.getRelativeY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(e){this.setPath(e)},enumerable:!0,configurable:!0}),t.prototype.setPath=function(e){return this.setPropertyValue("path",e)?(this._adapterO&&(e=this._adapterO.apply("path",e)),this._isPath||((!this.element||this.element.node&&!(this.element.node instanceof SVGPathElement))&&(this.element=this.paper.add("path")),this._isPath=!0),V(e)?this.element.attr({d:e}):this.element.removeAttr("d"),this.invalidatePosition(),this.inited||this.events.once("inited",this.validatePosition,this,!1),!0):!1},Object.defineProperty(t.prototype,"fillModifier",{get:function(){return this.getPropertyValue("fillModifier")},set:function(e){this.setPropertyValue("fillModifier",e)&&this.setFill(this.fill)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeModifier",{get:function(){return this.getPropertyValue("strokeModifier")},set:function(e){this.setPropertyValue("strokeModifier",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.getPropertyValue("fillOpacity")},set:function(e){e=cy(e,0,1),this.setPropertyValue("fillOpacity",e)&&this.setSVGAttribute({"fill-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.getPropertyValue("fill")},set:function(e){this.setFill(e)},enumerable:!0,configurable:!0}),t.prototype.setFill=function(e){if((!ri(e)||"r"in e)&&(e=ra(e)),this.setColorProperty("fill",e)||this.fillModifier){if(e instanceof xt&&this.fillModifier&&(e=this.fillModifier.modify(e)),this.realFill=e,e instanceof xt)this.setSVGAttribute({fill:e.toString()});else if(!V(e))this.removeSVGAttribute("fill");else if(e instanceof mo||e instanceof hs||e instanceof Ka){var i=e;i.paper=this.paper,this.setSVGAttribute({fill:'url("'+ih()+i.id+'")'})}}},Object.defineProperty(t.prototype,"opacity",{get:function(){return this.getPropertyValue("opacity")},set:function(e){e=cy(e,0,1),this.setPropertyValue("opacity",e)&&this.setSVGAttribute({opacity:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.getPropertyValue("stroke")},set:function(e){this.setStroke(e)},enumerable:!0,configurable:!0}),t.prototype.setStroke=function(e){if((!ri(e)||"r"in e)&&(e=ra(e)),this.setColorProperty("stroke",e)||this.strokeModifier){if(e instanceof xt&&this.strokeModifier&&(e=this.strokeModifier.modify(e)),this.realStroke=e,e instanceof xt)e.hex=="none"?this.removeSVGAttribute("stroke"):this.setSVGAttribute({stroke:e.toString()});else if(!V(e))this.removeSVGAttribute("stroke");else if(e instanceof mo||e instanceof hs||e instanceof Ka){var i=e;i.paper=this.paper,this.setSVGAttribute({stroke:'url("'+ih()+i.id+'")'})}}},Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this.getPropertyValue("strokeOpacity")},set:function(e){e=cy(e,0,1),this.setPropertyValue("strokeOpacity",e)&&this.setSVGAttribute({"stroke-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScalingStroke",{get:function(){return this.getPropertyValue("nonScalingStroke")},set:function(e){e=Vi(e),this.setPropertyValue("nonScalingStroke",e)&&(this.strokeWidth=this.strokeWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScaling",{get:function(){return this.getPropertyValue("nonScaling")},set:function(e){e=Vi(e),this.setPropertyValue("nonScaling",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.getPropertyValue("strokeWidth")},set:function(e){e=Gt(e),this.setPropertyValue("strokeWidth",e,!0),this.nonScalingStroke&&(I(e)||(e=1),e=e/this.globalScale),this.setSVGAttribute({"stroke-width":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDasharray",{get:function(){return this.getPropertyValue("strokeDasharray")},set:function(e){e=os(e),this.setPropertyValue("strokeDasharray",e)&&this.setSVGAttribute({"stroke-dasharray":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDashoffset",{get:function(){return this.getPropertyValue("strokeDashoffset")},set:function(e){e=Gt(e),this.setPropertyValue("strokeDashoffset",e)&&this.setSVGAttribute({"stroke-dashoffset":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeLinecap",{get:function(){return this.getPropertyValue("strokeLinecap")},set:function(e){this.setPropertyValue("strokeLinecap",e)&&this.setSVGAttribute({"stroke-linecap":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeLinejoin",{get:function(){return this.getPropertyValue("strokeLinejoin")},set:function(e){this.setPropertyValue("strokeLinejoin",e)&&this.setSVGAttribute({"stroke-linejoin":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shapeRendering",{get:function(){return this.getPropertyValue("shapeRendering")},set:function(e){e=os(e),this.setPropertyValue("shapeRendering",e)&&this.setSVGAttribute({"shape-rendering":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPerfect",{get:function(){return this.getPropertyValue("pixelPerfect")},set:function(e){e=Vi(e),e?this._positionPrecision=et.pixelPerfectPrecision:this._positionPrecision=3,this.setPropertyValue("pixelPerfect",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rtl",{get:function(){return V(this._rtl)?this._rtl:this._topParent?this._topParent.rtl:!1},set:function(e){e=Vi(e),this.isBaseSprite&&(this.topParent.rtl=e),this._rtl=e},enumerable:!0,configurable:!0}),t.prototype.show=function(e){return this.showReal(e)},t.prototype.showReal=function(e){var i=this;if(!this.preventShow){var r,a=this.defaultState.properties;if(!this.disabled&&(this.isHidden||!this.visible||this.isHiding||a.opacity!=null&&this.opacity<a.opacity&&!this.isShowing)&&!this.isDisposed()){this.invalid&&this.validate(),this.positionInvalid&&this.validatePosition(),I(e)||(e=this.defaultState.transitionDuration),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this._showHideDisposer&&this.removeDispose(this._showHideDisposer),this._isHidden=!1,this.isHiding=!1,this.isShowing=!0,r=this.applyCurrentState(e),r&&!r.isFinished()?(this._showHideDisposer=r.events.on("animationended",function(){i.isShowing=!1}),this._disposers.push(this._showHideDisposer)):this.isShowing=!1;var n=this.defaultState.properties.visible;V(n)||(n=!0),this.visible=n,this.readerHidden=!1,this.dispatchImmediately("shown")}return r}},t.prototype.hide=function(e){return this.hideReal(e)},t.prototype.hideReal=function(e){var i=this,r;if(!this.isHiding&&this.visible&&!this.isDisposed()){this.tooltip&&this.tooltip.currentSprite==this&&this.hideTooltip(0),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this.isShowing=!1,this._showHideDisposer&&this.removeDispose(this._showHideDisposer);var a=this.hiddenState;a?(r=this.setState(a,e,void 0),r&&!r.isFinished()?(this._hideAnimation=r,this._showHideDisposer=r.events.on("animationended",function(){i.isHiding=!1,i._isHidden=!0,a.properties.visible==!1&&(i.visible=!1)},this),this._disposers.push(this._showHideDisposer),this._disposers.push(r)):(this.isHiding=!1,this._isHidden=!0)):(this.visible=!1,this.isHiding=!1,this._isHidden=!0),this.readerHidden=!0,this.dispatchImmediately("hidden"),this.invalidate()}return I(e)||(e=this.hiddenState.transitionDuration),r},Object.defineProperty(t.prototype,"visible",{get:function(){return this.getVisibility()},set:function(e){e=Vi(e),this.setVisibility(e)},enumerable:!0,configurable:!0}),t.prototype.getVisibility=function(){var e=this.getPropertyValue("visible");return V(e)||(e=!0),e},t.prototype.setVisibility=function(e){if(this.setPropertyValue("visible",e)&&(e?this.group.removeAttr("visibility"):this.group.attr({visibility:"hidden"}),this.events.isEnabled("visibilitychanged"))){var i={type:"visibilitychanged",target:this,visible:e};this.events.dispatchImmediately("visibilitychanged",i)}},Object.defineProperty(t.prototype,"zIndex",{get:function(){return this.getPropertyValue("zIndex")},set:function(e){e=Gt(e),this.setPropertyValue("zIndex",e)&&this.dispatch("zIndexChanged")},enumerable:!0,configurable:!0}),t.prototype.toFront=function(){var e=this._parent;e&&e.children.indexOf(this)!=e.children.length-1&&(e.children.moveValue(this,e.children.length-1),this.dispatch("zIndexChanged"))},t.prototype.toBack=function(){var e=this._parent;e&&e.children.indexOf(this)!=0&&(e.children.moveValue(this,0),this.dispatch("zIndexChanged"))},Object.defineProperty(t.prototype,"userClassName",{get:function(){return this.getPropertyValue("userClassName")},set:function(e){this.setPropertyValue("userClassName",e)&&(!e&&this.userClassName&&this.group.removeClass(this.userClassName),this.setClassName())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){if(this._tooltip)return this._tooltip;if(this.virtualParent)return this.virtualParent.tooltip;if(this._parent)return this._parent.tooltip},set:function(e){this._tooltip&&this.removeDispose(this._tooltip),this._tooltip=e,e&&(e.parent=this.tooltipContainer)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipDataItem",{get:function(){var e=this._tooltipDataItem;return e||this.dataItem},set:function(e){this._tooltipDataItem=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipColorSource",{get:function(){return this._tooltipColorSource},set:function(e){this._tooltipColorSource=e},enumerable:!0,configurable:!0}),t.prototype.showTooltip=function(e){this.showTooltipOn=="always"&&!this._tooltip&&this.tooltip&&(this._tooltip=this.tooltip.clone()),!e&&this.tooltipPosition=="pointer"&&this.isHover&&(e=co(at().lastPointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale));for(var i=this;i!=null;){if(!i.visible||i.disabled||i.__disabled){this._tooltip&&this._tooltip.visible&&this._tooltip.hide(0);return}i=i.parent}if(V(this.tooltipText)||V(this.tooltipHTML)){var r=this.tooltip,a=this.tooltipDataItem;if(r){r.targetSprite=this;var n=this,o=this.tooltipColorSource;if((r.getStrokeFromObject||r.getFillFromObject)&&o&&(o.isTemplate?a&&Vd(a.sprites,function(d){return d.clonedFrom==o?(n=d,!1):!0}):n=o),r.getStrokeFromObject){for(var l=this.stroke,u=n;u.parent!=null&&(l=u.stroke,l==null&&(u=u.parent),l==null););l instanceof xt?r.background.animate({property:"stroke",to:l},r.animationDuration):r.background.stroke=l}if(r.dataItem=a,r.label.populateStringFrom=this,r.getFillFromObject){for(var h=this.fill,u=n;u.parent!=null;)if(h=u.fill,h==null||h instanceof xt&&h.rgb==null)u=u.parent;else if(h!=null)break;h==null&&(h=Ve("#000000")),h instanceof xt&&r.visible?r.background.animate({property:"fill",to:h},r.animationDuration):r.background.fill=h,r.autoTextColor&&h instanceof xt&&(r.label.fill=h.alternative)}var c="";if(this.tooltipHTML&&(r.html=this.tooltipHTML,c=this.tooltipHTML),this.tooltipText&&(r.text=this.tooltipText,c=this.tooltipText),this.updateTooltipPosition(e))if(r.readerDescribedBy=this.uidAttr(),r.label.invalid&&r.label.validate(),c!=null&&c!=""&&r.label.currentText!=""){r&&!r.parent&&(r.parent=this.tooltipContainer);var A=r.defaultState.transitionDuration;return A<=0&&(A=1),r.show(A),r.currentSprite=this,!0}else this.hideTooltip(0);else this.hideTooltip(0)}}return!1},t.prototype.updateTooltipPosition=function(e){var i=this;if(this.tooltipPosition=="pointer"){if(this._interactionDisposer&&this._interactionDisposer.dispose(),this._interactionDisposer=at().body.events.on("track",function(a){return i.pointTooltipTo(co(a.point,i.svgContainer.SVGContainer,i.svgContainer.cssScale),!0)}),e)return this.pointTooltipTo(e,!0)}else{var r=sa({x:this.getTooltipX(),y:this.getTooltipY()},this);return this.pointTooltipTo(r)}},t.prototype.pointTooltipTo=function(e,i){var r=this.tooltip;return r&&this.topParent&&(r.showInViewport||fy(e,{x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight}))?(r.pointTo(e,i),!0):!1},t.prototype.hideTooltip=function(e){if(this.showTooltipOn!="always"){var i=this.tooltip;i&&(i.targetSprite==this&&(i.targetSprite=void 0),i.hide(e),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0))}},Object.defineProperty(t.prototype,"tooltipHTML",{get:function(){return this.getPropertyValue("tooltipHTML")},set:function(e){e=os(e),this.hoverable=!0,this.setPropertyValue("tooltipHTML",e)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipText",{get:function(){return this.getPropertyValue("tooltipText")},set:function(e){e=os(e),e&&(this.hoverable=!0),this.setPropertyValue("tooltipText",e)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipContainer",{get:function(){if(this._tooltipContainer)return this._tooltipContainer;if(this._parent)return this._parent.tooltipContainer},set:function(e){this._tooltipContainer=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipX",{get:function(){return this.getTooltipX()},set:function(e){this.setPercentProperty("tooltipX",e)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alwaysShowTooltip",{get:function(){return this.getPropertyValue("showTooltipOn")=="always"},set:function(e){e=Vi(e),e&&(this.showTooltipOn="always")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTooltipOn",{get:function(){return this.getPropertyValue("showTooltipOn")},set:function(e){this.setPropertyValue("showTooltipOn",e)&&(e=="hit"&&(this.clickable=!0),this.tooltip&&(e=="always"?this.showTooltip():this.handleAlwaysShowTooltip()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipPosition",{get:function(){return this.getPropertyValue("tooltipPosition")},set:function(e){this.setPropertyValue("tooltipPosition",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipY",{get:function(){return this.getTooltipY()},set:function(e){this.setPercentProperty("tooltipY",e)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),t.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");V(e)||(e=ue(50));var i;return I(e)&&(i=e),e instanceof qe&&(i=this.maxLeftSelf+this._measuredWidthSelf*e.value-this.pixelPaddingLeft-this.ex),I(i)||(i=0),i},t.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipY");V(e)||(e=ue(50));var i;return I(e)&&(i=e),e instanceof qe&&(i=this.maxTopSelf+this._measuredHeightSelf*e.value-this.pixelPaddingTop-this.ey),I(i)||(i=0),i},t.prototype.raiseCriticalError=function(e,i){this.svgContainer&&(this._adapterO?this.modal.content=this._adapterO.apply("criticalError",e).message:this.modal.content=e.message,i?this.modal.closable=!0:this.disabled=!0,et.suppressErrors||this.modal.open()),et.verbose&&console.log(e)},t.prototype.processConfig=function(e){e&&(V(e.tooltipColorSource)&&ut(e.tooltipColorSource)&&this.map.hasKey(e.tooltipColorSource)&&(e.tooltipColorSource=this.map.getKey(e.tooltipColorSource)),V(e.cursorOverStyle)&&ut(e.cursorOverStyle)&&(e.cursorOverStyle=this.getCursorStyle(e.cursorOverStyle)),V(e.cursorDowntyle)&&ut(e.cursorDowntyle)&&(e.cursorDowntyle=this.getCursorStyle(e.cursorDowntyle)),V(e.cursorOptions)&&(V(e.cursorOptions.overStyle)&&ut(e.cursorOptions.overStyle)&&(e.cursorOptions.overStyle=this.getCursorStyle(e.cursorOptions.overStyle)),V(e.cursorOptions.downStyle)&&ut(e.cursorOptions.downStyle)&&(e.cursorOptions.downStyle=this.getCursorStyle(e.cursorOptions.downStyle)))),s.prototype.processConfig.call(this,e),this.processDelayedMap()},t.prototype.getCursorStyle=function(e){switch(e){case"grab":return li.grab;case"grabbing":return li.grabbing;case"pointer":return li.pointer;case"horizontalResize":return li.horizontalResize;case"verticalResize":return li.verticalResize;default:return li.default}},t.prototype.configOrder=function(e,i){return e==i?0:e=="tooltipColorSource"?1:i=="tooltipColorSource"?-1:s.prototype.configOrder.call(this,e,i)},Object.defineProperty(t.prototype,"isHidden",{get:function(){return this._isHidden?this._isHidden:this._parent?this._parent.isHidden:!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showOnInit",{get:function(){return this.getPropertyValue("showOnInit")},set:function(e){e=Vi(e),this.setShowOnInit(e)},enumerable:!0,configurable:!0}),t.prototype.setShowOnInit=function(e){this.setPropertyValue("showOnInit",e)&&(this.isTemplate||(e&&!this.inited&&!this.hidden?(this._showOnInitDisposer=new Vt([M.events.once("enterframe",this.hideInitially,this),this.events.once("beforevalidated",this.hideInitially,this,!1),this.events.on("inited",this.appear,this,!1)]),this._disposers.push(this._showOnInitDisposer)):this._showOnInitDisposer&&this._showOnInitDisposer.dispose()))},t.prototype.hideInitially=function(){this.isDisposed()||(this.appeared=!1,this.inited||this.hide(0))},t.prototype.appear=function(){var e=this;if(this.appeared=!1,!this.hidden&&!this.isHidden&&this.hide(0),this.hidden)this.appeared=!0,this.dispatch("appeared");else{var i=this.show();i&&!i.isFinished()?this.addDisposer(i.events.on("animationended",function(){e.appeared=!0,e.dispatch("appeared")})):(this.appeared=!0,this.dispatch("appeared"))}},Object.defineProperty(t.prototype,"hidden",{get:function(){return this.getPropertyValue("hidden")},set:function(e){e=Vi(e),this.setPropertyValue("hidden",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this._bbox},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plugins",{get:function(){var e=this;return this._plugins||(this._plugins=new gt,this._disposers.push(this._plugins.events.on("inserted",function(i){i.newValue.target=e,i.newValue.init()})),this._disposers.push(new Tt(this._plugins))),this._plugins},enumerable:!0,configurable:!0}),t.prototype._systemUpdate=function(e){this.validate()},t.prototype._systemCheckIfValidate=function(){return!0},t.prototype._systemValidatePositions=function(){this.validatePosition()},t.prototype._systemValidateLayouts=function(){},t}(ls);M.registeredClasses.Sprite=ke;var nh=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="Rectangle",e.element=e.paper.add("rect"),e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this._positionPrecision;this.pixelPerfect&&(e=0);var i=ve(this.innerWidth,e),r=ve(this.innerHeight,e);this.element.attr({width:i,height:r})},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),t}(ke);M.registeredClasses.Rectangle=nh;var Fe=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._childrenByLayout=[],e._childrenDisposers=new Rt,e.hasFocused=!1,e.setStateOnSprites=[],e.layoutInvalid=!1,e._absoluteWidth=0,e._absoluteHeight=0,e._shouldBeReady=[],e._tapToActivate=!1,e.tapTimeout=3e3,e.className="Container",e._element=e.paper.addGroup("g"),e.group.add(e.element),e.setPropertyValue("pixelPerfect",!1),e.setPropertyValue("layout","absolute"),e.setPropertyValue("fixedWidthGrid",!1),e.setPropertyValue("verticalCenter","none"),e.setPropertyValue("horizontalCenter","none"),e._positionPrecision=4,e._disposers.push(new Ya(e._childrenDisposers)),e.children.events.on("inserted",e.handleChildAdded,e),e.children.events.on("removed",e.handleChildRemoved,e),e.applyTheme(),e}return t.prototype.handleChildAdded=function(e){this.processChild(e.newValue)},t.prototype.processChild=function(e){try{this._childrenDisposers.insertKey(e.uid,new Vt([e.events.on("transformed",this.handleChildTransform,this),e.events.on("zIndexChanged",this.sortAndAdd,this)]))}catch{}if(this.element){var i=this.element;i.add(e.group)}e.parent=this,e.paper=this.paper,this.dispatchImmediately("childadded",{type:"childadded",newValue:e}),this.invalidate()},t.prototype.sortAndAdd=function(){this.sortChildren(),this.addChildren()},t.prototype.handleChildRemoved=function(e){var i=e.oldValue;if(this._childrenDisposers.removeKey(i.uid),this.element){var r=this.element;r.removeElement(i.group)}i.isMeasured&&this.invalidateLayout(),this.dispatchImmediately("childremoved",{type:"childremoved",oldValue:i})},t.prototype.handleChildTransform=function(e){var i=e.target;i.isMeasured&&this.invalidateLayout()},t.prototype.invalidateLayout=function(){this.layoutInvalid||this.disabled||this.isTemplate||this.layout=="none"||this.__disabled||(this.layoutInvalid=!0,M.addToInvalidLayouts(this),Bt.requestFrame())},t.prototype.invalidate=function(){s.prototype.invalidate.call(this),this.invalidateLayout()},t.prototype.deepInvalidate=function(){s.prototype.invalidate.call(this),we(this._childrenByLayout,function(e){e instanceof t?e.deepInvalidate():e.invalidate()}),this.invalidateLayout()},Object.defineProperty(t.prototype,"children",{get:function(){return this._children||(this._children=new gt),this._children},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(e){this.setPropertyValue("minWidth",e)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(e){this.setPropertyValue("minHeight",e)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),t.prototype.removeElement=function(){},t.prototype.sortChildren=function(){var e=this;if(this._childrenByLayout=[],this.layout=="none"||this.layout=="absolute"||!this.layout)this._childrenByLayout=this.children.values;else{var i=[],r=[];ce(this.children.iterator(),function(a){e.layout=="horizontal"||e.layout=="grid"?I(a.percentWidth)?r.push(a):i.push(a):e.layout=="vertical"&&I(a.percentHeight)?r.push(a):i.push(a)}),this._childrenByLayout=i.concat(r)}this.calculateRelativeSize()},t.prototype.calculateRelativeSize=function(){var e=this,i=0,r=0;we(this._childrenByLayout,function(a){a.isMeasured&&(I(a.percentWidth)&&(i+=a.percentWidth),I(a.percentHeight)&&(r+=a.percentHeight))}),we(this._childrenByLayout,function(a){a.isMeasured&&(e.layout=="horizontal"&&(I(a.percentWidth)&&(a.relativeWidth=a.percentWidth/i),I(a.percentHeight)&&(a.relativeHeight=a.percentHeight/100)),e.layout=="vertical"&&(I(a.percentHeight)&&(a.relativeHeight=a.percentHeight/r),I(a.percentWidth)&&(a.relativeWidth=a.percentWidth/100)),e.layout=="grid"&&(I(a.percentHeight)&&(a.relativeHeight=a.percentHeight/100),I(a.percentWidth)&&(a.relativeWidth=a.percentWidth/100))),(e.layout=="absolute"||!a.isMeasured)&&(I(a.percentWidth)&&(a.relativeWidth=a.percentWidth/100),I(a.percentHeight)&&(a.relativeHeight=a.percentHeight/100))})},t.prototype.addChildren=function(){if(this.element){var e=Wl(this.children.values),i=e.map(function(l,u){return{idx:u,data:l}});i.sort(function(l,u){var h=l.data.zIndex||0,c=u.data.zIndex||0;return h<c?-1:h>c?1:l.idx-u.idx}),e=i.map(function(l){return l.data});var r=this.element,a=!0;if(r.node&&r.node.childNodes){for(var n=0,o=r.node.childNodes.length;n<o;n++)if(r.node.childNodes[n]!=e[n].group.node){a=!1;break}}a||(we(e,function(l){l.group&&r.add(l.group)}),this._background&&this.group.addToBack(this._background.group),this.invalidateLayout())}},t.prototype.createChild=function(e){var i=new e;return i.parent=this,i},t.prototype.removeChildren=function(){for(;this.children.length>0;){var e=this.children.getIndex(0);e.parent=void 0,this.children.removeValue(e)}},t.prototype.disposeChildren=function(){for(;this.children.length>0;){var e=this.children.getIndex(0);e.dispose(),this.children.removeValue(e)}},Object.defineProperty(t.prototype,"background",{get:function(){return this._background||(this._background=this.createBackground(),this.processBackground()),this._background},set:function(e){this._background&&this.background!=e&&this.removeDispose(this._background),e&&(this._background=e,this._disposers.push(e),this.processBackground())},enumerable:!0,configurable:!0}),t.prototype.handleGlobalScale=function(){s.prototype.handleGlobalScale.call(this),this.children.each(function(e){e.handleGlobalScale()})},t.prototype.createBackground=function(){return new nh},t.prototype.processBackground=function(){var e=this._background;e&&(e.isMeasured=!1,this._background.fill=new ze().getFor("background"),e.parent=this,e.isMeasured=!1,this.children.removeValue(e),this._disposers.push(e),this.group.addToBack(this._background.group))},t.prototype.validateLayout=function(){var e=this;M.removeFromInvalidLayouts(this),this.layoutInvalid=!1,this._availableWidth=this.innerWidth,this._availableHeight=this.innerHeight;var i=0,r=0,a=!0;this.children&&(this.sortChildren(),we(this._childrenByLayout,function(n){var o,l;if(I(n.relativeWidth)?(o=ve(e._availableWidth*n.relativeWidth,2),e.layout=="horizontal"&&(o-=n.pixelMarginRight+n.pixelMarginLeft)):e.layout=="horizontal"&&n.invalid&&n.validate(),I(n.relativeHeight)?(l=ve(e._availableHeight*n.relativeHeight,2),e.layout=="vertical"&&(l-=n.pixelMarginTop+n.pixelMarginBottom)):e.layout=="vertical"&&n.invalid&&n.validate(),n.invalid==!1){if(I(n.relativeWidth)&&(n.maxWidth=o),I(n.relativeHeight)&&(n.maxHeight=l),n.isMeasured){e.layout=="horizontal"&&(I(n.percentWidth)||n.measuredWidth>0&&(e._availableWidth-=n.measuredWidth+n.pixelMarginLeft+n.pixelMarginRight)),e.layout=="vertical"&&(I(n.percentHeight)||n.measuredHeight>0&&(e._availableHeight-=n.measuredHeight+n.pixelMarginTop+n.pixelMarginBottom));var u=n.measuredWidth,h=n.measuredHeight;n.align!="none"&&(u+=n.pixelMarginLeft+n.pixelMarginRight),n.valign!="none"&&(h+=n.pixelMarginTop+n.pixelMarginBottom),i=Math.max(i,u),r=Math.max(r,h)}}else n.isMeasured&&(I(n.relativeWidth)&&n.maxWidth!=o&&(n.maxWidth=o,a=!1),I(n.relativeHeight)&&n.maxHeight!=l&&(n.maxHeight=l,a=!1))})),this._absoluteWidth=i,this._absoluteHeight=r,a&&this.arrange()},t.prototype.arrange=function(){var e=this,i=this.children,r=0,a=0,n=st(this.innerWidth,this._absoluteWidth),o=st(this.innerHeight,this._absoluteHeight),l,u,h,c,A=this.pixelPaddingLeft,d=this.pixelPaddingRight,f=this.pixelPaddingTop,p=this.pixelPaddingBottom,m=0,g=0,y=0,x=0,C=[],S=[],P,F,O,$=this.maxWidth,L=this.maxHeight,E=this.minWidth,D=this.minHeight,H=Wl(i.values);if(this.reverseOrder&&H.reverse(),this.layout=="grid"){F=$,P=1;for(var te=0,K=H.length;te<K;te++){var ae=H[te];if(ae.isMeasured&&!ae.disabled&&!ae.__disabled){var ie=ae.measuredWidth;ie<F&&(F=ie),ie>P&&(P=ie)}}F=De(F,1,$),P=De(P,1,$),this.fixedWidthGrid?O=$/P:O=$/F,O=st(1,Math.floor(O)),O=dt(this.maxColumns,O),C=this.getColumnWidth(H,O,P)}for(var fe,z,Y,ge,te=0,K=H.length;te<K;te++){var ae=H[te];if(ae.isMeasured&&!ae.disabled&&!ae.__disabled){var re=void 0,me=void 0,Ge=ae.pixelMarginLeft,Xe=ae.pixelMarginRight,nt=ae.pixelMarginTop,At=ae.pixelMarginBottom,tt=ae.measuredWidth,ft=ae.measuredHeight,_t=void 0,$t=void 0,U=void 0,xe=void 0;switch(this.layout){case"none":break;case"absolute":switch(ae.align){case"left":re=Ge-ae.maxLeft;break;case"center":re=(n-tt)/2-ae.maxLeft;break;case"right":re=n-Xe-ae.maxRight;break;default:ae.x instanceof qe||(re=ae.pixelX);break}switch(ae.valign){case"top":me=nt-ae.maxTop;break;case"middle":me=(o-ft)/2-ae.maxTop;break;case"bottom":me=o-At-ae.maxBottom;break;default:ae.y instanceof qe||(me=ae.pixelY);break}break;case"vertical":switch(ae.align){case"left":re=Ge-ae.maxLeft;break;case"center":re=(n-tt)/2-ae.maxLeft;break;case"right":re=n-Xe-ae.maxRight;break;default:re=ae.pixelX;break}me=g+nt-ae.maxTop,g=me+ae.maxBottom+At;break;case"horizontal":switch(ae.valign){case"top":me=nt-ae.maxTop;break;case"middle":me=(o-ft)/2-ae.maxTop;break;case"bottom":me=o-At-ae.maxBottom;break;default:me=ae.pixelY;break}re=m+Ge-ae.maxLeft,m=re+ae.maxRight+Xe;break;case"grid":switch(re=m+Ge-ae.maxLeft,ae.valign){case"top":me=g+nt-ae.maxTop;break;case"middle":me=g+(o-ft)/2-ae.maxTop;break;case"bottom":me=g+o-At-ae.maxBottom;break;default:me=g-ae.maxTop;break}m+=C[x],S[y]=st(S[y],ft),x++;var ye=C[x];if(I(ye)||(ye=P),m>dt(this.innerWidth,$)-ye+1&&x<O){O=x,m=0,g=0,y=0,x=0,C=this.getColumnWidth(H,O,P),S=[],te=-1;continue}x>=O&&(x=0,g+=S[y],y++,m=0);break}this.layout!=="none"&&(ae.moveTo({x:re,y:me}),_t=re+ae.maxLeft-Ge,$t=re+ae.maxRight+Xe,U=me+ae.maxTop-nt,xe=me+ae.maxBottom+At,($t>u||!I(u))&&(u=$t),(_t<l||!I(l))&&(l=_t),(U<h||!I(h))&&(h=U),(xe>c||!I(c))&&(c=xe),($t>z||!I(z))&&(z=$t),(_t<fe||!I(fe))&&(fe=_t),(U<Y||!I(Y))&&(Y=U),(xe>ge||!I(ge))&&(ge=ge))}else ae.validatePosition()}if(this.layout=="none"){var G=this.bbox;l=G.x,u=G.x+G.width,h=G.y,c=G.y+G.height}I(l)||(l=0,fe=0),I(u)||(u=this._availableWidth,z=u),I(h)||(h=0,Y=0),I(c)||(c=this._availableHeight,ge=c),I(Y)||(Y=0),I(ge)||(ge=Y),I(fe)||(fe=0),I(z)||(z=fe),r=u-l,a=c-h,I(this.relativeWidth)&&(r=$-A-d,l=0,u=r),I(this.relativeHeight)&&(a=L-f-p,h=0,c=a),I(this._pixelWidth)&&(l=0,r=this._pixelWidth-A-d),I(E)&&r<E&&(l=0,r=this.minWidth-A-d),I(this._pixelHeight)&&(h=0,a=this._pixelHeight-f-p),I(D)&&a<D&&(h=0,a=D-f-p);var W=z-fe,ne=ge-Y;if(this.layout!="none"&&(this.contentAlign||this.contentValign)&&i.length>0){var Te,Le,de=r,$e=a;de<W&&(de=W),$e<ne&&($e=ne),this.contentAlign=="center"&&(Te=(de-W)/2),this.contentAlign=="right"&&(Te=de-W),this.contentValign=="middle"&&(Le=($e-ne)/2),this.contentValign=="bottom"&&(Le=$e-ne),I(Te)&&ce(i.iterator(),function(Oi){var Jr=Oi.maxLeft,xr=Te;e.layout=="horizontal"&&(Oi.x=Oi.pixelX+xr),e.layout=="grid"&&(Oi.x=Oi.pixelX+xr),e.layout=="vertical"&&(xr+=Oi.pixelMarginLeft,Oi.align=="none"&&(Oi.x=xr-Jr)),e.layout=="absolute"&&(xr+=Oi.pixelMarginLeft,Oi.align=="none"&&(Oi.x=xr-Jr))}),I(Le)&&ce(i.iterator(),function(Oi){var Jr=Oi.maxTop,xr=Le;e.layout=="horizontal"&&(xr+=Oi.pixelMarginTop,Oi.valign=="none"&&(Oi.y=xr-Jr)),e.layout=="grid"&&(xr+=Oi.pixelMarginTop,Oi.y=xr-Jr),e.layout=="vertical"&&(Oi.y=Oi.pixelY+xr),e.layout=="absolute"&&(xr+=Oi.pixelMarginTop,Oi.valign=="none"&&(Oi.y=xr-Jr))})}var Ke=this.bbox;r=st(r,E),a=st(a,D),this.contentWidth=r,this.contentHeight=a,r=dt(r,$),a=dt(a,L),this._bbox={x:l,y:h,width:r,height:a};var Ee=this.maxLeft,bt=this.maxTop,tr=this.maxBottom,mi=this.maxRight;if(this.measure(),(Ee!=this.maxLeft||mi!=this.maxRight||bt!=this.maxTop||tr!=this.maxBottom)&&this.events.isEnabled("transformed")){var vs={type:"transformed",target:this};Ke&&(vs.dummyData=Ke.width+" "+r+"  "+Ke.height+" "+a),this.events.dispatchImmediately("transformed",vs)}this.dispatchImmediately("layoutvalidated")},t.prototype.updateCenter=function(){s.prototype.updateCenter.call(this),this.updateBackground()},t.prototype.updateBackground=function(){var e=this._background;e&&(e.x=this.maxLeft,e.y=this.maxTop,e.width=this.maxRight-this.maxLeft,e.height=this.maxBottom-this.maxTop)},t.prototype.getColumnWidth=function(e,i,r){var a=this,n=[],o=0;return we(e,function(l){l.isMeasured&&!l.disabled&&!l.__disabled&&(a.fixedWidthGrid?n[o]=r:n[o]=st(n[o],l.measuredWidth+l.pixelMarginRight+l.pixelMarginLeft),o++,o==i&&(o=0))}),n},Object.defineProperty(t.prototype,"layout",{get:function(){return this.getPropertyValue("layout")},set:function(e){this.setPropertyValue("layout",e)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentValign",{get:function(){return this.getPropertyValue("contentValign")},set:function(e){this.setPropertyValue("contentValign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentAlign",{get:function(){return this.getPropertyValue("contentAlign")},set:function(e){this.setPropertyValue("contentAlign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fixedWidthGrid",{get:function(){return this.getPropertyValue("fixedWidthGrid")},set:function(e){this.setPropertyValue("fixedWidthGrid",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxColumns",{get:function(){return this.getPropertyValue("maxColumns")},set:function(e){this.setPropertyValue("maxColumns",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reverseOrder",{get:function(){return this.getPropertyValue("reverseOrder")},set:function(e){this.setPropertyValue("reverseOrder",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setStateOnChildren",{get:function(){return this.getPropertyValue("setStateOnChildren")},set:function(e){this.setPropertyValue("setStateOnChildren",e,!0)},enumerable:!0,configurable:!0}),t.prototype.fitsToBounds=function(e){var i=e.x,r=e.y,a=.5;return i>=-a&&i<=this.pixelWidth+a&&r>=-a&&r<=this.pixelHeight+a},t.prototype.copyFrom=function(e){var i=this;s.prototype.copyFrom.call(this,e),this.layout=e.layout,this.setStateOnChildren=e.setStateOnChildren,e._background&&(this.background=e._background.clone(),this.background.copyFrom(e._background)),ce(e.children.iterator(),function(r){if(r.shouldClone){var a=r.clone();a.parent=i}})},Object.defineProperty(t.prototype,"preloader",{get:function(){var e=this._preloader;if(e)return e;if(this.parent)return this.parent.preloader},set:function(e){this._preloader&&this.removeDispose(this._preloader),this._preloader=e,e&&(e.parent=this.tooltipContainer,this._disposers.push(e))},enumerable:!0,configurable:!0}),t.prototype.setPaper=function(e){var i=this,r=s.prototype.setPaper.call(this,e);return r&&(this._background&&(this._background.paper=e,this._background.topParent=this.topParent),this.children.each(function(a){a.setPaper(e),a.topParent=i.topParent})),r},t.prototype.removeFromInvalids=function(){s.prototype.removeFromInvalids.call(this),M.removeFromInvalidLayouts(this)},t.prototype.setDataItem=function(e){this._dataItem!=e&&(ce(this.children.iterator(),function(i){i.dataItem=e}),this._background&&(this._background.dataItem=e)),s.prototype.setDataItem.call(this,e)},t.prototype.measureElement=function(){this.disabled||this.isTemplate||this.layout=="none"||this.__disabled||this.validateLayout()},Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.getPropertyValue("fontFamily")},set:function(e){this.setPropertyValue("fontFamily",e,!0)&&(this.setSVGAttribute({"font-family":e}),this.invalidateLabels())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.getPropertyValue("fontSize")},set:function(e){this.setPropertyValue("fontSize",e,!0)&&(this.setSVGAttribute({"font-size":e}),this.invalidateLabels())},enumerable:!0,configurable:!0}),t.prototype.invalidateLabels=function(){this.children.each(function(e){e.hardInvalidate?(e.hardInvalidate(),e.events.once("validated",e.handleValidate,e,!1)):e instanceof t&&e.invalidateLabels()})},Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.getPropertyValue("fontWeight")},set:function(e){this.setPropertyValue("fontWeight",e),this.setSVGAttribute({"font-weight":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textDecoration",{get:function(){return this.getPropertyValue("textDecoration")},set:function(e){this.setPropertyValue("textDecoration",e),this.setSVGAttribute({"text-decoration":e})},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._background&&this._background.dispose(),this._shouldBeReady=[],this.disposeChildren(),s.prototype.dispose.call(this)},t.prototype.setState=function(e,i,r){var a=e;return e instanceof yc&&(a=e.name),this.setStateOnChildren&&ce(this.children.iterator(),function(n){n.setState(a,i,r),a!="active"&&(n.isActive=!1)}),this._background&&this._background.setState(a),this.setStateOnSprites.length&&we(this.setStateOnSprites,function(n){n.setState(a,i,r)}),s.prototype.setState.call(this,e,i,r)},t.prototype.setActive=function(e){s.prototype.setActive.call(this,e),this._background&&(this._background.isActive=e)},t.prototype.dispatchReady=function(){var e=this;if(!this.isReady()&&!this.isDisposed()){var i=!0;Qr(this.children.iterator(),function(r){return!r.__disabled&&!r.disabled&&!r.isReady()?(i=!1,!1):!0}),Vd(this._shouldBeReady,function(r){return!r.__disabled&&!r.disabled&&!r.isReady()?(i=!1,!1):!0}),i?s.prototype.dispatchReady.call(this):M.events.once("exitframe",function(){e.dispatchReady(),Bt.requestFrame()},void 0,!1)}},t.prototype._systemUpdate=function(e){this.children.each(function(i){i.invalid&&(i._systemCheckIfValidate()?i.dataItem&&i.dataItem.component&&i.dataItem.component.dataInvalid?e.push(i):i.validate():e.push(i))}),s.prototype._systemUpdate.call(this,e)},t.prototype._systemValidatePositions=function(){this.children.each(function(e){e.positionInvalid&&e.validatePosition()}),s.prototype._systemValidatePositions.call(this)},t.prototype._systemValidateLayouts=function(){this.layoutInvalid&&!this.isDisposed()&&this.validateLayout()},Object.defineProperty(t.prototype,"tapToActivate",{get:function(){return this._tapToActivate},set:function(e){this._tapToActivate!=e&&this.setTapToActivate(e)},enumerable:!0,configurable:!0}),t.prototype.setTapToActivate=function(e){var i=this;this._tapToActivate=e,this.interactions.isTouchProtected=e,e&&this.interactions.setEventDisposer("container-tapToActivate",e,function(){return new Vt([i.events.on("hit",i.handleTapToActivate,i,!1),i.events.on("down",i.initTapTimeout,i,!1),i.events.on("track",i.initTapTimeout,i,!1),at().body.events.on("down",function(r){at().isLocalElement(r.pointer,i.paper.svg,i.uid)||i.handleTapToActivateDeactivation()},i,!1)])}),at()},t.prototype.handleTapToActivate=function(){this.interactions.isTouchProtected=!1,this.initTapTimeout()},t.prototype.handleTapToActivateDeactivation=function(){this.interactions.isTouchProtected=!0},t.prototype.initTapTimeout=function(){var e=this;this._tapToActivateTimeout&&this._tapToActivateTimeout.dispose(),this.tapToActivate&&!this.interactions.isTouchProtected&&this.tapTimeout&&(this._tapToActivateTimeout=this.setTimeout(function(){e.handleTapToActivateDeactivation()},this.tapTimeout))},t.prototype.moveHtmlContainer=function(e){var i=yp(e);if(i){this.htmlContainer=i;var r=this.svgContainer;r.htmlElement=i,r.htmlElement.appendChild(r.SVGContainer),r.initSensor(),r.measure()}else ut(e)&&e!=""&&Bt.log("html container '"+e+"' not found")},t.prototype.hasLicense=function(){if(et.commercialLicense)return!0;for(var e=0;e<et.licenses.length;e++)if(et.licenses[e].match(/^CH.{5,}/i))return!0;return!1},t}(ke);M.registeredClasses.Container=Fe;var Pp=function(){function s(){}return s.prototype.parse=function(t){return[]},Object.defineProperty(s.prototype,"parsableNumbers",{get:function(){return this.options.numberFields&&this.options.numberFields.length>0},enumerable:!0,configurable:!0}),s.prototype.maybeToNumber=function(t,e){return this.options.numberFields.indexOf(t)!==-1?qd(e):e},Object.defineProperty(s.prototype,"parsableDates",{get:function(){return this.options.dateFields&&this.options.dateFields.length>0},enumerable:!0,configurable:!0}),s.prototype.maybeToDate=function(t,e){return this.options.dateFields.indexOf(t)!==-1?this.options.dateFormatter.parse(e,this.dateFormat):e},s.prototype.maybeToEmpty=function(t){return(!V(t)||t=="")&&V(this.options.emptyAs)?this.options.emptyAs:t},Object.defineProperty(s.prototype,"dateFormatter",{get:function(){return this.options.dateFormatter||(this.options.dateFormatter=new An,this.options.dateFormat&&(this.options.dateFormat=this.options.dateFormat)),this.options.dateFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dateFormat",{get:function(){return this.options.dateFormat||this.dateFormatter.inputDateFormat},enumerable:!0,configurable:!0}),s}();var tN=[",",";","	"],xc=function(s){N(t,s);function t(){var e=s!==null&&s.apply(this,arguments)||this;return e.contentType="text/csv",e.options={delimiter:"",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},e}return t.isCSV=function(e){return!!t.getDelimiterFromData(e)},t.getDelimiterFromData=function(e){var i=e.split(`
`),r=i.length,a;return we(tN,function(n){for(var o=0,l=0,u=0;u<r;++u)if(o=i[u].split(n).length,o>1){if(l===0)l=o;else if(o!=l){l=0;break}}else{l=0;break}l&&(a=n)}),a},t.prototype.parse=function(e){this.options.delimiter||(this.options.delimiter=t.getDelimiterFromData(e));var i=this.CSVToArray(e,this.options.delimiter),r=V(this.options.emptyAs),a=this.parsableNumbers,n=this.parsableDates,o=[],l=[],u,h;for(h=0;h<this.options.skipRows;h++)i.shift();if(this.options.useColumnNames){l=i.shift();for(var c=0;c<l.length;c++)u=V(l[c])?l[c].replace(/^\s+|\s+$/gm,""):"",u===""&&(u="col"+c),l[c]=u}for(var A;A=this.options.reverse?i.pop():i.shift(),!!A;)if(!(this.options.skipEmpty&&A.length===1&&A[0]==="")){var d={};for(h=0;h<A.length;h++)u=l[h]===void 0?"col"+h:l[h],d[u]=A[h]===""?this.options.emptyAs:A[h],r&&(d[u]=this.maybeToEmpty(d[u])),a&&(d[u]=this.maybeToNumber(u,d[u])),n&&(d[u]=this.maybeToDate(u,d[u]));o.push(d)}return o},t.prototype.CSVToArray=function(e,i){i=i||",";for(var r=new RegExp("(\\"+i+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+i+"\\r\\n]*))","gi"),a=[[]],n=null;n=r.exec(e),!!n;){var o=n[1];o.length&&o!==i&&a.push([]);var l=void 0;n[2]?l=n[2].replace(new RegExp('""',"g"),'"'):l=n[3],a[a.length-1].push(l)}return a},t}(Pp);var oh=function(s){N(t,s);function t(){var e=s!==null&&s.apply(this,arguments)||this;return e.contentType="application/json",e.options={},e}return t.isJSON=function(e){try{return JSON.parse(e),!0}catch{return!1}},t.prototype.parse=function(e){var i=this,r;try{V(JSON)&&(r=JSON.parse(e))}catch{return}var a=V(this.options.emptyAs),n=this.parsableNumbers,o=this.parsableDates;if(Array.isArray(r)&&(n||o||a))for(var l=function(c,A){var d=r[c];Ue(d,function(f,p){a&&(d[f]=i.maybeToEmpty(d[f])),n&&(d[f]=i.maybeToNumber(f,d[f])),o&&(d[f]=i.maybeToDate(f,d[f]))})},u=0,h=r.length;u<h;u++)l(u,h);return r},t}(Pp);var fD=function(){function s(){this.adapter=new mr(this)}return s.prototype.load=function(t){var e=Array.isArray(t)?t:[t],i=Xl(e,function(r){return r.dispatchImmediately("started"),r.dispatchImmediately("loadstarted"),uA(r.url,r,r.requestOptions)});Promise.all(i).then(function(r){we(r,function(a){var n=a.target;n.dispatchImmediately("loadended"),a.error?n.events.isEnabled("error")&&n.events.dispatchImmediately("error",{type:"error",code:a.xhr.status,message:n.language.translate("Unable to load file: %1",null,n.url),target:n}):n.processData(a.response,a.type),n.dispatchImmediately("ended")})}).catch(function(r){r.target&&(r.target.dispatchImmediately("loadended"),r.target.events.isEnabled("error")&&r.target.events.dispatchImmediately("error",{type:"error",code:r.xhr.status,message:r.target.language.translate("Unable to load file: %1",null,r.target.url),target:r.target}),r.target.dispatchImmediately("ended"))})},s.prototype.getParserByType=function(t){var e=this.adapter.apply("getParserByType",{parser:null,type:t}).parser;if(e)return e;if(t=="csv"||t=="text/csv"||t=="application/vnd.ms-excel")return new xc;if(t=="json"||t=="application/json")return new oh},s.prototype.getParserByData=function(t,e){var i=this.adapter.apply("getParserByData",{parser:null,data:t,type:e}).parser;if(!i){if(i=this.getParserByType(e),i)return i;if(oh.isJSON(t))return this.getParserByType("json");if(xc.isCSV(t))return this.getParserByType("csv")}return i},s}();var Fp=new fD;var Fw=function(s){N(t,s);function t(e,i){var r=s.call(this)||this;return r.adapter=new mr(r),r._requestOptions={},r._incremental=!1,r._incrementalParams={},r._keepCount=!1,r._updateCurrentData=!1,r.showPreloader=!0,r.className="DataSource",e&&(r.url=e),i&&(typeof i=="string"?r.parser=Fp.getParserByType(i):r.parser=i),r}return t.prototype.processData=function(e,i){if(this.dispatchImmediately("parsestarted"),!this.parser&&(this.parser=Fp.getParserByData(e,i),!this.parser)){if(this.events.isEnabled("parseerror")){var r={type:"parseerror",message:this.language.translate("No parser available for file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",r)}this.dispatchImmediately("parseended");return}if(this.parser.options=this.adapter.apply("parserOptions",this.parser.options),this.parser.options.dateFields=this.adapter.apply("dateFields",this.parser.options.dateFields||[]),this.parser.options.numberFields=this.adapter.apply("numberFields",this.parser.options.numberFields||[]),this.parser.options.dateFields&&!this.parser.options.dateFormatter&&(this.parser.options.dateFormatter=this.dateFormatter),this.data=this.adapter.apply("parsedData",this.parser.parse(this.adapter.apply("unparsedData",e))),!V(this.data)&&this.events.isEnabled("parseerror")){var a={type:"parseerror",message:this.language.translate("Error parsing file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",a)}this.dispatchImmediately("parseended"),V(this.data)&&this.dispatchImmediately("done",{data:this.data}),this.lastLoad=new Date},Object.defineProperty(t.prototype,"url",{get:function(){var e=this.disableCache?this.timestampUrl(this._url):this._url;return this.incremental&&this.component.data.length&&(e=this.addUrlParams(e,this.incrementalParams)),this.adapter.apply("url",e)},set:function(e){this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"requestOptions",{get:function(){return this.adapter.apply("requestOptions",this._requestOptions)},set:function(e){this._requestOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parser",{get:function(){return this._parser||(this._parser=new oh),this.adapter.apply("parser",this._parser)},set:function(e){this._parser=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reloadFrequency",{get:function(){return this.adapter.apply("reloadTimeout",this._reloadFrequency)},set:function(e){var i=this;this._reloadFrequency!=e&&(this._reloadFrequency=e,e?V(this._reloadDisposer)||(this._reloadDisposer=this.events.on("ended",function(r){i._reloadTimeout=setTimeout(function(){i.load()},i.reloadFrequency)})):V(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incremental",{get:function(){return this.adapter.apply("incremental",this._incremental)},set:function(e){this._incremental=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incrementalParams",{get:function(){return this.adapter.apply("incrementalParams",this._incrementalParams)},set:function(e){this._incrementalParams=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepCount",{get:function(){return this.adapter.apply("keepCount",this._keepCount)},set:function(e){this._keepCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateCurrentData",{get:function(){return this.adapter.apply("updateCurrentData",this._updateCurrentData)},set:function(e){this._updateCurrentData=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){return this._language?this._language:this.component?(this._language=this.component.language,this._language):(this.language=new ya,this.language)},set:function(e){this._language=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.component?(this._dateFormatter=this.component.dateFormatter,this._dateFormatter):(this.dateFormatter=new An,this.dateFormatter)},set:function(e){this._dateFormatter=e},enumerable:!0,configurable:!0}),t.prototype.timestampUrl=function(e){var i=new Date().getTime().toString(),r={};return r[i]="",this.addUrlParams(e,r)},t.prototype.dispose=function(){s.prototype.dispose.call(this),this._reloadTimeout&&clearTimeout(this._reloadTimeout),V(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0)},t.prototype.load=function(){this.url&&(this._reloadTimeout&&clearTimeout(this._reloadTimeout),Fp.load(this))},t.prototype.addUrlParams=function(e,i){var r=e.match(/\?/)?"&":"?",a=[];return Ue(i,function(n,o){o!=""?a.push(n+"="+encodeURIComponent(o)):a.push(n)}),a.length?e+r+a.join("&"):e},t.prototype.processConfig=function(e){M.registeredClasses.json=oh,M.registeredClasses.JSONParser=oh,M.registeredClasses.csv=xc,M.registeredClasses.CSVParser=xc,s.prototype.processConfig.call(this,e)},t}(ls);var Tw=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._rules=new gt,e._appliedRules={},e._appliedTargets=[],e._useDefault=!0,e.adapter=new mr(e),e._enabled=!1,e._responsiveDisposers=[],e._noStates=[],e.className="Responsive",e.rules.events.on("inserted",function(){e.checkRules()},!0),e.rules.events.on("removed",function(){e.checkRules()},!0),e._disposers.push(e.rules.events),e.applyTheme(),e}return Object.defineProperty(t.prototype,"component",{get:function(){return this._component},set:function(e){var i=this;e!=this._component&&(this.disposeResponsiveHandlers(),this._component=e,this._responsiveDisposers.push(fi(this.component).events.on("sizechanged",function(){i.checkRules()},this)),this._responsiveDisposers.push(fi(this.component).events.once("datavalidated",function(){i._component.isReady()&&i.checkRules(!0)},this)),this.enabled=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.adapter.apply("enabled",this._enabled)},set:function(e){this._enabled!=e&&(this._enabled=e,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useDefault",{get:function(){return this.adapter.apply("useDefault",this._useDefault)},set:function(e){this._useDefault!=e&&(this._useDefault=e,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rules",{get:function(){return this.adapter.apply("rules",this._rules)},set:function(e){this._rules=e,this._enabled=!0,this.applyRules()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultRules",{get:function(){return this.adapter.apply("defaultRules",Ji)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allRules",{get:function(){var e=new gt;return this.useDefault&&e.copyFrom(this.defaultRules),e.copyFrom(this.rules),this.adapter.apply("allRules",e)},enumerable:!0,configurable:!0}),t.prototype.isApplied=function(e){var i=this._appliedRules[e];return V(i)?i:!1},t.prototype.checkRules=function(e){var i=this;e===void 0&&(e=!1);var r=this.allRules;if(!(!r||r.length==0)){var a=!1,n=fi(this.component);if(!(n.pixelWidth==0||n.pixelHeight==0)&&(ce(r.iterator(),function(o){o.id||(o.id=M.getUniqueId());var l=o.relevant(n);(l&&!i.isApplied(o.id)||!l&&i.isApplied(o.id))&&(a=!0),i._appliedRules[o.id]=l}),e&&(a=!0),a)){if(!this.component.isReady()){n.hidden=!0,n.events.once("ready",function(o){o.target.show(0),i._applyRules()});return}this.dispatchImmediately("ruleschanged"),this._applyRules()}}},t.prototype._applyRules=function(){var e=this;this._timeout&&this._timeout.dispose(),this._timeout=this.setTimeout(function(){e.applyRules()},10)},t.prototype.applyRules=function(e){var i=this,r=V(e)?e:fi(this.component),a=!1;if(this.enabled){var n=!1;ce(this.allRules.iterator(),function(o){var l=i.getState(o,r);l&&(a||(Ms(i._appliedTargets,r.uid)!==-1&&r.setState(i.getDefaultState(r),0),a=!0),i.isApplied(fi(o.id))&&(l.transitionDuration=0,i.setTargetState(r,l),i.dispatchImmediately("ruleapplied",{rule:o}),n=!0))}),n?xT(this._appliedTargets,r.uid):Ye(this._appliedTargets,r.uid)}r.children&&ce(r.children.iterator(),function(o){i.applyRules(o)})},t.prototype.getState=function(e,i){var r="responsive-"+e.id,a=i.uid+"_"+r;if(Ms(this._noStates,a)===-1){if(i.states.hasKey(r))return i.states.getKey(r);var n=e.state(i,r);return n||this._noStates.push(a),n}},t.prototype.getDefaultState=function(e){return e.states.hasKey("responsive-default")?e.states.getKey("responsive-default"):e.states.create("responsive-default")},t.prototype.setTargetState=function(e,i){var r=this,a=this.getDefaultState(e);Ue(i.properties,function(n,o){V(a.properties[n])||(a.properties[n]=r.getValue(e,n))}),e.setState(i)},t.prototype.getValue=function(e,i){var r=e.getPropertyValue(i);return!V(r)&&V(e[i])&&(r=e[i]),r},t.prototype.dispose=function(){this.disposeResponsiveHandlers(),s.prototype.dispose.call(this)},t.prototype.disposeResponsiveHandlers=function(){for(var e=this._responsiveDisposers.pop();e;)e.dispose(),e=this._responsiveDisposers.pop()},t}(ls);var Ji=new gt;Ji.events.on("inserted",function(s){s.newValue.id=M.getUniqueId()});var lr=function(){function s(){}return s.widthXXS=function(t){return t.pixelWidth<=s.XXS},s.widthXS=function(t){return t.pixelWidth<=s.XS},s.widthS=function(t){return t.pixelWidth<=s.S},s.widthM=function(t){return t.pixelWidth<=s.M},s.widthL=function(t){return t.pixelWidth<=s.L},s.widthXL=function(t){return t.pixelWidth<=s.XL},s.widthXXL=function(t){return t.pixelWidth<=s.XXL},s.heightXXS=function(t){return t.pixelHeight<=s.XXS},s.heightXS=function(t){return t.pixelHeight<=s.XS},s.heightS=function(t){return t.pixelHeight<=s.S},s.heightM=function(t){return t.pixelHeight<=s.M},s.heightL=function(t){return t.pixelHeight<=s.L},s.heightXL=function(t){return t.pixelHeight<=s.XL},s.heightXXL=function(t){return t.pixelHeight<=s.XXL},s.isXXS=function(t){return t.pixelWidth<=s.XXS&&t.pixelHeight<=s.XXS},s.isXS=function(t){return t.pixelWidth<=s.XS&&t.pixelHeight<=s.XS},s.isS=function(t){return t.pixelWidth<=s.S&&t.pixelHeight<=s.S},s.isM=function(t){return t.pixelWidth<=s.M&&t.pixelHeight<=s.M},s.isL=function(t){return t.pixelWidth<=s.L&&t.pixelHeight<=s.L},s.isXL=function(t){return t.pixelWidth<=s.XL&&t.pixelHeight<=s.XL},s.isXXL=function(t){return t.pixelWidth<=s.XXL&&t.pixelHeight<=s.XXL},s.maybeXXS=function(t){return t.pixelWidth<=s.XXS||t.pixelHeight<=s.XXS},s.maybeXS=function(t){return t.pixelWidth<=s.XS||t.pixelHeight<=s.XS},s.maybeS=function(t){return t.pixelWidth<=s.S||t.pixelHeight<=s.S},s.maybeM=function(t){return t.pixelWidth<=s.M||t.pixelHeight<=s.M},s.maybeL=function(t){return t.pixelWidth<=s.L||t.pixelHeight<=s.L},s.maybeXL=function(t){return t.pixelWidth<=s.XL||t.pixelHeight<=s.XL},s.maybeXXL=function(t){return t.pixelWidth<=s.XXL||t.pixelHeight<=s.XXL},s.XXS=100,s.XS=200,s.S=300,s.M=400,s.L=600,s.XL=800,s.XXL=1e3,s}();var Za=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._disabled=!1,e.hasProperties=!1,e.values={},e.categories={},e.dates={},e.locations={},e.workingLocations={},e.properties={},e.sprites=[],e.isTemplate=!1,e._index=null,e._visible=!0,e._hidden=!1,e._ignoreMinMax=!1,e.hasChildren={},e.isHiding=!1,e._valueAnimations={},e._locationAnimations={},e.className="DataItem",e.applyTheme(),e}return Object.defineProperty(t.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new mr(this)),this._adapterO},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.component&&this._index!=null?this._index:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Nn(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._hidden?!1:this._visible},set:function(e){e&&(this.hidden=!1),this._visible!=e&&this.setVisibility(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hidden",{get:function(){return this._hidden},set:function(e){this._hidden!=e&&(this._hidden=e,e?this.setVisibility(!1):this.setVisibility(!0,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__disabled",{get:function(){return this._disabled},set:function(e){this._disabled=e,we(this.sprites,function(i){i.__disabled=e})},enumerable:!0,configurable:!0}),t.prototype.setVisibility=function(e,i){if(we(this.sprites,function(a){e?a.visible=a.defaultState.properties.visible:a.hiddenState?a.visible=a.hiddenState.properties.visible:a.visible=!1}),this._visible=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("visibilitychanged")){var r={type:"visibilitychanged",target:this,visible:e};this.events.dispatchImmediately("visibilitychanged",r)}},t.prototype.show=function(e,i,r){var a=this;if(!this.hidden){this.setVisibility(!0,!0),this.isHiding=!1,this._hideDisposer&&this.removeDispose(this._hideDisposer);var n;return r&&we(r,function(o){n=a.setWorkingValue(o,a.values[o].value,e,i)}),we(this.sprites,function(o){var l=o.show(e);l!=null&&!l.isFinished()&&(a._disposers.push(l),i!=null&&i>0&&l.delay(i))}),n}},t.prototype.dispose=function(){s.prototype.dispose.call(this),we(this.sprites,function(e){e.dispose()}),this.sprites=[]},t.prototype.hide=function(e,i,r,a){var n=this;if(this.isHiding=!0,we(this.sprites,function(l){var u=l.hide(e);u!=null&&!u.isFinished()&&(n._disposers.push(u),i!=null&&i>0&&u.delay(i))}),I(r)&&a){var o;if(we(a,function(l){var u=n.setWorkingValue(l,r,e,i);u&&(o=u)}),o&&!o.isFinished())return this._hideDisposer=o.events.on("animationended",function(){n.setVisibility(!1,!0),n.isHiding=!1}),this._disposers.push(this._hideDisposer),o;this.isHiding=!1,this.setVisibility(!1,!0)}else this.isHiding=!1,this.setVisibility(!1)},t.prototype.getDuration=function(e){if(!I(e)){var i=this.component;i&&(e=i.interpolationDuration)}if(e!=null)return this._adapterO?this._adapterO.apply("duration",e):e},t.prototype.getValue=function(e,i){if(e&&this.component){i||(i=this.component.dataFields[e+"Show"],i||(i="value"));var r=this.values[e][i];return this._adapterO&&this._adapterO.isEnabled("value")?this._adapterO.apply("value",{value:r,field:e}).value:r}},t.prototype.getWorkingValue=function(e){if(e&&this.component){var i=this.component.dataFields[e+"Show"];return i||(i="workingValue"),this._adapterO?this._adapterO.apply("workingValue",{workingValue:this.values[e][i],field:e}).workingValue:this.values[e][i]}},t.prototype.getActualWorkingValue=function(e){return this.values[e].workingValue},t.prototype.setValue=function(e,i,r,a){var n=this.values[e].value,o=this.getDuration(r);if(i=Gt(i),n!==i){if(this.values[e].value=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("valuechanged")){var l={type:"valuechanged",target:this,property:e};this.events.dispatchImmediately("valuechanged",l)}this.component&&this.component.handleDataItemValueChange(this,e)}this.setWorkingValue(e,i,o,a)},t.prototype.setCalculatedValue=function(e,i,r){var a=this.values[e][r];if(a!==i&&I(i)){if(this.values[e][r]=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("calculatedvaluechanged")){var n={type:"calculatedvaluechanged",target:this,property:e};this.events.dispatchImmediately("calculatedvaluechanged",n)}this.component&&this.component.handleDataItemCalculatedValueChange(this,e)}},t.prototype.setWorkingValue=function(e,i,r,a){if(I(this.values[e].value)){var n=this.getDuration(r),o=this.values[e].workingValue;if(n!=null&&n>0&&I(o)&&this.component)if(o!=i){var l=this.animate({childObject:this.values[e],property:"workingValue",from:o,to:i,dummyData:e},n,this.component.interpolationEasing);return a!=null&&l.delay(a),l.events.on("animationstarted",this.handleInterpolationProgress,this),l.events.on("animationprogress",this.handleInterpolationProgress,this),l.events.on("animationended",this.handleInterpolationProgress,this),this._valueAnimations[e]=l,l}else{var u=this._valueAnimations[e];u&&u.stop(),this.values[e].workingValue=i}else{var u=this._valueAnimations[e];if(u&&u.stop(),this.values[e].workingValue=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var h={type:"workingvaluechanged",target:this,property:e};this.events.dispatchImmediately("workingvaluechanged",h)}this.component&&this.component.handleDataItemWorkingValueChange(this,e)}}},t.prototype.setLocation=function(e,i,r,a){var n=this.locations[e];if(n!==i){if(this.locations[e]=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("locationchanged")){var o={type:"locationchanged",target:this,property:e};this.events.dispatchImmediately("locationchanged",o)}this.component&&this.component.handleDataItemValueChange(this,e),this.setWorkingLocation(e,i,r,a)}},t.prototype.setWorkingLocation=function(e,i,r,a){var n=this.getDuration(r),o=this.workingLocations[e];if(n!=null&&n>0&&I(o)&&this.component)if(o!=i){var l=this.animate({childObject:this.workingLocations,property:e,from:o,to:i,dummyData:e},n,this.component.interpolationEasing);return a!=null&&l.delay(a),l.events.on("animationstarted",this.handleInterpolationProgress,this),l.events.on("animationprogress",this.handleInterpolationProgress,this),l.events.on("animationended",this.handleInterpolationProgress,this),this._locationAnimations[e]=l,l}else{var u=this._locationAnimations[e];u&&u.stop(),this.workingLocations[e]=i}else{var u=this._locationAnimations[e];if(u&&u.stop(),this.workingLocations[e]=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workinglocationchanged")){var h={type:"workinglocationchanged",target:this,property:e};this.events.dispatchImmediately("workinglocationchanged",h)}this.component&&this.component.handleDataItemWorkingLocationChange(this,e)}},t.prototype.setDate=function(e,i,r){!Zu(i)&&this.component&&(i=this.component.dateFormatter.parse(i));var a=this.dates[e];a!==i&&(this.dates[e]=i,this.setValue(e,i.getTime(),r))},t.prototype.getDate=function(e){return this._adapterO?this._adapterO.apply("date",{date:this.dates[e],field:e}).date:this.dates[e]},t.prototype.setProperty=function(e,i){if(this.properties[e]!==i){if(this.hasProperties=!0,this.properties[e]=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var r={type:"propertychanged",target:this,property:e,value:i};this.events.dispatchImmediately("propertychanged",r)}this.component&&this.component.handleDataItemPropertyChange(this,e)}},t.prototype.setCategory=function(e,i){ut(i)||(i=kd(i)),this.categories[e]!==i&&(this.categories[e]=i)},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),e.dataContext&&(this.dataContext=j_(e.dataContext,{})),ma(e.locations,this.locations),e._adapterO&&this.adapter.copyFrom(e._adapterO),this.component=e.component},Object.defineProperty(t.prototype,"opacity",{set:function(e){we(this.sprites,function(i){i.opacity=e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(e){if(this._ignoreMinMax=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var i={type:"propertychanged",target:this,property:"ignoreMinMax",value:e};this.events.dispatchImmediately("propertychanged",i)}this.component&&this.component.handleDataItemPropertyChange(this,"ignoreMinMax")},enumerable:!0,configurable:!0}),t.prototype.animate=function(e,i,r){return new gs(this,e,i,r).start()},t.prototype.handleInterpolationProgress=function(e){var i=e.target,r=i.animationOptions[0];if(r){if(this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var a={type:"workingvaluechanged",target:this,property:r.dummyData};this.events.dispatchImmediately("workingvaluechanged",a)}this.component&&this.component.handleDataItemWorkingValueChange(this,r.dummyData)}},t.prototype.hasValue=function(e){for(var i=0,r=e.length;i<r;i++){var a=this.values[e[i]];if(!a||!V(a.value))return!1}return!0},Object.defineProperty(t.prototype,"depth",{get:function(){return this.parent?this.parent.depth+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataContext",{get:function(){return this._dataContext},set:function(e){this._dataContext=e},enumerable:!0,configurable:!0}),t.prototype.addSprite=function(e){e.dataItem&&e.dataItem!=this&&Ye(e.dataItem.sprites,e),this.visible||e.hide(0),this.isHiding&&e.hide(),this.sprites.push(e),e.dataItem=this},t}(ls);var qa=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.dataFields={},e._dataSources={},e._parseDataFrom=0,e._dataDisposers=[],e._currentDataSetId="",e._start=0,e._end=1,e.skipRangeEvent=!1,e.rangeChangeDuration=0,e.rangeChangeEasing=Vn,e.parsingStepDuration=50,e.dataInvalid=!1,e.rawDataInvalid=!1,e.dataRangeInvalid=!1,e.dataItemsInvalid=!1,e.interpolationDuration=0,e.interpolationEasing=Vn,e.sequencedInterpolation=!0,e.sequencedInterpolationDelay=0,e.dataValidationProgress=0,e._addAllDataItems=!0,e._usesData=!0,e.className="Component",e.minZoomCount=1,e.maxZoomCount=0,e._dataItems=new th(e.createDataItem()),e._dataItems.events.on("inserted",e.handleDataItemAdded,e,!1),e._dataItems.events.on("removed",e.handleDataItemRemoved,e,!1),e._disposers.push(new Tt(e._dataItems)),e._disposers.push(e._dataItems.template),e.invalidateData(),e.dataUsers.events.on("inserted",e.handleDataUserAdded,e,!1),e._disposers.push(new Vt(e._dataDisposers)),e._start=0,e._end=1,e.maxZoomDeclination=1,e.applyTheme(),e}return t.prototype.createDataItem=function(){return new Za},t.prototype.handleDataUserAdded=function(e){var i=e.newValue;i.dataProvider=this},t.prototype.handleDataItemValueChange=function(e,i){this.dataItemsInvalid||this.invalidateDataItems()},t.prototype.handleDataItemWorkingValueChange=function(e,i){},t.prototype.handleDataItemWorkingLocationChange=function(e,i){},t.prototype.handleDataItemCalculatedValueChange=function(e,i){},t.prototype.handleDataItemPropertyChange=function(e,i){},t.prototype.processDataItem=function(e,i){var r=this;if(e){i||(i={}),e.dataContext=i;var a=!1;Ue(this.dataFields,function(n,o){var l=n,u=i[o];if(r._adapterO&&r._adapterO.isEnabled("dataContextValue")&&(u=r._adapterO.apply("dataContextValue",{field:l,value:u,dataItem:e}).value),V(u))if(a=!0,e.hasChildren[l]){var h=r.createDataItem();h.copyFrom(r.mainDataSet.template);var c=new th(h);c.events.on("inserted",r.handleDataItemAdded,r,!1),c.events.on("removed",r.handleDataItemRemoved,r,!1),r._dataDisposers.push(new Tt(c));for(var A=u.length,d=0;d<A;d++){var f=u[d],p=c.create();p.parent=e,r.processDataItem(p,f)}var m=e;m[l]=c}else e[l]=u}),Ue(this.propertyFields,function(n,o){var l=n,u=i[o];V(u)&&(a=!0,e.setProperty(l,u))}),!this._addAllDataItems&&!a&&this.mainDataSet.remove(e)}},t.prototype.updateDataItem=function(e){var i=this;if(e){var r=e.dataContext;Ue(this.dataFields,function(a,n){var o=a,l=r[n];if(i._adapterO&&(l=i._adapterO.apply("dataContextValue",{field:o,value:l,dataItem:e}).value),V(l))if(e.hasChildren[o]){var u=e,h=u[o];h.each(function(c){i.updateDataItem(c)})}else e[o]=l}),Ue(this.propertyFields,function(a,n){var o=a,l=r[n];V(l)&&e.setProperty(o,l)})}},t.prototype.validateDataElements=function(){for(var e=this.endIndex,i=this.startIndex;i<e;i++){var r=this.dataItems.getIndex(i);r&&this.validateDataElement(r)}},t.prototype.validate=function(){this.validateDataElements(),s.prototype.validate.call(this)},t.prototype.validateDataElement=function(e){},t.prototype.addData=function(e,i,r){var a=this;if(!this.dataInvalid&&this.inited&&(this._parseDataFrom=this.data.length),r||(e instanceof Array?we(e,function(n){a.data.push(n)}):this.data.push(e)),this.inited)this.removeData(i,r);else if(I(i))for(;i>0;)this.data.shift(),i--;this.invalidateData()},t.prototype.removeData=function(e,i){if(I(e)&&e>0){for(;e>0;){var r=this.mainDataSet.getIndex(0);r&&this.mainDataSet.remove(r),this.dataUsers.each(function(a){if(!a.data||a.data.length==0){var n=a.mainDataSet.getIndex(0);n&&a.mainDataSet.remove(n)}}),i||this.data.shift(),this._parseDataFrom>0&&this._parseDataFrom--,e--}this.invalidateDataItems()}},t.prototype.invalidateData=function(){this.disabled||this.isTemplate||(M.addToInvalidComponents(this),Bt.requestFrame(),this.dataInvalid=!0,ce(this.dataUsers.iterator(),function(e){e.invalidateDataItems()}))},t.prototype.invalidateDataUsers=function(){ce(this.dataUsers.iterator(),function(e){e.invalidate()})},t.prototype.invalidateDataItems=function(){this.disabled||this.isTemplate||(pa(M.invalidDataItems,this),Bt.requestFrame(),this.dataItemsInvalid=!0,ce(this.dataUsers.iterator(),function(e){e.invalidateDataItems()}))},t.prototype.invalidateDataRange=function(){this.disabled||this.isTemplate||(this.dataRangeInvalid=!0,pa(M.invalidDataRange,this),Bt.requestFrame())},t.prototype.validateDataRange=function(){Ye(M.invalidDataRange,this),this.dataRangeInvalid=!1,(this.startIndex!=this._prevStartIndex||this.endIndex!=this._prevEndIndex)&&(this.rangeChangeUpdate(),this.appendDataItems(),this.invalidate(),this.dispatchImmediately("datarangechanged"))},t.prototype.sliceData=function(){this._workingStartIndex=this.startIndex,this._workingEndIndex=this.endIndex},t.prototype.rangeChangeUpdate=function(){this.sliceData(),this._prevStartIndex=this.startIndex,this._prevEndIndex=this.endIndex},t.prototype.appendDataItems=function(){for(var e=this.endIndex,i=this.startIndex;i<e;i++){var r=this.dataItems.getIndex(i);r&&(r.__disabled=!1)}for(var i=0;i<this.startIndex;i++){var r=this.dataItems.getIndex(i);r&&(r.__disabled=!0)}for(var i=this.endIndex;i<this.dataItems.length;i++){var r=this.dataItems.getIndex(i);r&&(r.__disabled=!0)}},t.prototype.invalidateRawData=function(){this.disabled||this.isTemplate||(pa(M.invalidRawDatas,this),Bt.requestFrame(),this.rawDataInvalid=!0,ce(this.dataUsers.iterator(),function(e){e.invalidateRawData()}))},t.prototype.validateRawData=function(){var e=this;Ye(M.invalidRawDatas,this),ce(this.mainDataSet.iterator(),function(i){i&&e.updateDataItem(i)})},t.prototype.dispose=function(){var e=this;this.mainDataSet.template.clones.clear(),Ue(this._dataSources,function(i,r){e.removeDispose(r)}),this.disposeData(),s.prototype.dispose.call(this)},t.prototype.disposeData=function(){this.mainDataSet.template.clones.clear(),we(this._dataDisposers,function(e){e.dispose()}),ce(this.dataUsers.iterator(),function(e){e.disposeData()}),this._dataDisposers.length=0,this._startIndex=void 0,this._endIndex=void 0,this.mainDataSet.clear(),this.mainDataSet.template.clones.clear(),this._dataSets&&this._dataSets.clear()},t.prototype.getDataItem=function(e){return this.mainDataSet.create()},t.prototype.validateData=function(){if(this.dispatchImmediately("beforedatavalidated"),this.dataInvalid=!1,M.removeFromInvalidComponents(this),!this.__disabled){if(this.dataValidationProgress=0,this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.dataFields.data&&this.dataItem){var e=this.dataItem.dataContext;this._data=e[this.dataFields.data]}if(this._parseDataFrom===0&&this.data.length>0&&this.disposeData(),this.data.length>0){var i=this.preloader;ce(this.dataUsers.iterator(),function(c){c._startIndex=void 0,c._endIndex=void 0});var r=0,a=Date.now(),n=this._parseDataFrom,o=this.data.length,l=function(){var c=u.data[n];if(u._usesData){var A=u.getDataItem(c);u.processDataItem(A,c)}if(u.dataUsers.each(function(f){if(f.data.length==0){var p=f.getDataItem(c);f.processDataItem(p,c)}}),r++,r==100){r=0;var d=Date.now()-a;if(d>u.parsingStepDuration&&n<u.data.length-10)return u._parseDataFrom=n+1,i&&(n/u.data.length>.5&&!i.visible||(i.progress=n/u.data.length)),u.dataValidationProgress=n/u.data.length,n=u.data.length,u.invalidateData(),{value:void 0}}},u=this;for(n;n<o;n++){var h=l();if(typeof h=="object")return h.value}i&&(i.progress=1),this.dataUsers.each(function(c){(c.hidden||c.appeared&&!c.visible&&c.stacked)&&c.hide(0)})}this.dataValidationProgress=1,this._parseDataFrom=0,this.invalidateDataItems(),this._internalDefaultsApplied||this.applyInternalDefaults(),this.dispatch("datavalidated")}},t.prototype.validateDataItems=function(){Ye(M.invalidDataItems,this),this.dataItemsInvalid=!1,this.invalidateDataRange(),this.invalidate(),this.dispatch("dataitemsvalidated")},Object.defineProperty(t.prototype,"data",{get:function(){return this._data||(this._data=[]),this._adapterO?this._adapterO.apply("data",this._data):this._data},set:function(e){this.setData(e)},enumerable:!0,configurable:!0}),t.prototype.setData=function(e){this.isDisposed()||(this._parseDataFrom=0,this.disposeData(),this._data=e,e&&e.length>0?this.invalidateData():(this.dispatchImmediately("beforedatavalidated"),this.dispatch("datavalidated")))},t.prototype.getDataSource=function(e){var i=this;return V(this._dataSources[e])||(this._dataSources[e]=new Fw,this._dataSources[e].component=this,this.setDataSourceEvents(this._dataSources[e],e),this._dataSources[e].adapter.add("dateFields",function(r){return i.dataSourceDateFields(r)}),this._dataSources[e].adapter.add("numberFields",function(r){return i.dataSourceNumberFields(r)}),this.events.on("inited",function(){i.loadData(e)},this,!1)),this._dataSources[e]},Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._dataSources.data||this.getDataSource("data"),this._dataSources.data},set:function(e){var i=this;this._dataSources.data&&this.removeDispose(this._dataSources.data),this._dataSources.data=e,this._dataSources.data.component=this,this.events.on("inited",function(){i.loadData("data")},this,!1),this.setDataSourceEvents(e,"data")},enumerable:!0,configurable:!0}),t.prototype.loadData=function(e){this._dataSources[e].load()},t.prototype.dataSourceDateFields=function(e){return e},t.prototype.dataSourceNumberFields=function(e){return e},t.prototype.populateDataSourceFields=function(e,i,r){return we(r,function(a){i[a]&&Ms(e,i[a])===-1&&e.push(i[a])}),e},t.prototype.setDataSourceEvents=function(e,i){var r=this;e.events.on("started",function(a){var n=r.preloader;n&&(n.progress=0)},void 0,!1),e.events.on("loadstarted",function(a){var n=r.preloader;n&&(n.progress=.25)},void 0,!1),e.events.on("loadended",function(a){var n=r.preloader;n&&(n.progress=.5)},void 0,!1),e.events.on("parseended",function(a){var n=r.preloader;n&&(n.progress=.75)},void 0,!1),e.events.on("ended",function(a){var n=r.preloader;n&&(n.progress=1)},void 0,!1),e.events.on("error",function(a){var n=r.preloader;n&&(n.progress=1),r.openModal(a.message)},void 0,!1),i&&e.events.on("done",function(a){var n=r.preloader;n&&(n.progress=1),i=="data"&&!bi(a.data)&&(a.data=[a.data]),e.incremental&&i=="data"&&r.data.length?r.addData(a.data,e.keepCount?a.data.length:0):e.updateCurrentData&&i=="data"&&r.data.length?(we(r.data,function(o,l){V(a.data[l])&&Ue(o,function(u,h){V(a.data[l][u])&&(o[u]=a.data[l][u])})}),r.invalidateRawData()):r[i]=a.data})},Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive||(this._responsive=new Tw,this._responsive.component=this),this._responsive},set:function(e){this._responsive=e,this._responsive.component=this},enumerable:!0,configurable:!0}),t.prototype.zoom=function(e,i,r,a){var n=this;i===void 0&&(i=!1),r===void 0&&(r=!1);var o=e.start,l=e.end,u=e.priority;if(e.start==e.end&&(e.start=e.start-.5/this.maxZoomFactor,e.end=e.end+.5/this.maxZoomFactor),u=="end"&&l==1&&o!=0&&o<this.start&&(u="start"),u=="start"&&o==0&&l>this.end&&(u="end"),I(a)||(a=this.maxZoomDeclination),!I(o)||!I(l))return{start:this.start,end:this.end};if(this._finalStart!=o||this._finalEnd!=l){var h=this.maxZoomFactor/this.minZoomCount,c=this.maxZoomFactor/this.maxZoomCount;if(u=="start"?(this.maxZoomCount>0&&1/(l-o)<c&&(l=o+1/c),1/(l-o)>h&&(l=o+1/h),l>1&&l-o<1/h&&(o=l-1/h)):(this.maxZoomCount>0&&1/(l-o)<c&&(o=l-1/c),1/(l-o)>h&&(o<=0?l=o+1/h:o=l-1/h),o<0&&l-o<1/h&&(l=o+1/h)),o<-a&&(o=-a),1/(l-o)>h&&(l=o+1/h),l>1+a&&(l=1+a),1/(l-o)>h&&(o=l-1/h),this._finalEnd=l,this._finalStart=o,this.skipRangeEvent=i,this.dispatchImmediately("rangechangestarted"),this.rangeChangeDuration>0&&!r){var A=this.rangeChangeAnimation;if(A&&A.progress<1){var d=A.animationOptions;if(d.length>1){if(d[0].to==o&&d[1].to==l)return{start:o,end:l};A.isDisposed()||A.stop()}}this.rangeChangeAnimation&&this.rangeChangeAnimation.kill(),A=this.animate([{property:"start",to:o},{property:"end",to:l}],this.rangeChangeDuration,this.rangeChangeEasing),this.rangeChangeAnimation=A,A&&!A.isFinished()?A.events.on("animationended",function(){n.dispatchImmediately("rangechangeended")}):this.dispatchImmediately("rangechangeended")}else this.start=o,this.end=l,this.dispatch("rangechangeended")}return{start:o,end:l}},t.prototype.zoomToIndexes=function(e,i,r,a){if(!(!I(e)||!I(i))){var n=e/this.dataItems.length,o=i/this.dataItems.length;this.zoom({start:n,end:o},r,a)}},Object.defineProperty(t.prototype,"zoomFactor",{get:function(){return De(1/(this.end-this.start),1,this.maxZoomFactor)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomFactor",{get:function(){return this.getPropertyValue("maxZoomFactor")},set:function(e){this.setPropertyValue("maxZoomFactor",e)&&(e==1&&(this.maxZoomDeclination=0),this.invalidateDataRange())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomDeclination",{get:function(){return this.getPropertyValue("maxZoomDeclination")},set:function(e){this.setPropertyValue("maxZoomDeclination",e)&&this.invalidateDataRange()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return I(this._startIndex)||(this._startIndex=0),this._startIndex},set:function(e){this._startIndex=De(Math.round(e),0,this.dataItems.length),this.start=this.indexToPosition(this._startIndex)},enumerable:!0,configurable:!0}),t.prototype.indexToPosition=function(e){return e/this.dataItems.length},Object.defineProperty(t.prototype,"endIndex",{get:function(){var e=this.dataItems.length;return(!I(this._endIndex)||this._endIndex>e)&&(this._endIndex=e),this._endIndex},set:function(e){this._endIndex=De(Math.round(e),0,this.dataItems.length),this.end=this.indexToPosition(this._endIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._adapterO?this._adapterO.apply("start",this._start):this._start},set:function(e){if(this._start!=e){this._start=e;var i=Math.max(0,Math.floor(this.dataItems.length*e)||0);this._startIndex=Math.min(i,this.dataItems.length),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("startchanged"),this.dispatch("startendchanged")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._adapterO?this._adapterO.apply("end",this._end):this._end},set:function(e){this._end!=e&&(this._end=e,this._endIndex=Math.min(this.dataItems.length,Math.ceil(this.dataItems.length*e)||0),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("endchanged"),this.dispatch("startendchanged"))},enumerable:!0,configurable:!0}),t.prototype.removeFromInvalids=function(){s.prototype.removeFromInvalids.call(this),M.removeFromInvalidComponents(this),Ye(M.invalidDataItems,this),Ye(M.invalidDataRange,this),Ye(M.invalidRawDatas,this)},Object.defineProperty(t.prototype,"dataItems",{get:function(){if(this._currentDataSetId!=""){var e=this.dataSets.getKey(this._currentDataSetId);if(e)return e}return this._dataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataSets",{get:function(){return this._dataSets||(this._dataSets=new Rt),this._dataSets},enumerable:!0,configurable:!0}),t.prototype.setDataSet=function(e){if(this._currentDataSetId!=e){var i=this.dataSets.getKey(e);if(i)return this.dataItems.each(function(r){r.__disabled=!0}),this._currentDataSetId=e,this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each(function(r){r.__disabled=!1}),!0;if(this._currentDataSetId!="")return this.dataItems.each(function(r){r.__disabled=!0}),this._currentDataSetId="",this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each(function(r){r.__disabled=!1}),!0}return!1},Object.defineProperty(t.prototype,"currentDataSetId",{get:function(){return this._currentDataSetId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mainDataSet",{get:function(){return this._dataItems},enumerable:!0,configurable:!0}),t.prototype._updateDataItemIndexes=function(e){for(var i=this.mainDataSet.values,r=i.length,a=e;a<r;++a)i[a]._index=a},t.prototype.handleDataItemAdded=function(e){e.newValue.component=this,this._updateDataItemIndexes(e.index),this.dataItemsInvalid||this.invalidateDataItems()},t.prototype.handleDataItemRemoved=function(e){this._updateDataItemIndexes(e.index),this.dataItemsInvalid||this.invalidateDataItems()},t.prototype.bindDataField=function(e,i){this.dataFields[e]=i,this.invalidateDataRange()},t.prototype.invalidateProcessedData=function(){this.resetProcessedRange(),this.invalidateDataRange()},t.prototype.resetProcessedRange=function(){this._prevEndIndex=null,this._prevStartIndex=null},Object.defineProperty(t.prototype,"dataUsers",{get:function(){var e=this;return this._dataUsers||(this._dataUsers=new gt,this._disposers.push(new Ft(function(){ce(e._dataUsers.iterator(),function(i){i.dispose()})}))),this._dataUsers},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=s.prototype.clone.call(this);return e.dataFields=ma(this.dataFields,{}),e},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.data=e.data,this.sequencedInterpolation=e.sequencedInterpolation,this.sequencedInterpolationDelay=e.sequencedInterpolationDelay,this.interpolationDuration=e.interpolationDuration,this.interpolationEasing=e.interpolationEasing},t.prototype.reinit=function(){this._inited=!1,this.deepInvalidate()},t.prototype.getExporting=function(){var e=s.prototype.getExporting.call(this);return e.adapter.has("data",this._exportData,-1,this)||(e.adapter.add("data",this._exportData,-1,this),this.events.on("datavalidated",function(i){e.handleDataUpdated()})),e},t.prototype._exportData=function(e){return e.data=this.data,e},t.prototype.setDisabled=function(e){var i=s.prototype.setDisabled.call(this,e);return i&&this.invalidateData(),i},t.prototype.setShowOnInit=function(e){e!=this.getPropertyValue("showOnInit")&&(e&&!this.inited&&!this.hidden?(this._showOnInitDisposer2=this.events.once("dataitemsvalidated",this.hideInitially,this,!1),this._disposers.push(this._showOnInitDisposer2)):this._showOnInitDisposer2&&this.removeDispose(this._showOnInitDisposer2)),s.prototype.setShowOnInit.call(this,e)},t.prototype.setBaseId=function(e){e!=this._baseId&&this.dataInvalid&&(this.dataInvalid=!1,M.removeFromInvalidComponents(this),this._baseId=e,this.invalidateData()),s.prototype.setBaseId.call(this,e)},Object.defineProperty(t.prototype,"minZoomCount",{get:function(){return this.getPropertyValue("minZoomCount")},set:function(e){this.setPropertyValue("minZoomCount",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomCount",{get:function(){return this.getPropertyValue("maxZoomCount")},set:function(e){this.setPropertyValue("maxZoomCount",e)},enumerable:!0,configurable:!0}),t.prototype._systemCheckIfValidate=function(){return!(this.dataInvalid||this.dataProvider&&this.dataProvider.dataInvalid)},t.prototype.asFunction=function(e){return e=="interpolationEasing"||e=="rangeChangeEasing"||s.prototype.asIs.call(this,e)},t}(Fe);M.registeredClasses.Component=qa;var Ei=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.isOversized=!1,e.className="Label",e.fill=new ze().getFor("text"),e.wrap=!1,e.truncate=!1,e.fullWords=!0,e.ellipsis="\u2026",e.textAlign="start",e.textValign="top",e.layout="absolute",e.baseLineRatio=-.27,e._positionPrecision=1,e.events.on("maxsizechanged",function(){e.inited&&e.handleMaxSize()},e,!1),e.events.once("validated",e.handleValidate,e,!1),e.applyTheme(),e}return t.prototype.afterDraw=function(){s.prototype.afterDraw.call(this),this.validatePosition()},t.prototype.setPaper=function(e){var i=s.prototype.setPaper.call(this,e);return i&&this.hardInvalidate(),i},t.prototype.handleValidate=function(){(this.currentText||this.text)&&(this.bbox.width==0||this.bbox.height==0)&&M.events.once("exitframe",this.hardInvalidate,this)},t.prototype.handleMaxSize=function(){(this.bbox.width>this.availableWidth||this.bbox.width<this.availableWidth&&(this.isOversized||this.truncate)||this.bbox.height>this.availableHeight||this.bbox.height<this.availableHeight&&this.isOversized)&&this.invalidate()},t.prototype.arrange=function(){},t.prototype.updateCurrentText=function(){var e,i;pc(this.html)&&this.paper.supportsForeignObject()?(e="html",i=this.html):(e="svg",i=this.text),ri(i)&&(i=i.toString()),V(i)&&i!==""&&(i=this.populateString(i,this.dataItem)),e=="html"?this._adapterO&&(i=this._adapterO.apply("htmlOutput",i)):this._adapterO&&(i=this._adapterO.apply("textOutput",i));var r=i!=this.currentText||e!=this._currentFormat;return this.currentText=i,this._currentFormat=e,r},t.prototype.hardInvalidate=function(){this._prevStatus="",this.invalidate()},t.prototype.getLineBBox=function(e){var i=e&&e.element,r=i&&i.node;r&&r.parentNode&&(e.bbox=i.getBBox())},t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.bbox.width,i=this.bbox.height,r=this.topParent;if(r&&(!r.maxWidth||!r.maxHeight)){r.events.once("maxsizechanged",this.hardInvalidate,this,!1);return}var a=st(this.availableWidth-this.pixelPaddingLeft-this.pixelPaddingRight,0),n=st(this.availableHeight-this.pixelPaddingTop-this.pixelPaddingBottom,0),o=n+","+a+this.wrap+this.truncate+this.fullWords+this.rtl+this.ellipsis;if(!(!this.updateCurrentText()&&this.inited&&this._prevStatus==o)){this._measuredWidth=0,this._measuredHeight=0,this.isOversized=!1;var l=this._currentFormat,u=this.currentText;if(!V(u)||u==""){this.element.attr({display:"none"});return}var h=u.split(`
`);this._prevStatus=o,this.textAlign=this.textAlign;var c=this.group.getAttr("display");if(c=="none"&&this.group.removeAttr("display"),this.textPathElement&&this.textPathElement.removeChildren(),l==="svg"){this.element.removeAttr("display");var A=this.element;this.resetBBox();for(var d=0,f="",p=0;p<h.length;p++){var m=h[p];if(m==""){var g=this.getSVGLineElement("",0);g.add(this.getSvgElement(".",Ia().translateStyleShortcuts(f))),A.add(g);var y=Math.ceil(g.getBBox().height);y>0&&(d+=y),A.removeElement(g);var x=this.getLineInfo(p);x&&(x.text="",x.element.textContent="");continue}var C=Ia().chunk(m,null,this.ignoreFormatting),S=0,P=!0,F=!1,O=this.getLineInfo(p);O?(O.text="",O.element.textContent=""):(O={text:"",element:this.getSVGLineElement("",0),complex:!1},A.add(O.element)),O.element.removeAttr("display"),O.element.removeChildren(),this.textPathElement&&O.element.add(this.textPathElement);for(var $=0;$<C.length;$++){$&&(O.complex=!0);var L=C[$];if(L.type==="format")f=L.text;else{if(F)continue;if(O.text=L.text,O.style=Ia().translateStyleShortcuts(f),this.textPathElement?this.getSvgElement(O.text,O.style,this.textPathElement):this.getSvgElement(O.text,O.style,O.element),this.getLineBBox(O),O.bbox.width=Math.ceil(O.bbox.width),S<O.bbox.height&&(S=O.bbox.height),(this.wrap||this.truncate)&&O.bbox.width>a){this.isOversized=!0;var E=O.element.textContent,D=O.bbox.width/E.length,H=dt(Math.ceil((O.bbox.width-a)/D),E.length);if(this.truncate){var te=!1,K=O.element.node;if(K&&K.childNodes)for(var ae=O.element.node.childNodes.length-1;ae>=0;ae--){var ie=O.element.node.childNodes[ae];if(te&&O.bbox.width<=a&&(ie.textContent+=" "+this.ellipsis,O.bbox=O.element.getBBox(),O.bbox.width=Math.floor(O.bbox.width),O.bbox.width<=a))break;te=!1;var fe=ie.textContent;for(E=O.element.textContent,H=dt(Math.ceil((O.bbox.width-a)/D),E.length);O.bbox.width>a&&H<=E.length&&H>0;){var z=st(E.length-H-this.ellipsis.length,1);z<=1&&(H=0,ae>0&&(te=!0,O.element.node.removeChild(ie))),fe=Kd(fe,z,this.ellipsis,this.fullWords,this.rtl),fe.length>z&&this.fullWords&&(fe=Kd(fe,z,this.ellipsis,!1,this.rtl)),ie.textContent=fe,O.bbox=O.element.getBBox(),O.bbox.width=Math.floor(O.bbox.width),H=Math.ceil(H*1.1)}F=!0}}else{var Y=O.element.node;if(Y){for(var ge=O.element.node.lastChild,re=void 0;O.bbox.width>a&&H<=E.length&&H>0;){var z=st(L.text.length-H,1);if(P?re=hp(L.text,z,!0,this.rtl):(re=hp(L.text,z,!0,this.rtl,!1),(re[0].length>z||z===1)&&(O.element.node.removeChild(ge),H=0)),H>0){var me=re.shift();P&&(me=cp(me)),ge.textContent=Ia().cleanUp(me)}O.bbox=O.element.getBBox(),O.bbox.width=Math.floor(O.bbox.width),H++}if(re.length>0){var Ge="";V(re)&&(this.rtl?Ge+=re.join("")+f:Ge+=f+re.join("").replace(/([\[\]]{1})/g,"$1$1"));for(var Xe=$+1;Xe<C.length;Xe++)C[Xe].type=="value"?Ge+=C[Xe].text.replace(/([\[\]]{1})/g,"$1$1"):Ge+=C[Xe].text;h.splice(p+1,0,Ge)}F=!0}}}this.bbox.width<O.bbox.width&&(this.bbox.width=O.bbox.width),this.bbox.height=d+S,this.textPathElement?O.element.attr({dy:-this.paddingBottom.toString()}):O.element.attr({x:"0",y:d+S,dy:ve(this.baseLineRatio*S,3).toString()}),P=!1}}var nt=O.element.node;if(nt){var ge=nt.lastChild;ge&&(ge.textContent=this.rtl?z_(ge.textContent):W_(ge.textContent))}d+=S,this.addLineInfo(O,p)}this.maybeHideOversized(),this.measureFailed=!1,(this.bbox.width==0||this.bbox.height==0)&&(this.measureFailed=!0),this._measuredWidth=ve(st(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight)),this._measuredHeight=ve(st(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom)),this.alignSVGText(),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,(i!=this._measuredHeight||e!=this._measuredWidth)&&this.dispatch("transformed"),this.hideUnused(h.length)}else{this.element.removeAttr("display"),this.resetBBox();var A=this.element;A.removeChildren(),this.setCache("lineInfo",[],0);var At=this.paper.foreignObject();A.add(At),this.maxWidth&&At.attr({width:this.maxWidth-this.pixelPaddingLeft-this.pixelPaddingRight}),this.maxHeight&&At.attr({height:this.maxHeight-this.pixelPaddingTop-this.pixelPaddingBottom});var tt=this.getHTMLLineElement(u);At.node.appendChild(tt),tt.style.display="inline-block";var ft=tt.clientWidth,_t=tt.clientHeight;tt.style.display="block",this._bbox={x:0,y:0,width:ft,height:_t},At.attr({width:ft+1,height:_t}),this.maybeHideOversized(),this._measuredWidth=st(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight),this._measuredHeight=st(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,this.truncate&&(tt.style.overflow="hidden"),(ft>a||_t>n)&&(this.isOversized=!0)}this.setStyles(),this.updateCenter(),this.updateBackground(),c=="none"&&this.group.attr({display:"none"}),this.pathElement&&this.paper.appendDef(this.pathElement)}},t.prototype.maybeHideOversized=function(){this.hideOversized&&(this.availableWidth<this.bbox.width||this.availableHeight<this.bbox.height?(this.element.attr({display:"none"}),this.isOversized=!0):(this.element.removeAttr("display"),this.isOversized=!1))},t.prototype.alignSVGText=function(){var e=this.element,i=e.node.children||e.node.childNodes;if(!(!i||i&&i.length==0)){var r=this._measuredWidth,a=this._measuredHeight;this.pixelPaddingLeft,this.pixelPaddingRight,this.pixelPaddingTop,this.pixelPaddingBottom,this.rtl?e.attr({direction:"rtl"}):e.removeAttr("direction");for(var n=i.length-1;n>=0;n--){var o=i[n];if(o.setAttribute("text-anchor",this.textAlign),this.textPathElement)o.removeAttribute("x"),o.removeAttribute("y");else{switch(this.textAlign){case"middle":o.setAttribute("x",(r/2).toString()+"px");break;case"end":this.rtl||o.setAttribute("x",r.toString());break;default:this.rtl?o.setAttribute("x",r.toString()):o.removeAttribute("text-anchor");break}var l=Gt(o.getAttribute("y"));switch(this.textValign){case"middle":o.setAttribute("y",((l||0)+(a-this.bbox.height)/2).toString());break;case"bottom":o.setAttribute("y",((l||0)+a-this.bbox.height).toString());break;default:o.setAttribute("y",(l||0).toString());break}}}}},t.prototype.getSVGLineElement=function(e,i){var r=this.paper.addGroup("text");return r.textContent=e,r.attr({x:"0"}),V(i)&&r.attr({y:i.toString()}),(this.truncate||this.wrap)&&r.attr({overflow:"hidden"}),r},Object.defineProperty(t.prototype,"rtl",{get:function(){return V(this._rtl)?this._rtl:this._topParent?this._topParent.rtl:!1},set:function(e){e=Vi(e),this._rtl=e,this.element&&this.alignSVGText()},enumerable:!0,configurable:!0}),t.prototype.resetBBox=function(){this._bbox={x:0,y:0,width:0,height:0}},t.prototype.getHTMLLineElement=function(e){var i=document.createElement("div");switch(i.innerHTML=e,this.textAlign){case"middle":i.style.textAlign="center";break;case"end":i.style.textAlign="right";break}return this.wrap?i.style.wordWrap="break-word":i.style.whiteSpace="nowrap",this.rtl&&(i.style.direction="rtl"),V(this.fill)&&(i.style.color=this.fill.toString()),i},t.prototype.setStyles=function(){var e=this.element;!this.selectable||this.draggable||this.resizable||this.swipeable?e.addStyle({webkitUserSelect:"none",msUserSelect:"none"}):this.selectable&&(e.removeStyle("webkitUserSelect"),e.removeStyle("msUserSelect"))},t.prototype.hideUnused=function(e){this.initLineCache();var i=this.getCache("lineInfo");if(i.length>=e)for(var r=e;r<i.length;r++){var a=i[r];a&&a.element&&a.element.attr({display:"none"})}},Object.defineProperty(t.prototype,"text",{get:function(){return this.getPropertyValue("text")},set:function(e){this.setPropertyValue("text",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(e){this.setPropertyValue("path",e,!0)&&(this.pathElement&&this.pathElement.dispose(),this.textPathElement&&this.textPathElement.dispose(),this.pathElement=this.paper.add("path"),this.pathElement.attr({d:e}),this.pathElement.attr({id:"text-path-"+this.uid}),this._disposers.push(this.pathElement),this.textPathElement=this.paper.addGroup("textPath"),this.textPathElement.attrNS(rA,"xlink:href","#text-path-"+this.uid),this.textPathElement.attr({path:e}),this._disposers.push(this.textPathElement),this.hardInvalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationOnPath",{get:function(){return this.getPropertyValue("locationOnPath")},set:function(e){this.setPropertyValue("locationOnPath",e),this.textPathElement&&this.textPathElement.attr({startOffset:e*100+"%"})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseLineRatio",{get:function(){return this.getPropertyValue("baseLineRatio")},set:function(e){this.setPropertyValue("baseLineRatio",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrap",{get:function(){return this.getPropertyValue("wrap")},set:function(e){this.resetBBox(),this.setPropertyValue("wrap",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"truncate",{get:function(){return this.getPropertyValue("truncate")},set:function(e){this.resetBBox(),this.setPropertyValue("truncate",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWords",{get:function(){return this.getPropertyValue("fullWords")},set:function(e){this.setPropertyValue("fullWords",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ellipsis",{get:function(){return this.getPropertyValue("ellipsis")},set:function(e){this.setPropertyValue("ellipsis",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return this.getPropertyValue("selectable")},set:function(e){this.setPropertyValue("selectable",e,!0),this.setStyles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this.getPropertyValue("textAlign")},set:function(e){this.setPropertyValue("textAlign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textValign",{get:function(){return this.getPropertyValue("textValign")},set:function(e){this.setPropertyValue("textValign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.getPropertyValue("html")},set:function(e){if(this.setPropertyValue("html",e,!0),!V(e)){var i=this.element;i.removeChildrenByTag("foreignObject")}},enumerable:!0,configurable:!0}),t.prototype.setFill=function(e){if(s.prototype.setFill.call(this,e),this.html)for(var i=this.element,r=i.node.getElementsByTagName("div"),a=0;a<r.length;a++){var n=r[a];V(this.fill)&&(n.style.color=this.fill.toString())}},Object.defineProperty(t.prototype,"hideOversized",{get:function(){return this.getPropertyValue("hideOversized")},set:function(e){this.setPropertyValue("hideOversized",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ignoreFormatting",{get:function(){return this.getPropertyValue("ignoreFormatting")},set:function(e){this.setPropertyValue("ignoreFormatting",e,!0)},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){},t.prototype.getLineInfo=function(e){this.initLineCache();var i=this.getCache("lineInfo");return i.length>e?i[e]:void 0},t.prototype.addLineInfo=function(e,i){this.initLineCache(),this.getCache("lineInfo")[i]=e},t.prototype.initLineCache=function(){V(this.getCache("lineInfo"))||this.setCache("lineInfo",[],0)},t.prototype.setDataItem=function(e){this._sourceDataItemEvents&&this._sourceDataItemEvents.dispose(),e&&(this._sourceDataItemEvents=new Vt([e.events.on("valuechanged",this.invalidate,this,!1),e.events.on("workingvaluechanged",this.invalidate,this,!1),e.events.on("calculatedvaluechanged",this.invalidate,this,!1),e.events.on("propertychanged",this.invalidate,this,!1)])),s.prototype.setDataItem.call(this,e)},Object.defineProperty(t.prototype,"availableWidth",{get:function(){return V(this.maxWidth)?this.maxWidth:this.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"availableHeight",{get:function(){return V(this.maxHeight)?this.maxHeight:this.pixelHeight},enumerable:!0,configurable:!0}),t.prototype.getSvgElement=function(e,i,r){var a=this.paper.add("tspan");if(a.textContent=e,i)if(et.nonce&&r){var n="amcharts_element_style_"+btoa(i).replace(/[^\w]*/g,"");a.node.setAttribute("class",n);var o=document.createElementNS(sh,"defs");r.node.appendChild(o);var l=document.createElement("style");l.type="text/css",l.innerHTML="."+n+" { "+i+"}",l.setAttribute("nonce",et.nonce),o.appendChild(l)}else a.node.setAttribute("style",i);return r&&r.add(a),a},t.prototype.deepInvalidate=function(){s.prototype.deepInvalidate.call(this),this.hardInvalidate()},Object.defineProperty(t.prototype,"readerTitle",{get:function(){var e=this.getPropertyValue("readerTitle");return e?this.dataItem&&(e=this.populateString(e)):e=this.populateString(Zd(pc(this.html)?this.html:this.text)),e},set:function(e){e=os(e),this.setPropertyValue("readerTitle",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),t}(Fe);M.registeredClasses.Label=Ei;Ji.push({relevant:lr.heightXS,state:function(s,t){if(s instanceof Ei&&s.parent&&s.parent.isBaseSprite){var e=s.states.create(t);return e.properties.disabled=!0,e}return null}});var Kr=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="RoundedRectangle",e.element=e.paper.add("path"),e.cornerRadius(3,3,3,3),e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.innerWidth,i=this.innerHeight;if(I(e)&&I(i)){var r=dt(e,i)/2,a=oi(this.cornerRadiusTopLeft,r),n=oi(this.cornerRadiusTopRight,r),o=oi(this.cornerRadiusBottomRight,r),l=oi(this.cornerRadiusBottomLeft,r),u=dt(Math.abs(e/2),Math.abs(i/2)),h=De(a,0,u),c=De(n,0,u),A=De(o,0,u),d=De(l,0,u),f="M"+h+",0 L"+(e-c)+",0",p=" L"+d+","+i,m=" L0,"+h,g=" L"+e+","+(i-A),y=" a"+c+","+c+" 0 0 1 "+c+","+c,x=" a"+A+","+A+" 0 0 1 -"+A+","+A,C=" a"+d+","+d+" 0 0 1 -"+d+",-"+d,S=" a"+h+","+h+" 0 0 1 "+h+",-"+h,P=f+y+g+x+p+C+m+S+" Z";this.path=P}},t.prototype.cornerRadius=function(e,i,r,a){this.cornerRadiusTopLeft=e,this.cornerRadiusTopRight=i,this.cornerRadiusBottomLeft=r,this.cornerRadiusBottomRight=a},Object.defineProperty(t.prototype,"cornerRadiusTopLeft",{get:function(){return this.getPropertyValue("cornerRadiusTopLeft")},set:function(e){this.setPercentProperty("cornerRadiusTopLeft",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusTopRight",{get:function(){return this.getPropertyValue("cornerRadiusTopRight")},set:function(e){this.setPercentProperty("cornerRadiusTopRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusBottomRight",{get:function(){return this.getPropertyValue("cornerRadiusBottomRight")},set:function(e){this.setPercentProperty("cornerRadiusBottomRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusBottomLeft",{get:function(){return this.getPropertyValue("cornerRadiusBottomLeft")},set:function(e){this.setPercentProperty("cornerRadiusBottomLeft",e,!0)},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),t}(ke);M.registeredClasses.RoundedRectangle=Kr;var ba=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="Button",e.tooltipY=0,e.iconPosition="left",e.layout="horizontal",e.contentAlign="center",e.contentValign="middle",e.padding(8,16,8,16),e.setStateOnChildren=!0;var i=new ze,r=e.background;r.fill=i.getFor("secondaryButton"),r.stroke=i.getFor("secondaryButtonStroke"),r.fillOpacity=1,r.strokeOpacity=1,r.cornerRadius(3,3,3,3),e.label=new Ei,e.label.fill=i.getFor("secondaryButtonText"),e.label.shouldClone=!1;var a=r.states.create("hover");a.properties.fillOpacity=1,a.properties.fill=i.getFor("secondaryButtonHover");var n=r.states.create("down");return n.transitionDuration=100,n.properties.fill=i.getFor("secondaryButtonDown"),n.properties.fillOpacity=1,e.role="button",e.focusable=!0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"icon",{get:function(){return this._icon},set:function(e){var i=this._icon;i&&(i.parent=void 0),e&&(this._icon=e,e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this.iconPosition=this.iconPosition,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconPosition",{get:function(){return this.getPropertyValue("iconPosition")},set:function(e){this.setPropertyValue("iconPosition",e),this.icon&&(e=="left"?this.icon.toBack():this.icon.toFront())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(e){this._label&&this.removeDispose(this._label),this._label=e,e&&(e.parent=this,e.interactionsEnabled=!1,this._disposers.push(this._label))},enumerable:!0,configurable:!0}),t.prototype.createBackground=function(){return new Kr},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),e.label&&this.label.copyFrom(e.label),e.icon&&(this.icon=e.icon.clone())},t}(Fe);M.registeredClasses.Button=ba;function _c(s){var t=he(s[0]),e={x:0,y:0},i=et.minPolylineStep;I(i)||(i=.5);for(var r=0,a=s.length;r<a;r++){var n=s[r];Et(n,e)>i&&(t+=he(n),e=n)}return t}function _e(s){return" M"+ve(s.x,4)+","+ve(s.y,4)+" "}function he(s){return" L"+ve(s.x,4)+","+ve(s.y,4)+" "}function ul(s,t){return" Q"+ve(t.x,4)+","+ve(t.y,4)+" "+ve(s.x,4)+","+ve(s.y,4)}function Zl(s,t,e){return" C"+ve(t.x,4)+","+ve(t.y,4)+" "+ve(e.x,4)+","+ve(e.y,4)+" "+ve(s.x,4)+","+ve(s.y,4)}function _i(){return" Z"}function yr(s,t,e,i){if(t==0)return"";I(i)||(i=e);var r="",a=",",n=Math.ceil(Math.abs(t)/180),o=1;t<0&&(o=0);var l=0,u=0,h=-Se(s)*e,c=-Be(s)*i;if(t<.5&&e>3e3){var A=s+t,d=ve(Se(A)*e,4),f=ve(Be(A)*i,4);return he({x:d,y:f})}for(var p=0;p<n;p++){var A=s+t/n*(p+1),d=ve(Se(A)*e+h-l,4),f=ve(Be(A)*i+c-u,4);r+=" a"+e+a+i+a+0+a+0+a+o+a+d+a+f,l=d,u=f}return r}function Qn(s,t,e,i,r,a,n){if(t==0||(I(i)||(i=0),e==0&&i<=0))return"";if(e<i){var o=e;e=i,i=o,I(r)&&(r=r/i*e)}t=dt(t,360),t==360&&(a=0,n=0);var l=s+t,u=Be(dt(t,45)/2);r=I(r)?r:e,a=a||0,n=I(n)?n:a;var h=r/e*i,c=r/e*a,A=r/e*n;a=De(a,0,(e-i)/2),c=De(c,0,(r-h)/2),n=De(n,0,(e-i)/2),A=De(A,0,(r-h)/2),a=ve(De(a,0,e*u),4),c=ve(De(c,0,r*u),4),n=ve(De(n,0,i*u),4),A=ve(De(A,0,h*u),4);var d=Math.asin(a/e/2)*il*2,f=Math.asin(c/r/2)*il*2;i<n&&(i=n),h<A&&(h=A);var p=Math.asin(n/i/2)*il*2,m=Math.asin(A/h/2)*il*2;I(p)||(p=0),I(m)||(m=0);var g=s+t/2,y={x:ve(Se(g)*i,4),y:Be(g)*h},x={x:Se(s)*(i+n),y:Be(s)*(h+A)},C={x:Se(s)*(e-a),y:Be(s)*(r-c)},S={x:Se(l)*(e-a),y:Be(l)*(r-c)},P={x:Se(l)*(i+n),y:Be(l)*(h+A)},F={x:Se(s+d)*e,y:Be(s+f)*r},O={x:Se(l-p)*i,y:Be(l-m)*h};n+=n*Be(p/2),A+=A*Be(m/2),p>(l-s)/2&&(O=y);var $="";return t==360?$=_e(C):($=_e(x),$+=he(C),$+=Ja(F,a,c,!0)),$+=yr(s+d,t-2*d,e,r),I(i)&&i!=0?(t==360&&a==0?$+=_e(P):($+=Ja(S,a,c,!0),$+=he(P),$+=Ja(O,n,A,!0)),$+=yr(l-p,-(t-2*p),i,h),(t<360||a>0)&&($+=Ja(x,n,A,!0)),$+=he(x)):($+=Ja(S,a,c,!0),t<360&&($+=he(x))),$}function Ja(s,t,e,i,r,a){if(t==0)return"";a=a||0,r=!!r,i=!!i;var n=",",o=+i,l=+r;return" A"+t+n+e+n+a+n+l+n+o+n+ve(s.x,4)+n+ve(s.y,4)}function Hy(s,t,e,i){return I(e)||(e=0),I(i)||(i=0),_e({x:e,y:i})+he({x:e+s,y:i})+he({x:e+s,y:i+t})+he({x:e,y:i+t})+_i()}function fn(s,t){var e=",",i=" L";return t?"M"+s.x+e+s.y+i+s.x+e+(s.y+s.height)+i+(s.x+s.width)+e+(s.y+s.height)+i+(s.x+s.width)+e+s.y+i+s.x+e+s.y:"M"+s.x+e+s.y+i+(s.x+s.width)+e+s.y+i+(s.x+s.width)+e+(s.y+s.height)+i+s.x+e+(s.y+s.height)+i+s.x+e+s.y}var Dw=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="Grip";var i=new ze;e.layout="absolute",e.padding(10,10,10,10),e.margin(3,3,3,3),e.background.fillOpacity=.3,e.background.cornerRadius(10,10,10,10);var r=new ke;r.element=e.paper.add("path");var a=_e({x:-6,y:0});return a+=he({x:6,y:0}),a+=_e({x:-8,y:-6}),a+=he({x:0,y:-12}),a+=he({x:8,y:-6}),a+=_e({x:-8,y:6}),a+=he({x:0,y:12}),a+=he({x:8,y:6}),r.path=a,r.strokeWidth=2,r.fillOpacity=0,r.pixelPerfect=!0,r.padding(0,4,0,4),r.stroke=i.getFor("text"),r.strokeOpacity=.7,r.align="center",r.valign="middle",e.icon=r,e.label.dispose(),e.label=void 0,e.position="right",e.autoHideDelay=3e3,e.events.on("shown",function(n){e._autoHideTimeout&&e._autoHideTimeout.dispose(),e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout(function(){e.hide()},e.autoHideDelay))}),e.events.on("down",function(n){e._autoHideTimeout&&e._autoHideTimeout.dispose()}),e.events.on("out",function(n){e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout(function(){e.hide()},e.autoHideDelay))}),e.applyTheme(),e}return Object.defineProperty(t.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(e){if(this.setPropertyValue("position",e))switch(e){case"left":this.align="left",this.valign="middle",this.horizontalCenter="left",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=ue(30);break;case"right":this.align="right",this.valign="middle",this.horizontalCenter="right",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=ue(30);break;case"top":this.align="center",this.valign="top",this.horizontalCenter="middle",this.verticalCenter="top",this.icon.rotation=90,this.width=ue(30),this.height=void 0;break;case"bottom":this.align="center",this.valign="bottom",this.horizontalCenter="middle",this.verticalCenter="bottom",this.icon.rotation=90,this.width=ue(30),this.height=void 0;break;default:this.align="center",this.valign="middle",this.horizontalCenter="middle",this.verticalCenter="middle",this.icon.rotation=90,this.width=ue(30),this.height=void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHideDelay",{get:function(){return this.getPropertyValue("autoHideDelay")},set:function(e){this.setPropertyValue("autoHideDelay",e)},enumerable:!0,configurable:!0}),t}(ba);M.registeredClasses.Grip=Dw;var Tp=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="ChartDataItem",e.applyTheme(),e}return t}(Za);var hl=function(s){N(t,s);function t(){var e=s.call(this)||this;if(e._legend=new Ci,e.constructor===t)throw new Error("'Chart' cannot be instantiated directly. Please use a specific chart type.");e.className="Chart";var i=new Ei;e.titles=new zt(i),e._disposers.push(new Tt(e.titles)),e._disposers.push(i),e.width=ue(100),e.height=ue(100),e.layout="vertical";var r=e.createChild(Fe);r.shouldClone=!1,r.layout="vertical",r.width=ue(100),r.height=ue(100),e.chartAndLegendContainer=r;var a=r.createChild(Fe);return a.shouldClone=!1,a.width=ue(100),a.height=ue(100),e.chartContainer=a,e.showOnInit=!0,e._disposers.push(e._legend),e.titles.events.on("inserted",function(n){e.processTitle(n),e.updateReaderTitleReferences()},e,!1),e.titles.events.on("removed",function(n){e.updateReaderTitleReferences()},e,!1),e.role="region",e.defaultState.transitionDuration=1,e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Chart"))},t.prototype.draw=function(){this.fixLayout(),s.prototype.draw.call(this)},t.prototype.fixLayout=function(){var e=this.legend;if(e){var i=this.chartAndLegendContainer,r=this.chartContainer;switch(r.x=void 0,r.y=void 0,e.position!="absolute"&&(e.x=void 0,e.y=void 0),e.position){case"left":i.layout="horizontal",e.toBack();break;case"right":i.layout="horizontal",e.toFront();break;case"top":i.layout="vertical",e.toBack();break;case"bottom":i.layout="vertical",e.toFront();break;case"absolute":e.isMeasured=!1;break}}},t.prototype.feedLegend=function(){},t.prototype.processTitle=function(e){var i=e.newValue;return i.parent=this,i.toBack(),i.shouldClone=!1,i.align="center",i.uidAttr(),i},t.prototype.updateReaderTitleReferences=function(){if(this.titles.length){var e=[];ce(this.titles.iterator(),function(i){e.push(i.uid)}),this.setSVGAttribute({"aria-labelledby":e.join(" ")})}else this.removeSVGAttribute("aria-labelledby")},Object.defineProperty(t.prototype,"legend",{get:function(){return this._legend.get()},set:function(e){this.setLegend(e)},enumerable:!0,configurable:!0}),t.prototype.setLegend=function(e){var i=this;this._legend.get()!==e&&(e?(e.parent=this.chartAndLegendContainer,this._legend.set(e,e.events.on("propertychanged",function(r){r.property=="position"&&i.fixLayout()},void 0,!1)),e.addDisposer(new Ft(function(){i.legend=void 0}))):this._legend.reset(),this.feedLegend())},t.prototype.dispose=function(){this.legend&&this.legend.dispose(),s.prototype.dispose.call(this)},t.prototype.processConfig=function(e){e&&V(e.legend)&&!V(e.legend.type)&&(e.legend.type="Legend"),s.prototype.processConfig.call(this,e)},t.prototype.copyFrom=function(e){this.titles.copyFrom(e.titles),this.chartContainer.copyFrom(e.chartContainer),e.legend&&(this.legend=e.legend.clone(),this.legend.removeChildren()),s.prototype.copyFrom.call(this,e)},Object.defineProperty(t.prototype,"dragGrip",{get:function(){var e=this;if(!this._dragGrip){var i=this.tooltipContainer.createChild(Dw);i.align="right",i.valign="middle",i.hide(0),i.events.on("down",function(r){r.touch&&(e.interactionsEnabled=!1)}),i.events.on("up",function(r){e.interactionsEnabled=!0}),this.events.on("down",function(r){r.touch&&i.show()}),this._dragGrip=i}return this._dragGrip},set:function(e){this._dragGrip=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusable",{get:function(){return this.parent.focusable},set:function(e){this.parent.focusable=e},enumerable:!0,configurable:!0}),t}(qa);M.registeredClasses.Chart=hl;Ji.push({relevant:lr.widthXS,state:function(s,t){if(s instanceof hl){var e=s.states.create(t);return s.pixelPaddingLeft>10&&(e.properties.paddingLeft=10),s.pixelPaddingRight>10&&(e.properties.paddingRight=10),e}return null}});Ji.push({relevant:lr.heightXS,state:function(s,t){if(s instanceof hl){var e=s.states.create(t);return s.pixelPaddingTop>10&&(e.properties.paddingTop=10),s.pixelPaddingBottom>10&&(e.properties.paddingBottom=10),e}return null}});Ji.push({relevant:lr.widthXXS,state:function(s,t){if(s instanceof hl){var e=s.states.create(t);return e.properties.paddingLeft=0,e.properties.paddingRight=0,e}return null}});Ji.push({relevant:lr.heightXXS,state:function(s,t){if(s instanceof hl){var e=s.states.create(t);return e.properties.paddingTop=0,e.properties.paddingBottom=0,e}return null}});var Ow=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="PointedShape",e.pointerBaseWidth=15,e.pointerLength=10,e.pointerY=0,e.pointerX=0,e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this),I(this.pointerX)||(this.pointerX=this.pixelWidth/2),I(this.pointerY)||(this.pointerY=this.pixelHeight+10)},Object.defineProperty(t.prototype,"pointerBaseWidth",{get:function(){return this.getPropertyValue("pointerBaseWidth")},set:function(e){this.setPropertyValue("pointerBaseWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerLength",{get:function(){return this.getPropertyValue("pointerLength")},set:function(e){this.setPropertyValue("pointerLength",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerX",{get:function(){return this.getPropertyValue("pointerX")},set:function(e){this.setPropertyValue("pointerX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerY",{get:function(){return this.getPropertyValue("pointerY")},set:function(e){this.setPropertyValue("pointerY",e,!0)},enumerable:!0,configurable:!0}),t}(ke);var Lw=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="PointedRectangle",e.element=e.paper.add("path"),e.cornerRadius=6,e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.cornerRadius,i=this.innerWidth,r=this.innerHeight;if(i>0&&r>0){var a=this.pointerX,n=this.pointerY,o=this.pointerBaseWidth/2,l=dt(i/2,r/2),u=De(e,0,l),h=De(e,0,l),c=De(e,0,l),A=De(e,0,l),d=0,f=0,p=i,m=0,g=i,y=r,x=0,C=r,S=void 0,P=void 0,F=void 0,O=void 0,$=(a-d)*(y-f)-(n-f)*(g-d),L=(a-x)*(m-C)-(n-C)*(p-x);if($>0&&L>0){var E=De(a,u+o,i-o-h);n=De(n,-1/0,0),S="M"+u+",0 L"+(E-o)+",0 L"+a+","+n+" L"+(E+o)+",0 L"+(i-h)+",0"}else S="M"+u+",0 L"+(i-h)+",0";if($<0&&L<0){var E=De(a,A+o,i-o-c);n=De(n,r,1/0),F=" L"+(i-c)+","+r+" L"+(E+o)+","+r+" L"+a+","+n+" L"+(E-o)+","+r+" L"+A+","+r}else F=" L"+A+","+r;if($<0&&L>0){var D=De(n,u+o,r-A-o);a=De(a,-1/0,0),O=" L0,"+(r-A)+" L0,"+(D+o)+" L"+a+","+n+" L0,"+(D-o)+" L0,"+u}else O=" L0,"+u;if($>0&&L<0){var D=De(n,h+o,r-o-c);a=De(a,i,1/0),P=" L"+i+","+h+" L"+i+","+(D-o)+" L"+a+","+n+" L"+i+","+(D+o)+" L"+i+","+(r-c)}else P=" L"+i+","+(r-c);var H=" a"+h+","+h+" 0 0 1 "+h+","+h,te=" a"+c+","+c+" 0 0 1 -"+c+","+c,K=" a"+A+","+A+" 0 0 1 -"+A+",-"+A,ae=" a"+u+","+u+" 0 0 1 "+u+",-"+u;this.path=S+H+P+te+F+K+O+ae}},Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),t}(Ow);var pn=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.properties={},e.isTemplate=!1,e._scale=1,e._nonScaling=!0,e.className="Filter",e.filterPrimitives=new gt,e.properties.filterUnits="objectBoundingBox",e.filterPrimitives.events.on("inserted",function(i){e._disposers.push(i.newValue)}),e.width=120,e.height=120,e.applyTheme(),e}return t.prototype.appendPrimitives=function(e){ce(this.filterPrimitives.iterator(),function(i){e.add(i)})},t.prototype.animate=function(e,i,r){var a=new gs(this,e,i,r).start();return a},Object.defineProperty(t.prototype,"width",{get:function(){return this.properties.width},set:function(e){this.properties.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.properties.height},set:function(e){this.properties.height=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;s.prototype.copyFrom.call(this,e),Ue(e.properties,function(r,a){i[r]=a})},Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:po()},set:function(e){this._paper!=e&&(this._paper=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Nn(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},set:function(e){this._scale=e,this.updateScale()},enumerable:!0,configurable:!0}),t.prototype.updateScale=function(){},Object.defineProperty(t.prototype,"filterUnits",{get:function(){return this.properties.filterUnits},set:function(e){this.properties.filterUnits=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScaling",{get:function(){return this._nonScaling},set:function(e){this._nonScaling=e,e||(this._scale=1),this.updateScale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sprite",{set:function(e){this.setSprite(e)},enumerable:!0,configurable:!0}),t.prototype.setSprite=function(e){this._sprite&&this._sprite!=e&&this._sprite.filters.removeValue(this),this._sprite=e},t}(Hi);var hA=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="DropShadowFilter",e.color=Ve("#000"),e.feGaussianBlur=e.paper.add("feGaussianBlur"),e.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),e.filterPrimitives.push(e.feGaussianBlur),e.feOffset=e.paper.add("feOffset"),e.feOffset.attr({result:"offsetBlur"}),e.filterPrimitives.push(e.feOffset),e.feFlood=e.paper.add("feFlood"),e.feFlood.attr({"flood-color":e.color}),e.filterPrimitives.push(e.feFlood),e.feComposite=e.paper.add("feComposite"),e.feComposite.attr({in2:"offsetBlur",operator:"in"}),e.filterPrimitives.push(e.feComposite),e.feMerge=e.paper.addGroup("feMerge"),e.feMerge.add(e.paper.add("feMergeNode")),e.feMerge.add(e.paper.add("feMergeNode").attr({in:"SourceGraphic"})),e.filterPrimitives.push(e.feMerge),e.width=200,e.height=200,e.blur=1.5,e.dx=3,e.dy=3,e.opacity=.5,e.applyTheme(),e}return Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.properties.color=e,this.feFlood&&this.feFlood.attr({"flood-color":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(e){this.properties.opacity=e,this.feFlood.attr({"flood-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx",{get:function(){return this.properties.dx},set:function(e){this.properties.dx=e,this.feOffset.attr({dx:e/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy",{get:function(){return this.properties.dy},set:function(e){this.properties.dy=e,this.feOffset.attr({dy:e/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blur",{get:function(){return this.properties.blur},set:function(e){this.properties.blur=e,this.feGaussianBlur.attr({stdDeviation:e/this.scale})},enumerable:!0,configurable:!0}),t.prototype.updateScale=function(){this.dx=this.dx,this.dy=this.dy,this.blur=this.blur},t}(pn);M.registeredClasses.DropShadowFilter=hA;var go=function(s){N(t,s);function t(){var e=s.call(this)||this;e._boundingRect={x:-4e4,y:-4e4,width:8e4,height:8e4},e._pointTo={x:0,y:0},e.fitPointerToBounds=!1,e._verticalOrientation="up",e.fixDoc=!0,e.className="Tooltip",e.isMeasured=!1,e.getFillFromObject=!0,e.margin(5,5,5,5),e.defaultState.transitionDuration=1,e.hiddenState.transitionDuration=1;var i=e.background;i.interactionsEnabled=!1,i.fillOpacity=.9,i.strokeWidth=1,i.strokeOpacity=1,i.stroke=Ve("#ffffff"),i.cornerRadius=3,i.pointerLength=6,i.pointerBaseWidth=10;var r=new hA;r.dy=1,r.dx=1,r.opacity=.5,i.filters.push(r),e.autoTextColor=!0;var a=e.createChild(Ei);return a.shouldClone=!1,e.label=a,a.padding(7,12,4,12),a.interactionsEnabled=!1,a.horizontalCenter="middle",a.fill=Ve("#ffffff"),e._disposers.push(a),e.label.events.on("sizechanged",e.drawBackground,e),e.label.zIndex=1,e.pointerOrientation="vertical",e.animationDuration=0,e.animationEasing=Vn,e.setPropertyValue("showInViewport",!1),e.role="tooltip",e.visible=!1,e.opacity=0,e.x=0,e.y=0,e.events.on("visibilitychanged",e.handleVisibility,e),e.applyTheme(),e}return t.prototype.handleVisibility=function(){this.visible&&this.label.invalidate()},Object.defineProperty(t.prototype,"getStrokeFromObject",{get:function(){return this.getPropertyValue("getStrokeFromObject")},set:function(e){this.setPropertyValue("getStrokeFromObject",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoTextColor",{get:function(){return this.getPropertyValue("autoTextColor")},set:function(e){this.setPropertyValue("autoTextColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepTargetHover",{get:function(){return this.getPropertyValue("keepTargetHover")},set:function(e){var i=this;this.setPropertyValue("keepTargetHover",e,!0)&&e&&(this.hoverable=!0,this.background.interactionsEnabled=!0,this._disposers.push(this.events.on("over",function(r){i.targetSprite&&i.targetSprite.hoverable&&(i.targetSprite.isHover=!0)})),this._disposers.push(this.events.on("out",function(r){i.targetSprite&&i.targetSprite.hoverable&&(i.targetSprite.isHover=!1)})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showInViewport",{get:function(){return this.getPropertyValue("showInViewport")},set:function(e){this.setPropertyValue("showInViewport",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getFillFromObject",{get:function(){return this.getPropertyValue("getFillFromObject")},set:function(e){this.setPropertyValue("getFillFromObject",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createBackground=function(){return new Lw},Object.defineProperty(t.prototype,"pointerOrientation",{get:function(){return this.getPropertyValue("pointerOrientation")},set:function(e){this.setPropertyValue("pointerOrientation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(e){this.setPropertyValue("animationDuration",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(e){this.setPropertyValue("animationEasing",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.label.html},set:function(e){this.label.html!=e&&(this.label.html=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text!=e&&(this.label.text=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.label;e.invalid&&e.validate();var i=this._pointTo.x,r=this._pointTo.y,a=this._boundingRect,n=e.measuredWidth,o=e.measuredHeight,l=this.background.pointerLength,u,h;if(this.ignoreBounds&&(a=void 0),a&&this.fixDoc&&n>a.width){tA({x:a.x,y:a.y},this.parent);var c=tA({x:a.x+a.width,y:a.y+a.height},this.parent),A=document.body.offsetWidth;document.body.offsetHeight,c.x>A/2?a.x=a.width-n:a.width=a.x+n}var d=this.pointerOrientation;d=="horizontal"||d=="left"||d=="right"?(h=-o/2,d=="horizontal"?a&&i>a.x+a.width/2?u=-n/2-l:u=n/2+l:d=="left"?u=n/2+l:u=-n/2-l):(a&&(u=De(0,a.x-i+n/2,a.x-i+a.width-n/2)),d=="vertical"?a&&r>a.y+o+l?(h=-o-l,this._verticalOrientation="up"):(h=l,this._verticalOrientation="down"):d=="down"?(h=-o-l,this._verticalOrientation="up"):(h=l,this._verticalOrientation="down")),a&&(h=De(h,a.y-r,a.y+a.height-o-r)),e.x=u,e.y=h,this.drawBackground()},t.prototype.updateBackground=function(){this.group.addToBack(this.background.group)},t.prototype.drawBackground=function(){var e=this.label,i=this.background,r=e.measuredWidth,a=e.measuredHeight,n=this._boundingRect,o=r,l=e.pixelX-r/2,u=a,h=e.pixelY,c=this._pointTo.x,A=this._pointTo.y,d=n.x-c,f=d+n.width,p=n.y-A,m=p+n.height;i.x=l,i.y=h,i.width=o,i.height=u,this.fitPointerToBounds?(i.pointerX=De(-i.x,d-i.x,f-i.x),i.pointerY=De(-i.y,p-i.y,m-i.y)):(i.pointerX=-i.x,i.pointerY=-i.y),i.validate()},t.prototype.delayedPointTo=function(e,i){var r=this;this._pointToDisposer&&this._pointToDisposer.dispose(),this._pointToDisposer=M.events.once("exitframe",function(){r.pointTo(e,i)}),this.addDisposer(this._pointToDisposer)},t.prototype.pointTo=function(e,i){(this._pointTo.x!=e.x||this._pointTo.y!=e.y)&&(this._pointTo=e,this.invalidate(),!this.visible||i?(this.moveTo(this._pointTo),this._animation&&this._animation.kill()):this.pixelX==0&&this.pixelY==0?this.moveTo(this._pointTo):(this._animation&&this._animation.kill(),this._animation=new gs(this,[{property:"x",to:e.x,from:this.pixelX},{property:"y",to:e.y,from:this.pixelY}],this.animationDuration,this.animationEasing).start()))},t.prototype.setBounds=function(e){var i=this._boundingRect;(i.x!=e.x||i.y!=e.y||i.width!=e.width||i.height!=e.height)&&(this._boundingRect=e,this.invalidate())},Object.defineProperty(t.prototype,"boundingContainer",{set:function(e){this._boundingContainer=e,e.events.on("sizechanged",this.updateBounds,this),e.events.on("positionchanged",this.updateBounds,this)},enumerable:!0,configurable:!0}),t.prototype.updateBounds=function(){var e=this._boundingContainer,i=gc({x:e.pixelX,y:e.pixelY,width:e.maxWidth,height:e.maxHeight},e);this.setBounds(i)},Object.defineProperty(t.prototype,"ignoreBounds",{get:function(){return this.getPropertyValue("ignoreBounds")},set:function(e){this.setPropertyValue("ignoreBounds",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalOrientation",{get:function(){return this._verticalOrientation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label),e._boundingRect&&(this._boundingRect=e._boundingRect)},t.prototype.asFunction=function(e){return e=="animationEasing"||s.prototype.asIs.call(this,e)},t}(Fe);M.registeredClasses.Tooltip=go;var Rs=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="Bullet",e.isMeasured=!1,e.tooltipX=0,e.tooltipY=0,e.layout="none",e.applyOnClones=!0,e.copyToLegendMarker=!0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(e){if(this.setPropertyValue("locationX",e)){var i=this.dataItem;i&&i.component&&i.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(e){if(this.setPropertyValue("locationY",e)){var i=this.dataItem;i&&i.component&&i.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xField",{get:function(){return this.getPropertyValue("xField")},set:function(e){this.setPropertyValue("xField",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yField",{get:function(){return this.getPropertyValue("yField")},set:function(e){this.setPropertyValue("yField",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDynamic",{get:function(){return this.getPropertyValue("isDynamic")},set:function(e){this.setPropertyValue("isDynamic",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyToLegendMarker",{get:function(){return this.getPropertyValue("copyToLegendMarker")},set:function(e){this.setPropertyValue("copyToLegendMarker",e)},enumerable:!0,configurable:!0}),t}(Fe);M.registeredClasses.Bullet=Rs;Ji.push({relevant:lr.isXS,state:function(s,t){if(s instanceof Rs){var e=s.states.create(t);return e.properties.disabled=!0,e}return null}});var Dp=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="ResizeButton",e.orientation="horizontal",e.layout="absolute",e.horizontalCenter="middle",e.verticalCenter="middle",e.draggable=!0,e.padding(8,8,8,8),e.background.cornerRadius(20,20,20,20);var i=new ke;i.element=e.paper.add("path");var r=_e({x:-2,y:-6});return r+=he({x:-2,y:6}),r+=_e({x:2,y:-6}),r+=he({x:2,y:6}),i.path=r,i.pixelPerfect=!0,i.padding(0,4,0,4),i.stroke=new ze().getFor("alternativeText"),i.strokeOpacity=.7,e.icon=i,e.label.dispose(),e.label=void 0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"orientation",{set:function(e){var i=this.icon;i&&(e=="horizontal"?i.rotation=0:i.rotation=-90)},enumerable:!0,configurable:!0}),t}(ba);M.registeredClasses.ResizeButton=Dp;var yo=function(s){N(t,s);function t(){var e=s.call(this)||this;e._previousStart=0,e._previousEnd=1,e._prevStart=0,e._prevEnd=1,e._isBusy=!1,e._skipRangeEvents=!1,e.updateWhileMoving=!0,e.className="Scrollbar",e.minHeight=12,e.minWidth=12,e.animationDuration=0,e.animationEasing=Vn,e.margin(10,10,10,10);var i=new ze,r=e.background;return r.cornerRadius(10,10,10,10),r.fill=i.getFor("fill"),r.fillOpacity=.5,e.showSystemTooltip=!0,e.startGrip=new Dp,e.endGrip=new Dp,e.events.on("transformed",function(){e.updateThumb()},e,!1),e.start=0,e.end=1,e.role="scrollbar",e.thumb.role="slider",e.thumb.readerLive="polite",e.startGrip.role="slider",e.endGrip.role="slider",e.events.once("inited",function(){e._previousStart=void 0,e.dispatchRangeChange()},void 0,!1),e.hideGrips=!1,e.orientation="horizontal",e.setSVGAttribute({"aria-valuemin":"0"}),e.setSVGAttribute({"aria-valuemax":"100"}),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),this.orientation==="horizontal"?(V(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB to select grip buttons or left and right arrows to change selection")),V(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use left and right arrows to move selection")),V(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use left and right arrows to move left selection")),V(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use left and right arrows to move right selection")),this.readerOrientation="horizontal"):(V(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB select grip buttons or up and down arrows to change selection")),V(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use up and down arrows to move selection")),V(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use up and down arrows to move upper selection")),V(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use up and down arrows to move lower selection")),this.readerOrientation="vertical"),this.readerControls=this.baseSprite.uidAttr()},t.prototype.validateLayout=function(){this.updateSize(),s.prototype.validateLayout.call(this),this.updateExtremes()},t.prototype.processBackground=function(){s.prototype.processBackground.call(this);var e=this.background;e.clickable=!0,e.events.on("hit",this.handleBgHit,this,void 0)},t.prototype.handleBgHit=function(e){this.makeBusy();var i=e.spritePoint;i=Yr(i,this.background,this);var r=this.thumb;if(this.orientation=="horizontal"){var a=i.x-r.pixelWidth/2;a=De(a,0,this.innerWidth-r.pixelWidth),this._thumbAnimation=r.animate({property:"x",to:a},this.animationDuration,this.animationEasing)}else{var n=i.y-r.pixelHeight/2;n=De(n,0,this.innerHeight-r.pixelHeight),this._thumbAnimation=r.animate({property:"y",to:n},this.animationDuration,this.animationEasing)}this.animationDuration>0?this._thumbAnimation.events.on("animationended",this.makeUnbusy,this,!1):(this._thumb.validate(),this.makeUnbusy())},t.prototype.makeBusy=function(){this._isBusy=!0,this._skipRangeEvents=!1,this._unbusyTimeout&&this.removeDispose(this._unbusyTimeout),this._unbusyTimeout=void 0,this.stopAnimations()},t.prototype.stopAnimations=function(){this._thumbAnimation&&this._thumbAnimation.stop(!0),this._zoomAnimation&&this._zoomAnimation.stop(!0)},t.prototype.makeUnbusy=function(){this._unbusyTimeout=this.setTimeout(this.makeUnbusyReal.bind(this),this.animationDuration*1.1)},t.prototype.makeUnbusyReal=function(){this._usingGrip=void 0,this._isBusy=!1,this.updateWhileMoving||this.dispatchRangeChange()},t.prototype.dispatchRangeChange=function(){(this._previousEnd!=this.end||this._previousStart!=this.start)&&(this._previousStart=this.start,this._previousEnd=this.end,this.dispatch("rangechanged"))},t.prototype.updateThumb=function(e){if(e===void 0&&(e=!0),!!this.parent){var i=this.thumb,r=this.start,a=this.end,n=this.startGrip,o=this.endGrip,l=this.adapter.apply("positionValueDirection",{flipped:!1}).flipped,u=l?"To %1":"From %1",h=l?"From %1":"To %1",c,A;if(this.orientation=="horizontal"){var d=this.innerWidth;i.width=d*(a-r),i.maxX=d-i.pixelWidth,i.x=r*d,n.moveTo({x:i.pixelX,y:0},void 0,void 0,!0),o.moveTo({x:i.pixelX+i.pixelWidth,y:0},void 0,void 0,!0),c=this.adapter.apply("positionValue",{value:Math.round(r*100)+"%",position:r}).value,A=this.adapter.apply("positionValue",{value:Math.round(a*100)+"%",position:a}).value,n.readerTitle=this.language.translate(u,void 0,c),n.readerValueNow=""+Math.round(r*100),n.readerValueText=n.readerTitle,o.readerTitle=this.language.translate(h,void 0,A),o.readerValueNow=""+Math.round(a*100),o.readerValueText=o.readerTitle}else{var f=this.innerHeight;i.height=f*(a-r),i.maxY=f-i.pixelHeight,i.y=(1-a)*f,n.moveTo({x:0,y:i.pixelY+i.pixelHeight},void 0,void 0,!0),o.moveTo({x:0,y:i.pixelY},void 0,void 0,!0),c=this.adapter.apply("positionValue",{value:Math.round((1-r)*100)+"%",position:1-r}).value,A=this.adapter.apply("positionValue",{value:Math.round((1-a)*100)+"%",position:1-a}).value,n.readerTitle=this.language.translate(h,void 0,c),n.readerValueNow=""+Math.round(r*100),n.readerValueText=n.readerTitle,o.readerTitle=this.language.translate(u,void 0,A),o.readerValueNow=""+Math.round(a*100),o.readerValueText=o.readerTitle}i.readerTitle=this.language.translate("From %1 to %2",void 0,c,A),i.readerValueNow=""+Math.round(r*100),i.readerValueText=i.readerTitle,this.readerValueNow=""+Math.round(r*100),this.readerValueText=i.readerTitle,!this._skipRangeEvents&&this.updateWhileMoving&&e&&this.dispatchRangeChange()}},t.prototype.updateExtremes=function(){var e=this.orientation,i=0,r=0,a=0,n=0;e=="horizontal"?(a=this.innerWidth,r=n=this.innerHeight/2):(n=this.innerHeight,i=a=this.innerWidth/2);var o=this.startGrip;o.minX=i,o.maxX=a,o.minY=r,o.maxY=n;var l=this.endGrip;l.minX=i,l.maxX=a,l.minY=r,l.maxY=n;var u=this.thumb;u.minX=i,u.maxX=a,u.minY=r,u.maxY=n},t.prototype.updateSize=function(){var e=this.orientation,i=this.startGrip;i&&(i.orientation=e),this.endGrip&&(this.endGrip.orientation=e);var r=this.thumb;r&&(e=="horizontal"?(I(this._pixelWidth)||this.width instanceof qe||(this.width=ue(100)),V(this.percentHeight)&&(this.height=this.minHeight),r.height=this.innerHeight,r.verticalCenter="middle",r.horizontalCenter="left"):(I(this._pixelHeight)||this.height instanceof qe||(this.height=ue(100)),V(this.percentWidth)&&(this.width=this.minWidth),r.width=this.innerWidth,r.verticalCenter="top",r.horizontalCenter="middle"))},Object.defineProperty(t.prototype,"isBusy",{get:function(){return this._isBusy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return Math.min(this.getPosition(this._start),this.getPosition(this._end))},set:function(e){this._isBusy||(this.__start=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__start",{get:function(){return this._start},set:function(e){this._start=this.getPosition(e),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return Math.max(this.getPosition(this._start),this.getPosition(this._end))},set:function(e){this._isBusy||(this.__end=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__end",{get:function(){return this._end},set:function(e){this._end=this.getPosition(e),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return{start:this.start,end:this.end,priority:this._usingGrip}},enumerable:!0,configurable:!0}),t.prototype.skipRangeEvents=function(){this._isBusy||(this._skipRangeEvents=!0)},t.prototype.fixRange=function(e){(e.start!=ve(this._start,2)||e.end!=ve(this._end,2))&&(this._start=e.start,this._end=e.end,this._skipRangeEvents=!0,this.updateThumb(),this._skipRangeEvents=!1,this.thumb.validate(),this.thumb.background.validate())},t.prototype.getPosition=function(e){return De(ve(e,4),0,1)},Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e)&&(e==="horizontal"?(this.startGrip.cursorOverStyle=li.horizontalResize,this.endGrip.cursorOverStyle=li.horizontalResize):(this.startGrip.cursorOverStyle=li.verticalResize,this.endGrip.cursorOverStyle=li.verticalResize),this.updateByOrientation(),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.updateByOrientation=function(){},Object.defineProperty(t.prototype,"startGrip",{get:function(){return this._startGrip},set:function(e){this._startGrip&&this.removeDispose(this._startGrip),this._startGrip=e,this.processGrip(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endGrip",{get:function(){return this._endGrip},set:function(e){this._endGrip&&this.removeDispose(this._endGrip),this._endGrip=e,this.processGrip(e)},enumerable:!0,configurable:!0}),t.prototype.processGrip=function(e){e.parent=this,e.isMeasured=!1,e.focusable=!0,e.shouldClone=!1,e.zIndex=100,e.events.on("drag",this.handleGripDrag,this,!1),e.events.on("dragstop",this.makeUnbusy,this,!1),e.events.on("down",this.makeBusy,this,!1),e.events.on("up",this.makeUnbusy,this,!1),this._disposers.push(e)},t.prototype.handleGripDrag=function(e){this.makeBusy(),e.target===this._startGrip?this._usingGrip="start":this._usingGrip="end",this.orientation=="horizontal"?(this._start=this.startGrip.pixelX/this.innerWidth,this._end=this.endGrip.pixelX/this.innerWidth):(this._start=1-this.startGrip.pixelY/this.innerHeight,this._end=1-this.endGrip.pixelY/this.innerHeight),this.updateThumb()},Object.defineProperty(t.prototype,"thumb",{get:function(){if(!this._thumb){var e=new ba;e.background.cornerRadius(10,10,10,10),e.padding(0,0,0,0),this.thumb=e}return this._thumb},set:function(e){var i=this;e&&(this._thumb&&this.removeDispose(this._thumb),this._thumb=e,e.parent=this,e.isMeasured=!1,e.inert=!0,e.draggable=!0,e.clickable=!0,e.hoverable=!0,e.focusable=!0,e.shouldClone=!1,e.zIndex=0,e.cursorOverStyle=li.grab,e.cursorDownStyle=li.grabbing,e.events.on("dragstart",this.makeBusy,this,!1),e.events.on("dragstop",this.makeUnbusy,this,!1),e.events.on("positionchanged",this.handleThumbPosition,this,!1),e.events.on("sizechanged",this.handleThumbPosition,this,!1),e.events.on("doublehit",this.handleDoubleClick,this,!1),this._disposers.push(at().body.events.on("keyup",function(r){ga.isKey(r.event,["space","enter"])&&i.thumb.isFocused&&(r.event.preventDefault(),i.handleDoubleClick())})),this._disposers.push(this._thumb))},enumerable:!0,configurable:!0}),t.prototype.handleDoubleClick=function(){this.makeBusy();var e=0,i=1;this.start!=0||this.end!=1?(this._prevStart=this.start,this._prevEnd=this.end):(e=this._prevStart,i=this._prevEnd);var r=this.animate([{property:"__start",to:e},{property:"__end",to:i}],this.animationDuration,this.animationEasing);r&&!r.isFinished()?(r.events.on("animationended",this.makeUnbusy,this,!1),this._zoomAnimation=r):this.makeUnbusy()},t.prototype.handleThumbPosition=function(){var e=this.thumb;if(this.orientation=="horizontal"){var i=this.innerWidth,r=e.innerWidth,a=e.pixelX;this._start=a/i,this._end=(a+r)/i,this.updateThumb()}else{var n=this.innerHeight,o=e.innerHeight,l=e.pixelY;l+o>n&&(l=n-o,e.y=l),this._start=1-(l+o)/n,this._end=1-l/n,this.updateThumb()}},t.prototype.createBackground=function(){return new Kr},Object.defineProperty(t.prototype,"hideGrips",{get:function(){return this._hideGrips},set:function(e){var i=this;this._hideGrips=e,this._overDisposer&&this.removeDispose(this._overDisposer),this._outDisposer&&this.removeDispose(this._outDisposer),e?(this._overDisposer=this.events.on("over",function(){i.startGrip.show(),i.endGrip.show()},void 0,!1),this._outDisposer=this.events.on("out",function(){i.startGrip.hide(),i.endGrip.hide()},void 0,!1),this.startGrip.hide(),this.endGrip.hide()):(this.startGrip.show(),this.endGrip.show())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(e){this.setPropertyValue("animationDuration",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(e){this.setPropertyValue("animationEasing",e)},enumerable:!0,configurable:!0}),t.prototype.asFunction=function(e){return e=="animationEasing"||s.prototype.asIs.call(this,e)},t}(Fe);M.registeredClasses.Scrollbar=yo;var bo=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.childrenCreated=!1,e.className="LegendDataItem",e.applyTheme(),e}return Object.defineProperty(t.prototype,"label",{get:function(){var e=this;if(!this._label){var i=this.component.labels.create();this._label=i,this.addSprite(i),this._disposers.push(i),i.parent=this.itemContainer,this._disposers.push(new Ft(function(){V(e.component)&&e.component.labels.removeValue(i)}))}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.setProperty("color",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueLabel",{get:function(){var e=this;if(!this._valueLabel){var i=this.component.valueLabels.create();this._valueLabel=i,this.addSprite(i),this._disposers.push(i),i.parent=this.itemContainer,this._disposers.push(new Ft(function(){V(e.component)&&e.component.valueLabels.removeValue(i)}))}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemContainer",{get:function(){var e=this;if(!this._itemContainer){var i=this.component,r=i.itemContainers.create();r.parent=i,this._itemContainer=r,this.addSprite(r),this._disposers.push(r),r.togglable&&r.events.on("toggled",function(o){i.toggleDataItem(o.target.dataItem)},void 0,!1),r.focusable&&(r.events.on("hit",function(o){i.focusedItem=void 0},void 0,!1),r.events.on("focus",function(o){i.focusedItem=o.target.dataItem},void 0,!1),r.events.on("blur",function(o){i.focusedItem=void 0},void 0,!1)),this._disposers.push(new Ft(function(){V(e.component)&&e.component.itemContainers.removeValue(r)})),this.dataContext.uidAttr&&(r.readerControls=this.dataContext.uidAttr(),r.readerLabelledBy=this.dataContext.uidAttr());var a=this.dataContext;if((a instanceof Za||a instanceof ke)&&!a.isDisposed()){var n=function(o){r.readerChecked=o.visible,r.events.disableType("toggled"),r.isActive=!o.visible,r.events.enableType("toggled")};a.addDisposer(new Ft(function(){e.component&&e.component.dataItems.remove(e)})),a instanceof ke?(r.addDisposer(a.events.on("visibilitychanged",n,void 0,!1)),r.addDisposer(a.events.on("hidden",function(o){r.readerChecked=!1,r.events.disableType("toggled"),r.isActive=!0,r.events.enableType("toggled")},void 0,!1)),r.addDisposer(a.events.on("shown",function(o){r.readerChecked=!0,r.events.disableType("toggled"),r.isActive=!1,r.events.enableType("toggled")},void 0,!1))):r.addDisposer(a.events.on("visibilitychanged",n,void 0,!1))}}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){var e=this;if(!this._marker){var i=this.component.markers.create();this._marker=i,i.parent=this.itemContainer,this.addSprite(i),this._disposers.push(i),this._disposers.push(new Ft(function(){V(e.component)&&e.component.markers.removeValue(i)}))}return this._marker},enumerable:!0,configurable:!0}),t}(Za);var Op=function(){function s(){this.createMarker=!0}return s}();var wc=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="Legend",e.layout="grid",e.setPropertyValue("useDefaultMarker",!1),e.setPropertyValue("scrollable",!1),e.setPropertyValue("contentAlign","center");var i=new Fe;i.applyOnClones=!0,i.padding(8,0,8,0),i.margin(0,10,0,10),i.layout="horizontal",i.clickable=!0,i.focusable=!0,i.role="switch",i.togglable=!0,i.cursorOverStyle=li.pointer,i.background.fillOpacity=0,e.itemContainers=new zt(i),e._disposers.push(new Tt(e.itemContainers)),e._disposers.push(e.itemContainers.template),e._disposers.push(at().body.events.on("keyup",function(h){if(ga.isKey(h.event,"enter")&&e.focusedItem){var c=e.focusedItem,A=c.itemContainer;A.togglable?e.toggleDataItem(c):A.clickable&&A.events.isEnabled("hit")&&(A.dispatchImmediately("hit",{event:h}),e.focusedItem=c)}},e));var r=new ze,a=new Fe;a.width=23,a.height=23,a.interactionsEnabled=!1,a.applyOnClones=!0,a.setStateOnChildren=!0,a.background.fillOpacity=0,a.background.strokeOpacity=0,a.propertyFields.fill="fill",a.valign="middle";var n=r.getFor("disabledBackground");a.events.on("childadded",function(h){var c=h.newValue,A=c.states.create("active");A.properties.stroke=n,A.properties.fill=n}),e.markers=new zt(a),e._disposers.push(new Tt(e.markers)),e._disposers.push(e.markers.template);var o=a.createChild(Kr);o.width=ue(100),o.height=ue(100),o.applyOnClones=!0,o.propertyFields.fill="fill",o.strokeOpacity=0;var l=new Ei;l.text="{name}",l.margin(0,5,0,5),l.valign="middle",l.applyOnClones=!0,l.states.create("active").properties.fill=r.getFor("disabledBackground"),e.labels=new zt(l),e._disposers.push(new Tt(e.labels)),e._disposers.push(e.labels.template),l.interactionsEnabled=!1,l.truncate=!0,l.fullWords=!1;var u=new Ei;return u.margin(0,5,0,0),u.valign="middle",u.width=50,u.align="right",u.textAlign="end",u.applyOnClones=!0,u.states.create("active").properties.fill=r.getFor("disabledBackground"),u.interactionsEnabled=!1,e.valueLabels=new zt(u),e._disposers.push(new Tt(e.valueLabels)),e._disposers.push(e.valueLabels.template),e.position="bottom",i.states.create("active"),i.setStateOnChildren=!0,e.role="group",e.events.on("layoutvalidated",e.handleScrollbar,e,!1),e.events.on("parentset",function(){var h=e.parent;h&&e._disposers.push(h.events.on("maxsizechanged",function(){e.scrollable&&e.setTimeout(function(){e.updateMasks(),e.handleScrollbar(),e._handleWheelReal(1)},100)}))}),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Legend"))},t.prototype.createDataItem=function(){return new bo},t.prototype.validateDataElements=function(){this.scrollbar&&(this.scrollbar.start=0,this.scrollbar.end=1),s.prototype.validateDataElements.call(this)},t.prototype.validateDataElement=function(e){s.prototype.validateDataElement.call(this,e);var i=e.itemContainer,r=e.marker;e.label;var a=e.valueLabel;i.readerChecked=e.dataContext.visible,e.dataContext.legendDataItem=e;var n=e.label.maxWidth;e.label.width instanceof qe||(e.label.width=void 0),n>0&&(e.label.maxWidth=n),a.align=="right"&&(a.width=void 0);var o=e.dataContext.legendSettings,l=e.dataContext;l.createLegendMarker&&(!this.useDefaultMarker||!(l instanceof ke))?e.childrenCreated||(l.createLegendMarker(r),e.childrenCreated=!0):this.markers.template.propertyFields.fill=void 0,l.updateLegendValue&&l.updateLegendValue(),l.component&&l.component.updateLegendValue&&l.component.updateLegendValue(l),a.invalid&&a.validate(),a.text==""||a.text==null?a.__disabled=!0:a.__disabled=!1,o&&(o.itemValueText!=null||o.valueText!=null)&&(a.__disabled=!1);var u=e.dataContext.visible;u===void 0&&(u=!0),u=Vi(u),e.dataContext.visible=u,i.events.disableType("toggled"),i.isActive=!u,i.isActive?i.setState("active",0):i.setState("default",0),i.events.enableType("toggled")},t.prototype.afterDraw=function(){var e=this,i=this.getPropertyValue("maxWidth"),r=0;this.labels.each(function(c){c.invalid&&(c.maxWidth=void 0,c.validate()),c.measuredWidth+c.pixelMarginLeft+c.pixelMarginRight>r&&(r=c.measuredWidth+c.pixelMarginLeft+c.pixelMarginRight)});var a=0;this.valueLabels.each(function(c){c.invalid&&c.validate(),c.measuredWidth+c.pixelMarginLeft+c.pixelMarginRight>a&&(a=c.measuredWidth+c.pixelMarginLeft+c.pixelMarginRight)});var n=0;this.markers.each(function(c){c.invalid&&c.validate(),c.measuredWidth+c.pixelMarginLeft+c.pixelMarginRight>n&&(n=c.measuredWidth+c.pixelMarginLeft+c.pixelMarginRight)});var o=this.itemContainers.template,l=o.pixelMarginRight+o.pixelMarginLeft,u,h=r+a+n;I(i)?(i=i-l,i>h&&(i=h),u=i-n-a):u=r,this.labels.each(function(c){(e.valueLabels.template.align=="right"||c.measuredWidth>u)&&(c.width instanceof qe||(c.width=Math.min(c.maxWidth,u-c.pixelMarginLeft-c.pixelMarginRight),c.maxWidth=c.width))}),this.valueLabels.template.align=="right"&&this.valueLabels.each(function(c){c.width=a-c.pixelMarginRight-c.pixelMarginLeft}),s.prototype.afterDraw.call(this)},t.prototype.handleScrollbar=function(){var e=this.scrollbar;if(this.scrollable&&e){var i=this.maxHeight;e.height=i,e.x=this.measuredWidth-e.pixelWidth-e.pixelMarginLeft,this.contentHeight>i?(e.visible=!0,e.thumb.height=e.height*i/this.contentHeight,this.paddingRight=e.pixelWidth+e.pixelMarginLeft+e.pixelMarginRight):(e.thumb.height=e.height*i/this.contentHeight,this.paddingRight=e.pixelWidth+e.pixelMarginLeft+e.pixelMarginRight,e.visible=!1,e.start=0,e.end=1),e.handleThumbPosition(),this.updateMasks()}},Object.defineProperty(t.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(e){this.setPropertyValue("position",e)&&(e=="left"||e=="right"?(this.margin(10,5,10,10),this.valign="middle",this.contentAlign="none",this.valueLabels.template.align="right",I(this.maxColumns)||(this.maxColumns=1),this.width=void 0,this.maxWidth=220):(this.maxColumns=void 0,this.width=ue(100),this.valueLabels.template.align="left"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useDefaultMarker",{get:function(){return this.getPropertyValue("useDefaultMarker")},set:function(e){this.setPropertyValue("useDefaultMarker",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollable",{get:function(){return this.getPropertyValue("scrollable")},set:function(e){if(this.setPropertyValue("scrollable",e,!0))if(e){var i=this.createChild(yo);this.scrollbar=i,i.isMeasured=!1,i.orientation="vertical",i.endGrip.__disabled=!0,i.startGrip.__disabled=!0,i.visible=!1,i.marginLeft=5,this._mouseWheelDisposer=this.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer),this._disposers.push(i.events.on("rangechanged",this.updateMasks,this,!1))}else this._mouseWheelDisposer&&(this._mouseWheelDisposer.dispose(),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=void 0))},enumerable:!0,configurable:!0}),t.prototype.handleWheel=function(e){this._handleWheelReal(e.shift.y)},t.prototype._handleWheelReal=function(e){var i=this.scrollbar;if(i){var r=e/1e3*this.measuredHeight/this.contentHeight,a=i.end-i.start;e>0?(i.start=st(0,i.start-r),i.end=i.start+a):(i.end=dt(1,i.end-r),i.start=i.end-a)}},t.prototype.updateMasks=function(){var e=this;this.scrollbar&&this.itemContainers.each(function(i){i.dy=-e.scrollbar.thumb.pixelY*e.contentHeight/e.maxHeight,i.maskRectangle={x:0,y:-i.dy,width:e.measuredWidth,height:e.maxHeight}}),this.invalidatePosition()},t.prototype.toggleDataItem=function(e){var i=e.dataContext;!i.visible||i.isHiding||i instanceof ke&&i.isHidden?(e.color=e.colorOrig,i.appeared=!0,e.itemContainer.isActive=!1,i.hidden===!0&&(i.hidden=!1),i.show?i.show():i.visible=!0,this.svgContainer.readerAlert(this.language.translate("%1 shown",this.language.locale,e.label.readerTitle))):(e.itemContainer.isActive=!0,i.appeared=!0,i.hide?i.hide():i.visible=!1,this.svgContainer.readerAlert(this.language.translate("%1 hidden",this.language.locale,e.label.readerTitle)),e.color=new ze().getFor("disabledBackground"))},Object.defineProperty(t.prototype,"preloader",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.handleDataItemPropertyChange=function(e,i){e.valueLabel.invalidate(),e.label.invalidate()},t}(qa);M.registeredClasses.Legend=wc;Ji.push({relevant:lr.widthXS,state:function(s,t){if(s instanceof wc&&(s.position=="left"||s.position=="right")){var e=s.states.create(t);return e.properties.position="bottom",e}return null}});Ji.push({relevant:lr.heightXS,state:function(s,t){if(s instanceof wc&&(s.position=="top"||s.position=="bottom")){var e=s.states.create(t);return e.properties.position="right",e}return null}});Ji.push({relevant:lr.isXS,state:function(s,t){if(s instanceof wc){var e=s.states.create(t);return e.properties.disabled=!0,e}return null}});var Cc=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="SeriesDataItem",e.values.value={},e.values.value={},e.applyTheme(),e}return Object.defineProperty(t.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new Rt,this._disposers.push(new Ya(this._bullets))),this._bullets},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.bullets.clear(),s.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),t}(Za);var cl=function(s){N(t,s);function t(){var e=s.call(this)||this;if(e._ignoreMinMax=!1,e._showBullets=!0,e.legendSettings=new Op,e._tmin=new Rt,e._tmax=new Rt,e._smin=new Rt,e._smax=new Rt,e.dataItemsByAxis=new Rt,e.skipFocusThreshold=20,e._itemReaderTextChanged=!1,e.calculatePercent=!1,e.usePercentHack=!0,e.autoDispose=!0,e.simplifiedProcessing=!1,e.constructor===t)throw new Error("'Series' cannot be instantiated directly. Please use a specific series type.");e.className="Series",e.isMeasured=!1,e.layout="none",e.shouldClone=!1,e.setPropertyValue("hidden",!1),e.axisRanges=new gt,e.axisRanges.events.on("inserted",e.processAxisRange,e,!1),e.minBulletDistance=0,e.mainContainer=e.createChild(Fe),e.mainContainer.shouldClone=!1,e.mainContainer.mask=e.createChild(ke),e._disposers.push(e.mainContainer);var i=e.mainContainer.createChild(Fe);return e._shouldBeReady.push(i),i.shouldClone=!1,i.layout="none",i.virtualParent=e,e._disposers.push(i),e.bulletsContainer=i,e.tooltip=new go,e.tooltip.virtualParent=e,e._disposers.push(e.tooltip),e.hiddenState.transitionEasing=aw,e.dataItem=e.createDataItem(),e._disposers.push(e.dataItem),e.dataItem.component=e,e.role="group",e.applyTheme(),e}return t.prototype.applyTheme=function(){s.prototype.applyTheme.call(this),et.autoSetClassName&&this.bulletsContainer&&(this.bulletsContainer.className=this.className+"-bullets",this.bulletsContainer.setClassName())},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Series"))},t.prototype.createDataItem=function(){return new Cc},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){},t.prototype.processBullet=function(e){var i=this,r=e.newValue;r.isTemplate=!0,this.events.once("datavalidated",function(a){i.itemsFocusable()&&(r.focusable=!0)}),this.invalidate()},t.prototype.removeBullet=function(e){var i=e.oldValue;this.dataItems.each(function(r){var a=r.bullets.getKey(i.uid);a&&a.dispose()}),this.invalidate()},t.prototype.validateDataItems=function(){s.prototype.validateDataItems.call(this),this.processValues(!1)},t.prototype.getFirstValue=function(e,i){for(var r=i;r>=0;r--){var a=this.dataItems.getIndex(r),n=a.getActualWorkingValue(e);if(I(n))return n}return null},t.prototype.getAbsoluteFirstValue=function(e){for(var i=0;i<this.dataItems.length;i++){var r=this.dataItems.getIndex(i),a=r.values[e].value;if(I(a))return a}return null},t.prototype.rangeChangeUpdate=function(){s.prototype.rangeChangeUpdate.call(this),this.processValues(!0)},t.prototype.processValues=function(e){var i=this;if(!this.simplifiedProcessing){var r=this.dataItems,a={},n={},o={},l={},u={},h={},c={},A={},d={},f={},p=st(0,this.startIndex);p=dt(p,this.dataItems.length);var m=dt(this.endIndex,this.dataItems.length);if(I(p)||(p=0),I(m)||(m=this.dataItems.length),p>0){var g=r.getIndex(p-1);Ue(g.values,function(F,O){var $=g.getActualWorkingValue(F);I($)&&(A[F]=$)})}for(var y=function(F){var O=r.getIndex(F);Ue(O.values,function($,L){var E=O.getActualWorkingValue($);if(I(E)){I(a[$])||(a[$]=0),a[$]++,I(n[$])||(n[$]=0),n[$]+=E,I(o[$])||(o[$]=0),o[$]+=Math.abs(E),I(h[$])||(h[$]=E),c[$]=E,I(l[$])?l[$]>E&&(l[$]=E):l[$]=E,I(u[$])?u[$]<E&&(u[$]=E):u[$]=E,I(d[$])||(d[$]=i.getFirstValue($,p)),I(f[$])||(f[$]=i.getAbsoluteFirstValue($)),O.setCalculatedValue($,E-d[$],"change"),O.setCalculatedValue($,(E-d[$])/d[$]*100,"changePercent"),O.setCalculatedValue($,E-f[$],"startChange"),O.setCalculatedValue($,(E-f[$])/f[$]*100,"startChangePercent");var D=A[$];I(D)||(D=E),O.setCalculatedValue($,E-D,"previousChange"),O.setCalculatedValue($,(E-D)/D*100,"previousChangePercent"),A[$]=E}})},x=p;x<m;x++)y(x);if(this.calculatePercent)for(var C=function(F){var O=r.getIndex(F);Ue(O.values,function($){var L=o[$],E=O.getActualWorkingValue($);if(I(E))if(L>0){i.usePercentHack&&E==L&&(L=O.values[$].value);var D=E/L*100;O.setCalculatedValue($,D,"percent")}else O.setCalculatedValue($,0,"percent")})},x=p;x<m;x++)C(x);if(p>0){var S=r.getIndex(p-1);Ue(S.values,function(F){var O=S.values[F].value;S.setCalculatedValue(F,O-h[F],"change"),S.setCalculatedValue(F,(O-h[F])/h[F]*100,"changePercent")})}var P=this.dataItem;Ue(P.values,function(F){P.setCalculatedValue(F,n[F],"sum"),P.setCalculatedValue(F,o[F],"absoluteSum"),P.setCalculatedValue(F,n[F]/a[F],"average"),P.setCalculatedValue(F,h[F],"open"),P.setCalculatedValue(F,c[F],"close"),P.setCalculatedValue(F,l[F],"low"),P.setCalculatedValue(F,u[F],"high"),P.setCalculatedValue(F,a[F],"count")})}},t.prototype.validate=function(){ol()&&this.filters.clear(),ce(this.axisRanges.iterator(),function(a){a.validate()}),s.prototype.validate.call(this);var e=this.bulletsContainer;if(e.fill=this.fill,e.stroke=this.stroke,e.x=this.pixelX,e.y=this.pixelY,this.bulletsContainer.children.length>0)if(this._showBullets){for(var i=0;i<this.startIndex;i++){var r=this.dataItems.getIndex(i);r&&r.bullets.each(function(a,n){n.__disabled=!0})}for(var i=this.dataItems.length-1;i>this.endIndex;i--){var r=this.dataItems.getIndex(i);r&&r.bullets.each(function(o,l){l.__disabled=!0})}}else this.bulletsContainer.children.each(function(a){a.__disabled=!0});this.updateTooltipBounds()},t.prototype.updateTooltipBounds=function(){if(this.topParent){var e=0,i=0,r=this.topParent.maxWidth,a=this.topParent.maxHeight,n={x:e,y:i,width:r,height:a};this.tooltip.setBounds(n)}},t.prototype.shouldCreateBullet=function(e,i){return!0},t.prototype.validateDataElement=function(e){var i=this;s.prototype.validateDataElement.call(this,e),this._showBullets?(this.isHidden||(this.bulletsContainer.visible=!0),this.bullets.each(function(r){var a=e.bullets.getKey(r.uid);if(i.shouldCreateBullet(e,r)){if(!a){var n=r.propertyFields.disabled,o=e.dataContext;n&&o&&o[n]===!1?(r.applyOnClones=!1,r.disabled=!1,a=r.clone(),r.disabled=!0,r.applyOnClones=!0):a=r.clone(),a.shouldClone=!1,e.addSprite(a),(!i.visible||i.isHiding)&&a.hide(0)}var l=a.dataItem;if(l!=e){l&&l.bullets.setKey(r.uid,void 0);var u=i.itemReaderText;a instanceof Rs&&(u||(u="{"+a.xField+"}: {"+a.yField+"}"),a.isDynamic&&(e.events.on("workingvaluechanged",a.deepInvalidate,a,!1),i.dataItem.events.on("workingvaluechanged",a.deepInvalidate,a,!1)),a.deepInvalidate()),a.focusable&&(a.events.on("focus",function(h){a.readerTitle=i.populateString(u,a.dataItem)},void 0,!1),a.events.on("blur",function(h){a.readerTitle=""},void 0,!1)),a.hoverable&&(a.events.on("over",function(h){a.readerTitle=i.populateString(u,a.dataItem)},void 0,!1),a.events.on("out",function(h){a.readerTitle=""},void 0,!1))}a.parent=i.bulletsContainer,e.bullets.setKey(r.uid,a),a.maxWidth=e.itemWidth,a.maxHeight=e.itemHeight,a.__disabled=!1,i.positionBullet(a)}else a&&(a.__disabled=!0)})):this.bulletsContainer.visible=!1},t.prototype.handleDataItemWorkingValueChange=function(e,i){this.dataRangeInvalid||this.invalidateProcessedData()},Object.defineProperty(t.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(e){this._ignoreMinMax=e,this.invalidateDataItems()},enumerable:!0,configurable:!0}),t.prototype.createMask=function(){},t.prototype.processAxisRange=function(e){this.rangesContainer||(this.rangesContainer=this.createChild(Fe),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);var i=e.newValue;i&&(i.contents.parent=this.rangesContainer,i.isRange=!0,i.events.on("valuechanged",this.invalidateDataItems,this,!1))},t.prototype.getAxisField=function(e){},t.prototype.showTooltipAtPosition=function(e,i){},Object.defineProperty(t.prototype,"minBulletDistance",{get:function(){return this.getPropertyValue("minBulletDistance")},set:function(e){this.setPropertyValue("minBulletDistance",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new zt(new Rs),this._bullets.template.virtualParent=this,this._bullets.events.on("inserted",this.processBullet,this,!1),this._bullets.events.on("removed",this.removeBullet,this,!1),this._disposers.push(new Tt(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){},Object.defineProperty(t.prototype,"hiddenInLegend",{get:function(){return this.getPropertyValue("hiddenInLegend")},set:function(e){this.setPropertyValue("hiddenInLegend",e)&&this.chart&&this.chart.feedLegend()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(e){this.setPropertyValue("name",e);var i=this.legendDataItem;i&&(i.component.invalidate(),i.component.invalidateRawData()),this.readerTitle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemReaderText",{get:function(){var e=this._itemReaderText;return e||(this.tooltipText?e=Zd(this.tooltipText):this.tooltipHTML&&(e=Zd(this.tooltipHTML))),this._adapterO?this._adapterO.apply("itemReaderText",e):e},set:function(e){this._itemReaderText=e,this._itemReaderTextChanged=!0},enumerable:!0,configurable:!0}),t.prototype.itemsFocusable=function(){return!(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(e,i){if(this.legendDataItem){var r=this.legendSettings,a=this.legendDataItem,n=a.label,o=a.valueLabel;e&&!e.isDisposed()||i?(o&&(r.itemValueText&&(o.text=r.itemValueText),o.dataItem=e),n&&(r.itemLabelText&&(n.text=r.itemLabelText),n.dataItem=e)):(n&&((r.labelText||r.itemLabelText!=null)&&(n.text=r.labelText),n.dataItem=this.dataItem),o&&((r.valueText||r.itemValueText!=null)&&(o.text=r.valueText),o.dataItem=this.dataItem))}},t.prototype.copyFrom=function(e){this.bullets.copyFrom(e.bullets),this.bulletsContainer.copyFrom(e.bulletsContainer),this.calculatePercent=e.calculatePercent,this.usePercentHack=e.usePercentHack,this.simplifiedProcessing=e.simplifiedProcessing,s.prototype.copyFrom.call(this,e)},t.prototype.raiseCriticalError=function(e){this._chart&&this._chart.modal&&(this._chart.modal.content=this._chart.adapter.apply("criticalError",e).message,this._chart.modal.closable=!1,et.suppressErrors||this._chart.modal.open(),this._chart.disabled=!0),et.verbose&&console.log(e)},t.prototype.applyFilters=function(){var e=this;s.prototype.applyFilters.call(this),this.bulletsContainer.filters.clear(),ce(this.filters.iterator(),function(i){e.bulletsContainer.filters.push(i.clone())})},Object.defineProperty(t.prototype,"heatRules",{get:function(){var e=this;return this._heatRules||(this._heatRules=new gt,this._heatRules.events.on("inserted",function(i){var r=i.newValue,a=r.target;if(a){var n=r.dataField;V(n)||(n="value");var o=e.dataItem,l=r.property,u=Gt(r.minValue),h=Gt(r.maxValue);!I(u)&&!I(h)&&e.dataItem.events.on("calculatedvaluechanged",function(c){c.property==n&&ce(e.dataItems.iterator(),function(A){var d=!1;we(A.sprites,function(f){if(f.clonedFrom==a){var p=f;p[l]=p[l],d=!0}}),d||we(A.sprites,function(f){f instanceof Fe&&ce(f.children.iterator(),function(p){if(p.className==a.className){var m=p;m[l]=m[l]}else p instanceof Fe&&p.deepInvalidate()})})})}),e.dataItems.template.events.on("workingvaluechanged",function(c){if(c.property==n){var A=c.target,d=!1;we(A.sprites,function(f){if(f.clonedFrom==a){var p=f;p[l]=p[l],d=!0}}),d||we(A.sprites,function(f){f instanceof Fe&&ce(f.children.iterator(),function(p){if(p.className==a.className){var m=p;m[l]=m[l]}else p instanceof Fe&&p.deepInvalidate()})})}}),a.adapter.add(l,function(c,A,d){var f=Gt(r.minValue),p=Gt(r.maxValue),m=r.min,g=r.max;if(A instanceof ke){var y=A,x=y.propertyFields[d];if(x&&A.dataItem){var C=A.dataItem.dataContext;if(C&&V(C[x]))return c}}var S=A.dataItem;if(I(f)||(f=o.values[n].low),I(p)||(p=o.values[n].high),S){var P=S.values[n];if(P){var F=S.getActualWorkingValue(n);if(V(m)&&V(g)&&I(f)&&I(p)&&I(F)){var O=void 0;if(r.logarithmic?O=(Math.log(F)*Math.LOG10E-Math.log(f)*Math.LOG10E)/(Math.log(p)*Math.LOG10E-Math.log(f)*Math.LOG10E):O=(F-f)/(p-f),I(F)&&(!I(O)||Math.abs(O)==1/0)&&(O=.5),I(m))return m+(g-m)*O;if(m instanceof xt)return new xt(cc(m.rgb,g.rgb,O))}}}return c})}})),this._heatRules},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){var i;if(e){if(V(e.bullets)&&bi(e.bullets))for(var r=0,a=e.bullets.length;r<a;r++){var n=e.bullets[r];V(n.type)||(n.type="Bullet")}V(e.heatRules)&&bi(e.heatRules)&&(i=e.heatRules,delete e.heatRules)}if(s.prototype.processConfig.call(this,e),i){for(var r=0,a=i.length;r<a;r++){var o=i[r],l=this;if(V(o.target)&&ut(o.target))if(this.map.hasKey(o.target))l=this.map.getKey(o.target);else for(var u=o.target.split("."),h=0;h<u.length;h++)if(l instanceof gt){var c=l.getIndex(Gt(u[h]));c?l=c:l=l[u[h]]}else{var A=u[h].match(/^(.*)\[([0-9]+)\]/);A?l[A[1]]instanceof gt?l=l[A[1]].getIndex(Gt(A[2])):l=l[A[1]][Gt(A[2])]:l=l[u[h]]}o.target=l,V(o.min)&&(o.min=this.maybeColorOrPercent(o.min)),V(o.max)&&(o.max=this.maybeColorOrPercent(o.max))}s.prototype.processConfig.call(this,{heatRules:i})}},t.prototype.configOrder=function(e,i){return e==i?0:e=="heatRules"?1:i=="heatRules"?-1:s.prototype.configOrder.call(this,e,i)},t.prototype.setVisibility=function(e){s.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},t}(qa);M.registeredClasses.Series=cl;M.registeredClasses.SeriesDataItem=Cc;var dl=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._list=[],e._currentStep=0,e._startIndex=0,e._currentPass=0,e.baseColor=new xt({r:103,g:183,b:220}),e.stepOptions={},e.passOptions={brighten:-.2},e.step=1,e.minColors=20,e.minLightness=.2,e.maxLightness=.9,e.shuffle=!1,e.wrap=!0,e.reuse=!1,e.saturation=1,e.className="ColorSet",e.applyTheme(),e}return Object.defineProperty(t.prototype,"list",{get:function(){return this._list||this.generate(this.minColors),this._list},set:function(e){this._list=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.getReusableColor=function(e){if(this._list.length==0)return this.generate(1),this.list[0];var i=e-Math.floor(e/this._list.length)*this.list.length;return this.list[i]},t.prototype.next=function(){var e;return this.list.length<=this._currentStep?this.reuse?e=this.getReusableColor(this._currentStep):(this.generate(st(this.minColors,this._currentStep+1)),e=this.list[this._currentStep]):e=this.list[this._currentStep],this._currentStep+=this.step,e.saturate(this.saturation)},t.prototype.getIndex=function(e){var i;return this.list.length<=e?this.reuse?i=this.getReusableColor(e):(this.generate(this.minColors),i=this.getIndex(e)):i=this.list[e],i.saturate(this.saturation)},t.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(t.prototype,"currentStep",{get:function(){return this._currentStep},set:function(e){this._currentStep=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return this._startIndex},set:function(e){this._startIndex=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.generate=function(e){var i=this.currentColor,r=up(fi(i.rgb)),a=V(this.stepOptions.hue)?this.stepOptions.hue:1/e,n={brighten:0,lighten:0,hue:r.h,lightness:r.l,saturation:r.s},o=[],l=this.list.length==0?0:1;if(this.reuse)for(var u=l;u<=e;u++)o.push(up(fi(this._list[u].rgb)).h);else for(var u=l;u<=e;u++){var h=r.h+a*u;this.wrap&&h>1&&(h-=1),o.push(h)}this.shuffle&&o.sort(function(f,p){return Math.random()-.5});for(var u=0;u<e;u++){this.reuse?r=up(fi(this._list[u].rgb)):r.h=o.shift(),this.applyStepOptions(r,n,u,this._currentPass);var c=Ve(V_(r)),A=(this.stepOptions.brighten||0)*u+(this.passOptions.brighten||0)*this._currentPass;A!=0&&(this.wrap?A=fp(A,this.minLightness,this.maxLightness):A=Ap(A,this.minLightness,this.maxLightness),c=c.brighten(A));var d=(this.stepOptions.lighten||0)*u+(this.passOptions.lighten||0)*this._currentPass;d!=0&&(this.wrap?d=fp(d,this.minLightness,this.maxLightness):d=Ap(d,this.minLightness,this.maxLightness),c=c.lighten(d)),this._list.push(c)}this._currentPass++},Object.defineProperty(t.prototype,"currentColor",{get:function(){return this._list.length==0?this.baseColor.saturate(this.saturation):this._list[this._list.length-1].saturate(this.saturation)},enumerable:!0,configurable:!0}),t.prototype.applyStepOptions=function(e,i,r,a){e.l=i.lightness+(this.stepOptions.lightness||0)*r+(this.passOptions.lightness||0)*a,this.wrap?(e.l>1?e.l=e.l-Math.floor(e.l):e.l<0&&(e.l=-(e.l-Math.floor(e.l))),e.l=fp(e.l,this.minLightness,this.maxLightness)):(e.l>1?e.l=1:e.l<0&&(e.l=0),e.l=Ap(e.l,this.minLightness,this.maxLightness))},t.prototype.processConfig=function(e){if(e){if(V(e.list)&&bi(e.list))for(var i=0,r=e.list.length;i<r;i++)e.list[i]instanceof xt||(e.list[i]=Ve(e.list[i]));V(e.baseColor)&&!(e.baseColor instanceof xt)&&(e.baseColor=Ve(e.baseColor))}s.prototype.processConfig.call(this,e)},t}(Hi);M.registeredClasses.ColorSet=dl;var Lp=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="SerialChartDataItem",e.applyTheme(),e}return t}(Tp);var ql=function(s){N(t,s);function t(){var e=s.call(this)||this;e._exitDP={},e.className="SerialChart",e.colors=new dl,e._usesData=!1;var i=e.chartContainer.createChild(Fe);i.shouldClone=!1,i.width=ue(100),i.height=ue(100),i.isMeasured=!1,i.layout="none",i.zIndex=2,e.seriesContainer=i;var r=e.chartContainer.createChild(Fe);return r.shouldClone=!1,r.width=ue(100),r.height=ue(100),r.isMeasured=!1,r.zIndex=3,r.layout="none",e.bulletsContainer=r,e.applyTheme(),e}return t.prototype.dispose=function(){s.prototype.dispose.call(this),this.colors&&this.colors.dispose(),this.patterns&&this.patterns.dispose()},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Serial chart"))},Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new zt(this.createSeries()),this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1),this._disposers.push(new Tt(this._series,!1)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),t.prototype.handleSeriesRemoved=function(e){var i=e.oldValue;this.dataUsers.removeValue(i),this.dataUsers.each(function(u){u.invalidateDataItems()}),this._exitDP[i.uid]&&(this._exitDP[i.uid].dispose(),delete this._exitDP[i.uid]),i.autoDispose?i.dispose():(i.parent=void 0,i.bulletsContainer.parent=void 0);var r=this.legend;if(r){for(var a=this.legend.dataItems,n=a.length-1;n>=0;n--){var o=a.getIndex(n);o&&o.dataContext==i&&r.dataItems.remove(o)}for(var n=r.data.length-1;n>=0;n--){var l=r.data[n];l&&l==i&&Ye(r.data,l)}}},t.prototype.handleSeriesAdded=function(e){var i=this,r=e.newValue;r.isDisposed()||(r.chart=this,r.parent=this.seriesContainer,r.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(r),r.addDisposer(new Ft(function(){i.dataUsers.removeValue(r)})),this.handleSeriesAdded2(r),this.handleLegendSeriesAdded(r))},t.prototype.handleLegendSeriesAdded=function(e){e.hiddenInLegend||this.legend&&this.legend.addData(e)},t.prototype.handleSeriesAdded2=function(e){var i=this;this.dataInvalid||(this._exitDP[e.uid]=M.events.once("exitframe",function(){(!e.data||e.data.length==0)&&(e.data=i.data,e.showOnInit&&(e.reinit(),e.setPropertyValue("showOnInit",!1),e.showOnInit=!0),e.isDisposed()||e.events.once("datavalidated",function(){e.data==i.data&&(e._data=[])}))}),this._disposers.push(this._exitDP[e.uid]))},t.prototype.feedLegend=function(){var e=this.legend;if(e){var i=[];ce(this.series.iterator(),function(r){r.hiddenInLegend||i.push(r)}),e.dataFields.name="name",e.data=i}},t.prototype.createSeries=function(){return new cl},Object.defineProperty(t.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(e){this.setPropertyValue("patterns",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.series.copyFrom(e.series)},t.prototype.appear=function(){s.prototype.appear.call(this),this.series.each(function(e){e.showOnInit&&e.inited&&e.appear()})},t}(hl);M.registeredClasses.SerialChart=ql;var Us=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="Line",e.element=e.paper.add("line"),e.fill=Ve(),e.x1=0,e.y1=0,e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this),this.x1==this.x2||this.y1==this.y2?this.pixelPerfect=!0:this.pixelPerfect=!1,this.x1=this.x1,this.x2=this.x2,this.y1=this.y1,this.y2=this.y2},Object.defineProperty(t.prototype,"x1",{get:function(){return this.getPropertyValue("x1")},set:function(e){I(e)||(e=0);var i=0;this.pixelPerfect&&this.stroke instanceof hs&&(i=1e-5),this.setPropertyValue("x1",e,!0),this.element.attr({x1:e+i})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){var e=this.getPropertyValue("x2");return I(e)||(e=this.pixelWidth),e},set:function(e){I(e)||(e=0),this.setPropertyValue("x2",e,!0),this.element.attr({x2:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this.getPropertyValue("y1")},set:function(e){I(e)||(e=0);var i=0;this.pixelPerfect&&this.stroke instanceof hs&&(i=1e-5),this.setPropertyValue("y1",e,!0),this.element.attr({y1:e+i})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){var e=this.getPropertyValue("y2");return I(e)||(e=this.pixelHeight),e},set:function(e){I(e)||(e=0),this.setPropertyValue("y2",e,!0),this.element.attr({y2:e})},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var i={x:this.x1,y:this.y1},r={x:this.x2,y:this.y2},a=oc(i,r,e),n=nr(i,r);return{x:a.x,y:a.y,angle:n}},t}(ke);M.registeredClasses.Line=Us;var mn=function(){function s(t,e){this._tensionX=t,this._tensionY=e}return s.prototype.smooth=function(t){for(var e=t.length-1;e>0;e--){var i=t[e],r=t[e-1];Math.abs(i.x-r.x)<.1&&Math.abs(i.y-r.y)<.1&&t.splice(e-1,1)}var a=this._tensionX,n=this._tensionY;if(t.length<3||a>=1&&n>=1)return _c(t);var o=t[0],l=t[t.length-1],u=!1;ve(o.x,3)==ve(l.x)&&ve(o.y)==ve(l.y)&&(u=!0);for(var h="",e=0,c=t.length-1;e<c;e++){var i=t[e-1],r=t[e],A=t[e+1],d=t[e+2];e===0?u?i=t[t.length-2]:i=t[e]:e==t.length-2&&(u?d=t[1]:d=t[e+1]);var f=dy(i,r,A,d,a,n),p=Ay(i,r,A,d,a,n);h+=Zl(A,f,p)}return h},s}();function Bc(s,t,e,i,r,a){var n=s.x,o=s.y,l=t.x,u=t.y,h=Et(s,t);a&&(e=h/Math.round(h/e));var c=M.getCache(Py(["wavedLine",s.x,t.x,s.y,t.y,e,i]));if(!c){if(h>0){var A=Math.atan2(u-o,l-n),d=Math.cos(A),f=Math.sin(A),p=e*d,m=e*f;if(e<=1||i<=1)c=he(t);else{var g=Math.round(2*h/e),y=[],x=1;l<n&&(x*=-1),u<o&&(x*=-1);for(var C=0;C<=g;C++){x*=-1;var S=n+C*p/2+x*i/2*f,P=o+C*m/2-x*i/2*d;y.push({x:S,y:P})}c=new mn(r,r).smooth(y)}}else c="";M.setCache(Py(["wavedLine",s.x,t.x,s.y,t.y,e,i]),c)}return c}var yD=function(){function s(t,e){this._reversed=t,this._closed=e.closed}return s.prototype._curve=function(t,e,i,r,a,n){var o=(e-t)/3;return this._reversed?Zl({x:r,y:e},{x:i+o*a,y:t+o},{x:r-o*n,y:e-o}):Zl({x:e,y:r},{x:t+o,y:i+o*a},{x:e-o,y:r-o*n})},s.prototype.smooth=function(t){var e=this,i=NaN,r=NaN,a=NaN,n=NaN,o=NaN,l=0,u="";switch(we(t,function(h){var c=h.x,A=h.y;if(e._reversed){var d=c;c=A,A=d}var f=NaN;if(!(c===r&&A===n)){switch(l){case 0:l=1,e._reversed?u+=he({x:A,y:c}):u+=he({x:c,y:A});break;case 1:l=2;break;case 2:l=3,u+=e._curve(i,r,a,n,mD(i,r,a,n,f=gD(i,r,a,n,c,A)),f);break;default:u+=e._curve(i,r,a,n,o,f=gD(i,r,a,n,c,A));break}i=r,r=c,a=n,n=A,o=f}}),l){case 2:this._reversed?u+=he({x:n,y:r}):u+=he({x:r,y:n});break;case 3:u+=this._curve(i,r,a,n,o,mD(i,r,a,n,o));break}return this._closed&&(u+=_i()),u},s}();function pD(s){return s<0?-1:1}function mD(s,t,e,i,r){var a=t-s;return a?(3*(i-e)/a-r)/2:r}function gD(s,t,e,i,r,a){var n=t-s,o=r-t,l=(i-e)/(n||o<0&&-0),u=(a-i)/(o||n<0&&-0),h=(l*o+u*n)/(n+o);return(pD(l)+pD(u))*Math.min(Math.abs(l),Math.abs(u),.5*Math.abs(h))||0}var Iw=function(s){N(t,s);function t(e){return s.call(this,!1,e)||this}return t}(yD);var $w=function(s){N(t,s);function t(e){return s.call(this,!0,e)||this}return t}(yD);var iN=function(){function s(t){this._closed=t.closed}return s.prototype.smooth=function(t){var e=this,i=NaN,r=NaN,a=NaN,n=NaN,o=NaN,l=NaN,u=NaN,h=NaN,c=NaN,A=NaN,d=0,f="",p=function(g,y){f+=Zl({x:(i+4*r+g)/6,y:(l+4*u+y)/6},{x:(2*i+r)/3,y:(2*l+u)/3},{x:(i+2*r)/3,y:(l+2*u)/3})},m=function(g){var y=g.x,x=g.y;switch(d){case 0:d=1,e._closed?(a=y,h=x):f+=he({x:y,y:x});break;case 1:d=2,e._closed&&(n=y,c=x);break;case 2:if(d=3,e._closed){o=y,A=x,f+=_e({x:(i+4*r+y)/6,y:(l+4*u+x)/6});break}else f+=he({x:(5*i+r)/6,y:(5*l+u)/6});default:p(y,x);break}i=r,r=y,l=u,u=x};if(we(t,m),this._closed)switch(d){case 1:f+=_e({x:a,y:h}),f+=_i();break;case 2:f+=_e({x:(a+2*n)/3,y:(h+2*c)/3}),f+=he({x:(n+2*a)/3,y:(c+2*h)/3}),f+=_i();break;case 3:m({x:a,y:h}),m({x:n,y:c}),m({x:o,y:A});break}else{switch(d){case 3:p(r,u);case 2:f+=he({x:r,y:u});break}f+=_i()}return f},s}();var vo=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="WavedLine",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.tension=.8,e.pixelPerfect=!1,e.fill=Ve(),e.applyTheme(),e}return t.prototype.draw=function(){var e={x:this.x1,y:this.y1},i={x:this.x2,y:this.y2};this.path=_e(e)+Bc(e,i,this.waveLength,this.waveHeight,this.tension,!0)},Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),t}(Us);var lh=function(s){N(t,s);function t(){var e=s.call(this)||this;e._axis=new Ci,e.dataItems=new gt,e.className="AxisBreak",e.breakSize=.01,e.marginLeft=-5,e.marginRight=-5,e.marginTop=-5,e.marginBottom=-5;var i=new ze,r=new vo;r.fill=i.getFor("background"),r.stroke=Ve(),r.fillOpacity=.9,r.zIndex=0,e._fillShape=r;var a=new vo;a.fill=Ve(),a.stroke=i.getFor("grid"),a.strokeOpacity=.3,a.zIndex=1,e._startLine=a;var n=new vo;return n.fill=Ve(),n.stroke=Ve("#000000"),n.strokeOpacity=.3,n.zIndex=2,e._endLine=n,e._disposers.push(e._axis),e.applyTheme(),e}return t.prototype.dispose=function(){s.prototype.dispose.call(this),this._fillShape&&this._fillShape.dispose(),this._startLine&&this._startLine.dispose(),this._endLine&&this._endLine.dispose()},Object.defineProperty(t.prototype,"startLine",{get:function(){return this._startLine},set:function(e){this._startLine&&this._startLine.dispose(),this._startLine=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLine",{get:function(){return this._endLine},set:function(e){this._endLine&&this._endLine.dispose(),this._endLine=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShape",{get:function(){return this._fillShape},set:function(e){this._fillShape&&this._fillShape.dispose(),this._fillShape=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),t.prototype.addBreakSprite=function(e){e.parent=this,e.isMeasured=!1,this._disposers.push(e)},Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis.get()},set:function(e){if(this._axis.get()!==e){this._axis.set(e,e.renderer.gridContainer.events.on("transformed",this.invalidate,this,!1)),e.renderer.createBreakSprites(this);var i=e.axisBreaks.template;this.startLine.copyFrom(i.startLine),this.endLine.copyFrom(i.endLine),this.fillShape.copyFrom(i.fillShape)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"breakSize",{get:function(){return this.getPropertyValue("breakSize")},set:function(e){this.setPropertyValue("breakSize",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPoint",{get:function(){var e=this.axis.renderer;if(e)return e.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPoint",{get:function(){var e=this.axis.renderer;if(e)return e.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPosition",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.draw=function(){if(s.prototype.draw.call(this),this.axis){var e=this.axis.renderer;e.updateBreakElement(this)}},Object.defineProperty(t.prototype,"startValue",{get:function(){return this.getPropertyValue("startValue")},set:function(e){this.setPropertyValue("startValue",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){return this.getPropertyValue("endValue")},set:function(e){this.setPropertyValue("endValue",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),t}(Fe);M.registeredClasses.AxisBreak=lh;var Jl=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="AxisDataItem",e.applyTheme(),e}return Object.defineProperty(t.prototype,"grid",{get:function(){if(!this._grid){var e=this.component;if(e){var i=void 0,r;if(this.isRange){if(i=e.axisRanges.template.grid,i.disabled)return;r=i.clone()}else{if(i=e.renderer.grid.template,i.disabled)return;r=e.renderer.grid.create(),this._disposers.push(new Ft(function(){e.renderer.grid.removeValue(r)}))}this.grid=r,r.shouldClone=!1,this._disposers.push(r),r.axis=this.component}}return this._grid},set:function(e){this._grid&&this._grid!=e&&(Ye(this.sprites,this._grid),this._grid.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Ye(e.dataItem.sprites,e),e.dataItem.grid=void 0),this.addSprite(e)),this._grid=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tick",{get:function(){if(!this._tick){var e=this.component;if(e){var i=void 0,r;if(this.isRange){if(i=e.axisRanges.template.tick,i.disabled)return;r=i.clone()}else{if(i=e.renderer.ticks.template,i.disabled)return;r=e.renderer.ticks.create(),this._disposers.push(new Ft(function(){e.renderer.ticks.removeValue(r)}))}this.tick=r,r.axis=this.component,r.shouldClone=!1,this._disposers.push(r)}}return this._tick},set:function(e){this._tick&&this._tick!=e&&(Ye(this.sprites,this._tick),this._tick.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Ye(e.dataItem.sprites,e),e.dataItem.tick=void 0),this.addSprite(e)),this._tick=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){if(!this._label){var e=this.component;if(e){var i=void 0,r;if(this.isRange){if(i=e.axisRanges.template.label,i.disabled)return;r=i.clone()}else{if(i=e.renderer.labels.template,i.disabled)return;r=e.renderer.labels.create(),this._disposers.push(new Ft(function(){e.renderer.labels.removeValue(r)}))}this._disposers.push(r),this.label=r,r.shouldClone=!1,r.axis=this.component,r.virtualParent=e}}return this._label},set:function(e){this._label&&this._label!=e&&(Ye(this.sprites,this._label),this._label.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Ye(e.dataItem.sprites,e),e.dataItem.label=void 0),this.addSprite(e)),this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisFill",{get:function(){if(!this._axisFill){var e=this.component;if(e){var i=void 0,r;if(this.isRange){if(i=e.axisRanges.template.axisFill,!this.isTemplate&&i.disabled)return;r=i.clone()}else{if(i=e.renderer.axisFills.template,i.disabled)return;r=e.renderer.axisFills.create(),this._disposers.push(new Ft(function(){e.renderer.axisFills.removeValue(r)}))}this.axisFill=r,r.shouldClone=!1,this._disposers.push(r)}}return this._axisFill},set:function(e){this._axisFill&&this._axisFill!=e&&(Ye(this.sprites,this._axisFill),this._axisFill.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Ye(e.dataItem.sprites,e),e.dataItem.axisFill=void 0),e.axis=this.component,this.addSprite(e)),this._axisFill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._text=e,this._label&&(this._label.text=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contents",{get:function(){if(!this._contents){var e=new Fe;this.addSprite(e),e.isMeasured=!1,this._contents=e;var i=this.component;if(i){var r=i.renderer.createFill(this.component);r.disabled=!1,r.axis=i,this.addSprite(r),this._mask=r,e.mask=r}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisBreak",{get:function(){return this._axisBreak},set:function(e){this._axisBreak&&this._axisBreak.dataItems.removeValue(this),e&&e.dataItems.push(this),this._axisBreak=e},enumerable:!0,configurable:!0}),t.prototype.validate=function(){this.component&&this.component.validateDataElement(this)},t.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this)},t.prototype.hasProperty=function(e){return e=="component"?!0:s.prototype.hasProperty.call(this,e)},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.text=e.text,e.bullet&&(this.bullet=e.bullet.clone()),this.minPosition=e.minPosition,this.maxPosition=e.maxPosition},t.prototype.setVisibility=function(e,i){s.prototype.setVisibility.call(this,e,i),this._contents&&(this._contents.visible=e)},Object.defineProperty(t.prototype,"bullet",{get:function(){return this._bullet},set:function(e){this._bullet&&this._bullet!=e&&(Ye(this.sprites,this._bullet),this._bullet.dataItem=void 0),this._bullet=e,e&&this.addSprite(e)},enumerable:!0,configurable:!0}),t}(Za);var bD;(function(s){s[s.Start=0]="Start",s[s.Middle=.5]="Middle",s[s.End=1]="End"})(bD||(bD={}));var Sc=function(s){N(t,s);function t(){var e=s.call(this)||this;if(e._gridCount=10,e._series=new gt,e.autoDispose=!0,e._axisItemCount=0,e.constructor===t)throw new Error("'Axis' cannot be instantiated directly. Please use a specific axis type.");e.hideTooltipWhileZooming=!0,e.minWidth=1e-4,e.minHeight=1e-4,e.className="Axis",e.shouldClone=!1,e.setPropertyValue("cursorTooltipEnabled",!0),e.toggleZoomOutButton=!0,e.zoomable=!0;var i=new ze;e.title=new Ei,e.title.shouldClone=!1,e._disposers.push(e.title),e.setPropertyValue("startLocation",0),e.setPropertyValue("endLocation",1),e._dataItemsIterator=new hc(e.dataItems,function(){return e.dataItems.create()}),e._dataItemsIterator.createNewItems=!0;var r=new go;e._disposers.push(r),r.label.padding(5,10,5,10),r.background.pointerLength=5,r.fitPointerToBounds=!0,r.background.filters.clear(),r.virtualParent=e;var a=r.background;return a.cornerRadius=0,a.fill=i.getFor("alternativeBackground"),a.stroke=a.fill,a.strokeWidth=1,a.fillOpacity=1,r.label.fill=i.getFor("alternativeText"),e.tooltip=r,e.readerHidden=!0,e.events.on("rangechangestarted",function(){e.series.each(function(n){n.hideTooltipWhileZooming&&(n.tooltip.hide(),n.tooltip.preventShow=!0)}),e.hideTooltipWhileZooming&&(e.tooltip.hide(),e.tooltip.preventShow=!0)},void 0,!1),e.events.on("rangechangeended",function(){e.series.each(function(n){n.hideTooltipWhileZooming&&(n.tooltip.hide(),n.tooltip.preventShow=!1)}),e.hideTooltipWhileZooming&&(e.tooltip.hide(),e.tooltip.preventShow=!1)},void 0,!1),e.applyTheme(),e}return t.prototype.fillRule=function(e,i){I(i)||(i=e.index),i/2==Math.round(i/2)?(e.axisFill.__disabled=!0,e.axisFill.opacity=0):(e.axisFill.opacity=1,e.axisFill.__disabled=!1)},t.prototype.createDataItem=function(){return new Jl},t.prototype.invalidateLayout=function(){s.prototype.invalidateLayout.call(this),ce(this.series.iterator(),function(e){e.invalidateLayout()})},t.prototype.invalidateSeries=function(){ce(this.series.iterator(),function(e){e.invalidate()})},t.prototype.validateDataElements=function(){this._axisItemCount=0,this.ghostLabel&&(this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end),this.ghostLabel.validate())},t.prototype.updateGridCount=function(){if(this.renderer){var e=this.axisLength/this.renderer.minGridDistance;e!=this._gridCount&&(this._gridCount=e,this.clearCache())}},t.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start),s.prototype.validateLayout.call(this),this.updateGridCount();var e=this.renderer;e&&(e.updateAxisLine(),e.updateTooltip(),e.updateBaseGridElement()),this._prevLength!=this.axisLength&&(this.dispatchImmediately("lengthchanged"),this._prevLength=this.axisLength)},t.prototype.initRenderer=function(){},t.prototype.appendDataItem=function(e){var i=this.renderer,r=e.tick;r&&(r.above?r.parent=i.bulletsContainer:r.parent=i.gridContainer),e.label&&(e.label.parent=i);var a=e.axisFill;a&&(a.above?a.parent=i.bulletsContainer:a.parent=i.gridContainer);var n=e.grid;n&&(n.above?n.parent=i.bulletsContainer:n.parent=i.gridContainer),e.bullet&&(e.bullet.parent=i.bulletsContainer)},t.prototype.validate=function(){s.prototype.validate.call(this),this.validateLayout(),this.renderer.updateGridContainer()},t.prototype.validateAxisRanges=function(){var e=this;ce(this.axisRanges.iterator(),function(i){e.appendDataItem(i),e.validateDataElement(i),i.grid&&i.grid.validate(),i.tick&&i.tick.validate(),i.axisFill&&i.axisFill.validate(),i.label&&i.label.validate()})},t.prototype.validateBreaks=function(){this._axisBreaks&&ce(this._axisBreaks.iterator(),function(e){e.invalidate()})},t.prototype.processBreak=function(e){var i=e.newValue;i.parent=this.renderer.breakContainer,i.axis=this},t.prototype.registerSeries=function(e){var i=this;return this.series.moveValue(e),new Vt([new Ft(function(){i.series.removeValue(e)}),this.events.on("lengthchanged",e.invalidate,e,!1),this.events.on("lengthchanged",e.createMask,e,!1),this.events.on("startchanged",e.invalidate,e,!1),this.events.on("endchanged",e.invalidate,e,!1)])},Object.defineProperty(t.prototype,"renderer",{get:function(){return this._renderer},set:function(e){if(e!=this._renderer){this._renderer=e,e.chart=this.chart,e.axis=this,e.parent=this,this.title.parent=this,this.initRenderer(),this._disposers.push(e.gridContainer.events.on("maxsizechanged",this.invalidate,this,!1));var i=this.renderer.labels.create();this._disposers.push(i),i.dataItem=this.dataItems.template.clone(),i.text="L",i.parent=this.renderer,i.shouldClone=!1,i.fillOpacity=0,i.opacity=0,i.strokeOpacity=0,i.interactionsEnabled=!1,i.validate(),this.ghostLabel=i,this.events.on("beforedatavalidated",function(){i.text="L"},void 0,!1)}},enumerable:!0,configurable:!0}),t.prototype.positionToAngle=function(e){return this.renderer.positionToAngle(e)},t.prototype.pointToPosition=function(e){return this.renderer.pointToPosition(e)},t.prototype.positionToCoordinate=function(e){return this.renderer.positionToCoordinate(e)},t.prototype.getAnyRangePath=function(e,i){return this.renderer.getPositionRangePath(e,i)},t.prototype.anyToPosition=function(e){return 0},t.prototype.anyToPoint=function(e){return{x:0,y:0,angle:0}},t.prototype.getPositionRangePath=function(e,i){return this.renderer?this.renderer.getPositionRangePath(e,i):""},Object.defineProperty(t.prototype,"axisLength",{get:function(){return this.renderer?this.renderer.axisLength:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(e){this.setPropertyValue("cursorTooltipEnabled",e)&&(e&&this.renderer?this.renderer.updateTooltip():this.tooltip&&this.tooltip.hide(0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toggleZoomOutButton",{get:function(){return this.getPropertyValue("toggleZoomOutButton")},set:function(e){this.setPropertyValue("toggleZoomOutButton",e)},enumerable:!0,configurable:!0}),t.prototype.hideTooltip=function(e){s.prototype.hideTooltip.call(this,e),this._tooltipPosition=void 0},t.prototype.showTooltipAtPosition=function(e,i){var r=this._tooltip;if(!r||this.dataItems.length<=0)this._tooltipPosition=void 0;else{if(i||(e=this.toAxisPosition(e)),!I(e)||e<this.start||e>this.end){r.hide(0),this._tooltipPosition=void 0;return}var a=this.renderer;r.parent||(r.parent=this.tooltipContainer);var n=a.tooltipLocation,o=this.getCellStartPosition(e),l=this.getCellEndPosition(e);if(this.tooltipPosition=="fixed"&&(e=o+(l-o)*n),e=De(e,this.start,this.end),this._tooltipPosition!=e){this._tooltipPosition=e;var u=a.tooltipLocation2,h=a.positionToPoint(o,u),c=a.positionToPoint(l,u);this.currentItemStartPoint=h,this.currentItemEndPoint=c,a.fullWidthTooltip&&(r.width=c.x-h.x,r.height=c.y-h.y);var A=a.positionToPoint(e,u),d=sa(A,this.renderer.line);r.text=this.getTooltipText(e),r.text&&(r.delayedPointTo(d),r.show())}(!this.cursorTooltipEnabled||this.tooltip.disabled)&&r.hide(0)}},t.prototype.toAxisPosition=function(e){if(e=this.renderer.toAxisPosition(e),e!=null)return e=e*(this.end-this.start),this.renderer.inversed?e=this.end-e:e=this.start+e,e},t.prototype.toGlobalPosition=function(e){return this.renderer.inversed?e=this.end-e:e=e-this.start,e/(this.end-this.start)},t.prototype.getTooltipText=function(e){},t.prototype.updateTooltip=function(e,i){var r=this._tooltip;r&&(r.fixDoc=!1,r.pointerOrientation=e,r.setBounds(gc(i,this.renderer.line)))},t.prototype.roundPosition=function(e,i,r){return e},t.prototype.getCellStartPosition=function(e){return e},t.prototype.getCellEndPosition=function(e){return e},Object.defineProperty(t.prototype,"axisRanges",{get:function(){if(!this._axisRanges){var e=this.createDataItem();e.isRange=!0,e.axisFill=this.renderer.axisFills.template.clone(),e.grid=this.renderer.grid.template.clone(),e.tick=this.renderer.ticks.template.clone(),e.label=this.renderer.labels.template.clone(),e.isTemplate=!0,e.component=this,e.axisFill.disabled=!1,e.tick.disabled=!1,e.grid.disabled=!1,e.label.disabled=!1,this._axisRanges=new zt(e),this._axisRanges.events.on("inserted",this.processAxisRange,this,!1),this._disposers.push(new Tt(this._axisRanges)),this._disposers.push(this._axisRanges.template)}return this._axisRanges},enumerable:!0,configurable:!0}),t.prototype.processAxisRange=function(e){var i=e.newValue;i.component=this,i.isRange=!0},Object.defineProperty(t.prototype,"axisBreaks",{get:function(){return this._axisBreaks||(this._axisBreaks=new op(this.createAxisBreak(),function(e,i){return La(e.adjustedStartValue,i.adjustedStartValue)}),this._axisBreaks.events.on("inserted",this.processBreak,this,!1),this._disposers.push(new Tt(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),t.prototype.createAxisBreak=function(){return new lh},Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new gt),this._series},enumerable:!0,configurable:!0}),t.prototype.processSeriesDataItems=function(){},t.prototype.processSeriesDataItem=function(e,i){},t.prototype.postProcessSeriesDataItems=function(e){},t.prototype.postProcessSeriesDataItem=function(e){},t.prototype.updateAxisBySeries=function(){},t.prototype.hideUnusedDataItems=function(){var e=this,i=this._dataItemsIterator;i.createNewItems=!1,ce(i.iterator(),function(r){e.validateDataElement(r),r.__disabled=!0}),i.clear(),i.createNewItems=!0},t.prototype.getSeriesDataItem=function(e,i,r){},t.prototype.getAngle=function(e,i,r,a,n){},t.prototype.getX=function(e,i,r,a,n){},t.prototype.getPositionX=function(e,i,r,a,n){},t.prototype.getY=function(e,i,r,a,n){},t.prototype.getPositionY=function(e,i,r,a,n){},Object.defineProperty(t.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),t.prototype.dataChangeUpdate=function(){},t.prototype.seriesDataChangeUpdate=function(e){},t.prototype.adjustDifference=function(e,i){var r=i-e;if(I(r))return this._axisBreaks&&Qr(this._axisBreaks.iterator(),function(a){var n=a.adjustedStartValue,o=a.adjustedEndValue;if(I(n)&&I(o)){if(n>i)return!1;if(o>=e&&I(n)&&I(o)){var l=a.breakSize,u=AT({start:n,end:o},{start:e,end:i});u&&(r-=(u.end-u.start)*(1-l))}return!0}}),r},t.prototype.isInBreak=function(e){if(this._axisBreaks)return LT(this._axisBreaks.iterator(),function(i){return e>=i.adjustedStartValue&&e<=i.adjustedEndValue})},t.prototype.fixAxisBreaks=function(){var e=this;if(this._axisBreaks){var i=this._axisBreaks;if(i.length>0){we(uc(i.iterator()),function(n){var o=dt(n.startValue,n.endValue),l=st(n.startValue,n.endValue);n.adjustedStartValue=o,n.adjustedEndValue=l,e._axisBreaks.update(n)});var r=i.first,a=Math.min(r.startValue,r.endValue);ce(i.iterator(),function(n){var o=n.adjustedStartValue,l=n.adjustedEndValue;o<a&&(o=a,l<a&&(l=a)),n.adjustedStartValue=o,n.adjustedEndValue=l})}}},Object.defineProperty(t.prototype,"startIndex",{get:function(){return 0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endIndex",{get:function(){return this.dataItems.length},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.getPositionLabel=function(e){return Math.round(e*100)+"%x"},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e},enumerable:!0,configurable:!0}),t.prototype.createSeriesRange=function(e){var i=this.axisRanges.create();return i.component=this,i.axisFill=this.renderer.axisFills.template.clone(),i.axisFill.disabled=!1,i.axisFill.fillOpacity=0,i.grid=this.renderer.grid.template.clone(),i.grid.disabled=!0,i.tick=this.renderer.ticks.template.clone(),i.tick.disabled=!0,i.label=this.renderer.labels.template.clone(),i.label.disabled=!0,i.addDisposer(new Ft(function(){e.axisRanges.removeValue(i)})),e.axisRanges.push(i),i},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.renderer?this.renderer.copyFrom(e.renderer):e.renderer&&(this.renderer=e.renderer.clone(),this._disposers.push(this.renderer)),e.title&&(this.title?this.title.copyFrom(e.title):(this.title=e.title.clone(),this.title.parent=this),this._disposers.push(this.title))},t.prototype.resetIterators=function(){this._dataItemsIterator.reset()},t.prototype.processConfig=function(e){if(e&&V(e.axisRanges)&&bi(e.axisRanges))for(var i=0,r=e.axisRanges.length;i<r;i++){var a=e.axisRanges[i];V(a.series)&&ut(a.series)&&this.map.hasKey(a.series)&&(e.axisRanges[i]=this.createSeriesRange(this.map.getKey(a.series)),delete a.series,e.axisRanges[i].config=a)}s.prototype.processConfig.call(this,e)},t.prototype.configOrder=function(e,i){return e==i?0:e=="title"?1:i=="title"||e=="component"?-1:i=="component"?1:s.prototype.configOrder.call(this,e,i)},Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=s.prototype.setDisabled.call(this,e);return this.renderer&&(this.renderer.gridContainer.disabled=e),i},Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){this._title&&this._title!=e&&this._title.dispose(),e&&(this._title=e,e.parent=this,e.shouldClone=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(e){this.setPropertyValue("hideTooltipWhileZooming",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomable",{get:function(){return this.getPropertyValue("zoomable")},set:function(e){this.setPropertyValue("zoomable",e)},enumerable:!0,configurable:!0}),t}(qa);M.registeredClasses.Axis=Sc;M.registeredClasses.AxisDataItem=Jl;Ji.push({relevant:lr.maybeXS,state:function(s,t){if(s instanceof Sc&&s.tooltip){var e=s.states.create(t);return e.properties.cursorTooltipEnabled=!1,e}return null}});var Xy=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="AxisLine",e.element=e.paper.add("path");var i=new ze;return e.stroke=i.getFor("grid"),e.strokeOpacity=.15,e.pixelPerfect=!0,e.fill=Ve(),e.applyTheme(),e.interactionsEnabled=!1,e}return t}(ke);M.registeredClasses.AxisLine=Xy;var uh=function(s){N(t,s);function t(e){var i=s.call(this)||this;i.axis=e,i.element=i.paper.add("path"),i.className="AxisFill",i.isMeasured=!1,i.location=0,i.above=!1;var r=new ze;return i.fill=r.getFor("alternativeBackground"),i.fillOpacity=0,i.applyTheme(),i}return t.prototype.setDisabled=function(e){var i=s.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t.prototype.draw=function(){s.prototype.draw.call(this),!(this.__disabled||this.disabled)&&this.axis&&I(this.startPosition)&&I(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath,this.isMeasured&&this.measure())},Object.defineProperty(t.prototype,"startPosition",{get:function(){return this.getPropertyValue("startPosition")},set:function(e){this.setPropertyValue("startPosition",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){return this.getPropertyValue("endPosition")},set:function(e){this.setPropertyValue("endPosition",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setPath=function(e){return this.setPropertyValue("path",e)?(this.element.attr({d:e}),!0):!1},Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),t}(ke);M.registeredClasses.AxisFill=uh;var hh=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="Grid",e.element=e.paper.add("path"),e.location=.5,e.isMeasured=!1,e.above=!1;var i=new ze;return e.stroke=i.getFor("grid"),e.pixelPerfect=!0,e.strokeOpacity=.15,e.fill=Ve(),e.applyTheme(),e}return Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=s.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t}(ke);M.registeredClasses.Grid=hh;Ji.push({relevant:lr.maybeXS,state:function(s,t){if(s instanceof hh){var e=s.states.create(t);return e.properties.disabled=!0,e}return null}});var Al=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="AxisLabel",e.isMeasured=!1,e.padding(10,10,10,10),e.location=.5,e.applyTheme(),e}return Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=s.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t}(Ei);M.registeredClasses.AxisLabel=Al;var fl=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="Tick";var i=new ze;return e.fillOpacity=0,e.length=6,e.strokeOpacity=.2,e.stroke=i.getFor("grid"),e.isMeasured=!1,e.nonScalingStroke=!0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"length",{get:function(){return this.disabled?0:this.getPropertyValue("length")},set:function(e){this.setPropertyValue("length",e,!0)},enumerable:!0,configurable:!0}),t}(ke);M.registeredClasses.Tick=fl;var Wy=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="AxisTick",e.element=e.paper.add("path"),e.location=.5,e.above=!1,e.isMeasured=!1,e.pixelPerfect=!0,e.strokeOpacity=0,e.length=5,e.applyTheme(),e}return Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=s.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t}(fl);M.registeredClasses.AxisTick=Wy;var ch=function(s){N(t,s);function t(){var e=s.call(this)||this;e._chart=new Ci,e.className="AxisRenderer",e.minGridDistance=50,e.inside=!1,e.inversed=!1,e.tooltipLocation=.5,e.fullWidthTooltip=!1,e.cellStartLocation=0,e.cellEndLocation=1,e.minLabelPosition=0,e.maxLabelPosition=1,e.shouldClone=!1;var i=e.createChild(Fe);i.shouldClone=!1,i.layout="none",i.virtualParent=e,i.width=ue(100),i.height=ue(100),e.gridContainer=i,i.events.on("maxsizechanged",function(){e.inited&&e.invalidateAxisItems()},e,!1);var r=e.createChild(Fe);r.shouldClone=!1,r.isMeasured=!1,r.layout="none",r.width=ue(100),r.height=ue(100),e.breakContainer=r;var a=e.createChild(Fe);a.shouldClone=!1,a.isMeasured=!1,a.layout="none",a.width=ue(100),a.height=ue(100),e.bulletsContainer=a,e.line=e.createChild(Xy),e.line.shouldClone=!1,e.line.strokeOpacity=0;var n=e.createChild(hh);n.shouldClone=!1,e.baseGrid=n;var o=e._disposers;return o.push(n),o.push(e.line),o.push(i),o.push(r),o.push(a),o.push(e._chart),e.ticks.template.disabled=!0,e.axisFills.template.disabled=!0,e.axisFills.template.interactionsEnabled=!1,e.applyTheme(),e}return Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis},set:function(e){this.setAxis(e)},enumerable:!0,configurable:!0}),t.prototype.setAxis=function(e){this._axis=e,this.baseGrid.parent=e,this.line.parent=e,this.gridContainer.bind("opacity",e)},t.prototype.processRenderer=function(){this.events.on("sizechanged",this.updateTooltip,this,!1),this.events.on("positionchanged",this.updateTooltip,this,!1),this.labels.template.inside=this.inside,this.ticks.template.inside=this.inside},t.prototype.updateTooltip=function(){},Object.defineProperty(t.prototype,"axisLength",{get:function(){return 0},enumerable:!0,configurable:!0}),t.prototype.positionItem=function(e,i){e&&e.moveTo(i)},t.prototype.positionToPoint=function(e,i){return{x:0,y:0}},t.prototype.positionToAngle=function(e){return 0},t.prototype.positionToCoordinate=function(e){var i,r=this.axis,a=r.axisFullLength;return r.renderer.inversed?i=(r.end-e)*a:i=(e-r.start)*a,i},t.prototype.updateGridContainer=function(){},t.prototype.getHeight=function(){var e=this.gridContainer;return e.parent?e.parent.pixelHeight:this.gridContainer.pixelHeight||0},t.prototype.getWidth=function(){var e=this.gridContainer;return e.parent?e.parent.pixelWidth:this.gridContainer.pixelWidth||0},t.prototype.coordinateToPosition=function(e,i){var r,a=this.axis,n=a.axisFullLength;return a.renderer.inversed?r=a.end-e/n:r=e/n+a.start,ve(r,5)},t.prototype.pointToPosition=function(e){return 0},t.prototype.getPositionRangePath=function(e,i){return""},t.prototype.invalidateAxisItems=function(){var e=this.axis;e&&e.invalidateDataItems()},t.prototype.updateGridElement=function(e,i,r){},t.prototype.updateTickElement=function(e,i,r){},t.prototype.updateBullet=function(e,i,r){},t.prototype.updateLabelElement=function(e,i,r,a){},t.prototype.updateFillElement=function(e,i,r){e.startPosition=i,e.endPosition=r},t.prototype.updateAxisLine=function(){},t.prototype.updateBaseGridElement=function(){},t.prototype.updateBreakElement=function(e){this.positionItem(e.startLine,e.startPoint),this.toggleVisibility(e.startLine,e.startPosition,0,1),this.positionItem(e.endLine,e.endPoint),this.toggleVisibility(e.endLine,e.endPosition,0,1)},Object.defineProperty(t.prototype,"minGridDistance",{get:function(){return this.getPropertyValue("minGridDistance")},set:function(e){this.setPropertyValue("minGridDistance",e)&&this.axis&&this.axis.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.set(e,null)},enumerable:!0,configurable:!0}),t.prototype.toggleVisibility=function(e,i,r,a){var n=this.axis,o=e.dataItem;o&&o instanceof Jl&&(I(o.minPosition)&&(r=o.minPosition),I(o.maxPosition)&&(a=o.maxPosition));var l=n.start+(n.end-n.start)*(r-1e-4),u=n.start+(n.end-n.start)*(a+1e-4);e.disabled||(i<l||i>u?e.__disabled=!0:e.__disabled=!1)},t.prototype.createBreakSprites=function(e){},Object.defineProperty(t.prototype,"axisFills",{get:function(){if(!this._axisFills){var e=this.createFill(this.axis);this._axisFills=new zt(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new Tt(this._axisFills)),this._disposers.push(this._axisFills.template)}return this._axisFills},enumerable:!0,configurable:!0}),t.prototype.createFill=function(e){return new uh(e)},Object.defineProperty(t.prototype,"grid",{get:function(){if(!this._grid){var e=this.createGrid();this._grid=new zt(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new Tt(this._grid)),this._disposers.push(this._grid.template)}return this._grid},enumerable:!0,configurable:!0}),t.prototype.createGrid=function(){return new hh},Object.defineProperty(t.prototype,"ticks",{get:function(){if(!this._ticks){var e=this.createTick();e.applyOnClones=!0,e.isMeasured=!1,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._ticks=new zt(e),this._disposers.push(new Tt(this._ticks)),this._disposers.push(this._ticks.template)}return this._ticks},enumerable:!0,configurable:!0}),t.prototype.createTick=function(){return new Wy},Object.defineProperty(t.prototype,"labels",{get:function(){if(!this._labels){var e=this.createLabel();this._labels=new zt(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new Tt(this._labels)),this._disposers.push(this._labels.template)}return this._labels},enumerable:!0,configurable:!0}),t.prototype.createLabel=function(){return new Al},Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e)&&this.axis&&this.axis.invalidate(),e?(this.width=0,this.height=0):(this.width=void 0,this.height=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opposite",{get:function(){return this.getPropertyValue("opposite")},set:function(e){this.setPropertyValue("opposite",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWidthTooltip",{get:function(){return this.getPropertyValue("fullWidthTooltip")},set:function(e){this.setPropertyValue("fullWidthTooltip",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(e){this.setPropertyValue("tooltipLocation",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation2",{get:function(){return this.getPropertyValue("tooltipLocation2")},set:function(e){this.setPropertyValue("tooltipLocation2",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellStartLocation",{get:function(){return this.getPropertyValue("cellStartLocation")},set:function(e){this.setPropertyValue("cellStartLocation",e)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellEndLocation",{get:function(){return this.getPropertyValue("cellEndLocation")},set:function(e){this.setPropertyValue("cellEndLocation",e)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(e){this.setPropertyValue("inversed",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minLabelPosition",{get:function(){return this.getPropertyValue("minLabelPosition")},set:function(e){this.setPropertyValue("minLabelPosition",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxLabelPosition",{get:function(){return this.getPropertyValue("maxLabelPosition")},set:function(e){this.setPropertyValue("maxLabelPosition",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.grid.template.copyFrom(e.grid.template),this.ticks.template.copyFrom(e.ticks.template),this.labels.template.copyFrom(e.labels.template),this.axisFills.template.copyFrom(e.axisFills.template),this.line.copyFrom(e.line),this.baseGrid.copyFrom(e.baseGrid)},t.prototype.toAxisPosition=function(e){return e},t.prototype.setVisibility=function(e){s.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},t}(Fe);M.registeredClasses.AxisRenderer=ch;var Ip=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="WavedRectangle",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.tension=.8,e.setPropertyValue("wavedLeft",!0),e.setPropertyValue("wavedRight",!0),e.setPropertyValue("wavedTop",!0),e.setPropertyValue("wavedBottom",!0),e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.pixelWidth,i=this.pixelHeight;if(e>0&&i>0){var r={x:0,y:0},a={x:e,y:0},n={x:e,y:i},o={x:0,y:i},l=Math.min(e,this.waveLength),u=Math.min(i,this.waveHeight),h=Math.min(i,this.waveLength),c=Math.min(e,this.waveHeight),A="",d="",f="",p="";this.wavedTop&&(A=Bc(r,a,l,u,this.tension,!0)),this.wavedRight&&(d=Bc(a,n,h,c,this.tension,!0)),this.wavedBottom&&(f=Bc(n,o,l,u,this.tension,!0)),this.wavedLeft&&(p=Bc(o,r,h,c,this.tension,!0)),this.path=_e(r)+A+he(a)+d+he(n)+f+he(o)+p+"z"}},Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.setWavedSides=function(e,i,r,a){this.wavedTop=e,this.wavedRight=i,this.wavedBottom=r,this.wavedLeft=a},Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedRight",{get:function(){return this.getPropertyValue("wavedRight")},set:function(e){this.setPropertyValue("wavedRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedLeft",{get:function(){return this.getPropertyValue("wavedLeft")},set:function(e){this.setPropertyValue("wavedLeft",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedTop",{get:function(){return this.getPropertyValue("wavedTop")},set:function(e){this.setPropertyValue("wavedTop",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedBottom",{get:function(){return this.getPropertyValue("wavedBottom")},set:function(e){this.setPropertyValue("wavedBottom",e,!0)},enumerable:!0,configurable:!0}),t}(nh);var pl=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="AxisBullet",e.location=.5,e.isMeasured=!1,e.applyTheme(),e}return Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=s.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t}(Fe);M.registeredClasses.AxisBullet=pl;var Dr=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="AxisRendererY",e.minGridDistance=40,e.opposite=!1,e.height=ue(100),e.labels.template.verticalCenter="middle",e.applyTheme(),e}return t.prototype.setAxis=function(e){s.prototype.setAxis.call(this,e),e.layout="horizontal"},t.prototype.updateGridContainer=function(){var e=this.axis;if(e){var i=this.gridContainer;i.y=e.pixelY,i.height=e.axisLength}},t.prototype.toAxisPosition=function(e){var i=this.axis;if(i){var r=1-e,a=i.relativePositionSprite,n=i.pixelY;if(a?n=Yr({x:0,y:this.pixelY},this.parent,a).y:a=i.parent,a){var o=n/a.innerHeight,l=i.axisLength/a.innerHeight;return 1-(r-o)/l}}return e},t.prototype.processRenderer=function(){s.prototype.processRenderer.call(this);var e=this.axis;if(e){var i=e.title;i.valign="middle",e.height instanceof qe||(e.height=ue(100)),this.opposite?(i.rotation=90,this.line.toBack(),i.toFront()):(i.rotation=-90,i.toBack(),this.line.toFront())}},t.prototype.updateTooltip=function(){var e=this.axis;if(e){var i=2e3,r=0,a=0,n=i,o=this.axisLength;this.opposite?this.inside&&(r=-i,n=i):this.inside||(r=-i,n=i),this.axis.updateTooltip("horizontal",{x:r,y:a,width:n,height:o})}},Object.defineProperty(t.prototype,"axisLength",{get:function(){var e=this.axis;return e.measuredHeight-e.pixelPaddingTop-e.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){return{x:0,y:this.positionToCoordinate(e)}},t.prototype.pointToPosition=function(e){return this.coordinateToPosition(e.y,e.x)},t.prototype.coordinateToPosition=function(e,i){var r,a=this.axis,n=a.axisFullLength;return a.renderer.inversed?r=1-a.start-e/n:r=e/n+(1-a.end),ve(r,5)},t.prototype.getPositionRangePath=function(e,i){var r=De(this.positionToCoordinate(e),0,this.axisLength),a=De(this.positionToCoordinate(i),0,this.axisLength),n=Math.abs(a-r),o=this.getWidth(),l=Math.min(r,a),u=0;return fn({x:u,y:l,width:o,height:n},!0)},t.prototype.updateGridElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i);e.path=_e({x:0,y:0})+he({x:this.getWidth(),y:0}),this.positionItem(e,a),this.toggleVisibility(e,i,0,1)},t.prototype.updateTickElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i),n=e.length;try{this.axis.title.measuredWidth}catch{}a.x=Yr({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.opposite?n*=e.inside?-1:1:n*=e.inside?1:-1,e.path=_e({x:0,y:0})+he({x:n,y:0}),this.positionItem(e,a),this.toggleVisibility(e,i,0,1)},t.prototype.updateAxisLine=function(){this.line.path=_e({x:0,y:0})+he({x:0,y:this.axisLength})},t.prototype.updateBaseGridElement=function(){s.prototype.updateBaseGridElement.call(this);var e=this.axis,i=this.getWidth(),r=this.axisLength,a=e.basePoint.y,n=this.baseGrid;if(a<-.2||a>r+.2)n.hide(0);else{var o=Yr({x:0,y:0},this.gridContainer,n.parent).x;n.path=_e({x:0,y:0})+he({x:i,y:0}),n.moveTo({x:o,y:a}),n.show(0)}},t.prototype.updateLabelElement=function(e,i,r,a){V(a)||(a=e.location),i=i+(r-i)*a,e.isMeasured=!e.inside;var n=this.positionToPoint(i),o,l=0,u=this.gridContainer.maxWidth;this.opposite?(e.inside?(o="right",e.align=="left"&&(l=-u,o="left"),e.align=="center"&&(l=-u/2,o="middle")):o="left",n.x=0+l):(e.inside?(o="left",e.align=="right"&&(l=u,o="right"),e.align=="center"&&(l=u/2,o="middle")):o="right",n.x=this.measuredWidth+l),e.rotation==0&&(e.horizontalCenter=o),this.positionItem(e,n),this.toggleVisibility(e,i,this.minLabelPosition,this.maxLabelPosition)},t.prototype.updateBreakElement=function(e){s.prototype.updateBreakElement.call(this,e);var i=e.startLine,r=e.endLine,a=e.fillShape,n=e.startPoint,o=e.endPoint,l=e.pixelMarginLeft,u=this.getWidth()-e.pixelMarginLeft-e.pixelMarginRight;n.y=De(n.y,-1,this.axisLength+1),o.y=De(o.y,-1,this.axisLength+1),n.y==o.y&&(n.y<0||n.y>this.axisLength)?e.fillShape.__disabled=!0:e.fillShape.__disabled=!1;var h=Math.abs(u-l);i.x=l,i.height=0,i.width=h,r.x=l,r.height=0,r.width=h,a.width=h,a.height=Math.abs(o.y-n.y),a.x=l,a.y=o.y},t.prototype.createBreakSprites=function(e){e.startLine=new vo,e.endLine=new vo;var i=new Ip;i.setWavedSides(!0,!1,!0,!1),e.fillShape=i},t.prototype.positionToCoordinate=function(e){var i,r=this.axis,a=r.axisFullLength;return r.renderer.inversed?i=(e-r.start)*a:i=(r.end-e)*a,i},t.prototype.updateBullet=function(e,i,r){var a=.5;e instanceof pl&&(a=e.location),i=i+(r-i)*a;var n=this.positionToPoint(i);n.x=Yr({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.positionItem(e,n),this.toggleVisibility(e,i,0,1)},t}(ch);M.registeredClasses.AxisRendererY=Dr;Ji.push({relevant:lr.widthS,state:function(s,t){if(s instanceof Dr){var e=s.states.create(t);return e.properties.inside=!0,e.properties.maxLabelPosition=.9,e.properties.minLabelPosition=.1,e}return null}});Ji.push({relevant:lr.widthXS,state:function(s,t){if(s instanceof Dr){var e=s.states.create(t);return e.properties.disabled=!0,e}return null}});var cA=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="ValueAxisBreak",e.applyTheme(),e}return Object.defineProperty(t.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),t}(lh);M.registeredClasses.ValueAxisBreak=cA;var xo=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="ValueAxisDataItem",e.values.value={},e.values.endValue={},e.applyTheme(),e}return Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){return this.values.endValue.value},set:function(e){this.setValue("endValue",e)},enumerable:!0,configurable:!0}),t}(Jl);var Ne=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._stepDecimalPlaces=0,e._prevStepDecimalPlaces=0,e._adjustLabelPrecision=!0,e._baseValue=0,e._adjustedStart=0,e._adjustedEnd=1,e._extremesChanged=!1,e._deltaMinMax=1,e._dsc=!1,e.calculateTotals=!1,e.className="ValueAxis",e.axisFieldName="value",e.setPropertyValue("maxZoomFactor",1e3),e.setPropertyValue("extraMin",0),e.setPropertyValue("extraMax",0),e.setPropertyValue("strictMinMax",!1),e.setPropertyValue("maxPrecision",Number.MAX_VALUE),e.setPropertyValue("adjustLabelPrecision",!0),e.setPropertyValue("extraTooltipPrecision",0),e.keepSelection=!1,e.includeRangesInMinMax=!1,e.applyTheme(),e}return t.prototype.fillRule=function(e){var i=e.value,r=e.component;e.axisFill.disabled||(ve(i/r.step/2,5)==Math.round(i/r.step/2)?e.axisFill.__disabled=!0:e.axisFill.__disabled=!1)},t.prototype.createDataItem=function(){return new xo},t.prototype.createAxisBreak=function(){return new cA},t.prototype.dataChangeUpdate=function(){this.clearCache(),this.keepSelection?(this._start!=0&&this.dispatchImmediately("startchanged"),this._end!=1&&this.dispatchImmediately("endchanged"),(this._start!=0||this._end!=1)&&this.dispatchImmediately("startendchanged")):(this._start!=0||this._end!=1)&&(this._start=0,this._end=1,this.dispatchImmediately("startendchanged")),this._maxZoomed=this._maxDefined,this._minZoomed=this._minDefined,this._maxAdjusted=this._maxDefined,this._minAdjusted=this._minDefined},t.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var e=this.series.getIndex(0),i=e.startIndex;if(e.dataItems.length>0){i>0&&i--;var r=e.endIndex;r<e.dataItems.length&&r++;for(var a=function(l){var u={},h={};n.series.each(function(c){if(!c.excludeFromTotal){var A=c.dataItems.getIndex(l);A&&Ue(A.values,function(d){var f=A.values[d].workingValue;I(f)&&(I(u[d])?u[d]+=Math.abs(f):u[d]=Math.abs(f),I(h[d])?h[d]+=f:h[d]=f)})}}),n.series.each(function(c){if(!c.excludeFromTotal){var A=c.dataItems.getIndex(l);A&&Ue(A.values,function(d){var f=A.values[d].workingValue;I(f)&&(A.setCalculatedValue(d,u[d],"total"),A.setCalculatedValue(d,100*f/u[d],"totalPercent"),A.setCalculatedValue(d,h[d],"sum"))})}})},n=this,o=i;o<r;++o)a(o)}}},t.prototype.validate=function(){this.axisLength<=0||(s.prototype.validate.call(this),this.getMinMax(),I(this._minAdjusted)||this.dataItems.each(function(e){e.value=null}),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout())},t.prototype.calculateZoom=function(){if(I(this.min)&&I(this.max)){var e=this.positionToValue(this.start),i=this.positionToValue(this.end),r=this.adjustDifference(e,i),a=this.adjustMinMax(e,i,r,this._gridCount,!0),n=tw(a.step);this._stepDecimalPlaces=n,e=ve(e,n),i=ve(i,n),a=this.adjustMinMax(e,i,r,this._gridCount,!0);var o=a.step;if(this.syncWithAxis){var l=this.getCache(e+"-"+i);I(l)&&(o=l)}else e=a.min,i=a.max;(this._minZoomed!=e||this._maxZoomed!=i||this._step!=o||this._dsc)&&(this._dsc=!1,this._minZoomed=e,this._maxZoomed=i,this._step=o,this.dispatchImmediately("selectionextremeschanged"))}},t.prototype.fixSmallStep=function(e){return 1+e==1?(e*=2,this.fixSmallStep(e)):e},t.prototype.validateAxisElements=function(){var e=this;if(I(this.max)&&I(this.min)){var i=this.minZoomed-this._step*2;if(!this.logarithmic)i=Math.floor(i/this._step)*this._step;else{var r=Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E;r>1?i=Math.pow(10,Math.log(this.min)*Math.LOG10E):(i=Math.floor(this.minZoomed/this._step)*this._step,i==0&&(i=this.minZoomed))}var a=this._maxZoomed+this._step;this.resetIterators();var n=this._dataItemsIterator;if(this._step==0)return;this._step=this.fixSmallStep(this._step);var o=0,l=this._prevStepDecimalPlaces!=this._stepDecimalPlaces;for(this._prevStepDecimalPlaces=this._stepDecimalPlaces;i<=a;){var u=this.isInBreak(i);if(!u){var h=n.find(function(m){return m.value===i});h.__disabled&&(h.__disabled=!1),this.appendDataItem(h),h.axisBreak=void 0,(h.value!=i||l)&&(h.value=i,h.text=this.formatLabel(i),h.label&&h.label.invalid&&h.label.validate(),h.value>=this.min&&h.value<=this.max&&h.label&&(this.axisLetter=="Y"&&h.label.measuredWidth>this.ghostLabel.measuredWidth||this.axisLetter=="X"&&h.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=h.label.currentText,this.ghostLabel.validate())),this.validateDataElement(h)}o++;var c=i;if(!this.logarithmic)i+=this._step;else{var r=Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E;r>1?i=Math.pow(10,Math.log(this.min)*Math.LOG10E+o):i+=this._step}var A=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));if(A<1){var d=Math.round(Math.abs(Math.log(Math.abs(A))*Math.LOG10E))+2;if(d=Math.min(13,d),i=ve(i,d),c==i){i=a;break}}}var f=this._axisBreaks;if(f){var p=this.renderer;ce(f.iterator(),function(m){if(m.breakSize>0&&Et(m.startPoint,m.endPoint)>p.minGridDistance)for(var g=m.adjustedMin;g<=m.adjustedMax;){if(g>=m.adjustedStartValue&&g<=m.adjustedEndValue){var y=n.find(function(x){return x.value===g});y.__disabled&&(y.__disabled=!1),e.appendDataItem(y),y.axisBreak=m,y.value!=g&&(y.value=g,y.text=e.formatLabel(g),y.label&&y.label.invalid&&y.label.validate()),e.validateDataElement(y)}g+=m.adjustedStep}})}}},t.prototype.validateDataElement=function(e){s.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var i=this.renderer,r=e.value,a=e.endValue,n=this.valueToPosition(r);e.position=n;var o=n,l=this.valueToPosition(r+this._step);I(a)&&(o=this.valueToPosition(a),l=o),e.point=i.positionToPoint(n);var u=e.tick;u&&!u.disabled&&i.updateTickElement(u,n,o);var h=e.grid;h&&!h.disabled&&i.updateGridElement(h,n,o);var c=e.label;c&&!c.disabled&&i.updateLabelElement(c,n,o);var A=e.axisFill;A&&!A.disabled&&(i.updateFillElement(A,n,l),e.isRange||this.fillRule(e)),e.bullet&&i.updateBullet(e.bullet,n,o);var d=e.mask;d&&i.updateFillElement(d,n,l)},t.prototype.formatLabel=function(e){return this.adjustLabelPrecision&&e!=0?this.numberFormatter.format(e,void 0,this._stepDecimalPlaces):this.numberFormatter.format(e)},Object.defineProperty(t.prototype,"basePoint",{get:function(){var e=this.baseValue,i=this.valueToPosition(e),r=this.renderer.positionToPoint(i);return r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseValue",{get:function(){var e=this._baseValue;return this.logarithmic&&(e=this.min),this._adapterO?this._adapterO.apply("baseValue",e):e},set:function(e){this._baseValue=e,this.invalidateLayout(),this.invalidateSeries()},enumerable:!0,configurable:!0}),t.prototype.anyToPosition=function(e){return this.valueToPosition(e)},t.prototype.valueToPoint=function(e){var i=this.valueToPosition(e),r=this.renderer.positionToPoint(i),a=this.renderer.positionToAngle(i);return{x:r.x,y:r.y,angle:a}},t.prototype.anyToPoint=function(e){return this.valueToPoint(e)},t.prototype.valueToPosition=function(e){if(I(e)){var i=this.min,r=this.max;if(I(i)&&I(r)){var a=this._difference,n=this._axisBreaks;n&&n.length>0&&Qr(n.iterator(),function(u){var h=u.adjustedStartValue,c=u.adjustedEndValue;if(I(h)&&I(c)){if(e<h)return!1;if(Md({start:h,end:c},{start:i,end:r})){h=Math.max(h,i),c=Math.min(c,r);var A=u.breakSize;e>c?i+=(c-h)*(1-A):e<h||(e=h+(e-h)*A)}}return!0});var o=void 0;if(!this.logarithmic)o=(e-i)/a;else{var l=this.treatZeroAs;I(l)&&e<=l&&(e=l),o=(Math.log(e)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)}return o}}return 0},t.prototype.invalidateLabels=function(){s.prototype.invalidateLabels.call(this),this.dataItems&&(this.dataItems.each(function(e){e.value=void 0}),this.invalidate())},t.prototype.positionToValue=function(e){var i=this.min,r=this.max;if(I(i)&&I(r)){var a=r-i,n=null,o=this._axisBreaks;return o&&o.length>0&&Qr(o.iterator(),function(l){var u=l.startPosition,h=l.endPosition,c=l.adjustedStartValue,A=l.adjustedEndValue;if(I(c)&&I(A)){if(c>r)return!1;if(Md({start:c,end:A},{start:i,end:r})){c=st(c,i),A=dt(A,r);var d=l.breakSize;if(a-=(A-c)*(1-d),e>h)i+=(A-c)*(1-d);else if(!(e<u)){var f=(e-u)/(h-u);return n=c+f*(A-c),!1}}return!0}}),I(n)||(this.logarithmic?n=Math.pow(Math.E,(e*(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):n=e*a+i),n}},t.prototype.xToValue=function(e){return this.positionToValue(this.pointToPosition({x:e,y:0}))},t.prototype.yToValue=function(e){return this.positionToValue(this.pointToPosition({x:0,y:e}))},t.prototype.pointToPosition=function(e){return this.renderer instanceof Dr?1-this.renderer.pointToPosition(e):this.renderer.pointToPosition(e)},t.prototype.animateMinMax=function(e,i){return this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:e},{property:"_maxAdjusted",from:this._maxAdjusted,to:i}],this.rangeChangeDuration,this.rangeChangeEasing)},t.prototype.getMinMax=function(){var e=this;this.updateGridCount();var i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;if((!I(this._minDefined)||!I(this._maxDefined))&&(this.series.each(function(A){if(!A.ignoreMinMax){var d=A.min(e);I(d)&&d<i&&(i=d);var f=A.max(e);I(f)&&f>r&&(r=f)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(A){if(!A.ignoreMinMax){var d=dt(A.value,A.endValue),f=st(A.value,A.endValue);(d<i||!I(i))&&(i=d),(f>r||!I(r))&&(r=f)}})),this.logarithmic){var a=this.treatZeroAs;I(a)&&i<=0&&(i=a),i<=0&&this.raiseCriticalError(new Error("Logarithmic value axis can not have values <= 0."),!0)}if(i==0&&r==0&&(r=.9,i=-.9),I(this._minDefined)&&(i=this._minDefined),I(this._maxDefined)&&(r=this._maxDefined),this._adapterO&&(i=this._adapterO.apply("min",i)),this._adapterO&&(r=this._adapterO.apply("max",r)),!(!I(i)||!I(r))){this._minReal=i,this._maxReal=r,i==Number.POSITIVE_INFINITY&&(i=void 0),r==Number.NEGATIVE_INFINITY&&(r=void 0);var n=this.adjustDifference(i,r);if(i=this.fixMin(i),r=this.fixMax(r),r-i<=1/Math.pow(10,15)){if(r-i!=0)this._deltaMinMax=(r-i)/2;else{var o=Math.log(Math.abs(r))*Math.LOG10E,l=Math.pow(10,Math.floor(o));l=l/10,this._deltaMinMax=l}i-=this._deltaMinMax,r+=this._deltaMinMax}i-=(r-i)*this.extraMin,r+=(r-i)*this.extraMax;var u=this.strictMinMax;I(this._maxDefined)&&(u=!0);var h=this.adjustMinMax(i,r,n,this._gridCount,u);if(i=h.min,r=h.max,n=r-i,h=this.adjustMinMax(i,r,r-i,this._gridCount,!0),i=h.min,r=h.max,this.strictMinMax&&(I(this._minDefined)?i=this._minDefined:i=this._minReal,I(this._maxDefined)?r=this._maxDefined:r=this._maxReal,r-i<=1e-8&&(i-=this._deltaMinMax,r+=this._deltaMinMax),i-=(r-i)*this.extraMin,r+=(r-i)*this.extraMax),this._adapterO&&(i=this._adapterO.apply("min",i)),this._adapterO&&(r=this._adapterO.apply("max",r)),this._step=h.step,!I(i)&&!I(r)&&(this.start=0,this.end=1,this.renderer.labels.each(function(A){A.dataItem.text=""})),(this._minAdjusted!=i||this._maxAdjusted!=r)&&I(i)&&I(r)){var c=this._minMaxAnimation;if(this._extremesChanged&&I(this._minAdjusted)&&I(this._maxAdjusted)&&this.inited){if(c&&!c.isFinished()&&this._finalMax==r&&this._finalMin==i)return;this._finalMin=i,this._finalMax=r,c=this.animateMinMax(i,r),c&&!c.isFinished()?(c.events.on("animationprogress",this.validateDataItems,this),c.events.on("animationended",function(){e.series.each(function(A){A.validate()}),e.validateDataItems(),e.handleSelectionExtremesChange()}),this._minMaxAnimation=c):this.series.each(function(A){A.invalidate()}),this.validateDataItems(),this.dispatchImmediately("extremeschanged"),this.handleSelectionExtremesChange()}else{if(c&&!c.isFinished()&&this._finalMax==r&&this._finalMin==i)return;this._minAdjusted=i,this._maxAdjusted=r,this._finalMin=i,this._finalMax=r,this.invalidateDataItems(),this.dispatchImmediately("extremeschanged"),this._saveMinMax(i,r)}}this._extremesChanged=!1,this._difference=this.adjustDifference(i,r)}},t.prototype.fixMin=function(e){return e},t.prototype.fixMax=function(e){return e},t.prototype.adjustMinMax=function(e,i,r,a,n){a<=1&&(a=1),a=Math.round(a);var o=e,l=i;r===0&&(r=Math.abs(i));var u=Math.log(Math.abs(r))*Math.LOG10E,h=Math.pow(10,Math.floor(u));h=h/10;var c=h;n&&(c=0),this.logarithmic?(e<=0&&(e=this.baseValue),e==1/0&&(e=1),i==-1/0&&(i=10),this.strictMinMax?(this._minDefined>0?e=this._minDefined:e=e,this._maxDefined>0&&(i=i)):(e=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E)),i=Math.pow(10,Math.ceil(Math.log(Math.abs(i))*Math.LOG10E)))):(n?(e=Math.floor(e/h)*h,i=Math.ceil(i/h)*h):(e=Math.ceil(e/h)*h-c,i=Math.floor(i/h)*h+c),e<0&&o>=0&&(e=0),i>0&&l<=0&&(i=0)),u=Math.log(Math.abs(r))*Math.LOG10E,h=Math.pow(10,Math.floor(u)),h=h/10;var A=Math.ceil(r/a/h)*h,d=Math.pow(10,Math.floor(Math.log(Math.abs(A))*Math.LOG10E)),f=Math.ceil(A/d);f>5?f=10:f<=5&&f>2&&(f=5),A=Math.ceil(A/(d*f))*d*f,this.maxPrecision<Number.MAX_VALUE&&A!=B_(A,this.maxPrecision)&&(A=B_(A,this.maxPrecision));var p=0;if(d<1&&(p=Math.round(Math.abs(Math.log(Math.abs(d))*Math.LOG10E))+1,A=ve(A,p)),!this.logarithmic){var m=Math.floor(e/A);e=ve(A*m,p);var g=void 0;n?g=Math.floor(i/A):g=Math.ceil(i/A),g==m&&g++,i=ve(A*g,p),i<l&&(i=i+A),e>o&&(e=e-A)}return{min:e,max:i,step:A}},Object.defineProperty(t.prototype,"min",{get:function(){var e=this._minAdjusted;return I(e)||(e=this._minDefined),e},set:function(e){this._minDefined!=e&&(this._minDefined=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDefined",{get:function(){return this._minDefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDefined",{get:function(){return this._maxDefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraMin",{get:function(){return this.getPropertyValue("extraMin")},set:function(e){this.setPropertyValue("extraMin",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraMax",{get:function(){return this.getPropertyValue("extraMax")},set:function(e){this.setPropertyValue("extraMax",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){var e=this._maxAdjusted;return I(e)||(e=this._maxDefined),e},set:function(e){this._maxDefined!=e&&(this._maxDefined=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adjustLabelPrecision",{get:function(){return this.getPropertyValue("adjustLabelPrecision")},set:function(e){this.setPropertyValue("adjustLabelPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.registerSeries=function(e){return new Vt([s.prototype.registerSeries.call(this,e),e.events.on("extremeschanged",this.handleExtremesChange,this,!1),e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1),this.events.on("extremeschanged",e.invalidate,e,!1)])},t.prototype.handleSelectionExtremesChange=function(){var e=this,i,r,a=!0;if(ce(this.series.iterator(),function(d){if(!d.ignoreMinMax&&!d.isHidden&&!d.outOfRange){d.visible&&!d.isHiding&&(a=!1);var f=d.selectionMin(e),p=d.selectionMax(e);I(f)&&(!I(i)||f<i)&&(i=f),I(p)&&(!I(r)||p>r)&&(r=p)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(d){if(!d.ignoreMinMax){var f=dt(d.value,d.endValue),p=st(d.value,d.endValue);f<i&&(i=f),p>r&&(r=p)}}),I(this._minDefined)?this.strictMinMax?i=this._minDefined:i=this.min:this.strictMinMax&&(i=this._minReal),I(this._maxDefined)?this.strictMinMax?r=this._maxDefined:r=this.max:this.strictMinMax&&(r=this._maxReal),i==r){i-=this._deltaMinMax,r+=this._deltaMinMax;var n=this.adjustMinMax(i,r,0,this._gridCount,this.strictMinMax);i=n.min,r=n.max}var o=this.adjustDifference(i,r),l=this.adjustMinMax(i,r,o,this._gridCount);i=l.min,r=l.max,i-=(r-i)*this.extraMin,r+=(r-i)*this.extraMax,i=De(i,this.min,this.max),r=De(r,this.min,this.max),o=this.adjustDifference(i,r),l=this.adjustMinMax(i,r,o,this._gridCount,!0),i=l.min,r=l.max,this.strictMinMax&&(i=st(i,this._minDefined),r=dt(r,this._maxDefined));var u=l.step;this.syncWithAxis&&(l=this.syncAxes(i,r,u),i=l.min,r=l.max,this.invalidate()),u=l.step,this._difference=this.adjustDifference(this.min,this.max);var h=this.valueToPosition(i),c=this.valueToPosition(r);a&&!this.syncWithAxis&&(h=0,c=1);var A=0;this.syncWithAxis?(A=5,this.setCache(i+"-"+r,u)):((this._step!=u||this._minZoomed!=i||this._maxZoomed!=r)&&(this._dsc=!0),this._step=u,this._minZoomed=i,this._maxZoomed=r),this.keepSelection||this.zoom({start:h,end:c},!1,!1,A)},Object.defineProperty(t.prototype,"strictMinMax",{get:function(){return this.getPropertyValue("strictMinMax")},set:function(e){this.setPropertyValue("strictMinMax",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logarithmic",{get:function(){return this.getPropertyValue("logarithmic")},set:function(e){this.setPropertyValue("logarithmic",e)&&(this.invalidate(),this.series.each(function(i){i.invalidateDataItems()}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepSelection",{get:function(){return this.getPropertyValue("keepSelection")},set:function(e){this.setPropertyValue("keepSelection",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"includeRangesInMinMax",{get:function(){return this.getPropertyValue("includeRangesInMinMax")},set:function(e){this.setPropertyValue("includeRangesInMinMax",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxPrecision",{get:function(){return this.getPropertyValue("maxPrecision")},set:function(e){this.setPropertyValue("maxPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraTooltipPrecision",{get:function(){return this.getPropertyValue("extraTooltipPrecision")},set:function(e){this.setPropertyValue("extraTooltipPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.handleExtremesChange=function(){var e=this;if(this._extremesChanged=!0,this.getMinMax(),this.ghostLabel){var i=0;this.dataItems.each(function(r){r.label&&r.label.pixelWidth>i&&(e.ghostLabel.text=r.label.currentText)})}},t.prototype.getX=function(e,i,r,a,n){return this.renderer.positionToPoint(this.getPositionX(e,i,r,a,n)).x},t.prototype.getPositionX=function(e,i,r,a,n){var o=e.getWorkingValue(i);V(a)||(a="valueX");var l=e.getValue(a,"stack");I(o)||(o=this.baseValue,this.logarithmic&&l>0&&(o=0));var u=this.valueToPosition(o+l);return n&&(u=De(u,n.start,n.end)),u},t.prototype.getY=function(e,i,r,a,n){return this.renderer.positionToPoint(this.getPositionY(e,i,r,a,n)).y},t.prototype.getPositionY=function(e,i,r,a,n){var o=e.getWorkingValue(i);V(a)||(a="valueY");var l=e.getValue(a,"stack");I(o)||(o=this.baseValue,this.logarithmic&&l>0&&(o=0));var u=this.valueToPosition(o+l);return n&&(u=De(u,n.start,n.end)),u},t.prototype.getAngle=function(e,i,r,a,n){var o=e.getWorkingValue(i),l=e.getValue(a,"stack");I(o)||(o=this.baseValue);var u=this.valueToPosition(o+l);return n&&(u=De(u,n.start,n.end)),this.positionToAngle(u)},t.prototype.getAnyRangePath=function(e,i,r){var a=this.valueToPosition(e),n=this.valueToPosition(i);return this.getPositionRangePath(a,n)},t.prototype.getTooltipText=function(e){var i=ve(this.positionToValue(e),this._stepDecimalPlaces+this.extraTooltipPrecision),r=this.tooltip.numberFormatter.format(i);return this._adapterO?this._adapterO.apply("getTooltipText",r):r},t.prototype.zoomToValues=function(e,i,r,a){var n=(e-this.min)/(this.max-this.min),o=(i-this.min)/(this.max-this.min);this.zoom({start:n,end:o},r,a)},Object.defineProperty(t.prototype,"minZoomed",{get:function(){return this.syncWithAxis?this._minZoomed:st(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomed",{get:function(){return this.syncWithAxis?this._maxZoomed:dt(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),t.prototype.fixAxisBreaks=function(){var e=this;s.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each(function(r){var a=r.adjustedStartValue,n=r.adjustedEndValue,o=n-a,l=Math.ceil(o*r.breakSize)*e._gridCount/(e.max-e.min),u=e.adjustMinMax(a,n,o,l,!0);r.adjustedStep=u.step,r.adjustedMin=u.min,r.adjustedMax=u.max}),this._difference=this.adjustDifference(this.min,this.max)},t.prototype.getPositionLabel=function(e){var i=this.positionToValue(e);return this.numberFormatter.format(i)},t.prototype.showTooltipAt=function(e){this.showTooltipAtPosition(this.valueToPosition(e))},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.min=e.min,this.max=e.max,this.calculateTotals=e.calculateTotals,this._baseValue=e.baseValue},Object.defineProperty(t.prototype,"syncWithAxis",{get:function(){return this.getPropertyValue("syncWithAxis")},set:function(e){var i=this;this.setPropertyValue("syncWithAxis",e,!0)&&e&&(this._disposers.push(e.events.on("extremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(e.events.on("startendchanged",this.handleSelectionExtremesChange,this,!1)),this.events.on("shown",this.handleSelectionExtremesChange,this,!1),this.events.on("maxsizechanged",function(){i.clearCache(),i._disposers.push(M.events.once("exitframe",function(){i.handleSelectionExtremesChange()}))},this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"treatZeroAs",{get:function(){return this.getPropertyValue("treatZeroAs")},set:function(e){this.setPropertyValue("treatZeroAs",e,!0)},enumerable:!0,configurable:!0}),t.prototype.syncAxes=function(e,i,r){var a=this.syncWithAxis;if(a){I(e)||(e=this.min),I(i)||(i=this.max),I(r)||(r=this._step);var n=Math.round((a.maxZoomed-a.minZoomed)/a.step),o=Math.round((i-e)/r);if(I(n)&&I(o))for(var l=!1,u=0,h=(i-e)*.01,c=e,A=i,d=r;l!=!0;)if(l=this.checkSync(c,A,d,n),u++,u>1e3&&(l=!0),l)e=c,i=A,r=d;else{u/3==Math.round(u/3)?(c=e-h*u,e>=0&&c<0&&(c=0)):(A=i+h*u,A<=0&&A>0&&(A=0));var f=this.adjustMinMax(c,A,A-c,this._gridCount,!0);c=f.min,A=f.max,d=f.step}}return{min:e,max:i,step:r}},t.prototype.checkSync=function(e,i,r,a){for(var n=(i-e)/r,o=1;o<a;o++)if(ve(n/o,1)==a||n*o==a)return!0;return!1},t.prototype.processConfig=function(e){e&&V(e.syncWithAxis)&&ut(e.syncWithAxis)&&(this.map.hasKey(e.syncWithAxis)?e.syncWithAxis=this.map.getKey(e.syncWithAxis):(this.processingErrors.push('[ValueAxis] No axis with id "'+e.syncWithAxis+'" found for `syncWithAxis`'),delete e.xAxis)),s.prototype.processConfig.call(this,e)},t.prototype._saveMinMax=function(e,i){},t}(Sc);M.registeredClasses.ValueAxis=Ne;M.registeredClasses.ValueAxisDataItem=xo;var zy=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="DateAxisBreak",e.applyTheme(),e}return Object.defineProperty(t.prototype,"startDate",{get:function(){return this.getPropertyValue("startDate")},set:function(e){this.setPropertyValue("startDate",e)&&(this.startValue=e.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDate",{get:function(){return this.getPropertyValue("endDate")},set:function(e){this.setPropertyValue("endDate",e)&&(this.endValue=e.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),t}(cA);M.registeredClasses.DateAxisBreak=zy;var dh=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="DateAxisDataItem",e.applyTheme(),e.values.date={},e.values.endDate={},e}return Object.defineProperty(t.prototype,"date",{get:function(){return this.dates.date},set:function(e){this.setDate("date",e),this.value=e.getTime()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDate",{get:function(){return this.dates.endDate},set:function(e){this.setDate("endDate",e),this.endValue=e.getTime()},enumerable:!0,configurable:!0}),t}(xo);var Ct=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._gapBreaks=!1,e.gridIntervals=new gt,e.groupIntervals=new gt,e.dateFormats=new Rt,e.periodChangeDateFormats=new Rt,e._baseIntervalReal={timeUnit:"day",count:1},e._prevSeriesTime={},e._minDifference={},e._firstWeekDay=1,e.groupMin={},e.groupMax={},e._intervalMax={},e._intervalMin={},e.className="DateAxis",e.setPropertyValue("markUnitChange",!0),e.snapTooltip=!0,e.tooltipPosition="pointer",e.setPropertyValue("groupData",!1),e.groupCount=200,e.events.on("parentset",e.getDFFormatter,e,!1),e.gridIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}]),e.groupIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}]),e.axisFieldName="date",e.applyTheme(),e}return t.prototype.fillRule=function(e){var i=e.value,r=e.component,a=r._gridInterval,n=gr(a.timeUnit,a.count);Math.round((i-r.min)/n)/2==Math.round(Math.round((i-r.min)/n)/2)?e.axisFill.__disabled=!0:e.axisFill.__disabled=!1},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),this.dateFormats.hasKey("millisecond")||this.dateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.dateFormats.hasKey("second")||this.dateFormats.setKey("second",this.language.translate("_date_second")),this.dateFormats.hasKey("minute")||this.dateFormats.setKey("minute",this.language.translate("_date_minute")),this.dateFormats.hasKey("hour")||this.dateFormats.setKey("hour",this.language.translate("_date_hour")),this.dateFormats.hasKey("day")||this.dateFormats.setKey("day",this.language.translate("_date_day")),this.dateFormats.hasKey("week")||this.dateFormats.setKey("week",this.language.translate("_date_day")),this.dateFormats.hasKey("month")||this.dateFormats.setKey("month",this.language.translate("_date_month")),this.dateFormats.hasKey("year")||this.dateFormats.setKey("year",this.language.translate("_date_year")),this.periodChangeDateFormats.hasKey("millisecond")||this.periodChangeDateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.periodChangeDateFormats.hasKey("second")||this.periodChangeDateFormats.setKey("second",this.language.translate("_date_second")),this.periodChangeDateFormats.hasKey("minute")||this.periodChangeDateFormats.setKey("minute",this.language.translate("_date_minute")),this.periodChangeDateFormats.hasKey("hour")||this.periodChangeDateFormats.setKey("hour",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("day")||this.periodChangeDateFormats.setKey("day",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("week")||this.periodChangeDateFormats.setKey("week",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("month")||this.periodChangeDateFormats.setKey("month",this.language.translate("_date_month")+" "+this.language.translate("_date_year"))},t.prototype.createDataItem=function(){return new dh},t.prototype.createAxisBreak=function(){return new zy},t.prototype.validateDataItems=function(){var e=this.start,i=this.end,r=this.baseDuration,a=(this.max-this.min)/r;this._firstWeekDay=this.getFirstWeekDay(),this.getDFFormatter(),s.prototype.validateDataItems.call(this);var n=gr(this.mainBaseInterval.timeUnit,this.mainBaseInterval.count);this.maxZoomFactor=Math.max(1,(this.max-this.min)/n),this._deltaMinMax=this.baseDuration/2;var o=(this.max-this.min)/r;e=e+(i-e)*(1-a/o),this.zoom({start:e,end:i},!1,!0)},t.prototype.handleSelectionExtremesChange=function(){},t.prototype.getIntervalMax=function(e){return this._intervalMax[e.timeUnit+e.count]},t.prototype.getIntervalMin=function(e){return this._intervalMin[e.timeUnit+e.count]},t.prototype.calculateZoom=function(){var e=this;s.prototype.calculateZoom.call(this);var i=this.adjustDifference(this._minZoomed,this._maxZoomed),r=!1;if(this.groupData&&V(i)){var a=this.mainBaseInterval,n=this.getIntervalMin(a),o=this.getIntervalMax(a),l=n+(o-n)*this.start,u=n+(o-n)*this.end,h=this.adjustDifference(l,u),c=h+(this.startLocation+(1-this.endLocation))*this.baseDuration,A=void 0;this.groupInterval?A=ln({},this.groupInterval):(A=this.chooseInterval(0,c,this.groupCount,this.groupIntervals),gr(A.timeUnit,A.count)<gr(a.timeUnit,a.count)&&(A=ln({},a))),this._groupInterval=A;var d=A.timeUnit+A.count;this._currentDataSetId!=d&&(this._currentDataSetId=d,this.dispatch("groupperiodchanged")),this.series.each(function(p){p.baseAxis==e&&p.setDataSet(e._currentDataSetId)&&(r=!0)})}var f=this.chooseInterval(0,i,this._gridCount);gr(f.timeUnit,f.count)<this.baseDuration&&(f=ln({},this.baseInterval)),this._gridInterval=f,this._nextGridUnit=yw(f.timeUnit),this._intervalDuration=gr(f.timeUnit,f.count),this._gridDate=Hr(new Date(this.minZoomed-gr(f.timeUnit,f.count)),f.timeUnit,f.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),ce(this.series.iterator(),function(p){if(p.baseAxis==e){var m=p.getAxisField(e),g=Hr(new Date(e._minZoomed+e.baseDuration*.05),e.baseInterval.timeUnit,e.baseInterval.count,e._firstWeekDay,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone).getTime(),y=g.toString(),x=p.dataItemsByAxis.getKey(e.uid).getKey(y+p.currentDataSetId),C=0;e.start!=0&&(x?(x=e.findFirst(x,g,m),C=x.index):C=p.dataItems.findClosestIndex(e._minZoomed,function(L){return L[m]},"left"));var S=e.baseInterval,P=Fs(Hr(new Date(e._maxZoomed),S.timeUnit,S.count,e._firstWeekDay,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone),S.timeUnit,S.count,e._df.utc).getTime(),F=P.toString(),O=p.dataItemsByAxis.getKey(e.uid).getKey(F+p.currentDataSetId),$=p.dataItems.length;e.end!=1&&(O?$=O.index:(P-=1,$=p.dataItems.findClosestIndex(P,function(L){return L[m]},"right"),$++)),p.max(e)<g?(p.startIndex=p.dataItems.length,p.endIndex=p.dataItems.length,p.outOfRange=!0):p.min(e)>P?(p.startIndex=0,p.endIndex=0,p.outOfRange=!0):(p.outOfRange=!1,p.startIndex=C,p.endIndex=$),!r&&p.dataRangeInvalid&&p.validateDataRange()}})},t.prototype.findFirst=function(e,i,r){var a=e.index;if(a>0){var n=e.component,o=n.dataItems.getIndex(a-1),l=o[r];return!l||l.getTime()<i?e:this.findFirst(o,i,r)}else return e},t.prototype.validateData=function(){s.prototype.validateData.call(this),I(this.baseInterval.count)||(this.baseInterval.count=1)},Object.defineProperty(t.prototype,"minDifference",{get:function(){var e=this,i=Number.MAX_VALUE;return this.series.each(function(r){i>e._minDifference[r.uid]&&(i=e._minDifference[r.uid])}),(i==Number.MAX_VALUE||i==0)&&(i=gr("day")),i},enumerable:!0,configurable:!0}),t.prototype.seriesDataChangeUpdate=function(e){this._minDifference[e.uid]=Number.MAX_VALUE},t.prototype.postProcessSeriesDataItems=function(e){var i=this;this._firstWeekDay=this.getFirstWeekDay(),e?this.seriesGroupUpdate(e):this.series.each(function(r){i.seriesGroupUpdate(r)}),this.addEmptyUnitsBreaks()},t.prototype.seriesGroupUpdate=function(e){var i=this;JSON.stringify(e._baseInterval[this.uid])!=JSON.stringify(this.mainBaseInterval)&&(e._baseInterval[this.uid]=this.mainBaseInterval,e.mainDataSet.each(function(r){i.postProcessSeriesDataItem(r)}),this.groupData&&this.groupSeriesData(e))},t.prototype.groupSeriesData=function(e){var i=this;if(e.baseAxis==this&&e.dataItems.length>0&&!e.dataGrouped){e.bulletsContainer.removeChildren();var r=[],a=this.mainBaseInterval,n=gr(a.timeUnit,a.count);this.groupIntervals.each(function(o){var l=gr(o.timeUnit,o.count);(l>n&&l<i.max-i.min||i.groupInterval)&&r.push(o)}),e._dataSets&&(e._dataSets.each(function(o,l){l.each(function(u){u.dispose()}),l.clear()}),e._dataSets.clear()),e.dataGrouped=!0,we(r,function(o){var l="date"+i.axisLetter,u=o.timeUnit+o.count,h=new th(e.mainDataSet.template.clone());e.dataSets.setKey(u,h);var c=e.mainDataSet,A=Number.NEGATIVE_INFINITY,d=0,f,p=[];Ue(e.dataFields,function(g,y){var x=g;x!=l&&x.indexOf("Show")==-1&&p.push(x)});var m;c.each(function(g){var y=g.getDate(l);if(y){var x=y.getTime();m=Hr(new Date(x),o.timeUnit,o.count,i._df.firstDayOfWeek,i._df.utc,void 0,i._df.timezoneMinutes,i._df.timezone);var C=m.getTime();A<C?(f&&e._adapterO&&we(p,function(S){f.values[S].value=e._adapterO.apply("groupDataItem",{dataItem:f,interval:o,dataField:S,date:m,value:f.values[S].value}).value,f.values[S].workingValue=f.values[S].value}),f=h.create(),f.dataContext={},f.setWorkingLocation("dateX",e.dataItems.template.locations.dateX,0),f.setWorkingLocation("openDateX",e.dataItems.template.locations.openDateX,0),f.setWorkingLocation("dateY",e.dataItems.template.locations.dateY,0),f.setWorkingLocation("openDateY",e.dataItems.template.locations.openDateY,0),f.component=e,f.setDate(l,m),f._index=d,d++,we(p,function(S){var P=g.values[S];if(P){var F=P.value;e._adapterO&&(F=e._adapterO.apply("groupValue",{dataItem:g,interval:o,dataField:S,date:m,value:F}).value);var O=f.values[S];I(F)?(O.value=F,O.workingValue=F,O.open=F,O.close=F,O.low=F,O.high=F,O.sum=F,O.average=F,O.count=1):O.count=0}}),i.postProcessSeriesDataItem(f,o),Ue(e.propertyFields,function(S,P){var F=S,O=g.properties[S];V(O)&&(f.hasProperties=!0,f.setProperty(F,O))}),f.groupDataItems=[g],A=C):f&&(we(p,function(S){var P=e.groupFields[S],F=g.values[S];if(F){var O=F.value;if(e._adapterO&&(O=e._adapterO.apply("groupValue",{dataItem:g,interval:o,dataField:S,date:m,value:O}).value),I(O)){var $=f.values[S];I($.open)||($.open=O),$.close=O,($.low>O||!I($.low))&&($.low=O),($.high<O||!I($.high))&&($.high=O),I($.sum)?$.sum+=O:$.sum=O,$.count++,$.average=$.sum/$.count,I($[P])&&($.value=$[P],$.workingValue=$.value)}}}),ma(g.properties,f.properties),Ue(e.propertyFields,function(S,P){var F=S,O=g.properties[S];V(O)&&(f.hasProperties=!0,f.setProperty(F,O))}),f.groupDataItems.push(g))}f&&ma(g.dataContext,f.dataContext)}),f&&e._adapterO&&we(p,function(g){f.values[g].value=e._adapterO.apply("groupDataItem",{dataItem:f,interval:o,dataField:g,date:m,value:f.values[g].value}).value,f.values[g].workingValue=f.values[g].value})}),this.calculateZoom()}},t.prototype.getDFFormatter=function(){this._df=this.dateFormatter},t.prototype.postProcessSeriesDataItem=function(e,i){var r=this,a="";i?a=i.timeUnit+i.count:i=this.mainBaseInterval;var n=e.component,o=n.dataItemsByAxis.getKey(this.uid);Ue(e.dates,function(l){var u=e.getDate(l),h=u.getTime(),c=Hr(new Date(h),i.timeUnit,i.count,r._firstWeekDay,r._df.utc,void 0,r._df.timezoneMinutes,r._df.timezone),A=c.getTime(),d=Fs(new Date(A),i.timeUnit,i.count,r._df.utc);e.setCalculatedValue(l,A,"open"),e.setCalculatedValue(l,d.getTime(),"close"),o.setKey(A+a,e)})},t.prototype.addEmptyUnitsBreaks=function(){var e=this;if(this.skipEmptyPeriods&&I(this.min)&&I(this.max)){var i=this.baseInterval.timeUnit,r=this.baseInterval.count;this._axisBreaks&&this._axisBreaks.clear();for(var a=Hr(new Date(this.min),i,r,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),n=void 0,o=function(){Fs(a,i,r,l._df.utc);var u=a.getTime(),h=u.toString(),c=Hd(l.series.iterator(),function(A){return!!A.dataItemsByAxis.getKey(e.uid).getKey(h+A.currentDataSetId)});c?n&&(n.endDate=new Date(u-1),n=void 0):n||(n=l.axisBreaks.create(),n.startDate=new Date(u),l._gapBreaks=!0)},l=this;a.getTime()<this.max-this.baseDuration;)o()}},t.prototype.fixAxisBreaks=function(){var e=this;s.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each(function(r){var a=Math.ceil(e._gridCount*(Math.min(e.end,r.endPosition)-Math.max(e.start,r.startPosition))/(e.end-e.start));r.gridInterval=e.chooseInterval(0,r.adjustedEndValue-r.adjustedStartValue,a);var n=Hr(new Date(r.adjustedStartValue),r.gridInterval.timeUnit,r.gridInterval.count,e._firstWeekDay,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone);n.getTime()>r.startDate.getTime()&&Fs(n,r.gridInterval.timeUnit,r.gridInterval.count,e._df.utc),r.gridDate=n})},t.prototype.getFirstWeekDay=function(){return this._df?this._df.firstDayOfWeek:1},t.prototype.getGridDate=function(e,i){var r=this._gridInterval.timeUnit,a=this._gridInterval.count;Hr(e,r,1,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);var n=e.getTime(),o=vc(e),l=Fs(o,r,i,this._df.utc).getTime(),u=this.isInBreak(l);u&&u.endDate&&(o=new Date(u.endDate.getTime()),Hr(o,r,a,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),o.getTime()<u.endDate.getTime()&&Fs(o,r,a,this._df.utc),l=o.getTime());var h=this.adjustDifference(n,l),c=Math.round(h/gr(r));return c<a?this.getGridDate(e,i+a):o},t.prototype.getBreaklessDate=function(e,i,r){var a=new Date(e.endValue);Hr(a,i,r,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),Fs(a,i,r,this._df.utc);var n=a.getTime();return e=this.isInBreak(n),e?this.getBreaklessDate(e,i,r):a},t.prototype.validateAxisElements=function(){var e=this;if(I(this.max)&&I(this.min)){this.calculateZoom();var i=this._gridDate.getTime(),r=this._gridInterval.timeUnit,a=this._gridInterval.count,n=vc(this._gridDate),o=this._dataItemsIterator;this.resetIterators();for(var l=function(){var c=u.getGridDate(vc(n),a);i=c.getTime();var A=vc(c);A=Fs(A,r,a,u._df.utc);var d=u.dateFormats.getKey(r);u.markUnitChange&&n&&Uy(c,n,u._nextGridUnit,u._df.utc)&&r!=="year"&&(d=u.periodChangeDateFormats.getKey(r));var f=u._df.format(c,d),p=o.find(function(m){return m.text===f});p.__disabled&&(p.__disabled=!1),u.appendDataItem(p),p.axisBreak=void 0,p.date=c,p.endDate=A,p.text=f,u.validateDataElement(p),n=c},u=this;i<=this._maxZoomed;)l();var h=this.renderer;this._axisBreaks&&ce(this._axisBreaks.iterator(),function(c){if(c.breakSize>0){var A=c.gridInterval.timeUnit,d=c.gridInterval.count;if(Et(c.startPoint,c.endPoint)>h.minGridDistance*4)for(var f=c.gridDate.getTime(),p,m=0,g=function(){var y=vc(c.gridDate);if(f=Fs(y,A,d*m,e._df.utc).getTime(),m++,f>c.adjustedStartValue&&f<c.adjustedEndValue){var x=vc(y);x=Fs(x,A,d,e._df.utc);var C=e.dateFormats.getKey(A);e.markUnitChange&&p&&Uy(y,p,e._nextGridUnit,e._df.utc)&&A!=="year"&&(C=e.periodChangeDateFormats.getKey(A));var S=e._df.format(y,C),P=o.find(function(F){return F.text===S});P.__disabled&&(P.__disabled=!1),e.appendDataItem(P),P.axisBreak=c,c.dataItems.moveValue(P),P.date=y,P.endDate=x,P.text=S,p=y,e.validateDataElement(P)}};f<=c.adjustedMax;)g()}})}},t.prototype.validateDataElement=function(e){if(e.itemIndex=this._axisItemCount,this._axisItemCount++,I(this.max)&&I(this.min)){var i=this.renderer,r=e.value,a=e.endValue;I(a)||(a=r);var n=this.valueToPosition(r),o=this.valueToPosition(a),l=o;!e.isRange&&this._gridInterval.count>this.baseInterval.count&&(o=n+(o-n)/(this._gridInterval.count/this.baseInterval.count)),e.position=n;var u=e.tick;u&&!u.disabled&&i.updateTickElement(u,n,o);var h=e.grid;h&&!h.disabled&&i.updateGridElement(h,n,o);var c=e.axisFill;c&&!c.disabled&&(i.updateFillElement(c,n,l),e.isRange||this.fillRule(e));var A=e.mask;A&&i.updateFillElement(A,n,o),e.bullet&&i.updateBullet(e.bullet,n,o);var d=e.label;if(d&&!d.disabled){var f=d.location;f==0&&(this._gridInterval.count==1&&this._gridInterval.timeUnit!="week"&&!e.isRange?f=.5:f=0),i.updateLabelElement(d,n,o,f)}}},Object.defineProperty(t.prototype,"baseDuration",{get:function(){return gr(this.baseInterval.timeUnit,this.baseInterval.count)},enumerable:!0,configurable:!0}),t.prototype.adjustMinMax=function(e,i){return{min:e,max:i,step:this.baseDuration}},t.prototype.fixMin=function(e){var i=this.baseInterval,r=Hr(new Date(e),i.timeUnit,i.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime(),a=Fs(new Date(r),i.timeUnit,i.count,this._df.utc).getTime();return r+(a-r)*this.startLocation},t.prototype.fixMax=function(e){var i=this.baseInterval,r=Hr(new Date(e),i.timeUnit,i.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime(),a=Fs(new Date(r),i.timeUnit,i.count,this._df.utc).getTime();return r+(a-r)*this.endLocation},t.prototype.chooseInterval=function(e,i,r,a){a||(a=this.gridIntervals);var n=a.getIndex(e),o=gr(n.timeUnit,n.count),l=a.length-1;if(e>=l)return ln({},a.getIndex(l));var u=Math.ceil(i/o);return i<o&&e>0?ln({},a.getIndex(e-1)):u<=r?ln({},a.getIndex(e)):e+1<a.length?this.chooseInterval(e+1,i,r,a):ln({},a.getIndex(e))},t.prototype.formatLabel=function(e){return this._df.format(e)},t.prototype.dateToPosition=function(e){return this.valueToPosition(e.getTime())},t.prototype.anyToPosition=function(e){return e instanceof Date?this.dateToPosition(e):this.valueToPosition(e)},t.prototype.dateToPoint=function(e){var i=this.dateToPosition(e),r=this.renderer.positionToPoint(i),a=this.renderer.positionToAngle(i);return{x:r.x,y:r.y,angle:a}},t.prototype.anyToPoint=function(e){return e instanceof Date?this.dateToPoint(e):this.valueToPoint(e)},t.prototype.positionToDate=function(e){return new Date(this.positionToValue(e))},t.prototype.getPositionX=function(e,i,r,a,n){var o=this.getTimeByLocation(e,i,r);I(o)||(o=this.baseValue);var l=this.valueToPosition(o);return n&&(l=De(l,n.start,n.end)),l},t.prototype.getPositionY=function(e,i,r,a,n){var o=this.getTimeByLocation(e,i,r),l=e.getValue("valueX","stack");I(o)||(o=this.baseValue);var u=this.valueToPosition(o+l);return n&&(u=De(u,n.start,n.end)),u},t.prototype.getAngle=function(e,i,r,a,n){var o=this.getTimeByLocation(e,i,r),l=e.getValue(a,"stack");I(o)||(o=this.baseValue);var u=this.valueToPosition(o+l);return n&&(u=De(u,n.start,n.end)),this.positionToAngle(u)},t.prototype.getTimeByLocation=function(e,i,r){if(V(i)){I(r)||(r=e.workingLocations[i],I(r)||(r=0));var a=e.values[i].open,n=e.values[i].close,o=e.values[i].workingValue,l=e.values[i].value,u=l-o;if(a-=u,n-=u,I(a)&&I(n))return a+(n-a)*r}},t.prototype.processSeriesDataItem=function(e,i){var r=e.component,a,n=e["date"+i];if(I(this.timezoneOffset)?(n.setTime(n.getTime()+(n.getTimezoneOffset()-this.timezoneOffset)*6e4),e.setValue("date"+i,n.getTime(),0)):V(this.timezone)&&(n=oA(n,this.timezone),e.setValue("date"+i,n.getTime(),0),e["date"+i]=n),n)a=n.getTime();else return;var o=e["openDate"+i],l=this._prevSeriesTime[r.uid],u;if(o&&(u=o.getTime()),I(u)){var h=Math.abs(a-u);this._minDifference[r.uid]>h&&(this._minDifference[r.uid]=h)}var c=a-l;c>0&&this._minDifference[r.uid]>c&&(this._minDifference[r.uid]=c),this._prevSeriesTime[r.uid]=a,r._baseInterval[this.uid]&&this.postProcessSeriesDataItem(e)},t.prototype.updateAxisBySeries=function(){s.prototype.updateAxisBySeries.call(this);var e=this.chooseInterval(0,this.minDifference,1);this.minDifference>=gr("day",27)&&e.timeUnit=="week"&&(e.timeUnit="month",e.count=1),e.timeUnit=="month"&&(this.minDifference>=gr("day",29*2)&&e.count==1&&(e.count=2),this.minDifference>=gr("day",29*3)&&e.count==2&&(e.count=3),this.minDifference>=gr("day",29*6)&&e.count==5&&(e.count=6)),this.minDifference>=gr("hour",23)&&e.timeUnit=="hour"&&(e.timeUnit="day",e.count=1),this.minDifference>=gr("week",1)-gr("hour",1)&&e.timeUnit=="day"&&(e.timeUnit="week",e.count=1),this.minDifference>=gr("year",1)-gr("day",1.01)&&e.timeUnit=="month"&&(e.timeUnit="year",e.count=1),this._baseIntervalReal=e,this._mainBaseInterval=e},Object.defineProperty(t.prototype,"baseInterval",{get:function(){return this._groupInterval?this._groupInterval:this._baseInterval?this._baseInterval:this._baseIntervalReal},set:function(e){JSON.stringify(this._baseInterval)!=JSON.stringify(e)&&(this._baseInterval=e,this._mainBaseInterval=e,I(e.count)||(e.count=1),this.invalidate(),this.postProcessSeriesDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mainBaseInterval",{get:function(){return this._baseInterval?this._baseInterval:this._mainBaseInterval?this._mainBaseInterval:this._baseIntervalReal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipEmptyPeriods",{get:function(){return this.getPropertyValue("skipEmptyPeriods")},set:function(e){if(e){var i=this.axisBreaks.template;i.startLine.disabled=!0,i.endLine.disabled=!0,i.fillShape.disabled=!0,i.breakSize=0}else this._gapBreaks&&(this.axisBreaks.clear(),this._gapBreaks=!1);this.setPropertyValue("skipEmptyPeriods",e)&&(this.invalidate(),this.postProcessSeriesDataItems(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipDateFormat",{get:function(){return this.getPropertyValue("tooltipDateFormat")},set:function(e){this.setPropertyValue("tooltipDateFormat",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markUnitChange",{get:function(){return this.getPropertyValue("markUnitChange")},set:function(e){this.setPropertyValue("markUnitChange",e)&&this.invalidateData()},enumerable:!0,configurable:!0}),t.prototype.getTooltipText=function(e){var i,r=this.positionToDate(e);if(r=Hr(r,this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),this.tooltipDate=r,V(this.tooltipDateFormat))i=this._df.format(r,this.tooltipDateFormat,["day","month","week","year"].indexOf(this.baseInterval.timeUnit)==-1);else{var a=this.dateFormats.getKey(this.baseInterval.timeUnit);a?i=this._df.format(r,a):i=this.getPositionLabel(e)}return this._adapterO?this._adapterO.apply("getTooltipText",i):i},t.prototype.roundPosition=function(e,i,r){var a=this.baseInterval,n=a.timeUnit,o=a.count,l=this.positionToDate(e);if(Hr(l,n,o,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),i>0&&Fs(l,n,i*o,this._df.utc),r>0&&r<1&&l.setTime(l.getTime()+this.baseDuration*r),this.isInBreak(l.getTime()))for(;l.getTime()<this.max&&(Fs(l,n,o,this._df.utc),!!this.isInBreak(l.getTime())););return this.dateToPosition(l)},t.prototype.getCellStartPosition=function(e){return this.roundPosition(e,0)},t.prototype.getCellEndPosition=function(e){return this.roundPosition(e,1)},t.prototype.getSeriesDataItem=function(e,i,r){var a=this.positionToValue(i),n=.5;this.axisLetter=="Y"?n=e.dataItems.template.locations.dateY:n=e.dataItems.template.locations.dateX;var o=a-n*this.baseDuration,l=Hr(new Date(a),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),u=Hr(new Date(a+this.baseDuration),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);u.getTime()>l.getTime()&&Math.abs(u.getTime()-o)<Math.abs(o-l.getTime())&&(l=u);var h=e.dataItemsByAxis.getKey(this.uid),c=h.getKey(l.getTime()+e.currentDataSetId);if(!c&&r){var A;this.axisLetter=="Y"?A="dateY":A="dateX",c=e.dataItems.getIndex(e.dataItems.findClosestIndex(l.getTime(),function(d){return d[A]?d[A].getTime():-1/0},"any"))}return c},t.prototype.getPositionLabel=function(e){var i=this.positionToDate(e);return this._df.format(i,this.getCurrentLabelFormat())},t.prototype.getCurrentLabelFormat=function(){return this.dateFormats.getKey(this._gridInterval?this._gridInterval.timeUnit:"day")},t.prototype.initRenderer=function(){s.prototype.initRenderer.call(this);var e=this.renderer;e&&(e.ticks.template.location=0,e.grid.template.location=0,e.labels.template.location=0,e.baseGrid.disabled=!0)},Object.defineProperty(t.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),t.prototype.animateMinMax=function(e,i){var r=this,a=this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:e},{property:"_maxAdjusted",from:this._maxAdjusted,to:i}],this.rangeChangeDuration,this.rangeChangeEasing);return a.events.on("animationprogress",function(){r.dispatch("extremeschanged")}),a},t.prototype.handleExtremesChange=function(){if(s.prototype.handleExtremesChange.call(this),this.groupData){var e=this.baseInterval.timeUnit+this.baseInterval.count;this.groupMin[e]=this._finalMin,this.groupMax[e]=this._finalMax}},t.prototype.zoomToDates=function(e,i,r,a,n){e=this._df.parse(e),i=this._df.parse(i),this.zoomToValues(e.getTime(),i.getTime(),r,a,n)},t.prototype.zoomToValues=function(e,i,r,a,n){var o=this;if(this.groupData){var h=this.adjustDifference(e,i),c=!1;i==this.max&&(c=!0);var A=!1;if(e==this.min&&(A=!0),V(h)){var d=this.mainBaseInterval,f=this.chooseInterval(0,h,this.groupCount,this.groupIntervals);(f.timeUnit==d.timeUnit&&f.count<d.count||gr(f.timeUnit,1)<gr(d.timeUnit,1))&&(f=ln({},d));var p=f.timeUnit+f.count,m=this.groupMin[p],g=this.groupMax[p];(!I(m)||!I(g))&&(m=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,this.series.each(function(C){var S=C.min(o),P=C.max(o);if(C._dataSets){var F=C._dataSets.getKey(f.timeUnit+f.count);if(F){var O=F.getIndex(0),$=F.getIndex(F.length-1);O&&(C.xAxis==o?S=O.dateX.getTime():C.yAxis==o&&(S=O.dateY.getTime())),$&&(C.xAxis==o?P=$.dateX.getTime():C.yAxis==o&&(P=$.dateY.getTime()))}}P=Hr(Fs(new Date(P),f.timeUnit,1,o._df.utc),f.timeUnit,1,o._df.firstDayOfWeek,o._df.utc,void 0,o._df.timezoneMinutes,o._df.timezone).getTime(),S<m&&(m=S),P>g&&(g=P)}),this.groupMin[p]=m,this.groupMax[p]=g),e=De(e,m,g),i=De(i,m,g),n&&(c&&(e=i-h,e=De(e,m,g)),A&&(i=e+h,i=De(i,m,g)));var l=(e-m)/(g-m),u=(i-m)/(g-m);this.zoom({start:l,end:u},r,a)}}else{var l=this.valueToPosition(e),u=this.valueToPosition(i);this.zoom({start:l,end:u},r,a)}},t.prototype.asIs=function(e){return e=="baseInterval"||s.prototype.asIs.call(this,e)},t.prototype.copyFrom=function(e){var i=this;s.prototype.copyFrom.call(this,e),this.dateFormats=e.dateFormats,this.periodChangeDateFormats=e.periodChangeDateFormats,this.groupIntervals.clear(),e.groupIntervals.each(function(r){i.groupIntervals.push(ln({},r))}),this.gridIntervals.clear(),e.gridIntervals.each(function(r){i.gridIntervals.push(ln({},r))}),e._baseInterval&&(this.baseInterval=e._baseInterval)},t.prototype.showTooltipAtPosition=function(e,i){var r=this;if(i||(e=this.toAxisPosition(e)),this.snapTooltip){var a=this.positionToDate(e),n=a.getTime(),o;if(this.series.each(function(h){if(h.baseAxis==r){var c=r.getSeriesDataItem(h,e,!0);if(c){var A=void 0;h.xAxis==r&&(A=c.dateX),h.yAxis==r&&(A=c.dateY),o?Math.abs(o.getTime()-n)>Math.abs(A.getTime()-n)&&(o=A):o=A}}}),o){var l=o.getTime();o=Hr(new Date(l),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),l=o.getTime();var u=this.renderer.tooltipLocation;u==0&&(u=1e-4),o=new Date(o.getTime()+this.baseDuration*u),e=this.dateToPosition(o),this.chart.cursor&&this.chart.cursor.snapToSeries||this.series.each(function(h){var c=h.dataItemsByAxis.getKey(r.uid).getKey(l+h.currentDataSetId),A=h.showTooltipAtDataItem(c);A?r.chart._seriesPoints.push({series:h,point:A}):(h.tooltipText||h.tooltipHTML)&&h.hideTooltip()})}}s.prototype.showTooltipAtPosition.call(this,e,!0)},Object.defineProperty(t.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(e){this.setPropertyValue("snapTooltip",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupData",{get:function(){return this.getPropertyValue("groupData")},set:function(e){var i=this;this.setPropertyValue("groupData",e)&&(this.series.each(function(r){r.setDataSet(""),e&&!r.dataGrouped&&r.inited&&(r._baseInterval[i.uid]=i.mainBaseInterval,i.groupSeriesData(r))}),this._currentDataSetId="",this._groupInterval=void 0,this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupInterval",{get:function(){return this.getPropertyValue("groupInterval")},set:function(e){this.setPropertyValue("groupInterval",e)&&(this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupCount",{get:function(){return this.getPropertyValue("groupCount")},set:function(e){this.setPropertyValue("groupCount",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezoneOffset",{get:function(){return this.getPropertyValue("timezoneOffset")},set:function(e){this.setPropertyValue("timezoneOffset",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezone",{get:function(){return this.getPropertyValue("timezone")},set:function(e){this.setPropertyValue("timezone",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridInterval",{get:function(){return this._gridInterval},enumerable:!0,configurable:!0}),t.prototype.makeGap=function(e,i){var r=e.component;if(e&&i&&!r.connect&&I(r.autoGapCount)&&r.baseAxis==this){var a=e.dates["date"+this.axisLetter],n=i.dates["date"+this.axisLetter];if(a&&n){var o=a.getTime(),l=n.getTime();if(o-l>r.autoGapCount*this.baseDuration)return!0}}return!1},Object.defineProperty(t.prototype,"baseValue",{get:function(){return this.min},enumerable:!0,configurable:!0}),t.prototype._saveMinMax=function(e,i){var r=this.groupInterval;r||(r=this.mainBaseInterval);var a=r.timeUnit+r.count;this._intervalMin[a]=e,this._intervalMax[a]=i},t}(Ne);M.registeredClasses.DateAxis=Ct;M.registeredClasses.DateAxisDataItem=dh;var br=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="AxisRendererX",e.minGridDistance=120,e.opposite=!1,e.rotation=0,e.width=ue(100),e.labels.template.horizontalCenter="middle",e.applyTheme(),e}return t.prototype.setAxis=function(e){s.prototype.setAxis.call(this,e),e.layout="vertical"},t.prototype.updateGridContainer=function(){var e=this.axis;if(e){var i=this.gridContainer;i.x=e.pixelX,i.width=e.axisLength}},t.prototype.processRenderer=function(){s.prototype.processRenderer.call(this);var e=this.axis;if(e){e.width instanceof qe||(e.width=ue(100)),this.line;var i=e.title;i.rotation=0,i.align="center",this.opposite?(this.line.toFront(),i.toBack()):(i.toFront(),this.toBack(),this.line.toBack())}},t.prototype.updateTooltip=function(){var e=this.axis;if(e){var i=1e3,r=this.line.pixelX,a=this.line.pixelY,n=this.axisLength,o=i;this.opposite?this.inside||(a=-i,o=i):this.inside&&(a=-i,o=i),this.axis.updateTooltip("vertical",{x:r,y:a,width:n,height:o})}},t.prototype.updateLabelElement=function(e,i,r,a){V(a)||(a=e.location),i=i+(r-i)*a;var n=this.positionToPoint(i);e.isMeasured=!e.inside;var o=0,l,u=this.gridContainer.maxHeight;this.opposite?(e.inside?(l="top",e.valign=="bottom"&&(o=u,l="bottom"),e.valign=="middle"&&(o=u/2,l="middle")):l="bottom",n.y=o):(e.inside?(l="bottom",e.valign=="top"&&(o=-u,l="top"),e.valign=="middle"&&(o=-u/2,l="middle")):l="top",n.y+=o),e.rotation==0&&(e.verticalCenter=l),this.positionItem(e,n),this.toggleVisibility(e,i,this.minLabelPosition,this.maxLabelPosition)},Object.defineProperty(t.prototype,"axisLength",{get:function(){var e=this.axis;return e.measuredWidth-e.pixelPaddingRight-e.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){return{x:this.positionToCoordinate(e),y:0}},t.prototype.pointToPosition=function(e){return this.coordinateToPosition(e.x,e.y)},t.prototype.getPositionRangePath=function(e,i){var r=De(this.positionToCoordinate(e),0,this.axisLength),a=De(this.positionToCoordinate(i),0,this.axisLength),n=Math.abs(a-r),o=this.getHeight(),l=Math.min(r,a),u=0;return fn({x:l,y:u,width:n,height:o},!0)},t.prototype.updateBreakElement=function(e){s.prototype.updateBreakElement.call(this,e);var i=e.startLine,r=e.endLine,a=e.fillShape,n=e.startPoint,o=e.endPoint,l=e.pixelMarginLeft,u=this.getHeight()-e.pixelMarginTop-e.pixelMarginBottom;n.x=De(n.x,-1,this.axisLength+1),o.x=De(o.x,-1,this.axisLength+1),n.x==o.x&&(n.x<0||n.x>this.axisLength)?e.fillShape.__disabled=!0:e.fillShape.__disabled=!1,i.y=l,i.width=0,i.height=u,r.y=l,r.width=0,r.height=u,a.height=u,a.width=Math.abs(o.x-n.x),a.y=l,a.x=n.x},t.prototype.updateGridElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i);e.path=_e({x:0,y:0})+he({x:0,y:this.getHeight()}),this.positionItem(e,a),this.toggleVisibility(e,i,0,1)},t.prototype.updateTickElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i),n=e.length;a.y=Yr({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.opposite?n*=e.inside?1:-1:n*=e.inside?-1:1,e.path=_e({x:0,y:0})+he({x:0,y:n}),this.positionItem(e,a),this.toggleVisibility(e,i,0,1)},t.prototype.updateAxisLine=function(){this.line.path=_e({x:0,y:0})+he({x:this.axisLength,y:0})},t.prototype.updateBaseGridElement=function(){s.prototype.updateBaseGridElement.call(this);var e=this.axis,i=this.getHeight(),r=this.axisLength,a=this.baseGrid,n=e.basePoint.x;if(n<-.2||n>r+.2)a.hide(0);else{var o=Yr({x:0,y:0},this.gridContainer,a.parent).y;a.path=_e({x:0,y:0})+he({x:0,y:i}),a.moveTo({x:n,y:o}),a.show(0)}},t.prototype.createBreakSprites=function(e){e.startLine=new vo,e.endLine=new vo;var i=new Ip;i.setWavedSides(!1,!0,!1,!0),e.fillShape=i},t.prototype.toAxisPosition=function(e){var i=e,r=this.axis;if(r){var a=r.relativePositionSprite,n=r.pixelX;if(a?n=Yr({x:this.pixelX,y:0},this.parent,a).x:a=r.parent,a){var o=n/a.innerWidth,l=r.axisLength/a.innerWidth;return(i-o)/l}}return e},t.prototype.updateBullet=function(e,i,r){var a=.5;e instanceof pl&&(a=e.location),i=i+(r-i)*a;var n=this.positionToPoint(i);n.y=Yr({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.positionItem(e,n),this.toggleVisibility(e,i,0,1)},t}(ch);M.registeredClasses.AxisRendererX=br;Ji.push({relevant:lr.heightXS,state:function(s,t){if(s instanceof br){var e=s.states.create(t);return e.properties.inside=!0,e.properties.maxLabelPosition=.9,e.properties.minLabelPosition=.1,e}return null}});Ji.push({relevant:lr.heightXXS,state:function(s,t){if(s instanceof br){var e=s.states.create(t);return e.properties.disabled=!0,e}return null}});var Gy=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="CategoryAxisBreak",e.properties.startLocation=.5,e.properties.endLocation=.5,e.applyTheme(),e}return Object.defineProperty(t.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedStartValue,this.startLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedEndValue,this.endLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startCategory",{get:function(){return this.getPropertyValue("startCategory")},set:function(e){this.setPropertyValue("startCategory",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endCategory",{get:function(){return this.getPropertyValue("endCategory")},set:function(e){this.setPropertyValue("endCategory",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startValue",{get:function(){var e=this.getPropertyValue("startCategory");return e?this.axis.categoryToIndex(e):this.getPropertyValue("startValue")},set:function(e){this.setPropertyValue("startValue",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){var e=this.getPropertyValue("endCategory");return e?this.axis.categoryToIndex(e):this.getPropertyValue("endValue")},set:function(e){this.setPropertyValue("endValue",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),t}(lh);M.registeredClasses.CategoryAxisBreak=Gy;var ml=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.seriesDataItems={},e.className="CategoryAxisDataItem",e.text="{category}",e.locations.category=0,e.locations.endCategory=1,e.deltaPosition=0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"category",{get:function(){return this._adapterO&&this._adapterO.isEnabled("category")?this._adapterO.apply("category",this.properties.category):this.properties.category},set:function(e){var i=this.properties.category;this.setProperty("category",e),V(i)&&i!=e&&this.component&&this.component.validateDataElement(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endCategory",{get:function(){return this.properties.endCategory},set:function(e){this.setProperty("endCategory",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deltaPosition",{get:function(){return this.properties.deltaCoordinate},set:function(e){e!=this.properties.deltaCoordinate&&(this.setProperty("deltaCoordinate",e),this.component&&(this.component.invalidateDataItems(),this.component.invalidateSeries()))},enumerable:!0,configurable:!0}),t}(Jl);var Ut=function(s){N(t,s);function t(){var e=s.call(this)||this;e.dataItemsByCategory=new Rt,e.className="CategoryAxis",e.axisFieldName="category",e._lastDataItem=e.createDataItem(),e._lastDataItem.component=e,e._disposers.push(e._lastDataItem),e.applyTheme();var i=e.dataItemsByCategory;return e.addDisposer(e.mainDataSet.events.on("removed",function(r){i.removeKey(r.oldValue.category)})),e}return t.prototype.createDataItem=function(){return new ml},t.prototype.createAxisBreak=function(){return new Gy},t.prototype.processSeriesDataItem=function(e,i){s.prototype.processSeriesDataItem.call(this,e,i);var r=e["category"+this.axisLetter];if(V(r)){var a=this.dataItemsByCategory.getKey(r);if(a){var n=e.component.uid,o=a.seriesDataItems[n];o||(o=[],a.seriesDataItems[n]=o),o.push(e)}}else e.component.dataItems.remove(e)},t.prototype.validateDataRange=function(){var e=this;s.prototype.validateDataRange.call(this),ce(this._series.iterator(),function(i){if(i.xAxis instanceof t&&i.yAxis instanceof t)i.invalidateDataRange();else{var r=e.positionToIndex(e.start),a=e.positionToIndex(e.end);a>=e.dataItems.length&&a--;for(var n=i.uid,o=void 0,l=void 0,u=r;u<=a;u++){var h=e.dataItems.getIndex(u);if(h){var c=h.seriesDataItems[n];if(c)for(var A=0;A<c.length;A++){var d=c[A];if(d){var f=d.index;(!I(o)||f<o)&&(o=f),(!I(l)||f>l)&&(l=f)}}}}I(o)?i.startIndex=o:i.start=e.start,I(l)?i.endIndex=l+1:i.end=e.end,e._axisBreaks&&e._axisBreaks.length>0&&i.invalidateDataRange()}})},t.prototype.validate=function(){var e=this;s.prototype.validate.call(this);var i=this.dataItems.length,r=De(Math.floor(this.start*i-1),0,i),a=De(Math.ceil(this.end*i),0,i);this.renderer.invalid&&this.renderer.validate();var n=this.renderer.axisLength/Math.max(this.renderer.minGridDistance,1/Number.MAX_SAFE_INTEGER),o=Math.min(this.dataItems.length,Math.ceil((a-r)/n));if(this._startIndex=Math.floor(r/o)*o,this._endIndex=Math.ceil(this.end*i),this.fixAxisBreaks(),this._startIndex==this._endIndex&&this._endIndex++,this._frequency=o,!(this.axisLength<=0)){this.maxZoomFactor=this.dataItems.length,this.dataItems.length<=0&&(this.maxZoomFactor=1),this.resetIterators(),r=st(0,this._startIndex-this._frequency),a=dt(this.dataItems.length,this._endIndex+this._frequency);for(var l=0,u=0;u<r;u++){var h=this.dataItems.getIndex(u);h.__disabled=!0}for(var u=a,c=this.dataItems.length;u<c;u++){var h=this.dataItems.getIndex(u);h.__disabled=!0}for(var u=r;u<a;u++)if(u<this.dataItems.length){var h=this.dataItems.getIndex(u);if(u/this._frequency==Math.round(u/this._frequency)){var A=this.isInBreak(u);A||(this.appendDataItem(h),this.validateDataElement(h,l)),l++}else h.__disabled=!0}if(this.appendDataItem(this._lastDataItem),this.validateDataElement(this._lastDataItem,l+1,this.dataItems.length),this._axisBreaks){var d=this._axisBreaks;d.each(function(f){var p=f.adjustedStartValue,m=f.adjustedEndValue;if(Md({start:p,end:m},{start:e._startIndex,end:e._endIndex})){for(var g=p;g<=m;g++){var y=e.dataItems.getIndex(g);y.__disabled=!0}var x=De(Math.ceil(e._frequency/f.breakSize),1,m-p),C=0;if(f.breakSize>0)for(var g=p;g<=m;g=g+x){var y=e.dataItems.getIndex(g);y.__disabled=!1,e.appendDataItem(y),e.validateDataElement(y,C),C++}}})}this.validateBreaks(),this.validateAxisRanges(),this.ghostLabel.invalidate(),this.renderer.invalidateLayout()}},t.prototype.validateDataElement=function(e,i,r){s.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var a=this.renderer;I(r)||(r=this.categoryToIndex(e.category));var n=this.categoryToIndex(e.endCategory);I(n)||(n=r);var o=this.indexToPosition(r,e.locations.category),l=this.indexToPosition(n,e.locations.endCategory);e.position=o;var u,h,c;e.isRange&&(u=n,h=this.indexToPosition(r,e.locations.category),c=this.indexToPosition(u,e.locations.endCategory)),e.point=a.positionToPoint(o);var A=e.tick;A&&!A.disabled&&a.updateTickElement(A,o,l);var d=e.grid;d&&!d.disabled&&a.updateGridElement(d,o,l);var f=e.label;f&&!f.disabled&&((!e.isRange||f.text==null)&&(e.text=e.text),a.updateLabelElement(f,o,l),(a instanceof Dr&&e.label.measuredWidth>this.ghostLabel.measuredWidth||a instanceof br&&e.label.measuredHeight>this.ghostLabel.measuredHeight)&&(e.label.html?this.ghostLabel.html=e.label.currentText:this.ghostLabel.text=e.label.currentText));var p=e.axisFill;p&&!p.disabled&&(e.isRange||(u=r+this._frequency,h=this.indexToPosition(r,p.location),c=this.indexToPosition(u,p.location)),a.updateFillElement(p,h,c),e.isRange||this.fillRule(e,i)),e.bullet&&a.updateBullet(e.bullet,o,l);var m=e.mask;m&&a.updateFillElement(m,h,c)},t.prototype.disposeData=function(){this.dataItemsByCategory.clear(),s.prototype.disposeData.call(this)},t.prototype.processDataItem=function(e,i){e&&(s.prototype.processDataItem.call(this,e,i),V(e.category)&&this.dataItemsByCategory.setKey(e.category,e))},t.prototype.getDataItem=function(e){var i=e[this.dataFields.category];if(V(i)){var r=this.dataItemsByCategory.getKey(i);return r||this.dataItems.create()}},t.prototype.indexToPosition=function(e,i){I(i)||(i=.5);var r=this.startIndex,a=this.endIndex,n=this.adjustDifference(r,a),o=this.startLocation,l=this.endLocation;if(n-=o,n-=1-l,this._axisBreaks){var u=this._axisBreaks;Qr(u.iterator(),function(A){var d=A.adjustedStartValue,f=A.adjustedEndValue;if(e<r||!I(d)||!I(f))return!1;if(Md({start:d,end:f},{start:r,end:a})){d=Math.max(r,d),f=Math.min(a,f);var p=A.breakSize;e>f?r+=(f-d)*(1-p):e<d||(e=d+(e-d)*p)}return!0})}var h=0,c=this.dataItems.getIndex(e);return c&&(h=c.deltaPosition),ve(h+(e+i-o-r)/n,5)},t.prototype.categoryToPosition=function(e,i){var r=this.categoryToIndex(e);return this.indexToPosition(r,i)},t.prototype.categoryToPoint=function(e,i){var r=this.categoryToPosition(e,i),a=this.renderer.positionToPoint(r),n=this.renderer.positionToAngle(r);return{x:a.x,y:a.y,angle:n}},t.prototype.anyToPoint=function(e,i){return this.categoryToPoint(e,i)},t.prototype.anyToPosition=function(e,i){return this.categoryToPosition(e,i)},t.prototype.categoryToIndex=function(e){if(V(e)){var i=this.dataItemsByCategory.getKey(e);if(i)return i.index}},t.prototype.zoomToCategories=function(e,i){this.zoomToIndexes(this.categoryToIndex(e),this.categoryToIndex(i)+1)},t.prototype.getAnyRangePath=function(e,i,r,a){var n=this.categoryToPosition(e,r),o=this.categoryToPosition(i,a);return this.getPositionRangePath(n,o)},t.prototype.roundPosition=function(e,i){var r=this.positionToIndex(e);return this.indexToPosition(r,i)},t.prototype.getFirstSeriesDataItem=function(e,i){for(var r=0;r<e.dataItems.length;r++){var a=e.dataItems.getIndex(r);if(e.xAxis==this&&a.categoryX==i||e.yAxis==this&&a.categoryY==i)return a}},t.prototype.getLastSeriesDataItem=function(e,i){for(var r=e.dataItems.length-1;r>=0;r--){var a=e.dataItems.getIndex(r);if(e.xAxis==this&&a.categoryX==i||e.yAxis==this&&a.categoryY==i)return a}},t.prototype.getSeriesDataItemByCategory=function(e,i){var r=this,a;return i.dataItems.each(function(n){i.xAxis==r?n.categoryX==e&&(a=n):i.yAxis==r&&n.categoryY==e&&(a=n)}),a},t.prototype.getSeriesDataItem=function(e,i,r){var a=this;if(I(i)){var n=this.positionToIndex(i);n>=this.dataItems.length&&n--;var o=this.dataItems.getIndex(n);if(o){var l=o.category,u,h=e.dataItems.getIndex(n);return h&&(e.xAxis==this&&h.categoryX==l||e.yAxis==this&&h.categoryY==l)?h:(e.dataItems.each(function(c){e.xAxis==a&&c.categoryX==l&&(u||(u=c),Math.abs(n-u.index)>Math.abs(n-c.index)&&(u=c)),e.yAxis==a&&c.categoryY==l&&(u||(u=c),Math.abs(n-u.index)>Math.abs(n-c.index)&&(u=c))}),u)}}},t.prototype.getX=function(e,i,r,a,n){var o=this.getPositionX(e,i,r,a,n);return Rr(o)?this.basePoint.x:this.renderer.positionToPoint(o).x},t.prototype.getPositionX=function(e,i,r,a,n){var o;return V(i)&&(o=this.categoryToPosition(e.categories[i],r)),n&&(o=De(o,n.start,n.end)),o},t.prototype.getY=function(e,i,r,a,n){var o=this.getPositionY(e,i,r,a,n);return Rr(o)?this.basePoint.y:this.renderer.positionToPoint(o).y},t.prototype.getPositionY=function(e,i,r,a,n){var o;return V(i)&&(o=this.categoryToPosition(e.categories[i],r)),n&&(o=De(o,n.start,n.end)),o},t.prototype.getAngle=function(e,i,r,a,n){var o=this.categoryToPosition(e.categories[i],r);return n&&(o=De(o,n.start,n.end)),this.positionToAngle(o)},t.prototype.getCellStartPosition=function(e){return this.roundPosition(e,0)},t.prototype.getCellEndPosition=function(e){return this.roundPosition(e,1)},t.prototype.getTooltipText=function(e){var i=this.dataItems.getIndex(this.positionToIndex(e));if(i)return this.tooltipDataItem=i,this.tooltip.dataItem=i,this.tooltipText?this.tooltipText:this._adapterO?this._adapterO.apply("getTooltipText",i.category):i.category},t.prototype.positionToIndex=function(e){e=ve(e,10),e<0&&(e=0),e>1&&(e=1);var i=this.startIndex,r=this.endIndex,a=r-i-this.startLocation-(1-this.endLocation);e+=1/a*this.startLocation;var n=null;if(this._axisBreaks){var o=this._axisBreaks;Qr(o.iterator(),function(l){var u=l.startPosition,h=l.endPosition,c=l.adjustedStartValue,A=l.adjustedEndValue;c=st(c,i),A=dt(A,r);var d=l.breakSize;if(a-=(A-c)*(1-d),e>h)i+=(A-c)*(1-d);else if(!(e<u)){var f=(e-u)/(h-u);return n=c+Math.round(f*(A-c)),!1}return!0})}return I(n)||(n=Math.floor(e*a+i)),n>=this.dataItems.length&&(n=this.dataItems.length-1),n},t.prototype.positionToCategory=function(e){return this.getPositionLabel(e)},t.prototype.getPositionLabel=function(e){var i=this.dataItems.getIndex(this.positionToIndex(e));if(i)return i.category},Object.defineProperty(t.prototype,"basePoint",{get:function(){return this.renderer.positionToPoint(1)},enumerable:!0,configurable:!0}),t.prototype.initRenderer=function(){s.prototype.initRenderer.call(this);var e=this.renderer;e.baseGrid.disabled=!0},Object.defineProperty(t.prototype,"frequency",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortBySeries",{get:function(){return this.getPropertyValue("sortBySeries")},set:function(e){this.setPropertyValue("sortBySeries",e,!0)},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){e&&V(e.sortBySeries)&&ut(e.sortBySeries)&&(this.map.hasKey(e.sortBySeries)?e.sortBySeries=this.map.getKey(e.sortBySeries):(this.addDelayedMap("sortBySeries",e.sortBySeries),delete e.sortBySeries)),s.prototype.processConfig.call(this,e)},t}(Sc);M.registeredClasses.CategoryAxis=Ut;M.registeredClasses.CategoryAxisDataItem=ml;var Pc=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="XYSeriesDataItem",e.values.customValue={},e.values.valueX={stack:0},e.values.valueY={stack:0},e.values.openValueX={},e.values.openValueY={},e.values.dateX={},e.values.dateY={},e.values.openDateX={},e.values.openDateY={},e.setLocation("dateX",.5,0),e.setLocation("dateY",.5,0),e.setLocation("categoryX",.5,0),e.setLocation("categoryY",.5,0),e.applyTheme(),e}return Object.defineProperty(t.prototype,"valueX",{get:function(){return this.values.valueX.value},set:function(e){this.setValue("valueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customValue",{get:function(){return this.values.customValue.value},set:function(e){this.setValue("customValue",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueY",{get:function(){return this.values.valueY.value},set:function(e){this.setValue("valueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateX",{get:function(){return this.getDate("dateX")},set:function(e){this.setDate("dateX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateY",{get:function(){return this.getDate("dateY")},set:function(e){this.setDate("dateY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"categoryX",{get:function(){return this.categories.categoryX},set:function(e){this.setCategory("categoryX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"categoryY",{get:function(){return this.categories.categoryY},set:function(e){this.setCategory("categoryY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openValueX",{get:function(){return this.values.openValueX.value},set:function(e){this.setValue("openValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openValueY",{get:function(){return this.values.openValueY.value},set:function(e){this.setValue("openValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openDateX",{get:function(){return this.getDate("openDateX")},set:function(e){this.setDate("openDateX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openDateY",{get:function(){return this.getDate("openDateY")},set:function(e){this.setDate("openDateY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openCategoryX",{get:function(){return this.categories.openCategoryX},set:function(e){this.setCategory("openCategoryX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openCategoryY",{get:function(){return this.categories.openCategoryY},set:function(e){this.setCategory("openCategoryY",e)},enumerable:!0,configurable:!0}),t.prototype.getMin=function(e,i,r){var a=this,n;return I(r)||(r=0),we(e,function(o){var l;i?l=a.getWorkingValue(o):l=a.getValue(o),l+=r,(l<n||!I(n))&&(n=l)}),n},t.prototype.getMax=function(e,i,r){var a=this,n;return I(r)||(r=0),we(e,function(o){var l;i?l=a.getWorkingValue(o):l=a.getValue(o),l+=r,(l>n||!I(n))&&(n=l)}),n},t}(Cc);var Zr=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.groupFields={},e._xAxis=new Ci,e._yAxis=new Ci,e._xValueFields=[],e._yValueFields=[],e._baseInterval={},e.dataGrouped=!1,e.usesShowFields=!1,e._dataSetChanged=!1,e._maxxX=1e5,e._maxxY=1e5,e._propertiesChanged=!1,e.outOfRange=!1,e.className="XYSeries",e.isMeasured=!1,e.groupFields.valueX="close",e.groupFields.valueY="close",e.groupFields.customValue="close",e.groupFields.openValueX="open",e.groupFields.openValueY="open",e.cursorTooltipEnabled=!0,e.cursorHoverEnabled=!0,e.excludeFromTotal=!1,e.mainContainer.mask=new ke,e.mainContainer.mask.setElement(e.paper.add("path")),e.stacked=!1,e.snapTooltip=!1,e._showBullets=!1,e.tooltip.pointerOrientation="horizontal",e.properties.stackToNegative=!0,e.hideTooltipWhileZooming=!0,e.setPropertyValue("maskBullets",!0),e.tooltip.events.on("hidden",function(){e.returnBulletDefaultState()},void 0,!1),e._disposers.push(e._xAxis),e._disposers.push(e._yAxis),e.observe(Bi,function(){e.inited&&(e._propertiesChanged=!0,e.legendDataItem&&(e.legendDataItem.childrenCreated=!1),e.chart&&e.chart.legend&&e.chart.legend.invalidateDataItems(),e.invalidate())},void 0,!1),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y Series"))},t.prototype.createDataItem=function(){return new Pc},t.prototype.resetExtremes=function(){this._tmin.clear(),this._tmax.clear(),this._smin.clear(),this._smax.clear()},t.prototype.dataChangeUpdate=function(){this.dataGrouped=!1,this._baseInterval={},this._currentDataSetId="",this.resetExtremes(),this.xAxis&&this.xAxis.seriesDataChangeUpdate(this),this.yAxis&&this.yAxis.seriesDataChangeUpdate(this)},t.prototype.validateData=function(){this._baseInterval={};var e=this.dataFields;if(e.valueYShow||e.openValueXShow||e.openValueXShow||e.openValueYShow?this.usesShowFields=!0:this.usesShowFields=!1,this.defineFields(),this.data.length>0&&this.dataChangeUpdate(),s.prototype.validateData.call(this),this.updateItemReaderText(),this.chart&&(!V(this.dataFields[this._xField])||!V(this.dataFields[this._yField])))throw Error('Data fields for series "'+(this.name?this.name:this.uid)+'" are not properly defined.');this.inited&&this.isHidden&&this.hide(0),this.dataGrouped=!1},t.prototype.processDataItem=function(e,i){try{s.prototype.processDataItem.call(this,e,i),this.xAxis.processSeriesDataItem(e,"X"),this.yAxis.processSeriesDataItem(e,"Y"),this.setInitialWorkingValues(e)}catch(r){this._chart&&this._chart.raiseCriticalError(r)}},t.prototype.updateDataItem=function(e){s.prototype.updateDataItem.call(this,e),this.xAxis.processSeriesDataItem(e,"X"),this.yAxis.processSeriesDataItem(e,"Y")},t.prototype.setInitialWorkingValues=function(e){},t.prototype.disposeData=function(){s.prototype.disposeData.call(this);var e=this.xAxis,i=this.yAxis;if(e){var r=this.dataItemsByAxis.getKey(e.uid);r&&r.clear(),e instanceof Ut&&this.clearCatAxis(e)}if(i){var a=this.dataItemsByAxis.getKey(i.uid);a&&a.clear(),i instanceof Ut&&this.clearCatAxis(i)}},t.prototype.clearCatAxis=function(e){var i=this.uid;e.dataItems.each(function(r){r.seriesDataItems[i]&&(r.seriesDataItems[i]=[])})},t.prototype.defineFields=function(){var e=this.xAxis,i=this.yAxis;if(e&&i){var r=e.axisFieldName,a=r+"X",n="open"+mc(r)+"X",o=i.axisFieldName,l=o+"Y",u="open"+mc(o)+"Y";this._xField=a,this._yField=l,this.dataFields[n]&&(this._xOpenField=n),this.dataFields[u]&&(this._yOpenField=u),!this.dataFields[u]&&this.baseAxis==i&&(this._yOpenField=l),!this.dataFields[n]&&this.baseAxis==e&&(this._xOpenField=a),this.stacked&&this.baseAxis==e&&(this._xOpenField=a),this.stacked&&this.baseAxis==i&&(this._yOpenField=l),e instanceof Ut&&i instanceof Ut&&(this._yOpenField||(this._yOpenField=l)),this._xValueFields=[],this._yValueFields=[],this.addValueField(e,this._xValueFields,this._xField),this.addValueField(e,this._xValueFields,this._xOpenField),this.addValueField(i,this._yValueFields,this._yField),this.addValueField(i,this._yValueFields,this._yOpenField)}},t.prototype.addValueField=function(e,i,r){e instanceof Ne&&V(this.dataFields[r])&&i.indexOf(r)==-1&&i.push(r)},t.prototype.setCategoryAxisField=function(e,i){V(this.dataFields[e])||(this.dataFields[e]=i.dataFields.category)},t.prototype.setDateAxisField=function(e,i){V(this.dataFields[e])||(this.dataFields[e]=i.dataFields.date)},t.prototype.afterDraw=function(){s.prototype.afterDraw.call(this),this.createMask()},t.prototype.createMask=function(){if(this.mainContainer.mask){var e=this.getMaskPath();ce(this.axisRanges.iterator(),function(i){i.axisFill.fillPath&&(i.axisFill.validate(),e+=i.axisFill.fillPath)}),this.mainContainer.mask.path=e}},t.prototype.getMaskPath=function(){return this.xAxis&&this.yAxis?fn({x:0,y:0,width:this.xAxis.axisLength,height:this.yAxis.axisLength}):""},t.prototype.getAxisField=function(e){if(e==this.xAxis)return this.xField;if(e==this.yAxis)return this.yField},t.prototype.validateDataItems=function(){var e=this.chart;e&&(this._maxxX=st(1e5,e.plotContainer.maxWidth*2),this._maxxY=st(1e5,e.plotContainer.maxHeight*2));var i=this.xAxis,r=this.yAxis;i&&r&&(i.updateAxisBySeries(),r.updateAxisBySeries()),s.prototype.validateDataItems.call(this),i&&r&&(i.postProcessSeriesDataItems(this),r.postProcessSeriesDataItems(this))},t.prototype.validateDataRange=function(){var e=this.xAxis,i=this.yAxis;e&&i&&(e.dataRangeInvalid&&e.validateDataRange(),i.dataRangeInvalid&&i.validateDataRange()),s.prototype.validateDataRange.call(this)},t.prototype.validate=function(){var e=this.xAxis,i=this.yAxis;if(e&&i){e.invalid&&e.validate(),i.invalid&&i.validate(),this.y=i.pixelY,this.x=e.pixelX,this._showBullets=!0;var r=this.minBulletDistance;I(r)&&this.baseAxis.axisLength/(this.endIndex-this.startIndex)<r&&(this._showBullets=!1)}if(this.updateTooltip(),!(e instanceof Ct&&e.groupData&&!this.dataGrouped||i instanceof Ct&&i.groupData&&!this.dataGrouped)){s.prototype.validate.call(this);var a=this.chart,n=this.maskBullets;a&&n&&a.className=="XYChart"&&((a.leftAxesContainer.layout=="vertical"||a.rightAxesContainer.layout=="vertical")&&(this.yAxis?this.bulletsContainer.mask=this.yAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0),(a.topAxesContainer.layout=="horizontal"||a.bottomAxesContainer.layout=="horizontal")&&(this.xAxis?this.bulletsContainer.mask=this.xAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0))}},Object.defineProperty(t.prototype,"xAxis",{get:function(){if(this.chart){if(!this._xAxis.get()){var e=this.chart.xAxes.getIndex(0);if(!e)throw Error("There are no X axes on chart.");this.xAxis=e}return this._xAxis.get()}},set:function(e){this.setXAxis(e)},enumerable:!0,configurable:!0}),t.prototype.setXAxis=function(e){var i=this._xAxis.get();i!=e&&(i&&(this.dataItemsByAxis.removeKey(i.uid),this._xAxis.dispose(),i.series.removeValue(this)),this._xAxis.set(e,e.registerSeries(this)),this.dataItemsByAxis.setKey(e.uid,new Rt),this.invalidateData())},Object.defineProperty(t.prototype,"yAxis",{get:function(){if(this.chart){if(!this._yAxis.get()){var e=this.chart.yAxes.getIndex(0);if(!e)throw Error("There are no Y axes on chart.");this.yAxis=e}return this._yAxis.get()}},set:function(e){this.setYAxis(e)},enumerable:!0,configurable:!0}),t.prototype.setYAxis=function(e){var i=this._yAxis.get();i!=e&&(i&&(this.dataItemsByAxis.removeKey(i.uid),this._yAxis.dispose(),i.series.removeValue(this)),this._yAxis.set(e,e.registerSeries(this)),e.chart instanceof Lt&&e.chart.handleYAxisSet(this),this.dataItemsByAxis.setKey(e.uid,new Rt),this.invalidateData())},Object.defineProperty(t.prototype,"baseAxis",{get:function(){var e=this.xAxis,i=this.yAxis;return!this._baseAxis&&e&&i&&(i instanceof Ct&&(this._baseAxis=i),e instanceof Ct&&(this._baseAxis=e),i instanceof Ut&&(this._baseAxis=i),e instanceof Ut&&(this._baseAxis=e),this._baseAxis||(this._baseAxis=e)),this._baseAxis},set:function(e){this._baseAxis!=e&&(this._baseAxis=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.addData=function(e,i,r){s.prototype.addData.call(this,e,i,r);var a=this.scrollbarSeries;a&&(this.scrollbarSeries.addData(e,i,!0),this.scrollbarSeries._parseDataFrom=this._parseDataFrom)},t.prototype.setData=function(e){s.prototype.setData.call(this,e),this.scrollbarSeries&&this.scrollbarSeries.setData(e)},t.prototype.setDataSet=function(e){var i=s.prototype.setDataSet.call(this,e);if(i){this._dataSetChanged=!0;var r=this.dataItems;if(this.resetExtremes(),r&&r.length>0){var a=this.xAxis,n=this.yAxis;this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.appeared||this.processValues(!1),a instanceof Ct&&a==this.baseAxis&&(this._tmin.setKey(a.uid,r.getIndex(0).dateX.getTime()),this._tmax.setKey(a.uid,r.getIndex(r.length-1).dateX.getTime()),this.dispatch("extremeschanged")),n instanceof Ct&&n==this.baseAxis&&(this._tmin.setKey(n.uid,r.getIndex(0).dateY.getTime()),this._tmax.setKey(n.uid,r.getIndex(r.length-1).dateY.getTime()),this.dispatch("extremeschanged"))}}return i},t.prototype.processValues=function(e){s.prototype.processValues.call(this,e);var i=this.xAxis,r=this.yAxis;if(!(!i||!r)){var a=this.dataItems,n=1/0,o=-1/0,l=1/0,u=-1/0,h=this.startIndex,c=this.endIndex,A=h,d=c;e||(h=0,c=this.dataItems.length);for(var f=h;f<c;f++){var p=a.getIndex(f);this.getStackValue(p,e);var m=p.getValue("valueX","stack"),g=p.getValue("valueY","stack");e||(m=p.getValue("valueX","stackTrue"),g=p.getValue("valueY","stackTrue")),n=dt(p.getMin(this._xValueFields,e,m),n),l=dt(p.getMin(this._yValueFields,e,g),l),o=st(p.getMax(this._xValueFields,e,m),o),u=st(p.getMax(this._yValueFields,e,g),u),this.stacked&&(this.baseAxis==i&&(g<l&&(l=g),g>u&&(u=g)),this.baseAxis==r&&(m<n&&(n=m),m>o&&(o=m)))}i.processSeriesDataItems(),r.processSeriesDataItems();var y=i.uid,x=r.uid;if(this.xAxis instanceof Ne&&(n==1/0||o==-1/0)){this._smin.setKey(y,void 0),this._smax.setKey(y,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(this.yAxis instanceof Ne&&(l==1/0||u==-1/0)){this._smin.setKey(x,void 0),this._smax.setKey(x,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(!e&&(this._tmin.getKey(y)!=n||this._tmax.getKey(y)!=o||this._tmin.getKey(x)!=l||this._tmax.getKey(x)!=u)){this._tmin.setKey(y,n),this._tmax.setKey(y,o),this._tmin.setKey(x,l),this._tmax.setKey(x,u);var C=this.stackedSeries;C&&(C.isDisposed()?this.stackedSeries=void 0:C.processValues(!1)),this.dispatchImmediately("extremeschanged")}if(h!=A||c!=d){n=1/0,o=-1/0,l=1/0,u=-1/0;for(var f=A;f<d;f++){var p=a.getIndex(f);this.getStackValue(p,e);var m=p.getValue("valueX","stack"),g=p.getValue("valueY","stack");e||(m=p.getValue("valueX","stackTrue"),g=p.getValue("valueY","stackTrue")),n=dt(p.getMin(this._xValueFields,e,m),n),l=dt(p.getMin(this._yValueFields,e,g),l),o=st(p.getMax(this._xValueFields,e,m),o),u=st(p.getMax(this._yValueFields,e,g),u),this.stacked&&(this.baseAxis==i&&(g<l&&(l=g),g>u&&(u=g)),this.baseAxis==r&&(m<n&&(n=m),m>o&&(o=m)))}}if(this.xAxis instanceof Ne&&(n==1/0||o==-1/0)){this._smin.setKey(y,void 0),this._smax.setKey(y,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(this.yAxis instanceof Ne&&(l==1/0||u==-1/0)){this._smin.setKey(x,void 0),this._smax.setKey(x,void 0),this.dispatchImmediately("selectionextremeschanged");return}if((this._smin.getKey(y)!=n||this._smax.getKey(y)!=o||this._smin.getKey(x)!=l||this._smax.getKey(x)!=u)&&(this._smin.setKey(y,n),this._smax.setKey(y,o),this._smin.setKey(x,l),this._smax.setKey(x,u),this.appeared||this.start!=0||this.end!=1||this.dataItems!=this.mainDataSet)){var S=!1;if(r instanceof Ne&&!(r instanceof Ct)){var P=this._tmin.getKey(x);(!I(P)||(this.usesShowFields||this._dataSetChanged||i instanceof Ct&&i.groupData&&this.isShowing)&&l<P||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmin.setKey(x,l),S=!0);var F=this._tmax.getKey(x);(!I(F)||(this.usesShowFields||this._dataSetChanged||i instanceof Ct&&i.groupData&&this.isShowing)&&u>F||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmax.setKey(x,u),S=!0)}if(i instanceof Ne&&!(i instanceof Ct)){var P=this._tmin.getKey(y);(!I(P)||(this.usesShowFields||this._dataSetChanged||r instanceof Ct&&r.groupData&&this.isShowing)&&n<P||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmin.setKey(y,n),S=!0);var F=this._tmax.getKey(y);(!I(F)||(this.usesShowFields||this._dataSetChanged||r instanceof Ct&&r.groupData&&this.isShowing)&&o>F||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmax.setKey(y,o),S=!0)}S&&this.dispatchImmediately("extremeschanged"),this.start==0&&this.end==1&&(this._dataSetChanged=!1),this.dispatchImmediately("selectionextremeschanged")}!e&&this.stacked&&this.processValues(!0)}},t.prototype.hideTooltip=function(e){s.prototype.hideTooltip.call(this,e),this.returnBulletDefaultState(),this._prevTooltipDataItem=void 0},t.prototype.showTooltipAtPosition=function(e,i){var r;if(this.visible&&!this.isHiding&&!this.isShowing){var a=this._xAxis.get(),n=this._yAxis.get();a==this.baseAxis&&(r=a.getSeriesDataItem(this,a.toAxisPosition(e),this.snapTooltip)),n==this.baseAxis&&(r=n.getSeriesDataItem(this,n.toAxisPosition(i),this.snapTooltip));var o=this.showTooltipAtDataItem(r);if(o)return o;if(!this.tooltipText&&!this.tooltipHTML)return}this.hideTooltip()},t.prototype.getAdjustedXLocation=function(e,i,r){return e.locations[i]},t.prototype.getAdjustedYLocation=function(e,i,r){return e.locations[i]},t.prototype.showTooltipAtDataItem=function(e){var i,r,a=this.chart.cursor;if(a&&a.hideSeriesTooltipsOnSelection&&a.selection.visible&&a.downPoint){this.hideTooltip();return}if(this.returnBulletDefaultState(e),e&&e.visible){if(this.updateLegendValue(e),this.cursorTooltipEnabled){this.tooltipDataItem=e;var n=this.tooltipXField,o=this.tooltipYField;if(V(e[n])&&V(e[o])){var l=this.getPoint(e,n,o,this.getAdjustedXLocation(e,n),this.getAdjustedYLocation(e,o));if(l&&!(this.chart.className=="XYChart"&&(l.y<-1||l.y>this.yAxis.pixelHeight+1||l.x<-1||l.x>this.xAxis.pixelWidth+1))){if(this.tooltipX=l.x,this.tooltipY=l.y,this._prevTooltipDataItem!=e&&(this.dispatchImmediately("tooltipshownat",{type:"tooltipshownat",target:this,dataItem:e}),this._prevTooltipDataItem=e),this.cursorHoverEnabled)try{for(var u=Xh(e.sprites),h=u.next();!h.done;h=u.next()){var c=h.value;!c.parent.visible||c.isHidden||c.__disabled||c.disabled||c.isHiding||(c.interactions.isRealHover||(c.dispatchImmediately("over"),c.interactions.isRealHover=!0),c.isHover=!0)}}catch(A){i={error:A}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return this.showTooltip()?sa({x:l.x,y:l.y},this):void 0}}}}else this.updateLegendValue(e,!0)},t.prototype.returnBulletDefaultState=function(e){var i,r;if(this._prevTooltipDataItem&&this._prevTooltipDataItem!=e)try{for(var a=Xh(this._prevTooltipDataItem.sprites),n=a.next();!n.done;n=a.next()){var o=n.value;if(o.isDisposed())this._prevTooltipDataItem=void 0;else{var l=o.interactions.isRealHover;o.isHover=!1,l&&o.dispatchImmediately("out")}}}catch(u){i={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}},t.prototype.shouldCreateBullet=function(e,i){var r=i.xField;V(r)||(r=this.xField);var a=i.yField;if(V(a)||(a=this.yField),this.xAxis instanceof Ne&&!e.hasValue([r])||this.yAxis instanceof Ne&&!e.hasValue([a]))return!1;if(i.disabled){var n=i.propertyFields.disabled,o=e.dataContext;return!!(o&&o[n]===!1)}return!0},t.prototype.updateTooltip=function(){!this.hideTooltipWhileZooming&&this.tooltip&&!this.tooltip.isHidden&&!this.isHiding&&!this.isHidden&&this.tooltipDataItem&&this.showTooltipAtDataItem(this.tooltipDataItem)},t.prototype.positionBullet=function(e){s.prototype.positionBullet.call(this,e);var i=e.dataItem,r=e.xField;V(r)||(r=this.xField);var a=e.yField;V(a)||(a=this.yField);var n=this.xAxis,o=this.yAxis;if(n instanceof Ne&&!i.hasValue([r])||o instanceof Ne&&!i.hasValue([a]))e.visible=!1;else{var l=this.getBulletLocationX(e,r),u=this.getBulletLocationY(e,a),h=this.getPoint(i,r,a,l,u);if(h){var c=this.xOpenField,A=this.yOpenField,d=void 0,f=void 0;if(n instanceof Ct){I(l)||(l=0);var p=void 0,m=i.getWorkingValue(r);c?p=i.getWorkingValue(c):n==this.baseAxis&&(p=n.baseValue),I(p)||(p=m);var g=i.getValue("valueX","stack");if(p+=g,m+=g,p==m){var y=n.baseInterval,x=n.dateFormatter;p=Hr(new Date(p),y.timeUnit,y.count,x.firstDayOfWeek,x.utc,void 0,x.timezoneMinutes,x.timezone).getTime(),m=Fs(new Date(p),y.timeUnit,y.count,x.utc).getTime()}var C=void 0;n==this.baseAxis?C=p+(m-p)*l:C=p+(m-p)*(1-l),d=n.valueToPosition(C)}else if(n instanceof Ne){I(l)||(l=0);var p=void 0,m=i.getWorkingValue(r);c?p=i.getWorkingValue(c):p=n.baseValue;var g=i.getValue("valueX","stack");p+=g,m+=g;var C=p+(m-p)*(1-l);d=n.valueToPosition(C)}else if(n instanceof Ut){var S=this.getAdjustedXLocation(i,r,e.locationX),P=this.getAdjustedXLocation(i,c,e.locationX);d=n.categoryToPosition(i[r],S);var F=void 0;c&&(F=n.categoryToPosition(i[c],P)),I(F)||(F=1),d=F+(d-F)*l}if(o instanceof Ct){I(u)||(u=0);var p=void 0,m=i.getWorkingValue(a);A?p=i.getWorkingValue(A):o==this.baseAxis&&(p=o.baseValue),I(p)||(p=m);var g=i.getValue("valueY","stack");if(p+=g,m+=g,p==m){var y=o.baseInterval,x=o.dateFormatter;p=Hr(new Date(p),y.timeUnit,y.count,x.firstDayOfWeek,x.utc,void 0,x.timezoneMinutes,x.timezone).getTime(),m=Fs(new Date(p),y.timeUnit,y.count,x.utc).getTime()}var C=void 0;o==this.baseAxis?C=p+(m-p)*u:C=p+(m-p)*(1-u),f=o.valueToPosition(C)}else if(o instanceof Ne){I(u)||(u=0);var p=void 0,m=i.getWorkingValue(a);A?p=i.getWorkingValue(A):p=o.baseValue;var g=i.getValue("valueY","stack");p+=g,m+=g;var C=p+(m-p)*(1-u);f=o.valueToPosition(C)}else if(o instanceof Ut){f=o.categoryToPosition(i[a],u);var O=this.getAdjustedYLocation(i,a,e.locationY),$=this.getAdjustedYLocation(i,A,e.locationY);f=o.categoryToPosition(i[a],O);var L=void 0;A&&(L=o.categoryToPosition(i[A],$)),I(L)||(L=1),f=L+(f-L)*u}e.visible=!0,this.positionBulletReal(e,d,f)}else e.visible=!1}},t.prototype.positionBulletReal=function(e,i,r){e.x=this.xAxis.renderer.positionToPoint(i,r).x,e.y=this.yAxis.renderer.positionToPoint(r,i).y},t.prototype.getBulletLocationX=function(e,i){var r=e.locationX,a=e.dataItem;return I(r)||(r=a.workingLocations[i]),r},t.prototype.getBulletLocationY=function(e,i){var r=e.locationY,a=e.dataItem;return I(r)||(r=a.workingLocations[i]),r},t.prototype.updateStacking=function(){var e=this;this.invalidateDataItems(),this.chart&&this.chart.series.each(function(i){i.baseAxis==e.baseAxis&&(i.stackedSeries=void 0,i.invalidateDataItems(),i.invalidateProcessedData())})},Object.defineProperty(t.prototype,"stacked",{get:function(){return this.getPropertyValue("stacked")},set:function(e){if(this.setPropertyValue("stacked",e,!0)){this.updateStacking();var i=this.xAxis,r=this.yAxis;if(!e){var a;i!=this.baseAxis&&i instanceof Ne&&(a=this.xField),r!=this.baseAxis&&r instanceof Ne&&(a=this.yField),a&&this.dataItems.each(function(n){n.setCalculatedValue(a,0,"stack"),n.setCalculatedValue(a,0,"stackTrue")})}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(e){this.setPropertyValue("snapTooltip",e)},enumerable:!0,configurable:!0}),t.prototype.show=function(e){var i=this;this.isHidden&&(this.appeared&&this.xAxis instanceof Ct&&this.xAxis.groupData&&(this._tmin.setKey(this.yAxis.uid,void 0),this._tmax.setKey(this.yAxis.uid,void 0)),this.appeared&&this.yAxis instanceof Ct&&this.yAxis.groupData&&(this._tmin.setKey(this.xAxis.uid,void 0),this._tmax.setKey(this.xAxis.uid,void 0)));var r;this.xAxis instanceof Ne&&this.xAxis!=this.baseAxis&&(r=this._xValueFields),this.yAxis instanceof Ne&&this.yAxis!=this.baseAxis&&(r=this._yValueFields);var a=this.startIndex,n=this.endIndex,o=0,l=this.defaultState.transitionDuration;I(e)&&(l=e),et.animationsEnabled||(l=0);var u;ce(Rn(this.dataItems.iterator()),function(c){var A=c[0],d=c[1],f=l;(A<i.startIndex-10||A>i.endIndex+10)&&(f=0,o=0),i.sequencedInterpolation&&f>0&&(o=i.sequencedInterpolationDelay*A+l*(A-a)/(n-a)),u=d.show(f,o,r)}),this.dataSets.each(function(c,A){A!=i.dataItems&&A.each(function(d){d.events.disable(),d.show(0,0,r),d.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(c){c.events.disable(),c.show(0,0,r),c.events.enable()});var h=s.prototype.show.call(this,e);return u&&!u.isFinished()&&(h=u),this.hidden&&(this.dispatchImmediately("selectionextremeschanged"),this.hidden=!1),h},t.prototype.hide=function(e){var i=this,r,a,n=this.xAxis;n instanceof Ne&&n!=this.baseAxis&&(r=this._xValueFields,this.stacked||n.minZoomed<n.baseValue&&n.maxZoomed>n.baseValue||this.stackedSeries?a=n.baseValue:a=n.min);var o=this.yAxis;o instanceof Ne&&o!=this.baseAxis&&(r=this._yValueFields,this.stacked||o.minZoomed<o.baseValue&&o.maxZoomed>o.baseValue||this.stackedSeries?a=o.baseValue:a=o.min);var l=this.startIndex,u=this.endIndex,h=this.hiddenState.transitionDuration;I(e)&&(h=e),et.animationsEnabled||(h=0);var c=0,A;ce(Rn(this.dataItems.iterator()),function(f){var p=f[0],m=f[1],g=h;(p<i.startIndex-10||p>i.endIndex+10)&&(g=0),g==0?m.hide(0,0,a,r):(i.sequencedInterpolation&&g>0&&(c=i.sequencedInterpolationDelay*p+h*(p-l)/(u-l)),A=m.hide(g,c,a,r))}),this.dataSets.each(function(f,p){p!=i.dataItems&&p.each(function(m){m.events.disable(),m.hide(0,0,a,r),m.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(f){f.events.disable(),f.hide(0,0,a,r),f.events.enable()});var d=s.prototype.hide.call(this,h);return d&&!d.isFinished()&&d.delay(c),A&&!A.isFinished()&&(d=A),this.appeared&&this.dispatch("selectionextremeschanged"),this.validateDataElements(),d},t.prototype.handleDataItemWorkingValueChange=function(e,i){s.prototype.handleDataItemWorkingValueChange.call(this,e,i);var r=this.baseAxis.series;ce(r.iterator(),function(a){(a.stacked||a.stackedSeries)&&a.invalidateProcessedData()})},t.prototype.getStackValue=function(e,i){var r=this,a=this.xAxis,n=this.yAxis;if(!(!this.stacked||!a||!n)){var o=this.chart,l=o.series.indexOf(this),u;if(a!=this.baseAxis&&a instanceof Ne&&(u=this.xField),n!=this.baseAxis&&n instanceof Ne&&(u=this.yField),!u)return;e.setCalculatedValue(u,0,"stack"),e.setCalculatedValue(u,0,"stackTrue"),Qr(o.series.range(0,l).backwards().iterator(),function(h){if(h.xAxis==a&&h.yAxis==n&&h.className==r.className){h.stackedSeries=r;var c=h.dataItems.getIndex(e.index);if(c&&c.hasValue(r._xValueFields)&&c.hasValue(r._yValueFields)){var A=e.getValue(u),d=void 0,f=c.getValue(u,"stackTrue");f==null&&(f=0);var p=c.getValue(u)+f;if(d=c.getWorkingValue(u)+c.getValue(u,"stack"),r.stackToNegative){if(A>=0&&p>=0||A<0&&p<0)return e.setCalculatedValue(u,d,"stack"),e.setCalculatedValue(u,p,"stackTrue"),!1;if(!h.stacked)return!1}else return e.setCalculatedValue(u,d,"stack"),e.setCalculatedValue(u,p,"stackTrue"),!1}else if(!h.stacked)return!1}return!0})}},Object.defineProperty(t.prototype,"stackToNegative",{get:function(){return this.getPropertyValue("stackToNegative")},set:function(e){this.setPropertyValue("stackToNegative",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xField",{get:function(){return this._xField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yField",{get:function(){return this._yField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xOpenField",{get:function(){return this._xOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yOpenField",{get:function(){return this._yOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipXField",{get:function(){return this._tooltipXField?this._tooltipXField:this._xField},set:function(e){this._tooltipXField=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipYField",{get:function(){return this._tooltipYField?this._tooltipYField:this._yField},set:function(e){this._tooltipYField=e},enumerable:!0,configurable:!0}),t.prototype.min=function(e){return this._tmin.getKey(e.uid)},t.prototype.max=function(e){return this._tmax.getKey(e.uid)},t.prototype.selectionMin=function(e){var i=this._smin.getKey(e.uid);return i},t.prototype.selectionMax=function(e){var i=this._smax.getKey(e.uid);return i},t.prototype.processConfig=function(e){if(e){if(V(e.baseAxis)&&ut(e.baseAxis)&&(this.map.hasKey(e.baseAxis)?e.baseAxis=this.map.getKey(e.baseAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.baseAxis+'" found for `baseAxis`.'),delete e.baseAxis)),V(e.xAxis)&&ut(e.xAxis)&&(this.map.hasKey(e.xAxis)?e.xAxis=this.map.getKey(e.xAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.xAxis+'" found for `xAxis`.'),delete e.xAxis)),V(e.yAxis)&&ut(e.yAxis)&&(this.map.hasKey(e.yAxis)?e.yAxis=this.map.getKey(e.yAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.yAxis+'" found for `yAxis`.'),delete e.yAxis)),V(e.axisRanges)&&bi(e.axisRanges))for(var i=0,r=e.axisRanges.length;i<r;i++){var a=e.axisRanges[i];V(a.type)||(a.type="AxisDataItem"),V(a.axis)&&ut(a.axis)&&this.map.hasKey(a.axis)?a.component=this.map.getKey(a.axis):V(a.component)&&ut(a.component)&&this.map.hasKey(a.component)&&(a.component=this.map.getKey(a.component))}(!V(e.dataFields)||!ri(e.dataFields))&&this.processingErrors.push("`dataFields` is not set for series ["+(this.name||"unnamed")+"]")}s.prototype.processConfig.call(this,e)},t.prototype.getPoint=function(e,i,r,a,n,o,l){if(this.xAxis&&this.yAxis){var u=this.xAxis.getX(e,i,a),h=this.yAxis.getY(e,r,n);return u=De(u,-this._maxxX,this._maxxX),h=De(h,-this._maxxY,this._maxxY),{x:u,y:h}}},t.prototype.updateItemReaderText=function(){if(!this._itemReaderTextChanged){var e="";Ue(this.dataFields,function(i,r){e+="{"+i+"} "}),this.itemReaderText=e,this._itemReaderTextChanged=!1}},Object.defineProperty(t.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(e){this.setPropertyValue("cursorTooltipEnabled",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorHoverEnabled",{get:function(){return this.getPropertyValue("cursorHoverEnabled")},set:function(e){this.setPropertyValue("cursorHoverEnabled",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"excludeFromTotal",{get:function(){return this.getPropertyValue("excludeFromTotal")},set:function(e){this.setPropertyValue("excludeFromTotal",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(e){this.setPropertyValue("hideTooltipWhileZooming",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e);var i=this.chart;i&&(e?this.bulletsContainer.parent=i.bulletsContainer:this.bulletsContainer.parent=i.axisBulletsContainer)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){this.groupFields=ma(e.groupFields,{}),s.prototype.copyFrom.call(this,e)},t.prototype.dispose=function(){this.scrollbarSeries&&this.scrollbarSeries.dispose(),s.prototype.dispose.call(this)},t}(cl);M.registeredClasses.XYSeries=Zr;M.registeredClasses.XYSeriesDataItem=Pc;var Yy=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="ZoomOutButton",e.padding(9,9,9,9),e.showSystemTooltip=!0;var i=new ze,r=e.background;r.cornerRadius(20,20,20,20),r.fill=i.getFor("primaryButton"),r.stroke=i.getFor("primaryButtonStroke"),r.strokeOpacity=0,r.states.getKey("hover").properties.fill=i.getFor("primaryButtonHover"),r.states.getKey("down").properties.fill=i.getFor("primaryButtonActive");var a=new ke;a.element=e.paper.add("path");var n=_e({x:0,y:0});return n+=he({x:11,y:0}),a.path=n,a.pixelPerfect=!0,a.padding(8,3,8,3),a.stroke=i.getFor("primaryButtonText"),e.icon=a,e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Zoom Out"))},t}(ba);M.registeredClasses.ZoomOutButton=Yy;var Fc=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="DesaturateFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"saturate"}),e.filterPrimitives.push(e.feColorMatrix),e.width=120,e.height=120,e.saturation=0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"saturation",{get:function(){return this.properties.saturation},set:function(e){this.properties.saturation=e,this.feColorMatrix.attr({values:e.toString()})},enumerable:!0,configurable:!0}),t}(pn);M.registeredClasses.DesaturateFilter=Fc;var eu=function(s){N(t,s);function t(){var e=s.call(this)||this;e._chart=new Ci,e.className="XYChartScrollbar";var i=new ze;e.padding(0,0,0,0);var r=e.createChild(Lt);if(r.shouldClone=!1,r.margin(0,0,0,0),r.padding(0,0,0,0),r.interactionsEnabled=!1,e._scrollbarChart=r,!ol()){var a=new Fc;a.filterUnits="userSpaceOnUse",r.plotContainer.filters.push(a)}e._disposers.push(e._scrollbarChart),e.minHeight=60,e.minWidth=60;var n=e.createChild(ke);n.shouldClone=!1,n.setElement(e.paper.add("path")),n.fill=i.getFor("background"),n.fillOpacity=.8,n.interactionsEnabled=!1,n.isMeasured=!1,n.toBack(),e._unselectedOverlay=n,e._disposers.push(e._unselectedOverlay),r.toBack(),e.background.cornerRadius(0,0,0,0);var o=e.thumb.background;o.cornerRadius(0,0,0,0),o.fillOpacity=0,o.fill=i.getFor("background");var l=o.states.getKey("hover");l&&(l.properties.fillOpacity=.2);var u=o.states.getKey("down");return u&&(u.properties.fillOpacity=.4),e._disposers.push(e._chart),e.applyTheme(),e}return Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new gt,this._disposers.push(this._series.events.on("inserted",this.handleSeriesAdded,this,!1)),this._disposers.push(this._series.events.on("removed",this.handleSeriesRemoved,this,!1))),this._series},enumerable:!0,configurable:!0}),t.prototype.handleSeriesAdded=function(e){var i=this,r=e.newValue;if(!(!r.xAxis||!r.yAxis)){var a=this.scrollbarChart;a.zoomOutButton.disabled=!0,this.chart=r.chart,a.dateFormatter.inputDateFormat=this.chart.dateFormatter.inputDateFormat,a.language.locale=this.chart.language.locale;var n=!0,o=!0;ce(this.series.iterator(),function(x){x!=r&&(x.xAxis==r.xAxis&&i.scrollbarChart.xAxes.length>0&&(n=!1),x.yAxis==r.yAxis&&i.scrollbarChart.yAxes.length>0&&(o=!1))}),r.events.on("beforedisposed",function(){i.series.removeValue(r)});var l=new ze,u=r.clone();if((et.onlyShowOnViewport||et.queue)&&this.addDisposer(this.chart.events.on("removedfromqueue",function(){a.invalidateData()})),ol()&&(u.stroke=Ve("#aaaaaa"),u.fill=u.stroke,u.propertyFields.fill=void 0,u.propertyFields.stroke=void 0),r.scrollbarSeries=u,n){var h=r.xAxis.clone();a.xAxes.moveValue(h),h.title.disabled=!0,h.rangeChangeDuration=0;var c=h.renderer;c.ticks.template.disabled=!0,c.inside=!0,c.labels.template.inside=!0,c.line.strokeOpacity=0,c.minLabelPosition=.02,c.maxLabelPosition=.98,c.line.disabled=!0,c.axisFills.template.disabled=!0,c.baseGrid.disabled=!0,c.grid.template.strokeOpacity=.05,c.minWidth=void 0,c.minHeight=void 0,c.padding(0,0,0,0),c.chart=a,c.margin(0,0,0,0),h.width=ue(100);var A=c.labels.template;if(A.fillOpacity=.5,h.maxZoomCount=void 0,h.minZoomCount=void 0,h instanceof Ct){var d=h,f=r.xAxis;d.groupCount=f.groupCount*5,d.min=void 0,d.max=void 0,this._disposers.push(d.clonedFrom.events.on("extremeschanged",function(){I(d.clonedFrom.minDefined)&&(d.min=d.clonedFrom.minDefined),I(d.clonedFrom.maxDefined)&&(d.max=d.clonedFrom.maxDefined)},void 0,!1))}else if(h instanceof Ne){var p=h;p.min=void 0,p.max=void 0,I(p.clonedFrom.minDefined)||(p.min=void 0),I(p.clonedFrom.maxDefined)||(p.max=void 0),this._disposers.push(p.clonedFrom.events.on("extremeschanged",function(){I(p.clonedFrom.minDefined)&&(p.min=p.clonedFrom.min),I(p.clonedFrom.maxDefined)&&(p.max=p.clonedFrom.max)},void 0,!1))}u.xAxis=h}else this.scrollbarChart.xAxes.each(function(x){x.clonedFrom==r.xAxis&&(u.xAxis=x)});if(o){var m=r.yAxis.clone();a.yAxes.moveValue(m),m.title.disabled=!0,m.rangeChangeDuration=0;var c=m.renderer;c.ticks.template.disabled=!0,c.inside=!0,c.labels.template.inside=!0,c.line.strokeOpacity=0,c.minLabelPosition=.02,c.maxLabelPosition=.98,c.line.disabled=!0,c.axisFills.template.disabled=!0,c.grid.template.stroke=l.getFor("background"),c.baseGrid.disabled=!0,c.grid.template.strokeOpacity=.05,c.minWidth=void 0,c.minHeight=void 0,c.chart=a,c.padding(0,0,0,0),c.margin(0,0,0,0),m.height=ue(100);var A=c.labels.template;if(A.fillOpacity=.5,u.yAxis=m,m.maxZoomCount=void 0,m.minZoomCount=void 0,m instanceof Ct){var g=m;g.min=void 0,g.max=void 0;var f=r.yAxis;m.groupCount=f.groupCount*5,this._disposers.push(g.clonedFrom.events.on("extremeschanged",function(){I(g.clonedFrom.minDefined)&&(g.min=g.clonedFrom.minDefined),I(g.clonedFrom.maxDefined)&&(g.max=g.clonedFrom.maxDefined)}))}else if(m instanceof Ne){var y=m;y.min=void 0,y.max=void 0,I(y.clonedFrom.minDefined)||(y.min=void 0),I(y.clonedFrom.maxDefined)||(y.max=void 0),this._disposers.push(y.clonedFrom.events.on("extremeschanged",function(){I(y.clonedFrom.minDefined)&&(y.min=y.clonedFrom.minDefined),I(y.clonedFrom.maxDefined)&&(y.max=y.clonedFrom.maxDefined)}))}}else this.scrollbarChart.yAxes.each(function(x){x.clonedFrom==r.yAxis&&(u.yAxis=x)});u.rangeChangeDuration=0,u.interpolationDuration=0,u.defaultState.transitionDuration=0,u.showOnInit=!1,this._disposers.push(u.events.on("validated",this.zoomOutAxes,this,!1)),this._disposers.push(r.events.on("datavalidated",function(){u.data!=r.data&&(u.data=r.data)},void 0,!1)),u.defaultState.properties.visible=!0,a.series.push(u),this.updateByOrientation()}},t.prototype.updateByOrientation=function(){var e=this;this._scrollbarChart&&(ce(this._scrollbarChart.xAxes.iterator(),function(i){var r=i.renderer;e.orientation=="vertical"?(r.grid.template.disabled=!0,r.labels.template.disabled=!0,r.minGridDistance=10):(r.grid.template.disabled=!1,r.labels.template.disabled=!1,r.minGridDistance=i.clonedFrom.renderer.minGridDistance)}),ce(this._scrollbarChart.yAxes.iterator(),function(i){var r=i.renderer;e.orientation=="horizontal"?(r.grid.template.disabled=!0,r.labels.template.disabled=!0,r.minGridDistance=10):(r.grid.template.disabled=!1,r.labels.template.disabled=!1,r.minGridDistance=i.clonedFrom.renderer.minGridDistance)}))},t.prototype.handleSeriesRemoved=function(e){var i=e.oldValue,r=this.scrollbarChart;r.series.each(function(a){a&&a.clonedFrom==i&&r.series.removeValue(a)}),r.series.length==0&&(r.xAxes.clear(),r.yAxes.clear());try{i.events.off("validated",this.zoomOutAxes,this)}catch{}},Object.defineProperty(t.prototype,"scrollbarChart",{get:function(){return this._scrollbarChart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.get()!==e&&(this._chart.set(e,e.events.on("datavalidated",this.handleDataChanged,this,!1)),this.handleDataChanged(),this._scrollbarChart.dataProvider=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unselectedOverlay",{get:function(){return this._unselectedOverlay},enumerable:!0,configurable:!0}),t.prototype.handleDataChanged=function(){this.chart.data!=this.scrollbarChart.data?this.scrollbarChart.data=this.chart.data:this.scrollbarChart.invalidateRawData()},t.prototype.zoomOutAxes=function(){var e=this.scrollbarChart;ce(e.xAxes.iterator(),function(i){i.zoom({start:0,end:1},!0,!0)}),ce(e.yAxes.iterator(),function(i){i.zoom({start:0,end:1},!0,!0)})},t.prototype.updateThumb=function(e){if(e===void 0&&(e=!0),s.prototype.updateThumb.call(this,e),this._unselectedOverlay){var i=this.thumb,r=i.pixelX||0,a=i.pixelY||0,n=i.pixelWidth||0,o=i.pixelHeight||0,l="";this.orientation=="horizontal"?(l=fn({x:-1,y:0,width:r,height:o}),l+=fn({x:r+n,y:0,width:(this.pixelWidth||0)-r-n,height:o})):(l=fn({x:0,y:0,width:n,height:a}),l+=fn({x:0,y:a+o,width:n,height:(this.pixelHeight||0)-a-o})),this._unselectedOverlay.path=l}},t.prototype.processConfig=function(e){if(e&&V(e.series)&&bi(e.series))for(var i=0,r=e.series.length;i<r;i++){var a=e.series[i];if(V(a)&&ut(a))if(this.map.hasKey(a))e.series[i]=this.map.getKey(a);else throw Error("XYChartScrollbar error: Series with id `"+a+"` does not exist.")}s.prototype.processConfig.call(this,e)},t}(yo);M.registeredClasses.XYChartScrollbar=eu;var Tc=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="XYChartDataItem",e.applyTheme(),e}return t}(Lp);var Lt=function(s){N(t,s);function t(){var e=s.call(this)||this;e._axisRendererX=br,e._axisRendererY=Dr,e._seriesPoints=[],e.className="XYChart",e.maskBullets=!0,e.arrangeTooltips=!0;var i=e.chartContainer;i.layout="vertical",e.padding(15,15,15,15);var r=i.createChild(Fe);r.shouldClone=!1,r.layout="vertical",r.width=ue(100),r.zIndex=1,e.topAxesContainer=r;var a=i.createChild(Fe);a.shouldClone=!1,a.layout="horizontal",a.width=ue(100),a.height=ue(100),a.zIndex=0,e.yAxesAndPlotContainer=a;var n=i.createChild(Fe);n.shouldClone=!1,n.width=ue(100),n.layout="vertical",n.zIndex=1,e.bottomAxesContainer=n;var o=a.createChild(Fe);o.shouldClone=!1,o.layout="horizontal",o.height=ue(100),o.contentAlign="right",o.events.on("transformed",e.updateXAxesMargins,e,!1),o.zIndex=1,e.leftAxesContainer=o;var l=a.createChild(Fe);l.shouldClone=!1,l.height=ue(100),l.width=ue(100),l.background.fillOpacity=0,e.plotContainer=l,e.mouseWheelBehavior="none",e._cursorContainer=l;var u=a.createChild(Fe);u.shouldClone=!1,u.layout="horizontal",u.height=ue(100),u.zIndex=1,u.events.on("transformed",e.updateXAxesMargins,e,!1),e.rightAxesContainer=u,e.seriesContainer.parent=l,e.bulletsContainer.parent=l;var h=l.createChild(Yy);h.shouldClone=!1,h.align="right",h.valign="top",h.zIndex=Number.MAX_SAFE_INTEGER,h.marginTop=5,h.marginRight=5,h.hide(0),e.zoomOutButton=h;var c=e.plotContainer.createChild(Fe);return c.shouldClone=!1,c.width=ue(100),c.height=ue(100),c.isMeasured=!1,c.zIndex=4,c.layout="none",e.axisBulletsContainer=c,e._bulletMask=e.plotContainer,e.events.on("beforedatavalidated",function(){e.series.each(function(A){A.dataGrouped=!1,A._baseInterval={}})},e,!1),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),this.zoomOutButton.exportable=!1,V(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y chart"))},t.prototype.draw=function(){s.prototype.draw.call(this),this.seriesContainer.toFront(),this.bulletsContainer.toFront(),this.maskBullets&&(this.bulletsContainer.mask=this._bulletMask),this.updateSeriesLegend()},t.prototype.updatePlotElements=function(){ce(this.series.iterator(),function(e){e.invalidate()})},t.prototype.validateData=function(){this._parseDataFrom==0&&(ce(this.xAxes.iterator(),function(e){e.dataChangeUpdate()}),ce(this.yAxes.iterator(),function(e){e.dataChangeUpdate()}),ce(this.series.iterator(),function(e){e.dataChangeUpdate()})),s.prototype.validateData.call(this)},t.prototype.updateXAxesMargins=function(){var e=this.leftAxesContainer.measuredWidth,i=this.rightAxesContainer.measuredWidth,r=this.bottomAxesContainer;(r.paddingLeft!=e||r.paddingRight!=i)&&(r.paddingLeft=e,r.paddingRight=i);var a=this.topAxesContainer;(a.paddingLeft!=e||a.paddingRight!=i)&&(a.paddingLeft=e,a.paddingRight=i)},t.prototype.reinit=function(){s.prototype.reinit.call(this),this.series.each(function(e){e.appeared=!1})},t.prototype.handleXAxisChange=function(e){this.updateXAxis(e.target)},t.prototype.handleYAxisChange=function(e){this.updateYAxis(e.target)},t.prototype.processXAxis=function(e){var i=e.newValue;i.chart=this,i.renderer||(i.renderer=new this._axisRendererX,i.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleXAxisChange,this,!1)),i.axisLetter="X",i.events.on("startendchanged",this.handleXAxisRangeChange,this,!1),i.dataProvider=this,this.updateXAxis(i.renderer),this.processAxis(i)},t.prototype.processYAxis=function(e){var i=e.newValue;i.chart=this,i.renderer||(i.renderer=new this._axisRendererY,i.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleYAxisChange,this,!1)),i.axisLetter="Y",i.events.on("startendchanged",this.handleYAxisRangeChange,this,!1),i.dataProvider=this,this.updateYAxis(i.renderer),this.processAxis(i)},t.prototype.handleXAxisRangeChange=function(){var e=this.getCommonAxisRange(this.xAxes);this.scrollbarX&&this.zoomAxes(this.xAxes,e,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarX,e)},t.prototype.toggleZoomOutButton=function(){if(this.zoomOutButton){var e=!1;Qr(this.xAxes.iterator(),function(i){if(i.toggleZoomOutButton){if(i.maxZoomCount>0){var r=i.maxZoomFactor/i.maxZoomCount;if(ve(i.end-i.start,3)<1/r)return e=!0,!1}else if(ve(i.start,3)>0||ve(i.end,3)<1)return e=!0,!1}return!0}),Qr(this.yAxes.iterator(),function(i){if(i.toggleZoomOutButton){if(i.maxZoomCount>0){var r=i.maxZoomFactor/i.maxZoomCount;if(ve(i.end-i.start,3)<1/r)return e=!0,!1}else if(ve(i.start,3)>0||ve(i.end,3)<1)return e=!0,!1;return!0}}),this.seriesAppeared||(e=!1),e?this.zoomOutButton.show():this.zoomOutButton.hide()}},t.prototype.seriesAppeared=function(){var e=!1;return ce(this.series.iterator(),function(i){if(!i.appeared)return e=!1,!1}),e},t.prototype.handleYAxisRangeChange=function(){var e=this.getCommonAxisRange(this.yAxes);this.scrollbarY&&this.zoomAxes(this.yAxes,e,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarY,e)},t.prototype.updateScrollbar=function(e,i){e&&(e.skipRangeEvents(),e.start=i.start,e.end=i.end)},t.prototype.getCommonAxisRange=function(e){var i,r;return e.each(function(a){if(!(!a.zoomable||a instanceof Ne&&a.syncWithAxis)){var n=a.start,o=a.end;a.renderer.inversed&&(n=1-a.end,o=1-a.start),(!I(i)||n<i)&&(i=n),(!I(r)||o>r)&&(r=o)}}),{start:i,end:r}},t.prototype.updateXAxis=function(e){var i=e.axis;e.opposite?(i.parent=this.topAxesContainer,i.toFront()):(i.parent=this.bottomAxesContainer,i.toBack()),i.renderer&&i.renderer.processRenderer()},t.prototype.updateYAxis=function(e){var i=e.axis;e.opposite?(i.parent=this.rightAxesContainer,i.toBack()):(i.parent=this.leftAxesContainer,i.toFront()),i.renderer&&i.renderer.processRenderer()},t.prototype.processAxis=function(e){var i=this;e instanceof Ut&&this._dataUsers.moveValue(e);var r=e.renderer;r.gridContainer.parent=this.plotContainer,r.gridContainer.toBack(),r.breakContainer.parent=this.plotContainer,r.breakContainer.toFront(),r.breakContainer.zIndex=10,e.addDisposer(new Ft(function(){i.dataUsers.removeValue(e)})),r.bulletsContainer.parent=this.axisBulletsContainer,this._disposers.push(e.events.on("positionchanged",function(){var a=Yr({x:0,y:0},e,i.axisBulletsContainer);e.renderer instanceof Dr&&(r.bulletsContainer.y=a.y),e.renderer instanceof br&&(r.bulletsContainer.x=a.x)},void 0,!1)),this.plotContainer.events.on("maxsizechanged",function(){i.inited&&(e.invalidateDataItems(),i.updateSeriesMasks())},e,!1)},t.prototype.updateSeriesMasks=function(){ol()&&this.series.each(function(e){var i=e.mainContainer.mask;e.mainContainer.mask=void 0,e.mainContainer.mask=i})},t.prototype.handleSeriesRemoved=function(e){var i=e.oldValue;i&&(i.xAxis&&(i.xAxis.series.removeValue(i),i.xAxis.invalidateProcessedData()),i.yAxis&&(i.yAxis.series.removeValue(i),i.yAxis.invalidateProcessedData()),this.series.each(function(r){r.resetExtremes()})),s.prototype.handleSeriesRemoved.call(this,e)},Object.defineProperty(t.prototype,"xAxes",{get:function(){return this._xAxes||(this._xAxes=new gt,this._xAxes.events.on("inserted",this.processXAxis,this,!1),this._xAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new Tt(this._xAxes,!1))),this._xAxes},enumerable:!0,configurable:!0}),t.prototype.handleAxisRemoval=function(e){var i=e.oldValue;this.dataUsers.removeValue(i),i.autoDispose&&i.dispose()},Object.defineProperty(t.prototype,"yAxes",{get:function(){return this._yAxes||(this._yAxes=new gt,this._yAxes.events.on("inserted",this.processYAxis,this,!1),this._yAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new Tt(this._yAxes,!1))),this._yAxes},enumerable:!0,configurable:!0}),t.prototype.handleSeriesAdded=function(e){try{s.prototype.handleSeriesAdded.call(this,e);var i=e.newValue;(this.xAxes.length==0||this.yAxes.length==0)&&(M.removeFromInvalidComponents(i),i.dataInvalid=!1),i.xAxis,i.yAxis,i.maskBullets=i.maskBullets,i.fill==null&&(this.patterns?(V(i.stroke)||(i.stroke=this.colors.next()),i.fill=this.patterns.next(),V(i.fillOpacity)&&(i.fill.backgroundOpacity=i.fillOpacity),i.stroke instanceof xt&&(i.fill.stroke=i.stroke,i.fill.fill=i.stroke)):i.fill=this.colors.next()),V(i.stroke)||(i.stroke=i.fill)}catch(r){this.raiseCriticalError(r)}},Object.defineProperty(t.prototype,"cursor",{get:function(){return this._cursor},set:function(e){this._cursor!=e&&(this._cursor&&this.removeDispose(this._cursor),this._cursor=e,e&&(this._disposers.push(e),e.chart=this,e.shouldClone=!1,e.parent=this._cursorContainer,e.events.on("cursorpositionchanged",this.handleCursorPositionChange,this,!1),e.events.on("zoomstarted",this.handleCursorZoomStart,this,!1),e.events.on("zoomended",this.handleCursorZoomEnd,this,!1),e.events.on("panstarted",this.handleCursorPanStart,this,!1),e.events.on("panning",this.handleCursorPanning,this,!1),e.events.on("panended",this.handleCursorPanEnd,this,!1),e.events.on("behaviorcanceled",this.handleCursorCanceled,this,!1),e.events.on("hidden",this.handleHideCursor,this,!1),e.zIndex=Number.MAX_SAFE_INTEGER-1,this.tapToActivate&&this.setTapToActivate(this.tapToActivate)))},enumerable:!0,configurable:!0}),t.prototype.handleCursorPositionChange=function(){var e=this.cursor;if(e.visible&&!e.isHiding){var i=this.cursor.xPosition,r=this.cursor.yPosition;this.showSeriesTooltip({x:i,y:r});var a=[],n=e.snapToSeries;if(n&&!e.downPoint){n instanceof Zr&&(n=[n]);var o=[];we(n,function(u){if(!u.isHidden&&!u.isHiding){var h=u.xAxis,c=u.yAxis;h instanceof Ne&&!(h instanceof Ct)&&c instanceof Ne&&!(c instanceof Ct)?(u.dataItems.each(function(A){o.push(A)}),pa(a,u.yAxis),pa(a,u.xAxis)):(u.baseAxis==u.xAxis&&(pa(a,u.yAxis),o.push(h.getSeriesDataItem(u,h.toAxisPosition(i),!0))),u.baseAxis==u.yAxis&&(pa(a,u.xAxis),o.push(c.getSeriesDataItem(u,c.toAxisPosition(r),!0))))}});var l=this.getClosest(o,i,r);l&&(this.series.each(function(u){var h=l.component;u!=h&&(u.hideTooltip(),u.xAxis!=h.xAxis&&(u.xAxis.hideTooltip(),a.push(u.xAxis)),u.yAxis!=h.yAxis&&(u.yAxis.hideTooltip(),a.push(u.yAxis)))}),l.component.showTooltipAtDataItem(l),e.handleSnap(l.component))}this._seriesPoints=[],this._cursorXPosition!=i&&this.showAxisTooltip(this.xAxes,i,a),this._cursorYPosition!=r&&this.showAxisTooltip(this.yAxes,r,a),this.arrangeTooltips&&this.sortSeriesTooltips(this._seriesPoints),this.legend&&this.legend.afterDraw()}},t.prototype.getClosest=function(e,i,r){var a=1/0,n;return Vd(e,function(o){if(o){var l=o.component.xAxis,u=o.component.yAxis,h=l.positionToCoordinate(l.toGlobalPosition(l.toAxisPosition(i))),c=u.positionToCoordinate(u.toGlobalPosition(u.toAxisPosition(r))),A=o.component.xField,d=o.component.yField;if(l instanceof Ne&&!I(o.getValue(A))||u instanceof Ne&&!I(o.getValue(d)))return!0;var f=l.positionToCoordinate(l.toGlobalPosition(l.getPositionX(o,A,o.locations[A],"valueX"))),p=u.positionToCoordinate(u.toGlobalPosition(u.getPositionY(o,d,o.locations[d],"valueY"))),m=Math.sqrt(Math.pow(h-f,2)+Math.pow(c-p,2));return m<a&&(a=m,n=o),!0}}),n},t.prototype.handleHideCursor=function(){this.hideObjectTooltip(this.xAxes),this.hideObjectTooltip(this.yAxes),this.hideObjectTooltip(this.series),this._cursorXPosition=void 0,this._cursorYPosition=void 0,this.updateSeriesLegend()},t.prototype.updateSeriesLegend=function(){ce(this.series.iterator(),function(e){e.updateLegendValue()})},t.prototype.hideObjectTooltip=function(e){ce(e.iterator(),function(i){i.cursorTooltipEnabled&&i.hideTooltip(0)})},t.prototype.showSeriesTooltip=function(e){var i=this;if(!e){this.series.each(function(a){a.hideTooltip()});return}var r=[];this.series.each(function(a){if(!(a.xAxis instanceof Ct&&a.xAxis.snapTooltip||a.yAxis instanceof Ct&&a.yAxis.snapTooltip)){var n=a.showTooltipAtPosition(e.x,e.y);n&&(a.tooltip.setBounds(gc({x:0,y:0,width:i.pixelWidth,height:i.pixelHeight},i)),r.push({series:a,point:n}))}}),this.arrangeTooltips&&this.sortSeriesTooltips(r)},t.prototype.sortSeriesTooltips=function(e){if(e.length>0){var i=this.cursor;if(i&&I(i.maxTooltipDistance)){var r=sa({x:i.point.x,y:i.point.y},i),a,n,o=1/0;we(e,function(E){var D=E.series,H=E.point;if(H){var te={x:H.x,y:H.y},K=Math.abs(Et(te,r));K<o&&(n=te,o=K,a=D)}});var l=[];a&&(we(e,function(E){if(Math.abs(Et(E.point,n))<=Math.abs(i.maxTooltipDistance))l.push({series:E.series,point:E.point});else{var D=E.series.tooltipDataItem;D&&we(D.sprites,function(H){H.isHover=!1,H.handleOutReal()}),E.series.hideTooltip(0)}}),i.maxTooltipDistance<0&&(l.length>0&&we(l,function(E){a!=E.series&&E.series.hideTooltip(0)}),l=[{series:a,point:n}])),e=l}var u=sa({x:-.5,y:-.5},this.plotContainer),h=sa({x:this.plotContainer.pixelWidth+.5,y:this.plotContainer.pixelHeight+.5},this.plotContainer),c=0,A=[];we(e,function(E){var D=E.point;D&&fy(D,{x:u.x,y:u.y,width:h.x-u.x,height:h.y-u.y})&&(A.push({point:D,series:E.series}),c+=D.y)}),e=A;var d=this.series.getIndex(0),f=!1;d&&d.yAxis&&d.yAxis.renderer.inversed&&(f=!0),f?e.sort(function(E,D){return La(E.point.y,D.point.y)}):(e.sort(function(E,D){return La(D.point.y,E.point.y)}),e.reverse());var p=c/e.length,m=Dy({x:0,y:0},this.svgContainer.SVGContainer).y;if(e.length>0){var g=u.y,y=h.y;tA({x:0,y:g},this);var x=!1;if(p>g+(y-g)/2)for(var C=y,S=e.length-1;S>=0;S--){var P=e[S].series,F=P.tooltip,O=e[S].point.y;if(F.setBounds({x:0,y:-m,width:this.pixelWidth,height:C+m}),F.invalid&&F.validate(),F.toBack(),C=sa({x:0,y:F.label.pixelY-F.pixelY+O-F.pixelMarginTop},F).y,C<-m){x=!0;break}}if(p<=g+(y-g)/2||x)for(var $=g,S=0,L=e.length;S<L;S++){var P=e[S].series,O=e[S].point.y,F=P.tooltip;F.setBounds({x:0,y:$,width:this.pixelWidth,height:y}),F.invalid&&F.validate(),F.toBack(),$=sa({x:0,y:F.label.pixelY+F.label.measuredHeight-F.pixelY+O+F.pixelMarginBottom},F).y}}}},t.prototype.showAxisTooltip=function(e,i,r){var a=this;ce(e.iterator(),function(n){(!r||r.indexOf(n)==-1)&&(a.dataItems.length>0||n.dataItems.length>0)&&n.showTooltipAtPosition(i)})},t.prototype.getUpdatedRange=function(e,i){if(e){var r,a,n=e.renderer.inversed;n?(Rd(i),r=1-e.end,a=1-e.start):(r=e.start,a=e.end);var o=a-r;return{start:r+i.start*o,end:r+i.end*o}}},t.prototype.handleCursorZoomEnd=function(e){var i=this.cursor,r=i.behavior;if(r=="zoomX"||r=="zoomXY"){var a=i.xRange;a&&this.xAxes.length>0&&(a=this.getUpdatedRange(this.xAxes.getIndex(0),a),a.priority="start",this.zoomAxes(this.xAxes,a))}if(r=="zoomY"||r=="zoomXY"){var n=i.yRange;n&&this.yAxes.length>0&&(n=this.getUpdatedRange(this.yAxes.getIndex(0),n),n.priority="start",this.zoomAxes(this.yAxes,n))}this.handleHideCursor()},t.prototype.handleCursorPanStart=function(e){var i=this.xAxes.getIndex(0);i&&(this._panStartXRange={start:i.start,end:i.end},i.renderer.inversed&&(this._panStartXRange=Rd(this._panStartXRange)));var r=this.yAxes.getIndex(0);r&&(this._panStartYRange={start:r.start,end:r.end},r.renderer.inversed&&(this._panStartYRange=Rd(this._panStartYRange)))},t.prototype.handleCursorPanEnd=function(e){var i=this.cursor,r=i.behavior;if(this._panEndXRange&&(r=="panX"||r=="panXY")){var a=this._panEndXRange,n=this._panStartXRange,o=0;a.start<0&&(o=a.start),n.end>1?a.end>n.end&&(o=a.end-n.end):a.end>1&&(o=a.end-1),this.zoomAxes(this.xAxes,{start:a.start-o,end:a.end-o},!1,i.snapOnPan),this._panEndXRange=void 0,this._panStartXRange=void 0}if(this._panEndYRange&&(r=="panY"||r=="panXY")){var a=this._panEndYRange,o=0;a.start<0&&(o=a.start),a.end>1&&(o=a.end-1),this.zoomAxes(this.yAxes,{start:a.start-o,end:a.end-o},!1,i.snapOnPan),this._panEndYRange=void 0,this._panStartYRange=void 0}},t.prototype.handleCursorCanceled=function(){this._panEndXRange=void 0,this._panStartXRange=void 0},t.prototype.handleCursorPanning=function(e){var i=this.cursor,r=i.behavior,a=i.maxPanOut;if(this._panStartXRange&&(r=="panX"||r=="panXY")){var n=this._panStartXRange,o=i.xRange,l=this.getCommonAxisRange(this.xAxes),u=n.end-n.start,h=o.start*(l.end-l.start),c=Math.max(-a,h+n.start),A=Math.min(h+n.end,1+a);c<=0&&(A=c+u),A>=1&&(c=A-u);var d={start:c,end:A};this._panEndXRange=d,this.zoomAxes(this.xAxes,d,!1,!1,i.maxPanOut)}if(this._panStartYRange&&(r=="panY"||r=="panXY")){var n=this._panStartYRange,o=i.yRange,l=this.getCommonAxisRange(this.yAxes),u=n.end-n.start,h=o.start*(l.end-l.start),c=Math.max(-a,h+n.start),A=Math.min(h+n.end,1+a);c<=0&&(A=c+u),A>=1&&(c=A-u);var d={start:c,end:A};this._panEndYRange=d,this.zoomAxes(this.yAxes,d,!1,!1,i.maxPanOut)}this.handleHideCursor()},t.prototype.handleYAxisSet=function(e){},t.prototype.handleCursorZoomStart=function(e){},Object.defineProperty(t.prototype,"scrollbarX",{get:function(){return this._scrollbarX},set:function(e){var i=this;this._scrollbarX&&this.removeDispose(this._scrollbarX),this._scrollbarX=e,e&&(this._disposers.push(e),e.parent=this.topAxesContainer,e.shouldClone=!1,e.startGrip.exportable=!1,e.endGrip.exportable=!1,e.toBack(),e.orientation="horizontal",e.events.on("rangechanged",this.handleXScrollbarChange,this,!1),this.events.on("datavalidated",function(){return e.updateThumb(!1)},this,!1),e.adapter.add("positionValue",function(r){var a=i.xAxes.getIndex(0);return a&&(r.value=a.getPositionLabel(a.renderer.inversed?1-r.position:r.position)),r}),e.adapter.add("positionValueDirection",function(r){var a=i.xAxes.getIndex(0);return a&&(r.flipped=a.renderer.inversed),r}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollbarY",{get:function(){return this._scrollbarY},set:function(e){var i=this;this._scrollbarY&&this.removeDispose(this._scrollbarY),this._scrollbarY=e,e&&(this._disposers.push(e),e.parent=this.rightAxesContainer,e.startGrip.exportable=!1,e.shouldClone=!1,e.endGrip.exportable=!1,e.toFront(),e.orientation="vertical",e.events.on("rangechanged",this.handleYScrollbarChange,this,!1),this.events.on("datavalidated",function(){return e.updateThumb(!1)},this,!1),e.adapter.add("positionValue",function(r){var a=i.yAxes.getIndex(0);return a&&(r.value=a.getPositionLabel(a.renderer.inversed?r.position:1-r.position)),r}),e.adapter.add("positionValueDirection",function(r){var a=i.yAxes.getIndex(0);return a&&(r.flipped=!a.renderer.inversed),r}))},enumerable:!0,configurable:!0}),t.prototype.handleXScrollbarChange=function(e){if(this.inited){var i=e.target,r=i.range;r.start==0&&(r.priority="start"),r.end==1&&(r.priority="end"),r=this.zoomAxes(this.xAxes,r),i.fixRange(r)}},t.prototype.handleYScrollbarChange=function(e){if(this.inited){var i=e.target,r=i.range;r.end==1&&(r.priority="end"),r.start==0&&(r.priority="start"),r=this.zoomAxes(this.yAxes,r),i.fixRange(r)}},t.prototype.zoomAxes=function(e,i,r,a,n,o){var l={start:0,end:1};this.showSeriesTooltip();var u=i;return this.dataInvalid||ce(e.iterator(),function(h){var c=h.maxZoomFactor;if(I(h.minZoomCount)&&(c=c/h.minZoomCount),!(o&&1/(i.end-i.start)>=c)){if(h.zoomable){if(h.renderer.inversed?i=Rd(u):i=u,h.hideTooltip(0),a)if(h instanceof Ut){var A=h.getCellEndPosition(0)-h.getCellStartPosition(0);i.start=h.roundPosition(i.start+A/2-h.startLocation*A,h.startLocation),i.end=h.roundPosition(i.end-A/2+(1-h.endLocation)*A,h.endLocation)}else{var d=1e-4;i.start=h.roundPosition(i.start+d,0,h.startLocation),i.end=h.roundPosition(i.end+d,0,h.endLocation)}var f=h.zoom(i,r,r,n);h.renderer.inversed&&(f=Rd(f)),l=f}}}),l},Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e,!0)&&this.bulletsContainer&&(e?this.bulletsContainer.mask=this._bulletMask:this.bulletsContainer.mask=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arrangeTooltips",{get:function(){return this.getPropertyValue("arrangeTooltips")},set:function(e){this.setPropertyValue("arrangeTooltips",e,!0)},enumerable:!0,configurable:!0}),t.prototype.handleWheel=function(e){var i=this.plotContainer,r=co(e.point,this.htmlContainer,this.svgContainer.cssScale),a=Ps(r,i),n=e.shift.y;this.handleWheelReal(n,this.mouseWheelBehavior,a)},t.prototype.handleHorizontalWheel=function(e){var i=this.plotContainer,r=co(e.point,this.htmlContainer,this.svgContainer.cssScale),a=Ps(r,i);this.handleWheelReal(e.shift.x,this.horizontalMouseWheelBehavior,a)},t.prototype.handleWheelReal=function(e,i,r){if(e!=0){var a=this.plotContainer,n=this.getCommonAxisRange(this.xAxes),o=this.getCommonAxisRange(this.yAxes),l=.1,u=0;if(i=="panX"||i=="panXY"){var h=this.xAxes.getIndex(0),c=!1,A=l;h instanceof Ut&&(A=.5/((n.end-n.start)*h.dataItems.length),c=!0),l=Math.max(.2,A);var d=n.end-n.start,f=Math.max(-u,n.start+l*e/100*(n.end-n.start)),p=Math.min(n.end+l*e/100*(n.end-n.start),1+u);f<=0&&(p=f+d),p>=1&&(f=p-d),this.zoomAxes(this.xAxes,{start:f,end:p},void 0,c)}if(i=="panY"||i=="panXY"){var m=this.yAxes.getIndex(0),A=l,c=!1;m instanceof Ut&&(A=.5/((n.end-n.start)*m.dataItems.length),c=!0),l=Math.max(.2,A),e*=-1;var g=o.end-o.start,y=Math.max(-u,o.start+l*e/100*(o.end-o.start)),x=Math.min(o.end+l*e/100*(o.end-o.start),1+u);y<=0&&(x=y+g),x>=1&&(y=x-g),this.zoomAxes(this.yAxes,{start:y,end:x},void 0,c)}if(i=="zoomX"||i=="zoomXY"){var C=r.x/a.maxWidth,S=this.xAxes.getIndex(0).toAxisPosition(C),f=Math.max(-u,n.start-l*(n.end-n.start)*e/100*C);f=Math.min(f,S);var p=Math.min(n.end+l*(n.end-n.start)*e/100*(1-C),1+u);p=Math.max(p,S),this.zoomAxes(this.xAxes,{start:f,end:p},void 0)}if(i=="zoomY"||i=="zoomXY"){var P=r.y/a.maxHeight,F=this.yAxes.getIndex(0).toAxisPosition(P),y=Math.max(-u,o.start-l*(o.end-o.start)*e/100*(1-P));y=Math.min(y,F);var x=Math.min(o.end+l*e/100*P*(o.end-o.start),1+u);x=Math.max(x,F),this.zoomAxes(this.yAxes,{start:y,end:x},void 0)}}},Object.defineProperty(t.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(e){this.setPropertyValue("mouseWheelBehavior",e)&&(e!="none"?(this._mouseWheelDisposer=this.plotContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):this._mouseWheelDisposer&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer.dispose()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalMouseWheelBehavior",{get:function(){return this.getPropertyValue("horizontalMouseWheelBehavior")},set:function(e){this.setPropertyValue("horizontalMouseWheelBehavior",e)&&(e!="none"?(this._mouseWheelDisposer2=this.plotContainer.events.on("wheel",this.handleHorizontalWheel,this,!1),this._disposers.push(this._mouseWheelDisposer2)):this._mouseWheelDisposer2&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer2.dispose()))},enumerable:!0,configurable:!0}),t.prototype.dataSourceDateFields=function(e){var i=this;return e=s.prototype.dataSourceDateFields.call(this,e),ce(this.series.iterator(),function(r){e=i.populateDataSourceFields(e,r.dataFields,["dateX","dateY","openDateX","openDateY"])}),e},t.prototype.dataSourceNumberFields=function(e){var i=this;return e=s.prototype.dataSourceDateFields.call(this,e),ce(this.series.iterator(),function(r){e=i.populateDataSourceFields(e,r.dataFields,["valueX","valueY","openValueX","openValueY"])}),e},t.prototype.processConfig=function(e){if(e){var i=[],r=[];if(V(e.xAxes)&&bi(e.xAxes))for(var a=0,n=e.xAxes.length;a<n;a++)if(e.xAxes[a].type){if(V(e.xAxes[a].axisRanges)){for(var o=0,l=e.xAxes[a].axisRanges.length;o<l;o++){var u=e.xAxes[a].axisRanges[o];V(u.date)&&ut(u.date)&&(u.date=this.dateFormatter.parse(u.date)),V(u.endDate)&&ut(u.endDate)&&(u.endDate=this.dateFormatter.parse(u.endDate))}i.push({axisRanges:e.xAxes[a].axisRanges,index:a}),delete e.xAxes[a].axisRanges}}else throw Error("[XYChart error] No type set for xAxes["+a+"].");if(V(e.yAxes)&&bi(e.yAxes))for(var a=0,n=e.yAxes.length;a<n;a++)if(e.yAxes[a].type){if(V(e.yAxes[a].axisRanges)){for(var o=0,h=e.yAxes[a].axisRanges.length;o<h;o++){var u=e.yAxes[a].axisRanges[o];V(u.date)&&ut(u.date)&&(u.date=this.dateFormatter.parse(u.date)),V(u.endDate)&&ut(u.endDate)&&(u.endDate=this.dateFormatter.parse(u.endDate))}r.push({axisRanges:e.yAxes[a].axisRanges,index:a}),delete e.yAxes[a].axisRanges}}else throw Error("[XYChart error] No type set for yAxes["+a+"].");if(V(e.series)&&bi(e.series))for(var a=0,n=e.series.length;a<n;a++)e.series[a].type=e.series[a].type||"LineSeries";if(V(e.cursor)&&!V(e.cursor.type)&&(e.cursor.type="XYCursor"),V(e.scrollbarX)&&!V(e.scrollbarX.type)&&(e.scrollbarX.type="Scrollbar"),V(e.scrollbarY)&&!V(e.scrollbarY.type)&&(e.scrollbarY.type="Scrollbar"),s.prototype.processConfig.call(this,e),r.length)for(var a=0,n=r.length;a<n;a++)this.yAxes.getIndex(r[a].index).config={axisRanges:r[a].axisRanges};if(i.length)for(var a=0,n=i.length;a<n;a++)this.xAxes.getIndex(i[a].index).config={axisRanges:i[a].axisRanges}}},t.prototype.configOrder=function(e,i){return e==i?0:e=="scrollbarX"?1:i=="scrollbarX"?-1:e=="scrollbarY"?1:i=="scrollbarY"?-1:e=="cursor"?1:i=="cursor"?-1:e=="series"?1:i=="series"?-1:s.prototype.configOrder.call(this,e,i)},t.prototype.createSeries=function(){return new Zr},Object.defineProperty(t.prototype,"zoomOutButton",{get:function(){return this._zoomOutButton},set:function(e){var i=this;this._zoomOutButton=e,e&&e.events.on("hit",function(){i.zoomAxes(i.xAxes,{start:0,end:1}),i.zoomAxes(i.yAxes,{start:0,end:1})},void 0,!1)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;e.xAxes.each(function(r){var a=i.xAxes.push(r.clone());a.chart=i,a.renderer.chart=i}),e.yAxes.each(function(r){var a=i.yAxes.push(r.clone());a.renderer.chart=i,a.chart=i}),s.prototype.copyFrom.call(this,e),e.cursor&&(this.cursor=e.cursor.clone()),e.scrollbarX&&(this.scrollbarX=e.scrollbarX.clone()),e.scrollbarY&&(this.scrollbarY=e.scrollbarY.clone())},t.prototype.disposeData=function(){s.prototype.disposeData.call(this);var e=this.scrollbarX;e&&e instanceof eu&&e.scrollbarChart.disposeData();var i=this.scrollbarY;i&&i instanceof eu&&i.scrollbarChart.disposeData(),this.xAxes.each(function(r){r instanceof Ut&&r.disposeData()}),this.yAxes.each(function(r){r instanceof Ut&&r.disposeData()})},t.prototype.addData=function(e,i){this.scrollbarX instanceof eu&&this.addScrollbarData(this.scrollbarX,i),this.scrollbarY instanceof eu&&this.addScrollbarData(this.scrollbarY,i),s.prototype.addData.call(this,e,i)},t.prototype.addScrollbarData=function(e,i){var r=e.scrollbarChart;r._parseDataFrom=r.data.length,r.invalidateData()},t.prototype.removeScrollbarData=function(e,i){var r=e.scrollbarChart;if(I(i)){for(;i>0;){var a=this.dataItems.getIndex(0);a&&r.dataItems.remove(a),r.dataUsers.each(function(n){var o=n.dataItems.getIndex(0);o&&n.dataItems.remove(o)}),r._parseDataFrom--,i--}r.invalidateData()}},t.prototype.removeData=function(e){this.scrollbarX instanceof eu&&this.removeScrollbarData(this.scrollbarX,e),this.scrollbarY instanceof eu&&this.removeScrollbarData(this.scrollbarY,e),s.prototype.removeData.call(this,e)},t.prototype.setTapToActivate=function(e){s.prototype.setTapToActivate.call(this,e),this.cursor&&(this.cursor.interactions.isTouchProtected=e,this.plotContainer.interactions.isTouchProtected=e)},t.prototype.handleTapToActivate=function(){s.prototype.handleTapToActivate.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!1,this.plotContainer.interactions.isTouchProtected=!1)},t.prototype.handleTapToActivateDeactivation=function(){s.prototype.handleTapToActivateDeactivation.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!0,this.plotContainer.interactions.isTouchProtected=!0)},t}(ql);M.registeredClasses.XYChart=Lt;Ji.push({relevant:lr.maybeXS,state:function(s,t){if(s instanceof Lt&&s.scrollbarX){var e=s.states.create(t),i=s.scrollbarX.states.create(t);return i.properties.disabled=!0,e}return null}});Ji.push({relevant:lr.maybeXS,state:function(s,t){if(s instanceof Lt&&s.scrollbarY){var e=s.states.create(t),i=s.scrollbarY.states.create(t);return i.properties.disabled=!0,e}return null}});var dA=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="LineSeriesSegment",e.isMeasured=!1,e.interactionsEnabled=!1,e.layout="none";var i=e.createChild(ke);e.fillSprite=i,i.shouldClone=!1,i.setElement(e.paper.add("path")),i.isMeasured=!1,e._disposers.push(i);var r=e.createChild(ke);return e.strokeSprite=r,r.shouldClone=!1,r.fill=Ve(),r.setElement(e.paper.add("path")),r.isMeasured=!1,e._disposers.push(r),e}return t.prototype.drawSegment=function(e,i,r,a){if(!this.disabled)if(e.length>0&&i.length>0&&I(e[0].x)&&I(e[0].y)){var n=_e({x:e[0].x-.2,y:e[0].y-.2})+_e(e[0]),o=this.series;o.smoothing=="bezier"?n+=new mn(r,a).smooth(e):o.smoothing=="monotoneX"?n+=new Iw({closed:!1}).smooth(e):o.smoothing=="monotoneY"&&(n+=new $w({closed:!1}).smooth(e)),this.strokeOpacity==0||this.strokeSprite.strokeOpacity==0||(this.strokeSprite.path=n),(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&I(i[0].x)&&I(i[0].y)&&(n+=he(i[0]),o.smoothing=="bezier"?n+=new mn(r,a).smooth(i):o.smoothing=="monotoneX"?n+=new Iw({closed:!1}).smooth(i):o.smoothing=="monotoneY"&&(n+=new $w({closed:!1}).smooth(i)),n+=he(e[0]),n+=_i(),this.fillSprite.path=n)}else this.fillSprite.path="",this.strokeSprite.path=""},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e);var i=this.strokeSprite;Ni(e,i.properties,Bi),i.events.copyFrom(e.strokeSprite.events),i.fillOpacity=0;var r=this.fillSprite;Ni(e,r.properties,Bi),r.events.copyFrom(e.fillSprite.events),r.strokeOpacity=0},t}(Fe);M.registeredClasses.LineSeriesSegment=dA;var vD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="DurationAxisDataItem",e.applyTheme(),e}return t}(xo);var $p=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._baseUnit="second",e.className="DurationAxis",e.setPropertyValue("maxZoomFactor",1e6),e.applyTheme(),e}return t.prototype.formatLabel=function(e,i){return this.durationFormatter.format(e,i||this.axisDurationFormat)},t.prototype.adjustMinMax=function(e,i,r,a,n){var o,l,u,h=this.baseUnit;if(this.setPropertyValue("maxPrecision",0),h=="millisecond"||h=="second"||h=="minute"||h=="hour"){a<=1&&(a=1),a=Math.round(a);var c=e,A=i;r===0&&(r=Math.abs(i));var d=r/a,f=[60,30,20,15,10,2,1],p=1;h=="hour"&&(f=[24,12,6,4,2,1]);try{for(var m=Xh(f),g=m.next();!g.done;g=m.next()){var y=g.value;if(r/y>a){p=y;break}}}catch(O){o={error:O}}finally{try{g&&!g.done&&(l=m.return)&&l.call(m)}finally{if(o)throw o.error}}var x=Math.ceil((i-e)/p/a),C=Math.log(Math.abs(x))*Math.LOG10E,S=Math.pow(10,Math.floor(C))/10,P=x/S,F=dT(f,P);x=F*S,d=p*x,this.durationFormatter.getValueUnit(d,this.baseUnit),e=Math.floor(e/d)*d,i=Math.ceil(i/d)*d,n&&(e-=d,e<0&&c>=0&&(e=0),i+=d,i>0&&A<=0&&(i=0)),u={min:e,max:i,step:d}}else u=s.prototype.adjustMinMax.call(this,e,i,r,a,n);return this.axisDurationFormat=this.durationFormatter.getFormat(u.step,u.max,this.baseUnit),u},Object.defineProperty(t.prototype,"tooltipDurationFormat",{get:function(){return this._tooltipDurationFormat},set:function(e){this._tooltipDurationFormat=e},enumerable:!0,configurable:!0}),t.prototype.getTooltipText=function(e){var i=ve(this.positionToValue(e),this._stepDecimalPlaces),r=this.formatLabel(i,this.tooltipDurationFormat);return this._adapterO?this._adapterO.apply("getTooltipText",r):r},Object.defineProperty(t.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(e){this._baseUnit!=e&&(this._baseUnit=e,this.durationFormatter.baseUnit=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.baseUnit=e.baseUnit},t}(Ne);M.registeredClasses.DurationAxis=$p;M.registeredClasses.DurationAxisDataItem=vD;var va=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="LineSeriesDataItem",e}return t}(Pc);var ai=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.minDistance=.5,e.segments=new zt(e.createSegment()),e.segments.template.applyOnClones=!0,e._disposers.push(new Tt(e.segments)),e._disposers.push(e.segments.template),e._segmentsIterator=new hc(e.segments,function(){return e.segments.create()}),e._segmentsIterator.createNewItems=!0,e.className="LineSeries",e.strokeOpacity=1,e.fillOpacity=0,e.connect=!0,e.tensionX=1,e.tensionY=1,e.autoGapCount=1.1,e.smoothing="bezier",e.segmentsContainer=e.mainContainer.createChild(Fe),e.segmentsContainer.isMeasured=!1,e.bulletsContainer.toFront(),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Line Series"))},t.prototype.createSegment=function(){return new dA},t.prototype.createDataItem=function(){return new va},t.prototype.setInitialWorkingValues=function(e){var i=this._yAxis.get(),r=this._xAxis.get();if(this.appeared&&this.visible){var a=this.dataItems.getIndex(e.index-1);if(e.component=this,this.baseAxis==r&&i instanceof Ne){var n=i.minZoomed;if(a&&(n=a.values.valueY.workingValue),e.setWorkingValue("valueY",n,0),e.setWorkingValue("valueY",e.values.valueY.value),r instanceof Ct)e.setWorkingLocation("dateX",e.locations.dateX-1,0),e.setWorkingLocation("dateX",e.locations.dateX);else if(r instanceof $p&&a){var o=e.valueX;e.setWorkingValue("valueX",a.valueX,0),e.setWorkingValue("valueX",o)}}if(this.baseAxis==i&&r instanceof Ne){var l=r.minZoomed;if(a&&(l=a.values.valueX.workingValue),e.setWorkingValue("valueX",l,0),e.setWorkingValue("valueX",e.values.valueX.value),i instanceof Ct)e.setWorkingLocation("dateY",e.locations.dateX-1,0),e.setWorkingLocation("dateY",e.locations.dateY);else if(i instanceof $p&&a){var o=e.valueY;e.setWorkingValue("valueY",a.valueY,0),e.setWorkingValue("valueY",o)}}}else this.baseAxis==r&&i instanceof Ne&&(r instanceof Ct&&e.setWorkingLocation("dateX",e.locations.dateX),r instanceof Ut&&e.setWorkingLocation("categoryX",e.locations.categoryX)),this.baseAxis==i&&r instanceof Ne&&(i instanceof Ct&&e.setWorkingLocation("dateY",e.locations.dateY),i instanceof Ut&&e.setWorkingLocation("categoryY",e.locations.categoryY))},t.prototype.updateLegendValue=function(e,i){s.prototype.updateLegendValue.call(this,e,i),e&&e.segment&&(this.tooltipColorSource=e.segment)},t.prototype.validate=function(){var e=this;s.prototype.validate.call(this),this.xAxis&&this.yAxis&&(this._segmentsIterator.reset(),this.openSegmentWrapper(this._adjustedStartIndex),ce(this.axisRanges.iterator(),function(i){e.openSegmentWrapper(e._adjustedStartIndex,i)}),ce(this._segmentsIterator.iterator(),function(i){i.__disabled=!0}))},t.prototype.sliceData=function(){for(var e=this.startIndex,i=this.endIndex,r=this.startIndex-1;r>=0;r--){var a=this.dataItems.getIndex(r);if(a&&a.hasValue(this._xValueFields)&&a.hasValue(this._yValueFields)){e=r;break}}this._adjustedStartIndex=this.findAdjustedIndex(e,["stroke","strokeWidth","strokeDasharray","strokeOpacity","fill","fillOpacity","opacity"]);for(var r=this.endIndex,n=this.dataItems.length;r<n;r++){var a=this.dataItems.getIndex(r);if(a&&a.hasValue(this._xValueFields)&&a.hasValue(this._yValueFields)){i=r+1;break}}this._workingStartIndex=e,this._workingEndIndex=i},t.prototype.findAdjustedIndex=function(e,i){var r=this,a=this.propertyFields,n=e;return we(i,function(o){if(V(a[o]))for(var l=n;l>=0;l--){var u=r.dataItems.getIndex(l);if(u&&V(u.properties[o])){e>l&&(e=l);break}}}),e},t.prototype.openSegmentWrapper=function(e,i){var r={index:e,axisRange:i};do r=this.openSegment(r.index,r.axisRange);while(r)},t.prototype.getSegment=function(){var e=this._segmentsIterator.getFirst();return e.series=this,e.isDisposed()?(this.segments.removeValue(e),this.getSegment()):e},t.prototype.openSegment=function(e,i){var r=!1,a=[];e=Math.min(e,this.dataItems.length);var n=Math.min(this._workingEndIndex,this.dataItems.length);this._workingEndIndex=Math.min(this._workingEndIndex,this.dataItems.length);var o,l=!1,u=this.getSegment();u.strokeDasharray=void 0,u.__disabled=!1,i?(u.parent=i.contents,Ni(i.contents,u,Bi)):(Ni(this,u,Bi),u.filters.clear(),u.parent=this.segmentsContainer),this.group.node.removeAttribute("fill");for(var h=this.connect,c=!1,A=e;A<n;A++){var d=this.dataItems.getIndex(A);if(d.segment=u,d.hasProperties&&(A==e?this.updateSegmentProperties(d.properties,u):l=this.updateSegmentProperties(d.properties,u,!0)),d.hasValue(this._xValueFields)&&d.hasValue(this._yValueFields))this.addPoints(a,d,this.xField,this.yField),c=!0;else{if(A==e)continue;if(!h&&c){o=A;break}}if(o=A,this.baseAxis instanceof Ct){var f=this.dataItems.getIndex(A+1);if(f&&this.baseAxis.makeGap(f,d)){r=!0;break}}if(l)break}return this.closeSegment(u,a,e,o,i,r)},t.prototype.addPoints=function(e,i,r,a,n){var o=this.getPoint(i,r,a,i.workingLocations[r],i.workingLocations[a]);n||(i.point=o),e.push(o)},t.prototype.closeSegment=function(e,i,r,a,n,o){var l=[];if(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)for(var u=a;u>=r;u--){var h=this.dataItems.getIndex(u);h.hasValue(this._xValueFields)&&h.hasValue(this._yValueFields)&&this.addPoints(l,h,this.xOpenField,this.yOpenField,!0)}else{var c=this.baseAxis,A=i.length,d=this.xAxis,f=this.yAxis;A>0&&(c==d?(l.push({x:i[A-1].x,y:f.basePoint.y}),l.push({x:i[0].x,y:f.basePoint.y})):(l.push({x:d.basePoint.x,y:i[A-1].y}),l.push({x:d.basePoint.x,y:i[0].y})))}return this.drawSegment(e,i,l),o&&a++,a<this._workingEndIndex-1?{index:a,axisRange:n}:null},t.prototype.drawSegment=function(e,i,r){e.drawSegment(i,r,this.tensionX,this.tensionY)},t.prototype.updateSegmentProperties=function(e,i,r){var a=!1;return Ue(e,function(n,o){if(V(o)){var l=i[n],u=void 0;l&&(l.toString?u=l.toString():u=l);var h=void 0;o&&(o.toString?h=o.toString():h=o),l==o||u!=null&&h!=null&&u==h||(r||(i[n]=o),a=!0)}}),a},Object.defineProperty(t.prototype,"connect",{get:function(){return this.getPropertyValue("connect")},set:function(e){this.setPropertyValue("connect",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(e){this.setPropertyValue("tensionX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(e){this.setPropertyValue("tensionY",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){var i=this,r=e.pixelWidth,a=e.pixelHeight;e.disposeChildren();var n=e.createChild(Us);if(n.shouldClone=!1,Ni(this,n,Bi),n.x2=r,n.y=a/2,n.y2=1e-5,n.visible=!0,this.fillOpacity>0){var o=e.createChild(nh);Ni(this,o,Bi),o.width=r,o.height=a,o.y=0,o.strokeOpacity=0,o.visible=!0,n.y=0}var l=e.dataItem;l.color=this.stroke,l.colorOrig=this.fill,Qr(this.bullets.iterator(),function(u){if(u instanceof Rs&&!u.copyToLegendMarker)return!1;var h=!1;if(u instanceof Fe&&ce(u.children.iterator(),function(A){if(A instanceof Ei)return h=!0,!0}),!h){var c=u.clone();return c.parent=e,c.isMeasured=!0,c.tooltipText=void 0,c.x=r/2,i.fillOpacity>0?c.y=0:c.y=a/2,c.visible=!0,V(c.fill)||(c.fill=i.fill),V(c.stroke)||(c.stroke=i.stroke),!1}})},t.prototype.disposeData=function(){s.prototype.disposeData.call(this),this.segments.clear()},Object.defineProperty(t.prototype,"autoGapCount",{get:function(){return this.getPropertyValue("autoGapCount")},set:function(e){this.setPropertyValue("autoGapCount",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smoothing",{get:function(){return this.getPropertyValue("smoothing")},set:function(e){this.setPropertyValue("smoothing",e,!0)},enumerable:!0,configurable:!0}),t}(Zr);M.registeredClasses.LineSeries=ai;M.registeredClasses.LineSeriesDataItem=va;var kw=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="RadarSeriesDataItem",e.setLocation("dateX",0,0),e.setLocation("dateY",0,0),e.setLocation("categoryX",0,0),e.setLocation("categoryY",0,0),e.applyTheme(),e}return t}(va);var Ky=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="RadarSeries",e.connectEnds=!0,e.applyTheme(),e}return t.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),s.prototype.validate.call(this)},t.prototype.createDataItem=function(){return new kw},t.prototype.getPoint=function(e,i,r,a,n,o,l){o||(o="valueX"),l||(l="valueY");var u=this.yAxis.getX(e,r,n,l),h=this.yAxis.getY(e,r,n,l),c=Et({x:u,y:h});c==0&&(c=1e-5);var A=this.xAxis.getAngle(e,i,a,o),d=this.chart.startAngle,f=this.chart.endAngle;if(!(A<d||A>f))return{x:c*Se(A),y:c*Be(A)}},t.prototype.addPoints=function(e,i,r,a,n){var o=this.getPoint(i,r,a,i.locations[r],i.locations[a]);o&&e.push(o)},t.prototype.getMaskPath=function(){var e=this.yAxis.renderer;return Qn(e.startAngle,e.endAngle-e.startAngle,e.pixelRadius,e.pixelInnerRadius)},t.prototype.drawSegment=function(e,i,r){var a=this.yAxis,n=a.renderer;this.connectEnds&&Math.abs(n.endAngle-n.startAngle)==360&&(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)&&(i.push(i[0]),r.length>0&&r.unshift(r[r.length-1])),s.prototype.drawSegment.call(this,e,i,r)},Object.defineProperty(t.prototype,"connectEnds",{get:function(){return this.getPropertyValue("connectEnds")},set:function(e){this.setPropertyValue("connectEnds",e,!0)},enumerable:!0,configurable:!0}),t.prototype.positionBulletReal=function(e,i,r){var a=this.xAxis,n=this.yAxis;(i<a.start||i>a.end||r<n.start||r>n.end)&&(e.visible=!1),e.moveTo(this.xAxis.renderer.positionToPoint(i,r))},t.prototype.setXAxis=function(e){s.prototype.setXAxis.call(this,e),this.updateRendererRefs()},t.prototype.setYAxis=function(e){s.prototype.setYAxis.call(this,e),this.updateRendererRefs()},t.prototype.updateRendererRefs=function(){var e=this.xAxis.renderer,i=this.yAxis.renderer;e.axisRendererY=i},t}(ai);M.registeredClasses.RadarSeries=Ky;M.registeredClasses.RadarSeriesDataItem=kw;var en=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="Circle",e.element=e.paper.add("circle"),e.setPercentProperty("radius",ue(100)),e.setPropertyValue("horizontalCenter","middle"),e.setPropertyValue("verticalCenter","middle"),e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this),this.element.attr({r:this.pixelRadius})},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return oi(this.radius,dt(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){var e=this.pixelRadius;this._bbox={x:-e,y:-e,width:e*2,height:e*2}},t}(ke);M.registeredClasses.Circle=en;var AA=function(s){N(t,s);function t(e){var i=s.call(this,e)||this;return i.className="AxisFillCircular",i.element=i.paper.add("path"),i.radius=ue(100),i.applyTheme(),i}return t.prototype.draw=function(){if(s.prototype.draw.call(this),!(this.__disabled||this.disabled)&&this.axis){var e=this.axis.renderer;this.fillPath=e.getPositionRangePath(this.startPosition,this.endPosition,this.radius,V(this.innerRadius)?this.innerRadius:e.innerRadius,this.cornerRadius),this.path=this.fillPath}},Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),t}(uh);M.registeredClasses.AxisFillCircular=AA;var Zy=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="GridCircular",e.pixelPerfect=!1,e.applyTheme(),e}return Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),t}(hh);M.registeredClasses.GridCircular=Zy;var Hn=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.fdx=0,e.fdy=0,e.className="AxisLabelCircular",e.padding(0,0,0,0),e.location=.5,e.locationOnPath=.5,e.radius=0,e.isMeasured=!1,e.applyTheme(),e}return Object.defineProperty(t.prototype,"relativeRotation",{get:function(){return this.getPropertyValue("relativeRotation")},set:function(e){if(this.setPropertyValue("relativeRotation",e,!0),!V(e)){this.rotation=void 0;var i=this.dataItem;i&&i.component&&i.component.invalidateDataItems()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bent",{get:function(){return this.getPropertyValue("bent")},set:function(e){this.setPropertyValue("bent",e,!0),this.setPropertyValue("wrap",!1),this.setPropertyValue("horizontalCenter","none"),this.setPropertyValue("verticalCenter","none"),e?(this.setPropertyValue("dx",0),this.setPropertyValue("dy",0),this.setPropertyValue("x",0),this.setPropertyValue("y",0),this.setPropertyValue("rotation",0),this.fdx=0,this.fdy=0,this.textAlign="middle"):this.textPathElement&&(this.textPathElement.dispose(),this.textPathElement=void 0)},enumerable:!0,configurable:!0}),t.prototype.pixelRadius=function(e){var i=1;return this.inside&&(i=-1),oi(this.radius,e)*i},t.prototype.pixelRadiusY=function(e,i){var r=1;this.inside&&(r=-1);var a=this.radius;return I(a)?(a*=i/e,oi(a,e)*r):oi(a,i)*r},t.prototype.fixPosition=function(e,i,r,a,n){I(r)||(r=i),I(a)||(a=0),I(n)||(n=0);var o={x:i*Se(e),y:r*Be(e)};this.invalid&&this.validate();var l=!1,u=this.radius;(u instanceof qe&&u.value<0||u<0)&&(l=!0);var h=this.relativeRotation,c=this.pixelRadius(i);if(this.bent){var A={x:(i+c)*Se(e+180),y:(r+c*r/i)*Be(e+180)};this.path=_e(A)+yr(e+180,360,i+c,r+c*r/i),this.textPathElement&&this.textPathElement.attr({startOffset:this.locationOnPath*100+"%"});return}if(I(h)){this.horizontalCenter="none",this.verticalCenter="none",e=dn(e,-180,180);var d=this.bbox.width,f=this.bbox.height,p=this.pixelPaddingBottom,m=this.pixelPaddingTop,g=this.pixelPaddingLeft,y=this.pixelPaddingRight;e>90||e<-90?h==-90&&(h=90,d=0):(h==-90&&(f=-f),h==90&&(h=-90,d=-g-y,f=-f-m-p)),this.rotation=h+e+90;var x=Be(h)/2,C=Se(h)/2,S=this.rotation;this.dx=f*x*Be(S)-d*C*Se(S),this.dy=-f*x*Se(S)-d*C*Be(S),this.inside?e>90||e<-90?c-=(p+m)*Se(h)+(g+y)*Be(h):c+=(p+this.bbox.height+m)*Se(h)+(g+y+this.bbox.width)*Be(h):c+=(f+p+m)*Se(h)+(d+g+y)*Be(h),o.x+=Se(e)*c,o.y+=Be(e)*c*r/i}else this.horizontalCenter="middle",this.verticalCenter="middle",l?(this.dx=0,this.dy=0,o.x=(i+c)*Se(e),o.y=(r+c*r/i)*Be(e)):(this.dy=this._measuredHeight/2*Be(e),this.dx=this._measuredWidth/2*Se(e),o.x+=Se(e)*c,o.y+=Be(e)*c*r/i);o.x+=a,o.y+=n,this.fdx=this.dx,this.fdy=this.dy,this.moveTo(o)},t}(Al);M.registeredClasses.AxisLabelCircular=Hn;var tu=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.pixelRadiusReal=0,e.layout="none",e.className="AxisRendererCircular",e.isMeasured=!1,e.startAngle=-90,e.endAngle=270,e.useChartAngles=!0,e.radius=ue(100),e.isMeasured=!1,e.grid.template.location=0,e.labels.template.location=0,e.labels.template.radius=15,e.ticks.template.location=0,e.ticks.template.pixelPerfect=!1,e.tooltipLocation=0,e.line.strokeOpacity=0,e.applyTheme(),e}return t.prototype.setAxis=function(e){var i=this;s.prototype.setAxis.call(this,e),e.isMeasured=!1;var r=e.tooltip;r.adapter.add("dx",function(a,n){var o=Ps({x:n.pixelX,y:n.pixelY},i);return i.pixelRadius*Math.cos(Math.atan2(o.y,o.x))-o.x}),r.adapter.add("dy",function(a,n){var o=Ps({x:n.pixelX,y:n.pixelY},i);return i.pixelRadius*Math.sin(Math.atan2(o.y,o.x))-o.y})},t.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),s.prototype.validate.call(this)},Object.defineProperty(t.prototype,"axisLength",{get:function(){return 2*Math.PI*this.pixelRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return or(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){var e=this.chart,i=this.getPropertyValue("innerRadius");if(e){if(!V(i))i=e.innerRadius,i instanceof qe&&e&&(i=ue(i.value*e.innerRadiusModifyer*100));else if(i instanceof qe&&e){var r=e.mr,a=i.value;a=Math.max(r*a,r-Math.min(e.plotContainer.innerHeight,e.plotContainer.innerWidth))/r,i=ue(a*100)}return i}},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useChartAngles",{get:function(){return this.getPropertyValue("useChartAngles")},set:function(e){this.setPropertyValue("useChartAngles",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return or(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){I(i)||(i=1);var r=this.positionToCoordinate(e),a=this.startAngle+(this.endAngle-this.startAngle)*r/this.axisLength,n=this.pixelRadius,o=this.pixelInnerRadius;if(this.axisRendererY){var l=De(this.axisRendererY.positionToCoordinate(i),0,1/0);l==0&&(l=1e-6);var u={x:l*Se(a),y:l*Be(a)};return u}return{x:Se(a)*o+(n-o)*Se(a)*i,y:Be(a)*o+(n-o)*Be(a)*i}},t.prototype.positionToAngle=function(e){var i=this.axis,r=(this.endAngle-this.startAngle)/(i.end-i.start),a;return i.renderer.inversed?a=this.startAngle+(i.end-e)*r:a=this.startAngle+(e-i.start)*r,ve(a,3)},t.prototype.angleToPosition=function(e){var i=this.axis,r=(this.endAngle-this.startAngle)/(i.end-i.start),a;return i.renderer.inversed?a=i.end-(e-this.startAngle)/r:a=(e-this.startAngle)/r+i.start,ve(a,5)},t.prototype.updateAxisLine=function(){var e=this.pixelRadius,i=this.startAngle,r=this.endAngle,a=dt(360,r-i);this.line.path=_e({x:e*Se(i),y:e*Be(i)})+yr(i,a,e,e)},t.prototype.updateGridElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i);if(I(a.x)&&I(a.y)&&e.element){var n=il*Math.atan2(a.y,a.x),o=or(V(e.radius)?e.radius:ue(100),this.pixelRadius),l=or(e.innerRadius,this.pixelRadius);e.zIndex=0;var u=or(I(l)?l:this.innerRadius,this.pixelRadiusReal,!0);I(u)||(u=0),e.path=_e({x:u*Se(n),y:u*Be(n)})+he({x:o*Se(n),y:o*Be(n)})}this.toggleVisibility(e,i,0,1)},t.prototype.updateTickElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i);if(e.element){var n=this.pixelRadius,o=il*Math.atan2(a.y,a.x),l=e.length;e.inside&&(l=-l),e.zIndex=1,e.path=_e({x:n*Se(o),y:n*Be(o)})+he({x:(n+l)*Se(o),y:(n+l)*Be(o)})}this.toggleVisibility(e,i,0,1)},t.prototype.updateBullet=function(e,i,r){var a=.5;e instanceof pl&&(a=e.location),i=i+(r-i)*a;var n=this.positionToPoint(i),o=this.pixelRadius,l=il*Math.atan2(n.y,n.x);n={x:o*Se(l),y:o*Be(l)},this.positionItem(e,n),this.toggleVisibility(e,i,0,1)},t.prototype.updateLabelElement=function(e,i,r,a){V(a)||(a=e.location),i=i+(r-i)*a,e.fixPosition(this.positionToAngle(i),this.pixelRadius),e.zIndex=2,this.toggleVisibility(e,i,this.minLabelPosition,this.maxLabelPosition)},t.prototype.fitsToBounds=function(e){return!0},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),t.prototype.getPositionRangePath=function(e,i,r,a,n){var o="";if(I(e)&&I(i)){V(r)||(r=this.radius),e=st(e,this.axis.start),i=dt(i,this.axis.end),i<e&&(i=e);var l=or(r,this.pixelRadius),u=or(a,this.pixelRadius,!0),h=this.positionToAngle(e),c=this.positionToAngle(i),A=c-h;o=Qn(h,A,l,u,l,n)}return o},t.prototype.createGrid=function(){return new Zy},t.prototype.createFill=function(e){return new AA(e)},t.prototype.createLabel=function(){return new Hn},t.prototype.pointToPosition=function(e){var i=dn(nr(e),this.startAngle,this.endAngle);return this.coordinateToPosition((i-this.startAngle)/360*this.axisLength)},t}(ch);M.registeredClasses.AxisRendererCircular=tu;var fA=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="WavedCircle",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.fill=void 0,e.fillOpacity=0,e.tension=.8,e.applyTheme(),e}return t.prototype.draw=function(){var e="",i=this.pixelRadius;if(i>0){var r=this.getPoints(i);e=_e(r[0])+new mn(this.tension,this.tension).smooth(r)}var a=this.pixelInnerRadius;if(a>0){var r=this.getPoints(a);r.reverse(),e+=_e(r[0])+new mn(this.tension,this.tension).smooth(r)}this.path=e},t.prototype.getPoints=function(e){for(var i=e*Math.PI*2,r=this.waveHeight/2,a=i/Math.round(i/this.waveLength),n=a/2,o=[],l=i/a,u=0;u<=l;u++){var h=u*a/i*360,c=(u*a+n)/i*360;o.push({x:(e-r)*Se(h),y:(e-r)*Be(h)}),o.push({x:(e+r)*Se(c),y:(e+r)*Be(c)})}return o.pop(),o},Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return oi(this.innerRadius,dt(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),t}(en);M.registeredClasses.WavedCircle=fA;var qy=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._chart=new Ci,e.pixelRadiusReal=0,e.className="AxisRendererRadial",e.isMeasured=!1,e.startAngle=-90,e.endAngle=270,e.minGridDistance=30,e.gridType="circles",e.axisAngle=-90,e.isMeasured=!1,e.layout="none",e.radius=ue(100),e.line.strokeOpacity=0,e.labels.template.horizontalCenter="middle",e._disposers.push(e._chart),e.applyTheme(),e}return t.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),s.prototype.validate.call(this)},Object.defineProperty(t.prototype,"axisLength",{get:function(){return this.pixelRadius-this.pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return or(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){var e=this.chart,i=this.getPropertyValue("innerRadius");if(e){if(!V(i))i=e.innerRadius,i instanceof qe&&e&&(i=ue(i.value*e.innerRadiusModifyer*100));else if(i instanceof qe&&e){var r=e.mr,a=i.value;a=Math.max(r*a,r-Math.min(e.plotContainer.innerHeight,e.plotContainer.innerWidth))/r,i=ue(a*100)}}return i},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return or(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){var r=De(this.positionToCoordinate(e),0,1/0);return{x:r*Se(this.axisAngle),y:r*Be(this.axisAngle)}},t.prototype.updateAxisLine=function(){this.line.path=_e({x:this.pixelInnerRadius*Se(this.axisAngle),y:this.pixelInnerRadius*Be(this.axisAngle)})+he({x:this.pixelRadius*Se(this.axisAngle),y:this.pixelRadius*Be(this.axisAngle)});var e=this.axis.title;e.valign="none",e.horizontalCenter="middle",e.verticalCenter="bottom",e.y=-this.axisLength/2;var i=90;this.opposite?this.inside||(i=-90):this.inside&&(i=-90),e.rotation=i},t.prototype.updateGridElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i),n,o=Et(a),l=this.startAngle,u=this.endAngle,h=this.chart;if(I(o)&&e.element&&h){var c=h.xAxes.getIndex(0),A=0,d=h.series.getIndex(0);if(d&&(A=d.dataItems.length),this.gridType=="polygons"&&A>0&&d&&c&&c instanceof Ut){var f=c.renderer.grid.template.location,p=c.getAngle(d.dataItems.getIndex(0),"categoryX",f);n=_e({x:o*Se(p),y:o*Be(p)});for(var m=1;m<A;m++)p=c.getAngle(d.dataItems.getIndex(m),"categoryX",f),n+=he({x:o*Se(p),y:o*Be(p)});p=c.getAngle(d.dataItems.getIndex(A-1),"categoryX",c.renderer.cellEndLocation),n+=he({x:o*Se(p),y:o*Be(p)})}else n=_e({x:o*Se(l),y:o*Be(l)})+yr(l,u-l,o,o);e.path=n}this.toggleVisibility(e,i,0,1)},t.prototype.updateLabelElement=function(e,i,r,a){V(a)||(a=e.location),i=i+(r-i)*a;var n=this.positionToPoint(i);this.positionItem(e,n),this.toggleVisibility(e,i,this.minLabelPosition,this.maxLabelPosition)},t.prototype.updateBaseGridElement=function(){},t.prototype.fitsToBounds=function(e){return!0},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisAngle",{get:function(){return this.getPropertyValue("axisAngle")},set:function(e){this.setPropertyValue("axisAngle",tl(e)),this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridType",{get:function(){var e=this.chart.xAxes.getIndex(0);return e instanceof Ut?this.getPropertyValue("gridType"):"circles"},set:function(e){this.setPropertyValue("gridType",e,!0)},enumerable:!0,configurable:!0}),t.prototype.getPositionRangePath=function(e,i){var r=this.pixelInnerRadius,a=this.axisLength+r,n=De(this.positionToCoordinate(e),r,a),o=De(this.positionToCoordinate(i),r,a),l=this.startAngle,u=this.endAngle,h=u-l,c,A=this.chart,d=A.xAxes.getIndex(0),f=A.series.getIndex(0),p=0;if(f&&(p=f.dataItems.length),this.gridType=="polygons"&&p>0&&f&&d&&d instanceof Ut){var m=d.renderer.grid.template.location,g=d.getAngle(f.dataItems.getIndex(0),"categoryX",m);c=_e({x:o*Se(g),y:o*Be(g)});for(var y=1;y<p;y++)g=d.getAngle(f.dataItems.getIndex(y),"categoryX",m),c+=he({x:o*Se(g),y:o*Be(g)});g=d.getAngle(f.dataItems.getIndex(p-1),"categoryX",d.renderer.cellEndLocation),c+=he({x:o*Se(g),y:o*Be(g)}),c+=_e({x:n*Se(g),y:n*Be(g)});for(var y=p-1;y>=0;y--)g=d.getAngle(f.dataItems.getIndex(y),"categoryX",m),c+=he({x:n*Se(g),y:n*Be(g)})}else c=Qn(l,h,o,n);return c},t.prototype.updateBreakElement=function(e){var i=e.startLine,r=e.endLine,a=e.fillShape,n=e.startPoint,o=e.endPoint;i.radius=Math.abs(n.y),r.radius=Math.abs(o.y),a.radius=Math.abs(o.y),a.innerRadius=Math.abs(n.y)},t.prototype.createBreakSprites=function(e){e.startLine=new fA,e.endLine=new fA,e.fillShape=new fA},t.prototype.updateTooltip=function(){var e=this.axis;if(e){var i=4e3,r=-4e3,a=-4e3,n=i*2,o=i*2,l=this.axisAngle;l<0&&(l+=360);var u="vertical";(l>45&&l<135||l>225&&l<315)&&(u="horizontal"),this.axis.updateTooltip(u,{x:r,y:a,width:n,height:o})}},t.prototype.updateTickElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i);if(e.element){var n=tl(this.axisAngle+90);n/90!=Math.round(n/90)?e.pixelPerfect=!1:e.pixelPerfect=!0;var o=-e.length;e.inside&&(o*=-1),e.path=_e({x:0,y:0})+he({x:o*Se(n),y:o*Be(n)})}this.positionItem(e,a),this.toggleVisibility(e,i,0,1)},t.prototype.updateBullet=function(e,i,r){var a=.5;e instanceof pl&&(a=e.location),i=i+(r-i)*a;var n=this.positionToPoint(i);this.positionItem(e,n),this.toggleVisibility(e,i,0,1)},t.prototype.positionToCoordinate=function(e){var i,r=this.axis,a=r.axisFullLength,n=this.pixelInnerRadius;return r.renderer.inversed?i=(r.end-e)*a+n:i=(e-r.start)*a+n,ve(i,1)},t.prototype.pointToPosition=function(e){var i=Et(e)-this.pixelInnerRadius;return this.coordinateToPosition(i)},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.set(e,null)},enumerable:!0,configurable:!0}),t}(Dr);M.registeredClasses.AxisRendererRadial=qy;var Ew=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="RadarChartDataItem",e.applyTheme(),e}return t}(Tc);var Jy=function(s){N(t,s);function t(){var e=s.call(this)||this;e._axisRendererX=tu,e._axisRendererY=qy,e.innerRadiusModifyer=1,e.mr=1,e.className="RadarChart",e.startAngle=-90,e.endAngle=270,e.radius=ue(80),e.innerRadius=0;var i=e.plotContainer.createChild(Fe);return i.shouldClone=!1,i.layout="absolute",i.align="center",i.valign="middle",e.seriesContainer.parent=i,e.radarContainer=i,e.bulletsContainer.parent=i,e.axisBulletsContainer=i,e._cursorContainer=i,e.chartContainer.events.on("maxsizechanged",e.invalidate,e,!1),e._bulletMask=i.createChild(en),e._bulletMask.shouldClone=!1,e._bulletMask.element=e.paper.add("path"),e._bulletMask.opacity=0,e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Radar chart"))},t.prototype.processAxis=function(e){s.prototype.processAxis.call(this,e);var i=e.renderer;i.gridContainer.parent=i,i.breakContainer.parent=i,e.parent=this.radarContainer,i.toBack()},t.prototype.handleXAxisRangeChange=function(){s.prototype.handleXAxisRangeChange.call(this),ce(this.yAxes.iterator(),function(e){e.invalidate()})},t.prototype.handleYAxisRangeChange=function(){s.prototype.handleYAxisRangeChange.call(this),ce(this.xAxes.iterator(),function(e){e.invalidate()})},t.prototype.processConfig=function(e){if(e&&(V(e.cursor)&&!V(e.cursor.type)&&(e.cursor.type="RadarCursor"),V(e.series)&&bi(e.series)))for(var i=0,r=e.series.length;i<r;i++)e.series[i].type=e.series[i].type||"RadarSeries";s.prototype.processConfig.call(this,e)},t.prototype.beforeDraw=function(){s.prototype.beforeDraw.call(this);var e=this.plotContainer,i=Oa(this.startAngle,this.endAngle,1),r={x:0,y:0,width:0,height:0},a=e.innerWidth/i.width,n=e.innerHeight/i.height,o=this.innerRadius;if(o instanceof qe){var l=o.value,u=Math.min(a,n);this.mr=u,l=Math.max(u*l,u-Math.min(e.innerHeight,e.innerWidth))/u,r=Oa(this.startAngle,this.endAngle,l),this.innerRadiusModifyer=l/o.value,o=ue(l*100)}i=rl([i,r]);var h=Math.min(e.innerWidth/i.width,e.innerHeight/i.height),c=or(this.radius,h)*2||0,A=c/2,d=this.startAngle,f=this.endAngle;this._pixelInnerRadius=or(o,A),this._bulletMask.path=Qn(d,f-d,A,this._pixelInnerRadius),ce(this.xAxes.iterator(),function(m){m.renderer.useChartAngles&&(m.renderer.startAngle=d,m.renderer.endAngle=f),m.width=c,m.height=c,m.renderer.pixelRadiusReal=A}),ce(this.yAxes.iterator(),function(m){m.renderer.startAngle=d,m.renderer.endAngle=f,m.width=c,m.height=c,m.renderer.pixelRadiusReal=A});var p=this.cursor;p&&(p.width=c,p.height=c,p.startAngle=d,p.endAngle=f),this.radarContainer.definedBBox={x:A*i.x,y:A*i.y,width:A*i.width,height:A*i.height},this.radarContainer.validatePosition()},t.prototype.createSeries=function(){return new Ky},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),t.prototype.updateXAxis=function(e){e&&e.processRenderer()},t.prototype.updateYAxis=function(e){e&&e.processRenderer()},t}(Lt);M.registeredClasses.RadarChart=Jy;var eb=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="Trapezoid",e.element=e.paper.add("path"),e.topSide=ue(100),e.bottomSide=ue(100),e.leftSide=ue(100),e.rightSide=ue(100),e.isMeasured=!1,e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.pixelWidth,i=this.pixelHeight,r=oi(this.topSide,e),a=oi(this.bottomSide,e),n=oi(this.leftSide,i),o=oi(this.rightSide,i),l=(e-r)/2,u=(i-n)/2,h=e-(e-r)/2,c=(i-o)/2,A=e-(e-a)/2,d=i-(i-o)/2,f=(e-a)/2,p=i-(i-n)/2,m="",g="",y="",x="";if(V(this.horizontalNeck)){var C=this.horizontalNeck.value;m=he({x:e*C,y:Math.max(u,c)}),y=he({x:e*C,y:Math.min(d,p)})}if(V(this.verticalNeck)){var S=this.verticalNeck.value;g=he({x:Math.min(h,A),y:i*S}),x=he({x:Math.max(l,f),y:i*S})}var P=_e({x:l,y:u})+m+he({x:h,y:c})+g+he({x:A,y:d})+y+he({x:f,y:p})+x;this.path=P},Object.defineProperty(t.prototype,"topSide",{get:function(){return this.getPropertyValue("topSide")},set:function(e){this.setPercentProperty("topSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomSide",{get:function(){return this.getPropertyValue("bottomSide")},set:function(e){this.setPercentProperty("bottomSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftSide",{get:function(){return this.getPropertyValue("leftSide")},set:function(e){this.setPercentProperty("leftSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightSide",{get:function(){return this.getPropertyValue("rightSide")},set:function(e){this.setPercentProperty("rightSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalNeck",{get:function(){return this.getPropertyValue("horizontalNeck")},set:function(e){this.setPropertyValue("horizontalNeck",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalNeck",{get:function(){return this.getPropertyValue("verticalNeck")},set:function(e){this.setPropertyValue("verticalNeck",e,!0)},enumerable:!0,configurable:!0}),t}(ke);M.registeredClasses.Trapezoid=eb;var pA=function(s){N(t,s);function t(){var e=s.call(this)||this;e._axis=new Ci,e.className="ClockHand";var i=new ze;e.fill=i.getFor("alternativeBackground"),e.stroke=e.fill;var r=new en;r.radius=5,e.pin=r,e.isMeasured=!1,e.startWidth=5,e.endWidth=1,e.width=ue(100),e.height=ue(100),e.radius=ue(100),e.innerRadius=ue(0);var a=new eb;return e.hand=a,e._disposers.push(e._axis),e.applyTheme(),e}return t.prototype.validate=function(){s.prototype.validate.call(this);var e=this.hand;e.width=this.pixelWidth;var i=Math.max(this.startWidth,this.endWidth);if(e.height=i,e.leftSide=ue(this.startWidth/i*100),e.rightSide=ue(this.endWidth/i*100),this.axis){var r=this.axis.renderer,a=or(this.innerRadius,r.pixelRadius),n=or(this.radius,r.pixelRadius);e.x=a,e.y=-i/2,e.width=n-a}},Object.defineProperty(t.prototype,"pin",{get:function(){return this._pin},set:function(e){this._pin&&this.removeDispose(this._pin),e&&(this._pin=e,e.parent=this,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hand",{get:function(){return this._hand},set:function(e){this._hand&&this.removeDispose(this._hand),e&&(this._hand=e,e.parent=this,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startWidth",{get:function(){return this.getPropertyValue("startWidth")},set:function(e){this.setPropertyValue("startWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endWidth",{get:function(){return this.getPropertyValue("endWidth")},set:function(e){this.setPropertyValue("endWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationDirection",{get:function(){return this.getPropertyValue("rotationDirection")},set:function(e){this.setPropertyValue("rotationDirection",e)},enumerable:!0,configurable:!0}),t.prototype.showValue=function(e,i,r){if(this._value=e,e!=null&&(I(i)||(i=0),this.axis)){var a=this.axis.renderer,n=a.positionToAngle(this.axis.anyToPosition(e)),o=this.rotation;this.rotationDirection=="clockWise"&&n<o&&(this.rotation=o-360),this.rotationDirection=="counterClockWise"&&n>o&&(this.rotation=o+360),this.animate({property:"rotation",to:n},i,r)}},Object.defineProperty(t.prototype,"currentPosition",{get:function(){if(this.axis){var e=this.axis.renderer;return e.angleToPosition(this.rotation)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this.showValue(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis.get()},set:function(e){if(this.axis!=e&&this._axis.set(e,new Vt([e.events.on("datavalidated",this.updateValue,this,!1),e.events.on("datarangechanged",this.updateValue,this,!1),e.events.on("dataitemsvalidated",this.updateValue,this,!1),e.events.on("propertychanged",this.invalidate,this,!1)])),e){var i=e.chart;i&&(this.rotation=i.startAngle)}this.parent=e.renderer,this.zIndex=5},enumerable:!0,configurable:!0}),t.prototype.updateValue=function(){this.value=this.value},t.prototype.processConfig=function(e){e&&V(e.axis)&&ut(e.axis)&&this.map.hasKey(e.axis)&&(e.axis=this.map.getKey(e.axis)),s.prototype.processConfig.call(this,e)},t}(Fe);M.registeredClasses.ClockHand=pA;var rN=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="GaugeChartDataItem",e.applyTheme(),e}return t}(Ew);var Vs=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="GaugeChart",e.startAngle=180,e.endAngle=360,e.hands=new zt(new pA),e.hands.events.on("inserted",e.processHand,e,!1),e._disposers.push(new Tt(e.hands)),e._disposers.push(e.hands.template),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Gauge chart"))},t.prototype.processHand=function(e){var i=e.newValue;i.axis||(i.axis=this.xAxes.getIndex(0))},t.prototype.configOrder=function(e,i){return e==i?0:e=="hands"?1:i=="hands"?-1:s.prototype.configOrder.call(this,e,i)},t}(Jy);M.registeredClasses.GaugeChart=Vs;var mA=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="PercentSeriesDataItem",e.applyTheme(),e}return t.prototype.uidAttr=function(){return this.slice.uidAttr()},t.prototype.hide=function(e,i,r,a){return a||(a=["value"]),s.prototype.hide.call(this,e,i,0,a)},t.prototype.setVisibility=function(e,i){i||(e?this.setWorkingValue("value",this.values.value.value,0,0):this.setWorkingValue("value",0,0,0)),s.prototype.setVisibility.call(this,e,i)},t.prototype.show=function(e,i,r){return r||(r=["value"]),s.prototype.show.call(this,e,i,r)},Object.defineProperty(t.prototype,"category",{get:function(){return this.properties.category},set:function(e){this.setProperty("category",e)},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){this.component.createLegendMarker(e,this)},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,e.label&&(e.label.dataItem=this),e.valueLabel&&(e.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tick",{get:function(){var e=this;if(!this._tick){var i=this.component.ticks.create();this._tick=i,this.addSprite(i),this._disposers.push(i),i.parent=this.component.ticksContainer,this._disposers.push(new Ft(function(){e.component&&e.component.ticks.removeValue(i)})),i.visible=this.visible}return this._tick},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){var e=this;if(!this._label){var i=this.component.labels.create();this.addSprite(i),this._label=i,this._disposers.push(i),i.parent=this.component.labelsContainer,this._disposers.push(new Ft(function(){e.component&&e.component.labels.removeValue(i)})),i.visible=this.visible}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slice",{get:function(){var e=this;if(!this._slice){var i=this.component,r=i.slices.create();this.addSprite(r),this._slice=r,this._disposers.push(r),r.parent=i.slicesContainer,this._disposers.push(new Ft(function(){i.slices.removeValue(r)})),r.visible=this.visible,i.itemsFocusable()?(V(this.component.role)||(this.component.role="menu"),V(r.role)||(r.role="menuitem"),r.focusable=!0):(V(this.component.role)||(this.component.role="list"),V(r.role)||(r.role="listitem"),r.focusable=!1),r.focusable&&(r.events.on("focus",function(a){r.readerTitle=i.populateString(i.itemReaderText,e)},void 0,!1),r.events.on("blur",function(a){r.readerTitle=""},void 0,!1)),r.hoverable&&(r.events.on("over",function(a){r.readerTitle=i.populateString(i.itemReaderText,e)},void 0,!1),r.events.on("out",function(a){r.readerTitle=""},void 0,!1))}return this._slice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenInLegend",{get:function(){return this.properties.hiddenInLegend},set:function(e){this.setProperty("hiddenInLegend",e)},enumerable:!0,configurable:!0}),t}(Cc);var Ah=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="PercentSeries",e._addAllDataItems=!1,e.colors=new dl,e.colors.step=1,e.isMeasured=!0,e.calculatePercent=!0;var i=e.createChild(Fe);i.shouldClone=!1,i.isMeasured=!1,e.slicesContainer=i;var r=e.createChild(Fe);r.shouldClone=!1,r.isMeasured=!1,r.layout="none",e.ticksContainer=r;var a=e.createChild(Fe);a.shouldClone=!1,a.isMeasured=!1,a.layout="none",e.labelsContainer=a,e.alignLabels=!1,e.bulletsContainer.toFront(),e.skipFocusThreshold=50;var n=e.defaultState;return n.transitionEasing=sw,e.itemReaderText="{category}: {value.percent.formatNumber('#.#p')}",e.applyTheme(),e}return t.prototype.createSlice=function(){return new ke},t.prototype.createTick=function(){return new fl},t.prototype.createLabel=function(){return new Ei},Object.defineProperty(t.prototype,"slices",{get:function(){if(!this._slices){var e=this.createSlice();e.applyOnClones=!0,this._disposers.push(e),this.initSlice(e),this._slices=new zt(e),this._disposers.push(new Tt(this._slices))}return this._slices},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ticks",{get:function(){if(!this._ticks){var e=this.createTick();e.applyOnClones=!0,this._disposers.push(e),this.initTick(e),this._ticks=new zt(e),this._disposers.push(new Tt(this._ticks))}return this._ticks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){if(!this._labels){var e=this.createLabel();e.applyOnClones=!0,this._disposers.push(e),this.initLabel(e),this._labels=new zt(e),this._disposers.push(new Tt(this._labels))}return this._labels},enumerable:!0,configurable:!0}),t.prototype.createDataItem=function(){return new mA},t.prototype.initSlice=function(e){},t.prototype.initLabel=function(e){e.text="{category}: {value.percent.formatNumber('#.0p')}",e.isMeasured=!1,e.padding(5,5,5,5)},t.prototype.initTick=function(e){},t.prototype.validateDataItems=function(){this.colors.reset(),this.patterns&&this.patterns.reset(),s.prototype.validateDataItems.call(this)},t.prototype.validateDataElement=function(e){var i=e.slice;i&&(i.fill==null?this.patterns?(V(i.stroke)||(i.stroke=this.colors.next()),i.fill=this.patterns.next(),V(i.fillOpacity)&&(i.fill.backgroundOpacity=i.fillOpacity),i.stroke instanceof xt&&(i.fill.stroke=i.stroke,i.fill.fill=i.stroke)):i.fill=this.colors.next():this.colors.currentStep+=this.colors.step,i.stroke==null&&(i.stroke=i.fill)),s.prototype.validateDataElement.call(this,e),i&&e.bullets.each(function(r,a){a.fill==null&&(a.fill=i.fill),a.stroke==null&&(a.stroke=i.stroke)}),this.updateLegendValue(e)},t.prototype.validateData=function(){s.prototype.validateData.call(this),this.chart&&this.chart.feedLegend()},t.prototype.arrangeLabels=function(e){for(var i=0,r=e.length;i<r;i++){var a=e[i],n=a.label;if(n){n.invalid&&n.validate();var o=n.measuredHeight;n.visible||(o=0),n.pixelY-o/2<-this.maxHeight/2&&(n.y=-this.maxHeight/2+o/2);var l=this.getNextLabel(i+1,e),u=n.pixelY+o/2;if(l){l.invalid&&l.validate();var h=l.measuredHeight;l.visible||(h=0);var c=l.pixelY;c==null&&(c=0),c-h/2<u&&(l.y=u+h/2)}}}},t.prototype.arrangeLabels2=function(e){for(var i=this.maxHeight/2,r=e.length-1;r>=0;r--){var a=e[r],n=a.label;if(n){n.invalid&&n.validate();var o=n.measuredHeight;n.visible||(o=0),n.pixelY+o/2>i&&(n.y=i-o/2,i=n.y-o/2)}}},t.prototype.getNextLabel=function(e,i){if(i.length>=e){var r=i[e];if(r)return r.label?r.visible?r.label:this.getNextLabel(e+1,i):this.getNextLabel(e+1,i)}},Object.defineProperty(t.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(e){this.setPropertyValue("patterns",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e,i){ce(e.children.iterator(),function(r){var a=i.slice;r.defaultState.properties.fill=a.fill,r.defaultState.properties.stroke=a.stroke,r.defaultState.properties.fillOpacity=a.fillOpacity,r.defaultState.properties.strokeOpacity=a.strokeOpacity,r.fill=a.fill,r.stroke=a.stroke,r.fillOpacity=a.fillOpacity,r.strokeOpacity=a.strokeOpacity,r.fill==null&&(r.__disabled=!0);var n=e.dataItem;n.color=a.fill,n.colorOrig=a.fill,r.addDisposer(a.events.on("propertychanged",function(o){o.property=="fill"&&(r.__disabled=!1,r.isActive||(r.fill=a.fill),r.defaultState.properties.fill=a.fill,n.color=a.fill,n.colorOrig=a.fill),o.property=="stroke"&&(r.isActive||(r.stroke=a.stroke),r.defaultState.properties.stroke=a.stroke),o.property=="strokeOpacity"&&(r.isActive||(r.strokeOpacity=a.strokeOpacity),r.defaultState.properties.strokeOpacity=a.strokeOpacity)},void 0,!1))})},t.prototype.handleSliceScale=function(e){var i=this,r=e.target,a=r.dataItem;a&&a.bullets&&ce(a.bullets.iterator(),function(n){var o=n[1];i.positionBullet(o)})},t.prototype.handleSliceMove=function(e){},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.slices.template.copyFrom(e.slices.template),this.labels.template.copyFrom(e.labels.template),this.ticks.template.copyFrom(e.ticks.template),this.colors=e.colors.clone()},Object.defineProperty(t.prototype,"alignLabels",{get:function(){return this.getPropertyValue("alignLabels")},set:function(e){this.setAlignLabels(e)},enumerable:!0,configurable:!0}),t.prototype.setAlignLabels=function(e){this.setPropertyValue("alignLabels",e,!0)},Object.defineProperty(t.prototype,"ignoreZeroValues",{get:function(){return this.getPropertyValue("ignoreZeroValues")},set:function(e){this.setPropertyValue("ignoreZeroValues",e,!0)},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(e){if(e){var i=e.legendDataItem,r=e.legendSettings;i&&r&&r&&(r.labelText&&(i.label.text=r.labelText),r.itemLabelText&&(i.label.text=r.itemLabelText),r.valueText&&(i.valueLabel.text=r.valueText),r.itemValueText&&(i.valueLabel.text=r.itemValueText))}},t}(cl);M.registeredClasses.PercentSeries=Ah;M.registeredClasses.PercentSeriesDataItem=mA;Ji.push({relevant:lr.maybeXS,state:function(s,t){if(s instanceof Ah){var e=s.states.create(t),i=s.labels.template.states.create(t);i.properties.disabled=!0;var r=s.ticks.template.states.create(t);return r.properties.disabled=!0,e}return null}});var kp=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="PercentChartDataItem",e.applyTheme(),e}return t}(Lp);var Ep=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="PercentChart",e.align="none",e.valign="none",e.chartContainer.minHeight=50,e.chartContainer.minWidth=50,e.applyTheme(),e}return t.prototype.validateData=function(){s.prototype.validateData.call(this),this.feedLegend()},t.prototype.feedLegend=function(){var e=this.legend;if(e){var i=[];ce(this.series.iterator(),function(r){r.hiddenInLegend||ce(r.dataItems.iterator(),function(a){a.hiddenInLegend||(i.push(a),a.legendSettings||(a.legendSettings=r.legendSettings))})}),e.data=i,e.dataFields.name="category"}},t.prototype.createSeries=function(){return new Ah},t.prototype.setLegend=function(e){s.prototype.setLegend.call(this,e),e&&(e.labels.template.text="{category}",e.valueLabels.template.text="{value.percent.formatNumber('#.0p')}",e.itemContainers.template.events.on("over",function(i){var r=i.target.dataItem.dataContext;if(r.visible&&!r.isHiding){var a=r.slice;a.dispatchImmediately("over"),a.isHover=!0,a.interactions.isRealHover=!0}}),e.itemContainers.template.events.on("out",function(i){var r=i.target.dataItem.dataContext,a=r.slice;a.dispatchImmediately("out"),a.isHover=!1}))},t}(ql);M.registeredClasses.PercentChart=Ep;M.registeredClasses.PercentChartDataItem=kp;var xa=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="Slice",e.setPropertyValue("cornerRadius",0),e.setPropertyValue("startAngle",0),e.setPercentProperty("innerRadius",0),e.setPercentProperty("radius",0),e.setPropertyValue("arc",0),e.setPropertyValue("shiftRadius",0),e.strokeOpacity=1,e.setPropertyValue("layout","none"),e.slice=e.createChild(ke),e.slice.isMeasured=!1,e._disposers.push(e.slice),e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.radiusY;this.radius>0&&e==0&&(e=.01),this.slice.path=Qn(this.startAngle,this.arc,this.radius,this.pixelInnerRadius,e,this.cornerRadius,this.innerCornerRadius),this.slice.invalidate(),this.shiftRadius=this.shiftRadius,this.realFill instanceof Ka&&this.updateGradient(this.realFill),this.realStroke instanceof Ka&&this.updateGradient(this.realStroke)},t.prototype.updateGradient=function(e){e.element.attr({gradientUnits:"userSpaceOnUse"}),e.element.attr({r:this.radius}),e.cx=0,e.cy=0,e.element.attr({radius:this.radius})},Object.defineProperty(t.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;if(this.isMeasured){var e=Oa(this.startAngle,this.startAngle+this.arc,this.pixelInnerRadius),i=Oa(this.startAngle,this.startAngle+this.arc,this.radius);return rl([e,i])}else return{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",tl(e),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(e){I(e)||(e=0),this.setPropertyValue("arc",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){var e=this.getPropertyValue("radius");return I(e)||(e=0),e},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){var e=this.getPropertyValue("radiusY");return I(e)||(e=this.radius),e},set:function(e){this.setPropertyValue("radiusY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return oi(this.innerRadius,this.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerCornerRadius",{get:function(){return this.getPropertyValue("innerCornerRadius")},set:function(e){this.setPropertyValue("innerCornerRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shiftRadius",{get:function(){return this.getPropertyValue("shiftRadius")},set:function(e){this.setPropertyValue("shiftRadius",e),e=this.getPropertyValue("shiftRadius"),this.dx=e*this.radius*this.ix,this.dy=e*this.radiusY*this.iy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ix",{get:function(){return Se(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iy",{get:function(){return Be(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"middleAngle",{get:function(){return this.startAngle+this.arc/2},enumerable:!0,configurable:!0}),t.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");if(I(e))return e;var i=.5;e instanceof qe&&(i=e.value);var r=oi(this.innerRadius,this.radius);return this.ix*(r+(this.radius-r)*i)},t.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipY");if(I(e))return e;var i=.5;e instanceof qe&&(i=e.value);var r=oi(this.innerRadius,this.radius);return this.iy*(r+(this.radius-r)*i)+this.slice.dy},t}(Fe);M.registeredClasses.Slice=xa;var tb=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._label=new Ci,e._slice=new Ci,e.className="PieTick",e.element=e.paper.add("polyline"),e._disposers.push(e._label),e._disposers.push(e._slice),e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.slice,i=this.label,r=e.dataItem.component;if(e&&e.radius>0&&i&&i.text){var a=e.dx+e.slice.dx+e.pixelX+e.ix*e.radius*e.scale,n=e.dy+e.slice.dy+e.pixelY+e.iy*e.radiusY*e.scale,o=void 0,l=void 0,u=void 0,h=void 0;if(r.alignLabels)o=i.pixelX-this.length,l=i.pixelY,u=i.pixelX,h=l,i.horizontalCenter=="right"&&(o+=2*this.length,u=o-this.length);else{var c=i.pixelRadius(e.radius);o=a+c*e.ix,l=n+c*e.iy,u=o,h=l}this.element.attr({points:[a,n,o,l,u,h]})}},Object.defineProperty(t.prototype,"slice",{get:function(){return this._slice.get()},set:function(e){this._slice.set(e,new Vt([e.events.on("transformed",this.invalidate,this),e.events.on("validated",this.invalidate,this)]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label.get()},set:function(e){this._label.set(e,e.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),t}(fl);M.registeredClasses.PieTick=tb;var _a=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="PieSeriesDataItem",e.values.radiusValue={},e.applyTheme(),e}return Object.defineProperty(t.prototype,"radiusValue",{get:function(){return this.values.radiusValue.value},set:function(e){this.setValue("radiusValue",e)},enumerable:!0,configurable:!0}),t.prototype.hide=function(e,i,r,a){return s.prototype.hide.call(this,e,i,0,["value","radiusValue"])},t.prototype.show=function(e,i,r){return s.prototype.show.call(this,e,i,["value","radiusValue"])},t}(mA);var Ts=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="PieSeries",e.alignLabels=!0,e.layout="none",e.labels.template.radius=ue(5),e.addDisposer(e.labels.template.events.on("enabled",e.invalidate,e,!1)),e.applyTheme(),e}return t.prototype.createSlice=function(){return new xa},t.prototype.createTick=function(){return new tb},t.prototype.createLabel=function(){return new Hn},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Pie Slice Series"))},t.prototype.createDataItem=function(){return new _a},t.prototype.initSlice=function(e){e.isMeasured=!1,e.defaultState.properties.scale=1,e.observe("scale",this.handleSliceScale,this),e.observe(["dx","dy","x","y","shiftRadius"],this.handleSliceMove,this),e.tooltipText="{category}: {value.percent.formatNumber('#.#p')} ({value.value})";var i=e.states.create("hover");i.properties.scale=1.05;var r=e.defaultState;r.properties.shiftRadius=0,e.togglable=!0,e.events.on("toggled",function(n){n.target.hideTooltip(),n.target.interactions.lastHitPointer&&n.target.interactions.lastHitPointer.touch&&!n.target.isActive&&(n.target.isHover=!1)});var a=e.states.create("active");a.properties.shiftRadius=.1},t.prototype.validate=function(){this._leftItems=[],this._rightItems=[],this._currentStartAngle=this.startAngle,this._arcRect=Oa(this.startAngle,this.endAngle),this._maxRadiusPercent=0;for(var e=this.startIndex;e<this.endIndex;e++){var i=this.dataItems.getIndex(e),r=i.values.radiusValue.percent;r>this._maxRadiusPercent&&(this._maxRadiusPercent=r)}s.prototype.validate.call(this),this.alignLabels&&(this.startAngle>this.endAngle?this._rightItems.reverse():this._leftItems.reverse(),this._rightItems.sort(function(a,n){var o=(a.slice.middleAngle+360)%360,l=(n.slice.middleAngle+360)%360;return o>270&&(o-=360),l>270&&(l-=360),o<l?-1:o>l?1:0}),this._leftItems.sort(function(a,n){var o=(a.slice.middleAngle+360)%360,l=(n.slice.middleAngle+360)%360;return o<l?1:o>l?-1:0}),this.arrangeLabels(this._rightItems),this.arrangeLabels2(this._rightItems),this.arrangeLabels(this._leftItems),this.arrangeLabels2(this._leftItems))},t.prototype.validateDataElement=function(e){if(this.pixelRadius>0){this.ignoreZeroValues&&(e.value==0||e.value==null)?e.__disabled=!0:e.__disabled=!1;var i=e.slice;if(i.radius=this.pixelRadius,I(e.radiusValue)&&(i.radius=this.pixelInnerRadius+(this.pixelRadius-this.pixelInnerRadius)*e.values.radiusValue.percent/this._maxRadiusPercent),i.innerRadius instanceof qe||(i.innerRadius=this.pixelInnerRadius),i.startAngle=this._currentStartAngle,i.arc=Math.abs(e.values.value.percent)*(this.endAngle-this.startAngle)/100,!this.labels.template.disabled){var r=e.label,a=e.tick;a.slice=i,a.label=r;var n=(i.middleAngle+360)%360,o=void 0;if(this.alignLabels){var l=r.pixelRadius(i.radius),u=a.length+l;r.dx=0,r.dy=0,r.verticalCenter="middle";var h=this._arcRect;n>270||n<=90?(u+=(h.width+h.x)*this.pixelRadius,r.horizontalCenter="left",this._rightItems.push(e)):(u-=h.x*this.pixelRadius,r.horizontalCenter="right",this._leftItems.push(e),u*=-1);var c=i.radius+a.length+l;o={x:u,y:i.iy*c},r.moveTo(o)}else{var A=i.depth;I(A)||(A=0),r.fixPosition(i.middleAngle,i.radius,i.radiusY,0,-A)}}this._currentStartAngle+=i.arc,s.prototype.validateDataElement.call(this,e)}},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return this._pixelRadius},set:function(e){this._pixelRadius!=e&&(this._pixelRadius=e,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},set:function(e){this._pixelInnerRadius!=e&&(this._pixelInnerRadius=e,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){var e=this.getPropertyValue("startAngle");return I(e)?e:this._startAngleInternal},set:function(e){this.setPropertyValue("startAngle",tl(e),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){var e=this.getPropertyValue("endAngle");return I(e)?e:this._endAngleInternal},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){s.prototype.positionBullet.call(this,e);var i=e.dataItem,r=i.slice,a=e.locationX;I(a)||(a=.5);var n=e.locationY;I(n)||(n=1);var o=r.startAngle+r.arc*a;e.x=n*r.radius*Se(o),e.y=n*r.radiusY*Be(o)},t.prototype.handleSliceMove=function(e){if(!this.alignLabels){var i=e.target,r=i.dataItem;if(r){var a=r.label;a&&(a.dx=a.fdx+i.dx+i.pixelX,a.dy=a.fdy+i.dy+i.pixelY)}}},Object.defineProperty(t.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;var e=this.chart;return e?Oa(e.startAngle,e.endAngle,this.pixelRadius):Oa(this.startAngle,this.endAngle,this.pixelRadius)},enumerable:!0,configurable:!0}),t}(Ah);M.registeredClasses.PieSeries=Ts;M.registeredClasses.PieSeriesDataItem=_a;var ib=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="PieChartDataItem",e.applyTheme(),e}return t}(kp);var Xi=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="PieChart",e.innerRadius=0,e.radius=ue(80),e.align="none",e.valign="none",e.startAngle=-90,e.endAngle=270;var i=e.seriesContainer;return i.isMeasured=!0,i.valign="middle",i.align="center",i.layout="absolute",i.width=void 0,i.height=void 0,e.chartContainer.minHeight=50,e.chartContainer.minWidth=50,e.chartContainer.events.on("maxsizechanged",e.updateRadius,e,!1),e._disposers.push(e.seriesContainer.events.on("positionchanged",function(){e.bulletsContainer.x=e.seriesContainer.x,e.bulletsContainer.y=e.seriesContainer.y})),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Pie chart"))},t.prototype.validateLayout=function(){s.prototype.validateLayout.call(this),this.updateRadius()},t.prototype.handleSeriesAdded=function(e){s.prototype.handleSeriesAdded.call(this,e),this._chartPixelRadius=void 0,this.updateSeriesAngles()},t.prototype.updateSeriesAngles=function(){var e=this;this.series.each(function(i){i._startAngleInternal=e.startAngle,i._endAngleInternal=e.endAngle})},t.prototype.updateRadius=function(){var e=this.chartContainer,i=Oa(this.startAngle,this.endAngle,1),r={x:0,y:0,width:0,height:0},a=this.innerRadius;a instanceof qe&&(r=Oa(this.startAngle,this.endAngle,a.value)),i=rl([i,r]);var n=Math.min(e.innerWidth/i.width,e.innerHeight/i.height);I(n)||(n=0);var o=or(this.radius,n),l=or(this.innerRadius,n),u=(o-l)/this.series.length;(o!=this._chartPixelRadius||l!=this._chartPixelInnerRadius)&&(this._chartPixelRadius=o,this._chartPixelInnerRadius=l,ce(Rn(this.series.iterator()),function(h){var c=h[0],A=h[1],d=l+or(A.radius,o-l),f=l+or(A.innerRadius,o-l);I(d)||(d=l+u*(c+1)),I(f)||(f=l+u*c),A.pixelRadius=d,A.pixelInnerRadius=f}),this.seriesContainer.definedBBox={x:o*i.x,y:o*i.y,width:o*i.width,height:o*i.height},this.seriesContainer.invalidateLayout())},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new Ts},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),t}(Ep);M.registeredClasses.PieChart=Xi;M.registeredClasses.PieChartDataItem=ib;var gA=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="LightenFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"matrix"}),e.filterPrimitives.push(e.feColorMatrix),e.lightness=0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"lightness",{get:function(){return this.properties.lightness},set:function(e){this.properties.lightness=e;var i=e+1;this.feColorMatrix.attr({values:i+" 0 0 0 0 0 "+i+" 0 0 0 0 0 "+i+" 0 0 0 0 0 1 0"})},enumerable:!0,configurable:!0}),t}(pn);M.registeredClasses.LightenFilter=gA;var Mw=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="Slice3D",e.layout="none";var i=e.createChild(ke);e.edge=i,i.shouldClone=!1,i.isMeasured=!1,i.toBack(),e.angle=30,e.depth=20;var r=e.createChild(ke);e.sideA=r,r.shouldClone=!1,r.isMeasured=!1;var a=e.createChild(ke);return e.sideB=a,a.shouldClone=!1,a.isMeasured=!1,e.applyTheme(),e}return t.prototype.setFill=function(e){s.prototype.setFill.call(this,e);var i;if(e instanceof xt)i=e.hex;else if(e instanceof hs||e instanceof Ka)i=e.stops.getIndex(0).color.hex;else{var r=new gA;r.lightness=-.25,this.edge.filters.push(r),this.sideA.filters.push(r.clone()),this.sideB.filters.push(r.clone())}if(i){var a=Ve(i).lighten(-.25);this.edge.fill=a,this.sideA.fill=a,this.sideB.fill=a,this.edge.stroke=a,this.sideA.stroke=a,this.sideB.stroke=a}},t.prototype.draw=function(){if(this.cornerRadius=0,this.innerCornerRadius=0,s.prototype.draw.call(this),this.arc!==0&&this.radius>0&&this.depth>0){this.sideB.show(0),this.sideA.show(0),this.edge.show(0);for(var e=this.startAngle,i=this.arc,r=this.pixelInnerRadius||0,a=this.radiusY||0,n=this.radius,o=e+i,l=a/n*r,u={x:Se(e)*r,y:Be(e)*l},h={x:Se(e)*n,y:Be(e)*a},c={x:Se(o)*n,y:Be(o)*a},A={x:Se(o)*r,y:Be(o)*l},d=this.depth,f={x:u.x,y:u.y-d},p={x:h.x,y:h.y-d},m={x:c.x,y:c.y-d},g={x:A.x,y:A.y-d},y="",x=Math.ceil(i/5),C=i/x,S=e,P=p,F=0;F<x;F++)if(S+=C,S>0&&S<180){y+=_e(P);var O={x:Se(S)*n,y:Be(S)*a-d};y+=he({x:P.x,y:P.y+d}),y+=Ja({x:O.x,y:O.y+d},n,a,!0),y+=he(O),y+=Ja(P,n,a),y+="z",P=O}else{y+=_e(P);var O={x:Se(S)*n,y:Be(S)*a-d};y+=Ja(O,n,a,!0),y+=he({x:O.x,y:O.y+d}),y+=Ja({x:P.x,y:P.y+d},n,a),y+=he(P),y+="z",P=O}P=f,S=e;for(var F=0;F<x;F++)if(S+=C,S>0&&S<180){y+=_e(P);var O={x:Se(S)*r,y:Be(S)*l-d};y+=he({x:P.x,y:P.y+d}),y+=Ja({x:O.x,y:O.y+d},r,l,!0),y+=he(O),y+=Ja(P,r,l),y+="z",P=O}else{y+=_e(P);var O={x:Se(S)*r,y:Be(S)*l-d};y+=Ja(O,r,l,!0),y+=he({x:O.x,y:O.y+d}),y+=Ja({x:P.x,y:P.y+d},r,l),y+=he(P),y+="z",P=O}this.edge.path=y,this.sideA.path=_e(u)+he(h)+he(p)+he(f)+_i(),this.sideB.path=_e(c)+he(A)+he(g)+he(m)+_i(),this.startAngle<90?this.sideA.toBack():this.sideA.toFront(),this.startAngle+this.arc>90?this.sideB.toBack():this.sideB.toFront(),this.slice.dy=-d}else this.sideA.hide(0),this.sideB.hide(0),this.edge.hide(0)},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){var e=this.getPropertyValue("angle");return I(e)||(e=0),e},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){var e=this.getPropertyValue("radiusY");return I(e)||(e=this.radius-this.radius*this.angle/90),e},set:function(e){this.setPropertyValue("radiusY",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.edge.copyFrom(e.edge),this.sideA.copyFrom(e.sideA),this.sideB.copyFrom(e.sideB)},t}(xa);var Rw=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="PieSeries3DDataItem",e.values.depthValue={},e.applyTheme(),e}return Object.defineProperty(t.prototype,"depthValue",{get:function(){return this.values.depthValue.value},set:function(e){this.setValue("depthValue",e)},enumerable:!0,configurable:!0}),t}(_a);var rb=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="PieSeries3D",e.applyTheme(),e}return t.prototype.createDataItem=function(){return new Rw},t.prototype.createSlice=function(){return new Mw},t.prototype.validateDataElement=function(e){var i=e.slice,r=this.depth;I(r)||(r=this.chart.depth);var a=e.values.depthValue.percent;I(a)||(a=100),i.depth=a*r/100;var n=this.angle;I(n)||(n=this.chart.angle),i.angle=n,s.prototype.validateDataElement.call(this,e)},t.prototype.validate=function(){s.prototype.validate.call(this);for(var e=this._workingStartIndex;e<this._workingEndIndex;e++){var i=this.dataItems.getIndex(e),r=i.slice,a=r.startAngle;a>=-90&&a<90?r.toFront():a>=90&&r.toBack()}},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e)},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){s.prototype.positionBullet.call(this,e);var i=e.dataItem,r=i.slice;e.y=e.pixelY-r.depth},t}(Ts);M.registeredClasses.PieSeries3D=rb;M.registeredClasses.PieSeries3DDataItem=Rw;var sN=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="PieChart3DDataItem",e.applyTheme(),e}return t}(ib);var xD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="PieChart3D",e.depth=20,e.angle=10,e.applyTheme(),e}return Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){e=De(e,0,90),this.setPropertyValue("angle",e)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new rb},t}(Xi);M.registeredClasses.PieChart3D=xD;var _D=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="SlicedChartDataItem",e.applyTheme(),e}return t}(kp);var wD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="SlicedChart",e.seriesContainer.layout="horizontal",e.padding(15,15,15,15),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Sliced chart"))},t.prototype.validate=function(){s.prototype.validate.call(this)},t}(Ep);M.registeredClasses.SlicedChart=wD;M.registeredClasses.SlicedChartDataItem=_D;var fh=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.legendSettings=new Op,e.className="FlowDiagramNode",e.isMeasured=!1,new ze,e.draggable=!0,e.inert=!0,e.setStateOnChildren=!0,e.events.on("positionchanged",e.invalidateLinks,e,!1),e.events.on("sizechanged",e.invalidateLinks,e,!1),e}return t.prototype.handleHit=function(e){this.isHidden||this.isHiding?this.show():this.hide()},t.prototype.show=function(e){var i=s.prototype.show.call(this,e);return this.outgoingDataItems.each(function(r){(!r.toNode||r.toNode&&!r.toNode.isHidden)&&(r.setWorkingValue("value",r.getValue("value"),e),r.link.show())}),this.incomingDataItems.each(function(r){(!r.fromNode||r.fromNode&&!r.fromNode.isHidden)&&(r.setWorkingValue("value",r.getValue("value"),e),r.link.show())}),i},t.prototype.hide=function(e){var i=s.prototype.hide.call(this,e);return this.outgoingDataItems.each(function(r){r.setWorkingValue("value",0,e),r.link.hide()}),this.incomingDataItems.each(function(r){r.setWorkingValue("value",0,e),r.link.hide()}),i},t.prototype.validate=function(){this.isDisposed()||(s.prototype.validate.call(this),this.invalidateLinks())},t.prototype.invalidateLinks=function(){var e=this;this.outgoingDataItems.each(function(i){var r=i.link;if(r.colorMode=="fromNode"&&(r.fill=r.dataItem.fromNode.color),r.colorMode=="gradient"){r.fill=r.gradient,r.stroke=r.gradient;var a=r.gradient.stops.getIndex(0);a&&(a.color=e.color,r.gradient.validate())}}),this.incomingDataItems.each(function(i){var r=i.link;if(r.colorMode=="toNode"&&(r.fill=r.dataItem.toNode.color),r.colorMode=="gradient"){r.fill=r.gradient,r.stroke=r.gradient;var a=r.gradient.stops.getIndex(1);a&&(a.color=e.color,r.gradient.validate())}})},Object.defineProperty(t.prototype,"incomingDataItems",{get:function(){var e=this;if(!this._incomingDataItems){var i=new gt;i.events.on("inserted",function(){e.chart.sortBy=="name"?e._incomingSorted=Gl(e._incomingDataItems.iterator(),function(r,a){return rp(r.fromName,a.fromName)}):e.chart.sortBy=="value"?e._incomingSorted=Gl(e._incomingDataItems.iterator(),function(r,a){return Xd(La(r.value,a.value))}):e._incomingSorted=e._incomingDataItems.iterator()},void 0,!1),this._incomingDataItems=i}return this._incomingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outgoingDataItems",{get:function(){var e=this;if(!this._outgoingDataItems){var i=new gt;i.events.on("inserted",function(){e.chart.sortBy=="name"?e._outgoingSorted=Gl(e._outgoingDataItems.iterator(),function(r,a){return rp(r.fromName,a.fromName)}):e.chart.sortBy=="value"?e._outgoingSorted=Gl(e._outgoingDataItems.iterator(),function(r,a){return Xd(La(r.value,a.value))}):e._outgoingSorted=e._outgoingDataItems.iterator()},void 0,!1),this._outgoingDataItems=i}return this._outgoingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(e){this.setPropertyValue("name",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"total",{get:function(){return this.getPropertyValue("total")},set:function(e){this.setPropertyValue("total",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalIncoming",{get:function(){return this.getPropertyValue("totalIncoming")},set:function(e){this.setPropertyValue("totalIncoming",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalOutgoing",{get:function(){return this.getPropertyValue("totalOutgoing")},set:function(e){this.setPropertyValue("totalOutgoing",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.getPropertyValue("color")},set:function(e){this.setColorProperty("color",e),this._background&&(this._background.fill=e),this.fill=e},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var a=e.createChild(Kr);a.shouldClone=!1,Ni(this,a,Bi),a.stroke=this.fill,a.copyFrom(this),a.padding(0,0,0,0),a.width=i,a.height=r;var n=e.dataItem;n.color=a.fill,n.colorOrig=a.fill},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),t}(Fe);M.registeredClasses.FlowDiagramNode=fh;var iu=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._distance=0,e.className="Polyline",e.element=e.paper.add("path"),e.shapeRendering="auto",e.fill=Ve(),e.strokeOpacity=1,e.applyTheme(),e}return t.prototype.makePath=function(){this._distance=0;var e=this.segments;if(e&&e.length>0){for(var i="",r=0,a=e.length;r<a;r++){var n=e[r];if(n.length>0){i+=_e(n[0]);for(var o=1;o<n.length;o++){var l=n[o];i+=he(l),this._distance+=Et(n[o-1],l)}}}this.path=i}this._realSegments=e},Object.defineProperty(t.prototype,"segments",{get:function(){return this.getPropertyValue("segments")},set:function(e){this.setPropertyValue("segments",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var i=0;e<0&&(e=Math.abs(e),i=180);var r=this._realSegments;if(r){for(var a=this.distance,n=0,o=void 0,l=0,u=0,h=void 0,c=void 0,A=0;A<r.length;A++){var d=r[A];if(d.length>1){for(var f=1;f<d.length;f++)if(h=d[f-1],c=d[f],l=n/a,o=Et(h,c),n+=o,u=n/a,l<=e&&u>e){A=r.length;break}}else d.length==1&&(h=d[0],c=d[0],l=0,u=1)}if(h&&c){var p=(e-l)/(u-l),m=oc(h,c,p);return{x:m.x,y:m.y,angle:i+nr(h,c)}}}return{x:0,y:0,angle:0}},Object.defineProperty(t.prototype,"realSegments",{get:function(){return this._realSegments},enumerable:!0,configurable:!0}),t}(ke);M.registeredClasses.Polyline=iu;var ph=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="FlowDiagramLink";var i=new ze;return e.maskBullets=!1,e.colorMode="fromNode",e.layout="none",e.isMeasured=!1,e.startAngle=0,e.endAngle=0,e.strokeOpacity=0,e.verticalCenter="none",e.horizontalCenter="none",e.tooltipText="{fromName}\u2192{toName}:{value.value}",e.tooltipLocation=.5,e.link=e.createChild(ke),e.link.shouldClone=!1,e.link.setElement(e.paper.add("path")),e.link.isMeasured=!1,e.fillOpacity=.2,e.fill=i.getFor("alternativeBackground"),e.applyTheme(),e}return t.prototype.positionBullets=function(){var e=this;ce(this.bullets.iterator(),function(i){i.parent=e.bulletsContainer,i.maxWidth=e.maxWidth,i.maxHeight=e.maxHeight,e.positionBullet(i)})},Object.defineProperty(t.prototype,"bulletsContainer",{get:function(){if(!this._bulletsContainer){var e=this.createChild(Fe);e.shouldClone=!1,e.layout="none",this._bulletsContainer=e}return this._bulletsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bulletsMask",{get:function(){if(!this._bulletsMask){var e=this.createChild(ke);e.shouldClone=!1,e.setElement(this.paper.add("path")),e.isMeasured=!1,this._bulletsMask=e}return this._bulletsMask},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){var i=e.locationX;I(i)||(i=e.locationY),I(i)||(i=.5);var r=this.middleLine.positionToPoint(i);e.moveTo(r);var a=e.propertyFields.rotation,n;if(e.dataItem){var o=e.dataItem.dataContext;n=o[a]}I(n)||(n=r.angle),e.rotation=n},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorMode",{get:function(){return this.getPropertyValue("colorMode")},set:function(e){if(e=="gradient"){var i=this.fill;this.gradient.stops.clear(),i instanceof xt&&(this.gradient.addColor(i),this.gradient.addColor(i)),this.fill=this.gradient,this.stroke=this.gradient}this.setPropertyValue("colorMode",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(e){this.setPropertyValue("tooltipLocation",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setFill=function(e){s.prototype.setFill.call(this,e);var i=this._gradient;i&&e instanceof xt&&(i.stops.clear(),i.addColor(e),i.addColor(e))},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bullets",{get:function(){var e=this;return this._bullets||(this._bullets=new zt(new Rs),this._disposers.push(new Tt(this._bullets)),this._disposers.push(this._bullets.template),this._bullets.events.on("inserted",function(i){i.newValue.events.on("propertychanged",function(r){(r.property=="locationX"||r.property=="locationY")&&e.positionBullet(r.target)},void 0,!1)},void 0,!1)),this._bullets},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.bullets.copyFrom(e.bullets);var i=this.middleLine;i&&(i instanceof Us&&e.middleLine instanceof Us&&i.copyFrom(e.middleLine),i instanceof iu&&e.middleLine instanceof iu&&i.copyFrom(e.middleLine)),this.link.copyFrom(e.link)},t.prototype.getTooltipX=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).x},t.prototype.getTooltipY=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).y},Object.defineProperty(t.prototype,"gradient",{get:function(){return this._gradient||(this._gradient=new hs),this._gradient},enumerable:!0,configurable:!0}),t}(Fe);M.registeredClasses.FlowDiagramLink=ph;var sb=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="ColorModifier",e.applyTheme(),e}return t.prototype.modify=function(e){return e},t}(Hi);M.registeredClasses.ColorModifier=sb;var Mp=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.lightnesses=[],e.brightnesses=[],e.opacities=[],e.offsets=[],e.className="GradientModifier",e.applyTheme(),e}return Object.defineProperty(t.prototype,"lightnesses",{get:function(){return this._lightnesses},set:function(e){this._lightnesses=e,this._brightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"brightnesses",{get:function(){return this._brightnesses},set:function(e){this._brightnesses=e,this._lightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacities",{get:function(){return this._opacities},set:function(e){this._opacities=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return this._offsets},set:function(e){this._offsets=e},enumerable:!0,configurable:!0}),t.prototype.modify=function(e){this.gradient.clear();var i=0;this.opacities&&(i=st(i,this.opacities.length)),this.lightnesses&&(i=st(i,this.lightnesses.length)),this.brightnesses&&(i=st(i,this.brightnesses.length));for(var r=1,a,n,o=0;o<i;o++){var l=e;this.opacities&&I(this.opacities[o])&&(r=this.opacities[o]),this.lightnesses&&I(this.lightnesses[o])&&(a=this.lightnesses[o],n=void 0),this.brightnesses&&I(this.brightnesses[o])&&(n=this.brightnesses[o],a=void 0),I(n)?l=e.brighten(this.brightnesses[o]):I(a)&&(l=e.lighten(this.lightnesses[o]));var u=this.offsets[o];this.gradient.addColor(l,r,u)}return this.gradient},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this._offsets=e.offsets,this._brightnesses=e.brightnesses,this._lightnesses=e.lightnesses,this._opacities=e.opacities},t}(sb);M.registeredClasses.GradientModifier=Mp;var Dc=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="LinearGradientModifier",e.gradient=new hs,e.applyTheme(),e}return t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.gradient=e.gradient.clone()},t}(Mp);M.registeredClasses.LinearGradientModifier=Dc;var yA=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="FlowDiagramDataItem",e.values.value={},e.applyTheme(),e}return Object.defineProperty(t.prototype,"fromName",{get:function(){return this.properties.fromName},set:function(e){this.setProperty("fromName",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toName",{get:function(){return this.properties.toName},set:function(e){this.setProperty("toName",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.setProperty("color",ra(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"link",{get:function(){var e=this;if(!this._link){var i=this.component.links.create();this._link=i,this.addSprite(i),this._disposers.push(new Ft(function(){e.component&&e.component.links.removeValue(i)}))}return this._link},enumerable:!0,configurable:!0}),t}(Tp);var bA=function(s){N(t,s);function t(){var e=s.call(this)||this;e.colors=new dl,e.className="FlowDiagram",e.nodePadding=20,e.sortBy="none",e.sequencedInterpolation=!0,e.colors.step=2,e.minNodeSize=.02;var i=e.chartContainer.createChild(Fe);i.shouldClone=!1,i.layout="none",i.isMeasured=!1,e.linksContainer=i;var r=e.chartContainer.createChild(Fe);return r.shouldClone=!1,r.layout="none",r.isMeasured=!1,e.nodesContainer=r,e.dataItem=e.createDataItem(),e.dataItem.component=e,e.applyTheme(),e}return t.prototype.dispose=function(){s.prototype.dispose.call(this),this.dataItem.dispose()},t.prototype.validateData=function(){var e=this;this._parseDataFrom==0&&this.nodes.clear(),this.sortNodes(),this.colors.reset(),s.prototype.validateData.call(this);var i=0,r=0,a,n;ce(this.dataItems.iterator(),function(l){var u=l.fromName;if(u){var h=e.nodes.getKey(u);h||(h=e.nodes.create(u),h.name=u,h.chart=e,h.dataItem=l),l.fromNode=h,l.fromNode.outgoingDataItems.push(l)}var c=l.toName;if(c){var h=e.nodes.getKey(c);h||(h=e.nodes.create(c),h.name=c,h.chart=e,h.dataItem=l),l.toNode=h,l.toNode.incomingDataItems.push(l)}if(!l.fromNode){var A=new Dc;A.opacities=[0,1],l.link.strokeModifier=A}if(!l.toNode){var d=new Dc;d.opacities=[1,0],l.link.strokeModifier=d}var f=l.value;I(f)&&(i+=f,r++,(a>f||!I(a))&&(a=f),(n<f||!I(n))&&(n=f))});var o="value";this.dataItem.setCalculatedValue(o,n,"high"),this.dataItem.setCalculatedValue(o,a,"low"),this.dataItem.setCalculatedValue(o,i,"sum"),this.dataItem.setCalculatedValue(o,i/r,"average"),this.dataItem.setCalculatedValue(o,r,"count"),ce(this.nodes.iterator(),function(l){var u=l[1];u.fill instanceof xt&&(u.color=u.fill),u.color==null&&(u.color=e.colors.next()),u.dataItem.color!=null&&(u.color=u.dataItem.color),u.dataItem.visible||u.hide(0),e.getNodeValue(u)}),this.sortNodes(),this.feedLegend()},t.prototype.handleDataItemWorkingValueChange=function(e,i){this.invalidate()},t.prototype.sortNodes=function(){this.sortBy=="name"?this._sorted=this.nodes.sortedIterator():this.sortBy=="value"?this._sorted=Gl(this.nodes.iterator(),function(e,i){return Xd(La(e[1].total,i[1].total))}):this._sorted=this.nodes.iterator()},t.prototype.getNodeValue=function(e){var i=0,r=0;ce(e.incomingDataItems.iterator(),function(a){var n=a.getWorkingValue("value");I(n)&&(i+=n)}),ce(e.outgoingDataItems.iterator(),function(a){var n=a.getWorkingValue("value");I(n)&&(r+=n)}),e.total=i+r,e.totalIncoming=i,e.totalOutgoing=r},t.prototype.changeSorting=function(){this.sortNodes()},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Flow diagram"))},t.prototype.createDataItem=function(){return new yA},Object.defineProperty(t.prototype,"nodePadding",{get:function(){return this.getPropertyValue("nodePadding")},set:function(e){this.setPropertyValue("nodePadding",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortBy",{get:function(){return this.getPropertyValue("sortBy")},set:function(e){this.setPropertyValue("sortBy",e),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minNodeSize",{get:function(){return this.getPropertyValue("minNodeSize")},set:function(e){this.setPropertyValue("minNodeSize",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodes",{get:function(){if(!this._nodes){var e=this.createNode();e.events.on("hit",function(i){i.target.handleHit(i)}),this._nodes=new al(e),this._disposers.push(new Ya(this._nodes))}return this._nodes},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new fh;return this._disposers.push(e),e},Object.defineProperty(t.prototype,"links",{get:function(){return this._links||(this._links=new zt(this.createLink()),this._disposers.push(new Tt(this._links))),this._links},enumerable:!0,configurable:!0}),t.prototype.createLink=function(){var e=new ph;return this._disposers.push(e),e},t.prototype.feedLegend=function(){var e=this.legend;if(e){var i=[];this.nodes.each(function(r,a){i.push(a)}),e.data=i,e.dataFields.name="name"}},t.prototype.disposeData=function(){s.prototype.disposeData.call(this),this.nodes.clear()},t}(hl);M.registeredClasses.FlowDiagram=bA;var Rp=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="LabelBullet";var i=e.createChild(Ei);return i.shouldClone=!1,i.verticalCenter="middle",i.horizontalCenter="middle",i.truncate=!0,i.hideOversized=!1,i.maxWidth=500,i.maxHeight=500,i.stroke=Ve(),i.strokeOpacity=0,i.fill=new ze().getFor("text"),e.events.on("maxsizechanged",e.handleMaxSize,e,!1),e.label=i,e.applyTheme(),e}return t.prototype.handleMaxSize=function(){this.label.maxWidth=this.maxWidth,this.label.maxHeight=this.maxHeight},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label)},t}(Rs);M.registeredClasses.LabelBullet=Rp;var ab=function(s){N(t,s);function t(){var e=s.call(this)||this;e.nextInCoord=0,e.nextOutCoord=0,e.className="SankeyNode",e.width=10,e.height=10;var i=e.createChild(Rp);i.shouldClone=!1,i.locationX=1,i.locationY=.5,i.label.text="{name}",i.width=150,i.height=150,i.label.horizontalCenter="left",i.label.padding(0,5,0,5),e.nameLabel=i;var r=e.createChild(Rp);r.shouldClone=!1,r.label.hideOversized=!1,r.locationX=.5,r.locationY=.5,r.width=150,r.height=150,r.label.horizontalCenter="middle",e.valueLabel=r;var a=e.hiddenState;return a.properties.fill=new ze().getFor("disabledBackground"),a.properties.opacity=.5,a.properties.visible=!0,e.background.hiddenState.copyFrom(a),e}return t.prototype.invalidateLinks=function(){var e=this;s.prototype.invalidateLinks.call(this),this.nextInCoord=0,this.nextOutCoord=0;var i=this.chart;if(i){var r=i.orientation;this._incomingSorted&&ce(this._incomingSorted,function(a){var n=a.link,o=a.getWorkingValue("value");if(I(o)){n.parent=e.chart.linksContainer;var l=void 0,u=void 0,h=void 0;if(r=="horizontal"?(l=e.pixelX+e.dx,u=e.nextInCoord+e.pixelY+e.dy,h=0):(u=e.pixelY+e.dy,l=e.nextInCoord+e.pixelX+e.dx,h=90),n.endX=l,n.endY=u,n.startAngle=h,n.endAngle=h,n.gradient.rotation=h,n.linkWidth=o*i.valueHeight,!a.fromNode){r=="horizontal"?(n.maxWidth=200,n.startX=e.pixelX+e.dx-n.maxWidth,n.startY=n.endY):(n.maxHeight=200,n.startX=n.endX,n.startY=e.pixelY+e.dy-n.maxHeight),n.gradient,n.fill=a.toNode.color;var c=n.gradient.stops.getIndex(0);c&&(n.colorMode=="gradient"&&(c.color=e.color),c.opacity=0,n.fill=n.gradient,n.stroke=n.gradient,n.gradient.validate())}e.nextInCoord+=n.linkWidth}}),this._outgoingSorted&&ce(this._outgoingSorted,function(a){var n=a.link;n.parent=e.chart.linksContainer;var o=a.getWorkingValue("value");if(I(o)){var l=void 0,u=void 0,h=void 0;if(r=="horizontal"?(h=0,l=e.pixelX+e.pixelWidth+e.dx-1,u=e.nextOutCoord+e.pixelY+e.dy):(h=90,l=e.nextOutCoord+e.pixelX+e.dx,u=e.pixelY+e.pixelHeight+e.dy-1),n.startX=l,n.startY=u,n.startAngle=h,n.endAngle=h,n.gradient.rotation=h,n.linkWidth=o*e.chart.valueHeight,!a.toNode){r=="horizontal"?(n.maxWidth=200,n.endX=e.pixelX+n.maxWidth+e.dx,n.endY=n.startY):(n.maxHeight=200,n.endX=n.startX,n.endY=e.pixelY+n.maxHeight+e.dy),n.opacity=e.opacity;var c=n.gradient.stops.getIndex(1);c&&(n.colorMode=="gradient"&&(c.color=e.color),c.opacity=0,n.fill=n.gradient,n.stroke=n.gradient,n.gradient.validate())}e.nextOutCoord+=n.linkWidth}})}this.positionBullet(this.nameLabel),this.positionBullet(this.valueLabel)},t.prototype.positionBullet=function(e){e&&(e.x=this.measuredWidth*e.locationX,e.y=this.measuredHeight*e.locationY)},Object.defineProperty(t.prototype,"level",{get:function(){return this.getPropertyValue("level")},set:function(e){this.setPropertyValue("level",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.nameLabel.copyFrom(e.nameLabel),this.valueLabel.copyFrom(e.valueLabel)},t}(fh);M.registeredClasses.SankeyNode=ab;var Oc=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="Polyspline",e.tensionX=.5,e.tensionY=.5,e.applyTheme(),e}return t.prototype.makePath=function(){this._distance=0;var e=this.segments,i=this.tensionX,r=this.tensionY;if(this.allPoints=[],e&&e.length>0){var a="";this._realSegments=[];for(var n=0,o=e.length;n<o;n++){var l=e[n],u=[];if(this._realSegments.push(u),l.length>0){var h=l[0],c=l[l.length-1],A=!1;ve(h.x,3)==ve(c.x)&&ve(h.y)==ve(c.y)&&(A=!0),a+=_e(l[0]);for(var d=0;d<l.length-1;d++){var f=l[d-1],p=l[d],m=l[d+1],g=l[d+2];d===0?f=l[d]:d==l.length-2&&(g=l[d+1]),g||(g=m),d===0?A?f=l[l.length-2]:f=l[n]:d==l.length-2&&(A?g=l[1]:g=l[d+1]);var y=dy(f,p,m,g,i,r),x=Ay(f,p,m,g,i,r);a+=Zl(m,y,x);var C=Math.ceil(mT(p,m,y,x,20))*1.2,S=p;if(C>0)for(var P=0;P<=C;P++){var F=qf(p,m,y,x,P/C);if(!(F.x==S.x&&F.y==S.y)){u.push(F);var O=ve(nr(S,F),5);this._distance+=Et(S,F),this.allPoints[Math.floor(this._distance)]={x:F.x,y:F.y,angle:O},S=F}}else u.push(f)}}var $=this.allPoints;if($.length>1){for(var L=0;L<$.length;L++)if(!$[L]){if(L>1)$[L]=$[L-1];else for(var E=1;E<$.length;E++)if($[E]){$[L]=$[E];break}}}}this.path=a}},t.prototype.getClosestPointIndex=function(e){var i=this.allPoints,r,a=1/0;if(i.length>1)for(var n=1;n<i.length;n++){var o=Et(e,i[n]);o<a&&(r=n,a=o)}return r},Object.defineProperty(t.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(e){this.setPropertyValue("tensionX",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(e){this.setPropertyValue("tensionY",e,!0),this.makePath()},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){var r=0,a=this.allPoints,n=a.length;if(I(e)||(e=0),n>1){if(i&&n>3){if(e<0){e<-.01&&(e=-.01);var o=a[0],l=a[1],u=o.x-(o.x-l.x)*n*e,h=o.y-(o.y-l.y)*n*e;return{x:u,y:h,angle:nr(o,l)}}else if(e>1){e>1.01&&(e=1.01);var o=a[a.length-2],l=a[a.length-3],u=o.x+(o.x-l.x)*n*(e-1),h=o.y+(o.y-l.y)*n*(e-1);return{x:u,y:h,angle:nr(o,{x:u,y:h})}}else if(e==1){var c=a[a.length-1];return{x:c.x,y:c.y,angle:c.angle}}}else e<0&&(e=Math.abs(e),r=180),e>=1&&(e=.9999999999999);var A=a[Math.floor(e*n)];return{x:A.x,y:A.y,angle:A.angle+r}}else if(n==1){var A=a[0];return{x:A.x,y:A.y,angle:A.angle}}else return{x:0,y:0,angle:0}},t}(iu);M.registeredClasses.Polyspline=Oc;var nb=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="SankeyLink",new ze,e.tension=.8,e.controlPointDistance=.2,e.startAngle=0,e.endAngle=0,e.linkWidth=0,e.startX=0,e.endX=0,e.startY=0,e.endY=0,e.middleLine=e.createChild(Oc),e.middleLine.shouldClone=!1,e.middleLine.strokeOpacity=0,e.applyTheme(),e}return t.prototype.makeBackwards=function(){this.states.getKey("backwards")!=null&&this.setState("backwards")},t.prototype.validate=function(){var e,i,r,a;if(s.prototype.validate.call(this),!this.isTemplate){var n=this.startX,o=this.startY,l=this.endX,u=this.endY;if(this.states.getKey("backwards")&&this.setState("default"),this.dataItem){var h=this.dataItem.component;h&&(h.orientation=="horizontal"?l<n&&(e=Su([l,n],2),n=e[0],l=e[1],i=Su([u,o],2),o=i[0],u=i[1],this.makeBackwards()):u<o&&(r=Su([u,o],2),o=r[0],u=r[1],a=Su([l,n],2),n=a[0],l=a[1],this.makeBackwards()))}I(l)||(l=n),I(u)||(u=o);var c=this.startAngle,A=this.endAngle,d=this.linkWidth,f="",p=n,m=o,g=l,y=u,x=n+d*Be(c),C=l+d*Be(A),S=o+d*Se(c),P=u+d*Se(A),F=n+d/2*Be(c),O=l+d/2*Be(A),$=o+d/2*Se(c),L=u+d/2*Se(A);this.zIndex=this.zIndex||this.dataItem.index;var E=this.tension+(1-this.tension)*Be(c),D=this.tension+(1-this.tension)*Se(c);if(this.middleLine.tensionX=E,this.middleLine.tensionY=D,I(d)&&I(n)&&I(l)&&I(o)&&I(u)){ve(p,3)==ve(g,3)&&(g+=.01),ve(m,3)==ve(y,3)&&(y+=.01),ve(x,3)==ve(C,3)&&(C+=.01),ve(S,3)==ve(P,3)&&(P+=.01);var H=Math.min(x,C,p,g),te=Math.min(S,P,m,y),K=Math.max(x,C,p,g),ae=Math.max(S,P,m,y);this._bbox={x:H,y:te,width:K-H,height:ae-te};var ie=this.controlPointDistance,fe=p+(g-p)*ie*Se(c),z=m+(y-m)*ie*Be(c),Y=g-(g-p)*ie*Se(A),ge=y-(y-m)*ie*Be(A),re=F+(O-F)*ie*Se(c),me=$+(L-$)*ie*Be(c),Ge=O-(O-F)*ie*Se(A),Xe=L-(L-$)*ie*Be(A),nt=nr({x:fe,y:z},{x:Y,y:ge}),At=(d/Se(nt)-d)/S_(nt)*Se(c),tt=(d/Be(nt)-d)*S_(nt)*Be(c),ft=-At/2+x+(C-x)*ie*Se(c),_t=-tt/2+S+(P-S)*ie*Be(c),$t=-At/2+C-(C-x)*ie*Se(A),U=-tt/2+P-(P-S)*ie*Be(A);L==$&&(L+=.01),this.middleLine.segments=[[{x:F,y:$},{x:re,y:me},{x:Ge,y:Xe},{x:O,y:L}]],fe+=At/2,z+=tt/2,Y+=At/2,ge+=tt/2,f+=_e({x:p,y:m}),f+=new mn(E,D).smooth([{x:p,y:m},{x:fe,y:z},{x:Y,y:ge},{x:g,y}]),f+=he({x:C,y:P}),f+=new mn(E,D).smooth([{x:C,y:P},{x:$t,y:U},{x:ft,y:_t},{x,y:S}]),f+=_i()}this.link.path=f,this.maskBullets&&(this.bulletsMask.path=f,this.bulletsContainer.mask=this.bulletsMask),this.positionBullets()}},Object.defineProperty(t.prototype,"startX",{get:function(){return this.getPropertyValue("startX")},set:function(e){this.setPropertyValue("startX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endX",{get:function(){return this.getPropertyValue("endX")},set:function(e){this.setPropertyValue("endX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startY",{get:function(){return this.getPropertyValue("startY")},set:function(e){this.setPropertyValue("startY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endY",{get:function(){return this.getPropertyValue("endY")},set:function(e){this.setPropertyValue("endY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"linkWidth",{get:function(){return this.getPropertyValue("linkWidth")},set:function(e){this.setPropertyValue("linkWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(e){this.setPropertyValue("controlPointDistance",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e,!0)},enumerable:!0,configurable:!0}),t}(ph);M.registeredClasses.SankeyLink=nb;var CD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="SankeyDiagramDataItem",e.applyTheme(),e}return t}(yA);var BD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="SankeyDiagram",e.orientation="horizontal",e.nodeAlign="middle",e.nodesContainer.width=ue(100),e.nodesContainer.height=ue(100),e.linksContainer.width=ue(100),e.linksContainer.height=ue(100),e.applyTheme(),e}return t.prototype.validateData=function(){var e=this;this._valueHeight=void 0,s.prototype.validateData.call(this),this._levelCount=0,this.nodes.each(function(i,r){r.level=void 0}),this.nodes.each(function(i,r){r.level=e.getNodeLevel(r,0),e._levelCount=st(e._levelCount,r.level)})},t.prototype.getNodeLevel=function(e,i){var r=this,a=[i];return ce(e.incomingDataItems.iterator(),function(n){n.fromNode&&(I(n.fromNode.level)?a.push(n.fromNode.level+1):(r._counter=0,r.checkLoop(n.fromNode),r._counter<r.dataItems.length&&a.push(r.getNodeLevel(n.fromNode,i+1))))}),Math.max.apply(Math,Il(a))},t.prototype.checkLoop=function(e){var i=this;this._counter++,!(this._counter>this.dataItems.length)&&ce(e.incomingDataItems.iterator(),function(r){i.checkLoop(r.fromNode)})},t.prototype.calculateValueHeight=function(){var e=this;this._levelSum={},this._levelNodesCount={},this.maxSum=0;var i=this.dataItem.values.value.sum;ce(this._sorted,function(c){var A=c[1];e.getNodeValue(A)}),this.nodes.each(function(c,A){var d=A.level,f=Math.max(A.totalIncoming,A.totalOutgoing);f/i<e.minNodeSize&&(f=i*e.minNodeSize),I(e._levelSum[d])?e._levelSum[d]+=f:e._levelSum[d]=f,I(e._levelNodesCount[d])?e._levelNodesCount[d]++:e._levelNodesCount[d]=1});var r;this.orientation=="horizontal"?r=this.chartContainer.maxHeight-1:r=this.chartContainer.maxWidth-1;var a,n;Ue(this._levelSum,function(c,A){var d=A,f=e._levelNodesCount[c],p=(r-(f-1)*e.nodePadding)/d;p==1/0&&(p=0),(n>p||!I(n))&&(n=p,e.maxSum=d,a=Gt(c))}),this._maxSumLevel=a;var o=this._levelNodesCount[this._maxSumLevel],l=(r-(o-1)*this.nodePadding)/this.maxSum;if(l==1/0&&(l=0),!I(this.valueHeight))this.valueHeight=l;else{var u=void 0;try{u=this._heightAnimation.animationOptions[0].to}catch{}if(u!=l){var h=this.interpolationDuration;try{h=this.nodes.template.states.getKey("active").transitionDuration}catch{}this._heightAnimation=new gs(this,{property:"valueHeight",from:this.valueHeight,to:l},h,this.interpolationEasing).start(),this._disposers.push(this._heightAnimation)}}},t.prototype.validate=function(){var e=this;s.prototype.validate.call(this),this.calculateValueHeight();var i=this.nodesContainer,r={},a=this._levelNodesCount[this._maxSumLevel],n=this.dataItem.values.value.sum,o;this.orientation=="horizontal"?o=this.chartContainer.maxHeight-1:o=this.chartContainer.maxWidth-1,ce(this._sorted,function(l){var u=l[1],h=u.level,c=0,A=e._levelNodesCount[h];switch(e.nodeAlign){case"bottom":c=(e.maxSum-e._levelSum[h])*e.valueHeight-(A-a)*e.nodePadding;break;case"middle":c=(e.maxSum-e._levelSum[h])*e.valueHeight/2-(A-a)*e.nodePadding/2;break}if(e.maxSum==0)switch(e.nodeAlign){case"bottom":c=o-A*(e.minNodeSize*o+e.nodePadding);break;case"middle":c=o/2-A/2*(e.minNodeSize*o+e.nodePadding);break}u.parent=i;var d,f,p,m=Math.max(u.totalIncoming,u.totalOutgoing);if(m/n<e.minNodeSize&&(m=n*e.minNodeSize),e.orientation=="horizontal"){d=(e.innerWidth-u.pixelWidth)/e._levelCount,f=d*u.level,p=r[h]||c;var g=m*e.valueHeight;n==0&&g==0&&(g=e.minNodeSize*o),u.height=g,u.minX=f,u.maxX=f,r[h]=p+g+e.nodePadding}else{d=(e.innerHeight-u.pixelHeight)/e._levelCount,f=r[h]||c,p=d*u.level;var y=m*e.valueHeight;n==0&&y==0&&(y=e.minNodeSize*o),u.width=y,u.minY=p,u.maxY=p,r[h]=f+y+e.nodePadding}u.x=f,u.y=p})},t.prototype.showReal=function(e){var i=this;if(!this.preventShow){if(this.interpolationDuration>0){var r=this.nodesContainer,a=0;ce(this.links.iterator(),function(n){n.hide(0)}),ce(this._sorted,function(n){var o=n[1],l;i.orientation=="horizontal"?(o.dx=-(r.pixelWidth-o.pixelWidth)/Math.max(i._levelCount,1),l="dx"):(o.dy=-(r.pixelHeight-o.pixelHeight)/Math.max(i._levelCount,1),l="dy");var u=0,h=i.interpolationDuration;i.sequencedInterpolation&&(u=i.sequencedInterpolationDelay*a+h*a/TT(i.nodes.iterator())),o.opacity=0,o.invalidateLinks(),o.animate([{property:"opacity",from:0,to:1},{property:l,to:0}],i.interpolationDuration,i.interpolationEasing).delay(u),ce(o.outgoingDataItems.iterator(),function(c){var A=c.link.show(i.interpolationDuration);A&&!A.isFinished()&&A.delay(u)}),ce(o.incomingDataItems.iterator(),function(c){if(!c.fromNode){var A=c.link.show(i.interpolationDuration);A&&!A.isFinished()&&A.delay(u)}}),a++})}return s.prototype.showReal.call(this)}},t.prototype.changeSorting=function(){var e=this;this.sortNodes();var i={};ce(this._sorted,function(r){var a=r[1],n=a.level,o=(e.maxSum-e._levelSum[n])*e.valueHeight/2,l,u;e.orientation=="horizontal"?(l="y",u=a.pixelHeight):(l="x",u=a.pixelWidth),a.animate({property:l,to:i[n]||o},e.interpolationDuration,e.interpolationEasing),i[n]=(i[n]||o)+u+e.nodePadding,a.invalidateLinks()})},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Sankey diagram"))},t.prototype.createDataItem=function(){return new CD},Object.defineProperty(t.prototype,"nodeAlign",{get:function(){return this.getPropertyValue("nodeAlign")},set:function(e){this.setPropertyValue("nodeAlign",e),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);var i=this.nodes.template.nameLabel;e=="vertical"?(this.nodes.template.width=void 0,i.label.horizontalCenter="middle",i.locationX=.5):(this.nodes.template.height=void 0,i.label.horizontalCenter="left",i.locationX=1)},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new ab;return this._disposers.push(e),e},t.prototype.createLink=function(){var e=new nb;return this._disposers.push(e),e},Object.defineProperty(t.prototype,"valueHeight",{get:function(){return this._valueHeight},set:function(e){e!=this._valueHeight&&(this._valueHeight=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.disposeData=function(){s.prototype.disposeData.call(this),this._sorted=this.nodes.iterator()},t}(bA);M.registeredClasses.SankeyDiagram=BD;var ob=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="ChordNode";var i=e.createChild(Hn);i.location=.5,i.radius=5,i.text="{name}",i.zIndex=1,i.shouldClone=!1,e.label=i,e.layout="none",e.events.on("positionchanged",e.updateRotation,e,!1),e.isMeasured=!1,e.slice=e.createChild(xa),e.slice.isMeasured=!1;var r=e.hiddenState;return r.properties.fill=new ze().getFor("disabledBackground"),r.properties.opacity=.5,r.properties.visible=!0,e.setStateOnChildren=!1,e.slice.hiddenState.properties.visible=!0,e.adapter.add("tooltipX",function(a,n){return n.slice.ix*(n.slice.radius-(n.slice.radius-n.slice.pixelInnerRadius)/2)}),e.adapter.add("tooltipY",function(a,n){return n.slice.iy*(n.slice.radius-(n.slice.radius-n.slice.pixelInnerRadius)/2)}),e}return t.prototype.invalidateLinks=function(){var e=this;s.prototype.invalidateLinks.call(this);var i=this.label,r=this.slice,a=this.chart;if(a&&r){var n=this.total,o=r.arc,l=r.startAngle;this.children.each(function(c){if(c instanceof Rs){var A=c.locationX;I(A)||(A=.5);var d=c.locationY;I(d)||(d=1);var f=l+o*A,p=d*r.radius;c.x=p*Se(f),c.y=p*Be(f)}});var u=l+o*i.location,h=l+(1-n/this.adjustedTotal)*o*.5;Rr(h)&&(h=l),i.fixPosition(u,r.radius),this.nextAngle=h,this._outgoingSorted&&ce(this._outgoingSorted,function(c){var A=c.link;A.parent=e.chart.linksContainer;var d=c.getWorkingValue("value");if(I(d)){if(a.nonRibbon){var f=A.percentWidth;I(f)||(f=5),f=f/100,A.startAngle=l+o/2-o/2*f,A.arc=o*f}else A.arc=d*a.valueAngle,A.startAngle=e.nextAngle,e.nextAngle+=A.arc;c.toNode||(A.endAngle=A.startAngle),A.radius=r.pixelInnerRadius}}),this._incomingSorted&&ce(this._incomingSorted,function(c){var A=c.link;if(A.radius=r.pixelInnerRadius,a.nonRibbon){var d=A.percentWidth;I(d)||(d=5),d=d/100,A.endAngle=l+o/2-o/2*d,A.arc=o*d}else{A.endAngle=e.nextAngle;var f=c.getWorkingValue("value");I(f)&&(A.arc=f*a.valueAngle,e.nextAngle+=A.arc)}c.fromNode||(A.startAngle=A.endAngle)})}},t.prototype.updateRotation=function(){var e=this.slice,i=this.trueStartAngle+e.arc/2,r=e.radius,a=r*Se(i),n=r*Be(i),o=nr({x:a+this.pixelX,y:n+this.pixelY});e.startAngle=this.trueStartAngle+(o-i),this.dx=-this.pixelX,this.dy=-this.pixelY},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label),this.slice.copyFrom(e.slice)},t}(fh);M.registeredClasses.ChordNode=ob;var SD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="QuadraticCurve",e.element=e.paper.add("path"),e.pixelPerfect=!1,e.fill=Ve(),e.applyTheme(),e}return t.prototype.draw=function(){if(I(this.x1+this.x2+this.y1+this.y2+this.cpx+this.cpy)){var e={x:this.x1,y:this.y1},i={x:this.x2,y:this.y2},r={x:this.cpx,y:this.cpy},a=_e(e)+ul(i,r);this.path=a}},Object.defineProperty(t.prototype,"cpx",{get:function(){return this.getPropertyValue("cpx")},set:function(e){this.setPropertyValue("cpx",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cpy",{get:function(){return this.getPropertyValue("cpy")},set:function(e){this.setPropertyValue("cpy",e,!0)},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var i={x:this.x1,y:this.y1},r={x:this.cpx,y:this.cpy},a={x:this.x2,y:this.y2},n=P_(i,a,r,e),o=P_(i,a,r,e+.001);return{x:n.x,y:n.y,angle:nr(n,o)}},t}(Us);var lb=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="ChordLink",e.middleLine=e.createChild(SD),e.middleLine.shouldClone=!1,e.middleLine.strokeOpacity=0,e.applyTheme(),e}return t.prototype.validate=function(){if(s.prototype.validate.call(this),!this.isTemplate){var e=this.startAngle,i=this.endAngle,r=this.arc,a=this.radius,n=this.dataItem.fromNode,o=this.dataItem.toNode,l=0,u=0;n&&(l=n.pixelX+n.dx,u=n.pixelY+n.dy);var h=0,c=0;if(o&&(h=o.pixelX+o.dx,c=o.pixelY+o.dy),a>0){var A=a*Se(e)+l,d=a*Be(e)+u,f=a*Se(i)+h,p=a*Be(i)+c,m={x:0,y:0},g=_e({x:A,y:d});g+=yr(e,r,a),g+=ul({x:f,y:p},m),g+=yr(i,r,a),g+=ul({x:A,y:d},m),r>0?this.link.path=g:this.link.path="",this.maskBullets&&(this.bulletsMask.path=g,this.bulletsContainer.mask=this.bulletsMask);var y=e+r/2,x=i+r/2,C=this.middleLine;C.x1=a*Se(y)+l,C.y1=a*Be(y)+u,C.x2=a*Se(x)+h,C.y2=a*Be(x)+c,C.cpx=0,C.cpy=0,C.stroke=this.fill,this.positionBullets()}}},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(e){this.setPropertyValue("arc",e,!0)},enumerable:!0,configurable:!0}),t}(ph);M.registeredClasses.ChordLink=lb;var PD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="ChordDiagramDataItem",e.applyTheme(),e}return t}(yA);var FD=function(s){N(t,s);function t(){var e=s.call(this)||this;e.valueAngle=0,e.className="ChordDiagram",e.startAngle=-90,e.endAngle=270,e.radius=ue(80),e.innerRadius=-15,e.nodePadding=5;var i=e.chartContainer.createChild(Fe);return i.align="center",i.valign="middle",i.shouldClone=!1,i.layout="absolute",e.chordContainer=i,e.nodesContainer.parent=i,e.linksContainer.parent=i,e.chartContainer.events.on("maxsizechanged",e.invalidate,e,!1),e.applyTheme(),e}return t.prototype.validate=function(){var e=this,i=this.chartContainer,r=this.endAngle,a=this.startAngle+this.nodePadding/2,n=Oa(this.startAngle,this.endAngle,1),o={x:0,y:0,width:0,height:0};n=rl([n,o]);var l=Math.min(i.innerWidth/n.width,i.innerHeight/n.height);I(l)||(l=0);var u=or(this.radius,l),h=or(this.innerRadius,u,!0),c=this.dataItem.values.value.sum,A=0,d=0;ce(this._sorted,function(f){var p=f[1];e.getNodeValue(p),A++;var m=p.total;p.total/c<e.minNodeSize&&(m=c*e.minNodeSize),d+=m}),this.valueAngle=(r-this.startAngle-this.nodePadding*A)/d,ce(this._sorted,function(f){var p=f[1],m=p.slice;m.radius=u,m.innerRadius=h;var g=p.total;p.total/c<e.minNodeSize&&(g=c*e.minNodeSize),p.adjustedTotal=g;var y;e.nonRibbon?y=(r-e.startAngle)/A-e.nodePadding:y=e.valueAngle*g,m.arc=y,m.startAngle=a,p.trueStartAngle=a,p.parent=e.nodesContainer,p.validate(),a+=y+e.nodePadding}),this.chordContainer.definedBBox={x:u*n.x,y:u*n.y,width:u*n.width,height:u*n.height},this.chordContainer.invalidateLayout(),s.prototype.validate.call(this)},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Chord diagram"))},t.prototype.createDataItem=function(){return new PD},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonRibbon",{get:function(){return this.getPropertyValue("nonRibbon")},set:function(e){this.setPropertyValue("nonRibbon",e,!0),this.links.template.middleLine.strokeOpacity=1,this.links.template.link.fillOpacity=0},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new ob;return this._disposers.push(e),e},t.prototype.createLink=function(){var e=new lb;return this._disposers.push(e),e},t}(bA);M.registeredClasses.ChordDiagram=FD;var tn=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="Column",e.width=ue(80),e.height=ue(80),e.events.disableType("transformed"),e.applyOnClones=!0,e.strokeOpacity=1,e.layout="none",e.createAssets(),e.events.on("childadded",e.handleKidAdded,e,!1),e}return t.prototype.handleKidAdded=function(){this.layout=="none"&&(this.layout="absolute")},t.prototype.createAssets=function(){this.column=this.createChild(Kr),this.column.shouldClone=!1,this.column.isMeasured=!1,this.column.cornerRadius(0,0,0,0),this._disposers.push(this.column)},t.prototype.validate=function(){s.prototype.validate.call(this);var e=this.column;e&&(e.width=dt(this.pixelWidth,this.maxWidth),e.height=dt(this.pixelHeight,this.maxHeight),e.invalid&&e.validate())},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.column&&this.column.copyFrom(e.column)},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.column?{x:0,y:0,width:this.column.measuredWidth,height:this.column.measuredHeight}:{x:0,y:0,width:dt(this.pixelWidth,this.maxWidth),height:dt(this.pixelHeight,this.maxHeight)}},enumerable:!0,configurable:!0}),t}(Fe);M.registeredClasses.Column=tn;var cs=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="ColumnSeriesDataItem",e.locations.dateX=.5,e.locations.dateY=.5,e.locations.categoryX=.5,e.locations.categoryY=.5,e.applyTheme(),e}return Object.defineProperty(t.prototype,"column",{get:function(){return this._column},set:function(e){this.setColumn(e)},enumerable:!0,configurable:!0}),t.prototype.setColumn=function(e){var i=this;if(this._column&&e!=this._column&&Ye(this.sprites,this._column),this._column=e,e){var r=e.dataItem;r&&r!=this&&(r.column=void 0),this.addSprite(e),this._disposers.push(new Ft(function(){i.component&&i.component.columns.removeValue(e)}))}},Object.defineProperty(t.prototype,"width",{get:function(){var e=this.properties.width;return this._adapterO&&(e=this._adapterO.apply("width",e)),e},set:function(e){this.properties.width!=e&&(this.properties.width=e,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.properties.height;return this._adapterO&&(e=this._adapterO.apply("height",e)),e},set:function(e){this.properties.height!=e&&(this.properties.height=e,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangesColumns",{get:function(){return this._rangesColumns||(this._rangesColumns=new Rt),this._rangesColumns},enumerable:!0,configurable:!0}),t}(Pc);var Fi=function(s){N(t,s);function t(){var e=s.call(this)||this;e._startLocation=0,e._endLocation=1,e.className="ColumnSeries",e.width=ue(100),e.height=ue(100),e.strokeOpacity=0,e.fillOpacity=1,e.clustered=!0;var i=e.mainContainer.createChild(Fe);return i.shouldClone=!1,i.isMeasured=!1,i.layout="none",e._columnsContainer=i,e.columns.template.pixelPerfect=!1,e.tooltipColorSource=e.columns.template,e.applyTheme(),e}return Object.defineProperty(t.prototype,"columnsContainer",{get:function(){return this._columnsContainer},enumerable:!0,configurable:!0}),t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Column Series"))},t.prototype.createDataItem=function(){return new cs},t.prototype.validate=function(){var e=this;if(this.group.node.removeAttribute("fill"),this.chart&&this.xAxis&&this.yAxis){var i=this.chart.series,r=0,a=0,n=[];ce(i.iterator(),function(p){if(p instanceof t&&e.baseAxis==p.baseAxis){var m;e.baseAxis==e.xAxis?m=e.chart.yAxes.indexOf(p.yAxis):m=e.chart.xAxes.indexOf(p.xAxis),n.push({series:p,axis:m})}}),n.sort(function(p,m){return p.axis-m.axis});var o;we(n,function(p){var m=p.series;m instanceof t&&((!m.stacked&&m.clustered||o!=p.axis&&m.clustered)&&r++,m==e&&(a=r-1)),o=p.axis}),this.clustered||(a=0,r=1);var l=this.baseAxis.renderer,u=l.cellStartLocation,h=l.cellEndLocation;this._startLocation=u+a/r*(h-u),this._endLocation=u+(a+1)/r*(h-u);var c=this.xAxis,A=this.yAxis;c instanceof Ut&&A instanceof Ne&&c.sortBySeries==this&&this.sortCategoryAxis(c,"valueY"),A instanceof Ut&&c instanceof Ne&&A.sortBySeries==this&&this.sortCategoryAxis(A,"valueX")}s.prototype.validate.call(this);for(var d=0;d<this.startIndex;d++){var f=this.dataItems.getIndex(d);this.disableUnusedColumns(f)}for(var d=this.dataItems.length-1;d>this.endIndex;d--){var f=this.dataItems.getIndex(d);this.disableUnusedColumns(f)}this._propertiesChanged=!1},t.prototype.sortCategoryAxis=function(e,i){var r=this;this.dataItems.values.sort(function(n,o){return o.values[i].workingValue-n.values[i].workingValue});var a=0;this.dataItems.each(function(n){n._index=a,a++}),e.dataItems.each(function(n){var o=n.component,l=o.categoryToPosition(n.category)-n.deltaPosition,u=o.getSeriesDataItemByCategory(n.category,r);if(u){var h=r.dataItems.indexOf(u);n._index=h;var c=ve((h+.5)/r.dataItems.length-l,3);n.deltaAnimation&&!n.deltaAnimation.isDisposed()&&n.deltaAnimation.animationOptions[0].to==c||c!=ve(n.deltaPosition,3)&&(n.deltaAnimation&&n.deltaAnimation.stop(),n.deltaAnimation=n.animate({property:"deltaPosition",from:-c,to:0},o.interpolationDuration,o.interpolationEasing),r._disposers.push(n.deltaAnimation))}}),e.dataItems.values.sort(function(n,o){return n.index-o.index})},t.prototype.validateDataElement=function(e){this.chart&&this.xAxis&&this.yAxis&&(this.validateDataElementReal(e),s.prototype.validateDataElement.call(this,e))},t.prototype.getStartLocation=function(e){var i=this._startLocation;return this.baseAxis==this.xAxis?i+=e.locations[this.xOpenField]-.5:i+=e.locations[this.yOpenField]-.5,i},t.prototype.getEndLocation=function(e){var i=this._endLocation;return this.baseAxis==this.xAxis?i+=e.locations[this.xField]-.5:i+=e.locations[this.yField]-.5,i},t.prototype.validateDataElementReal=function(e){var i=this,r,a,n,o,l=this.getStartLocation(e),u=this.getEndLocation(e),h=this.xField,c=this.xOpenField,A=this.yField,d=this.yOpenField,f=this.columns.template,p=f.percentWidth,m=f.percentHeight,g=f.pixelWidth,y=f.pixelHeight,x=f.maxWidth,C=f.maxHeight,S=f.pixelPaddingLeft,P=f.pixelPaddingRight,F=f.pixelPaddingTop,O=f.pixelPaddingBottom,$=!1,L=e.width;V(L)&&(I(L)&&(g=L),L instanceof qe&&(p=L.value*100));var E=e.height;if(V(E)&&(I(E)&&(y=E),E instanceof qe&&(m=E.value*100)),this.xAxis instanceof Ut&&this.yAxis instanceof Ut){if(!e.hasValue(this._xValueFields)||!e.hasValue(this._yValueFields))return;if(l=0,u=1,!Rr(p)){var D=ve((u-l)*(1-p/100)/2,5);l+=D,u-=D}if(r=this.xAxis.getX(e,c,l),a=this.xAxis.getX(e,h,u),Rr(p)){var D=(a-r-g)/2;r+=D,a-=D}if(!Rr(x)&&x<Math.abs(a-r)){var D=(a-r-x)/2;r+=D,a-=D}if(l=0,u=1,!Rr(m)){var D=ve((1-m/100)/2,5);l+=D,u-=D}if(n=this.yAxis.getY(e,d,l),o=this.yAxis.getY(e,A,u),Rr(m)){var D=(o-n-y)/2;o+=D,n-=D}if(!Rr(C)&&C<Math.abs(o-n)){var D=(o-n-C)/2;o+=D,n-=D}a=this.fixHorizontalCoordinate(a),r=this.fixHorizontalCoordinate(r),n=this.fixVerticalCoordinate(n),o=this.fixVerticalCoordinate(o)}else if(this.baseAxis==this.xAxis){if(!e.hasValue(this._yValueFields))return;if(!Rr(p)){var D=ve((u-l)*(1-p/100)/2,5);l+=D,u-=D}if(r=this.xAxis.getX(e,c,l),a=this.xAxis.getX(e,h,u),Rr(p)){var D=(a-r-g)/2;r+=D,a-=D}if(!Rr(x)&&x<Math.abs(a-r)){var D=(a-r-x)/2;r+=D,a-=D}var H=e.locations[d],te=e.locations[A];this.yAxis instanceof Ne&&this.dataFields[this.yField]!=this.dataFields[this.yOpenField]&&(H=0,te=0),o=this.yAxis.getY(e,d,H),n=this.yAxis.getY(e,A,te);var K=Math.ceil(this.yAxis.axisLength);(n<0&&o<0||n>K&&o>K)&&($=!0),n=this.fixVerticalCoordinate(n),o=this.fixVerticalCoordinate(o),Math.abs(a-r)-S-P==0&&($=!0)}else{if(!e.hasValue(this._xValueFields))return;if(!Rr(m)){var D=ve((u-l)*(1-m/100)/2,5);l+=D,u-=D}if(n=this.yAxis.getY(e,d,l),o=this.yAxis.getY(e,A,u),Rr(m)){var D=(o-n-y)/2;o-=D,n+=D}if(!Rr(C)&&C<Math.abs(o-n)){var D=(o-n-C)/2;o-=D,n+=D}var ae=e.locations[h],ie=e.locations[c];this.xAxis instanceof Ne&&this.dataFields[this.xField]!=this.dataFields[this.xOpenField]&&(ae=0,ie=0),a=this.xAxis.getX(e,h,ae),r=this.xAxis.getX(e,c,ie);var K=Math.ceil(this.xAxis.axisLength);(a<0&&r<0||a>K&&r>K)&&($=!0),a=this.fixHorizontalCoordinate(a),r=this.fixHorizontalCoordinate(r),Math.abs(n-o)-F-O==0&&($=!0)}var fe=Math.abs(a-r),z=Math.abs(o-n),Y=Math.min(r,a),ge=Math.min(n,o);if($)this.disableUnusedColumns(e);else{var re;e.column?(re=e.column,this._propertiesChanged&&(Ni(this,re,Bi),Ni(this.columns.template,re,Bi),we(Bi,function(me){re[me]=re[me]}))):(re=this.columns.create(),Ni(this,re,Bi),Ni(this.columns.template,re,Bi),e.addSprite(re),e.column=re,re.paper=this.paper,this.itemsFocusable()?(V(this.role)||(this.role="menu"),V(re.role)||(re.role="menuitem"),re.focusable=!0):(V(this.role)||(this.role="list"),V(re.role)||(re.role="listitem"),re.focusable=!1),re.focusable&&(re.events.on("focus",function(me){re.readerTitle=i.populateString(i.itemReaderText,e)},void 0,!1),re.events.on("blur",function(me){re.readerTitle=""},void 0,!1)),re.hoverable&&(re.events.on("over",function(me){re.readerTitle=i.populateString(i.itemReaderText,e)},void 0,!1),re.events.on("out",function(me){re.readerTitle=""},void 0,!1)),re.parent=this.columnsContainer,re.virtualParent=this),re.width=fe,re.height=z,re.x=Y,re.y=ge,re.realX=r,re.realY=n,re.realWidth=a-r,re.realHeight=o-n,this.setColumnStates(re),re.invalid&&re.validate(),re.__disabled=!1,ce(this.axisRanges.iterator(),function(me){var Ge=e.rangesColumns.getKey(me.uid);Ge||(Ge=i.columns.create(),Ni(me.contents,Ge,Bi),e.addSprite(Ge),e.rangesColumns.setKey(me.uid,Ge),Ge.paper=i.paper),Ge.parent=me.contents,Ge.width=fe,Ge.height=z,Ge.x=Y,Ge.y=ge,i.setColumnStates(Ge),Ge.invalid&&Ge.validate(),Ge.__disabled=!1})}e.itemWidth=fe,e.itemHeight=z},t.prototype.disableUnusedColumns=function(e){e&&(e.column&&(e.column.width=0,e.column.height=0,e.column.__disabled=!0),ce(this.axisRanges.iterator(),function(i){var r=e.rangesColumns.getKey(i.uid);r&&(r.width=0,r.height=0,r.__disabled=!0)}))},t.prototype.setColumnStates=function(e){if(this._dropFromOpenState||this._dropFromPreviousState||this._riseFromOpenState||this._riseFromPreviousState){var i=e.dataItem;if(this.xAxis instanceof Ne||this.yAxis instanceof Ne){var r,a=void 0,n=void 0;this.baseAxis==this.yAxis?(this.xOpenField&&this.xField&&this.xAxis instanceof Ne&&(r=i.getValue(this.xOpenField),a=i.getValue(this.xField)),n=i.getValue(this.xAxis.axisFieldName+"X","previousChange")):(this.yOpenField&&this.yField&&this.yAxis instanceof Ne&&(r=i.getValue(this.yOpenField),a=i.getValue(this.yField)),n=i.getValue(this.yAxis.axisFieldName+"Y","previousChange")),a<r?(i.droppedFromOpen=!0,e.defaultState.copyFrom(this._dropFromOpenState),e.setState(this._dropFromOpenState,0)):(i.droppedFromOpen=!1,e.defaultState.copyFrom(this._riseFromOpenState),e.setState(this._riseFromOpenState,0)),n<0?(i.droppedFromPrevious=!0,e.defaultState.copyFrom(this._dropFromPreviousState),e.setState(this._dropFromPreviousState,0)):(i.droppedFromPrevious=!1,e.defaultState.copyFrom(this._riseFromPreviousState),e.setState(this._riseFromPreviousState,0))}}},Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns||(this._columns=new zt(this.createColumnTemplate()),this._disposers.push(new Tt(this._columns)),this._disposers.push(this._columns.template)),this._columns},enumerable:!0,configurable:!0}),t.prototype.createColumnTemplate=function(){return new tn},Object.defineProperty(t.prototype,"clustered",{get:function(){return this.getPropertyValue("clustered")},set:function(e){this.setPropertyValue("clustered",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropFromOpenState",{get:function(){return this._dropFromOpenState||(this._dropFromOpenState=this.states.create("dropFromOpenState")),this._dropFromOpenState},set:function(e){this._dropFromOpenState=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropFromPreviousState",{get:function(){return this._dropFromPreviousState||(this._dropFromPreviousState=this.states.create("dropFromPreviousState")),this._dropFromPreviousState},set:function(e){this._dropFromPreviousState=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"riseFromOpenState",{get:function(){return this._riseFromOpenState||(this._riseFromOpenState=this.states.create("riseFromOpenState")),this._riseFromOpenState},set:function(e){this._riseFromOpenState=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"riseFromPreviousState",{get:function(){return this._riseFromPreviousState||(this._riseFromPreviousState=this.states.create("riseFromPreviousState")),this._riseFromPreviousState},set:function(e){this._riseFromPreviousState=e},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(e,i){var r=this;if(s.prototype.updateLegendValue.call(this,e,i),this.legendDataItem){var a=this.legendDataItem.marker,n,o;e&&(e.droppedFromOpen?n=this._dropFromOpenState:n=this._riseFromOpenState,e.droppedFromPrevious?o=this._dropFromPreviousState:o=this._riseFromPreviousState),ce(a.children.iterator(),function(l){e?(l.setState(o),l.setState(n)):(l.setState(r._riseFromPreviousState),l.setState(r._riseFromOpenState))})}},t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var a=e.createChild(Kr);a.shouldClone=!1,Ni(this,a,Bi),a.copyFrom(this.columns.template),a.padding(0,0,0,0),a.width=i,a.height=r;var n=e.dataItem;n.color=this.fill,n.colorOrig=this.fill},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.columns.template.copyFrom(e.columns.template)},t.prototype.getBulletLocationX=function(e,i){if(this.baseAxis==this.xAxis){var r=e.locationX;I(r)||(r=.5);var a=this.getEndLocation(e.dataItem),n=this.getStartLocation(e.dataItem);return a-(a-n)*r}else return s.prototype.getBulletLocationX.call(this,e,i)},t.prototype.getBulletLocationY=function(e,i){if(this.baseAxis==this.yAxis){var r=e.locationY;I(r)||(r=.5);var a=this.getEndLocation(e.dataItem),n=this.getStartLocation(e.dataItem);return a-(a-n)*r}else return s.prototype.getBulletLocationY.call(this,e,i)},t.prototype.getAdjustedXLocation=function(e,i,r){return I(r)||(e?r=e.locations[i]:r=.5),this._endLocation-(this._endLocation-this._startLocation)*(1-r)},t.prototype.getAdjustedYLocation=function(e,i,r){return I(r)||(e?r=e.locations[i]:r=.5),this._endLocation-(this._endLocation-this._startLocation)*r},t.prototype.fixVerticalCoordinate=function(e){var i=this.columns.template.pixelPaddingBottom,r=this.columns.template.pixelPaddingTop,a=-r,n=this.yAxis.axisLength+i;return De(e,a,n)},t.prototype.fixHorizontalCoordinate=function(e){var i=this.columns.template.pixelPaddingLeft,r=this.columns.template.pixelPaddingRight,a=-i,n=this.xAxis.axisLength+r;return De(e,a,n)},t.prototype.disposeData=function(){s.prototype.disposeData.call(this),this.columns.clear()},t}(Zr);M.registeredClasses.ColumnSeries=Fi;M.registeredClasses.ColumnSeriesDataItem=cs;var Uw=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="TreeMapSeriesDataItem",e.applyTheme(),e}return Object.defineProperty(t.prototype,"parentName",{get:function(){var e=this.treeMapDataItem;if(e&&e.parent)return e.parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var e=this.treeMapDataItem;if(e)return e.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"treeMapDataItem",{get:function(){return this._dataContext},enumerable:!0,configurable:!0}),t.prototype.hide=function(e,i,r,a){var n=this.treeMapDataItem;return n&&n.hide(e),s.prototype.hide.call(this,e,i,r,a)},t.prototype.show=function(e,i,r){var a=this.treeMapDataItem;return a&&a.show(e,i,r),s.prototype.show.call(this,e,i,r)},t}(cs);var Up=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="TreeMapSeries",e.applyTheme(),e.fillOpacity=1,e.strokeOpacity=1,e.minBulletDistance=0,e.columns.template.tooltipText="{parentName} {name}: {value}",e.columns.template.configField="config";var i=new ze;return e.stroke=i.getFor("background"),e.dataFields.openValueX="x0",e.dataFields.valueX="x1",e.dataFields.openValueY="y0",e.dataFields.valueY="y1",e.sequencedInterpolation=!1,e.showOnInit=!1,e.columns.template.pixelPerfect=!1,e}return t.prototype.processDataItem=function(e,i){i.seriesDataItem=e,s.prototype.processDataItem.call(this,e,i)},t.prototype.createDataItem=function(){return new Uw},t.prototype.show=function(e){if(!this.preventShow){var i=this.defaultState.transitionDuration;return I(e)&&(i=e),this.dataItems.each(function(r){r.show(e)}),s.prototype.showReal.call(this,i)}},t.prototype.hide=function(e){var i=this.defaultState.transitionDuration;I(e)&&(i=e);var r=s.prototype.hideReal.call(this,i);return this.dataItems.each(function(a){a.hide(e)}),r},t.prototype.processValues=function(){},t.prototype.getStartLocation=function(e){return 0},t.prototype.getEndLocation=function(e){return 1},t.prototype.dataChangeUpdate=function(){},t.prototype.processConfig=function(e){e&&(!V(e.dataFields)||!ri(e.dataFields))&&(e.dataFields={}),s.prototype.processConfig.call(this,e)},t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var a=e.createChild(Kr);a.shouldClone=!1,Ni(this,a,Bi),a.padding(0,0,0,0),a.width=i,a.height=r;var n=e.dataItem;n.color=a.fill,n.colorOrig=a.fill},t.prototype.disableUnusedColumns=function(e){s.prototype.disableUnusedColumns.call(this,e),e.column&&(e.column.__disabled=!1)},t}(Fi);M.registeredClasses.TreeMapSeries=Up;M.registeredClasses.TreeMapSeriesDataItem=Uw;var TD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.rows=[],e.className="TreeMapDataItem",e.values.value={workingValue:0},e.values.x0={},e.values.y0={},e.values.x1={},e.values.y1={},e.hasChildren.children=!0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,e.label&&(e.label.dataItem=this),e.valueLabel&&(e.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),t.prototype.getDuration=function(){return 0},Object.defineProperty(t.prototype,"value",{get:function(){var e=0;return!this.children||this.children.length==0?e=this.values.value.workingValue:ce(this.children.iterator(),function(i){var r=i.value;I(r)&&(e+=r)}),e},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percent",{get:function(){return this.parent?this.value/this.parent.value*100:100},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x0",{get:function(){return this.values.x0.value},set:function(e){this.setValue("x0",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x1",{get:function(){return this.values.x1.value},set:function(e){this.setValue("x1",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y0",{get:function(){return this.values.y0.value},set:function(e){this.setValue("y0",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this.values.y1.value},set:function(e){this.setValue("y1",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.properties.name},set:function(e){this.setProperty("name",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this.properties.children},set:function(e){this.setProperty("children",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){var e=this.properties.color;return e==null&&this.parent&&(e=this.parent.color),e==null&&this.component&&(e=this.component.colors.getIndex(this.component.colors.step*this.index)),e},set:function(e){this.setProperty("color",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){e!=this._series&&(this._series&&(this.component.series.removeValue(this._series),this._series.dispose()),this._series=e,this._disposers.push(e))},enumerable:!0,configurable:!0}),t.prototype.hide=function(e,i,r,a){this.setWorkingValue("value",0),this.children&&this.children.each(function(o){o.hide(e,i,r,a)});var n=this.seriesDataItem;return n&&n.bullets.each(function(o,l){l.hide(),l.preventShow=!0}),s.prototype.hide.call(this,e,i,r,a)},t.prototype.show=function(e,i,r){this.setWorkingValue("value",this.values.value.value),this.children&&this.children.each(function(n){n.show(e,i,r)});var a=this.seriesDataItem;return a&&a.bullets.each(function(n,o){o.preventShow=!1}),s.prototype.show.call(this,e,i,r)},t}(Tc);var DD=function(s){N(t,s);function t(){var e=s.call(this)||this;e.layoutAlgorithm=e.squarify,e.zoomable=!0,e.className="TreeMap",e._usesData=!0,e.maxLevels=2,e.currentLevel=0,e.hideParentColumns=!1,e.colors=new dl,e.sorting="descending";var i=e.xAxes.push(new Ne);i.title.disabled=!0,i.strictMinMax=!0;var r=i.renderer;r.inside=!0,r.labels.template.disabled=!0,r.ticks.template.disabled=!0,r.grid.template.disabled=!0,r.axisFills.template.disabled=!0,r.minGridDistance=100,r.line.disabled=!0,r.baseGrid.disabled=!0;var a=e.yAxes.push(new Ne);a.title.disabled=!0,a.strictMinMax=!0;var n=a.renderer;n.inside=!0,n.labels.template.disabled=!0,n.ticks.template.disabled=!0,n.grid.template.disabled=!0,n.axisFills.template.disabled=!0,n.minGridDistance=100,n.line.disabled=!0,n.baseGrid.disabled=!0,n.inversed=!0,e.xAxis=i,e.yAxis=a;var o=new Up;return e.seriesTemplates=new al(o),o.virtualParent=e,e._disposers.push(new Ya(e.seriesTemplates)),e._disposers.push(o),e.zoomOutButton.events.on("hit",function(){e.zoomToChartDataItem(e._homeDataItem)},void 0,!1),e.seriesTemplates.events.on("insertKey",function(l){l.newValue.isTemplate=!0},void 0,!1),e.applyTheme(),e}return Object.defineProperty(t.prototype,"navigationBar",{get:function(){return this._navigationBar},set:function(e){var i=this;this._navigationBar!=e&&(this._navigationBar=e,e.parent=this,e.toBack(),e.links.template.events.on("hit",function(r){var a=r.target.dataItem.dataContext;a.isDisposed()||(i.zoomToChartDataItem(a),i.createTreeSeries(a))},void 0,!0),this._disposers.push(e))},enumerable:!0,configurable:!0}),t.prototype.validateData=function(){this.series.clear(),this._tempSeries=[],s.prototype.validateData.call(this),this._homeDataItem&&this._homeDataItem.dispose();var e=this.dataItems.template.clone();this._homeDataItem=e,ce(this.dataItems.iterator(),function(a){a.parent=e}),e.children=this.dataItems,e.x0=0,e.y0=0,e.name=this._homeText;var i=1e3,r=Math.round(i*this.pixelHeight/this.pixelWidth/10)*10||1e3;e.x1=i,e.y1=r,this.xAxis.min=0,this.xAxis.max=i,this.xAxis.getMinMax(),this.yAxis.min=0,this.yAxis.max=r,this.yAxis.getMinMax(),this.layoutItems(e),this.createTreeSeries(e),this.feedLegend()},t.prototype.layoutItems=function(e,i){if(e){var r=e.children;i||(i=this.sorting),i=="ascending"&&r.values.sort(function(l,u){return l.value-u.value}),i=="descending"&&r.values.sort(function(l,u){return u.value-l.value}),this._updateDataItemIndexes(0),this.layoutAlgorithm(e);for(var a=0,n=r.length;a<n;a++){var o=r.getIndex(a);o.children&&this.layoutItems(o)}}},t.prototype.createTreeSeries=function(e){var i=this;this._tempSeries=[];for(var r=[e],a=e.parent;a!=null;)this.initSeries(a),r.push(a),a=a.parent;r.reverse(),this.navigationBar&&(this.navigationBar.data=r),this.createTreeSeriesReal(e),we(this._tempSeries,function(n){i.series.indexOf(n)==-1&&i.series.push(n),n.zIndex=n.level})},t.prototype.createTreeSeriesReal=function(e){if(e.children){var i=e.level;if(i<this.currentLevel+this.maxLevels){this.initSeries(e);for(var r=0;r<e.children.length;r++){var a=e.children.getIndex(r);a.children&&this.createTreeSeriesReal(a)}}}},t.prototype.setData=function(e){this.currentLevel=0,this.currentlyZoomed=void 0,this.xAxis.start=0,this.xAxis.end=1,this.yAxis.start=0,this.yAxis.end=1,s.prototype.setData.call(this,e)},t.prototype.seriesAppeared=function(){return!0},t.prototype.initSeries=function(e){var i=this;if(!e.series){var r=void 0,a=this.seriesTemplates.getKey(e.level.toString());a?r=a.clone():r=this.series.create(),r.dataItem.dataContext=e,r.name=e.name,r.parentDataItem=e,e.series=r;var n=e.level;r.level=n;var o=e.dataContext;o&&(r.config=o.config),this.dataUsers.removeValue(r),r.data=e.children.values,r.fill=e.color,r.columnsContainer.hide(0),r.bulletsContainer.hide(0),r.columns.template.adapter.add("fill",function(l,u){var h=u.dataItem;if(h){var c=h.treeMapDataItem;if(c)return u.fill=c.color,u.adapter.remove("fill"),c.color}}),this.zoomable&&(e.level>this.currentLevel||e.children&&e.children.length>0)&&(r.columns.template.cursorOverStyle=li.pointer,this.zoomable&&r.columns.template.events.on("hit",function(l){var u=l.target.dataItem;e.level>i.currentLevel?i.zoomToChartDataItem(u.treeMapDataItem.parent):i.zoomToSeriesDataItem(u)},this,void 0))}this._tempSeries.push(e.series)},t.prototype.toggleBullets=function(e){var i=this;ce(this.series.iterator(),function(r){i._tempSeries.indexOf(r)==-1?(r.columnsContainer.hide(),r.bulletsContainer.hide(e)):(r.columnsContainer.show(),r.bulletsContainer.show(e),r.dataItems.each(function(a){a.bullets.each(function(n,o){o.show()})}),r.level<i.currentLevel?(i.hideParentColumns&&r.columnsContainer.hide(),r.bulletsContainer.hide(e)):r.level==i.currentLevel&&i.maxLevels>1&&r.dataItems.each(function(a){a.treeMapDataItem.children&&a.bullets.each(function(n,o){o.hide()})}))})},t.prototype.zoomToSeriesDataItem=function(e){this.zoomToChartDataItem(e.treeMapDataItem)},t.prototype.zoomToChartDataItem=function(e){var i=this;e||(e=this._homeDataItem);var r=this.zoomOutButton;if(r&&(e!=this._homeDataItem?r.show():r.hide()),e&&e.children){this.xAxis.zoomToValues(e.x0,e.x1),this.yAxis.zoomToValues(e.y0,e.y1),this.currentLevel=e.level,this.currentlyZoomed=e,this.createTreeSeries(e);var a=this.xAxis.rangeChangeAnimation||this.yAxis.rangeChangeAnimation;a&&!a.isDisposed()&&!a.isFinished()?(this._dataDisposers.push(a),a.events.once("animationended",function(){i.toggleBullets()})):this.toggleBullets()}},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("TreeMap chart"))},t.prototype.createDataItem=function(){return new TD},Object.defineProperty(t.prototype,"maxLevels",{get:function(){return this.getPropertyValue("maxLevels")},set:function(e){this.setPropertyValue("maxLevels",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLevel",{get:function(){return this.getPropertyValue("currentLevel")},set:function(e){this.setPropertyValue("currentLevel",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideParentColumns",{get:function(){return this.getPropertyValue("hideParentColumns")},set:function(e){this.setPropertyValue("hideParentColumns",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sorting",{get:function(){return this.getPropertyValue("sorting")},set:function(e){this.setPropertyValue("sorting",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new Up},Object.defineProperty(t.prototype,"homeText",{get:function(){return this._homeText},set:function(e){this._homeText=e,this._homeDataItem&&(this._homeDataItem.name=this._homeText)},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){if(e){if(V(e.layoutAlgorithm)&&ut(e.layoutAlgorithm))switch(e.layoutAlgorithm){case"squarify":e.layoutAlgorithm=this.squarify;break;case"binaryTree":e.layoutAlgorithm=this.binaryTree;break;case"slice":e.layoutAlgorithm=this.slice;break;case"dice":e.layoutAlgorithm=this.dice;break;case"sliceDice":e.layoutAlgorithm=this.sliceDice;break;default:delete e.layoutAlgorithm;break}V(e.navigationBar)&&!V(e.navigationBar.type)&&(e.navigationBar.type="NavigationBar"),s.prototype.processConfig.call(this,e)}},t.prototype.validateLayout=function(){s.prototype.validateLayout.call(this),this.layoutItems(this.currentlyZoomed)},t.prototype.validateDataItems=function(){s.prototype.validateDataItems.call(this),this.layoutItems(this._homeDataItem),ce(this.series.iterator(),function(e){e.validateRawData()}),this.zoomToChartDataItem(this._homeDataItem)},t.prototype.binaryTree=function(e){var i=e.children,r,a=i.length,n,o=new Array(a+1);for(o[0]=n=r=0;r<a;++r)o[r+1]=n+=i.getIndex(r).value;a>0&&l(0,a,e.value,e.x0,e.y0,e.x1,e.y1);function l(u,h,c,A,d,f,p){if(u>=h-1){var m=i.getIndex(u);m.x0=A,m.y0=d,m.x1=f,m.y1=p;return}for(var g=o[u],y=c/2+g,x=u+1,C=h-1;x<C;){var S=x+C>>>1;o[S]<y?x=S+1:C=S}y-o[x-1]<o[x]-y&&u+1<x&&--x;var P=o[x]-g,F=c-P;if(c==0){var m=i.getIndex(u);m.x0=A,m.y0=d,m.x1=f,m.y1=p;return}if(f-A>p-d){var O=(A*F+f*P)/c;l(u,x,P,A,d,O,p),l(x,h,F,O,d,f,p)}else{var $=(d*F+p*P)/c;l(u,x,P,A,d,f,$),l(x,h,F,A,$,f,p)}}},t.prototype.slice=function(e){for(var i=e.x0,r=e.x1,a=e.y0,n=e.y1,o=e.children,l,u=-1,h=o.length,c=e.value&&(n-a)/e.value;++u<h;)l=o.getIndex(u),l.x0=i,l.x1=r,l.y0=a,a+=l.value*c,l.y1=a},t.prototype.dice=function(e){for(var i=e.x0,r=e.x1,a=e.y0,n=e.y1,o=e.children,l,u=-1,h=o.length,c=e.value&&(r-i)/e.value;++u<h;)l=o.getIndex(u),l.y0=a,l.y1=n,l.x0=i,i+=l.value*c,l.x1=i},t.prototype.sliceDice=function(e){e.level&1?this.slice(e):this.dice(e)},t.prototype.squarify=function(e){for(var i=(1+Math.sqrt(5))/2,r=e.x0,a=e.x1,n=e.y0,o=e.y1,l=e.children,u,h=0,c=0,A=l.length,d,f,p=e.value,m,g,y,x,C,S,P;h<A;){d=a-r,f=o-n;do m=l.getIndex(c++).value;while(!m&&c<A);for(g=y=m,S=Math.max(f/d,d/f)/(p*i),P=m*m*S,C=Math.max(y/P,P/g);c<A;++c){if(m+=u=l.getIndex(c).value,u<g&&(g=u),u>y&&(y=u),P=m*m*S,x=Math.max(y/P,P/g),x>C){m-=u;break}C=x}var F=this.dataItems.template.clone();F.value=m,F.dice=d<f,F.children=l.slice(h,c),F.x0=r,F.y0=n,F.x1=a,F.y1=o,F.dice?(F.y1=p?n+=f*m/p:o,this.dice(F)):(F.x1=p?r+=d*m/p:a,this.slice(F)),p-=m,h=c}},t.prototype.handleSeriesAdded2=function(){},t.prototype.handleDataItemValueChange=function(e,i){i=="value"&&this.invalidateDataItems()},t.prototype.handleDataItemWorkingValueChange=function(e,i){i=="value"&&this.invalidateDataItems()},t.prototype.getLegendLevel=function(e){if(e&&e.children){if(e.children.length>1)return e;if(e.children.length==1){var i=e.children.getIndex(0);return i.children?this.getLegendLevel(i):e}else return e}},t.prototype.handleLegendSeriesAdded=function(e){},Object.defineProperty(t.prototype,"homeDataItem",{get:function(){return this._homeDataItem},enumerable:!0,configurable:!0}),t.prototype.feedLegend=function(){var e=this.legend;if(e){e.dataFields.name="name";var i=this.getLegendLevel(this._homeDataItem);if(i){var r=[];i.children.each(function(a){r.push(a)}),e.data=r}}},t.prototype.disposeData=function(){s.prototype.disposeData.call(this),this._homeDataItem=void 0,this.series.clear(),this.navigationBar&&this.navigationBar.disposeData(),this.xAxis.disposeData(),this.yAxis.disposeData()},t.prototype.getExporting=function(){var e=this,i=s.prototype.getExporting.call(this);return i.adapter.add("formatDataFields",function(r){return(r.format=="csv"||r.format=="xlsx")&&V(e.dataFields.children)&&delete r.dataFields[e.dataFields.children],r}),i},t}(Lt);M.registeredClasses.TreeMap=DD;var ub=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._chart=new Ci,e.className="AxisRendererX3D",e._disposers.push(e._chart),e.applyTheme(),e}return t.prototype.updateGridElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i);if(e.element){var n=this.chart.dx3D||0,o=this.chart.dy3D||0,l=this.getHeight();e.path=_e({x:n,y:o})+he({x:n,y:l+o})+he({x:0,y:l})}this.positionItem(e,a),this.toggleVisibility(e,i,0,1)},t.prototype.updateBaseGridElement=function(){s.prototype.updateBaseGridElement.call(this);var e=this.getHeight(),i=this.chart.dx3D||0,r=this.chart.dy3D||0;this.baseGrid.path=_e({x:i,y:r})+he({x:0,y:0})+he({x:0,y:e})},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){e&&this._chart.set(e,e.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),t.prototype.handle3DChanged=function(e){(e.property=="depth"||e.property=="angle")&&this.invalidate()},t}(br);M.registeredClasses.AxisRendererX3D=ub;var Vw=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._chart=new Ci,e.className="AxisRendererY3D",e._disposers.push(e._chart),e.applyTheme(),e}return t.prototype.updateGridElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i);if(e.element){var n=this.chart.dx3D||0,o=this.chart.dy3D||0,l=this.getWidth();e.path=_e({x:0,y:0})+he({x:n,y:o})+he({x:l+n,y:o})}this.positionItem(e,a),this.toggleVisibility(e,i,0,1)},t.prototype.updateBaseGridElement=function(){s.prototype.updateBaseGridElement.call(this);var e=this.chart.dx3D||0,i=this.chart.dy3D||0,r=this.getWidth();this.baseGrid.path=_e({x:0,y:0})+he({x:r,y:0})+he({x:r+e,y:i})},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){e&&this._chart.set(e,e.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),t.prototype.handle3DChanged=function(e){(e.property=="depth"||e.property=="angle")&&this.invalidate()},t}(Dr);var Nw=function(s){N(t,s);function t(){var e=s.call(this)||this;e.angle=30,e.depth=30,e.className="Rectangle3D",e.layout="none";var i=e.createChild(ke);i.shouldClone=!1,i.setElement(e.paper.add("path")),i.isMeasured=!1,e.sideBack=i,e._disposers.push(e.sideBack);var r=e.createChild(ke);r.shouldClone=!1,r.setElement(e.paper.add("path")),r.isMeasured=!1,e.sideBottom=r,e._disposers.push(e.sideBottom);var a=e.createChild(ke);a.shouldClone=!1,a.setElement(e.paper.add("path")),a.isMeasured=!1,e.sideLeft=a,e._disposers.push(e.sideLeft);var n=e.createChild(ke);n.shouldClone=!1,n.setElement(e.paper.add("path")),n.isMeasured=!1,e.sideRight=n,e._disposers.push(e.sideRight);var o=e.createChild(ke);o.shouldClone=!1,o.setElement(e.paper.add("path")),o.isMeasured=!1,e.sideTop=o,e._disposers.push(e.sideTop);var l=e.createChild(ke);return l.shouldClone=!1,l.setElement(e.paper.add("path")),l.isMeasured=!1,e.sideFront=l,e._disposers.push(e.sideFront),e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.innerWidth,i=this.innerHeight,r=this.depth,a=this.angle,n=Be(a),o=Se(a),l={x:0,y:0},u={x:e,y:0},h={x:e,y:i},c={x:0,y:i},A={x:r*o,y:-r*n},d={x:r*o+e,y:-r*n},f={x:r*o+e,y:-r*n+i},p={x:r*o,y:-r*n+i};this.sideFront.path=_e(l)+he(u)+he(h)+he(c)+_i(),this.sideBack.path=_e(A)+he(d)+he(f)+he(p)+_i(),this.sideLeft.path=_e(l)+he(A)+he(p)+he(c)+_i(),this.sideRight.path=_e(u)+he(d)+he(f)+he(h)+_i(),this.sideBottom.path=_e(c)+he(p)+he(f)+he(h)+_i(),this.sideTop.path=_e(l)+he(A)+he(d)+he(u)+_i()},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setFill=function(e){s.prototype.setFill.call(this,e),(!ri(e)||"r"in e)&&(e=ra(e));var i;if(e instanceof xt)i=e.hex;else if(e instanceof hs||e instanceof Ka)i=e.stops.getIndex(0).color.hex;else{var r=new gA;r.lightness=-.2,this.sideBack.filters.push(r);var a=r.clone();a.lightness=-.4,this.sideLeft.filters.push(a);var n=r.clone();n.lightness=-.2,this.sideRight.filters.push(n);var o=r.clone();o.lightness=-.1,this.sideTop.filters.push(o);var l=r.clone();l.lightness=-.5,this.sideBottom.filters.push(l)}i&&(this.sideBack.fill=Ve(i).lighten(-.2),this.sideLeft.fill=Ve(i).lighten(-.4),this.sideRight.fill=Ve(i).lighten(-.2),this.sideTop.fill=Ve(i).lighten(-.1),this.sideBottom.fill=Ve(i).lighten(-.5))},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.sideBack.copyFrom(e.sideBack),this.sideLeft.copyFrom(e.sideLeft),this.sideRight.copyFrom(e.sideRight),this.sideTop.copyFrom(e.sideTop),this.sideBottom.copyFrom(e.sideBottom)},t}(Fe);var hb=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="Column3D",e}return t.prototype.createAssets=function(){this.column3D=this.createChild(Nw),this.column3D.shouldClone=!1,this.column3D.strokeOpacity=0,this.column=this.column3D},t.prototype.validate=function(){s.prototype.validate.call(this),this.column3D&&(this.column3D.width=this.pixelWidth,this.column3D.height=this.pixelHeight,this.column3D.invalid&&this.column3D.validate())},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.column3D&&this.column3D.copyFrom(e.column3D)},t.prototype.setFill=function(e){s.prototype.setFill.call(this,e),this.column.fill=e},t}(tn);M.registeredClasses.Column3D=hb;var OD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="ColumnSeries3DDataItem",e.applyTheme(),e}return t}(cs);var Vp=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="ColumnSeries3D",e.columns.template.column3D.applyOnClones=!0,e.columns.template.hiddenState.properties.visible=!0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"columnsContainer",{get:function(){var e=this.chart;return e&&e.columnsContainer&&e.leftAxesContainer.layout!="vertical"&&e.rightAxesContainer.layout!="vertical"&&e.bottomAxesContainer.layout!="horizontal"&&e.topAxesContainer.layout!="horizontal"?e.columnsContainer:this._columnsContainer},enumerable:!0,configurable:!0}),t.prototype.validateDataElementReal=function(e){s.prototype.validateDataElementReal.call(this,e),e.column&&(e.column.dx=this.dx,e.column.dy=this.dy,e.column.visible=this.visible)},t.prototype.validateDataElements=function(){s.prototype.validateDataElements.call(this),this.chart&&this.chart.invalidateLayout()},t.prototype.createColumnTemplate=function(){return new hb},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0);var i=this.columns.template;i.column3D.depth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e);var i=this.columns.template;i.column3D.angle=e},enumerable:!0,configurable:!0}),t}(Fi);M.registeredClasses.ColumnSeries3D=Vp;M.registeredClasses.ColumnSeries3DDataItem=OD;var aN=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="XYChart3DDataItem",e.applyTheme(),e}return t}(Tc);var LD=function(s){N(t,s);function t(){var e=s.call(this)||this;e._axisRendererX=ub,e._axisRendererY=Vw,e.className="XYChart3D",e.depth=30,e.angle=30;var i=e.seriesContainer.createChild(Fe);return i.shouldClone=!1,i.isMeasured=!1,i.layout="none",e.columnsContainer=i,e.columnsContainer.mask=e.createChild(ke),e.applyTheme(),e}return t.prototype.updateSeriesMasks=function(){if(s.prototype.updateSeriesMasks.call(this),ol()){var e=this.columnsContainer,i=e.mask;e.mask=void 0,e.mask=i}},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx3D",{get:function(){return Se(this.angle)*this.depth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy3D",{get:function(){return-Be(this.angle)*this.depth},enumerable:!0,configurable:!0}),t.prototype.validateLayout=function(){s.prototype.validateLayout.call(this),this.fixColumns()},t.prototype.fixLayout=function(){this.chartContainer.paddingTop=-this.dy3D,this.chartContainer.paddingRight=this.dx3D,this.scrollbarX&&(this.scrollbarX.dy=this.dy3D,this.scrollbarX.dx=this.dx3D),this.scrollbarY&&(this.scrollbarY.dy=this.dy3D,this.scrollbarY.dx=this.dx3D),this.fixColumns(),s.prototype.fixLayout.call(this)},t.prototype.fixColumns=function(){var e=this,i=1,r=0;ce(this.series.iterator(),function(n){n instanceof Vp&&(!n.clustered&&r>0&&i++,n.depthIndex=i-1,r++)});var a=0;ce(this.series.iterator(),function(n){if(n instanceof Vp){n.depth=e.depth/i,n.angle=e.angle,n.columnsContainer==e.columnsContainer&&(n.dx=e.depth/i*Se(e.angle)*n.depthIndex,n.dy=-e.depth/i*Be(e.angle)*n.depthIndex);var o=!1;(n.baseAxis==n.xAxis&&n.xAxis.renderer.inversed||n.baseAxis==n.yAxis&&n.yAxis.renderer.inversed)&&(o=!0);var l=1;n.dataItems.each(function(u){var h=u.column;h&&(o?h.zIndex=1e3*(1e3-l)+a-n.depthIndex*100:h.zIndex=1e3*l+a-n.depthIndex*100),l++}),o?a--:a++}}),this.maskColumns()},t.prototype.processConfig=function(e){if(e&&V(e.series)&&bi(e.series))for(var i=0,r=e.series.length;i<r;i++)e.series[i].type=e.series[i].type||"ColumnSeries3D";s.prototype.processConfig.call(this,e)},t.prototype.maskColumns=function(){var e=this.plotContainer.pixelWidth,i=this.plotContainer.pixelHeight,r=this.dx3D,a=this.dy3D,n=_e({x:0,y:0})+he({x:r,y:a})+he({x:e+r,y:a})+he({x:e+r,y:i+a})+he({x:e,y:i})+he({x:e,y:i})+he({x:0,y:i})+_i(),o=this.columnsContainer;o&&o.mask&&(o.mask.path=n)},t}(Lt);M.registeredClasses.XYChart3D=LD;var ID=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="HeatLegend",e.markerContainer=e.createChild(Fe),e.markerContainer.shouldClone=!1,e.markerCount=1;var i=new Kr;return i.minHeight=20,i.minWidth=20,i.interactionsEnabled=!1,i.fillOpacity=1,i.cornerRadius(0,0,0,0),e.markerContainer.minHeight=20,e.markerContainer.minWidth=20,e.orientation="horizontal",e.markers=new zt(i),e._disposers.push(new Tt(e.markers)),e._disposers.push(e.markers.template),e.applyTheme(),e}return t.prototype.getMinFromRules=function(e){var i=this.series;if(i){var r;return Qr(i.heatRules.iterator(),function(a){return a.property==e?(r=a.min,!1):!0}),r}},t.prototype.getMaxFromRules=function(e){var i=this.series;if(i){var r;return ce(i.heatRules.iterator(),function(a){return a.property==e?(r=a.max,!1):!0}),r}},t.prototype.validate=function(){s.prototype.validate.call(this),this.valueAxis.renderer.inversed=this.reverseOrder;var e=this.series,i=this.minColor,r=this.maxColor;if(V(i)||(i=ra(this.getMinFromRules("fill"))),V(r)||(r=ra(this.getMaxFromRules("fill"))),e){var a=e.fill;!V(i)&&a instanceof xt&&(i=a),!V(r)&&a instanceof xt&&(r=a)}V(r)||(r=ra(this.getMaxFromRules("fill")));var n=Gt(this.getMinFromRules("fillOpacity"));I(n)||(n=1);var o=Gt(this.getMaxFromRules("fillOpacity"));I(o)||(o=1);var l=Gt(this.getMinFromRules("strokeOpacity"));I(l)||(l=1);var u=Gt(this.getMaxFromRules("strokeOpacity"));I(u)||(u=1);for(var h=ra(this.getMinFromRules("stroke")),c=ra(this.getMaxFromRules("stroke")),A=0;A<this.markerCount;A++){var d=this.markers.getIndex(A);if(d||(d=this.markers.create(),d.parent=this.markerContainer,d.height=ue(100),d.width=ue(100)),this.markerCount==1){var f=new hs;if(this.reverseOrder?(f.addColor(r,o),f.addColor(i,n)):(f.addColor(i,n),f.addColor(r,o)),this.orientation=="vertical"&&(f.rotation=-90),d.fill=f,V(h)&&V(c)){var p=new hs;this.reverseOrder?(p.addColor(c,u),p.addColor(h,l)):(p.addColor(h,l),p.addColor(c,u)),this.orientation=="vertical"&&(p.rotation=-90),d.stroke=p}}else{var m=A;this.reverseOrder&&(m=this.markerCount-A-1);var g=new xt(cc(i.rgb,r.rgb,m/this.markerCount));d.fill=g;var y=n+(o-n)*m/this.markerCount;if(d.fillOpacity=y,V(h)&&V(c)){var x=new xt(cc(h.rgb,c.rgb,m/this.markerCount));d.stroke=x;var C=l+(u-l)*m/this.markerCount;d.strokeOpacity=C}}}var S=this.valueAxis.renderer;this.markerCount>1&&(this.orientation=="horizontal"?S.minGridDistance=this.measuredWidth/this.markerCount:S.minGridDistance=this.measuredHeight/this.markerCount),this.valueAxis.invalidate();for(var A=this.markerCount,P=this.markers.length;A<P;A++)this.markers.getIndex(A).parent=void 0},Object.defineProperty(t.prototype,"minColor",{get:function(){return this.getPropertyValue("minColor")},set:function(e){e instanceof xt||(e=ra(e)),this.setColorProperty("minColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxColor",{get:function(){return this.getPropertyValue("maxColor")},set:function(e){e instanceof xt||(e=ra(e)),this.setColorProperty("maxColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerCount",{get:function(){return this.getPropertyValue("markerCount")},set:function(e){this.setPropertyValue("markerCount",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(e){this.setPropertyValue("minValue",e),this.valueAxis.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(e){this.setPropertyValue("maxValue",e),this.valueAxis.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);var i=this.markerContainer,r=this.valueAxis;e=="horizontal"?(V(this.width)||(this.width=200),this.height=void 0,r.width=ue(100),r.height=void 0,r.tooltip.pointerOrientation="vertical",this.layout="vertical",i.width=ue(100),i.height=void 0,r.renderer instanceof br||(r.renderer=new br)):(V(this.height)||(this.height=200),this.width=void 0,this.layout="horizontal",i.width=void 0,i.height=ue(100),r.height=ue(100),r.width=void 0,r.tooltip.pointerOrientation="horizontal",r.renderer instanceof Dr||(r.renderer=new Dr),r.renderer.inside=!0,r.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);var a=r.renderer;a.grid.template.disabled=!0,a.axisFills.template.disabled=!0,a.baseGrid.disabled=!0,a.labels.template.padding(2,3,2,3),a.minHeight=void 0,a.minWidth=void 0,this.markerContainer.layout=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueAxis",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(Ne),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(e){this._valueAxis=e,e.parent=this,e.strictMinMax=!0,this.orientation=this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var i=this;this._series=e;var r="value";try{var a=e.heatRules.getIndex(0).dataField;a&&(r=a)}catch{}this.updateMinMax(e.dataItem.values[r].low,e.dataItem.values[r].high),e.dataItem.events.on("calculatedvaluechanged",function(n){i.updateMinMax(e.dataItem.values[r].low,e.dataItem.values[r].high)},void 0,!1),e.heatRules.events.on("inserted",this.invalidate,this,!1),e.heatRules.events.on("removed",this.invalidate,this,!1)},enumerable:!0,configurable:!0}),t.prototype.updateMinMax=function(e,i){var r=this.valueAxis;I(this.minValue)||(r.min=e,r.invalidate()),I(this.maxValue)||(r.max=i,r.invalidate())},t.prototype.processConfig=function(e){if(e&&V(e.series)&&ut(e.series)&&ut(e.series))if(this.map.hasKey(e.series))e.series=this.map.getKey(e.series);else{var i=e.series,r=this.map.events.on("insertKey",function(a){a.key==i&&(this.series=a.newValue,r.dispose())},this);this._disposers.push(r),delete e.series}s.prototype.processConfig.call(this,e)},t}(Fe);M.registeredClasses.HeatLegend=ID;var Lc=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="Candlestick",e.layout="none",e}return t.prototype.createAssets=function(){s.prototype.createAssets.call(this),this.lowLine=this.createChild(Us),this.lowLine.shouldClone=!1,this.highLine=this.createChild(Us),this.highLine.shouldClone=!1},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.lowLine&&this.lowLine.copyFrom(e.lowLine),this.highLine&&this.highLine.copyFrom(e.highLine)},t}(tn);M.registeredClasses.Candlestick=Lc;var Ic=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.values.lowValueX={},e.values.lowValueY={},e.values.highValueX={},e.values.highValueY={},e.className="CandlestickSeriesDataItem",e.applyTheme(),e}return Object.defineProperty(t.prototype,"lowValueX",{get:function(){return this.values.lowValueX.value},set:function(e){this.setValue("lowValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lowValueY",{get:function(){return this.values.lowValueY.value},set:function(e){this.setValue("lowValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highValueX",{get:function(){return this.values.highValueX.value},set:function(e){this.setValue("highValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highValueY",{get:function(){return this.values.highValueY.value},set:function(e){this.setValue("highValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeValueX",{get:function(){return this.values.valueX.value},set:function(e){this.setValue("valueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeValueY",{get:function(){return this.values.valueY.value},set:function(e){this.setValue("valueY",e)},enumerable:!0,configurable:!0}),t}(cs);var Or=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="CandlestickSeries",e.groupFields.lowValueX="low",e.groupFields.lowValueY="low",e.groupFields.highValueX="high",e.groupFields.highValueY="high",e.strokeOpacity=1;var i=new ze,r=i.getFor("positive"),a=i.getFor("negative");return e.dropFromOpenState.properties.fill=a,e.dropFromOpenState.properties.stroke=a,e.riseFromOpenState.properties.fill=r,e.riseFromOpenState.properties.stroke=r,e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Candlestick Series"))},t.prototype.createDataItem=function(){return new Ic},t.prototype.validateDataElementReal=function(e){s.prototype.validateDataElementReal.call(this,e),this.validateCandlestick(e)},t.prototype.validateCandlestick=function(e){var i=e.column;if(i){var r=i.lowLine,a=i.highLine;if(this.baseAxis==this.xAxis){var n=i.pixelWidth/2;r.x=n,a.x=n;var o=e.getWorkingValue(this.yOpenField),l=e.getWorkingValue(this.yField),u=this.yAxis.getY(e,this.yOpenField),h=this.yAxis.getY(e,this.yField),c=this.yAxis.getY(e,this.yLowField),A=this.yAxis.getY(e,this.yHighField),d=i.pixelY;r.y1=c-d,a.y1=A-d,o<l?(r.y2=u-d,a.y2=h-d):(r.y2=h-d,a.y2=u-d)}if(this.baseAxis==this.yAxis){var f=i.pixelHeight/2;r.y=f,a.y=f;var p=e.getWorkingValue(this.xOpenField),m=e.getWorkingValue(this.xField),g=this.xAxis.getX(e,this.xOpenField),y=this.xAxis.getX(e,this.xField),x=this.xAxis.getX(e,this.xLowField),C=this.xAxis.getX(e,this.xHighField),S=i.pixelX;r.x1=x-S,a.x1=C-S,p<m?(r.x2=g-S,a.x2=y-S):(r.x2=y-S,a.x2=g-S)}ce(this.axisRanges.iterator(),function(P){var F=e.rangesColumns.getKey(P.uid);if(F){var O=F.lowLine;O.x=r.x,O.y=r.y,O.x1=r.x1,O.x2=r.x2,O.y1=r.y1,O.y2=r.y2;var $=F.highLine;$.x=a.x,$.y=a.y,$.x1=a.x1,$.x2=a.x2,$.y1=a.y1,$.y2=a.y2}})}},Object.defineProperty(t.prototype,"xLowField",{get:function(){return this._xLowField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yLowField",{get:function(){return this._yLowField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xHighField",{get:function(){return this._xHighField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yHighField",{get:function(){return this._yHighField},enumerable:!0,configurable:!0}),t.prototype.defineFields=function(){s.prototype.defineFields.call(this);var e=this.xAxis,i=this.yAxis;if(e&&i){if(this.baseAxis==e){var r=mc(i.axisFieldName);this._yLowField="low"+r+"Y",this._yHighField="high"+r+"Y"}if(this.baseAxis==i){var a=mc(e.axisFieldName);this._xLowField="low"+a+"X",this._xHighField="high"+a+"X"}this.addValueField(e,this._xValueFields,this._xLowField),this.addValueField(e,this._xValueFields,this._xHighField),this.addValueField(i,this._yValueFields,this._yLowField),this.addValueField(i,this._yValueFields,this._yHighField)}},t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var a=e.createChild(Lc);a.shouldClone=!1,a.copyFrom(this.columns.template);var n,o,l=a.lowLine,u=a.highLine;this.baseAxis==this.yAxis?(n=i/3,o=r,l.y=r/2,u.y=r/2,l.x2=i/3,u.x2=i/3,u.x=i/3*2,a.column.x=i/3):(n=i,o=r/3,l.x=i/2,u.x=i/2,l.y2=r/3,u.y2=r/3,u.y=r/3*2,a.column.y=r/3),a.width=n,a.height=o,Ni(this,e,Bi),Ni(this.columns.template,a,Bi),a.stroke=this.riseFromOpenState.properties.stroke,a.fill=a.stroke;var h=e.dataItem;h.color=a.fill,h.colorOrig=a.fill},t.prototype.createColumnTemplate=function(){return new Lc},t}(Fi);M.registeredClasses.CandlestickSeries=Or;M.registeredClasses.CandlestickSeriesDataItem=Ic;var Np=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="OHLC",e.layout="none",e}return t.prototype.createAssets=function(){this.openLine=this.createChild(Us),this.openLine.shouldClone=!1,this.highLowLine=this.createChild(Us),this.highLowLine.shouldClone=!1,this.closeLine=this.createChild(Us),this.closeLine.shouldClone=!1},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.openLine&&this.openLine.copyFrom(e.openLine),this.highLowLine&&this.highLowLine.copyFrom(e.highLowLine),this.closeLine&&this.closeLine.copyFrom(e.closeLine)},t}(Lc);M.registeredClasses.OHLC=Np;var Qw=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="OHLCSeriesDataItem",e.applyTheme(),e}return t}(Ic);var $D=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="OHLCSeries",e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("OHLC Series"))},t.prototype.createDataItem=function(){return new Qw},t.prototype.validateCandlestick=function(e){var i=e.column;if(i){var r=i.openLine,a=i.highLowLine,n=i.closeLine;if(this.baseAxis==this.xAxis){var o=i.pixelWidth/2;a.x=o,e.getWorkingValue(this.yOpenField),e.getWorkingValue(this.yField);var l=this.yAxis.getY(e,this.yOpenField),u=this.yAxis.getY(e,this.yField),h=this.yAxis.getY(e,this.yLowField),c=this.yAxis.getY(e,this.yHighField),A=i.pixelY;r.y1=l-A,r.y2=l-A,r.x1=0,r.x2=o,n.y1=u-A,n.y2=u-A,n.x1=o,n.x2=2*o,a.y1=c-A,a.y2=h-A}if(this.baseAxis==this.yAxis){var d=i.pixelHeight/2;a.y=d,e.getWorkingValue(this.xOpenField),e.getWorkingValue(this.xField);var f=this.xAxis.getX(e,this.xOpenField),p=this.xAxis.getX(e,this.xField),m=this.xAxis.getX(e,this.xLowField),g=this.xAxis.getX(e,this.xHighField),y=i.pixelX;r.x1=f-y,r.x2=f-y,r.y1=d,r.y2=2*d,n.x1=p-y,n.x2=p-y,n.y1=0,n.y2=d,a.x1=g-y,a.x2=m-y}ce(this.axisRanges.iterator(),function(x){var C=e.rangesColumns.getKey(x.uid);if(C){var S=C.openLine;S.x=r.x,S.y=r.y,S.x1=r.x1,S.x2=r.x2,S.y1=r.y1,S.y2=r.y2;var P=C.closeLine;P.x=n.x,P.y=n.y,P.x1=n.x1,P.x2=n.x2,P.y1=n.y1,P.y2=n.y2;var F=C.highLowLine;F.x=a.x,F.y=a.y,F.x1=a.x1,F.x2=a.x2,F.y1=a.y1,F.y2=a.y2}})}},t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var a=e.createChild(Np);a.shouldClone=!1,a.copyFrom(this.columns.template);var n,o,l=a.openLine,u=a.closeLine,h=a.highLowLine;this.baseAxis==this.yAxis?(n=i/3,o=r,h.y=r/2,h.x2=i,l.x=i/3*2,l.y2=r/2,u.x=i/3,u.y2=r,u.y1=r/2):(n=i,o=r/3,h.x=i/2,h.y2=r,l.y=r/3*2,l.x2=i/2,u.y=r/3,u.x2=i,u.x1=i/2),a.width=n,a.height=o,Ni(this,e,Bi),Ni(this.columns.template,a,Bi),a.stroke=this.riseFromOpenState.properties.stroke;var c=e.dataItem;c.color=a.stroke,c.colorOrig=a.stroke},t.prototype.createColumnTemplate=function(){return new Np},t}(Or);M.registeredClasses.OHLCSeries=$D;M.registeredClasses.OHLCSeriesDataItem=Qw;var Hw=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="StepLineSeriesSegment",e}return t.prototype.drawSegment=function(e,i,r,a,n,o){if(e.length>0&&i.length>0)if(n){var l=_e(e[0]);if(e.length>0)for(var u=1;u<e.length;u++){var h=e[u];u/2==Math.round(u/2)?l+=_e(h):l+=he(h)}this.strokeSprite.path=l,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(l=_e(e[0])+_c(e),l+=he(i[0])+_c(i),l+=he(e[0]),l+=_i(),this.fillSprite.path=l)}else{var l=_e(e[0])+_c(e);this.strokeSprite.path=l,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(l+=he(i[0])+_c(i),l+=he(e[0]),l+=_i(),this.fillSprite.path=l)}else this.strokeSprite.path="",this.fillSprite.path=""},t}(dA);M.registeredClasses.StepLineSeriesSegment=Hw;var jw=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="StepLineSeriesDataItem",e.applyTheme(),e}return t}(va);var aa=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="StepLineSeries",e.applyTheme(),e.startLocation=0,e.endLocation=1,e}return t.prototype.createDataItem=function(){return new jw},t.prototype.addPoints=function(e,i,r,a,n){var o,l,u,h;this.baseAxis==this.xAxis&&(o=this.startLocation,l=this.endLocation,u=this.getAdjustedXLocation(i,this.yOpenField),h=this.getAdjustedXLocation(i,this.yField)),this.baseAxis==this.yAxis&&(u=this.startLocation,h=this.endLocation,o=this.getAdjustedXLocation(i,this.xOpenField),l=this.getAdjustedXLocation(i,this.xField));var c=this.xAxis.getX(i,r,o),A=this.yAxis.getY(i,a,u),d=this.xAxis.getX(i,r,l),f=this.yAxis.getY(i,a,h);if(c=De(c,-1e5,1e5),A=De(A,-1e5,1e5),d=De(d,-1e5,1e5),f=De(f,-1e5,1e5),!this.noRisers&&e.length>1){var p=e[e.length-1];this.baseAxis==this.xAxis&&(n?e.push({x:p.x,y:f}):e.push({x:c,y:p.y})),this.baseAxis==this.yAxis&&(n?e.push({x:d,y:p.y}):e.push({x:p.x,y:A}))}var m={x:c,y:A},g={x:d,y:f};n?e.push(g,m):e.push(m,g)},t.prototype.drawSegment=function(e,i,r){var a=!1;this.yAxis==this.baseAxis&&(a=!0),e.drawSegment(i,r,this.tensionX,this.tensionY,this.noRisers,a)},t.prototype.createSegment=function(){return new Hw},Object.defineProperty(t.prototype,"noRisers",{get:function(){return this.getPropertyValue("noRisers")},set:function(e){this.setPropertyValue("noRisers",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e,!0)},enumerable:!0,configurable:!0}),t}(ai);M.registeredClasses.StepLineSeries=aa;M.registeredClasses.StepLineSeriesDataItem=jw;var cb=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="RadarColumn",e}return t.prototype.createAssets=function(){this.radarColumn=this.createChild(xa),this.radarColumn.shouldClone=!1,this.radarColumn.strokeOpacity=void 0,this.column=this.radarColumn},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.radarColumn&&this.radarColumn.copyFrom(e.radarColumn)},t.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");return I(e)?e:this.radarColumn.getTooltipX()},t.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipX");return I(e)?e:this.radarColumn.getTooltipY()},t}(tn);M.registeredClasses.RadarColumn=cb;var kD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="ColumnSeriesDataItem",e.applyTheme(),e}return t}(cs);var ED=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="RadarColumnSeries",e.applyTheme(),e}return t.prototype.createColumnTemplate=function(){return new cb},t.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),s.prototype.validate.call(this)},t.prototype.disableUnusedColumns=function(e){e&&(e.column&&(e.column.__disabled=!0),ce(this.axisRanges.iterator(),function(i){var r=e.rangesColumns.getKey(i.uid);r&&(r.__disabled=!0)}))},t.prototype.validateDataElementReal=function(e){var i=this,r=this.chart.startAngle,a=this.chart.endAngle,n=this.yField,o=this.yOpenField,l=this.xField,u=this.xOpenField,h,c,A,d,f=this.getStartLocation(e),p=this.getEndLocation(e),m=(a-r)/(this.dataItems.length*(this.end-this.start)),g=e.column;g||(g=this.columns.create(),e.column=g,Ni(this,g,Bi),Ni(this.columns.template,g,Bi),e.addSprite(g),g.paper=this.paper,this.setColumnStates(g));var y=g.width,x=100;y instanceof qe&&(x=y.percent);var C=ve((p-f)*(1-x/100)/2,5);if(f+=C,p-=C,this.xAxis instanceof Ut&&this.yAxis instanceof Ut)A=Et({x:this.yAxis.getX(e,n,0,"valueY"),y:this.yAxis.getY(e,n,0,"valueY")}),d=Et({x:this.yAxis.getX(e,o,1,"valueY"),y:this.yAxis.getY(e,o,1,"valueY")}),h=this.xAxis.getAngle(e,u,0,"valueX"),c=this.xAxis.getAngle(e,l,1,"valueX"),r=r+f*m,a=a-(1-p)*m;else if(this.baseAxis==this.xAxis)A=Et({x:this.yAxis.getX(e,n,e.locations[n],"valueY"),y:this.yAxis.getY(e,n,e.locations[n],"valueY")}),d=Et({x:this.yAxis.getX(e,o,e.locations[o],"valueY"),y:this.yAxis.getY(e,o,e.locations[o],"valueY")}),h=this.xAxis.getAngle(e,u,f,"valueX"),c=this.xAxis.getAngle(e,l,p,"valueX"),r=r+f*m,a=a-(1-p)*m;else{if(A=Et({x:this.yAxis.getX(e,n,f,"valueY"),y:this.yAxis.getY(e,n,f,"valueY")}),d=Et({x:this.yAxis.getX(e,o,p,"valueY"),y:this.yAxis.getY(e,o,p,"valueY")}),I(y)){var S=Math.abs(A-d);if(S>y){var P=(S-y)/2;A+=P,d-=P}}h=this.xAxis.getAngle(e,l,e.locations[l],"valueX"),c=this.xAxis.getAngle(e,u,e.locations[u],"valueX")}if(c<h){var F=c;c=h,h=F}h=De(h,r,a),c=De(c,r,a);var O=g.radarColumn;O.startAngle=h;var $=c-h;$>0?(O.arc=$,O.radius=A,O.innerRadius=d,g.__disabled=!1,g.parent=this.columnsContainer,ce(this.axisRanges.iterator(),function(L){var E=e.rangesColumns.getKey(L.uid);E||(E=i.columns.create(),FT(i.columns.template,E,Bi),Ni(L.contents,E,Bi),E.dataItem&&Ye(E.dataItem.sprites,E),e.addSprite(E),E.paper=i.paper,i.setColumnStates(E),e.rangesColumns.setKey(L.uid,E));var D=E.radarColumn;D.startAngle=h,D.arc=$,D.radius=A,D.innerRadius=d,D.invalid&&(D.paper=i.paper,D.validate()),E.__disabled=!1,E.parent=L.contents})):this.disableUnusedColumns(e)},t.prototype.getPoint=function(e,i,r,a,n,o,l){o||(o="valueX"),l||(l="valueY");var u=this.yAxis.getX(e,r,n,l),h=this.yAxis.getY(e,r,n,l),c=Et({x:u,y:h});c==0&&(c=1e-5);var A=this.xAxis.getAngle(e,i,a,o);return{x:c*Se(A),y:c*Be(A)}},t.prototype.getMaskPath=function(){var e=this.yAxis.renderer;return Qn(e.startAngle,e.endAngle-e.startAngle,e.pixelRadius,e.pixelInnerRadius)},t.prototype.positionBulletReal=function(e,i,r){var a=this.xAxis,n=this.yAxis;(i<a.start||i>a.end||r<n.start||r>n.end)&&(e.visible=!1),e.moveTo(this.xAxis.renderer.positionToPoint(i,r))},t.prototype.setXAxis=function(e){s.prototype.setXAxis.call(this,e),this.updateRendererRefs()},t.prototype.setYAxis=function(e){s.prototype.setYAxis.call(this,e),this.updateRendererRefs()},t.prototype.updateRendererRefs=function(){var e=this.xAxis.renderer,i=this.yAxis.renderer;e.axisRendererY=i},t}(Fi);M.registeredClasses.RadarColumnSeries=ED;M.registeredClasses.RadarColumnSeriesDataItem=kD;var Qp=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.slice=e.createChild(ke),e.slice.shouldClone=!1,e.slice.setElement(e.paper.add("path")),e.slice.isMeasured=!1,e.orientation="vertical",e.bottomWidth=ue(100),e.topWidth=ue(100),e.isMeasured=!1,e.width=10,e.height=10,e.expandDistance=0,e.className="FunnelSlice",e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.pixelPaddingTop,i=this.pixelPaddingBottom,r=this.pixelPaddingRight,a=this.pixelPaddingLeft,n=this.pixelWidth-r-a,o=this.pixelHeight-e-i,l=this.expandDistance,u="";if(this.orientation=="vertical"){var h=oi(this.topWidth,n),c=oi(this.bottomWidth,n),A={x:(n-h)/2+a,y:e},d={x:(n+h)/2+a,y:e},f={x:(n+c)/2+a,y:e+o},p={x:(n-c)/2+a,y:e+o},m={x:d.x+(f.x-d.x)/2+l*o,y:d.y+.5*o},g={x:A.x+(p.x-A.x)/2-l*o,y:A.y+.5*o},y=he(f),x=he(A);l!=0&&(y=ul(f,m),x=ul(A,g)),u=_e(A)+he(d)+y+he(p)+x,this.tickPoint={x:d.x+(f.x-d.x)/2,y:d.y+(f.y-d.y)/2}}else{var h=oi(this.topWidth,o),c=oi(this.bottomWidth,o),C={x:a,y:(o-h)/2+e},S={x:a,y:(o+h)/2+e},P={x:a+n,y:(o-c)/2+e},F={x:a+n,y:(o+c)/2+e},m={y:C.y+(P.y-C.y)/2-l*n,x:C.x+.5*n},g={y:S.y+(F.y-S.y)/2+l*n,x:S.x+.5*n},y=he(P),x=he(S);l!=0&&(y=ul(P,m),x=ul(S,g)),u=_e(S)+he(C)+y+he(F)+x,this.tickPoint={y:S.y+(F.y-S.y)/2,x:S.x+(F.x-S.x)/2}}this.slice.path=u,this.invalidateLayout()},t.prototype.getPoint=function(e,i){var r=this.pixelPaddingTop,a=this.pixelPaddingBottom,n=this.pixelPaddingRight,o=this.pixelPaddingLeft,l=this.pixelWidth-n-o,u=this.pixelHeight-r-a;if(this.orientation=="vertical"){var h=oi(this.topWidth,l),c=oi(this.bottomWidth,l),A={x:(l-h)/2+o,y:r},d={x:(l+h)/2+o,y:r},f={x:(l+c)/2+o,y:r+u},p={x:(l-c)/2+o,y:r+u},m=A.x+(p.x-A.x)*i,g=d.x+(f.x-d.x)*i;return{x:m+(g-m)*e,y:d.y+(f.y-d.y)*i}}else{var h=oi(this.topWidth,u),c=oi(this.bottomWidth,u),y={x:o,y:(u-h)/2+r},x={x:o,y:(u+h)/2+r},C={x:o+l,y:(u-c)/2+r},S={x:o+l,y:(u+c)/2+r},P=y.y+(C.y-y.y)*e,F=x.y+(S.y-x.y)*e;return{y:P+(F-P)*i,x:y.x+(C.x-y.x)*e}}},Object.defineProperty(t.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(e){this.setPercentProperty("bottomWidth",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(e){this.setPercentProperty("topWidth",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandDistance",{get:function(){return this.getPropertyValue("expandDistance")},set:function(e){this.setPropertyValue("expandDistance",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.slice&&this.slice.copyFrom(e.slice)},t}(Fe);M.registeredClasses.FunnelSlice=Qp;var Xw=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._label=new Ci,e._slice=new Ci,e.className="FunnelTick",e.element=e.paper.add("path"),e._disposers.push(e._label),e._disposers.push(e._slice),e.setPropertyValue("locationX",0),e.setPropertyValue("locationY",0),e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.slice,i=e.getPoint(this.locationX,this.locationY);if(i){var r=this.label,a=e.dataItem.component,n=void 0,o=void 0,l=void 0;if(a.orientation=="vertical"){var u=r.pixelX,h=r.pixelY;a.labelsOpposite||(u+=r.maxRight),n=Yr(i,e,this.parent),l=Yr({x:u,y:h},r.parent,this.parent),o={x:r.parent.pixelX-this.length,y:l.y},a.labelsOpposite||(o.x=r.parent.measuredWidth+this.length)}else{var u=r.pixelX,h=r.pixelY;a.labelsOpposite||(h+=r.maxBottom),n=Yr(i,e,this.parent),l=Yr({x:u,y:h},r.parent,this.parent),o={x:l.x,y:r.parent.pixelY-this.length},a.labelsOpposite||(o.y=r.parent.measuredHeight+this.length)}this.path=_e(n)+he(o)+he(l)}},Object.defineProperty(t.prototype,"slice",{get:function(){return this._slice.get()},set:function(e){this._slice.set(e,new Vt([e.events.on("transformed",this.invalidate,this,!1),e.events.on("validated",this.invalidate,this,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label.get()},set:function(e){this._label.set(e,e.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(e){this.setPropertyValue("locationX",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(e){this.setPropertyValue("locationY",e,!1,!0)},enumerable:!0,configurable:!0}),t}(fl);M.registeredClasses.FunnelTick=Xw;var Hp=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="FunnelSeriesDataItem",e.events.on("visibilitychanged",function(){e.component&&e.component.invalidateDataItems()},e,!1),e.applyTheme(),e}return Object.defineProperty(t.prototype,"sliceLink",{get:function(){var e=this;if(!this._sliceLink){var i=this.component.sliceLinks.create();this._sliceLink=i,this._disposers.push(i),i.parent=this.component.slicesContainer,this._disposers.push(new Ft(function(){e.component&&e.component.sliceLinks.removeValue(i)})),this.addSprite(i),i.visible=this.visible}return this._sliceLink},enumerable:!0,configurable:!0}),t}(mA);var db=function(s){N(t,s);function t(){var e=s.call(this)||this;return e._nextY=0,e.className="FunnelSeries",e.orientation="vertical",e.width=ue(100),e.height=ue(100),e.slicesContainer.width=ue(100),e.slicesContainer.height=ue(100),e._disposers.push(e.slicesContainer.events.on("maxsizechanged",e.invalidateDataItems,e,!1)),e.labelsOpposite=!0,e.labelsContainer.layout="absolute",e.bottomRatio=0,e.applyTheme(),e}return t.prototype.createSlice=function(){return new Qp},t.prototype.createTick=function(){return new Xw},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Funnel Series"))},t.prototype.createDataItem=function(){return new Hp},t.prototype.initSlice=function(e){e.isMeasured=!1,e.defaultState.properties.scale=1,e.observe("scale",this.handleSliceScale,this),e.observe(["dx","dy","x","y"],this.handleSliceMove,this),e.tooltipText="{category}: {value.percent.formatNumber('#.#p')} ({value.value})";var i=e.states.create("hover");i.properties.expandDistance=.2},t.prototype.initLabel=function(e){s.prototype.initLabel.call(this,e),e.verticalCenter="middle",e.horizontalCenter="middle",e.isMeasured=!0,e.padding(5,5,5,5)},t.prototype.validate=function(){s.prototype.validate.call(this),this._nextY=0},t.prototype.validateDataElements=function(){var e=this,i=this.slicesContainer,r=this.labelsContainer,a=this.labels.template;this.alignLabels?(a.interactionsEnabled=!0,i.isMeasured=!0,r.isMeasured=!0):(a.interactionsEnabled=!1,i.isMeasured=!1,r.isMeasured=!1);var n=0,o=0;this.dataItems.each(function(l){V(l.value)&&(o++,l.value>0?n+=Math.abs(l.getWorkingValue("value")/l.value):e.ignoreZeroValues||!l.visible||l.__disabled||l.isHiding?o--:n+=1)}),this._total=1/o*n,this._count=o,s.prototype.validateDataElements.call(this),this.arrangeLabels()},t.prototype.getNextValue=function(e){var i=e.index,r=e.getWorkingValue("value");if(i<this.dataItems.length-1){var a=this.dataItems.getIndex(i+1);if(r=a.getWorkingValue("value"),!a.visible||a.isHiding||a.__disabled||a.value==0&&this.ignoreZeroValues)return this.getNextValue(a)}return r},t.prototype.formDataElement=function(){},t.prototype.validateDataElement=function(e){var i=this,r=e.slice;r.orientation=this.orientation;var a=e.sliceLink;a.orientation=this.orientation;var n=e.tick,o=e.label;n.slice=r,n.label=o,V(e.value)?(this.decorateSlice(e),we(e.sprites,function(l){e.value==0&&i.ignoreZeroValues?l.__disabled=!0:l.__disabled=!1})):we(e.sprites,function(l){l.__disabled=!0}),e.index==this.dataItems.length-1&&(a.disabled=!0),s.prototype.validateDataElement.call(this,e),a.fill=r.fill},t.prototype.decorateSlice=function(e){var i=e.slice,r=e.sliceLink,a=e.label,n=e.tick,o=this.slicesContainer.innerWidth,l=this.slicesContainer.innerHeight,u=this.getNextValue(e),h=Math.abs(e.getWorkingValue("value")),c=this.bottomRatio,A=1;if(e.value!=0?A=h/Math.abs(e.value):(e.__disabled||e.isHiding||!e.visible)&&(A=1e-6),this.ignoreZeroValues&&e.value==0){e.__disabled=!0;return}else e.__disabled=!1;if(this._nextY==1/0&&(this._nextY=0),this.orientation=="vertical"){var d=r.pixelHeight*A;l=l+d,i.topWidth=h/this.dataItem.values.value.high*o,i.bottomWidth=(h-(h-u)*c)/this.dataItem.values.value.high*o,r.topWidth=i.bottomWidth,r.bottomWidth=(h-(h-u))/this.dataItem.values.value.high*o,i.y=this._nextY,i.height=Math.min(1e5,st(0,l/this._count*A/this._total-d)),i.x=o/2,this.alignLabels?a.x=void 0:a.x=i.x,a.y=i.pixelY+i.pixelHeight*n.locationY,this._nextY+=i.pixelHeight+d,r.y=this._nextY-d,r.x=i.x}else{var f=r.pixelWidth*A;o=o+f,i.topWidth=h/this.dataItem.values.value.high*l,i.bottomWidth=(h-(h-u)*c)/this.dataItem.values.value.high*l,r.topWidth=i.bottomWidth,r.bottomWidth=(h-(h-u))/this.dataItem.values.value.high*l,i.x=this._nextY,i.width=Math.min(1e5,o/this._count*A*1/this._total-f),i.y=l/2,this.alignLabels?a.y=this.labelsContainer.measuredHeight:a.y=i.y,a.x=i.pixelX+i.pixelWidth*n.locationX,this._nextY+=i.pixelWidth+f,r.x=this._nextY-f,r.y=i.y}},t.prototype.getLastLabel=function(e){if(e>0){var i=this.labels.getIndex(e);return i.__disabled||!i.visible?this.getLastLabel(e-1):i}},t.prototype.arrangeLabels=function(){if(this.alignLabels){var e=this.labels.length;if(e>1){var i=this.getLastLabel(e-1);if(i){var r=i.pixelY,a=i.pixelX;if(e>1){for(var n=e-2;n>=0;n--){var o=this.labels.getIndex(n);o.visible&&!o.__disabled&&(o.invalid&&o.validate(),this.orientation=="vertical"?o.pixelY+o.measuredHeight>r&&(o.y=Math.min(1e6,r-o.measuredHeight)):o.pixelX+o.measuredWidth>a&&(o.x=Math.min(1e6,a-o.measuredWidth)),r=o.pixelY,a=o.pixelX)}r=0,a=0;for(var n=0;n<e;n++){var o=this.labels.getIndex(n);o.visible&&!o.__disabled&&(o.invalid&&o.validate(),this.orientation=="vertical"?o.pixelY<r&&(o.y=Math.min(1e6,r)):o.pixelX<a&&(o.x=Math.min(1e6,a)),r+=o.measuredHeight,a+=o.measuredWidth)}}}}}},t.prototype.positionBullet=function(e){s.prototype.positionBullet.call(this,e);var i=e.dataItem,r=i.slice,a=e.locationX;I(a)||(a=.5);var n=e.locationY;I(n)||(n=1),e.x=r.pixelX+r.measuredWidth*a,e.y=r.pixelY+r.measuredHeight*n},Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e)&&(this.labelsOpposite=this.labelsOpposite,this.invalidate(),e=="vertical"?(this.ticks.template.locationX=1,this.ticks.template.locationY=.5,this.labels.template.rotation=0,this.layout="horizontal"):(this.ticks.template.locationX=.5,this.ticks.template.locationY=1,this.labels.template.rotation=-90,this.layout="vertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRatio",{get:function(){return this.getPropertyValue("bottomRatio")},set:function(e){this.setPropertyValue("bottomRatio",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sliceLinks",{get:function(){if(!this._sliceLinks){var e=new Qp;e.applyOnClones=!0,e.fillOpacity=.5,e.expandDistance=-.3,e.hiddenState.properties.opacity=0,this._disposers.push(e),this._sliceLinks=new zt(e),this._disposers.push(new Tt(this._sliceLinks))}return this._sliceLinks},enumerable:!0,configurable:!0}),t.prototype.show=function(e){var i=this,r=this.startIndex,a=this.endIndex,n=this.defaultState.transitionDuration;I(e)&&(n=e),et.animationsEnabled||(n=0);var o=0;ce(Rn(this.dataItems.iterator()),function(u){var h=u[0],c=u[1];i.sequencedInterpolation&&(o=i.sequencedInterpolationDelay*h+n*(h-r)/(a-r)),c.show(n,o,["value"])});var l=s.prototype.show.call(this,e);return l},t.prototype.hide=function(e){var i=this,r=["value"],a=0,n=this.startIndex,o=this.endIndex,l=0,u=this.hiddenState.transitionDuration;I(e)&&(u=e),et.animationsEnabled||(u=0),ce(Rn(this.dataItems.iterator()),function(c){var A=c[0],d=c[1];i.sequencedInterpolation&&(l=i.sequencedInterpolationDelay*A+u*(A-n)/(o-n)),d.hide(u,l,a,r)});var h=s.prototype.hide.call(this,e);return h&&!h.isFinished()&&h.delay(l),h},t.prototype.setAlignLabels=function(e){s.prototype.setAlignLabels.call(this,e),this.ticks.template.disabled=!e;var i=this.labelsContainer;i&&(e?(i.height=void 0,i.width=void 0,i.margin(10,10,10,10)):(i.width=ue(100),i.height=ue(100))),this.labelsOpposite=this.labelsOpposite},Object.defineProperty(t.prototype,"labelsOpposite",{get:function(){return this.getPropertyValue("labelsOpposite")},set:function(e){this.setPropertyValue("labelsOpposite",e);var i=this.labels.template,r="none",a="none";this.alignLabels?e?(this.labelsContainer.toFront(),this.orientation=="vertical"?(this.ticks.template.locationX=1,i.horizontalCenter="left",r="right"):(this.ticks.template.locationY=1,i.horizontalCenter="right",a="bottom")):(this.labelsContainer.toBack(),this.orientation=="vertical"?(this.ticks.template.locationX=0,r="left"):(a="top",this.ticks.template.locationY=0)):this.orientation=="vertical"?r="center":a="middle",i.align=r,i.valign=a,this.validateLayout(),this.ticks.each(function(n){n.invalidate()}),this.invalidateDataItems()},enumerable:!0,configurable:!0}),t}(Ah);M.registeredClasses.FunnelSeries=db;M.registeredClasses.FunnelSeriesDataItem=Hp;var jp=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="PyramidSeriesDataItem",e.applyTheme(),e}return t}(Hp);var Ab=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="PyramidSeries",e.topWidth=ue(0),e.bottomWidth=ue(100),e.pyramidHeight=ue(100),e.valueIs="area",e.sliceLinks.template.width=0,e.sliceLinks.template.height=0,e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},t.prototype.createDataItem=function(){return new jp},t.prototype.validate=function(){s.prototype.validate.call(this),this._nextWidth=void 0},t.prototype.getNextValue=function(e){var i=e.index,r=e.getWorkingValue("value");if(i<this.dataItems.length-1){var a=this.dataItems.getIndex(i+1);r=a.getWorkingValue("value")}return r==0&&(r=1e-6),r},t.prototype.validateDataElements=function(){var e=this,i=this.slicesContainer.innerWidth,r=this.slicesContainer.innerHeight;if(this.dataItems.each(function(o){if(o.value>0){var l=o.getWorkingValue("value")/o.value,u=o.sliceLink;e.orientation=="vertical"?r-=u.pixelHeight*l:i-=u.pixelWidth*l}}),this._pyramidHeight=oi(this.pyramidHeight,r),this._pyramidWidth=oi(this.pyramidHeight,i),this.orientation=="vertical"){var a=(r-this._pyramidHeight)/2;this.slicesContainer.y=a,this.labelsContainer.y=a,this.ticksContainer.y=a}else{var n=(i-this._pyramidWidth)/2;this.slicesContainer.x=n,this.labelsContainer.x=n,this.ticksContainer.x=n}s.prototype.validateDataElements.call(this)},t.prototype.decorateSlice=function(e){var i=this.dataItem.values.value.absoluteSum;if(i!=0){var r=e.slice,a=e.sliceLink,n=e.label,o=e.tick;this.getNextValue(e);var l=Math.abs(e.getWorkingValue("value")),u=this._pyramidWidth,h=this._pyramidHeight,c=this.slicesContainer.innerWidth,A=this.slicesContainer.innerHeight,d=a.pixelWidth,f=a.pixelHeight;if((e.value==0||e.value==null)&&this.ignoreZeroValues?e.__disabled=!0:e.__disabled=!1,this.orientation=="vertical"){var p=oi(this.topWidth,c);I(this._nextWidth)||(this._nextWidth=p);var m=oi(this.bottomWidth,c),g=this._nextWidth,y=Math.atan2(h,p-m),x=Math.tan(Math.PI/2-y);x==0&&(x=1e-8);var C=void 0,S=void 0;if(this.valueIs=="area"){var P=(p+m)/2*h,F=P*l/i,O=Math.abs(g*g-2*F*x);C=(g-Math.sqrt(O))/x,C>0?S=(2*F-C*g)/C:S=g}else C=h*l/i,S=g-C*x;r.height=C,r.width=c,r.bottomWidth=S,r.topWidth=g,a.topWidth=r.bottomWidth,a.bottomWidth=r.bottomWidth,r.y=this._nextY,this.alignLabels?n.x=0:n.x=c/2,n.y=r.pixelY+r.pixelHeight*o.locationY+r.dy,this._nextY+=r.pixelHeight+f*l/Math.max(Math.abs(e.value),1e-8),a.y=this._nextY-f,a.x=c/2}else{var p=oi(this.topWidth,A);I(this._nextWidth)||(this._nextWidth=p);var m=oi(this.bottomWidth,A),g=this._nextWidth,y=Math.atan2(u,p-m),x=Math.tan(Math.PI/2-y);x==0&&(x=1e-8);var $=void 0,S=void 0;if(this.valueIs=="area"){var P=(p+m)/2*u,F=P*l/i;$=(g-Math.sqrt(g*g-2*F*x))/x,S=(2*F-$*g)/$}else $=u*l/i,S=g-$*x;r.width=$,r.height=A,r.bottomWidth=S,r.topWidth=g,a.topWidth=r.bottomWidth,a.bottomWidth=r.bottomWidth,r.x=this._nextY,this.alignLabels?n.y=this.labelsContainer.measuredHeight:n.y=A/2,n.x=r.pixelX+r.pixelWidth*o.locationX+r.dx,this._nextY+=r.pixelWidth+d*l/Math.max(Math.abs(e.value),1e-8),a.x=this._nextY-d,a.y=A/2}this._nextWidth=r.bottomWidth}},Object.defineProperty(t.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(e){this.setPercentProperty("topWidth",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pyramidHeight",{get:function(){return this.getPropertyValue("pyramidHeight")},set:function(e){this.setPercentProperty("pyramidHeight",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(e){this.setPercentProperty("bottomWidth",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueIs",{get:function(){return this.getPropertyValue("valueIs")},set:function(e){this.setPropertyValue("valueIs",e)&&this.invalidate()},enumerable:!0,configurable:!0}),t}(db);M.registeredClasses.PyramidSeries=Ab;M.registeredClasses.PyramidSeriesDataItem=jp;var Ww=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="PictorialStackedSeriesDataItem",e.applyTheme(),e}return t}(jp);var MD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="PictorialStackedSeries",e.topWidth=ue(100),e.bottomWidth=ue(100),e.valueIs="height",e.applyTheme(),e.startLocation=0,e.endLocation=1,e.align="center",e.valign="middle",e._maskSprite=e.slicesContainer.createChild(ke),e._maskSprite.visible=!1,e._maskSprite.zIndex=100,e._maskSprite.shouldClone=!1,e}return t.prototype.validateDataElements=function(){var e=this.slicesContainer.maxWidth,i=this.slicesContainer.maxHeight,r=this._maskSprite,a=r.measuredWidth/r.scale,n=r.measuredHeight/r.scale,o=dt(i/n,e/a);o==1/0&&(o=1),o=st(.001,o);var l=this.startLocation,u=this.endLocation,h=dt(e,a*o),c=dt(i,n*o);r.scale=o,this.orientation=="vertical"?(this.topWidth=h+4,this.bottomWidth=h+4,this.pyramidHeight=c*(u-l),r.x=e/2,r.y=c/2):(this.topWidth=c+4,this.bottomWidth=c+4,this.pyramidHeight=h*(u-l),r.valign="middle",r.x=h/2,r.y=i/2),r.verticalCenter="middle",r.horizontalCenter="middle",s.prototype.validateDataElements.call(this);var A,d;this.orientation=="vertical"?(this.valign=="bottom"&&(A=i-c),this.valign=="middle"&&(A=(i-c)/2),this.valign=="top"&&(A=0),this.align=="left"&&(d=-(e-h)/2),this.align=="center"&&(d=0),this.align=="right"&&(d=(e-h)/2),this.slices.template.dy=l*c,this.alignLabels&&(this.slicesContainer.dx=d)):(this.valign=="bottom"&&(A=(i-c)/2),this.valign=="middle"&&(A=0),this.valign=="top"&&(A=-(i-c)/2),this.align=="left"&&(d=0),this.align=="center"&&(d=(e-h)/2),this.align=="right"&&(d=e-h),this.slices.template.dx=l*h,this.alignLabels&&(this.slicesContainer.dy=A)),this.slicesContainer.x=d,this.labelsContainer.x=d,this.ticksContainer.x=d,this.slicesContainer.y=A,this.labelsContainer.y=A,this.ticksContainer.y=A,h>0&&c>0&&(this.slicesContainer.mask=r)},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},t.prototype.createDataItem=function(){return new Ww},Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},enumerable:!0,configurable:!0}),t.prototype.initSlice=function(e){s.prototype.initSlice.call(this,e);var i=e.states.getKey("hover");i&&(i.properties.expandDistance=0)},Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),t}(Ab);M.registeredClasses.PictorialStackedSeries=MD;M.registeredClasses.PictorialStackedSeriesDataItem=Ww;var Xp=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="Ellipse",e.element=e.paper.add("ellipse"),e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this),this.element.attr({rx:this.radius}),this.element.attr({ry:this.radiusY})},Object.defineProperty(t.prototype,"radiusY",{get:function(){return this.innerHeight/2},set:function(e){this.height=e*2,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.innerWidth/2},set:function(e){this.width=e*2,this.invalidate()},enumerable:!0,configurable:!0}),t}(en);M.registeredClasses.Ellipse=Xp;var zw=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="Cone",e.angle=30,e.radius=ue(100),e.topRadius=ue(100),e.top=e.createChild(Xp),e.top.shouldClone=!1,e.bottom=e.createChild(Xp),e.bottom.shouldClone=!1,e.body=e.createChild(ke),e.body.shouldClone=!1,e.body.setElement(e.paper.add("path")),e.layout="none",e.bodyFillModifier=new Dc,e.bodyFillModifier.lightnesses=[0,-.25,0],e.body.fillModifier=e.bodyFillModifier,e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this),Ni(this,this.top,Bi),Ni(this,this.bottom,Bi),Ni(this,this.body,Bi);var e=this.innerWidth,i=this.innerHeight,r=this.bottom,a=this.top,n=this.angle,o,l,u;this.orientation=="horizontal"?(o=i/2,r.y=i/2,r.x=0,a.y=i/2,a.x=e,l=(90-n)/90,u=0,this.bodyFillModifier.gradient.rotation=90):(l=0,u=(90-n)/90,o=e/2,r.y=i,r.x=e/2,a.x=e/2,this.bodyFillModifier.gradient.rotation=0);var h=this.radius.value*o,c=this.topRadius.value*o;r.radius=h-h*l,r.radiusY=h-h*u,a.radius=c-c*l,a.radiusY=c-c*u;var A;this.orientation=="horizontal"?A=_e({x:0,y:i/2-r.radiusY})+yr(-90,-180,r.radius,r.radiusY)+he({x:e,y:i/2+a.radiusY})+yr(90,180,a.radius,a.radiusY)+_i():A=_e({x:e/2-a.radius,y:0})+yr(180,-180,a.radius,a.radiusY)+he({x:e/2+r.radius,y:i})+yr(0,180,r.radius,r.radiusY)+_i(),this.body.path=A},Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topRadius",{get:function(){return this.getPropertyValue("topRadius")},set:function(e){this.setPropertyValue("topRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),t}(Fe);var fb=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="ConeColumn",e}return t.prototype.createAssets=function(){this.coneColumn=this.createChild(zw),this.coneColumn.shouldClone=!1,this.column=this.coneColumn},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.coneColumn&&this.coneColumn.copyFrom(e.coneColumn)},t}(tn);M.registeredClasses.ConeColumn=fb;var RD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="ConeSeriesDataItem",e.applyTheme(),e}return t}(cs);var UD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="ConeSeries",e.applyTheme(),e}return t.prototype.createColumnTemplate=function(){return new fb},t.prototype.getMaskPath=function(){var e=0,i=0,r=this.columns.getIndex(0);if(r)return this.baseAxis==this.xAxis?i=r.coneColumn.innerWidth/2+1:e=r.coneColumn.innerHeight/2+1,fn({x:-e,y:0,width:this.xAxis.axisLength+e,height:this.yAxis.axisLength+i})},t.prototype.validateDataElementReal=function(e){s.prototype.validateDataElementReal.call(this,e);var i=e.column;if(i){var r=e.column.coneColumn;r.fill=e.column.fill,this.baseAxis==this.yAxis?r.orientation="horizontal":r.orientation="vertical"}},t}(Fi);M.registeredClasses.ConeSeries=UD;M.registeredClasses.ConeSeriesDataItem=RD;var pb=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="CurvedColumn",e}return t.prototype.createAssets=function(){this.curvedColumn=this.createChild(ke),this.curvedColumn.shouldClone=!1,this.setPropertyValue("tension",.7),this.width=ue(120),this.height=ue(120),this.column=this.curvedColumn},t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.realWidth,i=this.realHeight,r=this.realX-this.pixelX,a=this.realY-this.pixelY,n;this.width;var o=1,l=1;this.orientation=="vertical"?(o=this.tension,n=[{x:0,y:i+a},{x:e/2,y:a},{x:e,y:i+a}]):(l=this.tension,i=Math.abs(i),n=[{x:r,y:i},{x:r+e,y:i/2},{x:r,y:0}]);var u=_e(n[0])+new mn(o,l).smooth(n);this.column.path=u},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.curvedColumn&&this.curvedColumn.copyFrom(e.curvedColumn)},Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),t}(tn);M.registeredClasses.CurvedColumn=pb;var VD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="CurvedColumnSeriesDataItem",e.applyTheme(),e}return t}(cs);var ND=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="CurvedColumnSeries",e.applyTheme(),e}return t.prototype.createColumnTemplate=function(){return new pb},t.prototype.validateDataElementReal=function(e){s.prototype.validateDataElementReal.call(this,e);var i=e.column;if(i=e.column,i){var r=e.column.curvedColumn;r.fill=e.column.fill,this.baseAxis==this.yAxis?i.orientation="horizontal":i.orientation="vertical"}},t}(Fi);M.registeredClasses.CurvedColumnSeries=ND;M.registeredClasses.CurvedColumnSeriesDataItem=VD;var QD=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="CircleBullet";var i=e.createChild(en);return i.shouldClone=!1,i.radius=5,i.isMeasured=!1,e.circle=i,e.applyTheme(),e}return t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.circle.copyFrom(e.circle)},t}(Rs);M.registeredClasses.CircleBullet=QD;var HD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="ErrorBullet",e.errorLine=e.createChild(ke),e.errorLine.shouldClone=!1,e.width=20,e.height=20,e.strokeOpacity=1,e.isDynamic=!0,e}return t.prototype.validatePosition=function(){s.prototype.validatePosition.call(this);var e=this.pixelWidth/2,i=this.pixelHeight/2;this.errorLine.path=_e({x:-e,y:-i})+he({x:e,y:-i})+_e({x:0,y:-i})+he({x:0,y:i})+_e({x:-e,y:i})+he({x:e,y:i})},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.errorLine.copyFrom(e.errorLine)},t}(Rs);M.registeredClasses.ErrorBullet=HD;var Wp=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="TextLink",e.selectable=!0;var i=new ze;e.fill=i.getFor("primaryButton").brighten(.3);var r=e.states.create("hover");r.properties.fill=i.getFor("primaryButtonHover").brighten(.3);var a=e.states.create("down");return a.properties.fill=i.getFor("primaryButtonDown").brighten(.3),e.cursorOverStyle=li.pointer,e.applyTheme(),e}return t}(Ei);M.registeredClasses.TextLink=Wp;var vA=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="Triangle",e.element=e.paper.add("path"),e.direction="top",e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.pixelWidth,i=this.pixelHeight,r;switch(this.direction){case"right":r=_e({x:0,y:0})+he({x:e,y:i/2})+he({x:0,y:i})+_i();break;case"left":r=_e({x:e,y:0})+he({x:0,y:i/2})+he({x:e,y:i})+_i();break;case"bottom":r=_e({x:0,y:0})+he({x:e,y:0})+he({x:e/2,y:i})+_i();break;case"top":r=_e({x:e/2,y:0})+he({x:e,y:i})+he({x:0,y:i})+_i();break}this.path=r},Object.defineProperty(t.prototype,"direction",{get:function(){return this.getPropertyValue("direction")},set:function(e){this.setPropertyValue("direction",e,!0)},enumerable:!0,configurable:!0}),t}(ke);M.registeredClasses.Triangle=vA;var jD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="NavigationBarDataItem",e.applyTheme(),e}return Object.defineProperty(t.prototype,"name",{get:function(){return this.properties.name},set:function(e){this.setProperty("name",e)},enumerable:!0,configurable:!0}),t}(Za);var XD=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="NavigationBar";var i=new ze,r=new Wp;r.valign="middle",r.paddingTop=8,r.paddingBottom=8,e.paddingBottom=2,e.links=new zt(r),e._disposers.push(new Tt(e.links)),e._disposers.push(r),e._linksIterator=new hc(e.links,function(){return e.links.create()}),e._linksIterator.createNewItems=!0;var a=new vA;a.direction="right",a.width=8,a.height=12,a.fill=i.getFor("alternativeBackground"),a.fillOpacity=.5,a.valign="middle",a.marginLeft=10,a.marginRight=10,e.separators=new zt(a),e._disposers.push(new Tt(e.separators)),e._disposers.push(a);var n=new Wp;return e.activeLink=n,n.copyFrom(r),n.valign="middle",n.fontWeight="bold",e.width=ue(100),e.layout="grid",e.dataFields.name="name",e.applyTheme(),e}return t.prototype.validateDataElements=function(){this.removeChildren(),this._linksIterator.reset(),s.prototype.validateDataElements.call(this)},t.prototype.validateDataElement=function(e){s.prototype.validateDataElement.call(this,e);var i;if(e.index<this.dataItems.length-1){i=this._linksIterator.getLast(),i.parent=this;var r=this.separators.create();r.parent=this,r.valign="middle"}else i=this.activeLink,i.events.copyFrom(this.links.template.events),i.hide(0),i.show(),i.parent=this;i.dataItem=e,i.text=e.name,i.validate()},t}(qa);M.registeredClasses.NavigationBar=XD;M.registeredClasses.NavigationBarDataItem=jD;var xA=function(s){N(t,s);function t(){var e=s.call(this)||this;e.point={x:0,y:0},e._stick="none",e.className="Cursor",e.width=ue(100),e.height=ue(100),e.shouldClone=!1,e.hide(0),e.trackable=!0,e.clickable=!0,e.isMeasured=!1;var i=at();return e._disposers.push(i.body.events.on("down",e.handleCursorDown,e)),e._disposers.push(i.body.events.on("up",e.handleCursorUp,e)),e._disposers.push(i.body.events.on("track",e.handleCursorMove,e)),e.applyTheme(),e}return t.prototype.handleCursorMove=function(e){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&e.touch)){if((this._generalBehavior!="zoom"&&this._generalBehavior!="pan"||!this.downPoint)&&!at().isLocalElement(e.pointer,this.paper.svg,this.uid)){(!this.isHidden||!this.isHiding)&&this.hide();return}var i=nl(e.pointer.point,this);return this._stick=="hard"&&this._stickPoint&&(i=this._stickPoint),this._stick=="soft"&&this._stickPoint&&(this.fitsToBounds(i)||(i=this._stickPoint)),this._adapterO&&this._adapterO.apply("cursorPoint",i),this.triggerMove(i),i}},t.prototype.hideReal=function(e){if(!((this._stick=="hard"||this._stick=="soft")&&this._stickPoint))return s.prototype.hideReal.call(this,e)},t.prototype.triggerMove=function(e,i,r){e.x=ve(e.x,1),e.y=ve(e.y,1),i&&(this._stick=i),(i=="hard"||i=="soft")&&(this._stickPoint=e),this.triggerMoveReal(e,r)},t.prototype.triggerMoveReal=function(e,i){(this.point.x!=e.x||this.point.y!=e.y||i)&&(this.point=e,this.invalidatePosition(),this.fitsToBounds(e)?this.show(0):this.downPoint||this.hide(0),this.visible&&(this.getPositions(),this.dispatch("cursorpositionchanged")))},t.prototype.triggerDown=function(e){this.triggerDownReal(e)},t.prototype.triggerDownReal=function(e){switch(this._generalBehavior){case"zoom":this.dispatchImmediately("zoomstarted");break;case"select":this.dispatchImmediately("selectstarted");break;case"pan":this.dispatchImmediately("panstarted"),at().setGlobalStyle(li.grabbing);break}},t.prototype.triggerUp=function(e){this.triggerUpReal(e)},t.prototype.triggerUpReal=function(e){Bt.requestFrame(),this.updatePoint(this.upPoint);var i=at();if(Et(this._upPointOrig,this._downPointOrig)>i.getHitOption(this.interactions,"hitTolerance")){switch(this._generalBehavior){case"zoom":this.dispatch("zoomended");break;case"select":this.dispatch("selectended");break;case"pan":this.dispatch("panended"),i.setGlobalStyle(li.default);break}this.downPoint=void 0,this.updateSelection()}},t.prototype.updateSelection=function(){},t.prototype.getPositions=function(){this.xPosition=this.point.x/this.innerWidth,this.yPosition=1-this.point.y/this.innerHeight},t.prototype.handleCursorDown=function(e){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&e.touch||!at().isLocalElement(e.pointer,this.paper.svg,this.uid))){bc();var i=nl(e.pointer.point,this);this._stick=="hard"&&this._stickPoint&&(i=this._stickPoint),this._adapterO&&this._adapterO.apply("cursorPoint",i),this.fitsToBounds(i)&&(this._downPointOrig={x:i.x,y:i.y},e.event.cancelable&&this.shouldPreventGestures(e.touch)&&this.fitsToBounds(i)&&e.event.preventDefault(),this.triggerMove(i),this.triggerDown(i))}},t.prototype.shouldPreventGestures=function(e){return!0},t.prototype.updatePoint=function(e){},t.prototype.handleCursorUp=function(e){if(this.interactionsEnabled&&!(!this.downPoint&&!at().isLocalElement(e.pointer,this.paper.svg,this.uid))){var i=nl(e.pointer.point,this);this._adapterO&&this._adapterO.apply("cursorPoint",i),!(!this.downPoint||!this.fitsToBounds(this.downPoint))&&(this._stick=="hard"&&this._stickPoint&&(i=this._stickPoint),this._upPointOrig={x:i.x,y:i.y},this.triggerMove(i),this.triggerUp(i))}},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e,V(this._chart.plotContainer)&&at().lockElement(this._chart.plotContainer.interactions)},enumerable:!0,configurable:!0}),t}(Fe);M.registeredClasses.Cursor=xA;var $c=function(s){N(t,s);function t(){var e=s.call(this)||this;e._lineX=new Ci,e._lineY=new Ci,e._xAxis=new Ci,e._yAxis=new Ci,e._snapToDisposers=[],e.className="XYCursor",e.behavior="zoomX",e.maxPanOut=.1;var i=new ze;e.snapOnPan=!0;var r=e.createChild(ke);r.shouldClone=!1,r.fillOpacity=.2,r.fill=i.getFor("alternativeBackground"),r.isMeasured=!1,r.visible=!1,r.interactionsEnabled=!1,e.selection=r,e._disposers.push(e.selection);var a=e.createChild(ke);a.shouldClone=!1,a.stroke=i.getFor("grid"),a.fill=Ve(),a.strokeDasharray="3,3",a.isMeasured=!1,a.strokeOpacity=.4,a.interactionsEnabled=!1,a.y=0,e.lineX=a,e._disposers.push(e.lineX);var n=e.createChild(ke);return n.shouldClone=!1,n.stroke=i.getFor("grid"),n.fill=Ve(),n.strokeDasharray="3,3",n.isMeasured=!1,n.strokeOpacity=.4,n.interactionsEnabled=!1,n.x=0,e.lineY=n,e._disposers.push(e.lineY),e.events.on("sizechanged",e.updateSize,e,!1),e._disposers.push(e._lineX),e._disposers.push(e._lineY),e._disposers.push(e._xAxis),e._disposers.push(e._yAxis),e.mask=e,e.hideSeriesTooltipsOnSelection=!0,e.applyTheme(),e}return t.prototype.updateSize=function(){this.lineX&&(this.lineX.path=_e({x:0,y:0})+he({x:0,y:this.innerHeight})),this.lineY&&(this.lineY.path=_e({x:0,y:0})+he({x:this.innerWidth,y:0}))},t.prototype.updateSelection=function(){if(this._usesSelection){var e=this.downPoint,i=this.behavior;if(e){var r=this.point;this.lineX&&(r.x=this.lineX.pixelX),this.lineY&&(r.y=this.lineY.pixelY);var a=this.selection,n=Math.min(r.x,e.x),o=Math.min(r.y,e.y),l=ve(Math.abs(e.x-r.x),this._positionPrecision),u=ve(Math.abs(e.y-r.y),this._positionPrecision);switch(i){case"zoomX":o=0,u=this.pixelHeight;break;case"zoomY":n=0,l=this.pixelWidth;break;case"selectX":o=0,u=this.pixelHeight;break;case"selectY":n=0,l=this.pixelWidth;break}a.x=n,a.y=o,a.path=Hy(l,u),a.validatePosition()}else this._generalBehavior!="select"&&this.selection.hide()}},t.prototype.fixPoint=function(e){return e.x=Math.max(0,e.x),e.y=Math.max(0,e.y),e.x=Math.min(this.pixelWidth,e.x),e.y=Math.min(this.pixelHeight,e.y),e},t.prototype.triggerMoveReal=function(e,i){s.prototype.triggerMoveReal.call(this,e,i);var r=this.snapToSeries;if(r&&!this.downPoint)if(r instanceof Zr)r.isHidden&&this.updateLinePositions(e);else{var a=!0;we(r,function(n){n.isHidden||(a=!1)}),a&&this.updateLinePositions(e)}else this.updateLinePositions(e);this.downPoint&&Et(this.downPoint,e)>3&&this._generalBehavior=="pan"&&(this.getPanningRanges(),this.dispatch("panning"))},t.prototype.updateLinePositions=function(e){e=this.fixPoint(this.point),this.lineX&&this.lineX.visible&&!this.xAxis&&(this.lineX.x=e.x),this.lineY&&this.lineY.visible&&!this.yAxis&&(this.lineY.y=e.y),this.updateSelection()},t.prototype.triggerDownReal=function(e){if(this.visible&&!this.isHiding)if(this._generalBehavior=="select"&&(this.selection.parent=this.parent),this.fitsToBounds(e)){this.downPoint={x:e.x,y:e.y},this.updatePoint(e),this.point.x=this.downPoint.x,this.point.y=this.downPoint.y;var i=this.selection,r=this.downPoint.x,a=this.downPoint.y;this._usesSelection&&(i.x=r,i.y=a,i.path="",i.show()),s.prototype.triggerDownReal.call(this,e)}else this.downPoint=void 0;else this.downPoint=void 0},t.prototype.updatePoint=function(e){this.lineX&&(e.x=this.lineX.pixelX),this.lineY&&(e.y=this.lineY.pixelY)},t.prototype.triggerUpReal=function(e){if(this.hasMoved())this.downPoint&&(this.upPoint=e,this.updatePoint(this.upPoint),this._generalBehavior!="pan"&&this.getRanges(),this._generalBehavior!="select"&&this.selection.hide(),s.prototype.triggerUpReal.call(this,e));else{if(this._generalBehavior!="select"?this.selection.hide(0):(this.xRange=void 0,this.yRange=void 0,this.dispatchImmediately("selectended")),this._generalBehavior=="pan"){var i=at();i.setGlobalStyle(li.default)}this.dispatchImmediately("behaviorcanceled")}this.downPoint=void 0,this.dispatch("cursorpositionchanged")},t.prototype.hasMoved=function(){var e;return this.behavior=="zoomX"||this.behavior=="panX"?e=fT(this._upPointOrig,this._downPointOrig):this.behavior=="zoomY"||this.behavior=="panY"?e=pT(this._upPointOrig,this._downPointOrig):e=Et(this._upPointOrig,this._downPointOrig),e>at().getHitOption(this.interactions,"hitTolerance")},t.prototype.getPanningRanges=function(){var e=ve(this.downPoint.x/this.innerWidth,5),i=1-ve(this.downPoint.y/this.innerHeight,5),r=ve(this.point.x/this.innerWidth,5),a=1-ve(this.point.y/this.innerHeight,5),n=e-r,o=i-a;this.xRange={start:n,end:1+n},this.yRange={start:o,end:1+o},this.behavior=="panX"&&(this.yRange.start=0,this.yRange.end=1),this.behavior=="panY"&&(this.xRange.start=0,this.xRange.end=1)},t.prototype.getRanges=function(){this.lineX&&(this.upPoint.x=this.lineX.pixelX),this.lineY&&(this.upPoint.y=this.lineY.pixelY),this.selection;var e=ve(this.downPoint.x/this.innerWidth,5),i=ve(this.upPoint.x/this.innerWidth,5),r=1-ve(this.downPoint.y/this.innerHeight,5),a=1-ve(this.upPoint.y/this.innerHeight,5);this.xRange={start:dt(e,i),end:st(e,i)},this.yRange={start:dt(r,a),end:st(r,a)}},Object.defineProperty(t.prototype,"behavior",{get:function(){return this.getPropertyValue("behavior")},set:function(e){this.setPropertyValue("behavior",e,!0),this._usesSelection=!1,e.indexOf("zoom")!=-1&&(this._generalBehavior="zoom",this._usesSelection=!0),e.indexOf("select")!=-1&&(this._generalBehavior="select",this._usesSelection=!0),e.indexOf("pan")!=-1&&(this._generalBehavior="pan",this._usesSelection=!1)},enumerable:!0,configurable:!0}),t.prototype.shouldPreventGestures=function(e){return(!this.interactions.isTouchProtected||!e)&&this.behavior!="none"},Object.defineProperty(t.prototype,"fullWidthLineX",{get:function(){return this.getPropertyValue("fullWidthLineX")},set:function(e){this.setPropertyValue("fullWidthLineX",e),e||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWidthLineY",{get:function(){return this.getPropertyValue("fullWidthLineY")},set:function(e){this.setPropertyValue("fullWidthLineY",e),e||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideSeriesTooltipsOnSelection",{get:function(){return this.getPropertyValue("hideSeriesTooltipsOnSelection")},set:function(e){this.setPropertyValue("hideSeriesTooltipsOnSelection",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxTooltipDistance",{get:function(){return this.getPropertyValue("maxTooltipDistance")},set:function(e){this.setPropertyValue("maxTooltipDistance",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(e){this.setPropertyValue("maxPanOut",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xAxis",{get:function(){return this._xAxis.get()},set:function(e){var i=this;this._xAxis.get()!=e&&this._xAxis.set(e,new Vt([e.tooltip.events.on("positionchanged",this.handleXTooltipPosition,this,!1),e.events.on("rangechangestarted",function(r){i.hide(0),i.preventShow=!0},void 0,!1),e.events.on("rangechangeended",function(r){i.preventShow=!1,i.hide(0),i.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yAxis",{get:function(){return this._yAxis.get()},set:function(e){var i=this;this._yAxis.get()!=e&&this._yAxis.set(e,new Vt([e.tooltip.events.on("positionchanged",this.handleYTooltipPosition,this,!1),e.events.on("rangechangestarted",function(r){i.hide(0),i.__disabled=!0},void 0,!1),e.events.on("rangechangeended",function(r){i.__disabled=!1,i.hide(0),i.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),t.prototype.handleXTooltipPosition=function(e){var i=this.xAxis.tooltip,r=Ps({x:i.pixelX,y:i.pixelY},this),a=r.x;if(r.y=1,this.lineX&&(this.lineX.x=a,this.fitsToBounds(r)||this.hide()),this.xAxis&&this.fullWidthLineX){var n=this.xAxis.currentItemStartPoint,o=this.xAxis.currentItemEndPoint;if(n&&o){this.lineX.x=a;var l=o.x-n.x;this.lineX.path=Hy(l,this.innerHeight,-l/2)}}},t.prototype.handleYTooltipPosition=function(e){var i=this.yAxis.tooltip,r=Ps({x:i.pixelX,y:i.pixelY},this),a=r.y;if(r.x=1,this.lineY&&(this.lineY.y=a,this.fitsToBounds(r)||this.hide()),this.yAxis&&this.fullWidthLineY){var n=this.yAxis.currentItemStartPoint,o=this.yAxis.currentItemEndPoint;if(n&&o){this.lineY.y=a;var l=o.y-n.y;this.lineY.path=Hy(this.innerWidth,l,0,-l/2)}}},Object.defineProperty(t.prototype,"lineX",{get:function(){return this._lineX.get()},set:function(e){e?(e.setElement(this.paper.add("path")),this._lineX.set(e,e.events.on("positionchanged",this.updateSelection,this,!1)),e.interactionsEnabled=!1,e.parent=this):this._lineX.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineY",{get:function(){return this._lineY.get()},set:function(e){e?(e.setElement(this.paper.add("path")),this._lineY.set(e,e.events.on("positionchanged",this.updateSelection,this,!1)),e.parent=this,e.interactionsEnabled=!1):this._lineY.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selection},set:function(e){this._selection=e,e&&(e.element=this.paper.add("path"),e.parent=this)},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){var i=this;if(e&&(V(e.xAxis)&&ut(e.xAxis)&&(this.map.hasKey(e.xAxis)?e.xAxis=this.map.getKey(e.xAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+e.xAxis+'" found for `xAxis`'),delete e.xAxis)),V(e.yAxis)&&ut(e.yAxis)&&(this.map.hasKey(e.yAxis)?e.yAxis=this.map.getKey(e.yAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+e.yAxis+'" found for `yAxis`'),delete e.yAxis)),V(e.snapToSeries))){var r=bi(e.snapToSeries)?e.snapToSeries:[e.snapToSeries],a=!1;we(r,function(n,o){ut(n)&&(i.map.hasKey(n)?r[o]=i.map.getKey(n):(i.processingErrors.push('[XYCursor] No series with id "'+n+'" found for `series`'),a=!0))}),a?delete e.snapToSeries:e.snapToSeries=r}s.prototype.processConfig.call(this,e)},Object.defineProperty(t.prototype,"snapToSeries",{get:function(){return this.getPropertyValue("snapToSeries")},set:function(e){var i=this;this.setPropertyValue("snapToSeries",e)&&(e instanceof Zr&&(e=[e]),this._snapToDisposers&&we(this._snapToDisposers,function(r){r.dispose()}),this._snapToDisposers=[],e&&we(e,function(r){i._snapToDisposers.push(r.events.on("tooltipshownat",function(){i.handleSnap(r)},void 0,!1))}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"snapOnPan",{get:function(){return this.getPropertyValue("snapOnPan")},set:function(e){this.setPropertyValue("snapOnPan",e)},enumerable:!0,configurable:!0}),t.prototype.handleSnap=function(e){if(!this.downPoint){var i=e.getTooltipX()+e.xAxis.pixelX,r=e.getTooltipY()+e.yAxis.pixelY,a=e.xAxis,n=e.yAxis;a&&a.renderer.opposite&&(r-=this.pixelHeight),this.point={x:i,y:r},this.getPositions();var o=i,l=r;i-=this.pixelWidth,n&&n.renderer.opposite&&(i+=this.pixelWidth);var u=e.tooltip,h=u.animationDuration,c=u.animationEasing;a instanceof Ne&&!(a instanceof Ct)&&n instanceof Ne&&!(n instanceof Ct)?(e.yAxis.showTooltipAtPosition(this.yPosition),e.xAxis.showTooltipAtPosition(this.xPosition)):(e.baseAxis==e.xAxis&&e.yAxis.showTooltipAtPosition(this.yPosition),e.baseAxis==e.yAxis&&e.xAxis.showTooltipAtPosition(this.xPosition)),this.lineY.x=i,this.lineX.y=r,this.xAxis||this.lineX.animate([{property:"x",to:o}],h,c),this.yAxis||this.lineY.animate([{property:"y",to:l}],h,c)}},t.prototype.dispose=function(){this.hide(0),s.prototype.dispose.call(this)},t}(xA);M.registeredClasses.XYCursor=$c;var WD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="RadarCursor",e.radius=ue(100),e.innerRadius=ue(0),e.applyTheme(),e.mask=void 0,e}return t.prototype.fitsToBounds=function(e){var i=Et(e);return i<this.truePixelRadius+1&&i>this.pixelInnerRadius-1},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),t.prototype.triggerMoveReal=function(e,i){(!this.xAxis||this.xAxis&&(!this.xAxis.cursorTooltipEnabled||this.xAxis.tooltip.disabled))&&this.updateLineX(this.point),(!this.yAxis||this.yAxis&&(!this.yAxis.cursorTooltipEnabled||this.yAxis.tooltip.disabled))&&this.updateLineY(this.point),this.updateSelection(),s.prototype.triggerMoveReal.call(this,e,i)},t.prototype.updateLineX=function(e){var i=this.pixelRadius,r=this.startAngle,a=this.endAngle,n=this.pixelInnerRadius;if(i>0&&I(r)&&I(a)&&I(n)){var o=dn(nr(e),r,a),l=void 0;if(this.lineX&&this.lineX.visible){if(this.lineX.moveTo({x:0,y:0}),this.xAxis&&this.fullWidthLineX){var u=this.xAxis.currentItemStartPoint,h=this.xAxis.currentItemEndPoint;if(u&&h){var c=dn(nr(u),r,a),A=dn(nr(h),r,a),d=A-c;r<a?d<0&&(d+=360):d>0&&(d-=360),o-=d/2,l=_e({x:n*Se(o),y:n*Be(o)})+he({x:i*Se(o),y:i*Be(o)})+yr(o,d,i)+he({x:n*Se(o+d),y:n*Be(o+d)})+yr(o+d,-d,n)}}l||(l=_e({x:n*Se(o),y:n*Be(o)})+he({x:i*Se(o),y:i*Be(o)})),this.lineX.path=l}}},t.prototype.updateLineY=function(e){if(this.lineY&&this.lineY.visible){var i=this.startAngle,r=this.endAngle,a=this.truePixelRadius,n=De(Et(e),0,this.truePixelRadius);if(I(n)&&I(i)){this.lineY.moveTo({x:0,y:0});var o=void 0,l=r-i;if(this.yAxis&&this.fullWidthLineY){var u=this.yAxis.currentItemStartPoint,h=this.yAxis.currentItemEndPoint;if(u&&h){var c=De(Et(u),0,a);n=De(Et(h),0,a),o=_e({x:n*Se(i),y:n*Be(i)})+yr(i,l,n),o+=_e({x:c*Se(r),y:c*Be(r)})+yr(r,-l,c)}}o||(o=_e({x:n*Se(i),y:n*Be(i)})+yr(i,r-i,n)),this.lineY.path=o}}},t.prototype.updateSelection=function(){if(this._usesSelection){var e=this.downPoint;if(e){var i=this.point,r=this.pixelRadius,a=this.truePixelRadius,n=this.pixelInnerRadius,o=Math.min(this.startAngle,this.endAngle),l=Math.max(this.startAngle,this.endAngle),u=dn(nr(e),o,l),h=dn(nr(i),o,l),c=Et(e);if(c<a){var A=De(Et(i),0,a);this._prevAngle=h;var d=_e({x:0,y:0}),f=Be(u),p=Se(u),m=Be(h),g=Se(h),y=this.behavior;y=="zoomX"||y=="selectX"?d+=he({x:r*p,y:r*f})+yr(u,h-u,r)+he({x:n*g,y:n*m})+yr(h,u-h,n):y=="zoomY"||y=="selectY"?d=_e({x:A*Se(o),y:A*Be(o)})+yr(o,l-o,A)+he({x:c*Se(l),y:c*Be(l)})+yr(l,o-l,c)+_i():y=="zoomXY"&&(d=_e({x:A*Se(u),y:A*Be(u)})+yr(u,h-u,A)+he({x:c*Se(h),y:c*Be(h)})+yr(h,u-h,c)+_i()),this.selection.path=d}this.selection.moveTo({x:0,y:0})}}},t.prototype.getPositions=function(){var e=this.chart;if(e){var i=this.pixelInnerRadius,r=this.truePixelRadius-i,a=this.startAngle,n=this.endAngle,o=dn(nr(this.point),a,n),l=(o-a)/(n-a);this.xPosition=l,this.yPosition=De((Et(this.point)-i)/r,0,1)}},t.prototype.updatePoint=function(e){},t.prototype.handleXTooltipPosition=function(e){if(this.xAxis.cursorTooltipEnabled){var i=this.xAxis.tooltip;this.updateLineX(Ps({x:i.pixelX,y:i.pixelY},this))}},t.prototype.handleYTooltipPosition=function(e){if(this.yAxis.cursorTooltipEnabled){var i=this.yAxis.tooltip;this.updateLineY(Ps({x:i.pixelX,y:i.pixelY},this))}},t.prototype.updateLinePositions=function(e){},t.prototype.getRanges=function(){var e=this.downPoint;if(e){var i=this.upPoint,r=this.chart;if(r){var a=this.pixelRadius,n=this.startAngle,o=this.endAngle,l=dn(nr(e),this.startAngle,this.endAngle),u=dn(nr(i),this.startAngle,this.endAngle),h=De(Et(e),0,a),c=De(Et(i),0,a),A=0,d=1,f=0,p=1,m=this.behavior;if(m=="zoomX"||m=="selectX"||m=="zoomXY"||m=="selectXY"){var g=o-n;A=ve((l-n)/g,5),d=ve((u-n)/g,5)}(m=="zoomY"||m=="selectY"||m=="zoomXY"||m=="selectXY")&&(f=ve(h/a,5),p=ve(c/a,5)),this.xRange={start:Math.min(A,d),end:Math.max(A,d)},this.yRange={start:Math.min(f,p),end:Math.max(f,p)},this.behavior=="selectX"||this.behavior=="selectY"||this.behavior=="selectXY"||this.selection.hide()}}},t.prototype.updateSize=function(){},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return or(this.radius,this.truePixelRadius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"truePixelRadius",{get:function(){return oi(ue(100),dt(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){var e=this.innerRadius;return e instanceof qe&&(e=ue(100*e.value*this.chart.innerRadiusModifyer)),or(e,this.truePixelRadius)||0},enumerable:!0,configurable:!0}),t.prototype.fixPoint=function(e){return e},t}($c);M.registeredClasses.RadarCursor=WD;var Gw;function nN(){return je(this,void 0,void 0,function*(){let s=yield Promise.all([import("./RJHL4W6B.js"),import("./53H3OG32.js")]),t=s[0].default,e=s[1].default,i=window;return i.pdfMake=i.pdfMake||{},i.pdfMake.vfs=e,t.vfs=e,t})}var mh=class extends ii{_afterNew(){super._afterNew(),this._setRawDefault("filePrefix","chart"),this._setRawDefault("charset","utf-8"),this._setRawDefault("numericFields",[]),this._setRawDefault("dateFields",[]),this._setRawDefault("durationFields",[]),this._setRawDefault("extraImages",[]),this._setRawDefault("pngOptions",{quality:1,maintainPixelRatio:!1}),this._setRawDefault("jpgOptions",{quality:.8,maintainPixelRatio:!1}),this._setRawDefault("printOptions",{quality:1,maintainPixelRatio:!1,delay:500,printMethod:"iframe",imageFormat:"png"}),this._setRawDefault("jsonOptions",{indent:2,renameFields:!0}),this._setRawDefault("csvOptions",{separator:",",addColumnNames:!0,emptyAs:"",addBOM:!0}),this._setRawDefault("htmlOptions",{emptyAs:"-",addColumnNames:!0}),this._setRawDefault("xlsxOptions",{emptyAs:"",addColumnNames:!0}),this._setRawDefault("pdfOptions",{fontSize:14,imageFormat:"png",align:"left",addURL:!0}),this._setRawDefault("pdfdataOptions",{emptyAs:"",addColumnNames:!0}),this._root.addDisposer(this)}_beforeChanged(){if(super._beforeChanged(),this.isDirty("menu")){let t=this.get("menu");t&&(t.set("exporting",this),this._disposers.push(t))}}_getFormatOptions(t,e){let i=Dn(this.get(t+"Options",{}));return e&&kt(e,(r,a)=>{i[r]=a}),i}download(t,e){return je(this,void 0,void 0,function*(){let i=t=="pdfdata"?"pdf":t,r=this.get("filePrefix","chart")+"."+i,a=this._getFormatOptions(t,e);this.events.dispatch("downloadstarted",{type:"downloadstarted",format:t,options:a,fileName:r,target:this});let n=yield this.export(t,a);this.streamFile(n,r,a&&a.addBOM)})}print(t){return je(this,void 0,void 0,function*(){let e=this._getFormatOptions("print",t);this.events.dispatch("printstarted",{type:"printstarted",format:"print",options:e,target:this});let i=yield this.export(e.imageFormat||"png",e);this.initiatePrint(i,e,this.get("title"))})}export(t,e){return je(this,void 0,void 0,function*(){let i=this._getFormatOptions(t,e);this.events.dispatch("exportstarted",{type:"exportstarted",format:t,options:i,target:this});let r="";switch(t){case"png":case"jpg":this._root._runTickerNow(),r=this.exportImage(t,i);break;case"json":r=this.exportJSON(i);break;case"csv":r=this.exportCSV(i);break;case"html":r=this.exportHTML(i);break;case"xlsx":r=this.exportXLSX(i);break;case"pdf":this._root._runTickerNow(),r=this.exportPDF(i);break;case"pdfdata":r=this.exportPDFData(i);break}return this.events.dispatch("exportfinished",{type:"exportfinished",format:t,options:i,target:this}),r})}exportImage(t,e){return je(this,void 0,void 0,function*(){let i=this._getFormatOptions(t,e),r=yield this.getCanvas(i),a=r.toDataURL(this.getContentType(t),i.quality||1);return this.disposeCanvas(r),a})}exportCanvas(t){return je(this,void 0,void 0,function*(){let e=this._getFormatOptions("canvas",t),i=yield this.getCanvas(e),r=i.toDataURL(this.getContentType("canvas"),e.quality||1);return this.disposeCanvas(i),r})}getCanvas(t){return je(this,void 0,void 0,function*(){let e=this._root._renderer.getCanvas(this._root._rootContainer._display,t),i=this.get("extraImages",[]),r=0,a=0,n=e.width,o=e.height,l=0,u=0,h=[];Z(i,x=>{let C;x instanceof qh?C={source:x,position:"bottom"}:C=x,C.position=C.position||"bottom",C.marginTop=C.marginTop||0,C.marginRight=C.marginRight||0,C.marginBottom=C.marginBottom||0,C.marginLeft=C.marginLeft||0;let S=C.source._renderer.getCanvas(C.source._rootContainer._display,t),P=S.width+C.marginLeft+C.marginRight,F=S.height+C.marginTop+C.marginBottom;C.position=="top"?(n=C.crop?o:Math.max(n,P),a+=F):C.position=="right"?(o=C.crop?o:Math.max(o,F),l+=P):C.position=="left"?(o=C.crop?o:Math.max(o,F),r+=P):C.position==="bottom"&&(n=C.crop?o:Math.max(n,P),u+=F),h.push({canvas:S,position:C.position,left:C.marginLeft,top:C.marginTop,width:P,height:F})});let c=this.getDisposableCanvas();c.width=r+n+l,c.height=a+o+u;let A=c.getContext("2d"),d=this.get("backgroundColor",this.findBackgroundColor(this._root.dom)),f=this.get("backgroundOpacity",1);d&&(A.fillStyle=d.toCSS(f),A.fillRect(0,0,c.width,c.height));let p=r,m=a,g=p+n,y=m+o;return Z(h,x=>{x.position=="top"?(m-=x.height,A.drawImage(x.canvas,r+x.left,m+x.top)):x.position=="right"?(A.drawImage(x.canvas,g+x.left,a+x.top),g+=x.width):x.position=="left"?(p-=x.width,A.drawImage(x.canvas,p+x.left,a+x.top)):x.position==="bottom"&&(A.drawImage(x.canvas,r+x.left,y+x.top),y+=x.height)}),A.drawImage(e,r,a),c})}exportJSON(t){return je(this,void 0,void 0,function*(){return"data:"+this.getContentType("json")+";"+this.get("charset","utf-8")+","+encodeURIComponent(yield this.getJSON(t))})}getJSON(t){return je(this,void 0,void 0,function*(){let e=this._getFormatOptions("json",t);return JSON.stringify(this.getData("json",t,e.renameFields),(i,r)=>(Fn(r)&&kt(r,(a,n)=>{r[a]=this.convertToSpecialFormat(a,n,e)}),r),e.indent)})}exportCSV(t){return je(this,void 0,void 0,function*(){return"data:"+this.getContentType("csv")+";"+this.get("charset","utf-8")+","+encodeURIComponent(yield this.getCSV(t))})}getCSV(t){return je(this,void 0,void 0,function*(){let e=this._getFormatOptions("csv",t),i="",r="",a=this.getData("csv",e),n=this.getDataFields(a);if(e.pivot){let o=this.get("dataFieldsOrder",[]);$l(n,(l,u)=>{let h=[];e.addColumnNames&&h.push(u);for(let c=a.length,A=0;A<c;A++){let d=a[A][l];h.push(this.convertToSpecialFormat(l,d,e,!0))}i+=r+this.getCSVRow(h,e,void 0,!0),r=`
`},(l,u)=>{let h=o.indexOf(l),c=o.indexOf(u);return h>c?-1:h<c?1:0})}else{for(let o=a.length,l=0;l<o;l++){let u=this.getCSVRow(a[l],e,n);e.reverse?i=u+r+i:i+=r+u,r=`
`}e.addColumnNames&&(i=this.getCSVRow(n,e,void 0,!0)+r+i)}return i})}getCSVRow(t,e,i,r=!1){let a=e.separator||",",n=[];i||(i={},kt(t,(l,u)=>{i[l]=u}));let o=this.get("dataFieldsOrder",[]);return $l(i,(l,u)=>{let h=this.convertEmptyValue(l,t[l],e),c=r?h:this.convertToSpecialFormat(l,h,e);c=""+c,c=c.replace(/"/g,'""'),(e.forceQuotes||c.search(new RegExp(`"|
|`+a,"g"))>=0)&&(c='"'+c+'"'),n.push(c)},(l,u)=>{let h=o.indexOf(l),c=o.indexOf(u);return h>c?1:h<c?-1:0}),n.join(a)}exportHTML(t){return je(this,void 0,void 0,function*(){return"data:"+this.getContentType("html")+";"+this.get("charset","utf-8")+","+encodeURIComponent(yield this.getHTML(t))})}getHTML(t){return je(this,void 0,void 0,function*(){let e=this._getFormatOptions("html",t),i="<table>";e.tableClass&&(i='<table class="'+e.tableClass+'">');let r=this.getData("html",e),a=this.getDataFields(r);if(e.pivot){let n=this.get("dataFieldsOrder",[]);i+=`
<tbody>`,$l(a,(o,l)=>{let u=[];e.addColumnNames&&u.push(l);for(let h=r.length,c=0;c<h;c++){let A=r[c][o];u.push(this.convertToSpecialFormat(o,A,e,!0))}i+=`
`+this.getHTMLRow(u,e,void 0,!0)},(o,l)=>{let u=n.indexOf(o),h=n.indexOf(l);return u>h?-1:u<h?1:0}),i+=`
</tbody>`}else{e.addColumnNames&&(i+=`
<thead>
`+this.getHTMLRow(a,e,void 0,!0,!0)+`
</thead>`),i+=`
<tbody>`;for(let n=r.length,o=0;o<n;o++)i+=`
`+this.getHTMLRow(r[o],e,a);i+=`
</tbody>`}return i+=`
</table>`,i})}getHTMLRow(t,e,i,r=!1,a=!1){let n="	<tr>";e.rowClass&&(n='	<tr class="'+e.rowClass+'">'),i||(i=t);let o=this.get("dataFieldsOrder",[]),l=a?"th":"td",u=!0;return $l(i,(h,c)=>{let A=this.convertEmptyValue(h,t[h],e),d=r?A:this.convertToSpecialFormat(h,A,e);d=""+d,d=d.replace(/[\u00A0-\u9999<>\&]/gim,function(p){return"&#"+p.charCodeAt(0)+";"});let f=l;e.pivot&&u&&(f="th"),e.cellClass?n+=`
		<`+f+' class="'+e.cellClass+'">'+d+"</"+f+">":n+=`
		<`+f+">"+d+"</"+f+">",u=!1},(h,c)=>{let A=o.indexOf(h),d=o.indexOf(c);return A>d?1:A<d?-1:0}),n+=`
	</tr>`,n}exportXLSX(t){return je(this,void 0,void 0,function*(){return"data:"+this.getContentType("xlsx")+";"+this.get("charset","utf-8")+","+encodeURIComponent(yield this.getXLSX(t))})}getXLSX(t){return je(this,void 0,void 0,function*(){let e=this._getFormatOptions("xlsx",t),i=yield this.getXLSXLib(),r={bookType:"xlsx",bookSST:!1,type:"base64"},a=this._normalizeExcelSheetName(this.get("title",this._t("Data"))),n={SheetNames:[a],Sheets:{}},o=[],l=this.getData("html",e),u=this.getDataFields(l);if(e.pivot){let h=this.get("dataFieldsOrder",[]);$l(u,(c,A)=>{let d=[];e.addColumnNames&&d.push(A);for(let f=l.length,p=0;p<f;p++){let m=l[p][c];d.push(this.convertToSpecialFormat(c,m,e,!0))}o.push(this.getXLSXRow(d,e,void 0,!0))},(c,A)=>{let d=h.indexOf(c),f=h.indexOf(A);return d>f?1:d<f?-1:0})}else{e.addColumnNames&&o.push(this.getXLSXRow(u,e,void 0,!0));for(let h=l.length,c=0;c<h;c++)o.push(this.getXLSXRow(l[c],e,u))}return n.Sheets[a]=i.utils.aoa_to_sheet(o),this.events.dispatch("workbookready",{type:"workbookready",format:"xlsx",options:e,workbook:n,workbookOptions:r,xlsx:i,target:this}),i.write(n,r)})}_normalizeExcelSheetName(t){return t=t.replace(/([:\\\/?*\[\]]+)/g," "),t.length>30?t.substr(0,30)+"...":t}getXLSXRow(t,e,i,r=!1){let a=[];i||(i=t);let n=this.get("dataFieldsOrder",[]);return $l(i,(o,l)=>{let u=this.convertEmptyValue(o,t[o],e),h=r?u:this.convertToSpecialFormat(o,u,e,!0);a.push(h)},(o,l)=>{let u=n.indexOf(o),h=n.indexOf(l);return u>h?1:u<h?-1:0}),a}_xlsx(){return je(this,void 0,void 0,function*(){return yield import("./NFRLRRRB.js")})}getXLSXLib(){return this._xlsx()}exportPDF(t){return je(this,void 0,void 0,function*(){return"data:"+this.getContentType("pdf")+";"+this.get("charset","utf-8")+","+encodeURIComponent(yield this.getPDF(t,!0))})}exportPDFData(t){return je(this,void 0,void 0,function*(){return"data:"+this.getContentType("pdf")+";"+this.get("charset","utf-8")+","+encodeURIComponent(yield this.getPDF(t,!1,!0))})}getPDF(t,e=!0,i=!1){return je(this,void 0,void 0,function*(){let r=this._getFormatOptions("pdf",t),a=this._getFormatOptions("pdfdata",t),n=r.pageOrientation||"portrait",o,l={width:0,height:0};if(e){let g=r.imageFormat||"png",y=this._getFormatOptions(g,r),x=yield this.getCanvas(y);l.width=x.clientWidth,l.height=x.clientHeight,o=x.toDataURL(this.getContentType(g),r.quality||1),this.disposeCanvas(x)}let u=yield this.getPdfmake(),h=[30,30,30,30],c={pageSize:r.pageSize||"A4",pageOrientation:n,pageMargins:r.pageMargins||h,defaultStyle:{font:r.font?r.font.name:void 0},content:[]},A=this.get("title"),d=0;if(A&&(c.content.push({text:A,fontSize:r.fontSize||14,bold:!0,margin:[0,0,0,15]}),d+=50),r.addURL&&(c.content.push({text:this._t("Saved from")+": "+document.location.href,fontSize:r.fontSize,margin:[0,0,0,15]}),d+=50),e&&o){let g=this.getPageSizeFit(c.pageSize,c.pageMargins,d,n);l.width>g[0]||l.height>g[1]?c.content.push({image:o,alignment:r.align||"left",fit:g}):c.content.push({image:o,alignment:r.align||"left"})}(i||r.includeData)&&this.hasData()&&c.content.push({table:yield this.getPDFData(a),fontSize:r.fontSize||14});let f=null,p=null;function m(g){let y={};y.normal=g.normal.path,p[g.normal.path]=g.normal.bytes,g.bold?(y.bold=g.bold.path,p[g.bold.path]=g.bold.bytes):y.bold=g.normal.path,g.italics?(y.italics=g.italics.path,p[g.italics.path]=g.italics.bytes):y.italics=g.normal.path,g.bolditalics?(y.bolditalics=g.bolditalics.path,p[g.bolditalics.path]=g.bolditalics.bytes):y.bolditalics=g.normal.path,f[g.name]=y}return r.font&&(f={},p={},m(r.font),r.extraFonts&&Z(r.extraFonts,m)),this.events.dispatch("pdfdocready",{type:"pdfdocready",format:"pdf",options:r,doc:c,target:this}),new Promise((g,y)=>{u.createPdf(c,null,f,p).getBase64(x=>{g(x)})})})}getPDFData(t){return je(this,void 0,void 0,function*(){let e=this._getFormatOptions("pdfdata",t),i={body:[]},r=this.getData("html",e),a=this.getDataFields(r);if(e.pivot){let n=this.get("dataFieldsOrder",[]);$l(a,(o,l)=>{let u=[];e.addColumnNames&&u.push(l);for(let h=r.length,c=0;c<h;c++){let A=r[c][o];u.push(this.convertToSpecialFormat(o,A,e,!0))}i.body.push(this.getPDFDataRow(u,e,void 0,!0))},(o,l)=>{let u=n.indexOf(o),h=n.indexOf(l);return u>h?1:u<h?-1:0})}else{e.addColumnNames&&(i.body.push(this.getPDFDataRow(a,e,void 0,!0)),i.headerRows=1);for(let n=r.length,o=0;o<n;o++)i.body.push(this.getPDFDataRow(r[o],e,a))}return i})}getPDFDataRow(t,e,i,r=!1){let a=[];i||(i=t);let n=this.get("dataFieldsOrder",[]);return $l(i,(o,l)=>{let u=this.convertEmptyValue(o,t[o],e),h=r?u:this.convertToSpecialFormat(o,u,e);h=""+h,a.push(h)},(o,l)=>{let u=n.indexOf(o),h=n.indexOf(l);return u>h?1:u<h?-1:0}),a}getPdfmake(){return Gw===void 0&&(Gw=nN()),Gw}getPageSizeFit(t,e,i=0,r="portrait"){let a=[0,0,0,0];ee(e)?a=[e,e,e,e]:e.length==2?a=[e[0],e[1],e[0],e[1]]:e.length==4&&(a=e);let o={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]}[t];return r=="landscape"&&o.reverse(),o[0]-=a[0]+a[2],o[1]-=a[1]+a[3]+i,o}hasData(){let t=this.get("dataSource");return!!(_g(t)&&t.length)}getData(t,e,i=!1){let r=this._getFormatOptions(t,e),a=this.get("dataSource",[]),n=a,o=this.get("dataFields");o&&_g(a)&&(n=[],Z(a,u=>{if(Fn(u)){let h={};kt(o,(c,A)=>{o[c]!=null&&(h[i?A:c]=this.convertToSpecialFormat(c,u[c],r))}),n.push(h)}}));let l={type:"dataprocessed",format:t,options:r,data:n,target:this};return this.events.dispatch("dataprocessed",l),l.data}getDataFields(t){let e=this.get("dataFields");return e||(e={},_g(t)&&t.length&&Z(t,i=>{kt(i,(r,a)=>{e[r]==null&&(e[r]=r)})})),e}convertEmptyValue(t,e,i){return e??i.emptyAs}convertToSpecialFormat(t,e,i,r){if(typeof e=="number")if(this.isDateField(t))e=new Date(e);else{if(this.isNumericField(t)&&this.get("numberFormat"))return this._root.numberFormatter.format(e,this.get("numberFormat"));if(this.isDurationField(t))return this._root.durationFormatter.format(e,this.get("durationFormat"),this.get("durationUnit"))}return e instanceof Date&&(i.useTimestamps?e=e.getTime():i.useLocale?r||(e=e.toLocaleString()):e=this._root.dateFormatter.format(e,this.get("dateFormat"))),e}isDateField(t){return this.get("dateFields").indexOf(t)!==-1}isNumericField(t){return this.get("numericFields").indexOf(t)!==-1}isDurationField(t){return this.get("durationFields").indexOf(t)!==-1}getContentType(t){let e="";switch(t){case"png":e="image/"+t;break;case"jpg":e="image/jpeg";break;case"csv":e="text/csv";break;case"json":e="application/json";break;case"html":e="text/html";break;case"pdf":case"pdfdata":e="application/pdf";break;case"xlsx":e="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;default:e="application/octet-stream"}return e}getDisposableCanvas(){let t=document.createElement("canvas");return t.style.position="fixed",t.style.top="-10000px",this._root.dom.appendChild(t),t}disposeCanvas(t){this._root.dom.removeChild(t)}findBackgroundColor(t){let e=1,i=getComputedStyle(t,"background-color").getPropertyValue("background-color");if((i.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||i=="transparent")&&(e=0),e==0){let r=t.parentElement;return r?this.findBackgroundColor(r):rt.fromHex(16777215)}else return rt.fromCSS(i)}streamFile(t,e,i=!1){if(this.blobDownloadSupport()){let r=document.createElement("a");r.download=e,document.body.appendChild(r);let a=t.split(";"),n=a.shift().replace(/data:/,"");if(t=decodeURIComponent(a.join(";").replace(/^[^,]*,/,"")),["image/svg+xml","application/json","text/csv","text/html"].indexOf(n)==-1)try{t=atob(t)}catch{return!1}else{i&&(t="\uFEFF"+t);let h=new Blob([t],{type:n}),c=window.URL.createObjectURL(h);return r.href=c,r.download=e,r.click(),setTimeout(()=>{document.body.removeChild(r),window.URL.revokeObjectURL(c)},100),!0}let o=new Array(t.length);for(let h=0;h<t.length;++h){let c=t.charCodeAt(h);o[h]=c}i&&(o=[239,187,191].concat(o));let l=new Blob([new Uint8Array(o)],{type:n}),u=window.URL.createObjectURL(l);r.href=u,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(()=>{window.URL.revokeObjectURL(u)},100)}else if(this.linkDownloadSupport()){let r=document.createElement("a");r.download=e,r.href=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}else window.location.href=t;return!0}downloadSupport(){return this.linkDownloadSupport()}linkDownloadSupport(){return typeof document.createElement("a").download<"u"}blobDownloadSupport(){return window.Blob!=null}initiatePrint(t,e,i){let r=this._getFormatOptions("print",e);r.printMethod=="css"?this._printViaCSS(t,r,i):this._printViaIframe(t,r,i)}_printViaCSS(t,e,i){let a=this._getFormatOptions("print",e).delay||500,n=document.documentElement.scrollTop||document.body.scrollTop,o=new Nr(Mf(this._root.dom),"body > *",{display:"none",position:"fixed",visibility:"hidden",opacity:"0",clipPath:"polygon(0px 0px,0px 0px,0px 0px,0px 0px);"},this._root.nonce),l=new Nr(Mf(this._root.dom),"body",{padding:"0",margin:"0"},this._root.nonce),u;i&&document&&document.title&&(u=document.title,document.title=i);let h=new Image;h.src=t,h.style.maxWidth="100%",h.style.display="block",h.style.position="relative",h.style.visibility="visible",h.style.opacity="1",h.style.clipPath="none",document.body.appendChild(h),this.setTimeout(()=>{window.print()},50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&a<1e3?a=1e3:a<100&&(a=100),this.setTimeout(()=>{document.body.removeChild(h),o.dispose(),l.dispose(),u&&(document.title=document.title),document.documentElement.scrollTop=document.body.scrollTop=n},a||500)}_printViaIframe(t,e,i){let a=this._getFormatOptions("print",e).delay||500,n=document.createElement("iframe");n.style.visibility="hidden",document.body.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.close();let o=new Image;o.src=t,o.style.maxWidth="100%",o.style.height="auto",i&&(n.contentWindow.document.title=i),n.contentWindow.document.body.appendChild(o),n.load=function(){n.contentWindow.document.body.appendChild(o)},this.setTimeout(()=>{try{n.contentWindow.document.execCommand("print",!1,null)||n.contentWindow.print()}catch{n.contentWindow.print()}},a||50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&a<1e3?a=1e3:a<100&&(a=100),this.setTimeout(()=>{document.body.removeChild(n)},a+50||100)}supportedFormats(){let t=[],e=this.hasData(),i=this.downloadSupport();return Z(["png","jpg","canvas","pdf","xlsx","csv","json","html","pdfdata","print"],r=>{this._getFormatOptions(r).disabled!==!0&&(["xlsx","csv","json","html","pdfdata"].indexOf(r)==-1||e&&i)&&t.push(r)}),t}supportedExportTypes(){let t=["image","print"];return this.downloadSupport()&&this.hasData()&&t.push("data"),t}};Object.defineProperty(mh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Exporting"});Object.defineProperty(mh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ii.classNames.concat([mh.className])});var zD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="Image",e.element=e.paper.add("image"),e.applyTheme(),e.width=50,e.height=50,e}return t.prototype.draw=function(){if(s.prototype.draw.call(this),this.href){var e=this.innerWidth,i=this.innerHeight;I(this.widthRatio)&&(e=i*this.widthRatio,this.width=e),I(this.heightRatio)&&(i=e*this.heightRatio,this.height=i),this.element.attr({width:e,height:i}),this.element.attrNS(rA,"xlink:href",this.href)}},Object.defineProperty(t.prototype,"href",{get:function(){return this.getPropertyValue("href")},set:function(e){this.setPropertyValue("href",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widthRatio",{get:function(){return this.getPropertyValue("widthRatio")},set:function(e){this.setPropertyValue("widthRatio",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heightRatio",{get:function(){return this.getPropertyValue("heightRatio")},set:function(e){this.setPropertyValue("heightRatio",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bbox",{get:function(){return{x:0,y:0,width:this.pixelWidth,height:this.pixelHeight}},enumerable:!0,configurable:!0}),t}(ke);M.registeredClasses.Image=zD;var GD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="Polyarc",e.controlPointDistance=.5,e.controlPointPosition=.5,e.applyTheme(),e}return t.prototype.makePath=function(){this._distance=0;var e=this.segments;if(e&&e.length>0){var i="";this._realSegments=[];for(var r=0,a=e.length;r<a;r++){var n=e[r],o=[];if(this._realSegments.push(o),n.length>0){i+=_e(n[0]);for(var l=1;l<n.length;l++){var u=n[l-1],h=n[l],c=Et(h,u),A=c*this.controlPointDistance,d=this.controlPointPosition,f=-nr(u,h),p=u.x+(h.x-u.x)*d*.5-A*Be(f),m=u.y+(h.y-u.y)*d*.5-A*Se(f),g={x:p,y:m},y=u.x+(h.x-u.x)*d*1.5-A*Be(f),x=u.y+(h.y-u.y)*d*1.5-A*Se(f),C={x:y,y:x};i+=Zl(h,g,C);var S=Math.ceil(c),P=u;if(S>0)for(var F=0;F<=S;F++){var O=qf(u,h,g,C,F/S);o.push(O),this._distance+=Et(P,O),P=O}else o.push(u)}}}this.path=i}},Object.defineProperty(t.prototype,"controlPointPosition",{get:function(){return this.getPropertyValue("controlPointPosition")},set:function(e){this.setPropertyValue("controlPointPosition",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(e){this.setPropertyValue("controlPointDistance",e),this.makePath()},enumerable:!0,configurable:!0}),t}(iu);M.registeredClasses.Polyarc=GD;var Yw=function(s){N(t,s);function t(e){var i=s.call(this)||this;return i._bboxes=[],i.morphDuration=800,i.morphEasing=Vn,i.morphToSingle=!0,i.scaleRatio=1,i.className="Morpher",i.morphable=e,i.applyTheme(),i}return t.prototype.morphToPolygon=function(e,i,r){var a=this.morphable.currentPoints;if(a&&e){this.sortPoints(a),this.sortPoints(e),this._morphFromPointsReal=[],this._morphToPointsReal=[],V(i)||(i=this.morphDuration),V(r)||(r=this.morphEasing),this._morphFromPointsReal=this.normalizePoints(e,a),this._morphToPointsReal=this.normalizePoints(a,e),this.morphable.currentPoints=this._morphFromPointsReal;var n=new gs(this,{property:"morphProgress",from:0,to:1},i,r);return this._disposers.push(n),n.start(),n}},t.prototype.normalizePoints=function(e,i){for(var r=0,a=e.length;r<a;r++){var n=e[r][0],o=e[r][1],l=fi(Ud(n)),u=l.x+l.width,h=l.y+l.height;if(i[r]||(i[r]=[]),n&&!i[r][0]&&(i[r][0]=[{x:u,y:h},{x:u,y:h}]),i[r][0]){i[r][0]=this.addPoints(i[r][0],n.length);for(var c=1/0,A=0,d=0;d<i[r][0].length;d++){var f=Et(i[r][0][d],n[0]);f<c&&(A=d,c=f)}var p=i[r][0].slice(0,A),m=i[r][0].slice(A);i[r][0]=m.concat(p)}o&&(i[r][1]||(i[r][1]=[{x:u,y:h},{x:u,y:h}]),i[r][1]=this.addPoints(i[r][1],o.length))}return i},t.prototype.sortPoints=function(e){e.sort(function(o,l){var u=fi(Ud(o[0])),h=fi(Ud(l[0]));return u.width*u.height>h.width*h.height?-1:1});for(var i=[],r=0,a=e.length;r<a;r++){var n=e[r][0];n&&i.push(fi(Ud(n)))}return rl(i)},t.prototype.morphToCircle=function(e,i,r){var a=this.morphable.points,n=this.sortPoints(a);this._morphFromPointsReal=[],this._morphToPointsReal=[],V(i)||(i=this.morphDuration),V(r)||(r=this.morphEasing);for(var o=0,l=a.length;o<l;o++){var u=a[o][0],h=a[o][1];if(this._morphFromPointsReal[o]=[],this._morphToPointsReal[o]=[],u){var c=u,A=u,d=fi(Ud(A));this.morphToSingle&&(d=fi(n));var f=d.x+d.width/2,p=d.y+d.height/2,m=e;I(m)||(m=Math.min(d.width/2,d.height/2)),c=[];var g=nr({x:f,y:p},u[0]),y=100;u.length>y&&(y=u.length),A=this.addPoints(u,y),y=A.length;for(var x=360/(y-1),C=0;C<y;C++){var S=x*C+g,P={x:f+m*Se(S),y:p+m*Be(S)};c[C]=P}if(h&&h.length>0)for(var F=0,O=h.length;F<O;F++)c.push({x:f,y:p});this._morphFromPointsReal[o][0]=A,this._morphToPointsReal[o][0]=c}}this.morphable.currentPoints=this._morphFromPointsReal;var $=new gs(this,{property:"morphProgress",from:0,to:1},i,r);return this._disposers.push($),$.start(),$},t.prototype.addPoints=function(e,i){for(var r=Math.round(i/e.length),a=[],n=0,o=e.length;n<o;n++){var l=e[n],u=void 0;n==e.length-1?u=e[0]:u=e[n+1],a.push(l);for(var h=1;h<r;h++){var c=h/r,A={x:l.x+(u.x-l.x)*c,y:l.y+(u.y-l.y)*c};a.push(A)}a.length+e.length-n==i&&(r=0)}if(a.length<i&&e.length>0)for(var d=e[e.length-1],h=a.length;h<i;h++)a.push({x:d.x,y:d.y});return a},t.prototype.morphToRectangle=function(e,i,r,a){var n=this.morphable.points;this.sortPoints(n),this._morphFromPointsReal=[],this._morphToPointsReal=[],V(r)||(r=this.morphDuration),V(a)||(a=this.morphEasing);for(var o=0,l=n.length;o<l;o++){var u=n[o][0],h=n[o][1];if(this._morphFromPointsReal[o]=[],this._morphToPointsReal[o]=[],u){var c=u,A=u,d=this._bboxes[o];this.morphToSingle;var f=d.x,p=d.y,m=e,g=i;if(I(m)||(m=d.width),I(g)||(g=d.height),c=[{x:f,y:p},{x:f+m,y:p},{x:f+m,y:p+g},{x:f,y:p+g}],c=this.addPoints(c,u.length),u.length<4)for(var y=u.length;y<4;y++)c.push({x:u[y].x,y:u[y].y});if(h&&h.length>0)for(var x=d.x+d.width/2,C=d.y+d.height/2,S=0,P=h.length;S<P;S++)c.push({x,y:C});this._morphFromPointsReal[o][0]=A,this._morphToPointsReal[o][0]=c}}this.morphable.currentPoints=this._morphFromPointsReal;var F=new gs(this,{property:"morphProgress",from:0,to:1},r,a);return this._disposers.push(F),F.start(),F},Object.defineProperty(t.prototype,"morphProgress",{get:function(){return this._morphProgress},set:function(e){this._morphProgress=e;var i=[];if(e!=null){var r=this._morphFromPointsReal,a=this._morphToPointsReal;if(r!=null&&a!=null)for(var n=0,o=r.length;n<o;n++){var l=[];i.push(l);var u=r[n][0],h=r[n][1],c=a[n][0],A=a[n][1];if(u&&u.length>0&&c&&c.length>0){for(var d=[],f=0,p=u.length;f<p;f++){var m=u[f],g=c[f],y={x:m.x+(g.x*this.scaleRatio-m.x)*e,y:m.y+(g.y*this.scaleRatio-m.y)*e};d.push(y)}l[0]=d}if(h&&h.length>0&&A&&A.length>0){for(var x=[],C=0,S=h.length;C<S;C++){var m=h[C],g=A[C],y={x:m.x+(g.x*this.scaleRatio-m.x)*e,y:m.y+(g.y*this.scaleRatio-m.y)*e};x.push(y)}l[1]=x}}}this.morphable.currentPoints=i},enumerable:!0,configurable:!0}),t.prototype.morphBack=function(e,i){this._morphToPointsReal=this._morphFromPointsReal,this._morphFromPointsReal=this.morphable.currentPoints,V(e)||(e=this.morphDuration),V(i)||(i=this.morphEasing);var r=new gs(this,{property:"morphProgress",from:0,to:1},e,i);return this._disposers.push(r),r.start(),r},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Nn(this._animations))),this._animations},enumerable:!0,configurable:!0}),t}(Hi);var zp=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="Polygon",e.element=e.paper.add("path"),e.shapeRendering="auto",e._currentPoints=[],e.applyTheme(),e}return Object.defineProperty(t.prototype,"points",{get:function(){var e=this.getPropertyValue("points"),i=this.path;if(i&&(!e||e.length==0)){for(var r=i.slice(1,i.length-1),a=r.split("ZM"),n=0;n<a.length;n++){var o=a[n];if(o.length>0){var l=o.split("M"),u=l[0],h=l[1];if(u&&u.length>0){var c=u.split("L");if(c.length>0){var A=[],d=[A];e.push(d);for(var f=0;f<c.length;f++){var p=c[f].split(",");A.push({x:+p[0],y:+p[1]})}if(h&&h.length>0){var m=h.split("L");if(m.length>0){var g=[];d.push(g);for(var f=m.length-1;f>=0;f--){var p=m[f].split(",");g.push({x:+p[0],y:+p[1]})}}}}}}}this.setPropertyValue("points",e),this._currentPoints=e}return e},set:function(e){this.setPropertyValue("points",e,!0),this._currentPoints=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentPoints",{get:function(){return(!this._currentPoints||this._currentPoints.length==0)&&this.path&&(this._currentPoints=this.points),this._currentPoints},set:function(e){this._currentPoints!=e&&(this._currentPoints=e,this.draw())},enumerable:!0,configurable:!0}),t.prototype.draw=function(){var e="",i=this._currentPoints,r,a,n,o;if(i.length>0){for(var l=0,u=i.length;l<u;l++){var h=i[l][0],c=i[l][1];if(h&&h.length>0){var A=h[0];e+=_e(A);for(var d=0;d<h.length;d++)A=h[d],e+=he(A),(!I(a)||a<A.x)&&(a=A.x),(!I(r)||r>A.x)&&(r=A.x),(!I(n)||n>A.y)&&(n=A.y),(!I(o)||o<A.y)&&(o=A.y)}if(c&&c.length>0){var A=c[0];e+=_e(A);for(var f=0,p=c.length;f<p;f++)A=c[f],e+=he(A)}}e&&(e+=_i()),this.bbox.x=r,this.bbox.y=n,this.bbox.width=a-r,this.bbox.height=o-n,s.prototype.setPath.call(this,e)}},t.prototype.setPath=function(e){return s.prototype.setPath.call(this,e)?(this.points=[],this._bbox=this.group.getBBox(),!0):!1},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"centerPoint",{get:function(){return{x:this.bbox.x+this.bbox.width/2,y:this.bbox.y+this.bbox.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"morpher",{get:function(){return this._morpher||(this._morpher=new Yw(this),this._disposers.push(this._morpher)),this._morpher},enumerable:!0,configurable:!0}),t}(ke);M.registeredClasses.Polygon=zp;var mb=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="Preloader",e.width=ue(100),e.height=ue(100);var i=new ze,r=e.createChild(Fe);r.shouldClone=!1;var a=r.createChild(xa);a.shouldClone=!1,a.radius=53,a.arc=360,a.fill=i.getFor("fill"),a.fillOpacity=.8,a.innerRadius=42,a.isMeasured=!1,e.backgroundSlice=a;var n=r.createChild(xa);n.shouldClone=!1,n.radius=50,n.innerRadius=45,n.fill=i.getFor("alternativeBackground"),n.fillOpacity=.2,n.isMeasured=!1,e.progressSlice=n;var o=r.createChild(Ei);o.shouldClone=!1,o.horizontalCenter="middle",o.verticalCenter="middle",o.isMeasured=!1,o.fill=i.getFor("text"),o.align="center",o.valign="middle",o.textAlign="middle",o.fillOpacity=.4,e.label=o,e.background.opacity=1,e.background.fill=i.getFor("background"),e.contentAlign="center",e.contentValign="middle",e.delay=300;var l=e.states.create("hidden");return l.properties.opacity=0,e.visible=!1,e.hide(0),e.__disabled=!0,e._disposers.push(e.backgroundSlice),e._disposers.push(e.progressSlice),e._disposers.push(e.label),e._disposers.push(r),e}return Object.defineProperty(t.prototype,"progress",{get:function(){return this.getPropertyValue("progress")},set:function(e){var i=this;this.__disabled=!1,this.validateLayout(),this.setPropertyValue("progress",e),this.progressSlice.arc=360*e,this.label&&(this.label.text=Math.round(e*100)+"%"),e>=1?(this._started&&(this._started=void 0),M.events.once("enterframe",function(){var r=i.hide();r&&!r.isFinished()?r.events.once("animationended",function(){i.__disabled=!0}):i.__disabled=!0}),this.interactionsEnabled=!1,this.setPropertyValue("progress",0)):e>0&&(this.delay?this._started?this._started+this.delay<=new Date().getTime()&&(this.__disabled=!1,this.show(),this.interactionsEnabled=!0):this._started=new Date().getTime():(this.__disabled=!1,this.show(),this.interactionsEnabled=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this.getPropertyValue("delay")},set:function(e){this.setPropertyValue("delay",e)},enumerable:!0,configurable:!0}),t}(Fe);M.registeredClasses.Preloader=mb;var YD=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="CloseButton",e.padding(8,8,8,8),e.showSystemTooltip=!0,e.width=30,e.height=30;var i=new ze;e.cursorOverStyle=li.pointer;var r=e.background;r.cornerRadius(20,20,20,20);var a=i.getFor("background");r.fill=a,r.stroke=i.getFor("primaryButton"),r.strokeOpacity=1,r.strokeWidth=1;var n=i.getFor("primaryButtonActive"),o=r.states.getKey("hover");o.properties.strokeWidth=3,o.properties.fill=a;var l=r.states.getKey("down");l.properties.stroke=n,l.properties.fill=a;var u=new ke;return u.element=e.paper.add("path"),u.stroke=r.stroke,e.icon=u,e.applyTheme(),e}return t.prototype.validate=function(){s.prototype.validate.call(this);var e=this.pixelWidth/3,i=this.pixelHeight/3,r=_e({x:-e/2,y:-i/2});r+=he({x:e/2,y:i/2}),r+=_e({x:e/2,y:-i/2}),r+=he({x:-e/2,y:i/2}),this.icon.path=r,this.invalidateLayout()},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Close"))},t}(ba);M.registeredClasses.CloseButton=YD;var KD=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="SwitchButton",e.tooltipY=0,e.layout="horizontal",e.contentAlign="center",e.contentValign="middle",e.padding(8,16,8,16),e.setStateOnChildren=!0,e.states.create("active");var i=new ze,r=new Ei;r.fillOpacity=.3;var a=r.states.create("active");a.properties.fillOpacity=1,r.isActive=!0,e.leftLabel=r;var n=new ba,o=new en;n.contentValign="none",n.padding(0,0,0,0),o.radius=10,n.icon=o,n.icon.valign="middle",n.label=void 0;var l=ue(100);n.background.cornerRadius(l,l,l,l),n.width=o.radius*3.5,n.height=o.radius*2.1,n.marginLeft=8,n.marginRight=8,n.togglable=!0,o.dx=-o.radius*.7,o.fill=i.getFor("primaryButton");var u=o.states.create("hover");u.properties.fill=i.getFor("primaryButtonHover");var h=o.states.create("active");h.properties.fill=i.getFor("primaryButtonActive"),h.properties.dx=o.radius*.7,e.switchButton=n,e.events.on("toggled",function(){e.leftLabel.isActive=!e.isActive,e.rightLabel.isActive=e.isActive});var c=new Ei;c.fillOpacity=.3;var A=c.states.create("active");return A.properties.fillOpacity=1,e.rightLabel=c,e.role="button",e.focusable=!0,c.valign="middle",r.valign="middle",n.valign="middle",e.applyTheme(),e}return Object.defineProperty(t.prototype,"leftLabel",{get:function(){return this._leftLabel},set:function(e){this._leftLabel&&this.removeDispose(this._leftLabel),this._leftLabel=e,e&&(e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this._disposers.push(this._leftLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightLabel",{get:function(){return this._rightLabel},set:function(e){this._rightLabel&&this.removeDispose(this._rightLabel),this._rightLabel=e,e&&(e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this._disposers.push(this._rightLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"switch",{get:function(){return this._switchButton},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"switchButton",{get:function(){return this._switchButton},set:function(e){this._switchButton&&this.removeDispose(this._switchButton),this._switchButton=e,e&&(e.parent=this,e.shouldClone=!1,this._disposers.push(this._switchButton))},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),e.leftLabel&&this.leftLabel.copyFrom(e.leftLabel),e.rightLabel&&this.rightLabel.copyFrom(e.rightLabel),e.switchButton&&this.switchButton.copyFrom(e.switchButton)},t}(Fe);M.registeredClasses.SwitchButton=KD;var ZD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="Slider",e.thumb.opacity=0,e.thumb.interactionsEnabled=!1,e.endGrip.opacity=0,e.endGrip.interactionsEnabled=!1,e.startGrip.events.on("drag",function(){e.endGrip.x=e.startGrip.x,e.endGrip.y=e.startGrip.y}),e.applyTheme(),e}return Object.defineProperty(t.prototype,"__end",{get:function(){return this._start},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._start},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._start},set:function(e){this._isBusy||(this.__start=e)},enumerable:!0,configurable:!0}),t}(yo);M.registeredClasses.Slider=ZD;var qD=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="PlayButton",e.padding(12,12,12,12),e.showSystemTooltip=!0;var i=new ze,r=e.background;r.cornerRadius(25,25,25,25),r.fill=i.getFor("primaryButton"),r.stroke=i.getFor("primaryButtonStroke"),r.strokeOpacity=0,r.states.getKey("hover").properties.fill=i.getFor("primaryButtonHover"),r.states.getKey("down").properties.fill=i.getFor("primaryButtonActive");var a=new vA;a.direction="right",a.width=9,a.height=11,a.marginLeft=1,a.marginRight=1,a.horizontalCenter="middle",a.verticalCenter="middle",a.stroke=i.getFor("primaryButtonText"),a.fill=a.stroke,e.icon=a;var n=new Kr;n.width=11,n.height=11,n.horizontalCenter="middle",n.verticalCenter="middle",n.cornerRadius(0,0,0,0),n.stroke=i.getFor("primaryButtonText"),n.fill=a.stroke,e.togglable=!0;var o=e.states.create("active");return o.transitionDuration=0,o.properties.icon=n,e.defaultState.transitionDuration=0,e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),V(this.readerTitle)||(this.readerTitle=this.language.translate("Play"))},t}(ba);M.registeredClasses.PlayButton=qD;var JD=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="RadialGradientModifier",e.gradient=new Ka,e.applyTheme(),e}return t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.gradient=e.gradient.clone()},t}(Mp);M.registeredClasses.RadialGradientModifier=JD;var kc=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.properties.gap=0,e._line=e.paper.add("path"),e.addElement(e._line),e}return t.prototype.draw=function(){if(s.prototype.draw.call(this),Math.round(this.rotation/90)!=this.rotation/90&&(this.properties.shapeRendering="auto"),this._line){var e=this.width,i=this.height,r="";if(!this.gap)Math.round(this.rotation/90)!=this.rotation/90?(r=_e({x:-e,y:i/2})+he({x:e*2,y:i/2}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):r=_e({x:0,y:0})+he({x:e,y:0});else for(var a=this.gap+this.strokeWidth,n=this.height/a,o=-n/2;o<n*1.5;o++)Math.round(this.rotation/90)!=this.rotation/90?(r+=_e({x:-e,y:(o+.5)*a})+he({x:e*2,y:(o+.5)*a}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):r+=_e({x:-e,y:o*a})+he({x:e*2,y:o*a});this._line.attr({d:r})}},Object.defineProperty(t.prototype,"gap",{get:function(){return this.properties.gap},set:function(e){this.properties.gap=e,this.draw()},enumerable:!0,configurable:!0}),t}(mo);M.registeredClasses.LinePattern=kc;var gb=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.properties.radius=2,e._circle=e.paper.add("circle"),e.addElement(e._circle),e.shapeRendering="auto",e}return t.prototype.draw=function(){s.prototype.draw.call(this),this._circle&&this._circle.attr({r:this.radius,cx:this.width/2,cy:this.height/2})},Object.defineProperty(t.prototype,"radius",{get:function(){return this.properties.radius},set:function(e){this.properties.radius=e,this.draw()},enumerable:!0,configurable:!0}),t}(mo);M.registeredClasses.CirclePattern=gb;var Ec=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.rectHeight=1,e.rectWidth=1,e._rect=e.paper.add("rect"),e.addElement(e._rect),e}return t.prototype.draw=function(){s.prototype.draw.call(this),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2,this._rect&&this._rect.attr({width:this.rectWidth,height:this.rectHeight,x:(this.width-this.rectWidth)/2,y:(this.height-this.rectHeight)/2})},Object.defineProperty(t.prototype,"rectWidth",{get:function(){return this.properties.rectWidth},set:function(e){this.properties.rectWidth=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rectHeight",{get:function(){return this.properties.rectHeight},set:function(e){this.properties.rectHeight=e,this.draw()},enumerable:!0,configurable:!0}),t}(mo);M.registeredClasses.RectPattern=Ec;var eO=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="ColorizeFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"matrix"}),e.filterPrimitives.push(e.feColorMatrix),e.intensity=1,e.applyTheme(),e}return t.prototype.applyFilter=function(){var e=this.intensity,i=1-e,r,a,n,o=this.color;o&&o.rgb?(r=o.rgb.r/255*e,a=o.rgb.g/255*e,n=o.rgb.b/255*e):(r=0,a=0,n=0),this.feColorMatrix.attr({values:i+" 0 0 0 "+r+" 0 "+i+" 0 0 "+a+" 0 0 "+i+" 0 "+n+" 0 0 0 1 0"})},Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.properties.color=e,this.applyFilter()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intensity",{get:function(){return this.properties.intensity},set:function(e){this.properties.intensity=e,this.applyFilter()},enumerable:!0,configurable:!0}),t}(pn);M.registeredClasses.ColorizeFilter=eO;var tO=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="BlurFilter",e.feGaussianBlur=e.paper.add("feGaussianBlur"),e.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),e.filterPrimitives.push(e.feGaussianBlur),e.width=200,e.height=200,e.blur=1.5,e.applyTheme(),e}return Object.defineProperty(t.prototype,"blur",{get:function(){return this.properties.blur},set:function(e){this.properties.blur=e,this.feGaussianBlur.attr({stdDeviation:e/this.scale})},enumerable:!0,configurable:!0}),t}(pn);M.registeredClasses.BlurFilter=tO;var Kw=function(s){N(t,s);function t(){var e=s.call(this)||this;return e.className="FocusFilter",e.feFlood=e.paper.add("feFlood"),e.feFlood.attr({"flood-color":new ze().getFor("primaryButtonHover"),result:"base"}),e.filterPrimitives.push(e.feFlood),e.feMorphology=e.paper.add("feMorphology"),e.feMorphology.attr({result:"bigger",in:"SourceGraphic",operator:"dilate",radius:"2"}),e.filterPrimitives.push(e.feMorphology),e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({result:"mask",in:"bigger",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),e.filterPrimitives.push(e.feColorMatrix),e.feComposite=e.paper.add("feComposite"),e.feComposite.attr({result:"drop",in:"base",in2:"mask",operator:"in"}),e.filterPrimitives.push(e.feComposite),e.feBlend=e.paper.add("feBlend"),e.feBlend.attr({in:"SourceGraphic",in2:"drop",mode:"normal"}),e.filterPrimitives.push(e.feBlend),e.width=130,e.height=130,e.applyTheme(),e}return Object.defineProperty(t.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(e){this.properties.stroke=e,this.feFlood.attr({"flood-color":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(e){this.properties.strokeWidth=e,this.feMorphology.attr({radius:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(e){this.properties.opacity=e,this.feColorMatrix.attr({values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 "+e+" 0"})},enumerable:!0,configurable:!0}),t.prototype.setSprite=function(e){this._sprite&&this._sprite!=e&&this._sprite.group.removeStyle("outline"),e.group.addStyle({outline:"none"}),s.prototype.setSprite.call(this,e)},t}(pn);var iO=function(s){N(t,s);function t(){var e=s.call(this)||this;e._list=[],e._currentStep=0,e._startIndex=0,e._currentPass=0,e.baseColor=new xt({r:103,g:183,b:220}),e.className="PatternSet";var i=new ze;return e.list=[e.getLinePattern(1e3,45,1,6),e.getRectPattern(10,0,4),e.getLinePattern(1e3,-45,1,6),e.getCirclePattern(11,2,!0),e.getLinePattern(6,90,1),e.getRectPattern(12,45,6,!0),e.getLinePattern(6,0,1),e.getRectPattern(7,0,4),e.getLinePattern(1e3,45,2,3,"4,2"),e.getCirclePattern(9,3,!1),e.getLinePattern(1e3,-45,2,3,"4,2"),e.getRectPattern(10,45,Math.sqrt(50)),e.getLinePattern(1e3,-45,2,1),e.getRectPattern(10,0,9),e.getLinePattern(1e3,45,2,1),e.getLinePattern(1e3,0,3,1),e.getRectPattern(10,45,10),e.getLinePattern(1e3,90,3,1)],e.baseColor=i.getFor("stroke"),e.applyTheme(),e}return t.prototype.getLinePattern=function(e,i,r,a,n){var o=new kc;return o.width=e,o.height=e,o.stroke=this.baseColor,o.gap=a,o.strokeDasharray=n,o.strokeWidth=r,o.rotation=i,o},t.prototype.getRectPattern=function(e,i,r,a){var n=new Ec;return n.width=e,n.height=e,n.rectWidth=r,n.rectHeight=r,a?(n.stroke=this.baseColor,n.strokeWidth=1,n.fillOpacity=0):(n.fill=this.baseColor,n.strokeWidth=0),i!=0&&(n.shapeRendering="auto"),n.rotation=i,n},t.prototype.getCirclePattern=function(e,i,r){var a=new gb;return a.width=e,a.height=e,a.shapeRendering="auto",a.radius=i,r?(a.stroke=this.baseColor,a.strokeWidth=1,a.fillOpacity=0):(a.fill=this.baseColor,a.strokeWidth=0),a},Object.defineProperty(t.prototype,"list",{get:function(){return this._list},set:function(e){this._list=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.next=function(){var e=this.getIndex(this.currentStep);return this._currentStep++,e},t.prototype.getIndex=function(e){for(var i;this.list.length<=e;)this.generatePatterns();return i=this.list[e],i.clone()},t.prototype.generatePatterns=function(){var e=this.list.length/(this._currentPass+1);this._currentPass++;for(var i=0;i<e;i++)this.list.push(this.list[i].clone())},t.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(t.prototype,"currentStep",{get:function(){return this._currentStep},set:function(e){this._currentStep=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return this._startIndex},set:function(e){this._startIndex=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){s.prototype.processConfig.call(this,e)},t}(Hi);M.registeredClasses.PatternSet=iO;var oN=function(){function s(){this._disposed=!1,this._disposers=[]}return s.prototype.init=function(){},s.prototype.isDisposed=function(){return this._disposed},s.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._disposers;for(this._disposers=null;t.length!==0;){var e=t.shift();e.dispose()}}},s}();var rO=function(s){N(t,s);function t(){var e=s.call(this)||this;e.className="AmChartsLogo",e.valign="bottom";var i=.3;e.opacity=.3,e.defaultState.properties.opacity=.4,e.url="https://www.amcharts.com/",e.urlTarget="_blank",e.showSystemTooltip=!0,e.readerTitle="Chart created using amCharts library",e.width=220*i,e.height=70*i,e.background.opacity=0;var r=Ve("#474758");new ze().getFor("background").alternative.hex=="#ffffff"&&(r=Ve("#ffffff"));var a=new hs;a.addColor(r),a.addColor(r,1,.75),a.addColor(Ve("#3cabff"),1,.755),a.rotation=-10;var n=a,o=e.createChild(Oc);o.shouldClone=!1,o.isMeasured=!1,o.segments=[[{x:50*i,y:50*i},{x:90*i,y:50*i},{x:120*i,y:20*i},{x:135*i,y:35*i},{x:150*i,y:20*i},{x:180*i,y:50*i},{x:200*i,y:50*i}]],o.strokeWidth=6*i,o.tensionX=.8,o.tensionY=1,o.stroke=Ve("#3cabff");var l=e.createChild(Oc);l.shouldClone=!1,l.isMeasured=!1,l.segments=[[{x:20*i,y:50*i},{x:50*i,y:50*i},{x:90*i,y:12*i},{x:133*i,y:50*i},{x:170*i,y:50*i},{x:200*i,y:50*i}]],l.strokeWidth=6*i,l.tensionX=.75,l.tensionY=1,l.stroke=n,e._disposers.push(l);var u=new Fc;e.filters.push(u);var h=new Fc;h.saturation=1;var c=e.states.create("hover");return c.properties.opacity=1,c.filters.push(h),e.applyTheme(),e}return t}(Fe);function lN(s,t){var e=yp(s),i=!1;if(e||(e=document.createElement("div"),e.style.width="200px",e.style.height="200px",e.style.top="0",e.style.left="0",e.style.visibility="hidden",e.style.position="absolute",document.body.appendChild(e),i=!0),e){e.innerHTML="";var r=new Bp(e),a=new Qy(r.SVGContainer,"svg-"+(Ny.length-1)),n=new Fe;n.htmlContainer=e,n.svgContainer=r,n.width=ue(100),n.height=ue(100),n.background.fillOpacity=0,n.paper=a,a.append(n.group),i&&Aw(function(){n.moveHtmlContainer(s)}),n.relativeWidth=1,n.relativeHeight=1,r.container=n;var o=n.createChild(t);o.topParent=n;var l=o.uid;M.invalidSprites[l]=[],M.invalidDatas[l]=[],M.invalidPositions[l]=[],M.invalidLayouts[l]=[],n.baseId=l,o.isBaseSprite=!0,o.focusFilter=new Kw,M.baseSprites.push(o),M.baseSpritesByUid[l]=o,o.maskRectangle={x:0,y:0,width:Math.max(r.width||0,0),height:Math.max(r.height||0,0)},n.events.on("maxsizechanged",function(x){(x.previousWidth==0||x.previousHeight==0)&&n.deepInvalidate(),o.maskRectangle&&(o.maskRectangle={x:0,y:0,width:Math.max(r.width||0,0),height:Math.max(r.height||0,0)})});var u=null,h=function(){o.isDisposed()?u=null:My(o.dom)==null?(et.autoDispose?(n.htmlContainer=void 0,r.htmlElement=void 0,o.dispose()):iA("Chart was not disposed",o.uid),u=null):u=window.setTimeout(h,1e3)};h(),o.addDisposer(new Ft(function(){u!==null&&clearTimeout(u),Ye(M.baseSprites,o),M.baseSpritesByUid[o.uid]=void 0})),o.addDisposer(n);var c=n.createChild(Fe);c.topParent=n,c.width=ue(100),c.height=ue(100),c.isMeasured=!1,n.tooltipContainer=c,o.tooltip=new go,o.tooltip.hide(0),o.tooltip.setBounds({x:0,y:0,width:c.maxWidth,height:c.maxHeight}),c.events.on("maxsizechanged",function(){fi(o.tooltip).setBounds({x:0,y:0,width:c.maxWidth,height:c.maxHeight})},void 0,!1);var A=new mb;if(A.events.on("inited",function(){A.__disabled=!0},void 0,!1),n.preloader=A,o instanceof Fe&&!o.hasLicense()){var d=c.createChild(rO);c.events.on("maxsizechanged",function(x){c.maxWidth<=100||c.maxHeight<=50?d.hide():(d.isHidden||d.isHiding)&&d.show()},void 0,!1),o.logo=d,d.align="left",d.valign="bottom"}if(o.numberFormatter,n.isStandaloneInstance=!0,et.onlyShowOnViewport)if(Ry(e,et.viewportTarget))et.queue&&Zw(o);else{o.__disabled=!0,o.tooltipContainer.__disabled=!0;var f=[ji(window,"DOMContentLoaded",function(){Mc(o)}),ji(window,"load",function(){Mc(o)}),ji(window,"resize",function(){Mc(o)}),ji(window,"scroll",function(){Mc(o)})];if(et.viewportTarget)for(var p=bi(et.viewportTarget)?et.viewportTarget:et.viewportTarget?[et.viewportTarget]:[],m=0;m<p.length;m++){var g=p[m];f.push(ji(g,"resize",function(){Mc(o)})),f.push(ji(g,"scroll",function(){Mc(o)}))}var y=new Vt(f);o.addDisposer(y),o.vpDisposer=y}else et.queue&&Zw(o);return o}else throw Bt.log("html container not found"),new Error("html container not found")}function Zw(s){M.queue.indexOf(s)==-1&&(s.__disabled=!0,s.tooltipContainer.__disabled=!0,s.events.disableType("appeared"),M.queue.length==0&&(M.events.once("exitframe",function(){sO(s)}),Bt.requestFrame()),s.addDisposer(new Ft(function(){yb(s)})),M.queue.push(s))}function yb(s){var t=M.queue.indexOf(s);if(t>=0){M.queue.splice(M.queue.indexOf(s),1);var e=M.queue[t];e&&sO(e)}}function Mc(s){s.__disabled&&Ry(s.htmlContainer,et.viewportTarget)&&(s.vpDisposer&&s.vpDisposer.dispose(),Zw(s))}function sO(s){s&&s.tooltipContainer&&(s.__disabled=!1,s.tooltipContainer.__disabled=!1,s.events.enableType("appeared"),s.dispatch("removedfromqueue"),s.showOnInit&&s.events.on("appeared",function(){yb(s)}),s.vpDisposer&&s.vpDisposer.dispose(),s instanceof Fe&&s.invalidateLabels(),s.tooltipContainer&&s.tooltipContainer.invalidateLayout(),s instanceof qa?(s.invalidateData(),s.reinit(),s.events.once("datavalidated",function(){s.showOnInit?s.appear():yb(s)})):(s.reinit(),s.events.once("inited",function(){yb(s)}),s.showOnInit&&s.appear()))}function Gp(s,t){var e;ut(t)&&(V(M.registeredClasses[t])?t=M.registeredClasses[t]:(t=M.registeredClasses.Container,e=new Error("Class ["+t+"] is not loaded.")));var i=lN(s,t);return e&&i.raiseCriticalError(e),i}function qw(s){M.themes.indexOf(s)===-1&&M.themes.push(s)}function Jw(s){Ye(M.themes,s)}var uN=function(s){Ss(s,"SpriteState")&&(s.transitionDuration=400),Ss(s,"Component")&&(s.rangeChangeDuration=500,s.interpolationDuration=500,s.sequencedInterpolation=!1,Ss(s,"SankeyDiagram")&&(s.sequencedInterpolation=!0),Ss(s,"FunnelSeries")&&(s.sequencedInterpolation=!0)),Ss(s,"Chart")&&(s.defaultState.transitionDuration=2e3,s.hiddenState.transitionDuration=1e3),Ss(s,"Tooltip")&&(s.animationDuration=400,s.defaultState.transitionDuration=400,s.hiddenState.transitionDuration=400),Ss(s,"Scrollbar")&&(s.animationDuration=500),Ss(s,"Series")&&(s.defaultState.transitionDuration=1e3,s.hiddenState.transitionDuration=700,s.hiddenState.properties.opacity=1,s.showOnInit=!0),Ss(s,"MapSeries")&&(s.hiddenState.properties.opacity=0),Ss(s,"PercentSeries")&&(s.hiddenState.properties.opacity=0),Ss(s,"FunnelSlice")&&(s.defaultState.transitionDuration=800,s.hiddenState.transitionDuration=1e3,s.hiddenState.properties.opacity=1),Ss(s,"Slice")&&(s.defaultState.transitionDuration=700,s.hiddenState.transitionDuration=1e3,s.hiddenState.properties.opacity=1),Ss(s,"Preloader")&&(s.hiddenState.transitionDuration=2e3),Ss(s,"Column")&&(s.defaultState.transitionDuration=700,s.hiddenState.transitionDuration=1e3,s.hiddenState.properties.opacity=1),Ss(s,"Column3D")&&(s.hiddenState.properties.opacity=0)},bb=uN;var vb={exports:{}},eC,nO;function hN(){if(nO)return eC;nO=1;function s(t){var e=new t,i=e;function r(){var n=e;return n.next?e=n.next:(e=new t,i=e),n.next=null,n}function a(n){i.next=n,i=n}return{get:r,release:a}}return eC=s,eC}var oO;function cN(){if(oO)return vb.exports;oO=1;var s=hN();function t(a,n,o){if(typeof a=="function"&&(o=n,n=a,a=null),o<1)throw new Error("fastqueue concurrency must be greater than 1");var l=s(i),u=null,h=null,c=0,A=null,d={push:C,drain:e,saturated:e,pause:p,paused:!1,concurrency:o,running:f,resume:y,idle:x,length:m,getQueue:g,unshift:S,empty:e,kill:F,killAndDrain:O,error:$};return d;function f(){return c}function p(){d.paused=!0}function m(){for(var L=u,E=0;L;)L=L.next,E++;return E}function g(){for(var L=u,E=[];L;)E.push(L.value),L=L.next;return E}function y(){if(d.paused){d.paused=!1;for(var L=0;L<d.concurrency;L++)c++,P()}}function x(){return c===0&&d.length()===0}function C(L,E){var D=l.get();D.context=a,D.release=P,D.value=L,D.callback=E||e,D.errorHandler=A,c===d.concurrency||d.paused?h?(h.next=D,h=D):(u=D,h=D,d.saturated()):(c++,n.call(a,D.value,D.worked))}function S(L,E){var D=l.get();D.context=a,D.release=P,D.value=L,D.callback=E||e,c===d.concurrency||d.paused?u?(D.next=u,u=D):(u=D,h=D,d.saturated()):(c++,n.call(a,D.value,D.worked))}function P(L){L&&l.release(L);var E=u;E?d.paused?c--:(h===u&&(h=null),u=E.next,E.next=null,n.call(a,E.value,E.worked),h===null&&d.empty()):--c===0&&d.drain()}function F(){u=null,h=null,d.drain=e}function O(){u=null,h=null,d.drain(),d.drain=e}function $(L){A=L}}function e(){}function i(){this.value=null,this.callback=e,this.next=null,this.release=e,this.context=null,this.errorHandler=null;var a=this;this.worked=function(n,o){var l=a.callback,u=a.errorHandler,h=a.value;a.value=null,a.callback=e,a.errorHandler&&u(n,h),l.call(a.context,n,o),a.release(a)}}function r(a,n,o){typeof a=="function"&&(o=n,n=a,a=null);function l(p,m){n.call(this,p).then(function(g){m(null,g)},m)}var u=t(a,l,o),h=u.push,c=u.unshift;return u.push=A,u.unshift=d,u.drained=f,u;function A(p){var m=new Promise(function(g,y){h(p,function(x,C){if(x){y(x);return}g(C)})});return m.catch(e),m}function d(p){var m=new Promise(function(g,y){c(p,function(x,C){if(x){y(x);return}g(C)})});return m.catch(e),m}function f(){var p=u.drain,m=new Promise(function(g){u.drain=function(){p(),g()}});return m}}return vb.exports=t,vb.exports.promise=r,vb.exports}var dN=cN(),gh={Show:"show",Hide:"hide",NotifyPanel:"notifyPanel",DisableInteractions:"disable-interactions",Chart:"chart"};function AN(s){let{dataContext:t,dataIndex:e,objectIdField:i}=s;return`${Zn.sliceIdPrefix}-${t[i??""]?.toString()??e}`}function fN(s){let{chartConfig:t,chartData:e,fieldList:i}=s,r=Pt(t.series)===Ie.PieFromFields;if(t.orderOptions?.data!==void 0||r){Hh({arrayToSort:e,chartConfig:t,fieldList:i});let{slices:a}=t.series[0];a!==void 0&&a.sort((n,o)=>{let l=e.findIndex(h=>h[wt.pieChart.technicalFieldSliceId]===n.sliceId),u=e.findIndex(h=>h[wt.pieChart.technicalFieldSliceId]===o.sliceId);return l-u})}}function Eb(s){let{data:t,newChartConfig:e,pieSlicesSymbols:i,fieldList:r}=s,a=e.series[0],n=Pt(e.series)===Ie.PieFromFields?Kn:a.x;t.forEach(o=>{let l=Ho(o),u=o[wt.pieChart.technicalFieldSliceId],h=l?a.sliceGrouping?.label:Pb(i?.slices,u)?.label;pN({dataContext:o,x:n,newLabel:h})}),fN({chartConfig:e,chartData:t,fieldList:r})}function pN(s){let{dataContext:t,newLabel:e,x:i}=s;e===void 0?t[wt.originalCategoryValue]!==void 0&&(t[i]=t[wt.originalCategoryValue]):t[i]!==e&&(t[wt.originalCategoryValue]===void 0&&(t[wt.originalCategoryValue]=t[i]),t[i]=e)}function Pb(s,t){let e;return s!==void 0&&t!==void 0&&(e=s.find(i=>i.sliceId===t)),e}function uL(s){let{dataContext:t,isNonAggregatedChart:e,x:i,dataIndex:r,objectIdField:a,isPieFromFields:n}=s,o="";return n===!0?o=t[wt.originalCategoryValue]??t[Kn]:e?o=AN({dataContext:t,dataIndex:r,objectIdField:a}):(o=t[wt.typeOrDomainIdValue]??t[wt.originalCategoryValue],o===""?o=Zn.emptySliceId:o===null&&(o=Zn.nullSliceId),o=o??t[i]),o===void 0&&(o=Zn.undefinedSliceId),o.toString()}function hL(s){let{dataContext:t,sliceFromConfig:e,isGroupOfSlices:i,seriesConfig:r,fieldList:a,isPieFromFields:n,labelUpdateNeeded:o,colorMatch:l,utilsStrings:u}=s,{sliceGrouping:h}=r,{x:c}=r;n&&(c=Kn);let A=t[c]??t[wt.originalCategoryValue],d=t[wt.originalCategoryValue]??A,f=A;if(o){if(i)f=h?.label??h?.originalLabel?.toString()??u.pieChart.defaultSliceGroupingLabel;else if(l&&t[wt.rendererSymbolField]?.label!==void 0)f=t[wt.rendererSymbolField].label;else if(e!==void 0||a!==void 0){f=e?.label??d;let p=t[wt.typeOrDomainIdValue];p!==void 0&&f?.toString()===p?.toString()?f=d:f===d&&d!==void 0&&d!==null&&(f=wr(a,d))}else e===void 0&&(f=d);f===wt.nullValue?f="null":f!=null&&(f=f.toString())}return f}function cL(s,t){return s[0]?.sliceGrouping?.percentageThreshold!==t[0]?.sliceGrouping?.percentageThreshold}function am(s){let{groupOfSlicesDataContext:t,chartData:e}=s;return(t??e?.find(i=>i[Zn.defaultGroupOfSlicesId]===!0))?.[wt.pieChart.technicalFieldGroupedSlices]}function _C(s){let{dataContext:t,pieSlicesSymbols:e,seriesConfig:i}=s,r=i.fillSymbol?{...i.fillSymbol}:af();if(Ho(t))r={...wt.pieChart.sliceGrouping.fillSymbol,...e?.groupOfSlices?.fillSymbol};else{let a=t[wt.pieChart.technicalFieldSliceId],n=e?.slices?.find(o=>o.sliceId===a);r=Xr(n?.fillSymbol??i.fillSymbol??af())}return r}var mN="arcgis-charts-randomization-seed",dL=$d(mN,$d.URL),pi={XAxisTitle:"XAxisTitle",YAxisTitle:"YAxisTitle",ChartTitle:"ChartTitle",ChartSubTitle:"ChartSubTitle",ChartFooter:"ChartFooter",GuideLabel:"GuideLabel",LegendTitle:"LegendTitle"},gN="AM5C241025748",Ti={SelectEnded:"selectended",DataValidated:"datavalidated",Opened:"opened",BoundsChanged:"boundschanged",PointerUp:"pointerup",FrameEnded:"frameended",Click:"click"},lC=new Map;function yN(s,t){return Xc(s,t)}function bN(s,t){jc(s,t)}function jc(s,t){let e=lC.get(s)??{};lC.set(s,{...e,...t})}function Xc(s,t){return lC.get(s)?.[t]}function pe(s,t){return Xc(s,t)}function Mi(s,t){jc(s,t)}function er(s,t){return Xc(s,t)}function jr(s,t){jc(s,t)}function _h(s,t){return Xc(s,t)}function PA(s,t){jc(s,t)}function ou(s,t){return Xc(s,t)}function vN(s,t){jc(s,t)}function rn(s,t){return Xc(s,t)}function wC(s,t){jc(s,t)}function xN(s,t){return Xc(s,t)}function _N(s,t){jc(s,t)}var Di={Guides:"guides",Ticks:"ticks",GaugeFirstAndLastGuides:"firstAndLast",GaugeTicksWithLabels:"gaugeTicksWithLabels"};function wN(s,t){t===!0&&s.setThemes([uT.new(s)])}function CN(s,t){t===!0&&s.setThemes([lT.new(s)])}function wi(s){let t=Ys("#000000"),e=fd;if(s!=null){let[i,r,a,n]=s;e=n/255,t=Ys(`rgba(${i}, ${r}, ${a}, ${e})`)}return{color:t,opacity:e}}function Lr(s,t){t===!1&&(!("isHiding"in s)||!s.isHiding())?(s.set("visible",!1),"hide"in s&&s.hide()):t!==!1&&(!("isShowing"in s)||!s.isShowing())&&(s.set("visible",!0),"show"in s&&s.show())}function vr(s){let{childId:t,parent:e,useChildId:i}=s,r=i?t:_o(t,e.uid);return e.children.values.find(a=>a.get("id")===r)}function _o(s,t){return`${s}${t}`}function FA(s,t=100){return setTimeout(()=>s(),t)}function lO(s){let t=Number.NaN;if(typeof s=="number")t=s;else if(s.includes("%")){let e=Number.parseFloat(s.trim().replace("%","").trim());Number.isFinite(e)&&(t=Ot(e))}return t}function BN(s,t){return t!==!0||s?.includes("Dot")===!0?"round":"square"}function SN(s,t){let e=s??_s.Solid,i=t??J.lineWidth,r={[_s.Solid]:[],[_s.Dot]:[1,i],[_s.DashDotDot]:[4*i,i,1,i,1,i],[_s.Dash]:[4*i,3*i],[_s.DashDot]:[4*i,3*i,1,3*i],[_s.Null]:[]};return r[e]??r[_s.Null]}function PN(s){let{root:t,fill:e,rotation:i,isLinePattern:r}=s,a;return r!==!1?a=Ql.new(t,{width:J.patternLineProperties.width??Number.NaN,height:J.patternLineProperties.height??Number.NaN,strokeWidth:J.patternLineProperties.strokeWidth??Number.NaN,fill:e,rotation:i??Number.NaN}):a=ju.new(t,{}),a}function FN(s){let{fill:t,root:e,style:i}=s,r,a,n=!0;switch(i){case Xs.Horizontal:{a=0;break}case Xs.Vertical:{a=90;break}case Xs.ForwardDiagonal:{a=45;break}case Xs.BackwardDiagonal:{a=135;break}case Xs.DiagonalCross:case Xs.Cross:{a=0,n=!1;break}case Xs.Solid:}return a!==void 0&&e!==void 0&&(r=PN({root:e,fill:t,rotation:a,isLinePattern:n})),r}function AL(s,t=0){return(s??t)%360}function TN(s,t){let e="",i=(t??0)/2,r=0-i,a=0+i,n=0-i,o=0+i;switch(s){case Ba.Circle:e=`M ${r},0 a ${i},${i} 0 1,0 ${i*2},0 a ${i},${i} 0 1,0 ${-i*2},0`;break;case Ba.Cross:e=`M ${r},0 L ${a},0 M 0,${n} L 0,${o} E`;break;case Ba.Diamond:e=`M ${r},0 L 0,${n} L ${a},0 L 0,${o} L ${r},0 Z`;break;case Ba.Square:e=`M ${r},${o} L ${r},${n} L ${a},${n} L ${a},${o} L ${r},${o} Z`;break;case Ba.Triangle:e=`M ${r},${o} L 0,${n} L ${a},${o} L ${r},${o} Z`;break;case Ba.X:e=`M ${r},${o} L ${a},${n} M ${r},${n} L ${a},${o} E`;break}return e}function fL(s,t){let e={stroke:wi().color,strokeWidth:J.lineWidth,strokeDasharray:[],linecap:t!==!0?"round":"square",strokeOpacity:fd};if(s!=null){let i=wi(s.color);e.stroke=i.color,s.width!==void 0&&(e.strokeWidth=s.width,e.strokeOpacity=s.width===0?0:i.opacity),s.style!==void 0&&s.style!==_s.Null&&(e.strokeDasharray=SN(s.style,e.strokeWidth),e.linecap=BN(s.style,t))}return e}function pL(s,t){let e=s,[i,r,a,n]=s?.color??t??J.color,o=[i,r,a,n];return e==null?e={type:qt.SLS,color:o}:e.color===void 0&&(e.color=o),fL(e,!1)}function DN(s,t){let{color:e,outline:i,style:r}=s,a=wi(e);return{pattern:FN({root:t,fill:a.color,style:r}),fill:a.color,outline:pL(i,e),fillOpacity:a.opacity}}function ON(s){let{color:t,style:e,size:i,outline:r,xoffset:a,yoffset:n,angle:o}=s,l=AL(o),u=e!==void 0?TN(e,i):"",h=wi(t);return{path:u,fill:h.color,outline:pL(r,t),xOffset:a??0,yOffset:n??0,angle:l,fillOpacity:h.opacity}}function LN(s){let t;switch(s){case Jm.LineThrough:case Jm.Underline:t=s;break;case Jm.None:}return t}function IN(s){return s===!0?"wrap":"none"}function mL(s,t){let e=Qe;switch(s??t){case gi.Right:e=be;break;case gi.Left:e=is;break;case gi.Center:case gi.Justify:}return e}function gL(s,t){let e=Qe;switch(s??t){case Zt.Top:e=is;break;case Zt.Bottom:e=be;break;case Zt.Baseline:case Zt.Middle:}return e}function $N(s){let{angle:t,mappedHAlignment:e,mappedVAlignment:i,isGuideLabel:r}=s,a=e,n=i,o=e,l=i;return(Math.abs(t)===270||Math.abs(t)===90)&&(r||(o=void 0,n=void 0),l===is?a=be:l===be?a=is:l===Qe&&(a=Qe)),{align:a,valign:n,horizontalCenter:o,verticalCenter:l}}function CC(s){let{root:t,symbol:e,defaultToColorFromRamp:i,colorRampIndex:r,isChartFillSymbol:a=!1}=s,n;if(i===!0){let o=a?rf:fd;if(e.color=e.color??qn({colorIndex:r,opacity:o}),df(e)||Rh(e)){let{outline:l}=e;l!==void 0&&(l.color=l?.color??qn({colorIndex:r}),e.outline={...l})}}return Rh(e)&&(e.style??=J.lineMarker.markerStyle,e.size??=J.lineMarker.markerSize),fx(e)?n=fL(e,!0):Rh(e)?n=ON(e):df(e)&&(n=DN(e,t)),n}function kN(s){let{input:t,isGuideLabel:e,defaults:i}=s,r=AL(t.angle,i?.rotation),a=mL(t.horizontalAlignment,i?.horizontalCenter),n=gL(t.verticalAlignment,i?.verticalCenter),{align:o,valign:l,horizontalCenter:u,verticalCenter:h}=$N({angle:r,mappedHAlignment:a,mappedVAlignment:n,isGuideLabel:e});return{fill:wi(t.color).color,fontFamily:t.font?.family??"Arial, Helvetica, sans-serif",fontSize:t.font?.size??J.generalFontSize,fontWeight:t.font?.weight??"400",textDecoration:LN(t.font?.decoration),align:o,valign:l,verticalCenter:h,horizontalCenter:u,text:Ws({textSymbol:t,format:"amChartsV5"}),angle:r,xOffset:t.xoffset??i?.dx??0,yOffset:t.yoffset??i?.dy??0,backgroundFill:wi(t.backgroundColor).color,borderFill:wi(t.borderLineColor).color,borderWidth:t.borderLineSize??1,haloColor:wi(t.haloColor).color,rtl:(t.rightToLeft??qm(document.documentElement))==="rtl"?"rtl":"ltr",wrap:IN(i?.wrap),maxWidth:i?.maxWidth??Number.NaN}}function yL(s,t){t!==void 0&&(t.marginBottom!==void 0&&s.set("marginBottom",t.marginBottom),t.marginTop!==void 0&&s.set("marginTop",t.marginTop),t.marginRight!==void 0&&s.set("marginRight",t.marginRight),t.marginLeft!==void 0&&s.set("marginLeft",t.marginLeft),t.verticalCenter!==void 0&&s.set("y",gL(t.verticalCenter)),t.horizontalCenter!==void 0&&s.set("x",mL(t.horizontalCenter)),t.strokeWidth!==void 0&&s.get("background")?.set("strokeWidth",t.strokeWidth),t.paddingBottom!==void 0&&s.set("paddingBottom",t.paddingBottom),t.paddingTop!==void 0&&s.set("paddingTop",t.paddingTop),t.paddingLeft!==void 0&&s.set("paddingLeft",t.paddingLeft),t.paddingRight!==void 0&&s.set("paddingRight",t.paddingRight),t.maxWidth!==void 0&&s.set("maxWidth",t.maxWidth))}function qp(s){let{root:t,parent:e,defaults:i,index:r,id:a}=s,n=$i.new(t,{text:"",textAlign:"center",background:fr.new(t,{}),paddingBottom:0,paddingTop:0,paddingLeft:0,paddingRight:0});return a!==void 0&&n.set("id",a),yL(n,i),e!==void 0&&e.children.insertIndex(r??e.children.length,n),n}function uO(s){let{label:t,offset:e,offsetProperty:i}=s;t.adapters.remove(i),(t instanceof $i?[t]:t.entities).forEach(r=>{if(typeof e=="string"&&!Number.isFinite(Number(e))){let a=vf(e);typeof a=="number"&&(a/=100,r.adapters.add(i,()=>(i==="dx"?r.width():r.height())*(a??0)))}else{let a=Number(e);Number.isFinite(a)&&r.set(i,a)}})}function Wn(s){let{label:t,labelConfig:e,defaults:i,skipSettingText:r,skipSettingXAndY:a}=s,n=e?.visible??!0;if(t!==void 0&&!t.isDisposed()&&e!==void 0){let o=t instanceof $i&&rn(t.uid,"isGuide"),l=kN({input:e.content,isGuideLabel:o,defaults:i});t.setAll({fill:l.fill,fontFamily:l.fontFamily,fontWeight:l.fontWeight,fontSize:l.fontSize,textDecoration:l.textDecoration,rotation:l.angle,direction:l.rtl,oversizedBehavior:l.wrap,maxWidth:l.maxWidth}),r||t.setAll({text:l.text}),a||(uO({label:t,offset:l.xOffset,offsetProperty:"dx"}),uO({label:t,offset:l.yOffset,offsetProperty:"dy"}),t.setAll({centerX:l.align,centerY:l.valign,x:l.horizontalCenter,y:l.verticalCenter})),t.get("background")?.setAll({strokeWidth:l.borderWidth,strokeOpacity:1}),t.set("visible",n),t instanceof $i?Lr(t,n):t.entities.forEach(u=>{Lr(u,n)})}}function ru(s){let{chart:t,label:e,labelType:i}=s,{legendTitle:r}=J.legendProperties,a=pe(t.uid,"config"),n=r.maxWidth??Number.NaN,o=Number.NaN;switch(i){case pi.GuideLabel:if(t instanceof Ai){let l=e.get("rotation");l===90||l===270?n=t.seriesContainer.height():n=t.seriesContainer.width()}break;case pi.XAxisTitle:t instanceof Ai&&(n=t.seriesContainer.width());break;case pi.YAxisTitle:t instanceof Ai&&(o=t.seriesContainer.height());break;case pi.ChartTitle:case pi.ChartSubTitle:case pi.ChartFooter:n=t.chartContainer.width()-20;break;case pi.LegendTitle:a?.legend?.position!==void 0&&(a?.legend?.position===St.Top||a?.legend?.position===St.Bottom)&&(n=t.chartContainer.width()-20);break}n>0&&e.setAll({maxWidth:n,oversizedBehavior:"wrap"}),o>0&&i===pi.YAxisTitle&&e.setAll({maxHeight:o,oversizedBehavior:"wrap"})}function Jp(s){let{chart:t}=s;ru(s),t.events.on(Ti.BoundsChanged,Wr(()=>ru(s),J.debounceTime))}function bL(s){let{hour:t,minute:e=0,format:i,locale:r="en-US"}=s,a=i&&Object.keys(i).length>0?i:{hour:"numeric",minute:"2-digit",hour12:!0},n=t.toString();if(Number.isInteger(t)&&t>=0&&t<=23&&Number.isInteger(e)&&e>=0&&e<=59){let o=new Date(2e3,0,1,t,e);n=new Intl.DateTimeFormat(r,a).format(o)}return n}function vL(s){let{weekdayNumber:t,format:e,locale:i="en-US",firstDayOfWeek:r=7}=s,a=e&&Object.keys(e).length>0?e:{weekday:"long"},n=t.toString();if(Number.isInteger(t)&&t>0&&t<=7&&Number.isInteger(r)&&r>0&&r<=7){let o=(t+r-1)%7,l=new Date(2e3,0,2+o);n=new Intl.DateTimeFormat(i,a).format(l)}return n}function xL(s){let{monthNumber:t,format:e,locale:i="en-US"}=s,r=e&&Object.keys(e).length>0?e:{month:"long"},a=t.toString();if(Number.isInteger(t)&&t>0&&t<=12){let n=new Date(2e3,t-1);a=new Intl.DateTimeFormat(i,r).format(n)}return a}function Fb(s,t){let e=t.get("axisFill"),i=t.get("label");if(e!==void 0&&i!==void 0){let r=rn(i.uid,"guideLabelConfig"),a=s.get("renderer")instanceof ps,n=Math.round(e.width()),o=Math.round(e.height()),l=Math.round(i.height()),u=Math.round(i.width()),{horizontalAlignment:h,verticalAlignment:c}=r??{},A=0,d=0;if(a){let f=n!==0;switch(h){case gi.Left:f?A=-u/2:A=-u;break;case gi.Right:f?A=u/2:A=u;break;case gi.Center:case gi.Justify:break;default:f||(A=u/2);break}switch(c){case Zt.Bottom:f?d=-l:d=-l/2;break;case Zt.Middle:d=-o/2;break;case Zt.Top:default:d=-o+l/2;break}}else{let f=o!==0;switch(h){case gi.Center:A=n/2;break;case gi.Left:A=u/2;break;case gi.Right:default:A=n-u/2;break}switch(c){case Zt.Bottom:f?d=o/2:d=l;break;case Zt.Top:f?d=-o/2+l/2:d=-l;break;case Zt.Middle:default:f||(d=-l/2);break}}i.setAll({dx:A,dy:d})}}function EN(s){let{axis:t,guide:e,label:i}=s,{chart:r}=t;if(r){let a=t.get("renderer")instanceof ps?r.yAxes.getIndex(0):r.xAxes.getIndex(0);a&&(a.events.on(Ti.BoundsChanged,Wr(()=>{Fb(t,e)},J.debounceTime)),t.events.on(Ti.BoundsChanged,Wr(()=>{Fb(t,e)},J.debounceTime)))}i.setAll({paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0})}function MN(s){let{guide:t,axis:e,guideLabelConfig:i}=s,r=t.get("label");if(r!==void 0){yL(r),wC(r.uid,{isGuide:!0,guideLabelConfig:i});let{chart:a}=e;a!==void 0&&Jp({chart:a,label:r,labelType:pi.GuideLabel}),EN({axis:e,guide:t,label:r})}}function RN(s){let{axis:t,guide:e,guideConfig:i,guideType:r}=s,a=e?.get("label");if(a!==void 0)if(i.label!==void 0){let n=t.get("renderer")instanceof ps,o;t instanceof ta||(n?r===qt.SFS?o=J.verticalSurfaceGuideLabels:o=J.verticalLineGuideLabels:r===qt.SFS?o=J.horizontalSurfaceGuideLabels:o=J.horizontalLineGuideLabels),wC(a.uid,{guideLabelConfig:i.label});let l={type:R.Text,visible:i.visible,content:{...i.label,verticalAlignment:Zt.Middle,horizontalAlignment:gi.Center,rightToLeft:a.get("direction")==="rtl"}};Wn({label:a,labelConfig:l,defaults:o}),a.events.once(Ti.BoundsChanged,()=>{Fb(t,e)}),Fb(t,e)}else Lr(a,!1)}function _L(s){let{element:t,fill:e,fillOpacity:i,pattern:r}=s,a=t.get("tooltip"),n=!0;r!==void 0?(a!==void 0&&(n=!1,a.get("background")?.set("fill",e)),t.set("fillPattern",r)):t.set("fill",e),a!==void 0&&a.set("getFillFromSprite",n),t.set("fillOpacity",i)}function Tb(s,t){s.setAll({stroke:t.stroke,strokeDasharray:t.strokeDasharray,strokeOpacity:t.strokeOpacity,strokeWidth:t.strokeWidth,lineCap:t.linecap})}function wL(s){let{element:t,markerSymbol:e,visible:i,defaultToColorFromRamp:r,colorRampIndex:a}=s,n;return t!==void 0&&e!==void 0&&(n=CC({symbol:e,defaultToColorFromRamp:r,colorRampIndex:a}),n!==void 0&&(t.setAll({svgPath:n.path,rotation:n.angle,dx:n.xOffset,dy:n.yOffset}),_L({element:t,fill:n.fill,fillOpacity:n.fillOpacity}),Tb(t,n.outline)),Lr(t,i)),n}function Rc(s){let{root:t,element:e,fillSymbol:i,visible:r,defaultToColorFromRamp:a,colorRampIndex:n,isChartFillSymbol:o,keepCurrentVisibility:l}=s,u;return e!==void 0&&!e.isDisposed()&&(i!==void 0&&(u=CC({root:t,symbol:i,defaultToColorFromRamp:a,colorRampIndex:n,isChartFillSymbol:o}),u!==void 0&&(_L({element:e,fill:u.fill,fillOpacity:u.fillOpacity,pattern:u.pattern}),Tb(e,u.outline))),l||Lr(e,r)),u}function wo(s){let{element:t,lineSymbol:e,visible:i,defaultToColorFromRamp:r,colorRampIndex:a}=s,n;return t!==void 0&&!t.isDisposed()&&(e!==void 0&&(n=CC({symbol:e,defaultToColorFromRamp:r,colorRampIndex:a}),n!==void 0&&(Tb(t,n),t instanceof ei&&Tb(t.strokes.template,n))),Lr(t,i)),n}function $a(s){let{root:t,element:e,seriesIndex:i,seriesSymbol:r,isChartFillSymbol:a,colorMatch:n,rendererSymbol:o,keepCurrentVisibility:l}=s,u,h;n&&o!==void 0&&(u=Qx({rendererSymbol:o,seriesSymbol:r,colorIndex:i}));let c={root:t,element:e,defaultToColorFromRamp:!0,colorRampIndex:i},A=u??{...r};switch(r.type){case qt.SLS:h=wo({...c,lineSymbol:A});break;case qt.SFS:h=Rc({...c,fillSymbol:A,isChartFillSymbol:a,keepCurrentVisibility:l});break;case qt.SMS:h=wL({...c,markerSymbol:A});break}return{symbolWithColorInfo:A,stylingInfo:h}}function hO(s,t){if(t!==void 0){let{elementColor:e,elementOutlineColor:i,elementOutlineWidth:r,rotation:a,transformation:n}=t,{opacity:o,scale:l}=n??{};if(e!==void 0&&s.setAll({fill:wi(e).color,fillOpacity:1}),i!==void 0&&s.setAll({stroke:wi(i).color,strokeOpacity:1}),r!==void 0&&s.setAll({strokeWidth:r}),a!==void 0&&s.setAll({rotation:a}),l!==void 0&&s.setAll({scale:l}),o!==void 0){s.setAll({fillOpacity:(s.get("fillOpacity")??1)*o});let u=s.get("strokeOpacity");u!==void 0&&s.setAll({strokeOpacity:u*o})}}}async function UN(s=tf(document.documentElement).t9nLocale){let t=await import("./N5HWFUD7.js");switch(s){case"ar":t=await import("./AXJAEKAM.js");break;case"bs":t=await import("./4ZAJ5JQ4.js");break;case"bg":t=await import("./JNYYMRHO.js");break;case"ca":t=await import("./3U3YWDXX.js");break;case"cs":t=await import("./BEZ5N7N7.js");break;case"da":break;case"de":t=await import("./SYEV7CRF.js");break;case"el":t=await import("./IFQ55A6M.js");break;case"es":t=await import("./2MIBYJZZ.js");break;case"et":t=await import("./F47TPQPI.js");break;case"fi":t=await import("./5BPAAPAU.js");break;case"fr":t=await import("./EYSBPEOE.js");break;case"he":t=await import("./AR74UASC.js");break;case"hr":t=await import("./GEREEP4F.js");break;case"hu":t=await import("./DOXUK2OA.js");break;case"id":t=await import("./TY2B2WYK.js");break;case"it":t=await import("./OR7VDBNZ.js");break;case"ja":t=await import("./XSDWDGAO.js");break;case"ko":t=await import("./W6P6K3CA.js");break;case"lt":t=await import("./2XAIPOIW.js");break;case"lv":t=await import("./QNHNWFT7.js");break;case"no":t=await import("./544IHJQO.js");break;case"nl":t=await import("./JFD7LK5L.js");break;case"pl":t=await import("./KFDH64OO.js");break;case"pt-BR":t=await import("./P2CFS2Y7.js");break;case"pt-PT":t=await import("./TIHW2JRG.js");break;case"ro":t=await import("./4NSG3AC4.js");break;case"ru":t=await import("./32TL42LA.js");break;case"sr":t=await import("./X4VD7UYA.js");break;case"sk":t=await import("./RPX6FDUW.js");break;case"sl":t=await import("./VWFJEDQX.js");break;case"sv":t=await import("./PWLWBP33.js");break;case"th":t=await import("./3MWGUGJY.js");break;case"tr":break;case"uk":t=await import("./MLOXSRQH.js");break;case"vi":t=await import("./3G4TXUPM.js");break;case"zh-CN":t=await import("./JR67RFHQ.js");break;case"zh-HK":t=await import("./T3EAQQFU.js");break;case"zh-TW":t=await import("./T3EAQQFU.js");break}let e=(await mx(s)).customAmchartsStrings;return{...t.default,...e}}function gn(s){let{root:t,type:e,intlOptions:i,formatLocale:r}=s,a;switch(e){case R.NumberAxisFormat:{a=Mu.new(t,{}),a.set("intlLocales",r),a.set("numberFormat",i);break}case R.DateAxisFormat:{a=Zh.new(t,{}),a.set("intlLocales",r);break}}return a}var zi={Top:"top",Bottom:"bottom",Median:"median",Outliers:"outliers"},bh={Outlier:"outlier",Box:"box",OutlierToOutlier:"outlier-outlier",OutlierToBox:"outlier-box",BoxToOutlier:"box-outlier",BoxToBox:"box-box"};function VN(s,t){let e=s[wt.boxPlot.boxPlotOutlierId]===!0?bh.Outlier:bh.Box,i=typeof t=="number"?bh.Outlier:bh.Box;return`${e}-${i}`}function NN(s){let{oneSelectedItem:t,dataContext:e,selectedOutlierKey:i}=s;return t[i]===e[i]}function QN(s){let{elementMin:t,elementMax:e,selectedOutlierValue:i}=s,r;return typeof t=="number"&&typeof e=="number"&&typeof i=="number"&&(r=i>=t&&i<=e),r}function HN(s){let{selectedMin:t,selectedMax:e,elementOutlierValue:i,oneSelectedItem:r,iqrField:a}=s,n;typeof t=="number"&&typeof e=="number"&&typeof i=="number"&&(n=i>=t&&i<=e);let o=a in r;return n!==!1&&o}function jN(s){let{selectedMin:t,selectedMax:e,elementMin:i,oneSelectedItem:r,elementMax:a,iqrField:n}=s,o;typeof i=="number"&&typeof a=="number"&&typeof t=="number"&&typeof e=="number"&&(o=!(i>=e||a<=t));let l=n in r;return o!==!1&&l}function XN(s){let{oneSelectedItem:t,dataContext:e,xAxisField:i}=s,r=e[wt.typeOrDomainIdValue]??e[wt.originalCategoryValue]??e[wt.boxPlot.boxPlotCategory]??e[i],a=t[wt.typeOrDomainIdValue]??t[wt.originalCategoryValue]??t[wt.boxPlot.boxPlotCategory]??t[i];return r===a}function WN(s){let{chartSubType:t,yAxisField:e,splitBy:i,showOutliers:r}=s,a=t===Ie.BoxPlotMultiFieldsAndCategory?e:void 0,n={y:a,splitBy:i},o=Zi({...n,key:Jt.Outlier}),l=Zi({...n,key:Jt.Max,showOutliers:r}),u=Zi({...n,key:Jt.Min,showOutliers:r}),h=Zi({...n,key:Jt.Max,showOutliers:!1}),c=Zi({...n,key:Jt.Min,showOutliers:!1}),A=Zi({...n,key:Jt.Max,showOutliers:!0}),d=Zi({...n,key:Jt.Min,showOutliers:!0}),f=Zi({splitBy:i,y:a,key:Jt.IQR});return{selectedOutlierKey:o,maxField:l,minField:u,selectedMaxFieldWoOutliers:h,selectedMinFieldWoOutliers:c,selectedMaxFieldWithOutliers:A,selectedMinFieldWithOutliers:d,iqrField:f}}function zN(s){let{elementDataContext:t,layerOidField:e,xAxisField:i,splitBy:r,yAxisField:a,chartSubType:n,showOutliers:o}=s,l=t,u;if(l?.[wt.boxPlot.boxPlotMeanLineMarkerId]===!0){let h=Zi({splitBy:r,key:Jt.Average});u=c=>{let A=!i||!(i in c&&i in l)||c[i]===l[i],d=h in c&&h in l;return A&&d}}else i!==void 0&&a!==void 0&&(u=h=>{let c;if(e!==void 0&&e in h&&e in l)c=h[e]===l[e];else{let{selectedOutlierKey:A,maxField:d,minField:f,selectedMaxFieldWoOutliers:p,selectedMinFieldWoOutliers:m,selectedMaxFieldWithOutliers:g,selectedMinFieldWithOutliers:y,iqrField:x}=WN({chartSubType:n,yAxisField:a,splitBy:r,showOutliers:o}),C=l[A],S=h[A],P=l[f],F=l[d],O=h[m]??h[y],$=h[p]??h[g],L=XN({oneSelectedItem:h,dataContext:l,xAxisField:i});if(L)switch(VN(h,C)){case bh.OutlierToOutlier:L=NN({oneSelectedItem:h,dataContext:l,selectedOutlierKey:A});break;case bh.OutlierToBox:L=QN({elementMin:P,elementMax:F,selectedOutlierValue:S});break;case bh.BoxToOutlier:L=HN({selectedMin:O,selectedMax:$,elementOutlierValue:C,oneSelectedItem:h,iqrField:x});break;case bh.BoxToBox:L=jN({selectedMin:O,selectedMax:$,elementMin:P,oneSelectedItem:h,elementMax:F,iqrField:x});break}c=L===!0}return c});return u}function BC(s){let{layerOidField:t,sliceDataContext:e,selectionDataContext:i,xAxisField:r}=s,a=!1;if(t!==void 0&&t in e&&t in i)a=i[t]?.toString()===e[t]?.toString();else{let n=e[wt.typeOrDomainIdValue];n===void 0&&(n=e[wt.originalCategoryValue]),n===void 0&&(n=e[r]),n===void 0&&(n=e[Kn]);let o=i[wt.typeOrDomainIdValue];o===void 0&&(o=i[wt.originalCategoryValue]),o===void 0&&(o=i[r]),o===void 0&&(o=i[Kn]),a=n!==void 0&&o!==void 0&&n===o}return a}function Mb(s){let{options:t,elementDataContext:e,selectionDataItems:i,layerOidField:r,xAxisField:a,yAxisField:n,chartType:o}=s,{originalCategoryValue:l}=wt,u=!1,h;if(e!==void 0&&i!==void 0)switch(o){case R.HeatSeries:let c=e,A=a&&c[a]!==void 0?c[a]:c[$r.xField],d=n&&c[n]!==void 0?c[n]:c[$r.yField];h=f=>{let p=a&&f[a]!==void 0?f[a]:f[$r.xField],m=n&&f[n]!==void 0?f[n]:f[$r.yField];return A===p&&d===m};break;case R.RadarSeries:case R.BarSeries:case R.LineSeries:case R.ComboLineAndBarSeries:if(a!==void 0&&n!==void 0){let f=e;h=p=>{let m;if(r!==void 0&&r in p&&r in f)m=p[r]===f[r];else if(wt.dateBinningRange in f&&typeof p[a]=="number"){let g=p[a],y=p[wt.dateBinningRange],x=Array.isArray(y)&&Number.isFinite(y[0])&&Number.isFinite(y[1]),[C,S]=x?y:[0,0],[P,F]=f[wt.dateBinningRange],O=f[wt.lastTemporalBin]===!0?g<=F:g<F;m=(x?C<F&&P<S:g>=P&&O)&&n in p&&Number.isFinite(p[n])}else{let g=x=>{let C=x[wt.typeOrDomainIdValue];return C===void 0&&(C=x[l]),C===void 0&&(C=x[a]),C=C===null?wt.nullValue:C,C},y=g(f);m=g(p)===y&&n in p}return m}}break;case R.BoxPlotSeries:h=zN(s);break;case R.ScatterSeries:if(a!==void 0&&n!==void 0){let f=e;if(!IP({dataContext:f,chartLimits:t?.chartLimits}))h=p=>{let m;return r!==void 0&&r in f&&r in p?m=p[r]===f[r]:m=p[a]===f[a]&&p[n]===f[n],m};else{let{dataContextXMinField:p,dataContextXMaxField:m,dataContextYMinField:g,dataContextYMaxField:y}=wt.scatterplotAggregationFields,{[p]:x,[m]:C}=f,S=a!==n?f[g]:x,P=a!==n?f[y]:C,F=$=>{let L=$[a]??Number.NaN,E=x??Number.NaN,D=C??Number.NaN;return x===C?L===E:(L??Number.NaN)>=E&&(L??Number.NaN)<D},O=$=>{let L=$[n]??Number.NaN,E=S??Number.NaN,D=P??Number.NaN;return S===P?L===E:L>=E&&L<D};h=$=>F($)&&O($)}}break;case R.HistogramSeries:h=f=>{let p=!1,{minValue:m,maxValue:g}=e,{isLastBin:y}=e;if(a!==void 0&&a in f){let x=f[a];p=typeof x=="number"&&x>=m&&(y&&x<=g||!y&&x<g)}else if("minValue"in f&&"maxValue"in f){let{minValue:x,maxValue:C}=f;p=!(m>=C||g<=x)}return p};break;case R.PieSeries:a!==void 0&&(h=f=>{let p=e,m=Ho(p),g=[p];return m&&g.push(...am({groupOfSlicesDataContext:p})??[]),g.some(y=>BC({sliceDataContext:y,selectionDataContext:f,layerOidField:r,xAxisField:a}))});break}return h!==void 0&&(u=i.some(h)),u}function su(s){let{isFeatureCollectionLayer:t,dataContext:e,yAxisField:i,yList:r,xAxisField:a,splitBy:n,chartType:o,chartSubType:l,showOutliers:u}=s,h={...e};if(e!==void 0){if(o===R.RadarSeries||o===R.BarSeries||o===R.LineSeries||o===R.ComboLineAndBarSeries||o===R.PieSeries){o!==R.PieSeries&&(t||l!==Ie.BarAndLineNoAggregation&&l!==Ie.BarAndLineSplitByNoAggregation)&&r.forEach(A=>{A!==i&&delete h[A]});let c=to({value:e[a],dataContext:e,keepNullValues:!0});h[a]=c,!Ki(n)&&!yP(n)&&(h[ko(n)]=Tl({where:n,escape:!1}))}else if(o===R.BoxPlotSeries){h={[a]:e[a]},[Eh.uniqueIdsName,wt.boxPlot.boxPlotMeanLineMarkerId,wt.boxPlot.boxPlotOutlierId,wt.typeOrDomainIdValue].forEach(A=>{e[A]&&(h[A]=e[A])});let c=l===Ie.BoxPlotMultiFieldsAndCategory?i:void 0;Object.values(Jt).forEach(A=>{let d=Zi({key:A,y:c,splitBy:n,showOutliers:u});e[d]!==void 0&&(h[d]=e[d])})}}return h}function CL(s,t,e){let i=t-s,r=[];if(i!==0){if(e===1)r=[s];else if(e>1){let a=i/(e-1);r=[...dP(s,t,a),t]}}return r}function BL({x:s,mean:t,stddev:e,scalingFactor:i}){let r=-1/(2*e**2);return(i??1)*Math.exp(r*(s-t)**2)}function SL(s){let t=0;if(s.length>0)for(let e=0;e<s.length;e+=1)s[e].count>t&&(t=s[e].count);return t}var na={CustomActive:"custom-active",CustomInactive:"custom-inactive",Default:"default",Active:"active"};function PL(s){let t=!1,e;if(s.target.dataItem?.component instanceof Cs?{chart:e}=s.target.dataItem.component:(s.target instanceof En||s.target instanceof jl)&&({chart:e}=s.target),e instanceof Ai||e instanceof Js){let i=pe(e.uid,"actionMode");if(i!==void 0){let{originalEvent:r}=s;t=i===Ht.MultiSelection||i===Ht.MultiSelectionWithCtrlKey&&("ctrlKey"in r&&r.ctrlKey||"metaKey"in r&&r.metaKey)}}return t}function wa(s){let{element:t,selected:e,multiSelect:i,isDateOrCategoryAxis:r,backToDefaultState:a}=s,n=!1;if(t!==void 0){let o=ou(t.uid,"selected")??!1;n=o,i!==!0?r===!0?n=o?!1:o!==e:n=e:n=o!==e;let l=a===!0?na.Default:na.CustomInactive;t.states.apply(na.Default),t.states.apply(n?na.CustomActive:l),n!==o&&vN(t.uid,{selected:n})}return n}function GN(s,t){let e=pe(t.chart?.uid??Number.NaN,"actionMode"),i=PL(s);return e===Ht.MonoSelection||e===Ht.MultiSelectionWithCtrlKey&&!i}function Bo(s,t){let{selectedElementsTheme:e,nonSelectedElementsTheme:i}=t??J.selectionTheme??{},r=s.states.create(na.CustomActive,{}),a=s.states.create(na.CustomInactive,{});hO(r,e),hO(a,i)}function YN(s){return!!/^data:[a-z]+\/[a-z+.-]+;base64/u.test(s)}function FL(s,t=512){if(!YN(s))throw new Error("Cannot convert a string that is not a data uri to a blob");let e=s.split(",")[0].split(":")[1].split(";")[0],i=atob(s.split(",")[1]),r=[];for(let a=0;a<i.length;a+=t){let n=i.slice(a,a+t),o=new Array(n.length);for(let u=0;u<n.length;u++)o[u]=n.charCodeAt(u);let l=new Uint8Array(o);r.push(l)}return new Blob(r,{type:e})}function SA(s){let{value:t,valueFormat:e,formatLocale:i,root:r}=s,a=t?.toString(),n=gn({type:e.type,intlOptions:e.intlOptions,formatLocale:i,root:r});return typeof t=="number"&&e.type===R.NumberAxisFormat?a=n.format(t,Jn(e)):(typeof t=="number"||t instanceof Date)&&e.type===R.DateAxisFormat&&(a=n.format(t,Jn(e))),a}async function KN(s){let{root:t,exportOptions:e}=s,{format:i,quality:r=1,...a}=e,n=r<0||r>1?1:r,o=await mh.new(t,{}).exportImage(i,{quality:n,...a}),l=FL(o),u=i==="jpg"?"image/jpeg":"image/png";return new File([l],`chart.${i}`,{type:u})}function Kp(s,t){if(s!==void 0&&t!==void 0&&(s.states.lookup("default")?.setAll({fill:t.fill,fillOpacity:t.fillOpacity}),t.outline!==void 0)){let{outline:e}=t;s.states.lookup("default")?.setAll({stroke:e.stroke,strokeDasharray:e.strokeDasharray,lineCap:e.linecap,strokeWidth:e.strokeWidth})}}function SC(s){let{pieChart:t,valueIntlOptions:e,percentageIntlOptions:i,displayNumericValue:r,displayPercentage:a,valuePrefix:n,valueSuffix:o,percentagePrefix:l,percentageSuffix:u}=s,{root:h}=t,c=pe(t.uid,"formatLocale"),A=gn({root:h,type:R.NumberAxisFormat,intlOptions:e,formatLocale:c}),d=gn({root:h,type:R.NumberAxisFormat,intlOptions:{...i,style:"percent"},formatLocale:c}),f=ca(pe(t.uid,"rtl")??!1," ");return(p,m,g)=>{let y="";if(m!==void 0&&g!==void 0){let x=`${n??""}${A.format(m)}${o??""}`,C=`${l??""}${d.format(Math.abs(g/100))}${u??""}`;Number.isFinite(m)?r===!0&&a===!0?y=`${C}${f}(${x})`:r===!0?y=x:a===!0&&(y=C):y=""}return y}}function ZN(s,t){let e=!1;if(t===St.Right||t===St.Left)e=!0;else{let i=s.dataItems[0]?.get("itemContainer").bounds().left;i!==void 0&&(e=!s.dataItems.some(r=>r.get("itemContainer").bounds().left!==i))}return e}function qN(s){let t=!1,e=s.dataItems[0]?.get("itemContainer").bounds().bottom;return e!==void 0&&(t=!s.dataItems.some(i=>i.get("itemContainer").bounds().bottom!==e)),t}function JN(s){wC(s.uid,{isLegendValueLabel:!0}),s.valueLabels.template.adapters.add("text",(t,e)=>{let i=t??"",r=yN(s.uid,"pieChartLegendValueLabelsFormatter");return r!==void 0&&(i=r(e.dataItem?.get("value")??0,e.dataItem?.get("valuePercentTotal")??0)),i}),s.valueLabels.template.set("text","")}function TL(s){let{legend:t,seriesConfig:e,webChartLegend:i,pieChartLegendValueLabelFormatter:r,chart:a}=s,{visible:n,body:o,displayNumericValue:l,displayPercentage:u}=i??{};if(We(e)===R.PieSeries){let{numericValueFormat:h,percentValueFormat:c,valuePrefix:A,valueSuffix:d,percentagePrefix:f,percentageSuffix:p}=e[0],m=l??J.pieChart.displayNumericValueOnLegend,g=u??J.pieChart.displayPercentageOnLegend,y=r;if(r===void 0){let F=SC({pieChart:a,valueIntlOptions:h?.intlOptions,percentageIntlOptions:c?.intlOptions,displayNumericValue:m,displayPercentage:g,valuePrefix:A,valueSuffix:d,percentagePrefix:f,percentageSuffix:p});y=(O,$)=>F("",O,$)}bN(t.uid,{pieChartLegendValueLabelsFormatter:y});let x=pe(a?.uid??0,"config")?.legend?.position??J.legendProperties.position,C=ZN(t,x),S={type:R.Text,visible:n,content:{...o,type:qt.TS,text:".",verticalAlignment:Zt.Middle,horizontalAlignment:C?gi.Right:gi.Center}};Wn({label:t.valueLabels.template,labelConfig:S,defaults:J.legendProperties.valueLabels});let P=pe(a?.uid??0,"rtl")??!1;t.valueLabels.template.setAll({x:void 0,y:void 0,paddingRight:5,textAlign:P?"right":"left",disabled:m===!1&&g===!1})}}function eQ(s,t){s.labels.template.adapters.add("maxWidth",e=>{let i=e,r=pe(t.uid,"config"),a=r?.legend?.labelMaxWidth,n=r?.legend?.position??J.legendProperties.position;if(n===St.Right||n===St.Left)i=a??J.legendProperties.legendLabels.maxWidth;else if(a!==void 0)i=a;else{let o=0;s.valueLabels.template.get("forceHidden")||s.valueLabels.each(u=>{let h=u.get("width",0);typeof h=="number"&&(o=Math.max(o,h))});let l=s.get("width",200);typeof l=="number"&&(i=l+o)}return i}),s.valueLabels.template.adapters.add("maxWidth",e=>{let i=e,r=pe(t.uid,"config"),a=r?.legend?.valueLabelMaxWidth,n=r?.legend?.position??J.legendProperties.position;return n===St.Right||n===St.Left?i=a??J.legendProperties.valueLabels.maxWidth:i=a??Number.NaN,i})}function DL(s){let t=0;for(let e of s.dataItems){let i=e.get("label")?._contentWidth??0;t=Math.max(t,i)}return t}function tQ(s,t){for(let e of s.dataItems)e.get("label")?.set("width",t)}function iQ(s,t){let e=0;for(let i of s.dataItems){let r=i.get("marker")?._contentWidth??0,a=i.get("valueLabel")?._contentWidth??0,n=r+t+a;e=Math.max(e,n)}return Math.ceil(e)+J.legendPadding}function OL(s,t){FA(()=>{let e=qN(s),i=t===St.Right||t===St.Left||!e;tQ(s,i?DL(s):void 0)})}function rQ(s){let{legend:t,chart:e,seriesConfig:i,legendConfig:r}=s,{displayCategory:a}=r??{},n=a??J.pieChart.displayCategoryOnLegend,o=pe(e?.uid??0,"rtl")??!1;t.labels.template.setAll({forceHidden:n===!1,direction:o?"rtl":"ltr"}),FA(()=>{let l=DL(t),u=iQ(t,l);t.itemContainers.template.setAll({width:u,layout:e.root.horizontalLayout}),eQ(t,e),TL({legend:t,seriesConfig:i,webChartLegend:r,chart:e});let h=r.position??J.legendProperties.position;OL(t,h),t.markDirty()})}var B={Rotated:0,NonRotated:1,RTL:2,LTR:3,Stacked:4,Stacked100:5,SideBySide:6,LegendTop:7,LegendBottom:8,LegendLeft:9,LegendRight:10,DateAxis:11,ValueAxis:12,CategoryAxis:13,OrderByFieldsASC:14,OrderByFieldsDESC:15},LL=new Set([`${B.NonRotated}-${B.LTR}-${B.SideBySide}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.SideBySide}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.SideBySide}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.SideBySide}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.LTR}-${B.SideBySide}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.LTR}-${B.SideBySide}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.LTR}-${B.SideBySide}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.LTR}-${B.SideBySide}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendRight}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendLeft}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendLeft}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendRight}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendRight}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendLeft}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendLeft}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendRight}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendRight}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendLeft}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendLeft}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendRight}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendRight}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendLeft}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendLeft}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendRight}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendRight}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendLeft}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendLeft}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendRight}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendRight}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendLeft}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendLeft}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendRight}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendRight}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendLeft}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendLeft}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendRight}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendRight}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendLeft}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendLeft}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendRight}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsDESC}`]),Rb="arcgis_charts_title_container",PC="arcgis_charts_subtitle_container",Ub="arcgis_charts_footer_container",IL="arcgis_charts_title",$L="arcgis_charts_subtitle",kL="arcgis_charts_footer",lu="arcgis_charts_legend_container",Wc="arcgis_charts_legend_title",cO="arcgis_charts_axis_title_id",EL="arcgis_charts_loader_container",ML="arcgis_charts_loader_spinner";function RL(s){let{root:t}=s,e=pe(s.uid,"rtl")??!1,i=pe(s.uid,"config"),r=i?.series[0],{start:a,end:n}=UL(e,r),o=i?.legend?.position??J.heatChart.legend.position,l=o===St.Top||o===St.Bottom;return Nl.new(t,{orientation:l?"horizontal":"vertical",startColor:a.color,endColor:n.color,visible:i?.legend?.visible,startOpacity:a.opacity,endOpacity:n.opacity})}function UL(s=!1,t){let e=J.heatChart.gradientHeatRules,i=t.gradientRules?.colorList??[...s?[e.maxColor,e.minColor]:[e.minColor,e.maxColor]],{color:r,opacity:a}=wi(i[0]),{color:n,opacity:o}=wi(i[1]);return{start:{color:r,opacity:a},end:{color:n,opacity:o}}}function sQ(s,t){let e=pe(s.uid,"rtl")??!1,i=pe(s.uid,"config")?.series[0],{start:r,end:a}=UL(e,i);t.setAll({startColor:r.color,endColor:a.color})}function VL(s,t){let{root:e}=s,i=pe(s.uid,"config")?.legend?.position??J.heatChart.legend.position,r,a,n,o,l,u=!1;switch(i){case St.Left:a=J.heatChart.legend.chartPadding,u=!0,t.setAll({layout:e.verticalLayout,orientation:"vertical",paddingRight:J.heatChart.legend.legendPadding,width:J.heatChart.legend.size,height:be}),s.leftAxesContainer.setAll({paddingLeft:J.heatChart.legend.legendPadding}),r=s.leftAxesContainer;break;case St.Right:n=J.heatChart.legend.chartPadding,t.setAll({layout:e.verticalLayout,orientation:"vertical",paddingLeft:J.heatChart.legend.legendPadding,width:J.heatChart.legend.size,height:be}),s.rightAxesContainer.setAll({paddingRight:J.heatChart.legend.legendPadding}),r=s.rightAxesContainer;break;case St.Top:{l=J.heatChart.legend.chartPadding,u=!0,t.setAll({layout:e.horizontalLayout,orientation:"horizontal",paddingBottom:J.heatChart.legend.legendPadding,paddingTop:J.heatChart.legend.legendPadding,width:be,height:J.heatChart.legend.size});let h=vr({childId:Rb,parent:s});h instanceof Re&&h.set("paddingBottom",J.heatChart.legend.chartPadding),r=s}break;case St.Bottom:{o=J.heatChart.legend.chartPadding,t.setAll({layout:e.horizontalLayout,orientation:"horizontal",paddingTop:J.heatChart.legend.legendPadding,width:be,height:J.heatChart.legend.size}),s.bottomAxesContainer.setAll({paddingBottom:J.heatChart.legend.legendPadding});let h=vr({childId:Ub,parent:s});h instanceof Re&&h.set("paddingBottom",J.heatChart.legend.chartPadding),r=s.bottomAxesContainer}break}t.markDirty(),NL(s,{chartPaddingTop:l,chartPaddingLeft:a,chartPaddingRight:n,chartPaddingBottom:o}),FA(()=>{r&&(u?r.children.unshift(t):r.children.push(t),s.markDirty(),t.markDirty(),r.markDirty())})}function NL(s,t){let{chartPaddingTop:e,chartPaddingLeft:i,chartPaddingRight:r,chartPaddingBottom:a}=t;s.setAll({paddingTop:e,paddingLeft:i,paddingRight:r,paddingBottom:a})}function QL(s){let{series:t,legend:e,chart:i}=s,r=gn({root:i.root,type:"number",intlOptions:{}}),a=()=>{let o=t.getPrivate("valueLow"),l=t.getPrivate("valueHigh");o!==void 0&&l!==void 0&&(e.set("startValue",parseFloat(r.format(o))),e.set("endValue",parseFloat(r.format(l))))};t.events.on("datavalidated",()=>{a()}),a();let n=pe(i.uid,"config");aQ(e,n?.legend)}function aQ(s,t){if(s!==void 0){let e={type:R.Text,visible:t?.visible,content:{...t?.body,type:qt.TS,text:" "}};[s.startLabel,s.endLabel].forEach(i=>{Wn({label:i,labelConfig:e,skipSettingXAndY:!0})})}}function HL(s){[s.bottomAxesContainer,s.rightAxesContainer,s.leftAxesContainer,s].forEach(t=>{t.children.values.filter(e=>e instanceof Nl).forEach(e=>{t.children.removeValue(e),e.dispose()}),t.markDirty()}),NL(s,{})}function nQ(s){let t=s.series.values[0];HL(s);let e=RL(s);return QL({series:t,legend:e,chart:s}),VL(s,e),e}function oQ(s){let{chart:t,chartConfig:e}=s,{legend:i}=e,r=i!==void 0&&i.visible!==!1;HL(t);let a=t.series.values[0],n=e?.legend?.position??J.heatChart.legend.position;r&&a!==void 0&&a instanceof Yi&&n===St.Bottom&&FA(()=>{let o=RL(t);sQ(t,o),VL(t,o),QL({series:a,legend:o,chart:t})})}function jL(s){let t=s.get("id");s.on("visible",(e,i)=>{if(i){let{chart:r}=i;if(r instanceof Bs){let a=vr({childId:lu,parent:r});a!==void 0&&a.dataItems?.forEach(n=>{n.get("id")===t&&a.set("opacity",e?1:J.legendProperties.legendLabelReducedOpacity)})}}})}function lQ(s){let t=s.target.dataItem;if(t?.dataContext!==void 0){let{dataContext:e}=t,i=typeof e=="object"&&e!==null&&"component"in e?e.component:e;if(i instanceof Cs){let r={visible:!i.get("visible")};uu(i)||nm(i)?r.overlayType=er(i.uid,"type"):r.seriesId=i.get("id"),Bx(r,i.root.dom)}}}function uQ(s){s.itemContainers.template.events.on(Ti.Click,lQ)}function hQ(s,t){let e=pe(t.uid,"rtl")??!1;s.itemContainers.template.setAll({reverseChildren:e})}function XL(s){let{chart:t,legend:e,chartConfig:i,hideEmptySeries:r}=s,a=We(i.series);if(t.series.length>1||a===R.PieSeries){let n=[],o=Pt(i.series);switch(a){case R.BoxPlotSeries:{let l=ts(i);n=t.series.values.filter(u=>{let h=!1;return l?h=u instanceof ei&&!(u instanceof lo):h=u instanceof za,h});break}case R.HistogramSeries:{n=t.series.values.filter(l=>{let u=!1;if(er(l.uid,"isOverlay")){let h=i.series[0].type===R.HistogramSeries?i.series[0].overlays:void 0,c=er(l.uid,"type"),A;switch(c){case _r.Mean:A=h?.mean?.created;break;case _r.Median:A=h?.median?.created;break;case _r.Normal:A=h?.comparisonDistribution?.created;break;case _r.StdDev:A=h?.standardDeviation?.created;break}u=A===!0}return u});break}case R.PieSeries:{n=t.series.getIndex(0)?.dataItems??[];break}case R.ComboLineAndBarSeries:case R.LineSeries:case R.RadarSeries:case R.BarSeries:n=t.series.values.filter(l=>{let u=!0;if(r!==!1){let h=i.series.find(c=>c.id===l.get("id"));if(h!==void 0&&"y"in h&&typeof h.y=="string"){let{x:c,y:A}=h,d=o===Ie.BarAndLineSplitByNoAggregation?`${A}_${Tl({where:h.query?.where,keepSurroundingQuotes:!1,escape:!1})}`:A;u=l.data.values.some(f=>ng({dataItem:f,x:c,y:d}))}}return u});break;case R.ScatterSeries:{let l=l1(t);l!==void 0&&(n=[l]);break}}e.data.setAll(n)}}function dO(s){let t=0;return s.dataItems.forEach(e=>{let i=e.get("itemContainer").width();t=Math.max(i,t)}),Math.ceil(t)}function Yp(s,t){let{root:e}=s,i=vr({childId:lu,parent:s});if(i!==void 0){let r=pe(s.uid,"config"),a=pe(s.uid,"rtl"),n=r?.title?r.title.visible??!0:!1,o=r?.subtitle?r.subtitle.visible??!0:!1,l=r?.footer?r.footer.visible??!0:!1,u=r?.legend?r.legend.visible??!0:!1,h=r?.legend?.title?r.legend.title.visible??!0:!1,c=vr({childId:Rb,parent:s}),A=c instanceof Re&&n?c.height():0,d=vr({childId:PC,parent:s}),f=d instanceof Re&&o?d.height():0,p=vr({childId:Ub,parent:s}),m=p instanceof Re&&l?p.height():0,g=vr({childId:Wc,parent:i}),y=g instanceof $i&&u&&h?g?.height():0,x=r?.legend?.position??J.legendProperties.position,C,S=t.get("verticalScrollbar"),P=Qe,F=Qe,O=e.verticalLayout,$=Qe,L=Qe,E=Qe,D=Qe,H=0,te,K=t.height()+y,ae=0,ie=0,fe=0,z=0,Y,ge;switch(x){case St.Left:O=e.verticalLayout,$=is,E=is,L=is,D=is,te=void 0,P=is,F=is,ae=i.width(),H=A+f,K<s.seriesContainer.height()&&(H+=s.seriesContainer.height()/2-K/2),C=dO(t),S?.width()!==void 0&&C&&S.isVisible()&&(C+=S.width()+J.scrollbarPadding),a&&(Y=be,ge=C);break;case St.Right:O=e.verticalLayout,$=be,E=be,L=is,D=is,te=void 0,P=is,F=is,ie=i.width(),H=A+f,K<s.seriesContainer.height()&&(H+=s.seriesContainer.height()/2-K/2),C=dO(t),S?.width()!==void 0&&C&&S.isVisible()&&(C+=S.width()+J.scrollbarPadding),a&&(Y=be,ge=C);break;case St.Top:O=e.gridLayout,$=Qe,E=Qe,L=is,D=is,te=be,P=Qe,F=Qe,fe+=K,H+=A+f,C=void 0,a&&(Y=void 0);break;case St.Bottom:O=e.gridLayout,$=Qe,E=Qe,L=be,D=be,te=be,P=Qe,F=Qe,z=K,H=-z-m,C=void 0,a&&(Y=void 0);break}(C===void 0||C>0)&&(t.setPrivate("width",C),a&&t.itemContainers.template.setAll({centerX:Y,dx:ge})),t.setAll({layout:O,x:P,centerX:F}),i.setAll({x:$,y:L,centerX:E,centerY:D,dy:H,width:te,height:0}),s.chartContainer.setAll({paddingBottom:z,paddingTop:fe,paddingLeft:ae,paddingRight:ie}),te===void 0&&(i.setPrivate("width",void 0),i.markDirty()),s instanceof Js&&OL(t,x)}}function cQ(s){let{chart:t,legend:e,legendContainer:i}=s,r=vr({childId:Wc,parent:i});r&&r.on("visible",()=>{e.root.events.once(Ti.FrameEnded,()=>{Yp(t,e)})}),i.events.on(Ti.BoundsChanged,()=>{Yp(t,e)}),e.events.on(Ti.BoundsChanged,()=>{Yp(t,e)}),t.seriesContainer.onPrivate("height",()=>{Yp(t,e)})}function WL(s,t){let e=qp({root:t.root,parent:t,index:0,id:_o(Wc,t.uid)});return e.set("paddingTop",10),Jp({chart:s,label:e,labelType:pi.LegendTitle}),e}function dQ(s,t){t.markers.template.setAll({width:J.legendProperties.legendMarkersSize,height:J.legendProperties.legendMarkersSize}),t.labels.template.adapters.add("text",(e,i)=>{let r=e,a=i.dataItem?.component;a instanceof Gr?r=(i.dataItem?.dataContext?.[a.get("categoryField")??""]??e)?.toString():a instanceof Cs&&(r=a.get("name"));let n=pe(s.uid,"config");if(n!==void 0){let{legend:o}=n,l={...o?.body,type:qt.TS,text:r};r=Ws({textSymbol:l,format:"amChartsV5"})}return r})}function AQ(s,t){t.seriesContainer.onPrivate("height",e=>{let i=0,r=pe(t.uid,"config"),a=r?.legend,n=vr({childId:lu,parent:t});if(n!==void 0){let l=vr({childId:Wc,parent:n});l!==void 0&&a?.visible!==!1&&a?.title?.visible!==!1&&(i=l.height())}let o=r?.legend?.maxHeight??Number.NaN;Number.isFinite(o)||(r?.legend?.position===St.Top||r?.legend?.position===St.Bottom?o=J.legendProperties.maxHeight:typeof e=="number"&&(o=e-i)),s.set("maxHeight",o)})}function fQ(s,t,e){s.events.on(Ti.DataValidated,()=>{s.dataItems.length>0&&zL(s,t,e)})}function pQ(s){let t;if(s!==void 0){let e=pe(s?.uid,"config");t=pe(s.uid,"rtl")&&(e?.legend?.position===St.Top||e?.legend?.position===St.Bottom)}return t??!1}function mQ(s){let t="";if(s instanceof Ai){let e=pe(s.uid,"config"),i=Sn(e),r=i?B.Rotated:B.NonRotated,a=on(e),n=B.SideBySide;a===cr.Stacked?n=B.Stacked:a===cr.Stacked100&&(n=B.Stacked100);let o=pe(s.uid,"rtl")?B.RTL:B.LTR,l;switch(e?.legend?.position){case St.Left:l=B.LegendLeft;break;case St.Top:l=B.LegendTop;break;case St.Bottom:l=B.LegendBottom;break;case St.Right:default:l=B.LegendRight;break}let u=i?s.yAxes.getIndex(0):s.xAxes.getIndex(0),h;u instanceof Sr?h=B.DateAxis:u instanceof yi?h=B.ValueAxis:h=B.CategoryAxis;let c=e?.orderOptions?.data?.orderBy===ef.Descending?B.OrderByFieldsDESC:B.OrderByFieldsASC;t=`${r}-${o}-${n}-${l}-${h}-${c}`}return t}function gQ(s){let t=mQ(s);return LL.has(t)}function zL(s,t,e){switch(e){case R.HistogramSeries:case R.PieSeries:s.set("reverseChildren",pQ(t));break;case R.BarSeries:case R.LineSeries:case R.RadarSeries:case R.ComboLineAndBarSeries:s.set("reverseChildren",gQ(t));break}}function yQ(s,t){let e=vr({childId:lu,parent:s});if(e!==void 0){let i=vr({childId:Wc,parent:e})??WL(s,e);if(t!==void 0){let{title:r,visible:a}=t,{legendTitle:n}=J.legendProperties;r!==void 0?(Wn({label:i,labelConfig:{...r,visible:a!==!1&&r.visible!==!1},defaults:{...n,verticalCenter:Zt.Top}}),ru({chart:s,label:i,labelType:pi.LegendTitle})):Lr(i,!1)}}}function bQ(s,t=!1){let e=t?J.legendProperties.roundedMarkerRadius:J.legendProperties.rectangleMarkerRadius;s.markerRectangles.template.setAll({cornerRadiusTL:e,cornerRadiusTR:e,cornerRadiusBL:e,cornerRadiusBR:e})}function vQ(s){let{legend:t,legendConfig:e,chartType:i,seriesConfig:r,chart:a}=s;if(t!==void 0){let n={type:R.Text,visible:e?.visible,content:{...e?.body,type:qt.TS,text:" "}};if(i===R.PieSeries){let o=vr({childId:lu,parent:a});o!==void 0&&vr({childId:Wc,parent:o})!==void 0&&TL({legend:t,seriesConfig:r,webChartLegend:e,chart:a})}Wn({label:t.labels.template,labelConfig:n}),t.labels.template.setAll({x:void 0,y:void 0,paddingRight:5})}}function xQ(s,t){t===!0&&s.itemContainers.each(e=>{e.events.disableType(Ti.Click)})}function AO(s){let{chart:t,seriesConfig:e,isHeatChart:i}=s,{root:r}=t,a;if(i)a=nQ(t);else{let n=Re.new(r,{id:_o(lu,t.uid),layout:r.verticalLayout});a=so.new(r,{verticalScrollbar:Yo.new(r,{orientation:"vertical"})}),t instanceof Js?JN(a):a.valueLabels.template.setAll({forceHidden:!0,textAlign:"left"}),dQ(t,a),WL(t,n),uQ(a),hQ(a,t),cQ({chart:t,legend:a,legendContainer:n}),AQ(a,t),fQ(a,t,We(e)),n.children.push(a),t.children.push(n)}return a}function _Q(s){let{chart:t,legend:e,showLegend:i}=s,r=vr({childId:lu,parent:t});r&&(Lr(r,i),Lr(e,i))}function wQ(s){let{chart:t,showLegend:e,legendConfig:i}=s;if(i){let{title:r,visible:a}=i,n=r!==void 0&&a!==!1&&r.visible!==!1,o=vr({childId:lu,parent:t});if(o){let l=vr({childId:Wc,parent:o});l&&(r?Lr(l,n):Lr(l,e))}}}function GL(s){let{chart:t,chartConfig:e,legend:i,heatChartLegendUpdatedNeeded:r,hideEmptySeries:a,seriesConfig:n,isHeatChart:o}=s,{legend:l,series:u}=e;if(o&&r)oQ({chart:t,chartConfig:e});else if(i instanceof so&&i!==void 0&&vr({childId:lu,parent:t})!==void 0){let h=lx(u)&&l!==void 0&&l.visible!==!1;if(_Q({chart:t,legend:i,showLegend:h}),wQ({chart:t,showLegend:h,legendConfig:l}),h){bQ(i,l?.roundMarkers),vQ({legend:i,legendConfig:l,chartType:We(u),seriesConfig:n,chart:t}),zL(i,t,We(u)),XL({chart:t,legend:i,chartConfig:e,hideEmptySeries:a}),yQ(t,l),Yp(t,i);let c=pe(t.uid,"options");xQ(i,c?.disableTogglingLegendItems),t instanceof Js&&rQ({legend:i,chart:t,seriesConfig:n,legendConfig:l})}}}function YL(s){let{axesConfig:t,currentSeries:e,tooltipValueFormat:i}=s,{root:r,chart:a}=e;if(a){let n=t?.[1]?.valueFormat,o=t?.[0].valueFormat,l=pe(a.uid,"formatLocale");if(n?.type===R.NumberAxisFormat){let u=gn({root:r,type:n.type,formatLocale:l,intlOptions:n.intlOptions});jr(e.uid,{tooltipValueYNumberFormatCallback:h=>u.format(h,i?.intlOptions??n.intlOptions)})}if(o?.type===R.NumberAxisFormat){let u=gn({root:r,type:o.type,formatLocale:l,intlOptions:o.intlOptions});jr(e.uid,{tooltipValueXNumberFormatCallback:h=>u.format(h,i?.intlOptions??o.intlOptions)})}}}function gl(s,t){return t!=null&&t!==""?t:s}function KL(s,t){let e;switch(s){case Cn.Average:{e=t.statistics.mean;break}case Cn.ContinuousPercentile:{e=t.statistics.median;break}case Cn.Sum:{e=t.statistics.sum;break}case Cn.Minimum:{e=t.statistics.minimum;break}case Cn.Maximum:{e=t.statistics.maximum;break}case Cn.Variance:{e=t.statistics.variance;break}case Cn.DiscretePercentile:{e=t.statistics.discretePercentile;break}case Cn.NoAggregation:{e=t.statistics.noAggregation;break}case Cn.Count:default:{e=t.statistics.count;break}}return e}function FC(s){let{config:t,fieldName:e="",utilsStrings:i}=s,r=t.series[0].query?.outStatistics?.[0].statisticType??Gv.statisticType,a=KL(r,i);return BA(i.statistics.aggregation,{statistics:a,fieldName:e})}function ZL(s){let{config:t,fieldList:e,objectIdField:i,seriesIndex:r,isStacked100:a,utilsStrings:n}=s,o="",l=t.series[r].name,u=t.series[r],h=[u.y].flat()[0],c=t.axes,A=Pt(t.series),d=i??Eh.outStatistics.onStatisticField,f=u.query?.outStatistics?.[0].onStatisticField??d,p=wr(e,f),m=u.query?.outStatistics?.[0].statisticType??Gv.statisticType,g=KL(m,n);return A===Ie.BarAndLineNoAggregation?o=l??wr(e,h):A===Ie.BarAndLineSplitByNoAggregation?o=wr(e,h):(o=m===Cn.Count&&f===d?n.statistics.count:BA(n.statistics.aggregation,{statistics:g,fieldName:p??l}),A===Ie.BarAndLineMonoField&&!a&&(o=gl(o,c[1].title?.content?.text))),o}function qL(s){return $d(s.uid.toString(),dL)}function Vb(s){return s!=null&&!s.isDisposed()}function CQ(s){let t=Ys(s),{r:e,g:i,b:r}=t;return{r:e,g:i,b:r}}function Bb(s){let{r:t,g:e,b:i,a:r=1}=s,a=Math.round((1-r)*255+r*t),n=Math.round((1-r)*255+r*e),o=Math.round((1-r)*255+r*i);return .299*a+.587*n+.114*o>128}function JL(s){let t=TA(s);s.columns.template.set("tooltip",t),s.columns.template.setAll({tooltipText:" ",tooltipPosition:"fixed"}),s.columns.template.adapters.remove("tooltipText"),s.columns.template.adapters.add("tooltipText",(e,i)=>zc(i,s))}function BQ(s){let{axes:t,seriesConfig:e,series:i,fieldList:r,utilsStrings:a}=s,{dataTooltipVisible:n}=e,o,l=pe(i.chart?.uid??0,"rtl")??!1,u=ca(l);return n===!1?o=(h,c,A)=>"":o=(h,c,A)=>{let d=wr(r,e.x),f=gl(d,t?.[0].title?.content?.text),p=gl(a?.statistics.count??"",t?.[1]?.title?.content?.text??""),m=er(i.uid,"tooltipValueXNumberFormatCallback"),g=er(i.uid,"tooltipValueYNumberFormatCallback"),y=m?m(c):c,x=m?m(A):A,C=g?g(h):h;return`[bold]${f}${u} [/]${y} - ${x}
[bold]${p}${u} [/]${C}`},o}function SQ(s){let{seriesConfig:t,series:e,tooltip:i}=s,{dataTooltipVisible:r}=t;if(r!==!1){let a=er(e.uid,"histogramTooltipFormatter");if(a!==void 0){let n=i.dataItem;if(n!==void 0){let o=n.dataContext;return a(n.get("valueY")??0,o.minValue,o.maxValue)}}}return""}function e1(s){let t=TA(s);s.columns.template.set("tooltip",t),s.columns.template.setAll({tooltipText:" ",tooltipPosition:"fixed"}),s.columns.template.adapters.add("tooltipText",(e,i)=>zc(i,s))}function PQ(s){let{series:t,tooltipFormatter:e,axesConfig:i,seriesConfig:r}=s;YL({axesConfig:i,currentSeries:t,tooltipValueFormat:r.dataTooltipValueFormat}),jr(t.uid,{histogramTooltipFormatter:e??BQ(s)})}function FQ(s,t){let e=(f,p,m)=>"",{numericValueFormat:i,percentValueFormat:r,dataTooltipValueFormat:a,dataTooltipPercentFormat:n,displayCategoryOnTooltip:o,displayNumericValueOnTooltip:l,displayPercentageOnTooltip:u,valuePrefix:h,valueSuffix:c,percentagePrefix:A,percentageSuffix:d}=t;return e=(f,p,m)=>{let g="",{chart:y}=s;if(y){let x=SC({pieChart:y,valueIntlOptions:(a??i)?.intlOptions,percentageIntlOptions:(n??r)?.intlOptions,displayNumericValue:l??J.pieChart.displayNumericValueOnTooltip,displayPercentage:u??J.pieChart.displayPercentageOnTooltip,valuePrefix:h,valueSuffix:c,percentagePrefix:A,percentageSuffix:d})("",p,m),C=!Ki(f)&&(o??J.pieChart.displayCategoryOnTooltip);if(C&&(g=`[bold]${f}[/]`),!Ki(x)){let S=vg(x);g=C?`${g}
${S}`:S}}return g},e}function TQ(s){let t=s.get("tooltip");if(t!==void 0){let e=s.get("fill");e instanceof Ql&&(e=e.get("fill")),t.get("background")?.set("fill",e)}}function DQ(s){let{pieSeries:t,tooltip:e}=s,i="",{chart:r}=t;if(r!==void 0&&e!==void 0){let a=pe(r.uid,"config"),{dataTooltipVisible:n}=a?.series[0]??{};if(n!==!1){let o=er(t.uid,"pieChartTooltipFormatter");if(o){let l=e.dataItem;if(l!==void 0){let u=l,h=u.get("category")??"",c=l.dataContext,A=io(c);A===void 0&&(A=h);let d=u.get("value"),f=u.get("valuePercentTotal");typeof d=="number"&&d!==0&&a?.series?.[0]?.dataTooltipVisible!==!1?(e.set("disabled",!1),TQ(u.get("slice")),i=o(h,d,f,A)):e.set("disabled",!0)}}}else return}return i}function t1(s){let t=s.slices.template,e=TA(s);t.setAll({tooltip:e,tooltipText:" ",tooltipPosition:"fixed"}),t.adapters.remove("tooltipText"),t.adapters.add("tooltipText",(i,r)=>{let a=" ";try{let n=r.get("tooltip");n&&(n.dataItem=r.dataItem,a=zc(n,s))}catch{}return a}),t.set("tooltipText"," ")}function OQ(s){let{series:t,seriesConfig:e,tooltipFormatter:i}=s;jr(t.uid,{pieChartTooltipFormatter:i??FQ(t,e)})}function fO(s){let{value:t,formatLocale:e,unit:i,config:r,utilsStrings:a}=s,n={label:"",value:t.toString()};switch(i){case Bn.DayOfWeek:n={label:a.dayOfWeek,value:vL({weekdayNumber:t,firstDayOfWeek:"firstDayOfWeek"in r?r.firstDayOfWeek:J.heatChartFirstDayOfWeek,locale:e})};break;case Bn.MonthOfYear:n={label:a.monthOfYear,value:xL({monthNumber:t,locale:e})};break;case Bn.HourOfDay:n={label:a.hourOfDay,value:bL({hour:t,locale:e})};break;case Bn.DayOfMonth:n={label:a.dayOfMonth,value:typeof t=="string"?t:t?.toString()??""};break;case Bn.DayOfYear:n={label:a?.dayOfYear,value:typeof t=="string"?t:t?.toString()??""};break;case Bn.MinuteOfDay:n={label:a?.minuteOfDay,value:typeof t=="string"?t:t?.toString()??""};break;case Bn.WeekOfYear:n={label:a?.weekOfYear,value:typeof t=="string"?t:t?.toString()??""};break;case Bn.QuarterOfYear:n={label:a?.quarterOfYear,value:typeof t=="string"?t:t?.toString()??""};break}return n}function LQ(s){let{columnSeries:t,seriesConfig:e,utilsStrings:i,fieldList:r}=s;return(a,n,o)=>{let l="",u=a,h=pe(t.chart?.uid??0,"rtl"),c=pe(t.chart?.uid??0,"config");if(u!==null){if(t.chart){let y=gn({root:t.chart.root,type:"number",intlOptions:{}});u=parseFloat(y.format(a))}}else u=c?.series[0].emptyCells?.text??J.heatChart.emptyCells?.text??"";let A=pe(t.chart?.uid??0,"config"),d=ca(h??!1),f=FC({config:A,fieldName:wr(r,e.query?.outStatistics?.[0].onStatisticField??""),utilsStrings:i}),p=pe(t.chart?.uid??0,"formatLocale"),m={label:e.x,value:n},g={label:e.y,value:o};if(e.xTemporalBinning!==void 0){let{label:y,value:x}=fO({value:Number(n),config:A,formatLocale:p,unit:e.xTemporalBinning.unit,utilsStrings:i});!Ki(y)&&!Ki(x)&&(m={label:y,value:x})}if(e.yTemporalBinning!==void 0){let{label:y,value:x}=fO({value:Number(o),config:A,formatLocale:p,unit:e.yTemporalBinning.unit,utilsStrings:i});!Ki(y)&&!Ki(x)&&(g={label:y,value:x})}return Ki(l)&&(l=`[bold]${m.label}${d} [/]${m.value}
[bold]${g.label}${d} [/]${g.value}
[bold]${f}${d}[/] ${u} [/]]`),l}}function IQ(s){let{heatSeries:t,tooltip:e}=s,i="",{chart:r}=t;if(r!==void 0&&e!==void 0){let a=pe(r.uid,"config"),{dataTooltipVisible:n}=a?.series[0]??{};if(n!==!1){let o=er(t.uid,"heatChartTooltipFormatter");if(o){let l=e.dataItem;if(l!==void 0){let u=l.dataContext;if(a?.series?.[0]?.dataTooltipVisible!==!1){let h=u?.[$r.valueField]??null,c=u?.[$r.xField],A=u?.[$r.yField];i=o(h,c,A)}}}}else return}return Ur(i)}function i1(s){let t=TA(s);s.columns.template.set("tooltip",t),s.columns.template.setAll({tooltipText:" ",tooltipPosition:"fixed"}),s.columns.template.adapters.remove("tooltipText"),s.columns.template.adapters.add("tooltipText",(e,i)=>zc(i,s))}function $Q(s){let{series:t,seriesConfig:e,tooltipFormatter:i,utilsStrings:r,fieldList:a}=s;jr(t.uid,{heatChartTooltipFormatter:i??LQ({columnSeries:t,seriesConfig:e,utilsStrings:r,fieldList:a})})}function pO(s,t){if(t!==void 0){let e=CQ(t);e!==void 0&&s.label.setAll({fill:Bb({r:e.r,g:e.g,b:e.b,a:1})?Ys("#000000"):Ys("#ffffff")})}}function r1(s){s.label.setAll({paddingTop:4,paddingBottom:4})}function s1(s,t){let{dataTooltipStyleReversed:e,dataTooltipStyle:i}=J;if(t===!0){let r=s.get("background")?.get("fill");r!==void 0&&(pO(s,s.get("background")?.get("fill")?.toCSS()),e?.color!==void 0&&r.toCSSHex()!==wi(e.color).color.toCSSHex()&&s.get("background")?.setAll({fill:wi(e.color).color,stroke:r,strokeWidth:e.outline?.width??Number.NaN}))}else pO(s,s.get("background")?.get("fill")?.toCSS()),s.setAll({getStrokeFromSprite:!0,getFillFromSprite:!0}),s.get("background")?.setAll({strokeWidth:i?.outline?.width??Number.NaN,stroke:wi(i?.outline?.color).color})}function mO(s,t){if(s.get("tooltip")===void 0){let e=TA(t);s.set("tooltip",e),s.setAll({tooltipText:" ",tooltipPosition:"fixed"}),s.adapters.remove("tooltipText"),s.adapters.add("tooltipText",(i,r)=>zc(r,t))}}function TA(s){let{root:t,chart:e}=s,i=ks.new(t,{});return i.label.setAll({oversizedBehavior:"wrap",maxWidth:J.tooltipWidth}),i.adapters.add("visible",(r,a)=>(r&&n1(a,s),r)),a1(i,e),i}function TC(s,t){let{chart:e}=t,i=ks.new(s,{});return i.label.setAll({oversizedBehavior:"wrap",maxWidth:J.tooltipWidth}),i.adapters.add("visible",(r,a)=>(r&&n1(a,t),r)),a1(i,e),i.adapters.remove("tooltipText"),i.adapters.add("tooltipText",(r,a)=>zc(a,t)),i}function a1(s,t){if(s){let e=pe(t?.uid??0,"rtl");s.label.set("direction",e?"rtl":"ltr"),r1(s),s.get("background")?.setAll({fillOpacity:rf})}}function n1(s,t){let{chart:e}=t;if(e&&s){let i=pe(e.uid,"config");if(i){let{seriesConfig:r}=Qb(t,i);if(r){let{dataTooltipReverseColor:a}=r;s1(s,a)}}}}function kQ(s){let{seriesConfig:t,series:e,tooltip:i,isRotated:r}=s,a=er(e.uid,"barAndLineTooltipFormatter");if(a!==void 0){let n=i.dataItem;if(n!==void 0){let o=n.get("valueX"),l=n.get("valueY"),u=n.get("valueXTotalPercent"),h=n.get("valueYTotalPercent"),c=r?o:l,A;r&&typeof u=="number"?A=u:!r&&typeof h=="number"&&(A=h),A&&(A/=100);let d=n.dataContext??{},f=pe(e.chart?.uid??0,"config"),p=pe(e.chart?.uid??0,"rendererFieldNames"),m=to({value:d[t.x],dataContext:d,useRendererLabel:wd(f,p)}),g=io(d);g===void 0&&(g=m);let y=d[J.dateBinningRange];if(g!==void 0||c!==void 0||A!==void 0||y!==void 0)return a({seriesName:e.get("name")??t.name,xValue:m,originalXValue:g,dateBinningRange:y,statValue:c,percentValue:A})}}}function gO(s,t){if(s instanceof ks)s.set("forceHidden",t);else{let e=s.get("tooltip");e&&e.set("forceHidden",t)}}function zc(s,t){let e,{chart:i}=t;if(i!==void 0){let r=pe(i.uid,"config"),{seriesConfig:a}=Qb(t,r),{dataTooltipVisible:n}=r?.series[0]??{};if(n===!1||!a)e="",gO(s,!0);else switch(gO(s,!1),a.type){case R.ScatterSeries:t instanceof ei&&(e=QQ({seriesConfig:a,markerSeries:t,tooltip:s}));break;case R.BarSeries:case R.LineSeries:case R.RadarSeries:e=kQ({seriesConfig:a,series:t,tooltip:s,isRotated:r?.rotated??!1});break;case R.HistogramSeries:e=SQ({seriesConfig:a,series:t,tooltip:s});break;case R.HeatSeries:e=IQ({heatSeries:t,tooltip:s});break;case R.PieSeries:t instanceof Gr&&s instanceof ks&&(e=DQ({pieSeries:t,tooltip:s}));break}}return e??""}function EQ(s){let{series:t,dateRange:e,xAxisValueFormat:i}=s,r,a=pe(t.chart?.uid??Number.NaN,"timeIntervalInfo");if(e!==void 0&&e.length>0){let n={};switch(a?.unit){case rr.Second:n={month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};break;case rr.Minute:n={month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"};break;case rr.Hour:n={month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"};break;case rr.Day:case rr.Week:case rr.Month:case rr.Year:n={month:"numeric",day:"numeric",year:"numeric"};break}n.timeZone=i.intlOptions.timeZone;let o=new Date(e[0]),l=new Date(e[1]),{root:u}=t;if(!Number.isNaN(o.valueOf())&&t.chart!==void 0){let h=pe(t.chart.uid,"formatLocale"),c=gn({root:u,type:R.DateAxisFormat,formatLocale:h,intlOptions:n}),A=c.format(o,n);if(r=A,!Number.isNaN(l.valueOf())){let d=c.format(l,n);d!==A&&(r=`${r} - ${d}`)}}}return r?.toString()??""}function MQ(s){let{seriesConfig:t,xAxisValueFormat:e,setTimeBinningInfoWhenNotProvided:i,dataTooltipValueFormat:r,dataTooltipDateFormat:a,series:n,xValue:o,dateBinningRange:l}=s,{root:u}=n,h,c=pe(n.chart?.uid??0,"formatLocale");return Mh({seriesConfig:t,xAxisValueFormatType:e?.type,setTimeBinningInfoWhenNotProvided:i})&&l!==void 0&&e?.type===R.DateAxisFormat?h=EQ({series:n,dateRange:l,xAxisValueFormat:e}):eo(e)&&o!==void 0?h=SA({root:u,value:o,valueFormat:a??e,formatLocale:c}):typeof o=="number"&&Sa(e)?h=SA({root:u,value:o,valueFormat:r??e,formatLocale:c}):h=o,h?.toString()??""}function RQ(s){let{isStacked100:t,series:e,statValue:i,percentValue:r,yAxisValueFormat:a,dataTooltipValueFormat:n,dataTooltipPercentFormat:o}=s,l=e.chart?.uid??0,{root:u}=e,h=n;h===void 0&&(Sa(a)&&a?(h=a,t&&(h.intlOptions.style="decimal")):h=ig());let c=pe(l,"formatLocale"),A=i!==void 0?SA({root:u,value:i,valueFormat:h,formatLocale:c}):"",d="";if(t&&r!==void 0&&u!==void 0){let f=o;f===void 0&&(f=Jv(),f.intlOptions.minimumFractionDigits=2,f.intlOptions.maximumFractionDigits=2),d=SA({root:u,value:r,valueFormat:f,formatLocale:c})}return{formattedStatValue:A,formattedPercentValue:d}}function UQ(s){let{utilsStrings:t,fieldList:e,queryObject:i,series:r,seriesConfig:a,seriesIndex:n,setTimeBinningInfoWhenNotProvided:o}=s,{chart:l}=r,{dataTooltipDateFormat:u,dataTooltipPercentFormat:h,dataTooltipValueFormat:c}=a,A=()=>"";if(l!==void 0){let d=pe(l.uid,"config");if(d!==void 0){let{dataTooltipVisible:f}=a,p=r instanceof ei?a.markerVisible:void 0;if(f!==!1&&p!==!1){let m=d.axes,g=m[0].valueFormat,y=m[1].valueFormat,x=Pt(d.series),C=on(d)===cr.Stacked100,S=ha(i)?.objectIdField,P=wr(e,a.x),F=gl(P,m[0].title?.content.text),O=ZL({config:d,fieldList:e,objectIdField:S,seriesIndex:n,utilsStrings:t,isStacked100:C}),$=pe(l.uid,"rtl"),L=ca($??!1);A=E=>{let{seriesName:D,statValue:H,percentValue:te,xValue:K,dateBinningRange:ae}=E,ie=MQ({seriesConfig:a,xAxisValueFormat:g,dataTooltipValueFormat:c,dataTooltipDateFormat:u,setTimeBinningInfoWhenNotProvided:o,series:r,xValue:K,dateBinningRange:ae}),{formattedStatValue:fe,formattedPercentValue:z}=RQ({isStacked100:C,yAxisValueFormat:y,dataTooltipValueFormat:c,dataTooltipPercentFormat:h,series:r,statValue:H,percentValue:te}),Y=[`[bold]${F}${L} [/]${ie}`];switch(x){case Ie.BarAndLineFromFields:{Y.pop();let ge=FC({config:d,fieldName:wr(e,ie??""),utilsStrings:t});Y.push(`[bold]${ge}${L} [/]${fe}`);break}case Ie.BarAndLineMonoField:case Ie.BarAndLineNoAggregation:case Ie.BarAndLineMultiFields:Y.push(`[bold]${O}${L} [/]${fe}`);break;case Ie.BarAndLineSplitByNoAggregation:case Ie.BarAndLineSplitBy:{let ge=ko(a.query?.where,!1),re=ox({value:wr(e,ge)});Y.push(`[bold]${re}${L} [/]${D}
[bold]${O}${L} [/]${fe}`)}break}return C&&Y.push(`[bold]${t.statistics.percent}${L} [/]${z}`),Y.join(`
`)}}}}return A}function DC(s){let{series:t,tooltipFormatter:e}=s;jr(t.uid,{barAndLineTooltipFormatter:e??UQ(s)})}function VQ(s,t){switch(!0){case(s===R.HistogramSeries&&t instanceof Yi):{e1(t);break}case(s===R.PieSeries&&t instanceof Gr):{let e=er(t.uid,"tooltipCallback");e&&e.dispose();let i=t.events.on(Ti.DataValidated,()=>{t1(t)});jr(t.uid,{tooltipCallback:i});break}case(s===R.HeatSeries&&t instanceof Yi):{i1(t);break}case((s===R.ComboLineAndBarSeries||s===R.BarSeries)&&t instanceof Yi):{JL(t);break}case((s===R.ComboLineAndBarSeries||s===R.LineSeries)&&t instanceof ei):{let e=er(t.uid,"bulletTemplate");e&&mO(e,t);break}case(s===R.ScatterSeries&&t instanceof ei):{let e=er(t.uid,"bulletTemplate");e&&HQ(e,t);break}case(s===R.RadarSeries&&t instanceof ei):{let e=er(t.uid,"bulletTemplate");e&&mO(e,t);break}}}function NQ(s){let{axesConfig:t,seriesConfig:e,series:i,fieldList:r}=s,{dataTooltipVisible:a}=e,n,{chart:o}=i,l=o?.uid!==void 0?pe(o.uid,"rtl"):!1,u=ca(l??!1);return a===!1?n=(h,c,A,d)=>"":n=(h,c,A,d)=>{let f=wr(r,e.x),p=Ki(t?.[0].title?.content?.text)?f:t?.[0].title?.content?.text,m=wr(r,e.y),g=Ki(t?.[1]?.title?.content?.text)?m:t?.[1]?.title?.content?.text,y=er(i.uid,"tooltipValueXNumberFormatCallback"),x=y?y(h):h,C=er(i.uid,"tooltipValueYNumberFormatCallback"),S=C?C(c):c,P=`[bold]${p}${u} [/]${x}
[bold]${g}${u} [/]${S}`;if(A!==void 0&&e.sizePolicy?.field!==void 0){let F=wr(r,e.sizePolicy?.field),O=C?C(A):A;P+=`
[bold]${F}${u} [/]${O}`}return e.additionalTooltipFields?.forEach(F=>{let O=wr(r,F),$=r?.find(D=>D.name===F),L=d?.[F],E="";if(L!=null&&L!==void 0&&$)if(BP($)&&typeof L=="number")E=String(C?C(L):L);else if(SP($)){let D=new Date(L),H=o?pe(o.uid,"formatLocale"):void 0;E=new Intl.DateTimeFormat(H,{}).format(D)}else $.type===cP.String&&typeof L=="string"&&(E=L);P+=l?`
${E}[bold]${O}${u} [/]`:`
[bold]${O}${u} [/]${E}`}),P},n}function QQ(s){let{seriesConfig:t,markerSeries:e,tooltip:i}=s,{x:r,y:a,sizePolicy:n,dataTooltipVisible:o}=t,{field:l}=n??{};if(o!==!1){let u=er(e.uid,"scatterplotTooltipFormatter");if(!i.isHidden()&&u){let{dataItem:h}=i;if(h){let c=h.dataContext;if(c){let A=r in c&&typeof c[r]=="number"?Number(c[r]):Number.NaN,d=a in c&&typeof c[a]=="number"?Number(c[a]):Number.NaN,f=l&&l in c&&typeof c[l]=="number"?Number(c[l]):void 0;return u(A,d,f,c)}}}}}function HQ(s,t){let e=TA(t);s.set("tooltip",e),s.setAll({tooltipText:" ",tooltipPosition:"fixed"}),s.adapters.add("tooltipText",(i,r)=>zc(r,t))}function jQ(s){let{axesConfig:t,series:e,seriesConfig:i,tooltipFormatter:r}=s;YL({axesConfig:t,currentSeries:e,tooltipValueFormat:i.dataTooltipValueFormat}),jr(e.uid,{scatterplotTooltipFormatter:r??NQ(s)})}function XQ(s){let{series:t,seriesConfig:e,newMin:i,newMax:r}=s,a=t.get("heatRules")?.[0],n=a===void 0&&e.sizePolicy!==void 0||a!==void 0&&e.sizePolicy===void 0;if(!n&&a!==void 0){let o=a.min===i&&a.max===r,l=t.get("valueField")===e.sizePolicy?.field,u=e.sizePolicy?.scaleType===Fl.Linear&&a.logarithmic!==!0||e.sizePolicy?.scaleType===Fl.Logarithmic&&a.logarithmic===!0;n=!(o&&l&&u)}return n}function WQ(s,t){let{sizePolicy:e}=s,i=t.get("heatRules")?.[0],r=er(t.uid,"bulletTemplate");if(r!==void 0)if(e!==void 0){let{scaleType:a,field:n,minSize:o,maxSize:l}=e,u=ix(),h=s.markerSymbol?.size??sg().size??1,c=(o??u.minSize)/h,A=(l??u.maxSize)/h;i!==void 0?XQ({series:t,seriesConfig:s,newMin:c,newMax:A})&&(i.min=c,i.max=A,i.logarithmic=a===Fl.Logarithmic,t.set("valueField",n)):t.setAll({valueField:n,calculateAggregates:!0,heatRules:[{target:r,key:"scale",min:c,max:A,dataField:"value",logarithmic:a===Fl.Logarithmic}]})}else t.get("heatRules")?.pop(),t.setAll({valueField:void 0,calculateAggregates:!1})}function uu(s){return s.get("id")===J.overlayId.scatterplotTrendLine}function o1(s){return s.series.values.find(t=>!uu(t))}function l1(s){return s.series.values.find(t=>uu(t))}function zQ(s){let{root:t,xAxis:e,yAxis:i,seriesConfig:r}=s,{x:a,y:n}=r,o=ei.new(t,{xAxis:e,yAxis:i,valueXField:a,valueYField:n,layer:J.zIndexes.scatterplotTrendLine});return o.set("id",J.overlayId.scatterplotTrendLine),jr(o.uid,{type:_r.Trendline}),o}function GQ(s,t){let e=Mt.new({});jr(s.uid,{bulletTemplate:e}),s.bullets.push(i=>{let r=pt.new(i,{nonScalingStroke:!0,tooltip:TC(i,s),tooltipText:" "},e);return Bo(r,t?.selectionTheme),So(r,s),b1(r,s),Aa.new(i,{sprite:r})})}function YQ(s){let{root:t,chartConfig:e,seriesConfig:i,xAxis:r,yAxis:a,options:n}=s,{x:o,y:l,id:u}=i,h=[],c=ei.new(t,{xAxis:r,yAxis:a,valueXField:o,valueYField:l,id:u,opacity:0,valueField:"value",maskBullets:!1,layer:J.zIndexes.bulletMarkers});c.strokes.template.set("forceHidden",!0),GQ(c,n),LA(c,e),h.push(c);let A=zQ({root:t,xAxis:r,yAxis:a,seriesConfig:i});return jL(A),h.push(A),c.appear(),h}function KQ(s){let{root:t,trendLineSeries:e,data:i,valueFormat:r,defaultR2Value:a,chartConfig:n}=s,{chart:o}=e,l=n.series[0],u=l.overlays?.trendLine,h=u?.symbol??{type:qt.SLS},c=u?.created===!0&&u.visible!==!1;if(i!==void 0){let A=J.scatterplotSeries,d=o!==void 0?pe(o.uid,"formatLocale"):void 0,{x:f,y:p}=l;e.setAll({valueXField:f,valueYField:p}),e.data.setAll(i.trendLinePoints??J.scatterplotSeries.trendLinePoints);let m=Number.isFinite(i.r2)?SA({root:t,value:i.r2??A.r2,valueFormat:r,formatLocale:d}):void 0,g=m!==void 0?`R\xB2 = ${m}`:a;e.set("name",g)}h.color===void 0&&(h.color=qn({colorIndex:1})),wo({element:e,lineSymbol:h,visible:c})}function ZQ(s){let{root:t,chartConfig:e,markerSeries:i}=s,r=i.chart;if(r){let a=e.series[0],n=$o(e),o,l,u=sg(),h=new Set;i.dataItems.forEach(A=>{let d=A.bullets?.[0]?.get("sprite");if(d!==void 0){let f=Pa({dataItem:A?.dataContext,seriesConfig:a,chartSubType:Ie.NonSpecific,colorMatch:n}),p=$a({root:t,element:d,seriesSymbol:a.markerSymbol??u,rendererSymbol:f,colorMatch:n});o=p.symbolWithColorInfo,l=p.stylingInfo,Kp(d,l),h.add(JSON.stringify(l))}}),o=h.size>1?void 0:o;let c=new Map;c.set(0,o),Ua({data:c,htmlContainer:t.dom,chartId:i.chart?.get("id"),colorMatchApplied:IA(r)})}}function qQ(s){let{dataWasUpdated:t,seriesWereReinitialized:e,data:i,series:r,chartConfig:a,loaderHandle:n}=s;if((t===!0||e===!0)&&i){let{x:o,y:l}=a.series[0];r.setAll({valueXField:o,valueYField:l}),r.events.once(Ti.DataValidated,()=>{n.hideLoader()}),r.data.setAll(i.dataItems)}}function JQ(s){let{root:t,chartConfig:e,seriesConfig:i,options:r,fieldList:a,series:n,trendLineSeries:o,data:l,dataWasUpdated:u,seriesWereReinitialized:h,loaderHandle:c,utilsStrings:A}=s,{axes:d}=e,{tooltipFormatter:f}=r??{};n.set("id",i.id),Lr(n.bulletsContainer,i.visible),KQ({root:t,trendLineSeries:o,chartConfig:e,data:l,valueFormat:sf(),defaultR2Value:A.notAvailable}),WQ(i,n),hu(s)&&cu({styleCallback:ZQ,callbackProps:{root:t,chartConfig:e,markerSeries:n,dataWasUpdated:u},series:n,seriesConfig:i}),jQ({axesConfig:d,seriesConfig:i,series:n,fieldList:a,tooltipFormatter:f}),qQ({dataWasUpdated:u,seriesWereReinitialized:h,data:l,series:n,chartConfig:e,loaderHandle:c})}function eH(s){s.series.each(t=>{t instanceof ei?t.dataItems.forEach(e=>{let i=e.bullets?.[0];i&&wa({element:i.get("sprite"),selected:!1,backToDefaultState:!0})}):t instanceof Yi?t.columns.each(e=>{wa({element:e,selected:!1,backToDefaultState:!0})}):t instanceof Gr&&t.slices.each(e=>{wa({element:e,selected:!1,backToDefaultState:!0})})})}function wh(s){let{chart:t,selectionSource:e}=s,i=pe(t.uid,"currentSelectionDataItems");Mi(t.uid,{currentSelectionDataItems:void 0,currentSelectionOIDs:void 0,currentSelectionIndexes:void 0,computedSelectionDataItems:void 0,computedSelectionIndexes:void 0,pendingSelectionQueries:!1}),Vb(t)&&eH(t),i&&Nh({data:{selectionSource:e??kr.ClearSelection},htmlContainer:t.root.dom})}function u1(s){let t=s?.selection.width();return t!==void 0&&t>0&&t!==2e7}function So(s,t){s.events.on(Ti.PointerUp,async e=>{let{chart:i}=t;if(i){let r=i.get("cursor");if(!u1(r)){let a=pe(t.chart?.uid??Number.NaN,"actionMode");if(!pe(t.chart?.uid??Number.NaN,"filterBySelection")&&a!==Ht.None&&a!==Ht.Zoom){let n=e.target,o=GN(e,t);wa({element:n,selected:ou(n.uid,"selected")!==!0}),o&&i.series.each(l=>{l instanceof ei?l.dataItems.forEach(u=>{let h=u.bullets?.[0]?.get("sprite");h!==n&&wa({element:h,selected:!1})}):l instanceof Yi?l.columns.each(u=>{u!==n&&wa({element:u,selected:!1})}):l instanceof Gr&&l.slices.each(u=>{u!==n&&wa({element:u,selected:!1})})}),await LC(i,kr.SelectionByClick)}}}})}function yO(s,t){let e=Number.NaN,i=Number.NaN,r=t.get("renderer")instanceof ps,a=s.getPrivate(r?"downPositionX":"downPositionY"),n=s.getPrivate(r?"positionX":"positionY");return a!==void 0&&n!==void 0&&(e=a*(r?t.width():t.height()),i=n*(r?t.width():t.height())),{coord1:e,coord2:i}}function tH(s){if(s.get("background")?.events.on(Ti.Click,()=>{wh({chart:s})}),s instanceof Ai){let t=s.get("cursor");s.plotContainer.events.on(Ti.PointerUp,()=>{u1(t)||wh({chart:s})})}}function iH(s){let{series:t,cursorBounds:e,multiSelect:i}=s,r=pe(t.chart?.uid??NaN,"config"),a=We(r?.series);t.columns.each(n=>{let o=n.get("x"),l=n.get("y"),u=n.height()<0&&a!==R.HeatSeries,h=u?Math.abs(n.height()):n.height();if(typeof o=="number"&&typeof l=="number"){let c=u?l-h:l,A={left:o,right:o+n.width(),top:c,bottom:c+h};if(a===R.HeatSeries){let f=A.top;A.top=A.bottom,A.bottom=f}let d=!(A.left>e.right||A.right<e.left||A.top>e.bottom||A.bottom<e.top)||i&&ou(n.uid,"selected")===!0;wa({element:n,selected:d})}})}function rH(s){let{series:t,cursorBounds:e,multiSelect:i}=s;t.dataItems.forEach(r=>{let a=r.bullets?.[0]?.get("sprite");if(a){let n=r.bullets?.[0]?.get("sprite").get("x"),o=r.bullets?.[0]?.get("sprite").get("y"),l=typeof n=="number"&&typeof o=="number"&&n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom||i&&ou(a.uid,"selected")===!0;wa({element:a,selected:l})}})}function sH(s){let{cursor:t,xAxis:e,yAxis:i}=s,r=t.get("behavior"),{coord1:a,coord2:n}=yO(t,e),{coord1:o,coord2:l}=yO(t,i),u={left:a>n?n:a,right:a>n?a:n,top:o<l?o:l,bottom:o<l?l:o};return r==="selectX"?(u.top=Number.NEGATIVE_INFINITY,u.bottom=Number.POSITIVE_INFINITY):r==="selectY"&&(u.right=Number.POSITIVE_INFINITY,u.left=Number.NEGATIVE_INFINITY),u}function aH(s){s.get("cursor")?.events.on(Ti.SelectEnded,async t=>{let e=pe(s.uid,"actionMode");if(e===Ht.MultiSelection||e===Ht.MultiSelectionWithCtrlKey){let i=s.xAxes.getIndex(0),r=s.yAxes.getIndex(0);if(i&&r){let a=s.get("cursor"),n=sH({cursor:a,xAxis:i,yAxis:r}),o=PL(t);s.series.each(l=>{!uu(l)&&!nm(l)&&(l instanceof Yi||l instanceof ei)&&(l instanceof Yi?iH({series:l,cursorBounds:n,multiSelect:o}):l instanceof ei&&rH({series:l,cursorBounds:n,multiSelect:o}))}),Lr(a.selection,!1),await LC(s,kr.SelectionByRange)}}})}function h1(s){let{numberFormatter:t,dataLabelsConfigContent:e,stackedType:i,externalDataLabelFormatter:r}=s;return(a,n)=>{let o=i===cr.Stacked100&&n!==void 0?n:a;return t.get("numberFormat").style==="percent"&&(o/=100),Ws({textSymbol:{...e,text:t.format(o)},format:r===void 0?"amChartsV5":"html"})}}function nH(s,t){let e=s.dataItem,i;switch(t){case R.LineSeries:case R.ScatterSeries:i=e.get("point");break;case R.HistogramSeries:case R.BarSeries:case R.HeatSeries:i=e.get("graphics");break}let r=i??s,a=i?.x??r?.get("x")??0,n=i?.y??r?.get("y")??0;return{x:a,y:n}}function c1(s){let{label:t,chart:e,seriesType:i}=s,r=n=>{if(e instanceof Ai){let o=nH(n,i),l=e.plotContainer,u=l.x(),h=l.y(),c=o.x<u||o.x>u+l.width()||o.y<h||o.y>h+l.height();n.setAll({visible:!c,forceHidden:c})}},a=Wr((n,o)=>{o&&r(o)},J.debounceTime);t.on("x",a),t.on("y",a)}function oH(s){let{series:t,label:e,isHeatChart:i}=s;e.adapters.add("y",(r,a)=>{let{chart:n}=t,o=n!==void 0?pe(n.uid,"isRotated"):!1,l=typeof r=="number"?r:r?.value,u=a.dataItem;if(u!==void 0&&l!==void 0&&l!==null){let h=u?.get("valueY"),c=a.localBounds().bottom;if(o!==!0){let A=J.dataLabelNegative?.paddingTop??0;if(t.get("stacked")||i)if(h<0)l+=c-A;else{let d=i?J.heatChartLabelPadding.paddingTop:0;l+=c/2+d}}else{let A=J.rotatedChartPadding?.paddingTop??0;l+=c/2+A}}return l}),e.adapters.add("x",(r,a)=>{let{chart:n}=t,o=n!==void 0?pe(n.uid,"isRotated"):!1,l=typeof r=="number"?r:r?.value,u=a.dataItem;if(u!==void 0&&l!==void 0&&l!==null&&o===!0){let h=u?.get("valueX"),c=a.width()/2,A=J.rotatedChartPadding?.paddingRight??0,d=c+A;t.get("stacked")||(h<0?l-=d:l+=d)}return l})}function lH(s){let{series:t,isRotated:e,dataLabelsConfig:i,externalDataLabelFormatter:r}=s;t.bullets.push(()=>{let a=t.get("stacked"),n=Aa.new(t.root,{locationY:!a&&!e?1:void 0,locationX:!a&&e?1:void 0,sprite:$i.new(t.root,{text:e?"{valueX}":"{valueY}",populateText:!0,centerY:be,centerX:is,paddingBottom:0,paddingTop:0,paddingRight:0,paddingLeft:0,fill:wi(i?.content.color).color,fontSize:i?.content.font?.size})}),o=n.get("sprite");if(o){let l=o;hH({dataLabel:l,series:t,externalDataLabelFormatter:r}),A1({...s,dataLabel:l,dataLabelFormatter:h1})}return n})}function OC(s,t=1){s.bullets.removeIndex(t)}function d1(s){let{textBackgroundColor:t,chartBackgroundColor:e,fillOpacity:i}=s,r;return Bb({r:t.r,g:t.g,b:t.b,a:i})?r=Bb({r:e.r,g:e.g,b:e.b,a:i})?wi(J.darkTextColor).color:e:r=Bb({r:e.r,g:e.g,b:e.b,a:i})?e:wi(J.lightTextColor).color,r}function uH(s){let{dataLabel:t,labelConfigColor:e,seriesColor:i,backgroundColor:r,autoInverseDataLabelTextColor:a,isHeatChart:n}=s,o=r??wi(J.backgroundColor).color;a===!0&&i&&t.adapters.add("fill",(l,u,h)=>{let c=e??u.text.get("fill"),A=(u.dataItem?.component).get("stacked"),d=c;if(c&&(A||n)){let f=u.dataItem.get("graphics"),p=f?.get("fillOpacity");d=d1({textBackgroundColor:f?.get("fill")??i,chartBackgroundColor:o,fillOpacity:p})}return d})}function hH(s){let{dataLabel:t,series:e,externalDataLabelFormatter:i}=s;t.adapters.remove("text"),t.adapters.remove("html");let r=i!==void 0?"html":"text";t.adapters.add(r,(a,n)=>{let o=a??"",l=n.dataItem,u=er(e.uid,e instanceof Yi?"barSeriesDataLabelFormatter":"lineSeriesDataLabelFormatter");if(u!==void 0&&e.chart&&l){let h=pe(e.chart.uid,"isRotated"),c=h===!0?l.get("valueX"):l.get("valueY"),A=h===!0?l.get("valueXTotalPercent"):l.get("valueYTotalPercent"),d=e.get("valueYShow")==="valueYTotalPercent"||e.get("valueXShow")==="valueXTotalPercent";o=u(d?A:c)}return r==="html"?Ur(o):o})}function Nb(s){let{series:t,seriesConfig:e,dataLabel:i,labelDefaults:r,dataLabelsConfig:a,yAxisValueFormat:n,stackedType:o,isRotated:l,seriesType:u,defaultDataLabelFormatter:h,externalDataLabelFormatter:c}=s,{chart:A}=t;if(i!==void 0){let d=c,f=a?.content??{type:qt.TS};if(c===void 0&&h!==void 0&&n?.type===R.NumberAxisFormat&&A){let x=pe(A.uid,"formatLocale"),C=gn({root:A.root,type:n.type,formatLocale:x,intlOptions:n.intlOptions});d=h({numberFormatter:C,dataLabelsConfigContent:f,stackedType:o,externalDataLabelFormatter:c})}let p;switch(u){case R.BarSeries:p="barSeriesDataLabelFormatter";break;case R.LineSeries:p="lineSeriesDataLabelFormatter";break;case R.HistogramSeries:p="histogramDataLabelFormatter";break;case R.ScatterSeries:p="scatterplotDataLabelFormatter";break;case R.HeatSeries:p="heatChartDataLabelFormatter";break}p!==void 0&&jr(t.uid,{[p]:d}),a!==void 0&&(u===R.HeatSeries?a.content.text="{value}":a.content.text=l===!0?"{valueX}":"{valueY}",a.visible=a.visible!==!1),Wn({label:i,labelConfig:a,defaults:r??J.dataLabel,skipSettingText:!0});let m=t.get("stacked"),g=m&&u===R.BarSeries&&e?.hideOversizedStackedLabels!==!1,y=!m&&u===R.BarSeries&&e?.hideOversizedSideBySideLabels===!0;y||g?i.setAll({oversizedBehavior:"hide",maxWidth:void 0,maxHeight:y?100:void 0}):i.setAll({oversizedBehavior:"none"})}}function cH(s){let{series:t,labelDefaults:e,externalDataLabelFormatter:i}=s;t.dataItems.forEach(r=>{let a=r.bullets?.[1];if(a){a.set("locationY",t.get("stacked")?void 0:1);let n=a.get("sprite");n&&Nb({...s,dataLabel:n,labelDefaults:e,defaultDataLabelFormatter:h1,externalDataLabelFormatter:i})}})}function A1(s){let{series:t,dataLabelsConfig:e,autoInverseDataLabelTextColor:i,externalDataLabelFormatter:r,labelDefaults:a,seriesType:n,dataLabel:o,isHeatChart:l,dataLabelFormatter:u}=s;o&&(t.chart&&e?.visible&&c1({label:o,chart:t.chart,seriesType:n}),oH({series:t,label:o,isHeatChart:l}),Nb({...s,dataLabel:o,labelDefaults:a,defaultDataLabelFormatter:u,externalDataLabelFormatter:r}),uH({dataLabel:o,labelConfigColor:wi(e?.content.color).color,seriesColor:t.get("fill"),backgroundColor:t.chart?.get("background")?.get("fill"),autoInverseDataLabelTextColor:i,isHeatChart:l}))}function f1(s){let{series:t,dataLabelsConfig:e}=s,i=e?.visible,r=t.bullets.hasIndex(1);i!==!0?r&&OC(t):(r||lH(s),cH(s))}function dH(s){let{series:t,dataLabelsConfig:e,labelDefaults:i,externalDataLabelFormatter:r,seriesType:a}=s;t.bullets.push(()=>{let n=Aa.new(t.root,{locationY:1,sprite:$i.new(t.root,{populateText:!0,oversizedBehavior:"hide",centerY:be,centerX:Qe,paddingBottom:0,paddingTop:0,paddingRight:0,paddingLeft:0,fill:wi(e?.content.color).color,fontSize:e?.content.font?.size})}),o=n.get("sprite");return o&&(AH({dataLabel:o,series:t,externalDataLabelFormatter:r}),t.chart&&e?.visible&&c1({label:o,chart:t.chart,seriesType:a}),Nb({...s,dataLabel:o,labelDefaults:i,defaultDataLabelFormatter:p1})),n})}function AH(s){let{dataLabel:t,series:e,externalDataLabelFormatter:i}=s;t.adapters.remove("text"),t.adapters.remove("html");let r=i!==void 0?"html":"text";t.adapters.add(r,(a,n)=>{let o=a??"",l=er(e.uid,"histogramDataLabelFormatter"),u=n.dataItem;if(u&&"dataContext"in u&&u.dataContext!==void 0&&l!==void 0){let{count:h,minValue:c,maxValue:A}=u.dataContext;o=l(h,c,A)}return r==="html"?Ur(o):o})}function p1(s){let{numberFormatter:t,dataLabelsConfigContent:e,externalDataLabelFormatter:i}=s;return(r,a,n)=>Ws({textSymbol:{...e,text:t.format(r)},format:i===void 0?"amChartsV5":"html"})}function fH(s){let{series:t,labelDefaults:e,externalDataLabelFormatter:i}=s;t.dataItems.forEach(r=>{let a=r.bullets?.[0];if(a){let n=a.get("sprite");n&&Nb({...s,dataLabel:n,labelDefaults:e,defaultDataLabelFormatter:p1,externalDataLabelFormatter:i})}})}function m1(s){let{series:t,dataLabelsConfig:e}=s,i=e?.visible,r=t.bullets.hasIndex(0);i!==!0?r&&OC(t,0):(r||dH(s),fH(s))}function nm(s){return[J.overlayId.histogramMean,J.overlayId.histogramMedian,J.overlayId.histogramStdDev,J.overlayId.histogramNormalDistribution].includes(s.get("id")??"")}function pH(s){let t="";switch(s){case _r.Mean:t=J.overlayId.histogramMean;break;case _r.Median:t=J.overlayId.histogramMedian;break;case _r.StdDev:t=J.overlayId.histogramStdDev;break;case _r.Normal:t=J.overlayId.histogramNormalDistribution;break}return t}function mH(s){let{series:t,seriesConfig:e,colorMatch:i,rendererSymbol:r}=s,{root:a}=t,n=t.chart;if(n){let o=e.fillSymbol??sx(),l=$a({root:t.root,element:t.columns.template,seriesSymbol:o,rendererSymbol:r,colorMatch:i,isChartFillSymbol:!0}).symbolWithColorInfo;if(l!==void 0){let u=new Map;u.set(0,l),Ua({data:u,htmlContainer:a.dom,chartId:n.get("id"),colorMatchApplied:IA(n)})}}}function gH(s){let{series:t,data:e,dataWasUpdated:i,seriesWereReinitialized:r,loaderHandle:a}=s;e&&(i===!0||r===!0)&&(t.events.once(Ti.DataValidated,()=>{a.hideLoader()}),t.data.setAll(e.bins))}function xb(s){let{root:t,xAxis:e,yAxis:i,type:r,utilsStrings:a}=s,n=ei.new(t,{id:pH(r),valueXField:"x",valueYField:"y",xAxis:e,yAxis:i,visible:!1});return r===_r.Normal&&OA(n,a.overlays.normal),jr(n.uid,{isOverlay:!0,type:r}),n.set("connect",!1),n.appear(),n}function yH(s){let{root:t,seriesConfig:e,xAxis:i,yAxis:r,options:a,chartConfig:n}=s,{id:o,name:l}=e,u=Yi.new(t,{id:o,name:l,xAxis:i,yAxis:r,categoryXField:Ad.Start,valueYField:Ad.Count,maskBullets:!1});return Bo(u.columns.template,a?.selectionTheme),So(u.columns.template,u),u.columns.template.setAll({width:be}),m1({yAxisValueFormat:n.axes?.[1]?.valueFormat,series:u,seriesConfig:e,seriesType:R.HistogramSeries,dataLabelsConfig:e.dataLabels,externalDataLabelFormatter:a?.dataLabelFormatter}),LA(u,n),u.appear(),u}function bH(s){let{root:t,seriesConfig:e,xAxis:i,xAxisForOverlaySeries:r,yAxis:a,utilsStrings:n,options:o,chartConfig:l}=s,u=[],h=yH({root:t,seriesConfig:e,xAxis:i,yAxis:a,options:o,chartConfig:l});return u.push(h),e1(h),r&&(u.push(xb({root:t,xAxis:r,yAxis:a,type:_r.Mean,utilsStrings:n})),u.push(xb({root:t,xAxis:r,yAxis:a,type:_r.Median,utilsStrings:n})),u.push(xb({root:t,xAxis:r,yAxis:a,type:_r.StdDev,utilsStrings:n})),u.push(xb({root:t,xAxis:r,yAxis:a,type:_r.Normal,utilsStrings:n}))),u}function vH(s){let{lineSeries:t,overlayConfig:e,data:i,utilsStrings:r}=s;if(!e)Lr(t,!1);else{let{symbol:a,created:n,visible:o}=e,l=er(t.uid,"type"),u=a??{type:qt.SLS};if(e.symbol?.color===void 0&&(u.color=qn({colorIndex:nf(l),histogramOverlays:!0})),wo({element:t,lineSymbol:u,visible:n===!0&&o!==!1}),i&&"bins"in i){let c=i.bins.map(x=>x.count),A=Math.max(...c),{mean:d,stddev:f,median:p}=i,m=d-f,g=d+f,y=[];switch(l){case _r.Mean:y=[{x:d,y:0},{x:d,y:A}];break;case _r.Median:y=[{x:p,y:0},{x:p,y:A}];break;case _r.StdDev:y=[{x:m,y:0},{x:m,y:A},{x:null,y:null},{x:g,y:0},{x:g,y:A}];break}t.data.setAll(y)}let h=t.data.getIndex(0)?.x;if(l===_r.StdDev&&(h=i?.stddev??er(t.uid,"stddev"),jr(t.uid,{stddev:h})),typeof h=="number"){let c=l;switch(l){case _r.Mean:c=r.overlays.mean;break;case _r.Median:c=r.overlays.median;break;case _r.StdDev:c=r.overlays.stdDev;break}let A=pe(t.chart?.uid??Number.NaN,"formatLocale"),d=SA({root:t.root,value:h,valueFormat:sf(),formatLocale:A}),f=`${c}: ${d}`;OA(t,f)}}}function xH(s){let{lineSeries:t,overlayConfig:e,data:i,numberOfPoints:r}=s;if(!e)Lr(t,!1);else{let{symbol:a,created:n,visible:o}=e,l=a??{type:qt.SLS};if(e?.symbol?.color===void 0&&(l.color=qn({colorIndex:nf(_r.Normal),histogramOverlays:!0})),wo({element:t,lineSymbol:l,visible:n===!0&&o!==!1}),i&&"bins"in i){let{mean:u,stddev:h,min:c,max:A}=i,d=SL(i.bins),f=CL(c,A,r??J.histogramSeries.normalDistribNumberOfPoints).map(p=>({x:p,y:BL({x:p,mean:u,stddev:h,scalingFactor:d})}));t.data.setAll(f)}}}async function _H(s){let{series:t,chartConfig:e,seriesConfig:i,seriesWereReinitialized:r,dataWasUpdated:a,queryObject:n,chartRenderer:o,data:l,loaderHandle:u}=s;Lr(t,i.visible),OA(t,i.name);let h=ha(n),c=Vx({chartRenderer:o,queryObject:n}),A=o??h?.renderer,d=_d(o,h?.renderer),f;if(Ll({chartConfig:e,queryObject:n})){let p=await Nx({seriesConfig:[i],dataItem:{},renderer:A,rendererOrigin:o!==void 0?_f.ChartRenderer:_f.LayerRenderer,rendererType:d,chartSubType:Ie.NonSpecific,graphicTemplate:c});f=p.rendererSymbol,Mi(t.chart?.uid??Number.NaN,{colorMatchApplied:p.colorMatchApplied})}hu(s)&&cu({styleCallback:mH,callbackProps:{...s,rendererSymbol:f},series:t,seriesConfig:i}),gH({series:t,seriesWereReinitialized:r,dataWasUpdated:a,data:l,loaderHandle:u})}async function wH(s){let{allChartSeries:t,seriesConfig:e,data:i,utilsStrings:r,fieldList:a,axes:n,options:o,dataLabelFormatter:l,chartConfig:u}=s,{tooltipFormatter:h}=o??{};for(let c=0;c<t.length;c++){let A=t[c];if(A instanceof ei&&er(A.uid,"isOverlay")){let d=er(A.uid,"type");if(d===_r.Normal)xH({lineSeries:A,overlayConfig:e.overlays?.comparisonDistribution,data:i});else{let f;switch(d){case _r.Mean:f=e.overlays?.mean;break;case _r.Median:f=e.overlays?.median;break;case _r.StdDev:f=e.overlays?.standardDeviation;break}vH({lineSeries:A,overlayConfig:f,data:i,utilsStrings:r})}}else A instanceof Yi&&(A.set("id",e.id),await _H({...s,series:A}),m1({series:A,yAxisValueFormat:u.axes?.[1]?.valueFormat,seriesConfig:e,seriesType:R.HistogramSeries,dataLabelsConfig:e.dataLabels,externalDataLabelFormatter:l}),PQ({axes:n,series:A,seriesConfig:e,fieldList:a,tooltipFormatter:h,utilsStrings:r,axesConfig:u.axes}))}}function CH(s){let t="";return s instanceof fa?t=s.get("categoryXField")??s.get("valueXField")??"":s instanceof Gr&&(t=s.get("categoryField")??""),t}function BH(s){let t="";return s instanceof fa?t=s.get("categoryYField")??s.get("valueYField")??"":s instanceof Gr&&(t=s.get("categoryField")??""),t}function om(s){let t="",{chart:e}=s;return e!==void 0&&(t=pe(e.uid,"isRotated")===!0?CH(s):BH(s)),t}function SH(s){cx(),Sx(s.root.dom),wh({chart:s})}function PH(s){let{chart:t,chartType:e,showMean:i}=s;return t.series.values.filter(r=>!uu(r)&&!nm(r)&&(e!==R.BoxPlotSeries||!i||i&&er(r.uid,"isBoxPlotMeanLineSeries"))).every(r=>er(r.uid,"isSelectionApplied")===!0)}function FH(s){s.series.each(t=>jr(t.uid,{isSelectionApplied:void 0}))}function TH(s){let t=[];if(!uu(s)&&!nm(s))switch(!0){case s instanceof Gr:t=s.slices.values;break;case s instanceof Yi:let{chart:e}=s;if(e){let i=pe(e.uid,"config");if(i){let r=We(i?.series),a=[];r===R.HistogramSeries?a=[Ad.Count]:r===R.HeatSeries?a=[$r.valueField]:a=Mo(i?.series,[s.get("id")??""]),t=s.columns.values.filter(n=>{let o=!1,l=n.dataItem?.dataContext;return l&&(o=a.some(u=>u in l&&Number.isFinite(l[u]))),o})}}break;case s instanceof ei:t=Array.from(s.dataItems.values());break}return t}function g1(s,t){let e=pe(s.uid,"actionMode");(e===Ht.MonoSelection||e===Ht.None)&&t.length>1?wh({chart:s}):t.forEach(i=>{wa({element:i,selected:!0})})}function DH(s,t){let e=[],i=[],r=pe(s.uid,"config"),a=pe(s.uid,"queryObject"),n=No(r),o=Mo(r?.series??[]),l=Pt(r?.series),u=We(r?.series);return s.series.each((h,c)=>{if(r&&h.get("visible")===!0&&h.get("id")!==J.overlayId.scatterplotTrendLine){let A=r.series[0].x,d=om(h),f=t.get(c);if(f!==void 0){let p;if(h instanceof ei&&(p=h.dataItems.map(m=>m?.bullets?.[0]?.get("sprite")).filter(m=>m!==void 0)),p!==void 0){let{indexesToSelect:m}=f;p.forEach((g,y)=>{if(m===void 0||m.includes(y)){let x=su({dataContext:g.dataItem?.dataContext,yList:o,yAxisField:d,xAxisField:A,chartType:u,chartSubType:l,showOutliers:n,isFeatureCollectionLayer:Ro(a)});x!==void 0&&e.push(x),i.push(g)}else wa({element:g,selected:!1})})}}}}),g1(s,i),e}function OH(s){let{chart:t,chartConfig:e,options:i,elementsToApplySelectionTo:r,selectionDataItems:a,layerOidField:n,xAxisField:o,yAxisField:l,splitBy:u}=s,h=We(e.series),c=Pt(e.series),A=No(e),d=pe(t.uid,"queryObject"),f=[],p=[],m=[],g=Mo(e.series);return r.forEach((y,x)=>{let C=y instanceof pr||y instanceof qs?y:y.bullets?.[0]?.get("sprite");if(C!==void 0){let S=y instanceof pr||y instanceof qs?C.dataItem?.dataContext:y.dataContext;if(S!==void 0&&h===R.BoxPlotSeries&&S[J.boxPlot.boxPlotOutlierId]!==!0&&(S=su({dataContext:S,yAxisField:l,yList:g,xAxisField:o,splitBy:u,chartType:h,chartSubType:c,showOutliers:A,isFeatureCollectionLayer:Ro(d)})),Mb({elementDataContext:S,options:i,selectionDataItems:a,layerOidField:n,xAxisField:o,yAxisField:l,chartType:h,splitBy:u,chartSubType:c,showOutliers:A}))if(f.push(C),p.push(x),C?.dataItem instanceof va&&S!==void 0)m.push(S);else{let P=new Set;h===R.PieSeries&&Ho(S)?(am({groupOfSlicesDataContext:S})??[]).forEach(F=>{a.forEach(O=>{BC({layerOidField:n,sliceDataContext:F,selectionDataContext:O,xAxisField:o})&&P.add(F)})}):P.add(S),Array.from(P)?.forEach(F=>{let O=su({dataContext:F,yAxisField:l,yList:g,xAxisField:o,splitBy:u,chartType:h,chartSubType:c,showOutliers:A,isFeatureCollectionLayer:Ro(d)});O!==void 0&&m.push(O)})}else wa({element:C,selected:!1})}}),g1(t,f),{selectedIndexes:p,newSelectionDataItems:m}}function LH(s){let{series:t,seriesIndex:e,queryObject:i,dataWasUpdated:r,sortChanged:a,groupOfSlicesWasUpdated:n,xAxisField:o,yAxisField:l,splitBy:u,rotationChanged:h}=s,{chart:c}=t;if(c instanceof Bs){let A=pe(c.uid,"options"),{filterBySelection:d,selectionData:f,returnSelectionIndexes:p,returnSelectionOIDs:m}=A??{},{selectionIndexes:g}=f??{},y=pe(c.uid,"config"),x=ts(y),C=We(y?.series),S=Pt(y?.series),P=TH(t);if(d!==!0&&y!==void 0){let F;i!==void 0&&(F=ha(i).objectIdField);let O=pe(c.uid,"currentSelectionDataItems"),$=!1,L=!1,E,D=!1;if(P?.[0]!==void 0){if(A?.viewExtentUpdated!==!0){E=A?.selectionData?.selectionItems??O;let H=pe(c.uid,"currentSelectionIndexes");D=$x({itemsA:E,itemsB:O,isPieFromFields:S===Ie.PieFromFields,x:o,y:l,outStatisticFieldName:y.series[0].query?.outStatistics?.[0]?.outStatisticFieldName});let te=g?.keys.length!==H?.keys.length||!dd(g,H);$=a===!0||r===!0||n===!0||h===!0||E!==void 0&&D;let K=!0;if(g!==void 0&&g.size>0){let{indexesToSelect:ae}=g.get(e??0)??{};K=ae!==void 0&&ae[0]===void 0}L=r===!0||n===!0||h===!0||!K&&te}if($&&E!==void 0&&E.length>0){let{selectedIndexes:H,newSelectionDataItems:te}=OH({chart:c,chartConfig:y,options:A,elementsToApplySelectionTo:P,selectionDataItems:E,layerOidField:F,xAxisField:o,yAxisField:l,splitBy:u}),K=pe(c.uid,"computedSelectionDataItems")??[];if(K.push(...te),y.series.length>1&&S!==Ie.BarAndLineNoAggregation&&S!==Ie.BarAndLineSplitByNoAggregation&&(K=Rx({data:K,x:y.series[0].x,splitByField:ko(y.series[0].query?.where)})),Mi(c.uid,{computedSelectionDataItems:K}),p===!0){let ae=Array.from(new Set(H)),ie=pe(c.uid,"computedSelectionIndexes");ie===void 0&&(ie=new Map),ae.length===P.length?ie.set(e??0,{}):ie.set(e??0,{indexesToSelect:ae}),Mi(c.uid,{computedSelectionIndexes:ie})}}else if(g!==void 0&&L)E=DH(c,g);else{let H=te=>{let K=te.dataItem?.dataContext;return Mb({elementDataContext:K,options:A,selectionDataItems:E??O??[],layerOidField:F,xAxisField:o,yAxisField:l,chartType:C,splitBy:u,chartSubType:S})};P.forEach(te=>{let K=te instanceof pr||te instanceof qs?te:te.bullets?.[0]?.get("sprite");K!==void 0&&wa({element:K,selected:ou(K.uid,"selected")===!0||H(K)})})}}if(jr(t.uid,{isSelectionApplied:!0}),PH({chart:c,chartType:C,showMean:x})&&(FH(c),D||L)){let H=pe(c.uid,"computedSelectionDataItems")??E;H=Array.from(new Set(H?.map(K=>JSON.stringify(K)))).map(K=>JSON.parse(K)),E!==void 0&&Mi(c.uid,{currentSelectionDataItems:H}),f?.selectionOIDs!==void 0&&Mi(c.uid,{currentSelectionOIDs:f.selectionOIDs});let te;if(p===!0&&(te=pe(c.uid,"computedSelectionIndexes")??g,te!==void 0&&Mi(c.uid,{currentSelectionIndexes:te})),H===void 0||H.length===0)wh({chart:c,selectionSource:kr.ProgrammaticSelection});else{let K={selectionItems:H,selectionSource:kr.ProgrammaticSelection};p===!0&&(K.selectionIndexes=te),m!==!1&&(K.selectionOIDs=f?.selectionOIDs??pe(c.uid,"currentSelectionOIDs")),Nh({data:K,seriesConfig:y.series,htmlContainer:c.root.dom})}Mi(c.uid,{computedSelectionIndexes:void 0,computedSelectionDataItems:void 0})}}}}async function IH(s){let{chart:t,options:e,dataWasUpdated:i,data:r,chartConfig:a,queryObject:n,errorStrings:o}=s,l=pe(t.uid,"currentSelectionOIDs"),u=pe(t.uid,"queryConfig");if(!pe(t.uid,"filterBySelection")){let h=await Ex({chartConfig:a,queryConfig:u,chartData:r,currentSelectionOIDs:l,dataWasUpdated:i,queryObject:n,options:e,errorStrings:o});h!==void 0&&e!==void 0&&(e.selectionData={...e?.selectionData,selectionItems:h}),t.series.values.filter(c=>!uu(c)&&!nm(c)).forEach(c=>{let{seriesConfig:A,seriesIndex:d}=Qb(c,a);if(A){let f=A.x,p=A.type===R.BoxPlotSeries||A.type===R.HeatSeries?A.y.toString():om(c),m=A.query?.where??"";$H({callbackProps:{...s,series:c,seriesIndex:d,xAxisField:f,yAxisField:p,splitBy:m},series:c,seriesConfig:A})}})}}async function LC(s,t){let e=pe(s.uid,"config"),i=pe(s.uid,"queryObject");if(e){let r=pe(s.uid,"options"),a=We(e.series),n=Pt(e.series),o=No(e),l=Mo(e.series),u=e.series[0].x,h=og(i),c=ha(i),A=lg(c).dateFieldsTimeZone,d=e.series[0].type===R.HeatSeries?e.outTimeZone:void 0,f;i!==void 0&&(f=(await Pn(i)).find(p=>p.name===u)?.type);try{let p=new Set,m=[],g=new Map,y=[],x=[],C=0;if(s.series.each(async(S,P)=>{let{seriesConfig:F}=Qb(S,e),O=F?.query?.where??"",$=F?.type===R.BoxPlotSeries?F.y.toString():om(S),L;S instanceof ei?L=S.dataItems:S instanceof Yi?L=S.columns.values:S instanceof Gr&&(L=S.slices.values),L?.forEach((E,D)=>{let H=E instanceof pr||E instanceof qs?E:E.bullets?.[0]?.get("sprite");if(H!==void 0&&ou(H.uid,"selected")===!0){C+=1;let te=E instanceof pr||E instanceof qs?E.dataItem?.dataContext:E.dataContext;if(te!==void 0){if(te=su({dataContext:te,yAxisField:$,yList:l,xAxisField:u,splitBy:O,chartType:a,chartSubType:n,showOutliers:o,isFeatureCollectionLayer:Ro(i)}),p.has(JSON.stringify(te))||(p.add(JSON.stringify(te)),m.push(te)),D!==void 0){let ae=g.get(P)?.indexesToSelect??[];ae.push(D),g.set(P,{indexesToSelect:Array.from(new Set(ae))})}let K=te[Eh.uniqueIdsName]!==void 0?[te[Eh.uniqueIdsName]].flat():[];if(K.length>0)x.push(...K);else if(r?.returnSelectionOIDs!==!1){let ae=kx({dataContext:te,options:r,xAxisField:u,yAxisField:$??"",splitBy:O,xAxisFieldType:f,chartConfig:e,outTimeZone:d,dataTimeZone:A,runsOnClientQueryEngine:h});y.push(ae)}}}})}),C===0)wh({chart:s,selectionSource:t});else{if(r?.returnSelectionOIDs!==!1&&i!==void 0&&y.length>0){let P={...pe(s.uid,"queryConfig")};delete P.groupByFieldsForStatistics,delete P.orderByFields,delete P.outStatistics;let F=await Mx({whereList:y,queryObject:i,queryConfig:P});if(y.length===C)x=F;else for(let O=0;O<F.length;O+=1)x.push(F[O])}x=Array.from(new Set(x)),Mi(s.uid,{currentSelectionDataItems:m,currentSelectionOIDs:x,currentSelectionIndexes:g});let S={selectionItems:m,selectionSource:t};r?.returnSelectionIndexes===!0&&(S.selectionIndexes=g),r?.returnSelectionOIDs!==!1&&(S.selectionOIDs=x),Nh({data:S,seriesConfig:e?.series,htmlContainer:s.root.dom})}}catch(p){Mi(s.uid,{pendingSelectionQueries:!1});let{httpStatus:m}=p instanceof lf?p.details.details:p.details??{};if(m===429)SH(s);else throw p}Mi(s.uid,{pendingSelectionQueries:!1})}}function DA(s,t){let{y:e,query:i}=t,r=Pt(s.series)===Ie.BarAndLineSplitByNoAggregation?`${e.toString()}_${Tl({where:i?.where,keepSurroundingQuotes:!1,escape:!1})}`:[e].flat()[0],a=J.xAxisField,n=s.rotated===!0?"categoryYField":"categoryXField",o=s.rotated===!0?"valueYField":"valueXField",l=s.axes?.[0]?.valueFormat.type===R.CategoryAxisFormat?n:o,u=s.rotated===!0?"valueXField":"valueYField";return{xField:a,yField:r,xAxisField:l,yAxisField:u}}function hu(s){let{chartConfig:t,seriesWereReinitialized:e,dataWasUpdated:i,colorMatchChanged:r,seriesStyleChanged:a,sortChanged:n,groupOfSlicesUpdateNeeded:o}=s,l=t.series.length===1,u=We(t.series),h=(e||i||r||a)??!1,c=!1;switch(u){case R.BarSeries:c=(l&&n)??!1;break;case R.PieSeries:c=(o||n)??!1;break}return c||h}function y1(s){let{series:t,callbackInfo:e,seriesConfig:i}=s,r=n=>{let{type:o,callbackProps:l}=n;o==="selection"?LH(l):(Lr(t,i.visible),n.styleCallback(l))},a=pe(t.chart?.uid??Number.NaN,"config");switch(!0){case t instanceof lo:t.events.once(Ti.DataValidated,()=>r(e));break;case t instanceof Yi:{let n=t.root.events.on(Ti.FrameEnded,()=>{t.columns.length===t.dataItems.length&&(n.dispose(),r(e))})}break;case t instanceof ei:{let n=er(t.uid,"bulletTemplate");if(n)if(We(a?.series??[i])===R.ScatterSeries){let o=t.root.events.on(Ti.FrameEnded,()=>{n.entities.length===t.data.length&&t.dataItems[t.dataItems.length-1]?.bullets?.[0]?.get("sprite")&&(o.dispose(),r(e))})}else{let o=t.root.events.on(Ti.FrameEnded,()=>{let l=om(t)??"",u=a?.series[0]?.x??"";t.dataItems.filter(h=>{let c=h.dataContext;return l in c&&u in c&&c[u]!==void 0}).every(h=>!Number.isFinite(h.dataContext[l])||h?.bullets?.[0]?.get("sprite"))&&(o.dispose(),r(e))});e.type==="style"&&r(e)}}break;default:r(e);break}}function $H(s){let{series:t,callbackProps:e,seriesConfig:i}=s;y1({callbackInfo:{callbackProps:e,type:"selection"},series:t,seriesConfig:i})}function cu(s){let{series:t,styleCallback:e,callbackProps:i,seriesConfig:r}=s;y1({callbackInfo:{styleCallback:e,callbackProps:i,type:"style"},series:t,seriesConfig:r})}function kH(s){let t;return s&&s.series.length>0&&(t=s.series.values.map(e=>e.get("visible")!==!1?`${e.get("id")}`:"").filter(e=>e!=="")),t}function IC(s){let{series:t,chartConfig:e,isRotated:i}=s,r=on(e),a=e.series[0],n=t.chart?.xAxes.getIndex(0),o=t.chart?.yAxes.getIndex(0),l=i&&(r===cr.Stacked||r===cr.Stacked100)?o:n;switch(r){case cr.Stacked:{t.setAll({stacked:!0,valueYShow:"valueYWorking",valueXShow:"valueXWorking",baseAxis:l}),t instanceof ei&&t.set("stackToNegative",a.stackNegativeValuesToBaseline??J.lineSeries.stackNegativeValuesToBaseline);break}case cr.Stacked100:{t.setAll({stacked:!0,baseAxis:l}),i===!0?(t.setAll({valueXShow:"valueXTotalPercent"}),n instanceof yi&&n.set("calculateTotals",!0)):(t.setAll({valueYShow:"valueYTotalPercent"}),o instanceof yi&&o.set("calculateTotals",!0));break}case cr.Side:default:{t.setAll({stacked:!1,valueYShow:"valueYWorking",valueXShow:"valueXWorking"});break}}}function OA(s,t){s.set("name",t)}function EH(s){let{chart:t,chartType:e,rotated:i,assignToSecondValueAxis:r}=s,a=t.xAxes.getIndex(0),n=t.yAxes.getIndex(0),o=[a,n,t.xAxes.getIndex(1)??t.yAxes.getIndex(1)],l,u;i!==!0?(l=o[0],u=r===!0&&o[2]?o[2]:o[1]):(l=r===!0&&o[2]?o[2]:o[0],u=o[1]);let h=e===R.HistogramSeries?t.xAxes.getIndex(1):void 0;return{xAxis:l,xAxisForHistogramOverlaySeries:h,yAxis:u}}function LA(s,t){let{series:e}=t,i=We(e);switch(!0){case s instanceof Yi:s.columns.template.setAll({focusable:!0,hoverOnFocus:!0}),i===R.HeatSeries?s.columns.template.set("ariaLabel",VH()):s.columns.template.set("ariaLabel",yf());break}}function MH(s,t){let e=!1,i=o1(s),r=t.series[0];if(i&&r.type===R.ScatterSeries){let a=i.get("heatRules")?.[0];e=a===void 0&&r.sizePolicy!==void 0||a!==void 0&&r.sizePolicy===void 0||i.get("valueField")!==r.sizePolicy?.field}return e}function RH(s){let{chart:t,chartConfig:e,updateNeededDetails:i,seriesFilteredOut:r}=s,a=!1;switch(We(e.series)){case R.BarSeries:case R.LineSeries:case R.RadarSeries:case R.ComboLineAndBarSeries:case R.BoxPlotSeries:a=r||i?.common.numberOfSeriesChanged===!0||t.series.length!==e.series.length;break;case R.ScatterSeries:a=MH(t,e);break}return a}function $C(s){let{chartConfig:t,series:e,seriesIndex:i,subtypeInfo:r,fieldList:a}=s,n=t.series[i];if(n){let o=Pt(t.series),l=n.name;if(o===Ie.BarAndLineSplitBy||o===Ie.BarAndLineSplitByNoAggregation){let u=ko(n.query?.where);l=ug({subtypeInfo:r,fieldList:a,fieldName:u,fieldValueToMatch:l})??l}OA(e,l)}}function Qb(s,t){let e=We(t?.series),i,r;return t?.series.forEach((a,n)=>{let o=!1;e!==R.BoxPlotSeries||s instanceof za?o=s.get("id")===a.id:s instanceof lo?o=s.get("id")?.replace(`_${zi.Top}`,"")===a.id||s.get("id")?.replace(`_${zi.Median}`,"")===a.id||s.get("id")?.replace(`_${zi.Bottom}`,"")===a.id:s instanceof ei&&(o=s.get("id")?.replace(`_${zi.Outliers}`,"")===a.id),o&&(i=a,r=n)}),{seriesConfig:i,seriesIndex:r}}function UH(s,t){let{chart:e}=t;if(e instanceof Ai){let i={x:s.get("x")??0,y:s.get("y")??0},r=e.plotContainer,a=r.x(),n=r.y(),o=i.x<a||i.x>a+r.width()||i.y<n||i.y>n+r.height();s.set("forceHidden",o)}}function b1(s,t){let e=Wr((i,r)=>{r!==void 0&&UH(r,t)},J.debounceTime);s.on("x",e),s.on("y",e)}function IA(s,t){let e=t;e===void 0&&(e=pe(s.uid,"config"));let i=pe(s.uid,"colorMatchApplied")??!1;return(e?.colorMatch??!1)&&i}function VH(){return`{${$r.xField}} {${$r.yField}} {${$r.valueField}}`}function v1(s){let{root:t,intlOptions:e,formatLocale:i,overridePercentMultiplication:r}=s,a=gn({root:t,intlOptions:e,type:R.NumberAxisFormat,formatLocale:i});return n=>{let o=`${n}`;if(a!==void 0&&n!==null&&!(n instanceof Date)){let l=typeof n=="number"?n:yx(n,a.get("intlLocales"));r===!0&&e.style==="percent"&&(l/=100),o=a.format(l)}else n instanceof Date&&(o=n.toLocaleString(void 0,e));return o}}function NH(s){let{axis:t,intlOptions:e,overridePercentMultiplication:i,valueAxisFormatter:r}=s,{chart:a,root:n}=t,o=a!==void 0?pe(a.uid,"formatLocale"):void 0,l=r??v1({root:n,intlOptions:e,formatLocale:o,overridePercentMultiplication:i});return PA(t.uid,{numberFormatter:l}),l}function QH(s){let{chart:t,formatOptions:e,isNonAggregatedChart:i}=s,{root:r}=t;return a=>{let n=a??"",o=pe(t.uid,"formatLocale"),l=pe(t.uid,"config");if(typeof a=="number"&&e.type===R.NumberAxisFormat)n=v1({root:r,intlOptions:e.intlOptions,formatLocale:o})(a);else if(i===!0&&e.type===R.DateAxisFormat)n=gn({root:r,type:R.DateAxisFormat,intlOptions:e.intlOptions,formatLocale:o}).format(n,e.intlOptions);else if(e.type===R.CategoryAxisFormat){let u=Pt(l?.series);if([Ie.BoxPlotMonoField,Ie.BoxPlotMultiFields,Ie.BoxPlotMonoFieldAndSplitBy,Ie.BoxPlotMultiFieldsAndSplitBy,Ie.BarAndLineFromFields].includes(u)&&typeof a=="string"){let c=pe(t.uid,"fieldList");a=wr(c,a)}let{characterLimit:h}=e;n=a?.toString()??"",!Ki(n)&&n!==J.htmlEmptyContent&&(n=Ux({stringToTruncate:n,characterLimit:h}))}return n.toString()}}function HH(s){let{chart:t,isXAxis:e=!0,formatOptions:i}=s,{root:r}=t;return a=>{let n=a??"",o=pe(t.uid,"formatLocale"),l=pe(t.uid,"config");if(l&&l.series[0].type===R.HeatSeries){let u=hP(l.series[0],e);if(u&&a!==void 0&&a!==""){if(i.type===R.DateAxisFormat&&i.intlOptions)switch(u.unit){case Bn.DayOfWeek:n=vL({weekdayNumber:Number(a),format:i.intlOptions,firstDayOfWeek:"firstDayOfWeek"in l?l.firstDayOfWeek:void 0,locale:o});break;case Bn.MonthOfYear:n=xL({monthNumber:Number(a),format:i.intlOptions,locale:o});break;case Bn.HourOfDay:n=bL({hour:Number(a),format:i.intlOptions,locale:o});break}}else if(a!==void 0&&a!==""){if(i.type===R.DateAxisFormat)n=gn({root:r,type:R.DateAxisFormat,intlOptions:i.intlOptions,formatLocale:o}).format(n,i.intlOptions);else if(i.type===R.CategoryAxisFormat&&(n=a?.toString()??"",!Ki(n)&&n!==J.htmlEmptyContent)){let{characterLimit:h}=i;n=Ux({stringToTruncate:n,characterLimit:h})}}}return n.toString()}}function jH(s,t){let e={...Jn(t)},i=["year","month","day","hour","minute","second"],r={},a={},n=Kh.new(e.timeZone);s.root.timezone?.name!==n.name&&(s.root.timezone=n);for(let o=0;o<i.length;o+=1){let l=i[o],u=o===0?l:i[o-1],h=t?.formatPerDateTimeUnit?.[l]??e,c=t?.formatPerDateTimeUnit?.[u];h&&Object.values(h).find(A=>A!==void 0&&(typeof A!="string"||!Ki(A)))&&(r[l]=h,a[l]=c??h)}Object.keys(r).length>0&&s.set("dateFormats",r),Object.keys(a).length>0&&s.set("periodChangeDateFormats",a)}function bO(s){let{axis:t,valueFormat:e,chartType:i}=s,r=MC({isXAxis:!0,chartType:i,valueFormat:e}),a=eo(e)&&t instanceof Sr,n=Sa(e)&&t instanceof yi&&!(t instanceof Sr),o=r&&t instanceof ns;return!a&&!n&&!o}function x1(s){let{dataContext:t,defaultValue:e,chartUID:i}=s,r=io(t),a=pe(i,"config"),n=pe(i,"rendererFieldNames"),o=We(a?.series),l=Pt(a?.series);if(o===R.BoxPlotSeries&&(l===Ie.BoxPlotMonoField||l===Ie.BoxPlotMultiFields||l===Ie.BoxPlotMonoFieldAndSplitBy||l===Ie.BoxPlotMultiFieldsAndSplitBy))r=t?.[tg];else if(o===R.HistogramSeries)r=t?.[Ad.Start];else if(o===R.BarSeries&&a!==void 0){let u=a.series?.[0]?.nullCategory;r=r===null&&u?.text!==void 0?u.text:to({value:e??"",dataContext:t,useRendererLabel:wd(a,n)})}else r=to({value:e??"",dataContext:t,useRendererLabel:wd(a,n)});return{labelValue:r,originalLabelValue:io(t)}}function XH(s,t){let{chart:e}=s;if(e!==void 0){let i=s.get("renderer").labels.template;i.adapters.remove("text"),i.adapters.remove("html");let r=t!==void 0?"html":"text";i.adapters.add(r,(a,n)=>{let o=a,l=_h(s.uid,"labelFormatter");if(!rn(n.uid,"isGuide")&&l!==void 0){let u,h;switch(!0){case s instanceof Sr:case s instanceof yi:u=n.dataItem?._settings?.value;break;case s instanceof ns:{let c=a,A=n.dataItem?.dataContext,d=pe(s.chart?.uid??NaN,"config");if(We(d?.series)===R.HeatSeries){let p=au(s.get("renderer"))?A?.[$r.xField]:A?.[$r.yField];typeof p=="string"&&(c=p)}let f=x1({dataContext:A,defaultValue:c,chartUID:e.uid});u=f.labelValue,h=f.originalLabelValue}break}u!==void 0&&(o=l(u,h),r==="html"&&(o=Ur(o)))}return o}),i.adapters.add(r,(a,n)=>{let o=a,l=pe(e.uid,"config");if(!rn(n.uid,"isGuide")&&l!==void 0){let u=l.rotated??!1,h=au(s.get("renderer"),u),c=l.axes?.[h?0:1],A={type:qt.TS,...c?.labels.content,text:a};o=Ws({textSymbol:A,format:r==="text"?"amChartsV5":"html"})}return o}),r==="html"&&i.set("html",J.htmlEmptyContent)}}function WH(s){let{axis:t,isRotated:e,chartConfig:i}=s;if(t instanceof ns||t instanceof Sr){let r=i.orderOptions?.data?.orderBy===ef.Descending,a=e===!0;r&&t instanceof Sr&&(a=!a),t.get("renderer").set("inversed",a)}}async function zH(s){let{axis:t,isXAxis:e,chartType:i,formatOptions:r,isNonAggregatedChart:a,overridePercentMultiplication:n,externalAxisLabelFormatter:o,errorStrings:l}=s,{chart:u}=t;if(u!==void 0){let h=MC({isXAxis:e,chartType:i,valueFormat:r}),c=t instanceof yi&&!(t instanceof Sr)&&Sa(r),A=t instanceof Sr&&eo(r),d=t instanceof ns&&h;if(!(c||A||d))await Bu("mismatchAxisAndValueFormat",l);else{XH(t,o);let f=o;o===void 0&&(i===R.HeatSeries?f=HH({chart:u,isXAxis:e,formatOptions:r}):d?f=QH({chart:u,formatOptions:r,isNonAggregatedChart:a}):c?f=NH({axis:t,intlOptions:r.intlOptions,overridePercentMultiplication:n,valueAxisFormatter:o}):A&&jH(t,r)),PA(t.uid,{labelFormatter:f})}}}function GH(s){let{chart:t,chartConfig:{axes:e,rotated:i,series:r},rotationChanged:a,axisLabelsBehaviorChanged:n,timeIntervalInfoWasReset:o}=s,l=We(r),u=i===!0?1:0,h=i===!0?0:1,c=e?.[u]?.valueFormat,A=e?.[h]?.valueFormat,d=t.xAxes.getIndex(0),f=t.yAxes.getIndex(0),p=d===void 0||a||c!==void 0&&bO({axis:d,valueFormat:c,chartType:l}),m=f===void 0||a||A!==void 0&&bO({axis:f,valueFormat:A,chartType:l});return o||n?.[0]||n?.[1]||p||m}function au(s,t){return s instanceof ps&&t!==!0||s instanceof Da&&t===!0||s instanceof ta}function Hb(s){return s instanceof ps}function YH(s){return s instanceof Da}function KH(s){let t=!1;if(s!==void 0){let e=pe(s.uid,"config");if(e!==void 0){let i=xd({chartConfig:e}),{stackedMinY:r,stackedMaxY:a}=_P({seriesConfig:e.series,filteredData:s.series.getIndex(0)?.data.values??[],filteredSeriesIds:i});t=r<0||a<0}}return t}function _1(s){let{axis:t,isSecondValueAxis:e,data:i}=s,{chart:r}=t,a=!0;if(r!==void 0){let n=pe(r.uid,"config"),o=pe(r.uid,"isRotated");if(n!==void 0){let l=au(t.get("renderer"),o),u=0;l||(u=e===!0?2:1);let{isLogarithmic:h}=n.axes?.[u]??{};if(h===!0){let c=xd({chartConfig:n,isSecondValueAxis:e}),A=i!==void 0&&"dataItems"in i?Eo(i):void 0,{minY:d,maxY:f,minX:p,maxX:m}=of({chartConfig:n,chartData:A??r.series.getIndex(0)?.data.values??[],filteredSeriesIds:c}),g=l?p:d,y=l?m:f;Number.isFinite(g)&&g!==Number.MAX_SAFE_INTEGER&&Number.isFinite(y)&&y!==Number.MIN_SAFE_INTEGER&&(a=g>0&&y>0)}}}return a}function ZH(s){let{axis:t,isLogarithmic:e,isSecondValueAxis:i}=s;(t instanceof Sr||t instanceof yi)&&t.setAll({logarithmic:e===!0&&_1({axis:t,isSecondValueAxis:i}),treatZeroAs:e===!0?.001:0,maxPrecision:e===!0?0:void 0})}function qH(s,t){if(s instanceof yi){let{integerOnlyValues:e,valueFormat:i}=t,r=px(i)?i.intlOptions.maximumFractionDigits:void 0;s.set("maxPrecision",e===!0||r===0?0:Number.NaN)}}function w1(s,t){let{chart:e}=t,i=ks.new(s,{forceHidden:!0});return t.set("tooltip",i),i.adapters.add("labelText",(r,a)=>{let n=r??"",o=_h(t.uid,"labelFormatter");if(!a.isHidden()&&o&&e){let{label:l}=a,u=l.get("text")??"";if(t instanceof yi){let h=Number.parseFloat(u.replace(/,/gu,""));n=o(Number.isNaN(h)?u:h,r)}else if(t instanceof ns){let h=l.dataItem?.dataContext,c=x1({dataContext:h,defaultValue:r,chartUID:e.uid});n=o(c.labelValue??u,r??c.originalLabelValue)}}return n}),i}function JH(s){let{root:t,axis:e,displayCursorTooltip:i}=s;(e.get("tooltip")??w1(t,e)).set("forceHidden",i!==!0)}function e2(s){let{axis:t,timeIntervalInfo:e,dateBaseInterval:i}=s;if(t instanceof Sr){let{size:r,unit:a}=e??{};if(a||({size:r,unit:a}=i??{}),r!==void 0&&a!==void 0){let n;switch(a){case rr.Second:n="second";break;case rr.Minute:n="minute";break;case rr.Hour:n="hour";break;case rr.Day:n="day";break;case rr.Week:n="week";break;case rr.Month:n="month";break;case rr.Year:n="year";break}n!==void 0&&t.set("baseInterval",{timeUnit:n,count:r})}}}function t2(s,t){let{buffer:e}=t??{};return e??=J.buffer,s instanceof yi&&!(s instanceof Sr)&&!e}function i2(s,t){let e=!1;return s instanceof yi&&!(s instanceof Sr)&&(e=t2(s,t),s.set("strictMinMax",e)),e}function vO(s,t){let e;if(!s||s<=0)e=1;else{let i=(t?Math.ceil:Math.floor)(Math.log10(s));e=Math.pow(10,i)}return e}function r2(s){let{axis:t,minimumFromConfig:e,maximumFromConfig:i,data:r,isSecondValueAxis:a}=s,n=e,o=i,{chart:l}=t;if(l!==void 0){let u=pe(l.uid,"config"),h=u?.rotated;if(l instanceof Ai&&u!==void 0){let c=We(u?.series),A=on(u),d=au(t.get("renderer"),h),f=kH(l),p=xd({chartConfig:u,isSecondValueAxis:a,seriesIds:f}),m=Eo(r),g=of({chartConfig:u,chartData:m??l.series.getIndex(0)?.data.values??[],filteredSeriesIds:p}),{minX:y,maxX:x,minY:C,maxY:S}=g,[P,F]=d?[y??Number.NaN,x??Number.NaN]:[C,S];c===R.BarSeries||c===R.HistogramSeries&&!d||c===R.ComboLineAndBarSeries||(c===R.LineSeries||c===R.RadarSeries)&&A===cr.Stacked&&!d?(n=Math.min(P,0),o=Math.max(F,0)):(n=P,o=F)}n=e??n,o=i??o}return{min:n,max:o}}function s2(s){let{axis:t,axisConfig:e,minimumFromConfig:i,maximumFromConfig:r,isLogarithmic:a,chartType:n,data:o,isSecondValueAxis:l}=s;if(t instanceof yi||t instanceof Sr)if(i2(t,e)){let u=Number.isNaN(i)?void 0:i,h=Number.isNaN(r)?void 0:r;if(!Number.isFinite(i)||!Number.isFinite(r)){let c=r2({axis:t,data:o,minimumFromConfig:u,maximumFromConfig:h,isSecondValueAxis:l});u=!a||Number.isFinite(i)?c.min:vO(c.min,!1)??Number.NaN,h=!a||Number.isFinite(r)?c.max:vO(c.max,!0)??Number.NaN}u=u??Number.NaN,h=h??Number.NaN,Number.isNaN(u)||Number.isNaN(h)||u<h?t.setAll({min:u,max:h}):t.setAll({min:Number.NaN,max:Number.NaN}),n===R.GaugeSeries&&t.markDirty()}else t.setAll({min:Number.NaN,max:Number.NaN})}function Db(s,t){if(s!==void 0){let e=pe(s.uid,"config"),i=on(e),r=KH(s);if(e!==void 0&&(i!==cr.Stacked100||r)){let a=We(e?.series),n=s.xAxes.getIndex(0),o=e.axes?.[0],l=e.axes?.[1],u=e.axes?.[2],h=s.yAxes.getIndex(0),c=s.xAxes.getIndex(1)??s.yAxes.getIndex(1);[{axis:n,axisConfig:o},{axis:h,axisConfig:l},{axis:c,axisConfig:a===R.HistogramSeries?o:u,isSecondValueAxis:a!==R.HistogramSeries}].forEach(A=>{let{axis:d,axisConfig:f,isSecondValueAxis:p}=A;if(d!==void 0){let{minimum:m,maximum:g,buffer:y,isLogarithmic:x}=f??{};s2({axis:d,axisConfig:f,data:t,chartType:a,minimumFromConfig:m,maximumFromConfig:g,isLogarithmic:x,isSecondValueAxis:p})}})}else i===cr.Stacked100&&(Sn(e)?s.xAxes:s.yAxes).each(a=>{a instanceof yi&&a.setAll({min:0,max:100})})}}function a2(s){s.get("renderer").grid.template.adapters.add("strokeWidth",(t,e)=>{let i=_h(s.uid,"zeroGridLine"),r=i?.displayZeroLine===!0,a=i?.strokeWidth??J.lineWidth;return e.get("themeTags")?.includes("base")&&r&&(a=(a===0?1:a)*1.5),a}),s.get("renderer").grid.template.adapters.add("strokeOpacity",(t,e)=>{let i=_h(s.uid,"zeroGridLine"),r=i?.displayZeroLine===!0,a=i?.visible===!0?t:0;return e.get("themeTags")?.includes("base")&&r&&(a=1),a})}function kC(s){s.on("visible",()=>{s.chart instanceof Ai&&Db(s.chart)}),s.events.on(Ti.DataValidated,()=>{s.chart instanceof Ai&&Db(s.chart)})}function n2(s){let t=0;return s.dataItems.forEach(e=>{let i=e.get("label");i!==void 0&&rn(i.uid,"isGuide")!==!0&&i.getText()!==void 0&&i.height()>t&&i.isVisible()&&(t=i.height())}),t}function xO(s,t){if(t){let{chart:e}=t;if(e){let i=pe(e.uid,"isRotated"),r=pe(e.uid,"config"),a=We(r?.series),n=[],o=(l,u)=>{if(l instanceof yi){let h=l.get("renderer")instanceof ta;n.push({isXAxis:au(l.get("renderer"),i),isSecondValueAxis:u===1&&a!==R.HistogramSeries,minimum:h?l.get("min"):l.getPrivate("min"),maximum:h?l.get("max"):l.getPrivate("max")})}};e.xAxes.each(o),e.yAxes.each(o),n.length>0&&n.every(l=>Number.isFinite(l.minimum)&&Number.isFinite(l.maximum))&&Px(n,e.root.dom)}}}function C1(s){s.ghostLabel?.set("forceHidden",!0)}function _O(s){let{axis:t,start:e,end:i}=s;t.zoom(e??0,i??1)}function wO(s){s!==void 0&&s.setAll({start:0,end:1})}function o2(s){s instanceof Ai&&(s.xAxes.each(t=>_O({axis:t})),s.yAxes.each(t=>_O({axis:t})),wO(s.get("scrollbarX")),wO(s.get("scrollbarY")))}function l2(s){let{axis:t,guide:e,guideIndex:i}=s,{root:r,chart:a}=t,n=e.get("axisFill");n?.set("tooltip",ks.new(r,{autoTextColor:!1}));let o=n?.get("tooltip");if(o!==void 0&&a!==void 0){o.label.setAll({oversizedBehavior:"wrap"}),o.label.adapters.add("maxWidth",()=>Math.min(J.tooltipWidth,a.seriesContainer.width())),o.get("background")?.set("fillOpacity",rf);let l=pe(a.uid,"rtl");o.label.set("direction",l?"rtl":"ltr")}if(n!==void 0){n.adapters.add("tooltipText",(u,h)=>{let c=u,{dataItem:A}=h;if(!(t.get("renderer")instanceof ta)){let d=_h(t.uid,"guideTooltipFormatter");if(d!==void 0&&A instanceof as){let f,p;switch(!0){case t instanceof Sr:case t instanceof yi:f=A.get("value"),p=A.get("endValue");break;case t instanceof ns:f=A.get("category"),p=A.get("endCategory");break}c=d({guideName:xN(A.uid,"name")??"",start:f??"",end:p,guideIndex:i})}}return c??""});let l=n.getTooltip();l&&(r1(l),l.adapters.add("x",(u,h)=>{let{chart:c}=t;if(c&&h){let A=pe(c.uid,"config"),d=pe(c.uid,"isRotated");if(A){let f=au(t.get("renderer"),d)?0:1,p=A?.axes?.[f]?.guides?.[i];if(p){let{tooltipReverseColor:m}=p;s1(h,m)}}}return u}))}}function u2(s,t){return e=>{let{guideName:i,start:r,end:a}=e,{chart:n,root:o}=s,l="";if(n!==void 0){let u=pe(n.uid,"config"),h=pe(n.uid,"isRotated"),c=au(s.get("renderer"),h)?0:1,A=u?.axes?.[c]?.guides,d=r,f=a;if(s instanceof Sr){let x;if(n!==void 0){let C=pe(s.chart?.uid??Number.NaN,"formatLocale");x=gn({root:s.root,type:R.DateAxisFormat,formatLocale:C});let S=u?.axes?.[0]?.valueFormat?.type===R.DateAxisFormat?u.axes[0].valueFormat.intlOptions:void 0;d=x.format(r,S),a!==void 0&&(f=x.format(a,S))}}else if(s instanceof yi&&!(r instanceof Date)&&!(a instanceof Date)){let x=A?.find(F=>F.name===i),{start:C,end:S}=B1(s,x);Number.isFinite(C)&&(d=C),Number.isFinite(S)&&(f=S);let P=_h(s.uid,"numberFormatter")??(F=>Mu.new(o,{}).format(F));d=P(d),f!==void 0&&(f=P(f))}else s instanceof ns&&(d=r,f=a);let p=d.toString(),m=f?.toString()??"";!Ki(m)&&p!==m?l=BA(t.guideTooltipLabel,{guideStart:p,guideEnd:m}):l=p;let g=pe(n.uid,"rtl"),y=ca(g??!1);l=`${i}${y} ${l}`}return l}}function h2(s){let{axis:t,guideTooltipFormatter:e,utilsStrings:i}=s;PA(t.uid,{guideTooltipFormatter:e??u2(t,i)})}function CO(s){let{inputValue:t,axis:e,axisMin:i,axisMax:r}=s,a=t;if(t!=null)switch(!0){case e instanceof Sr:a=t;break;case e instanceof ns:a=t.toString();break;case e instanceof yi:if(typeof t!="number"){let n=t.toString().trim(),o=vf(n);o!==void 0?i!==void 0&&r!==void 0?a=o/100*(r-i)+i:a=null:a=Number.parseFloat(n)}break}return a}function EC(s,t){return s.axisRanges?.values?.filter(e=>{let i=e.get("label"),r=rn(i?.uid??Number.NaN,"isGuide")??!1,a=rn(i?.uid??Number.NaN,"isGaugeAxisLabel")??!1,n=!1;switch(t){case Di.Ticks:n=!r;break;case Di.Guides:n=r;break;case Di.GaugeTicksWithLabels:n=a&&"value"in e&&e.value!==void 0;break}return n})??[]}function c2(s){let{axis:t,guideConfig:e,above:i}=s,r=e!==void 0,a=t.axisRanges.length,n=t.axisRanges.insertIndex(a,t.makeDataItem({above:i}));r&&(i===!0&&n.get("axisFill")?.setAll({layer:J.zIndexes.guide}),MN({guide:n,axis:t,guideLabelConfig:e?.label}));let o=n.get("axisFill");o!==void 0&&o.setAll({disabled:!0,fillOpacity:1});let l=n.get("grid");return l!==void 0&&r&&l.set("strokeOpacity",0),n}function d2(s){let{axis:t,guideIndex:e,guideConfig:i}=s,r=c2({axis:t,guideConfig:i,above:i?.above});l2({axis:t,guide:r,guideIndex:e});let a=r.get("tick"),n=r.get("label"),o=r.get("grid");a!==void 0&&a.set("disabled",!0),n!==void 0&&n.set("inside",!0),o!==void 0&&o.set("disabled",!0)}function A2(s,t){let e=EC(s,Di.Guides).length,i=(t?.length??e)-e;for(let r=0;r<i;r+=1)d2({axis:s,guideIndex:r,guideConfig:t?.[r]})}function f2(s,t){let{start:e,end:i}=t,r=e!==null?e:void 0,a=i!==null?i:void 0,{chart:n}=s,o=pe(n?.uid??Number.NaN,"config");if(o!==void 0){let l=pg(o),u=s.data.values,h=u.find(c=>c[J.originalCategoryValue]===e)?.[l];if((typeof h=="string"||typeof h=="number"||h instanceof Date)&&(r=h),a!==void 0)for(let c=u.length-1;c>=0;c-=1){let A=u[c],d=A[l];if(A[J.originalCategoryValue]===i&&(typeof d=="string"||typeof d=="number"||d instanceof Date)){a=d;break}}}return{modifiedStart:r,modifiedEnd:a}}function B1(s,t){let{start:e,end:i}=t??{},r;if(t!==void 0&&e!==void 0&&e!==null){let a=s instanceof yi?s.get("min"):void 0,n=s instanceof yi?s.get("max"):void 0,o=CO({inputValue:e,axis:s,axisMin:a,axisMax:n}),l=t.style?.type===qt.SFS&&i!==null&&i!==void 0?CO({inputValue:i,axis:s,axisMin:a,axisMax:n}):o;r={isValidGuide:o!=null&&(i===void 0||l!=null),start:o,end:l}}else r={isValidGuide:!1,start:void 0,end:void 0};return r}function p2(s){let{axis:t,guide:e,guideConfig:i}=s,{start:r,end:a}=i;if(r!==void 0){let{chart:n}=t,o;if(t instanceof ns&&n instanceof Ai&&pe(n.uid,"isNonAggregatedChart")===!0){let{modifiedStart:l,modifiedEnd:u}=f2(t,i);o={isValidGuide:!0,start:l??r,end:u??a}}else o=B1(t,i);if(o.isValidGuide){let l,u;switch(!0){case t instanceof Sr:case t instanceof yi:l="value",u="endValue";break;case t instanceof ns:l="category",u="endCategory";break}l!==void 0&&o.start!==void 0&&e.setAll({[l]:o.start}),u!==void 0&&o.end!==void 0&&e.setAll({[u]:o.end})}}}function m2(s){let{axis:t,guide:e,guideConfig:i}=s;if(e){let r=e.get("axisFill"),a=e.get("label");if(i!==void 0){_N(e.uid,{name:i.name}),Lr(e,i.visible),p2({axis:t,guide:e,guideConfig:i}),i.style.type===qt.SLS?Rc({element:r,fillSymbol:{type:qt.SFS,color:i.style?.color,outline:i.style},visible:i.visible}):i.style.type===qt.SFS&&Rc({element:r,fillSymbol:i.style,visible:i.visible}),RN({axis:t,guide:e,guideConfig:i,guideType:i.style.type}),e.get("axisFill")?.setAll({layer:i.above?J.zIndexes.guide:0});let{chart:n}=t}else r!==void 0&&r.set("disabled",!0),a!==void 0&&a.set("disabled",!0)}}function g2(s){let{axis:t,guideConfigs:e,guideTooltipFormatter:i,utilsStrings:r}=s;if(e!==void 0){let a=EC(t,Di.Guides);e.forEach((n,o)=>{m2({axis:t,guide:a[o],guideConfig:n})}),h2({axis:t,guideTooltipFormatter:i,utilsStrings:r})}}function y2(s){let{axis:t,tickOrGuide:e,numberOfElementsToBeDeleted:i}=s,r=[],a=t.axisRanges.length-1,n=i;for(;n>0&&a>=0;){let o=t.axisRanges.getIndex(a);o!==void 0&&(rn(o.get("label")?.uid??Number.NaN,"isGuide")??!1)===!0&&e===Di.Guides&&(r.push(o),n-=1),a-=1}for(let o=0;o<r.length;o+=1)t.axisRanges.removeValue(r[o])}function BO(s,t){let e=EC(s,Di.Guides).length,i=t?.length??0,r=e-i;y2({axis:s,numberOfElementsToBeDeleted:r,tickOrGuide:Di.Guides})}function b2(s){let{axis:t,guideConfigs:e,anyGuideAboveChanged:i}=s;i&&BO(t),A2(t,e),g2(s),BO(t,e)}function S1(s){return s.getCellWidthPosition()*s.width()}function v2(s,t){let e=s.get("renderer");if(s!==void 0){let i=Number.NaN;if(t===dr.Wrap){let r=Number.MAX_SAFE_INTEGER;e.labels.each(n=>{rn(n.uid,"isGuide")!==!0&&n.width()>0&&(r=Math.min(r,n.innerWidth()))});let a=s instanceof Sr?s.width()/J.maxNumberOfXAxisLabelsInWrapModeForDateAxis:s.width()/J.maxNumberOfXAxisLabelsInWrapMode;i=Math.max(r,a)}else if(t===dr.Hide){let r=Number.MIN_SAFE_INTEGER;e.labels.each(a=>{rn(a.uid,"isGuide")!==!0&&a.width()>0&&(r=Math.max(r,a.innerWidth()))}),i=r+2}Number.isFinite(i)&&i>J.shortestMinGridDistance&&e.set("minGridDistance",i)}}function x2(s){let{axis:t,chartType:e,labelConfig:i,isSecondValueAxis:r,tickSpacing:a}=s,{horizontalAxisLabelsBehavior:n}=s;n===void 0&&(n=e!==R.HistogramSeries?dr.Rotate:dr.Hide);let o=t.get("renderer"),l=o.get("minGridDistance");if(typeof a=="number"&&Number.isFinite(a))l=a;else if(e!==R.RadarSeries)if(o instanceof ta)l=J.gauge.gaugeMinGridDistance;else if(t instanceof yi)l=o instanceof ps?J.xAxisMinGridDistance:J.yAxisMinGridDistance;else if(o instanceof ps)if(r===!0)l=J.secondRotatedValueAxisMinGridDistance;else if(n===dr.Rotate){let u=i.content.font?.size??J.generalFontSize,h=t instanceof ns?J.categoryAxisLabelPadding:J.axisLabelPadding;l=u*h}else if(n===dr.Wrap||n===dr.Hide){let u=_h(t.uid,"minGridDistanceCallbackDisposer");u!==void 0&&u.dispose(),u=t.events.on(Ti.BoundsChanged,()=>{v2(t,n)}),PA(t.uid,{minGridDistanceCallbackDisposer:u})}else n===dr.Stagger?l=J.staggerMinGridDistance:l=t instanceof ns?J.xCategoryAxisMinGridDistance:J.xAxisMinGridDistance;else l=t instanceof ns?J.yCategoryAxisMinGridDistance:J.yAxisMinGridDistance;o.set("minGridDistance",l)}function SO(s=1,t){t.get("renderer").labels.template.set("maxWidth",S1(t)*s)}function PO(s,t=1){s.get("renderer").labels.template.setAll({oversizedBehavior:"wrap",paddingLeft:.5,paddingRight:.5,textAlign:"center"}),s.events.on(Ti.BoundsChanged,()=>SO(t,s)),SO(t,s)}function _2(s){let t=s.get("renderer").labels.template;t.adapters.add("rotation",(e,i)=>{let r=rn(i.uid,"isGuide")!==!0?_h(s.uid,"rotation")??0:e??0;return t.set("centerX",r===0?Qe:be),r})}function FO(s){if(s?.chart!==void 0){let t=s.get("renderer");if(pe(s.chart.uid,"config")?.axes?.[0].labels!==void 0&&t.labels.length>1){let e=t.labels.getIndex(0)?.get("rotation"),i=0;t.labels.each(a=>{if(rn(a.uid,"isGuide")!==!0&&a.width()>0){let n=e===J.rotatedAxisLabel.rotation?Math.sqrt(a.innerHeight()**2+a.innerWidth()**2):a.innerWidth();n>i&&(i=n)}});let r=S1(s)>=i+5;if(!r&&e===0||r&&e===J.rotatedAxisLabel.rotation){let a=r?J.axisLabel.rotation:J.rotatedAxisLabel.rotation;t.labels.template.setAll({rotation:a,centerX:r?Qe:be,centerY:is,paddingTop:r?J.axisLabel.paddingTop:J.rotatedAxisLabel.paddingTop,paddingLeft:r?J.axisLabel.paddingLeft:J.rotatedAxisLabel.paddingLeft,paddingRight:r?J.axisLabel.paddingRight:J.rotatedAxisLabel.paddingRight}),PA(s.uid,{rotation:a})}}}}function TO(s){let t=s.get("renderer");_2(s),t.labels.template.setAll({oversizedBehavior:"hide"}),s.events.on(Ti.BoundsChanged,()=>FO(s)),FO()}function DO(s){if(s&&pe(s.chart?.uid??Number.NaN,"config")?.axes?.[0].labels?.visible!==!1){let t=0;s.dataItems.forEach((e,i)=>{let r=e.get("label");r!==void 0&&rn(r.uid,"isGuide")!==!0&&r.getText()!==void 0&&r.width()>0&&i%2===0&&r.innerHeight()>t&&(t=r.innerHeight())}),t=Math.round(t),t>0&&(s.dataItems.filter(e=>{let i=e.get("tick"),r=e.get("label");return i!==void 0&&r!==void 0&&rn(r.uid,"isGuide")!==!0&&r.getText()!==void 0&&r.width()>0}).forEach((e,i)=>{let r=e.get("tick"),a=e.get("label"),n=i%2===1;r&&r.set("length",n?t+5:J.axisTickLength),a&&a.set("dy",n?t:0)}),t&&s.get("renderer").labels.template.get("paddingBottom")!==t+5&&s.get("renderer").labels.template.set("paddingBottom",t+5))}}function w2(s){s.get("renderer").labels.template.set("oversizedBehavior","wrap"),s.events.on(Ti.BoundsChanged,()=>DO(s)),DO(s)}function C2(s){s.get("renderer").labels.template.setAll({oversizedBehavior:"wrap",maxWidth:J.yAxisLabelMaxWidth,textAlign:"end"})}function B2(s){let{axis:t,horizontalAxisLabelsBehavior:e,verticalAxisLabelsBehavior:i,axisLabelsBehaviorChanged:r,labelConfig:a,chartType:n}=s,o=t.get("renderer");if(!(o instanceof ta))if(Hb(o)&&r?.[0]===!0)switch(n===R.HistogramSeries&&e===void 0?dr.Hide:e){case dr.Hide:break;case dr.Stagger:w2(t),PO(t,2);break;case dr.Wrap:PO(t);break;case dr.Rotate:TO(t);break;default:a.content.angle!==null&&a.content.angle===void 0&&TO(t);break}else YH(o)&&i!==dr.Hide&&C2(t)}function S2(s){let{renderer:t,axisConfig:e,labelConfig:i}=s;switch(e.labelsOrientation){case Zv.Horizontal:t.labels.template.setAll({textType:"adjusted"}),t.labels.template.remove("radius");break;case Zv.Radial:t.labels.template.setAll({textType:"radial",radius:35}),i.content.verticalAlignment=Zt.Middle;break;default:t.labels.template.setAll({textType:"circular"}),t.labels.template.remove("radius")}}function P2(s){let{axis:t,axisConfig:{labels:e},horizontalAxisLabelsBehavior:i,verticalAxisLabelsBehavior:r,axisLabelsBehaviorChanged:a,chartType:n}=s,o={...e},l=t.get("renderer"),u=l?.get("opposite");Hb(l)?(o.content.horizontalAlignment=gi.Center,o.content.verticalAlignment=u?Zt.Bottom:Zt.Top):(o.content.horizontalAlignment=u?gi.Left:gi.Right,o.content.verticalAlignment=Zt.Middle),l instanceof ta?S2({renderer:l,axisConfig:s.axisConfig,labelConfig:e}):o.content.angle=o.content.angle??l.labels.template.get("rotation"),Wn({label:l.labels.template,labelConfig:o}),B2({axis:t,horizontalAxisLabelsBehavior:i,verticalAxisLabelsBehavior:r,labelConfig:e,axisLabelsBehaviorChanged:a,chartType:n})}function F2(s){let{axis:t,isHorizontalAxis:e,label:i}=s,{chart:r}=t;if(r){let a=e?"width":"height",n=e?pi.XAxisTitle:pi.YAxisTitle;ru({chart:r,label:i,labelType:n}),t.onPrivate(a,Wr(()=>ru({chart:r,label:i,labelType:n}),J.debounceTime))}}function em(s){let{value:t,axisMin:e,axisMax:i}=s,r=Number.NaN,a=i-e;return a!==0&&(r=(t-e)/a),r}function uC(s){return s!=null&&s!==0}function P1(s){let{minimum:t,maximum:e,labelsIncrement:i,minimumValueConversion:r,maximumValueConversion:a}=s,n=t??wt.gauge.axisMinimum,o=e??wt.gauge.axisMaximum;n=wx(n,r),o=wx(o,a);let l=uC(i),u=uC(i)?i:Math.abs(o-n)/wt.gauge.numberOfLabelIntervals,h=l?Math.round(Math.abs(o-n)/u):wt.gauge.numberOfLabelIntervals;if(l)if(h>wt.gauge.maximumNumberOfLabelIntervals)u=Math.abs(o-n),h=1;else{let c=n+h*u;c<o?(h+=1,o=n+h*u):c>o&&(o=c)}return{min:n,max:o,labelsIncrement:u,numberOfIntervals:h}}function F1(s){let{axisConfig:t,axisMin:e,axisMax:i}=s;typeof e=="number"&&typeof i=="number"&&i-e!==0&&t.guides?.forEach(r=>{let{start:a,end:n}=r;typeof a=="number"&&(r.start=em({value:a,axisMin:e,axisMax:i})),typeof n=="number"&&(r.end=em({value:n,axisMin:e,axisMax:i}))})}function T2(s){let{featureIndex:t,chartData:e,chartConfig:i}=s,{minimumFromField:r,maximumFromField:a}=i?.axes?.[0]??{},n,o;if(t>=0&&t<e.length){let l=e[t];typeof r=="string"&&!Ki(r)&&Number.isFinite(l[r])&&(n=l[r]),typeof a=="string"&&!Ki(a)&&Number.isFinite(l[a])&&(o=l[a])}return{minimumFromData:n,maximumFromData:o}}function D2(s){let{featureIndex:t,chartData:e,x:i}=s,r=-1;if(t>=0&&t<e.length){let a=e[t];i!==void 0&&!Ki(i)&&Number.isFinite(a[i])&&(r=a[i])}return r}async function T1(s){let{featureIndex:t=0,chartData:e,queryConfig:i,chartConfig:r,queryObject:a}=s,{axes:n,series:o}=r,l=ag(r),{minimum:u,maximum:h}=n?.[0]??{},{x:c}=o?.[0]??{},A=wt.gauge,d,f;l?{minimumFromData:d,maximumFromData:f}=T2({featureIndex:t,chartData:e,chartConfig:r}):a!==void 0&&i!==void 0&&({minimumFromData:d,maximumFromData:f}=await WP({queryObject:a,chartConfig:r,queryConfig:i}));let p=d??u??A.axisMinimum,m=f??h??A.axisMaximum,g=D2({chartData:e,featureIndex:t,x:c});return{minimum:p,maximum:m,dataValue:g}}function O2(s){let{oldConfig:t,axisMax:e,min:i,max:r,labelsIncrement:a,numberOfIntervals:n,valueFormat:o,minimumFromField:l}=s,u=Uh(o),h=!0;if(t!==void 0){let{minimum:c,minimumFromField:A,labelsIncrement:d,valueFormat:f}=t.axes[0],p=f?.intlOptions?.style!==o?.intlOptions?.style,m=uC(d)?d!==a:n!==wt.gauge.numberOfLabelIntervals;h=p||i!==c||l!==A||!u&&r!==e||m}return h}function L2(s){let{x:t,data:e,chart:i,valueFormat:r,minimum:a,maximum:n}=s,o=Number.NaN;if(e!==void 0&&t!==void 0){let l=e.find(h=>t in h),u=Number.parseFloat(l[t]);Number.isFinite(u)&&(o=u,Mi(i.uid,{gaugeData:o}))}else{let l=pe(i.uid,"gaugeData");Number.isFinite(l)&&(o=l)}return Uh(r)&&a!==void 0&&n!==void 0&&a!==null&&n!==null&&o!==null&&n-a!==0&&(o=em({value:o,axisMin:a,axisMax:n})),o}function I2(s,t){let e=t??null;if(t!=null){let i=s.xAxes.getIndex(0),r=pe(s.uid,"config"),a=i.get("min")??r?.axes?.[0].minimum??J.gauge.axisMinimum,n=i.get("max")??r?.axes?.[0].maximum??J.gauge.axisMaximum;t<a?e=a:t>n&&(e=n)}return e??void 0}function $2(s){let{root:t}=s,e=Jo.new(t,{radius:Ot(100)}),i=s.makeDataItem({value:0,bullet:Yu.new(t,{sprite:e})});return s.createAxisRange(i),i.get("grid")?.set("visible",!1),i.get("tick")?.set("visible",!1),e}function k2(s){let{chart:t,axis:e,needleConfig:i,gaugeValue:r}=s,a=e.axisRanges.values.find(o=>o.get("bullet")?.get("sprite")instanceof Jo),n=a?.get("bullet")?.get("sprite");if(a&&n instanceof Jo){let{startWidth:o,endWidth:l,innerRadius:u}=J.gaugeNeedle;Rc({element:n.hand,fillSymbol:i?.symbol}),Rc({element:n.pin,fillSymbol:i?.symbol}),a.set("value",I2(t,r)),n.pin.set("visible",i?.displayPin===!0),n.setAll({visible:i?.visible??!0,innerRadius:Ot(i?.innerRadius??u),bottomWidth:i?.startWidth??o,topWidth:i?.endWidth??l})}}function E2(s,t){let e=Number.isFinite(t?.innerRadius)?t?.innerRadius:J.gauge.innerRadius;typeof e=="number"&&Number.isFinite(e)&&s.set("innerRadius",Ot(e))}function M2(s,t){let e=Number.isFinite(t?.startAngle)?t?.startAngle:J.gauge.startAngle,i=Number.isFinite(t?.endAngle)?t?.endAngle:J.gauge.endAngle;typeof e=="number"&&Number.isFinite(e)&&s.set("startAngle",e),typeof i=="number"&&Number.isFinite(i)&&s.set("endAngle",i)}async function R2(s){let{chart:t,chartConfig:e,data:i,queryObject:r,xAxisLabelFormatter:a,utilsStrings:n,errorStrings:o}=s,{axes:l,series:u}=e,h=ag(e),{featureIndex:c,x:A}=u[0],d=l?.[0],f=t.xAxes.getIndex(0),p={...d};if(f instanceof yi&&f.get("renderer")instanceof ta&&p!==void 0&&i&&"dataItems"in i){let{valueFormat:m,needle:g}=p;E2(t,e),M2(t,e);let y=await T1({featureIndex:c,chartData:i.dataItems,chartConfig:e,queryObject:r,queryConfig:pe(t.uid,"queryConfig")});p.minimum=y.minimum,p.maximum=y.maximum;let{min:x,max:C}=P1(p),S={...p};Uh(m)?(S.minimum=0,S.maximum=1,F1({axisConfig:S,axisMin:p.minimum,axisMax:p.maximum})):(S.minimum=x,S.maximum=C),await RC({chartConfig:e,axis:f,axisConfig:S,externalAxisLabelFormatter:a,utilsStrings:n,errorStrings:o});let P=h?y?.dataValue:L2({x:A,data:i.dataItems,chart:t,minimum:p.minimum,maximum:p.maximum,valueFormat:m});k2({chart:t,axis:f,needleConfig:g,gaugeValue:P})}}async function U2(s){let{chart:t,axesConfig:e,errorStrings:i}=s,{root:r}=t;await Dl({chartType:R.GaugeSeries,axesConfig:e,errorStrings:i});let a=t.xAxes.push(yi.new(r,{min:0,max:100,renderer:ta.new(r,{})}));$2(a),C1(a)}async function V2(s){let{chart:t,chartConfig:e,axisLabelsBehaviorChanged:i,data:r,yAxisLabelFormatter:a,guideTooltipFormatter:n,utilsStrings:o,errorStrings:l}=s,{horizontalAxisLabelsBehavior:u,verticalAxisLabelsBehavior:h,axes:c}=e,A=R.HistogramSeries,d=t.xAxes.getIndex(0),f=t.yAxes.getIndex(0);await Dl({chartType:A,axesConfig:c,errorStrings:l}),[{axis:d,axisConfig:c?.[0]},{axis:f,axisConfig:c?.[1]}].forEach(async p=>{let{axis:m,axisConfig:g}=p;m!==void 0&&g!==void 0&&await RC({axis:m,data:r,axisConfig:g,horizontalAxisLabelsBehavior:u,verticalAxisLabelsBehavior:h,axisLabelsBehaviorChanged:i,utilsStrings:o,chartConfig:e,externalAxisLabelFormatter:a,guideTooltipFormatter:n,errorStrings:l})}),Db(t,r)}async function N2(s){let{chart:t,axesConfig:e,x:i,errorStrings:r}=s,{root:a}=t,n=R.HistogramSeries;await Dl({chartType:n,axesConfig:e,errorStrings:r});let o={root:a,x:i,chartType:n},l=e?.[0]?.valueFormat,u=e?.[1]?.valueFormat;if(l!==void 0&&u!==void 0){let h=vh({...o,axes:t.xAxes,valueFormat:l,axisRenderer:ps.new(a,{}),isXAxis:!0,x:i}),c=vh({...o,axes:t.xAxes,valueFormat:l,axisRenderer:ps.new(a,{}),isAxisForHistogramOverlaySeries:!0,isXAxis:!0,x:i});vh({...o,axes:t.yAxes,valueFormat:u,axisRenderer:Da.new(a,{}),isXAxis:!1,x:i}),h&&(h.get("renderer").grid.template.set("location",0),h.get("renderer").ticks.template.set("location",0),h.get("renderer").labels.template.set("location",0)),c&&(c.set("visible",!1),c.get("renderer").grid.template.set("visible",!1),c.get("renderer").ticks.template.set("visible",!1),c.get("renderer").labels.template.set("visible",!1))}}function MC(s){let{isXAxis:t,chartType:e,valueFormat:i,isAxisForHistogramOverlaySeries:r}=s;return e===R.HeatSeries||t&&(vd(i)||e===R.HistogramSeries&&!r||e===R.BarSeries&&Sa(i))}function D1(s,t){return t?`${cO}_x_${s.uid}`:`${cO}_y_${s.uid}`}function O1(s,t){let e=pe(s.chart?.uid??Number.NaN,"config"),i=Sn(e)?1:0,r=e?.axes?.[i]?.title?.content?.verticalAlignment,a=n2(s),n=a;switch(r){case Zt.Baseline:case Zt.Middle:n=a/2;break;case Zt.Bottom:n=Math.min(a,0);break;case Zt.Top:}t?.set("dy",n)}function Q2(s){s instanceof yi&&(s.onPrivate("min",xO),s.onPrivate("max",xO))}function H2(s){let{axis:t,isHorizontalAxis:e,isSecondValueAxis:i}=s,{root:r}=t,a=e?{...J.xAxisTitleLabel,verticalCenter:Zt.Top}:J.yAxisTitleLabel,n=qp({root:r,id:D1(t,e),defaults:a});return t.get("renderer")instanceof Da&&i!==!0||t.get("renderer")instanceof ps&&i===!0?t.children.unshift(n):t.children.push(n),e&&i!==!0&&t.events.on(Ti.BoundsChanged,Wr(()=>{O1(t,n)},J.debounceTime)),F2({axis:t,isHorizontalAxis:e,label:n}),n}function vh(s){let{root:t,axes:e,isXAxis:i,valueFormat:r,axisRenderer:a,isSecondValueAxis:n=!1,chartType:o,x:l,isAxisForHistogramOverlaySeries:u}=s,h;if(MC({isXAxis:i,chartType:o,valueFormat:r,isAxisForHistogramOverlaySeries:u})&&!n){let c;switch(o){case R.HeatSeries:c=i?$r.xField:$r.yField;break;case R.HistogramSeries:c=Ad.Start;break;case R.BoxPlotSeries:c=l;break;default:c=J.xAxisField;break}c&&(h=e.push(ns.new(t,{categoryField:c,renderer:a})))}else if(eo(r))h=e.push(Sr.new(t,{strictMinMax:!0,baseInterval:{timeUnit:"day",count:1},renderer:a}));else if(Sa(r)&&(h=e.push(yi.new(t,{strictMinMax:!0,renderer:a})),n&&h instanceof yi)){let c=e.getIndex(0);c instanceof yi&&h.set("syncWithAxis",c)}if(h!==void 0&&!u){a2(h),w1(t,h);let c=o===R.HistogramSeries||o===R.HeatSeries?0:.1,A=o===R.HistogramSeries||o===R.HeatSeries?1:.9;h.get("renderer").setAll({cellStartLocation:c,cellEndLocation:A}),C1(h),Q2(h),Hb(h.get("renderer"))?h.get("renderer").labels.template.set(n?"paddingBottom":"paddingTop",J.axisLabelSpacing.horizontalAxisLabelPaddingTop):a instanceof Da&&h.get("renderer").labels.template.set(n?"paddingLeft":"paddingRight",J.axisLabelSpacing.verticalAxisLabelSidePadding)}return h}function j2(s){let{axis:t,data:e,chartType:i}=s;if(e!==void 0){let r=Eo(e);if(i!==R.HeatSeries)t.data.setAll(r??[]);else{let a=(l,u)=>{let h=u?.map(c=>l in c?c[l]:void 0);return Array.from(new Set(h)).map(c=>({[l]:c}))},n=t.get("renderer")instanceof Da?$r.yField:$r.xField,o=a(n,r);t.data.setAll(o)}}}function X2(s){let{axis:t,axisTitleConfig:e,isSecondValueAxis:i}=s,r=t.get("renderer"),{chart:a}=t,n=Hb(r),o=vr({childId:D1(t,n),parent:t,useChildId:!0})??H2({axis:t,isHorizontalAxis:n,isSecondValueAxis:i});if(o instanceof $i){let l=n?{...J.xAxisTitleLabel,verticalCenter:Zt.Top}:J.yAxisTitleLabel;if(Wn({label:o,labelConfig:e,defaults:l}),n&&i!==!0&&O1(t,o),a){let u={chart:a,label:o,labelType:n?pi.XAxisTitle:pi.YAxisTitle};ru(u)}}}async function RC(s){let{axis:t,data:e,axisConfig:i,timeIntervalInfo:r,horizontalAxisLabelsBehavior:a,verticalAxisLabelsBehavior:n,axisLabelsBehaviorChanged:o,anyGuideAboveChanged:l,isNonAggregatedChart:u,isSecondValueAxis:h,chartConfig:c,externalAxisLabelFormatter:A,guideTooltipFormatter:d,utilsStrings:f,errorStrings:p}=s,{visible:m,lineSymbol:g,title:y,labels:x,isLogarithmic:C,grid:S,displayCursorTooltip:P,displayZeroLine:F,valueFormat:O,guides:$,tickSpacing:L,dateBaseInterval:E}=i,{root:D}=t,H=We(c.series),te=on(c),K=c.rotated,ae=t.get("renderer");PA(t.uid,{zeroGridLine:{displayZeroLine:F,strokeWidth:S?.width??J.lineWidth,visible:S!==void 0}}),ZH({axis:t,isLogarithmic:C,isSecondValueAxis:h}),await zH({axis:t,isXAxis:au(t.get("renderer"),K),chartType:H,formatOptions:O,isNonAggregatedChart:u,overridePercentMultiplication:te===cr.Stacked100,externalAxisLabelFormatter:A,errorStrings:p}),WH({axis:t,isRotated:K,chartConfig:c}),e2({axis:t,timeIntervalInfo:r,dateBaseInterval:E}),wo({element:ae,lineSymbol:{color:[...J.color],...g??pd()},visible:m}),wo({element:ae.ticks.template,lineSymbol:g,visible:m}),wo({element:ae.grid.template,lineSymbol:S,visible:m}),S===void 0&&(t.get("renderer").grid.template.set("strokeWidth",J.lineWidth),t.markDirtyValues()),P2({axis:t,axisConfig:i,chartType:H,horizontalAxisLabelsBehavior:a,verticalAxisLabelsBehavior:n,axisLabelsBehaviorChanged:o}),X2({axis:t,axisTitleConfig:y,isSecondValueAxis:h}),qH(t,i),x2({axis:t,chartType:H,labelConfig:x,horizontalAxisLabelsBehavior:a,isSecondValueAxis:h,tickSpacing:L}),JH({root:D,axis:t,displayCursorTooltip:P}),b2({axis:t,guideConfigs:$,guideTooltipFormatter:d,anyGuideAboveChanged:l,utilsStrings:f}),j2({axis:t,data:e,chartType:H})}async function W2(s){let{chart:t,errorStrings:e}=s,{root:i}=t,r=pe(t.uid,"config");if(r){let{x:a}=r.series[0],{rotated:n,axes:o}=r,l=We(r.series);await Dl({chartType:l,axesConfig:o,errorStrings:e});let u={root:i,x:a,chartType:l},h=n===!0?o?.[1]:o?.[0],c=n===!0?o?.[0]:o?.[1],A=h?.valueFormat,d=c?.valueFormat;if(A!==void 0&&d!==void 0&&(vh({...u,axes:t.xAxes,valueFormat:A,axisRenderer:ps.new(i,{}),isXAxis:n!==!0,x:a}),vh({...u,axes:t.yAxes,valueFormat:d,axisRenderer:Da.new(i,{}),isXAxis:n===!0,x:a}),o?.[2]!==void 0)){let f=n===!0?ps:Da;vh({...u,axes:n===!0?t.xAxes:t.yAxes,valueFormat:o[2]?.valueFormat,axisRenderer:f.new(i,{opposite:!0}),isSecondValueAxis:!0,isXAxis:n===!0,x:a})}}}async function z2(s){let{chart:t,chartType:e,axesConfig:i,x:r,errorStrings:a}=s,{root:n}=t,o=i?.[0],l=i?.[1];if(await Dl({chartType:e,axesConfig:i,errorStrings:a}),o?.valueFormat!==void 0&&l?.valueFormat!==void 0){let u={root:n,x:r,chartType:e};vh({...u,axes:t.xAxes,valueFormat:o.valueFormat,axisRenderer:ta.new(n,{}),isXAxis:!0,x:r}),vh({...u,axes:t.yAxes,valueFormat:l.valueFormat,axisRenderer:zu.new(n,{}),isXAxis:!1,x:r})}}async function L1(s){let{chart:t,chartConfig:e,errorStrings:i}=s,{axes:r}=e,{x:a}=e.series[0],n=We(e.series);switch(t.xAxes.clear(),t.yAxes.clear(),n){case R.GaugeSeries:t instanceof Ta&&await U2({chart:t,axesConfig:r,errorStrings:i});break;case R.HistogramSeries:await N2({chart:t,axesConfig:r,x:a,errorStrings:i});break;case R.HeatSeries:case R.BarSeries:case R.ComboLineAndBarSeries:case R.ScatterSeries:case R.LineSeries:case R.BoxPlotSeries:await W2({chart:t,errorStrings:i});break;case R.RadarSeries:t instanceof Ta&&await z2({chart:t,axesConfig:r,chartType:n,x:a,errorStrings:i});break}}async function G2(s){let{chart:t,chartConfig:e,axisLabelsBehaviorChanged:i,anyGuideAboveChanged:r,data:a,timeIntervalInfo:n,xAxisLabelFormatter:o,yAxisLabelFormatter:l,secondaryYAxisLabelFormatter:u,guideTooltipFormatter:h,utilsStrings:c,errorStrings:A}=s,{horizontalAxisLabelsBehavior:d,verticalAxisLabelsBehavior:f,axes:p,rotated:m}=e,g=We(e.series),y=pe(t.uid,"isNonAggregatedChart"),x=t.xAxes.getIndex(0),C=t.yAxes.getIndex(0),S=t.xAxes.getIndex(1)??t.yAxes.getIndex(1);await Dl({chartType:g,axesConfig:p,errorStrings:A});let P=p?.[m===!0?1:0],F=p?.[m===!0?0:1];[{axis:x,axisConfig:P,externalAxisLabelFormatter:m!==!0?o:l},{axis:C,axisConfig:F,externalAxisLabelFormatter:m!==!0?l:o},{axis:S,axisConfig:p?.[2],axisLabelFormatter:u,isSecondValueAxis:!0}].forEach(async O=>{let{axis:$,axisConfig:L,externalAxisLabelFormatter:E,isSecondValueAxis:D}=O;$!==void 0&&!$.isDisposed()&&L!==void 0&&await RC({axis:$,data:a,timeIntervalInfo:n,axisConfig:L,horizontalAxisLabelsBehavior:d,verticalAxisLabelsBehavior:f,axisLabelsBehaviorChanged:i,anyGuideAboveChanged:r,isNonAggregatedChart:y,isSecondValueAxis:D,utilsStrings:c,chartConfig:e,externalAxisLabelFormatter:E,guideTooltipFormatter:h,errorStrings:A})}),Db(t,a)}async function I1(s){let{chart:t,chartConfig:e}=s,i=We(e.series);i===R.GaugeSeries&&t instanceof Ta?await R2(s):i===R.HistogramSeries?await V2(s):await G2(s)}function Y2(s,t){let e=wi(J.backgroundColor);t.set("background",fr.new(s,{fill:e.color,fillOpacity:e.opacity}))}function $1(s,t){let e=wi(t??J.backgroundColor);s.get("background")?.setAll({fill:e.color,fillOpacity:e.opacity})}var Wi={SelectXY:"selectXY",SelectX:"selectX",SelectY:"selectY",ZoomXY:"zoomXY",ZoomX:"zoomX",ZoomY:"zoomY",None:"none"};function k1(s){let{actionMode:t,cursorRange:e,isRotated:i}=s,r=Wi.None;switch(e){case dg.MultiAxes:t===Ht.MultiSelectionWithCtrlKey||t===Ht.MultiSelection?r=Wi.SelectXY:t===Ht.Zoom&&(r=Wi.ZoomXY);break;case dg.XAxis:t===Ht.MultiSelectionWithCtrlKey||t===Ht.MultiSelection?r=i===!0?Wi.SelectY:Wi.SelectX:t===Ht.Zoom&&(r=i===!0?Wi.ZoomY:Wi.ZoomX);break;case dg.YAxis:t===Ht.MultiSelectionWithCtrlKey||t===Ht.MultiSelection?r=i===!0?Wi.SelectX:Wi.SelectY:t===Ht.Zoom&&(r=i===!0?Wi.ZoomX:Wi.ZoomY);break}return r}function E1(s,t){let e=We(t.series);return s instanceof Ai&&e!==R.GaugeSeries}function K2(s,t){let e=J.cursorCrosshair.style,i={type:qt.SLS,style:t?.style??e.style,color:t?.color??e.color,width:t?.width??e.width},r=s.get("cursor")?.lineX,a=s.get("cursor")?.lineY;wo({element:r,lineSymbol:i}),wo({element:a,lineSymbol:i})}function M1(s){let{root:t,chart:e,config:i}=s,r;if(E1(e,i)){let a=e instanceof Ta?jl:En;r=e.set("cursor",a.new(t,{})),aH(e)}return r}function R1(s){let{root:t,chart:e,cursorCrosshair:i,config:r}=s;if(E1(e,r)){let a=e.get("cursor")??M1({root:t,chart:e,config:r});a&&(K2(e,i?.style),a.lineX.set("visible",i?.verticalLineVisible??J.cursorCrosshair.verticalLineVisible),a.lineY.set("visible",i?.horizontalLineVisible??J.cursorCrosshair.horizontalLineVisible))}}function Z2(s){let{chart:t,enabled:e}=s,i=e?"pointer":"default";t instanceof Bs&&t.series.each(r=>{switch(!0){case r instanceof Yi:r.columns.template.set("cursorOverStyle",i);break;case r instanceof ei:let a=er(r.uid,"bulletTemplate");a!==void 0&&!uu(r)&&a.set("cursorOverStyle",i);break;case r instanceof Gr:r.slices.template.setAll({cursorOverStyle:i});break}})}function q2(s){let{chart:t,actionMode:e,cursorRange:i}=s,r=pe(t.uid,"isRotated"),a=pe(t.uid,"config"),n=We(a?.series),o=n===R.ScatterSeries,l=(n===R.LineSeries||n===R.RadarSeries)&&Sa(a?.axes?.[0]?.valueFormat),u=(n===R.LineSeries||n===R.RadarSeries)&&vd(a?.axes?.[0]?.valueFormat),h=(n===R.LineSeries||n===R.RadarSeries)&&eo(a?.axes?.[0]?.valueFormat),c,A=!1,d=e??pe(t.uid,"actionMode")??J.actionMode;if(pe(t.uid,"filterBySelection")===!0)c=Wi.None,A=!1;else if(i!==void 0)c=k1({actionMode:d,cursorRange:i,isRotated:r});else switch(d){case Ht.Zoom:o||l||h?c=Wi.ZoomXY:c=r===!0?Wi.ZoomY:Wi.ZoomX,A=!1;break;case Ht.MultiSelection:case Ht.MultiSelectionWithCtrlKey:u?c=r===!0?Wi.SelectY:Wi.SelectX:c=Wi.SelectXY,A=!0;break;case Ht.MonoSelection:c=Wi.None,A=!0;break;case Ht.None:c=Wi.None,A=!1;break}t instanceof Ai&&t.get("cursor")!==void 0&&c!==void 0&&t.get("cursor")?.set("behavior",c),Z2({chart:t,enabled:A})}function J2(s,t){t!==void 0&&(t.width!==void 0&&s.set("width",lO(t.width)),t.height!==void 0&&s.set("height",lO(t.height)),t.paddingTop!==void 0&&s.set("paddingTop",t.paddingTop),t.paddingBottom!==void 0&&s.set("paddingBottom",t.paddingBottom))}function hC(s){let{root:t,defaults:e,parent:i,id:r,index:a}=s,n=Re.new(t,{});return J2(n,e),i!==void 0&&i.children.insertIndex(a??i.children.length,n),r!==void 0&&n.set("id",r),n}function cC(s,t){t?s.hide():s.show()}function ej(s,t){let e=hC({root:s,defaults:J.headerContainer,parent:t,id:_o(Rb,t.uid),index:0}),i=hC({root:s,defaults:J.headerContainer,parent:t,id:_o(PC,t.uid),index:1}),r=qp({root:s,parent:e,defaults:J.titleLabel,id:_o(IL,e.uid)}),a=qp({root:s,parent:i,defaults:J.subtitleLabel,id:_o($L,i.uid)});Jp({chart:t,label:r,labelType:pi.ChartTitle}),Jp({chart:t,label:a,labelType:pi.ChartSubTitle})}function U1(s,t){let{title:e,subtitle:i}=t??{},r=vr({childId:Rb,parent:s});if(r!==void 0){let n=vr({childId:IL,parent:r});n!==void 0&&(Wn({label:n,labelConfig:e,defaults:J.titleLabel}),ru({chart:s,label:n,labelType:pi.ChartTitle}),cC(r,n.get("disabled")===!0||(e?.content.text??"")===""))}let a=vr({childId:PC,parent:s});if(a!==void 0){let n=vr({childId:$L,parent:a});n!==void 0&&(Wn({label:n,labelConfig:i,defaults:J.subtitleLabel}),ru({chart:s,label:n,labelType:pi.ChartSubTitle}),cC(a,n.get("disabled")===!0||(i?.content.text??"")===""))}}function tj(s){let{root:t}=s,e=hC({root:t,defaults:J.footerContainer,parent:s,id:_o(Ub,s.uid)}),i=qp({root:t,parent:e,id:_o(kL,e.uid)});Jp({chart:s,label:i,labelType:pi.ChartFooter})}function V1(s,t){let e=vr({childId:Ub,parent:s});if(e!==void 0){let i=vr({childId:kL,parent:e});i!==void 0&&(Wn({label:i,labelConfig:t,defaults:J.footer}),ru({chart:s,label:i,labelType:pi.ChartFooter}),cC(e,i.get("disabled")||(t?.content.text??"")===""))}}function N1(s){let t=s?.curtainColor??J.backgroundColor,e=`rgba(${t[0]}, ${t[1]}, ${t[2]}, 1)`,i=Fg({r:t[0],g:t[1],b:t[2]})?J.darkTextColor:J.lightTextColor,r=`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]/255})`;return{backgroundCSSColor:e,textCSSColor:r}}function ij(s){let{root:t,parent:e,curtainColor:i}=s,r=wi(i??J.backgroundColor),a=Re.new(t,{id:_o(EL,e.uid),width:be,height:be,interactive:!0,layer:1e3,background:fr.new(t,{fill:r.color,fillOpacity:r.opacity})});return e.children.push(a),a}function rj(s){let{root:t,parent:e,spinnerColor:i}=s,r=wi(i??J.loaderSpinnerColor),a=pt.new(t,{id:_o(ML,e.uid),centerX:Qe,centerY:Qe,x:Qe,y:Qe,svgPath:"M2.2 16A13.81 13.81 0 0 1 14 2.362v1.01a12.8 12.8 0 1 0 4 0v-1.01A13.792 13.792 0 1 1 2.2 16z",stroke:r.color,strokeWidth:2});return e.children.push(a),a}function sj(s){return s.animate({from:0,to:360,key:"rotation",loops:Number.MAX_SAFE_INTEGER,duration:J.loaderRotationSpeed})}function aj(s,t){let e=ij({root:s,parent:s.container,curtainColor:t?.loaderColors?.curtainColor}),i=rj({root:s,parent:e,spinnerColor:t?.loaderColors?.spinnerColor}),r=sj(i);return{loaderSpinner:i,loaderContainer:e,spinnerAnimation:r}}function nj(s){let{root:t,chart:e,options:i}=s,{loaderContainer:r,spinnerAnimation:a}=aj(t,i);function n(){a.stop(),r!==void 0&&(Lr(r,!1),e instanceof Ai&&e.zoomOutButton.set("disabled",!1))}n();function o(l){l&&(a.play(),r!==void 0&&(Lr(r),e instanceof Ai&&e.zoomOutButton.set("disabled",!0)))}return{hideLoader:n,showLoader:o}}function oj(s){let{chart:t,updateOptions:e,chartModal:i}=s,{root:r}=t,a=vr({childId:EL,parent:r.container});if(a){let n=wi(e?.loaderColors?.curtainColor??J.backgroundColor);a.get("background")?.setAll({fill:n.color,fillOpacity:n.opacity});let o=wi(e?.loaderColors?.spinnerColor??J.loaderSpinnerColor);vr({childId:ML,parent:a})?.set("stroke",o.color)}if(i){let n=e?.loaderColors,{backgroundCSSColor:o,textCSSColor:l}=N1(n);i.getPrivate("content").style.backgroundColor=o,i.getPrivate("wrapper").style.backgroundColor=o,i.getPrivate("content").style.color=l}}function lj(s,t){s.events.once(Ti.FrameEnded,()=>{Vh(s.dom),t()})}function Q1(s){if(!(s instanceof Ta)&&s instanceof Ai){let{root:t}=s,e=Yo.new(t,{orientation:"horizontal",visible:!1,marginTop:0}),i=Yo.new(t,{orientation:"vertical",visible:!1});s.setAll({scrollbarX:e,scrollbarY:i})}}function uj(s,t){if(t!==void 0){let e=wi(t),i=t[3]/255,r=i/2;[{element:s.get("background"),specificOpacity:r},{element:s.startGrip.get("background")},{element:s.endGrip.get("background")},{element:s.thumb}].forEach(a=>{let{element:n,specificOpacity:o}=a;n!==void 0&&n.setAll({fill:e.color,fillOpacity:o??i})}),[{element:s.get("background"),stateName:"default",specificOpacity:r},{element:s.startGrip.get("background"),stateName:"default"},{element:s.startGrip.get("background"),stateName:"hover"},{element:s.startGrip.get("background"),stateName:"down"},{element:s.endGrip.get("background"),stateName:"default"},{element:s.endGrip.get("background"),stateName:"hover"},{element:s.endGrip.get("background"),stateName:"down"},{element:s.thumb,stateName:"default"},{element:s.thumb,stateName:"hover"},{element:s.thumb,stateName:"down"}].forEach(a=>{let{element:n,stateName:o,specificOpacity:l}=a;(n?.states.lookup(o)??n?.states.create(o,{}))?.setAll({fill:e.color,fillOpacity:l??i})})}}function hj(s,t){typeof t=="number"&&Number.isFinite(t)&&(s.get("orientation")==="horizontal"?s.setAll({height:t,minHeight:t}):s.setAll({width:t,minWidth:t}))}function cj(s,t){if(typeof t=="number"&&Number.isFinite(t)){let e=t/30;s.startGrip.set("scale",e),s.endGrip.set("scale",e)}}function OO(s,t){typeof t=="number"&&Number.isFinite(t)&&(s.get("orientation")==="horizontal"?s.set("marginBottom",t):s.set("marginLeft",t),s.markDirtyBounds())}function H1(s){let{chart:t,scrollbarXConfig:e,scrollbarYConfig:i}=s;if(!(t instanceof Ta)&&t instanceof Ai){let r=pe(t.uid,"isRotated");(t.get("scrollbarX")===void 0||t.get("scrollbarY")===void 0)&&Q1(t);let a=t.get("scrollbarX"),n=t.get("scrollbarY");[a,n].forEach(o=>{if(o!==void 0){let l=o.get("orientation")==="horizontal"&&r!==!0||o.get("orientation")==="vertical"&&r===!0?e:i,u=l?.visible!==!0;if(Lr(o,!u),l!==void 0&&!u){let{width:h,color:c,gripSize:A,margin:d}=l;OO(o,d??h??J.scrollbarPadding),uj(o,c),cj(o,A),hj(o,h)}else OO(o,0)}})}}function dj(s){f1(s)}function LO(s){return s.get("legendDataItem")?.get("marker").children.getIndex(0)}function Aj(s,t){s.columns.each(e=>{(e.dataItem?.dataContext)[t]===0&&e.set("strokeOpacity",0)})}function fj(s){let{root:t,chartConfig:e,seriesConfig:i,xAxis:r,yAxis:a,options:n}=s,{id:o,name:l}=i,{xField:u,yField:h,xAxisField:c,yAxisField:A}=DA(e,i),d=QP(e),f=Yi.new(t,{id:o,name:l,stacked:d,xAxis:r,yAxis:a,[c]:u,[A]:h,maskBullets:!1});Bo(f.columns.template,n?.selectionTheme);let p=Mt.new({});return jr(f.uid,{bulletTemplate:p}),So(f.columns.template,f),f.bullets.push(m=>{let g=pt.new(m,{},p);return Aa.new(m,{sprite:g})}),f.columns.template.set("width",Ot(100)),kC(f),JL(f),jL(f),LA(f,e),f.appear(),f}function pj(s){let{series:t,seriesConfig:e,seriesIndex:i,numberOfSeries:r,chartSubType:a,colorMatch:n,rendererType:o}=s,l=t.root,u=om(t),h=new Set,c,A,d=e.fillSymbol,f={root:l,seriesConfig:e,seriesIndex:i,seriesSymbol:d,isChartFillSymbol:!0},p={},m=rx(i);if(t.columns.length===0?p=$a({root:l,seriesIndex:i,colorMatch:n,seriesSymbol:d??m,element:pt.new(l,{}),isChartFillSymbol:!0}):t.columns.each(g=>{let y=g.dataItem?.dataContext;if(Number.isFinite(y?.[u])){A=Pa({dataItem:y,seriesConfig:e,chartSubType:a,colorMatch:n,rendererType:o});let x=(y[J.xAxisField]===J.nullValue&&e.nullCategory?.symbol!==void 0?e.nullCategory.symbol:d)??m;p=$a({...f,seriesSymbol:x,element:g,colorMatch:n,rendererSymbol:A}),Kp(g,p.stylingInfo),h.add(JSON.stringify(p.symbolWithColorInfo))}}),r>1){let g=LO(t);if(g!==void 0)$a({...f,seriesSymbol:d??m,element:g,colorMatch:n,rendererSymbol:A}),Kp(g,p.stylingInfo);else if(t.chart instanceof Ai){let y=t.chart.children.values.find(x=>x instanceof so);y!==void 0&&y.events.once(Ti.BoundsChanged,()=>{Kp(LO(t),p.stylingInfo)})}$a({...f,seriesSymbol:p.symbolWithColorInfo??d??m,element:t,colorMatch:n,rendererSymbol:A,keepCurrentVisibility:!0}),$a({...f,seriesSymbol:p.symbolWithColorInfo??d??m,element:t.columns.template,colorMatch:n,rendererSymbol:A})}return h.size<=1&&(c=p.symbolWithColorInfo??d),Aj(t,u),c}function mj(s){let{series:t,seriesSymbolMapForEvent:e,seriesIndexMapper:i,seriesIndex:r,colorMatch:a,rendererType:n}=s,o=s.seriesConfig,l=t.chart;if(l!==void 0){let u=pe(l.uid,"config"),h=u?.series.length??0,c=Pt(u?.series),A=pj({series:t,seriesConfig:o,seriesIndex:r,numberOfSeries:h,chartSubType:c,colorMatch:a,rendererType:n});e.set(i?.get(o.id)??r,A),e.size===h&&Ua({data:e,htmlContainer:t.root.dom,chartId:l.get("id"),colorMatchApplied:IA(l)})}}function gj(s){let{columnSeries:t,data:e,seriesIndex:i,chartConfig:r,dataWasUpdated:a,seriesWereReinitialized:n,rotationChanged:o,timeZoneChanged:l,sortChanged:u,loaderHandle:h}=s,c=r.series[i];if(e&&c?.type===R.BarSeries&&(o===!0||a===!0||u===!0||l||n===!0)){let{xField:A,yField:d,xAxisField:f,yAxisField:p}=DA(r,c);t.setAll({[f]:A,[p]:d}),t.events.once(Ti.DataValidated,()=>{h.hideLoader()}),t.data.setAll(e.dataItems)}}function yj(s){let{series:t,data:e,chartConfig:i,options:r,seriesIndex:a,dataWasUpdated:n,rotationChanged:o,timeZoneChanged:l,queryObject:u,utilsStrings:h,seriesWereReinitialized:c,autoInverseDataLabelTextColor:A,subtypeInfo:d,fieldList:f,sortChanged:p,loaderHandle:m}=s,g=i.series[a],y=i.rotated,x=i.axes,C;x?.[1]&&(C=x[1]),t.set("id",g.id),IC({series:t,chartConfig:i,isRotated:y}),dj({seriesType:R.BarSeries,series:t,seriesConfig:g,isRotated:y,dataLabelsConfig:g.dataLabels,autoInverseDataLabelTextColor:A,yAxisValueFormat:C?.valueFormat,externalDataLabelFormatter:r?.dataLabelFormatter}),gj({columnSeries:t,data:e,seriesIndex:a,chartConfig:i,dataWasUpdated:n,timeZoneChanged:l,seriesWereReinitialized:c,rotationChanged:o,sortChanged:p,loaderHandle:m}),DC({series:t,seriesConfig:g,fieldList:f,queryObject:u,seriesIndex:a,tooltipFormatter:r?.tooltipFormatter,utilsStrings:h}),hu(s)&&cu({styleCallback:mj,callbackProps:s,series:t,seriesConfig:g}),$C({chartConfig:i,series:t,seriesIndex:a,subtypeInfo:d,fieldList:f})}function bj(s){let{chartConfig:t,seriesConfig:e}=s,i=Sn(t),r=t.showOutliers,a=t.standardizeValues,n=ts(t),{y:o}=e,l=yg(t),u=Pt(l.series),h=n?void 0:e?.query?.where,c={y:u===Ie.BoxPlotMultiFieldsAndCategory&&typeof o=="string"?o:void 0,chartSubType:u,splitBy:h,showOutliers:r,standardizeValues:md(u)?a:!1},A=jb({chartConfig:t,seriesConfig:e,key:Jt.ThirdQuartile});return{properties:{...A.properties,low:Zi({...c,key:Jt.Min}),open:Zi({...c,key:Jt.FirstQuartile}),high:Zi({...c,key:Jt.Max})},dataFields:{...A.dataFields,low:i?"lowValueXField":"lowValueYField",open:i?"openValueXField":"openValueYField",high:i?"highValueXField":"highValueYField"}}}function vj(s){let{candleStickSeries:t,data:e,rotationChanged:i,sortChanged:r,dataWasUpdated:a,seriesWereReinitialized:n,loaderHandle:o}=s;(i===!0||a===!0||r===!0||n===!0)&&(t.events.once(Ti.DataValidated,()=>{o.hideLoader()}),t.data.setAll(e?.dataItems??[]))}function xj(s){let{candleStickSeries:t,seriesConfig:e,seriesIndex:i,chartSubType:r,colorMatch:a,showMean:n,rendererType:o}=s,{root:l}=t,u=e.fillSymbol??rg(i),h={},c={root:l,seriesConfig:e,seriesIndex:i,colorMatch:a,isChartFillSymbol:!0};t.columns.length===0?h=$a({...c,seriesSymbol:u,element:pt.new(l,{})}):t.columns.each(A=>{h=$a({...c,seriesSymbol:u,element:A,rendererSymbol:n?void 0:Pa({dataItem:A.dataItem?.dataContext,seriesConfig:e,chartSubType:r,colorMatch:a,rendererType:o})})}),$a({...c,seriesSymbol:h?.symbolWithColorInfo??u,element:t.columns.template,colorMatch:a})}function _j(s){let{candleStickSeries:t,seriesConfig:e}=s;OA(t,e.name),vj(s),hu(s)&&cu({styleCallback:xj,callbackProps:s,series:t,seriesConfig:e})}function wj(s){let{root:t,xAxis:e,yAxis:i,chartConfig:r,seriesIndex:a,options:n}=s,o=r.series[a],l;if(o.type===R.BoxPlotSeries){let u=bj({chartConfig:r,seriesConfig:o});l=za.new(t,{id:o.id,xAxis:e,yAxis:i,[u.dataFields.low]:u.properties.low,[u.dataFields.open]:u.properties.open,[u.dataFields.high]:u.properties.high,[u.dataFields.value]:u.properties.value,[u.dataFields.category]:u.properties.category}),l.columns.template.setAll({themeTags:[],width:Ot(80)}),Bo(l.columns.template,n?.selectionTheme),So(l.columns.template,l)}return l}function Cj(s){let{chartConfig:t,seriesConfig:e}=s,i=Pt(t.series),{showOutliers:r,standardizeValues:a}=t,{y:n}=e,o=e?.query?.where,l=yg(t),u=jb({chartConfig:l,seriesConfig:e,key:Jt.Average}),h=Zi({y:i===Ie.BoxPlotMultiFieldsAndCategory&&typeof n=="string"?n:void 0,chartSubType:i,splitBy:o,showOutliers:r,standardizeValues:md(i)?a:!1,key:Jt.Average});return u.properties.value=h,u}function Bj(s){let{meanLineSeries:t,data:e,rotationChanged:i,sortChanged:r,dataWasUpdated:a,seriesWereReinitialized:n}=s;(i===!0||a===!0||r===!0||n===!0)&&t.data.setAll(e?.meanLines??[])}function Sj(s){let{meanLineSeries:t,seriesConfig:e,data:i,dataWasUpdated:r,sortChanged:a,rotationChanged:n,seriesWereReinitialized:o}=s;OA(t,e?.name),Bj({meanLineSeries:t,data:i,dataWasUpdated:r,sortChanged:a,rotationChanged:n,seriesWereReinitialized:o})}function Pj(s){let{root:t,xAxis:e,yAxis:i,chartConfig:r,seriesIndex:a,options:n}=s,o=r.series[a],l;if(o.type===R.LineSeries){let u=Cj({chartConfig:r,seriesConfig:o});l=ei.new(t,{id:o.id,xAxis:e,yAxis:i,[u.dataFields.value]:u.properties.value,[u.dataFields.category]:u.properties.category}),l.appear();let h=Mt.new({});jr(l.uid,{bulletTemplate:h}),l.bullets.push(c=>{let A=pt.new(c,{tooltipText:" ",focusable:!0},h),d=Aa.new(c,{sprite:A});return Bo(A,n?.selectionTheme),l&&So(A,l),d}),jr(l.uid,{isBoxPlotMeanLineSeries:!0})}return l}function Fj(s,t){return s.get("id")===`${t}_${zi.Outliers}`}function Tj(s){let{chartConfig:t,seriesConfig:e}=s;return jb({chartConfig:t,seriesConfig:e,key:Jt.Outlier})}function Dj(s){let{outlierSeries:t,data:e,rotationChanged:i,sortChanged:r,dataWasUpdated:a,seriesWereReinitialized:n}=s;(i===!0||a===!0||r===!0||n===!0)&&t.data.setAll(e?.outliers??[])}function Oj(s,t){return(s??J.boxPlot.boxPlotOutliersVisibility)&&t!==!1}function Lj(s){let{outlierSeries:t,chartSubType:e,seriesConfig:i,colorMatch:r,showOutliers:a}=s;if(er(t.uid,"bulletTemplate")&&i.type===R.BoxPlotSeries){let o=i.fillSymbol,l={type:qt.SMS,style:Ba.Circle,color:o?.color,size:J.boxPlot.boxPlotOutliersSize};t.dataItems.forEach(u=>{let h=u.bullets?.[0]?.get("sprite");if(h!==void 0){let c=Pa({dataItem:u.dataContext,seriesConfig:i,chartSubType:e,colorMatch:r});$a({root:t.root,seriesSymbol:l,element:h,colorMatch:r,rendererSymbol:c})}})}let n=Oj(a,i.visible);Lr(t,n)}function Ij(s){let{outlierSeries:t,data:e,seriesConfig:i,sortChanged:r,dataWasUpdated:a,rotationChanged:n,seriesWereReinitialized:o}=s;t&&i.type===R.BoxPlotSeries&&(Dj({outlierSeries:t,data:e,rotationChanged:n,sortChanged:r,dataWasUpdated:a,seriesWereReinitialized:o}),hu(s)&&cu({styleCallback:Lj,callbackProps:s,series:t,seriesConfig:i}))}function $j(s){let{root:t,xAxis:e,yAxis:i,chartConfig:r,seriesIndex:a,options:n}=s,o=r.series[a],l;if(o.type===R.BoxPlotSeries){let u=Tj({chartConfig:r,seriesConfig:o});l=ei.new(t,{id:`${o.id}_${zi.Outliers}`,xAxis:e,yAxis:i,[u.dataFields.value]:u.properties.value,[u.dataFields.category]:u.properties.category}),l.strokes.template.set("forceHidden",!0);let h=Mt.new({});jr(l.uid,{bulletTemplate:h}),l.bullets.push(c=>{let A=pt.new(c,{tooltipText:" ",focusable:!0},h),d=Aa.new(c,{sprite:A});return Bo(A,n?.selectionTheme),l&&So(A,l),Vj({outlierSeries:l,bullet:d,seriesConfigId:o.id}),d}),jr(l.uid,{isBoxPlotOutliersSeries:!0}),l.appear()}return l}function j1(s){let{data:t,colorMatch:e,chartSubType:i,rendererType:r}=s;return t!==void 0&&e&&r!==void 0&&(i===Ie.BoxPlotMultiFields&&(r===eg.UniqueValue||r===eg.PieChart)||i===Ie.BoxPlotMonoFieldAndCategory&&r===eg.UniqueValue)&&t.some(a=>Object.keys(a).some(n=>n.includes(wt.rendererSymbolField)))}function kj(s){let{chartConfig:t,seriesConfig:e,type:i}=s,r="";switch(i){case zi.Top:r=Jt.Max;break;case zi.Median:r=Jt.Median;break;case zi.Bottom:r=Jt.Min;break}return jb({chartConfig:t,seriesConfig:e,key:r})}function Ej(s){let{stepLineSeries:t,data:e,rotationChanged:i,sortChanged:r,dataWasUpdated:a,seriesWereReinitialized:n}=s;(i===!0||a===!0||r===!0||n===!0)&&t.data.setAll(e?.dataItems??[])}function Mj(s){let{stepLineSeries:t,data:e,seriesConfig:i,seriesIndex:r,colorMatch:a,chartSubType:n,rendererType:o}=s;if(i.type===R.BoxPlotSeries){let{root:l}=t,u=j1({data:e.dataItems,colorMatch:a,chartSubType:n,rendererType:o}),h=(i.fillSymbol??rg(r)).color,c={type:qt.SLS,width:J.boxPlot.boxPlotLineWidth,color:u?J.boxPlot.boxPlotWhiskersColor:h};$a({root:l,seriesIndex:r,seriesSymbol:c,element:t,colorMatch:a})}}function Rj(s){let{stepLineSeries:t,data:e,seriesConfig:i,rotationChanged:r,sortChanged:a,dataWasUpdated:n,seriesWereReinitialized:o}=s,l=i.visible!==!1;t!==void 0&&i.type===R.BoxPlotSeries&&(Lr(t,l),hu(s)&&cu({styleCallback:Mj,callbackProps:s,series:t,seriesConfig:i}),Ej({stepLineSeries:t,data:e,rotationChanged:r,sortChanged:a,dataWasUpdated:n,seriesWereReinitialized:o}))}function tC(s){let{root:t,xAxis:e,yAxis:i,chartConfig:r,seriesIndex:a,type:n,options:o}=s,l=r.series[a],u;if(l.type===R.BoxPlotSeries){let h=kj({chartConfig:r,seriesConfig:l,type:n});u=lo.new(t,{id:`${l.id}_${n}`,xAxis:e,yAxis:i,noRisers:!0,[h.dataFields.value]:h.properties.value,[h.dataFields.category]:h.properties.category}),Bo(u.strokes.template,o?.selectionTheme),So(u.strokes.template,u)}return u}function jb(s){let{chartConfig:t,seriesConfig:e,key:i}=s,r=Sn(t),a=t.showOutliers,n=t.standardizeValues,o=ts(t),l=Pt(t.series),{x:u,y:h}=e,c=o?void 0:e?.query?.where,A={y:l===Ie.BoxPlotMultiFieldsAndCategory&&typeof h=="string"?h:void 0,chartSubType:l,splitBy:c,showOutliers:a,standardizeValues:md(l)?n:!1},d=l===Ie.BoxPlotMonoField||l===Ie.BoxPlotMultiFields||l===Ie.BoxPlotMonoFieldAndSplitBy||l===Ie.BoxPlotMultiFieldsAndSplitBy?tg:u;return{dataFields:{value:r?"valueXField":"valueYField",category:r?"categoryYField":"categoryXField"},properties:{value:Zi({key:i,...A}),category:d}}}function Uj(s,t){return s.series.values.find(e=>Fj(e,t))}function X1(s,t){let e=s.series.values.find(a=>a.get("id")===`${t}_${zi.Top}`),i=s.series.values.find(a=>a.get("id")===`${t}_${zi.Median}`),r=s.series.values.find(a=>a.get("id")===`${t}_${zi.Bottom}`);return{topStepLineSeries:e,medianStepLineSeries:i,bottomStepLineSeries:r}}function W1(s){return s!==Ie.BoxPlotMonoField&&s!==Ie.BoxPlotMultiFields&&s!==Ie.BoxPlotMonoFieldAndCategory}function z1(s){let{chart:t,candleSeriesIndex:e,numberOfCandleStickSeries:i}=s,r,a,n=pe(t.uid,"config");if(n){let o=Sn(n),l=ts(n),u=o?t.yAxes.getIndex(0)?.get("renderer"):t.xAxes.getIndex(0)?.get("renderer"),h=u?.get("cellStartLocation"),c=u?.get("cellEndLocation");if(h&&c){let A=h/(l?1:n.series.length);r=h+e/i*(c-h)+A,a=h+(e+1)/i*(c-h)-A}}return{startLocation:r,endLocation:a}}function Vj(s){let{outlierSeries:t,bullet:e,seriesConfigId:i}=s;if(t){let{chart:r}=t;if(r){let a=pe(r.uid,"config");if(a){let n=Pt(a.series);if(W1(n)){let o=r.series.values.filter(u=>u instanceof za),l=o?.findIndex(u=>u.get("id")===i);if(l&&l!==-1&&o[l]){let{startLocation:u,endLocation:h}=z1({chart:r,candleSeriesIndex:l,numberOfCandleStickSeries:o.length});u!==void 0&&h!==void 0&&e.set("locationX",(u+h)/2)}}}}}}function Nj(s){let t=pe(s.uid,"config");if(t){let e=Pt(t.series),i=t.series.length,r=Sn(t)?s.yAxes.getIndex(0)?.get("renderer"):s.xAxes.getIndex(0)?.get("renderer"),a=r?.get("cellStartLocation"),n=r?.get("cellEndLocation");if(a&&n){let o=s.series.values.filter(l=>l instanceof za);o.forEach((l,u)=>{let{topStepLineSeries:h,medianStepLineSeries:c,bottomStepLineSeries:A}=X1(s,l.get("id")??"");if(W1(e)){let{startLocation:d,endLocation:f}=z1({chart:s,candleSeriesIndex:u,numberOfCandleStickSeries:o.length});[h,c,A].forEach(p=>{p!==void 0&&(p.set("stepWidth",Ot(60/i)),d&&f&&p.set("locationX",(d+f)/2))})}else[h,c,A].forEach(d=>{d!==void 0&&d.setAll({stepWidth:Ot(60/i)})})})}}}function Qj(s){let{chartConfig:t,seriesIndex:e}=s,i=t.series[e],r=We([i]),a=[];if(r===R.BoxPlotSeries)[wj(s),tC({...s,type:zi.Top}),tC({...s,type:zi.Median}),tC({...s,type:zi.Bottom}),$j(s)].forEach(n=>{n&&a.push(n)});else if(r===R.LineSeries){let n=Pj(s);n&&a.push(n)}return a}function Hj(s){let{chart:t,chartConfig:e,series:i,seriesConfig:r}=s;if(t&&e)if(Nj(t),i instanceof za&&r.type===R.BoxPlotSeries){i.set("id",r.id);let a=i.get("id")??"";_j({...s,series:i,seriesConfig:r,candleStickSeries:i});let{topStepLineSeries:n,medianStepLineSeries:o,bottomStepLineSeries:l}=X1(t,a),u=[zi.Top,zi.Median,zi.Bottom];[n,o,l].forEach((c,A)=>{c&&(c.set("id",`${r.id}_${u[A]}`),Rj({...s,stepLineSeries:c}))});let h=Uj(t,a);h&&(h.set("id",`${r.id}_${zi.Outliers}`),Ij({...s,outlierSeries:h}))}else i instanceof ei&&r.type===R.LineSeries&&Sj({...s,meanLineSeries:i})}function G1(s){let{chart:t,chartData:e,chartConfig:i}=s;if(t&&e?.length>1&&i?.showMean===!0){let r=i.series[0].x??J.originalCategoryValue,a=pe(t.uid,"boxPlotMeanLinesData");if(a!==void 0&&a.length>1){let n=[];for(let o of e){let l=a.find(u=>r in u&&u[r]===o[r]);l!==void 0&&n.push(l)}Mi(t.uid,{boxPlotMeanLinesData:n})}}}function jj(s){let{dataLabel:t,series:e,externalDataLabelFormatter:i}=s;t.adapters.remove("text"),t.adapters.remove("html");let r=i!==void 0?"html":"text";t.adapters.add(r,(a,n)=>{let o=a??"",l=n.dataItem,u=er(e.uid,"heatChartDataLabelFormatter"),h=pe(e.chart?.uid??NaN,"config");if(u!==void 0&&l){let c=l.get("value"),A=l.get("categoryX"),d=l.get("categoryY");c===null?o=h?.series[0].emptyCells?.text??J.heatChart.emptyCells?.text??"":c!==void 0&&(o=u(c,A,d))}return r==="html"?Ur(o):o})}function Xj(s){let{numberFormatter:t,dataLabelsConfigContent:e}=s;return i=>Ws({textSymbol:{...e,text:t.format(i)},format:"amChartsV5"})}function Wj(s){let{series:t,dataLabelsConfig:e,externalDataLabelFormatter:i}=s;t.bullets.push(()=>{let r=Aa.new(t.root,{sprite:$i.new(t.root,{text:"{value}",populateText:!0,centerY:be,centerX:is,paddingBottom:0,paddingTop:0,paddingRight:0,paddingLeft:0,fill:wi(e?.content.color).color,fontSize:e?.content.font?.size,oversizedBehavior:"hide"})}),a=r.get("sprite");if(a){let n=a;jj({dataLabel:n,series:t,externalDataLabelFormatter:i}),A1({...s,dataLabel:n,isHeatChart:!0,dataLabelFormatter:Xj}),n.set("oversizedBehavior","hide"),n.set("maxWidth",void 0),n.set("maxHeight",void 0)}return r})}function zj(s){let{series:t,dataLabelsConfig:e}=s,i=e?.visible;t.bullets.hasIndex(0)&&OC(t,0),i===!0&&Wj(s)}function Gj(s){let{root:t,xAxis:e,yAxis:i,options:r,chartConfig:a}=s,n=Yi.new(t,{calculateAggregates:!0,stroke:wi(J.backgroundColor).color,clustered:!1,xAxis:e,yAxis:i,categoryXField:$r.xField,categoryYField:$r.yField,valueField:$r.valueField});return n.columns.template.setAll({tooltipText:`x: {${$r.xField}}
y: {${$r.yField}}
Value: {${$r.valueField}}`,width:be,height:be}),i1(n),LA(n,a),Bo(n.columns.template,r?.selectionTheme),So(n.columns.template,n),n}function Yj(s){let{columnSeries:t,data:e,loaderHandle:i}=s;e&&(t.events.once(Ti.DataValidated,()=>{i.hideLoader()}),t.data.setAll(e.dataItems))}function Kj(s){let{columnSeries:t,seriesConfig:e}=s,{gradientHeatRules:i}=J.heatChart,{gradientRules:r}=e,a=e.emptyCells?.symbol??J.heatChart.emptyCells?.symbol,n=r?.colorList?.[0]??i.minColor,o=r?.colorList?.[1]??i.maxColor,l=r?.outsideRangeLowerColor??i.outsideRangeLowerColor,u=r?.outsideRangeUpperColor??i.outsideRangeUpperColor,{minValue:h,maxValue:c}=r??{},{color:A,opacity:d}=wi(n),{color:f,opacity:p}=wi(o),m=wi(l),g=wi(u);t.set("heatRules",[{target:t.columns.template,dataField:"value",key:"fill",customFunction:(y,x,C,S)=>{if(y instanceof pt){let P,F;Number.isFinite(S)?typeof h=="number"&&S<h?{color:P,opacity:F}=m:typeof c=="number"&&S>c?{color:P,opacity:F}=g:(P=rt.interpolate((S-x)/(C-x),A,f,"rgb"),F=d+(S-x)/(C-x)*(p-d)):Rc({element:y,fillSymbol:a}),P&&y.set("fill",P),F!==void 0&&y.set("fillOpacity",F)}}}])}function Zj(s,t){t?wo({element:s.columns.template,lineSymbol:t}):s.columns.template.setAll({strokeOpacity:0,strokeWidth:0})}function qj(s){let{series:t,data:e,loaderHandle:i,dataWasUpdated:r,sortChanged:a,timeZoneChanged:n,seriesWereReinitialized:o,seriesConfig:l,autoInverseDataLabelTextColor:u,options:h}=s,c=r===!0||a===!0||n||o===!0;t.set("id",l.id),$Q(s),Zj(t,l.gridLine),(!l.heatRulesType||l.heatRulesType===lP.Gradient)&&Kj({columnSeries:t,seriesConfig:l}),c&&Yj({columnSeries:t,data:e,loaderHandle:i}),zj({seriesType:R.HeatSeries,series:t,seriesConfig:l,dataLabelsConfig:l.dataLabels,yAxisValueFormat:{intlOptions:{},type:"number"},autoInverseDataLabelTextColor:u,externalDataLabelFormatter:h?.dataLabelFormatter})}function Jj(s){f1(s)}function UC(s){let{isLineSmoothed:t,isRadarLineSeries:e,isRotated:i}=s,r=e?m_:sc;return t&&(r=e?p_:i?A_:d_),r}function e4(s){let{series:t,seriesConfig:e,chartSubType:i,colorMatch:r,rendererType:a}=s,n;for(let o of t.dataItems){let l=o.dataContext;if(n=Pa({seriesConfig:e,dataItem:l,chartSubType:i,colorMatch:r,rendererType:a}),n!==void 0)break}return n}function t4(s){let{series:t,seriesConfig:e,seriesIndex:i,chartSubType:r,colorMatch:a,rendererType:n}=s,o=t.root,l=e4({series:t,seriesConfig:e,chartSubType:r,colorMatch:a,rendererType:n}),u=$a({root:o,seriesIndex:i,seriesSymbol:e.lineSymbol??tx(i),element:t,colorMatch:a,rendererSymbol:l});return Lr(t,e.visible),u.symbolWithColorInfo}function i4(s){let{series:t,seriesIndex:e,chartSubType:i,seriesConfig:r,colorMatch:a,lineColor:n}=s,o=!1,l,u=er(t.uid,"bulletTemplate");if(u!==void 0){r.markerVisible!==!1&&r.visible!==!1?t.bulletsContainer.show():t.bulletsContainer.hide();let{markerSymbol:h}=r;h===void 0&&(h=ex(),h.color=n),a?h.color=n:h.color??=n;let c=Pa({dataItem:t.dataItems[0]?.dataContext,seriesConfig:r,chartSubType:i,colorMatch:a});c&&c.outline&&(h.outline??=c.outline,h.outline.color=c.outline.color),wL({element:u,markerSymbol:h});let A=new Set,d;t.dataItems.forEach(f=>{let p=f.bullets?.[0]?.get("sprite");if(p!==void 0){let m=Pa({dataItem:f?.dataContext,seriesConfig:r,chartSubType:i,colorMatch:a}),g=$a({root:t.root,seriesIndex:e,seriesSymbol:h,element:p,colorMatch:a,rendererSymbol:m});l=g.symbolWithColorInfo,d=g.stylingInfo,Kp(p,d),A.add(JSON.stringify(d))}}),o=A.size>1}return o?void 0:l}function r4(s,t){if(s.showArea===!0)if(s.areaColor!==void 0){let{color:e,opacity:i}=wi(s.areaColor);t.set("fill",e),t.fills.template.setAll({fillOpacity:i,visible:!0})}else t.set("fill",t.get("stroke")),t.fills.template.setAll({fillOpacity:J.lineSeries.areaOpacity,visible:!0});else t.fills.template.set("visible",!1)}function Y1(s){let{series:t,seriesConfig:e,seriesIndex:i,numberOfSeries:r,colorMatch:a,rendererType:n,chartSubType:o,seriesIndexMapper:l,seriesSymbolMapForEvent:u,isRotated:h}=s,c=t.root,A=t.chart;if(A){let d=t instanceof el;Lr(t,e.visible);let f=UC({isRadarLineSeries:d,isLineSmoothed:e.lineSmoothed,isRotated:h});t.set("curveFactory",f);let p=t4({series:t,seriesConfig:e,seriesIndex:i,chartSubType:o,colorMatch:a,rendererType:n}),m=i4({series:t,seriesConfig:e,seriesIndex:i,chartSubType:o,colorMatch:a,lineColor:p.color});u.set(l?.get(e.id)??i,{lineSymbol:p,markerSymbol:m}),r4(e,t),u.size===r&&(Ua({data:Xr(u),htmlContainer:c.dom,chartId:t.chart?.get("id"),colorMatchApplied:IA(A)}),u.clear())}}function s4(s){let{root:t,chartConfig:e,xAxis:i,yAxis:r,seriesConfig:a,options:n}=s,{id:o,name:l}=a,{xField:u,yField:h,xAxisField:c,yAxisField:A}=DA(e,a),d=ei.new(t,{id:o,name:l,xAxis:i,yAxis:r,[c]:u,[A]:h,maskBullets:!1,curveFactory:UC({isRadarLineSeries:!1,isLineSmoothed:a.lineSmoothed,isRotated:e.rotated})});d.appear();let f=Mt.new({});return jr(d.uid,{bulletTemplate:f}),d.bullets.push(p=>{let m=pt.new(p,{focusable:!0,role:J.aria.defaultChartItemRole,ariaLabel:yf(),hoverOnFocus:!0,tooltip:TC(p,d),tooltipText:" ",layer:J.zIndexes.bulletMarkers},f);return Bo(m,n?.selectionTheme),So(m,d),b1(m,d),Aa.new(p,{sprite:m})}),kC(d),LA(d,e),d}function a4(s){let{lineSeries:t,data:e,seriesIndex:i,chartConfig:r,dataWasUpdated:a,seriesWereReinitialized:n,rotationChanged:o,timeZoneChanged:l,sortChanged:u,loaderHandle:h}=s,c=r.series[i];if(e!==void 0&&i>=0&&i<r.series.length&&c.type===R.LineSeries&&(o===!0||a===!0||l||n===!0||u===!0)){let{xField:A,yField:d,xAxisField:f,yAxisField:p}=DA(r,c);t.setAll({[f]:A,[p]:d}),t.events.once(Ti.DataValidated,()=>{h.hideLoader()}),t.data.setAll(e.dataItems)}}function n4(s){let{series:t,seriesConfig:e,seriesIndex:i,numberOfSeries:r,colorMatch:a,rendererType:n,seriesIndexMapper:o,seriesSymbolMapForEvent:l}=s,{chart:u}=t;if(u!==void 0){let h=pe(u.uid,"config"),c=pe(u.uid,"isRotated")??!1,A=Pt(h?.series);Y1({series:t,seriesConfig:e,seriesIndex:i,numberOfSeries:r,colorMatch:a,chartSubType:A,rendererType:n,seriesIndexMapper:o,seriesSymbolMapForEvent:l,isRotated:c})}}function o4(s,t){let{connectLines:e,temporalBinning:i}=t,r=i?.nullPolicy;s.set("connect",e!==!1&&r!==Kv.Null)}function l4(s){let{series:t,data:e,chartConfig:i,options:r,seriesIndex:a,dataWasUpdated:n,queryObject:o,subtypeInfo:l,fieldList:u,utilsStrings:h,rotationChanged:c,seriesWereReinitialized:A,timeZoneChanged:d,sortChanged:f,loaderHandle:p}=s,m=i.series[a],g=i.rotated,y=i.axes,x;y?.[1]&&(x=y[1]),t.set("id",m.id),Jj({seriesType:R.LineSeries,series:t,seriesConfig:m,isRotated:g,dataLabelsConfig:m.dataLabels,yAxisValueFormat:x?.valueFormat,externalDataLabelFormatter:r?.dataLabelFormatter}),IC({series:t,chartConfig:i,isRotated:g}),o4(t,m),a4({lineSeries:t,seriesIndex:a,data:e,chartConfig:i,dataWasUpdated:n,rotationChanged:c,seriesWereReinitialized:A,timeZoneChanged:d,sortChanged:f,loaderHandle:p}),DC({series:t,seriesConfig:m,fieldList:u,queryObject:o,seriesIndex:a,tooltipFormatter:r?.tooltipFormatter,utilsStrings:h}),hu(s)&&cu({styleCallback:n4,callbackProps:s,series:t,seriesConfig:m}),$C({chartConfig:i,series:t,seriesIndex:a,subtypeInfo:l,fieldList:u})}function u4(s){s.labels.template.adapters.add("text",(t,e)=>{let i=t,r=er(s.uid,"pieChartDataLabelFormatter");if(r){let a=e.dataItem;if(a){let n=a?.get("valuePercentTotal"),o=a?.get("value"),l=a?.get("category")??t??"";i=r(l,o,n)}}return i})}function h4(s){let t=s.dataItem?.component,e;if(t instanceof Gr){let i=pe(t.chart?.uid??Number.NaN,"config");if(i!==void 0&&i.series[0].type===R.PieSeries){let r=i.series[0].dataLabelsInside??J.pieChart.dataLabelsInside,a=wi(i?.series[0].dataLabels?.content?.color).color,n=t.chart?.get("background")?.get("fill")??wi(J.backgroundColor).color,o=pe(t.chart?.uid??Number.NaN,"options")?.autoInverseDataLabelTextColor??wt.options.autoInverseDataLabelTextColor,l=s.dataItem?.dataContext?.[wt.pieChart.technicalFieldSliceId],u=t.slices.values.find(c=>(c.dataItem?.dataContext)[wt.pieChart.technicalFieldSliceId]===l)?.get("fill")??wi(i.series[0].fillSymbol?.color).color,h=a??s.text.get("fill");e=h,h&&u&&o&&r&&(e=d1({textBackgroundColor:u,chartBackgroundColor:n}))}}return e}function c4(s){let t=s.labels.template;t.set("cursorOverStyle","pointer"),t.setAll({cursorOverStyle:"pointer",maxWidth:J.pieChart.dataLabels.maxWidth??Number.NaN,oversizedBehavior:J.pieChart.dataLabels.wrap??!0?"wrap":"none",centerX:Qe,centerY:Qe}),u4(s),t.adapters.add("fill",(e,i,r)=>h4(i))}function d4(s,t){let{numericValueFormat:e,percentValueFormat:i,displayNumericValueOnDataLabel:r,displayCategoryOnDataLabel:a,displayPercentageOnDataLabel:n,valuePrefix:o,valueSuffix:l,percentagePrefix:u,percentageSuffix:h,dataLabelsCharacterLimit:c}=t,{chart:A}=s,d;if(A){let f=SC({pieChart:A,valueIntlOptions:e?.intlOptions,percentageIntlOptions:i?.intlOptions,displayNumericValue:r??J.pieChart.displayNumericValueOnDataLabel,displayPercentage:n??J.pieChart.displayPercentageOnDataLabel,valuePrefix:o,valueSuffix:l,percentagePrefix:u,percentageSuffix:h}),p=bg(c),m=ca(pe(s.chart?.uid??Number.NaN,"rtl")??!1," ");d=(g,y,x)=>{let C=f(g,y,x),S=a??J.pieChart.displayCategoryOnDataLabel?p(g):"",P=Ki(S)?"":`${S}${m}`;return P=`${P}${C}`,t.dataLabels?.content!==void 0&&(P=Ws({textSymbol:{...t.dataLabels.content,text:P},format:"amChartsV5",defaults:{...J.pieChart.dataLabels,wrap:t.optimizeDataLabelsOverlapping??J.pieChart.dataLabels.wrap}})),P}}return d}function A4(s){let{pieSeries:t,seriesConfig:e,dataLabelFormatter:i}=s,{dataLabels:r}=e,a=e.dataLabelsOffset??J.pieChart.dataLabelsOffset,n=e.dataLabelsInside??J.pieChart.dataLabelsInside;jr(t.uid,{pieChartDataLabelFormatter:i??d4(t,e)}),Wn({label:t.labels.template,labelConfig:r,defaults:{...J.pieChart.dataLabels,wrap:e.optimizeDataLabelsOverlapping??J.pieChart.alignDataLabels}}),t.set("alignLabels",!n&&(e.alignDataLabels??J.pieChart.alignDataLabels)),t.labels.template.set("forceHidden",!r?.visible);let o=t.labels.template.get("radius"),l=t.labels.template.get("baseRadius");n&&l!==Ot(60)?t.labels.template.setAll({radius:void 0,baseRadius:Ot(60),textType:"regular"}):n||(t.labels.template.setAll({baseRadius:be,textType:"adjusted"}),a!==void 0&&Number.isFinite(a)&&o!==a&&t.labels.template.set("radius",a))}var iC;function f4(s){let{root:t,dataContext:e,seriesConfig:i,isGroupOfSlices:r,sliceFromConfig:a,dataIndex:n,colorMatch:o}=s,l=Pt([i]),u=qs.new(t,{});u.dataItem={dataContext:e};let h=a?.fillSymbol,c=r?{...J.pieChart.sliceGrouping.fillSymbol,...i.sliceGrouping?.fillSymbol}:Xr(h??i.fillSymbol),A=Pa({dataItem:e,seriesConfig:i,chartSubType:l,colorMatch:o}),{symbolWithColorInfo:d}=$a({root:t,element:u,seriesSymbol:c??af(),seriesIndex:n,rendererSymbol:A,colorMatch:o,isChartFillSymbol:!0});return d}function IO(s,t){let{root:e,x:i,isNonAggregatedChart:r,objectIdField:a,isPieFromFields:n,seriesConfig:o,fieldList:l,labelUpdateNeeded:u,colorMatch:h,utilsStrings:c}=t,A=[],d,f;return s.forEach((p,m)=>{let g=uL({dataContext:p,x:i,isNonAggregatedChart:r,dataIndex:m,objectIdField:a,isPieFromFields:n});p[J.pieChart.technicalFieldSliceId]=g;let y=Pb(o.slices,g),x=Ho(p),C=f4({root:e,dataContext:p,seriesConfig:o,isGroupOfSlices:x,sliceFromConfig:y,dataIndex:m,colorMatch:h}),S=hL({dataContext:p,sliceFromConfig:y,isGroupOfSlices:x,seriesConfig:o,fieldList:l,isPieFromFields:n,labelUpdateNeeded:u,colorMatch:h,utilsStrings:c}),P={sliceId:g,label:S,fillSymbol:C};P.originalLabel=y?.originalLabel??(p?.[J.originalCategoryValue]!==void 0?p?.[J.originalCategoryValue]:P.label),x?(f=p[J.pieChart.technicalFieldGroupedSlices],o.sliceGrouping!==void 0&&(d={sliceId:o.sliceGrouping.sliceId,percentageThreshold:o.sliceGrouping.percentageThreshold,label:S,originalLabel:o.sliceGrouping.originalLabel??S,fillSymbol:C})):A.push(P)}),{slices:A,groupOfSlicesSymbols:d,groupOfSlices:f}}async function K1(s){let{data:t}=s,e=t&&"dataItems"in t?t.dataItems:[],{root:i,chartConfig:r,queryObject:a,usePopupTemplateFieldsInfo:n,labelUpdateNeeded:o,utilsStrings:l}=s,u=r.series[0],{x:h}=u,c=!xx({chartConfig:r}),A=Pt([u])===Ie.PieFromFields,d=ha(a).objectIdField,f=await Pn(a,n),p={root:i,x:h,isNonAggregatedChart:c,objectIdField:d,isPieFromFields:A,seriesConfig:u,fieldList:f,labelUpdateNeeded:o,colorMatch:$o(r),utilsStrings:l},{slices:m,groupOfSlicesSymbols:g,groupOfSlices:y}=IO(e,p),{slices:x}=IO(y??[],p);return{slices:m,groupedSlices:x,groupOfSlices:g}}function p4(s,t){let{ticks:e}=t,i=e?.visible===!1||t.dataLabelsInside===!0||t.dataLabels===void 0||t.dataLabels?.visible===!1||t.dataLabelsOffset!==void 0&&t.dataLabelsOffset<=0;s.ticks.template.setAll({visible:!i,crisp:!1});let r=e?.lineSymbol??pd({color:qv});i&&(r.width=0),wo({element:s.ticks.template,lineSymbol:r,visible:!i})}function m4(s){let{series:t,pieSlicesSymbols:e,seriesConfig:i}=s;t.slices.each((r,a)=>{let n=r.dataItem?.dataContext,o=_C({dataContext:n,pieSlicesSymbols:e,seriesConfig:i});Rc({element:r,fillSymbol:o,defaultToColorFromRamp:!0,colorRampIndex:a,isChartFillSymbol:!0})})}function g4(s){let{series:t,data:e,seriesConfig:i,dataWasUpdated:r,sortChanged:a,seriesWereReinitialized:n,loaderHandle:o,labelUpdateNeeded:l}=s,{x:u,y:h}=i,c=Pt([i]),A=c===Ie.PieFromFields?Kn:u;if(e&&(r===!0||n===!0||a===!0))t.setAll({categoryField:A,valueField:c===Ie.PieFromFields?kh:h}),t.events.once(Ti.DataValidated,()=>{o.hideLoader()}),t.data.setAll(e.dataItems);else if(e&&l){let d=e.dataItems;t.dataItems.forEach((f,p)=>{let m=d[p];typeof m[A]=="string"&&f.set("category",m[A])}),t.markDirty()}}function y4(s,t){let{innerRadius:e}=t;s.set("innerRadius",e?Ot(e):0)}function b4(s,t){let{startAngle:e,endAngle:i}=t;s.setAll({startAngle:e??J.pieChart.min,endAngle:i??360+(s.get("startAngle")??0)})}function v4(s){let{root:t,seriesConfig:e,options:i,chart:r}=s,{id:a,name:n,x:o,y:l}=e,u=Pt([e]),h=Gr.new(t,{id:a,name:n,categoryField:u===Ie.PieFromFields?Kn:o,valueField:u===Ie.PieFromFields?kh:l});return c4(h),t1(h),h.slices.template.states.create("hover",{scale:1,stateAnimationDuration:0}),Bo(h.slices.template,i?.selectionTheme),So(h.slices.template,h),h.appear(),r instanceof Js&&_4(r,h),h}function x4(s){let{series:t,seriesConfig:e,seriesWereReinitialized:i,dataWasUpdated:r,sortChanged:a,data:n,options:o,loaderHandle:l,labelUpdateNeeded:u,utilsStrings:h}=s,{dataLabelFormatter:c,tooltipFormatter:A}=o??{};t.set("id",e.id),g4({series:t,seriesConfig:e,seriesWereReinitialized:i,dataWasUpdated:r,sortChanged:a,data:n,loaderHandle:l,labelUpdateNeeded:u}),hu(s)&&cu({styleCallback:m4,callbackProps:s,series:t,seriesConfig:e}),y4(t,e),b4(t,e),p4(t,e),OQ({series:t,seriesConfig:e,tooltipFormatter:A}),A4({pieSeries:t,seriesConfig:e,dataLabelFormatter:c})}function _4(s,t){if(!s.isDisposed()){let e=s.radius();Mi(s.uid,{pieChartRadius:e});let i=()=>{let r=Ot(pe(s.uid,"pieChartRadius")??J.pieChart.chartOptimizedRadius),a=r,n=s.series?.values?.[0]??t,o=pe(s.uid,"config");if(o!==void 0){let{series:l}=o,{optimizeDataLabelsOverlapping:u,alignDataLabels:h,dataLabelsOffset:c=J.pieChart.dataLabelsOffset,dataLabels:A,dataLabelsInside:d}=l[0];if(A?.visible===!0&&h===!0&&u===!0&&d!==!0){let f=J.pieChart.chartOptimizedRadius/100,p=500,m=150,g=.6,y=.5,x=1,C=s.chartContainer.width()-c*2,S=Math.max(C-m,0)/(p-m),P=S<1?Math.max(S**x*g,.4):Math.min(S**y*g,f);a=Ot(P*100)}else a=Ot(J.pieChart.chartRadius);r.value.toFixed(1)!==a.value.toFixed(1)&&(Mi(s.uid,{pieChartRadius:a.percent}),iC&&clearTimeout(iC),iC=FA(()=>{let f=s.chartContainer.height();s.chartContainer.set("height",f+.1),s.set("radius",a),s.markDirty(),n.markDirty(),s.root.resize(),s.root.events.off("frameended",i),w4(s)})),n instanceof Gr&&n.labels.template.set("maxWidth",C4(o?.series[0],s))}return a};s.root.events.on("frameended",i),i()}}function w4(s){FA(()=>{s.chartContainer.set("height",Ot(100)),s.root.resize()})}function C4(s,t){let e=J.pieChart.dataLabels.maxWidth??100;if(s!=null){let{alignDataLabels:i,dataLabelsOffset:r=J.pieChart.dataLabelsOffset,optimizeDataLabelsOverlapping:a,dataLabels:n,dataLabelsInside:o}=s;if(n?.visible===!0&&i===!0&&o!==!0&&a===!0){let l=t.radius(),u=t.chartContainer.width(),h=t.chartContainer.height(),c=l*Math.min(u,h),A=5,d=Math.floor((u-c)/2)-A-r;e=Math.min(d,e-A);let f=30;e<f&&(e=f)}}return e}function B4(s){let{root:t,chartConfig:e,xAxis:i,yAxis:r,seriesConfig:a,options:n}=s,{id:o,name:l}=a,{xField:u,yField:h,xAxisField:c,yAxisField:A}=DA(e,a),d=el.new(t,{id:o,name:l,xAxis:i,yAxis:r,[c]:u,[A]:h,curveFactory:UC({isRadarLineSeries:!0,isLineSmoothed:a.lineSmoothed,isRotated:e.rotated}),layer:J.zIndexes.bulletMarkers});d.appear();let f=Mt.new({});return jr(d.uid,{bulletTemplate:f}),d.bullets.push(p=>{let m=pt.new(p,{tooltip:TC(p,d),tooltipText:" "},f);return Bo(m,n?.selectionTheme),So(m,d),Aa.new(p,{sprite:m})}),kC(d),LA(d,e),d}function S4(s){let{radarLineSeries:t,data:e,seriesIndex:i,chartConfig:r,dataWasUpdated:a,seriesWereReinitialized:n,timeZoneChanged:o,loaderHandle:l}=s,u=r.series[i];if(e!==void 0&&u?.type===R.RadarSeries&&(a||o||n)){let{xField:h,yField:c,xAxisField:A,yAxisField:d}=DA(r,u);t.setAll({[A]:h,[d]:c}),t.events.once(Ti.DataValidated,()=>{l.hideLoader()}),t.data.setAll(e.dataItems)}}function P4(s){let{series:t,seriesConfig:e,seriesIndex:i,numberOfSeries:r,colorMatch:a,rendererType:n,seriesIndexMapper:o,seriesSymbolMapForEvent:l}=s,{chart:u}=t;if(u!==void 0){let h=pe(u.uid,"config"),c=pe(u.uid,"isRotated")??!1,A=Pt(h?.series);Y1({series:t,seriesConfig:e,seriesIndex:i,numberOfSeries:r,colorMatch:a,chartSubType:A,rendererType:n,seriesIndexMapper:o,seriesSymbolMapForEvent:l,isRotated:c})}}function F4(s){let{series:t,data:e,seriesWereReinitialized:i,chartConfig:r,options:a,seriesIndex:n,dataWasUpdated:o,timeZoneChanged:l,fieldList:u,queryObject:h,subtypeInfo:c,loaderHandle:A,utilsStrings:d}=s,f=r.series[n];t.set("id",f.id),IC({series:t,chartConfig:r,isRotated:!1}),DC({series:t,seriesConfig:f,fieldList:u,queryObject:h,seriesIndex:n,tooltipFormatter:a?.tooltipFormatter,utilsStrings:d}),hu(s)&&cu({styleCallback:P4,callbackProps:s,series:t,seriesConfig:f}),$C({chartConfig:r,series:t,seriesIndex:n,subtypeInfo:c,fieldList:u}),S4({radarLineSeries:t,data:e,seriesIndex:n,chartConfig:r,dataWasUpdated:o,timeZoneChanged:l,seriesWereReinitialized:i,loaderHandle:A})}async function VC(s){let{chart:t,chartConfig:e,options:i,utilsStrings:r}=s,{rotated:a}=e,{root:n}=t,o=We(e.series);t.series.clear();let l=[],u={root:n,chartConfig:e,options:i,chart:t,utilsStrings:r},h=[];for(let c=0;c<e.series.length;c+=1){let A=e.series[c],{assignToSecondValueAxis:d,type:f}=A,p=t instanceof Ai?EH({chart:t,chartType:o,rotated:a,assignToSecondValueAxis:d}):void 0,{xAxis:m,xAxisForHistogramOverlaySeries:g,yAxis:y}=p??{};switch(!0){case f===R.HeatSeries:{m&&y&&h.push(Gj({...u,xAxis:m,yAxis:y}));break}case o===R.BoxPlotSeries:{m&&y&&(f===R.BoxPlotSeries||f===R.LineSeries)&&h.push(...Qj({...u,xAxis:m,yAxis:y,seriesIndex:c,seriesConfig:A,chartConfig:e}));break}case f===R.HistogramSeries:{m&&y&&h.push(...bH({...u,seriesConfig:A,xAxis:m,xAxisForOverlaySeries:g,yAxis:y}));break}case f===R.PieSeries:{h.push(v4({...u,seriesConfig:A}));break}case(o===R.ComboLineAndBarSeries||o===R.BarSeries||o===R.LineSeries):{m&&y&&(f===R.BarSeries?h.push(fj({...u,seriesConfig:A,xAxis:m,yAxis:y})):f===R.LineSeries&&h.push(s4({...u,seriesConfig:A,xAxis:m,yAxis:y})));break}case f===R.RadarSeries:{m&&y&&h.push(B4({...u,seriesConfig:A,xAxis:m,yAxis:y}));break}case f===R.ScatterSeries:{m&&y&&h.push(...YQ({...u,seriesConfig:A,xAxis:m,yAxis:y}));break}}h=[...h,...await Promise.all(l)].flat()}h.forEach(c=>{c instanceof fa&&c.setPrivate("doNotUpdateLegend",!0)}),t.series.pushAll(h)}async function Xb(s){let{chart:t,chartConfig:e,options:i,data:r,seriesIndexMapper:a,dataWasUpdated:n,sortChanged:o,seriesWereReinitialized:l,rotationChanged:u,colorMatchChanged:h,seriesStyleChanged:c,timeZoneChanged:A,pieSlicesSymbols:d,queryObject:f,loaderHandle:p,utilsStrings:m,errorStrings:g,groupOfSlicesUpdateNeeded:y,labelUpdateNeeded:x}=s,{chartRenderer:C}=e,{root:S}=t,{series:P}=e,F=We(e.series),O=Pt(e.series),$=t.series.values,L=$o(e),E=e.series.length,D=new Map,H=dx(f),te=await Pn(f,i?.usePopupTemplateFieldsInfo),K=ha(f),ae=_d(C,K.renderer),ie=l||n||o||u,fe={root:S,chartConfig:e,queryObject:f,options:i,colorMatch:L,dataWasUpdated:n,sortChanged:o,seriesWereReinitialized:l,subtypeInfo:H,fieldList:te,rendererType:ae,dataLabelFormatter:i?.dataLabelFormatter,utilsStrings:m,chartSubType:O,loaderHandle:p,autoInverseDataLabelTextColor:i?.autoInverseDataLabelTextColor??J.options.autoInverseDataLabelTextColor},z={...fe,numberOfSeries:E,rotationChanged:u,colorMatchChanged:h,seriesStyleChanged:c,seriesIndexMapper:a,seriesSymbolMapForEvent:D,timeZoneChanged:A};for(let Y=0;Y<P.length;Y++){let ge=P[Y],re=$[Y],me=ge.type;switch(!0){case F===R.HeatSeries:{re instanceof Yi&&t instanceof Ai&&ge.type===R.HeatSeries&&qj({...z,series:re,data:r,seriesConfig:ge});break}case F===R.BoxPlotSeries:{re=$.find(Ge=>Ge.get("id")===ge.id),t instanceof Ai&&(re instanceof za||re instanceof ei)&&(me===R.BoxPlotSeries||me===R.LineSeries)&&Hj({...z,chart:t,series:re,data:r,seriesIndex:Y,seriesConfig:ge,chartConfig:e,showMean:ts(e),showOutliers:No(e)});break}case me===R.HistogramSeries:{re instanceof Yi&&t instanceof Ai&&FP(r)&&await wH({...z,series:re,allChartSeries:$,data:r,seriesIndex:Y,seriesConfig:ge,chartRenderer:C,axes:e.axes});break}case me===R.PieSeries:{re instanceof Gr&&t instanceof Js&&cg(r)&&x4({...fe,series:re,seriesConfig:ge,data:r,pieSlicesSymbols:d,groupOfSlicesUpdateNeeded:y,seriesStyleChanged:c,colorMatchChanged:h,labelUpdateNeeded:x});break}case(F===R.ComboLineAndBarSeries||F===R.BarSeries||F===R.LineSeries):t instanceof Ai&&cg(r)&&(me===R.BarSeries&&re instanceof Yi?yj({...z,series:re,data:r,seriesIndex:Y,seriesConfig:ge}):me===R.LineSeries&&re instanceof ei&&l4({...z,series:re,seriesIndex:Y,seriesConfig:ge,data:r}));break;case me===R.ScatterSeries:{re=o1(t);let Ge=l1(t);re instanceof ei&&Ge instanceof ei&&TP(r)&&JQ({...z,series:re,seriesConfig:ge,trendLineSeries:Ge,data:r});break}case me===R.RadarSeries:{re instanceof el&&t instanceof Ta&&cg(r)&&F4({...z,series:re,data:r,seriesIndex:Y,seriesConfig:ge,chartConfig:e});break}}ie&&F&&re&&VQ(F,re)}await IH({chart:t,options:i,dataWasUpdated:n,data:r,chartConfig:e,queryObject:f,errorStrings:g})}function NC(s){let{data:t,seriesConfig:e,utilsStrings:i}=s,r=e[0],a=t?.reduce((A,d)=>{let f=d[kh]??d[r.y];return Number.isFinite(f)||(f=0),f+A},0),n=r?.sliceGrouping?.percentageThreshold??0,o=[],l,u=0,h=t?.find(A=>A[Zn.defaultGroupOfSlicesId]===!0)?.[wt.pieChart.technicalFieldGroupedSlices]??[],c=[...t,...h].filter(A=>{let d=!0,f=A[kh]??A[r.y];if(Number.isFinite(f)){let p=f/a*100;A[wt.pieChart.technicalFieldSlicePercent]=p,p<=n&&A[Zn.defaultGroupOfSlicesId]!==!0&&(u+=f,o.push(A),d=!1)}else A[Zn.defaultGroupOfSlicesId]!==!0&&(o.push(A),d=n===0||n===void 0);return A[Zn.defaultGroupOfSlicesId]===!0&&(l=A,d=!1),d});if(n>0&&o.length>0){let A=u/a*100,d=Pt(e)===Ie.PieFromFields,f={...l,[Zn.defaultGroupOfSlicesId]:!0,[d?Kn:r.x]:r.sliceGrouping?.label??i?.pieChart.defaultSliceGroupingLabel,[d?kh:r.y]:u,[wt.pieChart.technicalFieldSlicePercent]:A,[wt.pieChart.technicalFieldGroupedSlices]:o};c.push(f)}return c}function T4(s){let{chart:t,seriesConfig:e,utilsStrings:i,data:r}=s,a=t.series.getIndex(0),n;return a&&(n=NC({data:r,seriesConfig:e,utilsStrings:i}),a?.data.setAll(n)),n}function D4(s){let{chart:t,data:e,seriesConfig:i,utilsStrings:r}=s,a=t.series.getIndex(0),n;return a&&e&&"dataItems"in e&&(n=NC({data:e.dataItems,seriesConfig:i,utilsStrings:r}),a?.data.setAll(n)),n}function O4(s){uu(s)||s.dataItems.forEach(t=>{let e=t.bullets?.[0];if(e){let i=e.get("sprite"),r=ou(i.uid,"selected")!==!0;wa({element:i,selected:r})}})}function L4(s){s.columns.each(t=>{let e=ou(t.uid,"selected")!==!0;wa({element:t,selected:e})})}function I4(s){s.slices.each(t=>{let e=ou(t.uid,"selected")!==!0;wa({element:t,selected:e})})}async function $4(s){if(Vb(s)){let t=pe(s.uid,"actionMode");t!==Ht.MonoSelection&&t!==Ht.None&&(s.series.each(e=>{switch(!0){case e instanceof Yi:L4(e);break;case e instanceof ei:O4(e);break;case e instanceof Gr:I4(e);break}}),await LC(s,kr.ProgrammaticSelection))}}function k4(s){let t=Ru.new(s,{});return t.getPrivate("content").classList.add("arcgis-charts-modal"),t}function $O(s){let t="";for(let e=0;e<s.length;e+=1){let i=s[e];t+=`<li>${i.message}</li>`}return`<ol>${t}</ol>`}function Z1(s){s.set("content",void 0),s.cancel()}function QC(s){let{chartModal:t,message:e,title:i,closable:r}=s;t.set("content",i!==void 0?`<div class="arcgis-charts-modal-header">${i}</div><br />${e}<br />`:`${e}`),r&&t.events.once(Ti.Opened,()=>{let a=document.createElement("input");a.type="button",a.value="OK",a.addEventListener("click",()=>{t.close()}),t.getPrivate("content").appendChild(a)}),t.open()}async function q1(s){let{chartModal:t,chartConfig:e,createMessage:i,status:r,errorStrings:a}=s,{schemaErrors:n,customErrors:o,warnings:l}=r;if(t!==void 0){let u,h;e===void 0?(h=i===void 0?a.modalHeaders.newChart:void 0,u=i??a.errors.newChartRequest):n.length>0?(h=a.modalHeaders.error,u=a.errors.simpleError):o.length>0?(h=a.modalHeaders.error,u=$O(o)):l.length>0&&(h=a.modalHeaders.warning,u=`<p>${a.errors.warningRequest}</p>${$O(l)}`),(u!==void 0||h!==void 0)&&QC({chartModal:t,message:u,title:h,closable:!1})}}async function Wb(s){let{chart:t,chartModal:e,chartConfig:i,invalidType:r,elementCount:a,seriesCount:n,errorStrings:o}=s,l=pe(t.uid,"queryObject"),u=pe(t.uid,"options"),h=pe(t.uid,"formatLocale"),c=i!==void 0&&Mh({seriesConfig:i.series[0],xAxisValueFormatType:mf(i)}),A=await Ix({invalidType:r,elementCount:a,seriesCount:n,chartLimits:u?.chartLimits,filterBySelection:u?.filterBySelection,queryObject:l,formatLocale:h,isTemporalLineChart:c,errorStrings:o});Fx(A,t.root.dom),e&&u?.showUIMessages!==!1&&Vb(t)&&QC({chartModal:e,title:A.header,message:A.message,closable:!1})}async function J1(s){let{chart:t,chartModal:e,data:i,errorStrings:r}=s;if(t instanceof Ai){let a=pe(t.uid,"isRotated"),n=[];[{axis:t.xAxes.getIndex(0)},{axis:t.yAxes.getIndex(0)},{axis:t.xAxes.getIndex(1),isSecondValueAxis:!0},{axis:t.yAxes.getIndex(1),isSecondValueAxis:!0}].forEach(o=>{let{axis:l,isSecondValueAxis:u}=o;if(l!==void 0){let h=au(l.get("renderer"),a);_1({axis:l,isSecondValueAxis:u,data:i})||n.push(Wb({chart:t,chartModal:e,invalidType:h?Uo.NegativeValueInXAxisLogScale:Uo.NegativeValueInYAxisLogScale,errorStrings:r}))}}),await Promise.all(n)}}async function eI(s){let{chart:t,chartModal:e,chartConfig:i,data:r,errorStrings:a}=s,n=pe(t.uid,"options"),o=Eo(r);(e?.get("content")===void 0||e?.get("content")==="")&&hx({chartConfig:i,nullAsValid:n?.nullAsValid,dataSet:o})&&await Wb({chart:t,chartModal:e,invalidType:Uo.EmptyDataSet,chartConfig:i,errorStrings:a})}function E4(s){let{chart:t,chartModal:e,message:i,heading:r,options:a}=s;e!==void 0&&!t.isDisposed()&&(i!==void 0?QC({chartModal:e,message:i,title:r,closable:a?.closable??!1}):Z1(e))}function tI(s){let{chart:t,data:e,config:i,hideEmptySeries:r}=s,a=i.series.length,n=Xr(i),o=!1;if(r&&t instanceof Ai&&a>1){let l=We(i?.series),u=Pt(i?.series),h=new Set;switch(l){case R.ComboLineAndBarSeries:case R.BarSeries:case R.RadarSeries:case R.LineSeries:{n.series.forEach(A=>{let d="";"y"in A&&(d=Array.isArray(A.y)?A.y[0]:A.y,u===Ie.BarAndLineSplitByNoAggregation&&(d=`${d}_${Tl({where:A.query?.where,keepSurroundingQuotes:!1,escape:!1})}`),Array.isArray(e)&&e.some(f=>ng({dataItem:f,x:A.x,y:d}))&&h.add(A))});break}case R.BoxPlotSeries:break}let c=Array.from(h.values());o=c.length>0&&c.length<a,o?(Mi(t.uid,{unfilteredConfig:Xr(i)}),n.series=c,Mi(t.uid,{config:Xr(n)})):Mi(t.uid,{unfilteredConfig:void 0})}return Mi(t.uid,{seriesFilteredOut:o}),{seriesFilteredOut:o,updatedConfig:n}}function M4(s,t){let e=!1,i=s.series,r=t.series,a=We(r),n=(c,A)=>c.filter(d=>d.type===A).flatMap(d=>{let f=[];switch(A){case R.BarSeries:case R.HistogramSeries:f.push(d.fillSymbol);break;case R.LineSeries:case R.RadarSeries:f.push(d.lineSymbol,d.markerSymbol);break;case R.ScatterSeries:f.push(d.markerSymbol);break;case R.PieSeries:let p=d;p.slices?.forEach(m=>{f.push(m.fillSymbol)}),p.sliceGrouping&&f.push(p.sliceGrouping.fillSymbol);break}return(d.type===R.BarSeries||d.type===R.LineSeries||d.type===R.RadarSeries)&&d.nullCategory?.symbol!==void 0&&f.push(d.nullCategory.symbol),f}),o,l;a===R.ComboLineAndBarSeries?(o=n(i,R.BarSeries).concat(n(i,R.LineSeries)),l=n(r,R.BarSeries).concat(n(r,R.LineSeries))):(o=n(i,i[0].type),l=n(r,r[0].type));let u=!dd(o,l),h=!1;switch(a){case R.LineSeries:case R.RadarSeries:case R.ComboLineAndBarSeries:h=r.filter(c=>c.type===R.LineSeries||c.type===R.RadarSeries).some(c=>{let A=i.find(d=>d.id===c.id);return(c.showArea??J.lineSeries.showArea)!==(A?.showArea??J.lineSeries.showArea)||(c.lineSmoothed??J.lineSeries.lineSmoothed)!==(A?.lineSmoothed??J.lineSeries.lineSmoothed)||(c.markerVisible??J.lineSeries.markerVisible)!==(A?.markerVisible??J.lineSeries.markerVisible)||c.showArea&&!dd(c.areaColor,A?.areaColor)});break}return e=u||h,e}function R4(s,t){for(let e=0;e<t.length;e+=1){let i=t[e][0],r=t[e][1],a=s.length;i>=0&&i<a&&r>=0&&r<a&&s.swap(t[e][0],t[e][1])}}function U4(){v0(gN)}function V4(s){s.dispose()}async function N4(s,t){let{root:e}=s,{t9nLocale:i}=tf(t??document.documentElement),r=pf(t??document.documentElement),a=await UN(i);e.locale=a,Mi(s.uid,{locale:i,formatLocale:r,rtl:qm(t??document.documentElement)==="rtl"})}function dC(s){let{chart:t,actionMode:e,cursorRange:i}=s;if(Vb(t)){let r=e??pe(t.uid,"actionMode")??J.actionMode;Mi(t.uid,{actionMode:r}),r===Ht.None&&wh({chart:t,selectionSource:kr.ClearSelection}),q2({chart:t,actionMode:r,cursorRange:i})}}function Q4(s){return Qa.rootElements.find(t=>t.dom===s)?.dispose(),qh.new(s)}function H4(s,t){s.container.children.clear();let e=We(t?.series),i;switch(e){case R.RadarSeries:case R.GaugeSeries:i=Ta;break;case R.PieSeries:i=Js;break;default:i=Ai;break}return s.container.children.push(i.new(s,{id:`${t?.id}`,layout:s.verticalLayout,paddingBottom:J.chartPadding,paddingTop:J.chartPadding,paddingRight:J.chartPadding,paddingLeft:J.chartPadding}))}async function j4(s){let{chart:t,chartConfig:e,data:i,dataWasUpdated:r,sortChanged:a,slicesConfigChangedSinceLastUpdate:n,chartRendererChanged:o,colorMatchChanged:l,options:u,queryObject:h,loaderHandle:c,utilsStrings:A,errorStrings:d,groupOfSlicesUpdateNeeded:f,seriesConfig:p,seriesStyleChanged:m}=s,g=i,y=!1;if(t&&(r||f)){let P=D4({chart:t,data:i,seriesConfig:p,utilsStrings:A});P!==void 0&&(y=!0,g={dataItems:P})}let x=r||n||o||l,C=await K1({root:t.root,data:g,chartConfig:e,queryObject:h,labelUpdateNeeded:x,usePopupTemplateFieldsInfo:u?.usePopupTemplateFieldsInfo,utilsStrings:A}),S=g&&"dataItems"in g?g.dataItems:[];Eb({data:S,newChartConfig:e,pieSlicesSymbols:C}),await Xb({chart:t,chartConfig:e,options:u,data:g,dataWasUpdated:r,sortChanged:a,queryObject:h,pieSlicesSymbols:C,loaderHandle:c,utilsStrings:A,errorStrings:d,groupOfSlicesUpdateNeeded:f,seriesStyleChanged:m,colorMatchChanged:l,labelUpdateNeeded:x}),Qo({data:g,seriesConfig:p,htmlContainer:t.root.dom}),Ua({data:C,htmlContainer:t.root.dom,chartId:t.get("id"),colorMatchApplied:IA(t)}),y&&Mi(t.uid,{data:g})}async function X4(s){let{chart:t,chartConfig:e,data:i,anyGuideAboveChanged:r,dataWasUpdated:a,updateNeededDetails:n,seriesIndexMapper:o,seriesFilteredOut:l,sortChanged:u,options:h,queryObject:c,rotationChanged:A,colorMatchChanged:d,seriesStyleChanged:f,timeZoneChanged:p,timeIntervalInfoWasReset:m,loaderHandle:g,utilsStrings:y,errorStrings:x}=s,{axisLabelsBehaviorChanged:C}=s,S=GH({chart:t,chartConfig:e,rotationChanged:A,axisLabelsBehaviorChanged:C,timeIntervalInfoWasReset:m}),P=S||RH({chart:t,chartConfig:e,updateNeededDetails:n,seriesFilteredOut:l});S&&(await L1({chart:t,chartConfig:e,errorStrings:x}),C=[!0,!0]),P&&(t.series.clear(),await VC({chart:t,chartConfig:e,options:h,utilsStrings:y})),await I1({chart:t,chartConfig:e,queryObject:c,data:i,timeIntervalInfo:i?.timeIntervalInfo??pe(t.uid,"timeIntervalInfo"),axisLabelsBehaviorChanged:C,anyGuideAboveChanged:r,xAxisLabelFormatter:h?.xAxisLabelFormatter,yAxisLabelFormatter:h?.yAxisLabelFormatter,secondaryYAxisLabelFormatter:h?.secondaryYAxisLabelFormatter,guideTooltipFormatter:h?.guideTooltipFormatter,gaugeInnerLabelFormatter:h?.gaugeInnerLabelFormatter,utilsStrings:y,errorStrings:x}),await Xb({chart:t,chartConfig:e,options:h,data:i,dataWasUpdated:a,sortChanged:u,seriesIndexMapper:o,seriesWereReinitialized:P,rotationChanged:A,colorMatchChanged:d,seriesStyleChanged:f,timeZoneChanged:p,queryObject:c,loaderHandle:g,utilsStrings:y,errorStrings:x}),H1({chart:t,scrollbarXConfig:e.axes?.[0]?.scrollbar,scrollbarYConfig:e.axes?.[1]?.scrollbar})}async function W4(s){let{chart:t,queryObject:e,legend:i,chartModal:r,loaderHandle:a,updateProps:n}=s,{newChartConfig:o,updateOptions:l,t9nStrings:u}=n,{utilsStrings:h,errorStrings:c}=u,{root:A}=t,{createMessage:d,layer:f,view:p,usePopupTemplateFieldsInfo:m}=l??{};if(o===void 0)throw new Error;let g=o,y=pe(t.uid,"config"),x=pe(t.uid,"initialized");if(t.isDisposed()||x===!1||!vx(y,g))throw new lf(gd.ChartDisposed);g!==void 0&&!Vo(g)&&(g=cf({chartConfig:g,queryObject:f})),g=await ff(g,f);let C=y===void 0;y??=g;let S=await hg({input:g,queryObject:f,allowUsingObjectIdStat:l?.allowUsingObjectIdStat});if(S.valid){y!==void 0&&Ox(y,g)&&(g=xf(g,A.dom));let P=Pt(g.series),F=We(g.series),O=uf(pe(t.uid,"queryObject")),$=e;(f!==void 0||Vo(g))&&($=await yd({layer:f,view:p,chartConfig:g}),Mi(t.uid,{queryObject:$}));let L=Sn(g),E=pe(t.uid,"filterBySelection"),D=pe(t.uid,"seriesFilteredOut"),H=pe(t.uid,"unfilteredConfig");Mi(t.uid,{config:Xr(g),options:l,isNonAggregatedChart:!gf(P),isRotated:L,filterBySelection:l?.filterBySelection}),oj({chart:t,updateOptions:l,chartModal:r});let te=await Pn($,m),{dataUpdateNeeded:K,updateNeededDetails:ae}=bf({forceDataUpdate:l?.dataUpdated||C,options:l,oldConfig:D?H:y,newConfig:g,formerFilterBySelection:E,timeIntervalInfo:pe(t.uid,"data")?.timeIntervalInfo,currentSelectionDataItems:pe(t.uid,"currentSelectionDataItems"),currentSelectionOIDs:pe(t.uid,"currentSelectionOIDs"),currentSelectionIndexes:pe(t.uid,"currentSelectionIndexes"),fieldList:te}),ie=uf($);K=K||O!==ie;let fe=NP(y,g),z=Dx(y,g),Y=_x(y,g),ge=M4(y,g),re=mg(y,g),me=XP(y,g),Ge=Tx(y,g),Xe=gg({oldConfig:D?H:y,newConfig:g,dataUpdateNeeded:K}),nt=$P(y,o)||kP(y,o),At=bx({oldConfig:y,newConfig:g,rotationChanged:z}),tt=y.series,ft=g.series,_t;if(K){a.showLoader(l?.hideLoaderAnimation!==!0),_t=await Qh({chartConfig:g,queryObject:$,options:l,currentChartData:pe(t.uid,"data"),currentSelectionOIDs:pe(t.uid,"currentSelectionOIDs"),currentSelectionDataItems:pe(t.uid,"currentSelectionDataItems"),binnedServerData:pe(t.uid,"binnedServerData"),fieldList:te,errorStrings:c,abortKey:qL(t)});let{data:de,queryConfig:$e,valid:Ke,count:Ee,invalidType:bt}=_t;Mi(t.uid,{queryConfig:$e,initialized:!0,elementCount:Ee,boxPlotMeanLinesData:de!==void 0&&"meanLines"in de?de.meanLines:void 0,timeIntervalInfo:de!==void 0&&"timeIntervalInfo"in de?de.timeIntervalInfo:void 0}),Ke?(Qo({data:de,seriesConfig:g.series,htmlContainer:A.dom}),Z1(r)):(await Wb({chart:t,chartModal:r,invalidType:bt,elementCount:Ee,seriesCount:g.series.length,chartConfig:g,errorStrings:c}),a.hideLoader())}if(t instanceof Bs){let de=Lx(tt,ft);de.length>0&&(R4(t.series,de),i instanceof so&&XL({chart:t,legend:i,chartConfig:g,hideEmptySeries:l?.hideEmptySeries}))}let $t=_t?.data??pe(t.uid,"data"),U=Eo($t),xe=t instanceof Js?cL(tt,ft):!1;(Xe||xe)&&(Hh({arrayToSort:U,chartConfig:g,fieldList:te,isTimeBinningSeries:Mh({seriesConfig:ux(o),xAxisValueFormatType:mf(o),setTimeBinningInfoWhenNotProvided:l?.setTimeBinningInfoWhenNotProvided})}),F===R.BoxPlotSeries&&G1({chart:t,chartData:K?U:$t,chartConfig:g}),Mi(t.uid,{fieldList:te}),$t&&"dataItems"in $t&&($t.dataItems=U)),(K||Xe)&&Qo({data:$t,seriesConfig:g.series,htmlContainer:A.dom});let ye=fg({oldConfig:y,newConfig:g}),G=new Map;g.series.forEach((de,$e)=>{G.set(de.id,$e)});let W=Ll({chartConfig:g,queryObject:$}),ne=ts(g),Te=tI({chart:t,data:ne?$t:U,config:g,hideEmptySeries:l?.hideEmptySeries??J.options.hideEmptySeries});if(g=Te.updatedConfig,$t&&"dataItems"in $t&&(K||re)){let de=await jh({data:ne&&"meanLines"in $t&&$t.meanLines!==void 0?$t.meanLines:$t.dataItems,chartConfig:g,queryObject:$,allowColorMatch:W});$t.dataItems=de.dataItems,Mi(t.uid,{colorMatchApplied:de.colorMatchApplied,rendererFieldNames:de.rendererFieldNames})}l?.filterBySelection||Mi(t.uid,{data:$t}),$1(t,g.background),U1(t,{title:g.title,subtitle:g.subtitle}),V1(t,g.footer),R1({root:A,chart:t,cursorCrosshair:g.cursorCrosshair,config:g});let Le=We(g.series);switch(Le){case R.PieSeries:{t instanceof Js&&await j4({chart:t,chartConfig:g,options:l,data:$t,dataWasUpdated:K,slicesConfigChangedSinceLastUpdate:ye,chartRendererChanged:re,sortChanged:Xe,queryObject:$,seriesConfig:g.series,loaderHandle:a,colorMatchChanged:Y,utilsStrings:h,errorStrings:c,groupOfSlicesUpdateNeeded:xe,seriesStyleChanged:ge});break}case R.HeatSeries:case R.BarSeries:case R.LineSeries:case R.ComboLineAndBarSeries:case R.ScatterSeries:case R.RadarSeries:case R.GaugeSeries:case R.HistogramSeries:case R.BoxPlotSeries:case R.HeatSeries:t instanceof Ai&&await X4({chart:t,chartConfig:g,options:l,data:$t,dataWasUpdated:K,seriesIndexMapper:G,updateNeededDetails:ae,seriesFilteredOut:Te.seriesFilteredOut,sortChanged:Xe,axisLabelsBehaviorChanged:At,anyGuideAboveChanged:fe,rotationChanged:z,colorMatchChanged:Y,seriesStyleChanged:ge,timeZoneChanged:me,timeIntervalInfoWasReset:Ge,queryObject:$,loaderHandle:a,utilsStrings:h,errorStrings:c});break}t instanceof Bs&&GL({chart:t,chartConfig:g,legend:i,hideEmptySeries:l?.hideEmptySeries,seriesConfig:g.series,isHeatChart:Le===R.HeatSeries,heatChartLegendUpdatedNeeded:nt}),dC({chart:t,actionMode:l?.actionMode,cursorRange:l?.cursorRange}),K||a.hideLoader(),await eI({chart:t,chartModal:r,chartConfig:g,data:$t,errorStrings:c}),await J1({chart:t,chartModal:r,data:$t,errorStrings:c})}else n.updateOptions?.showUIMessages!==!1&&await q1({chartModal:r,chartConfig:g,createMessage:d,status:S,errorStrings:c});Ol(S,A.dom)}async function z4(s){let{chart:t,data:e,chartConfig:i,options:r,queryObject:a,loaderHandle:n,utilsStrings:o,errorStrings:l}=s;await VC({chart:t,chartConfig:i,options:r,utilsStrings:o});let u=e,h=!1,c=i.series;if(t){let f=e&&"dataItems"in e?e.dataItems:[],p=T4({chart:t,data:f,seriesConfig:c,utilsStrings:o});p!==void 0&&(h=!0,u={dataItems:p})}let A=await K1({root:t.root,data:u,chartConfig:i,queryObject:a,labelUpdateNeeded:!0,usePopupTemplateFieldsInfo:r?.usePopupTemplateFieldsInfo,utilsStrings:o}),d=u&&"dataItems"in u?u.dataItems:[];Eb({data:d,newChartConfig:i,pieSlicesSymbols:A}),await Xb({chart:t,chartConfig:i,options:r,data:u,dataWasUpdated:!0,pieSlicesSymbols:A,queryObject:a,loaderHandle:n,utilsStrings:o,errorStrings:l}),Qo({data:u,seriesConfig:c,htmlContainer:t.root.dom}),Ua({data:A,htmlContainer:t.root.dom,chartId:t.get("id"),colorMatchApplied:IA(t)}),h&&Mi(t.uid,{data:u})}async function G4(s){let{chart:t,data:e,chartConfig:i,options:r,queryObject:a,loaderHandle:n,seriesIndexMapper:o,utilsStrings:l,errorStrings:u}=s;Q1(t),H1({chart:t,scrollbarXConfig:i.axes?.[0]?.scrollbar,scrollbarYConfig:i.axes?.[1]?.scrollbar}),await L1({chart:t,chartConfig:i,errorStrings:u}),await I1({chart:t,chartConfig:i,queryObject:a,axisLabelsBehaviorChanged:[!0,!0],data:e,timeIntervalInfo:e?.timeIntervalInfo,xAxisLabelFormatter:r?.xAxisLabelFormatter,yAxisLabelFormatter:r?.yAxisLabelFormatter,secondaryYAxisLabelFormatter:r?.secondaryYAxisLabelFormatter,guideTooltipFormatter:r?.guideTooltipFormatter,gaugeInnerLabelFormatter:r?.gaugeInnerLabelFormatter,utilsStrings:l,errorStrings:u}),await VC({chart:t,chartConfig:i,options:r,utilsStrings:l}),await Xb({chart:t,chartConfig:i,seriesIndexMapper:o,options:r,data:e,dataWasUpdated:!0,timeZoneChanged:!0,queryObject:a,loaderHandle:n,utilsStrings:l,errorStrings:u})}async function Y4(s){let{chartContainer:t,chartConfig:e,options:i,globalOptions:r,t9nStrings:a}=s,{errorStrings:n,utilsStrings:o}=a,{layer:l,view:u,createMessage:h}=i??{};U4(),t==null&&await Bu("divNode",n);let c;e!==void 0&&(Vo(e)?c=e:c=cf({chartConfig:e,queryObject:l})),c=await ff(c,l);let A;(Vo(c)||l!==void 0)&&(A=await yd({chartConfig:c,layer:l,view:u}));let d=Q4(t);wN(d,r?.enableResponsiveFeatures);let f=H4(d,c);await N4(f,t);let p,m=nj({root:d,chart:f,options:i}),g=k4(d);CN(d,r?.useAnimatedCharts);let y=await hg({input:c,queryObject:A,allowUsingObjectIdStat:i?.allowUsingObjectIdStat});if(y.valid&&!f.isDisposed()){c=xf(c,t),m.showLoader(i?.hideLoaderAnimation!==!0);let C=m.hideLoader,S=Pt(c.series),P=Sn(c);Mi(f.uid,{options:i,filterBySelection:i?.filterBySelection,config:c,queryObject:A,isNonAggregatedChart:!gf(S),isRotated:P}),M1({root:d,chart:f,config:c}),R1({root:d,chart:f,cursorCrosshair:c.cursorCrosshair,config:c});let{title:F,subtitle:O,footer:$}=c;ej(d,f),U1(f,{title:F,subtitle:O}),tj(f),V1(f,$),Y2(d,f),$1(f,c.background);let L=await Pn(A,i?.usePopupTemplateFieldsInfo);Mi(f.uid,{fieldList:L});let{data:E,queryConfig:D,valid:H,invalidType:te,count:K}=await Qh({chartConfig:c,queryObject:A,options:i,fieldList:L,errorStrings:n,abortKey:qL(f)});if(!H)await Wb({chart:f,chartModal:g,invalidType:te,elementCount:K,seriesCount:c.series.length,chartConfig:e,errorStrings:n}),m.hideLoader();else{Mi(f.uid,{options:i,queryConfig:D,initialized:H,elementCount:K,boxPlotMeanLinesData:E!==void 0&&"meanLines"in E?E.meanLines:void 0,timeIntervalInfo:E!==void 0&&"timeIntervalInfo"in E?E.timeIntervalInfo:void 0});let ae=new Map;c.series.forEach((Y,ge)=>{ae.set(Y.id,ge)});let ie=Eo(E),fe=ts(c);if(c=tI({chart:f,hideEmptySeries:i?.hideEmptySeries??J.options.hideEmptySeries,data:fe?E:ie,config:c}).updatedConfig,E&&"dataItems"in E){let Y=await jh({data:fe&&"meanLines"in E&&E.meanLines!==void 0?E.meanLines:E.dataItems,queryObject:A,chartConfig:c,allowColorMatch:Ll({chartConfig:c,queryObject:A})});E.dataItems=Y.dataItems,Mi(f.uid,{colorMatchApplied:Y.colorMatchApplied,rendererFieldNames:Y.rendererFieldNames})}Mi(f.uid,{queryConfig:D,initialized:H,elementCount:K,data:E});let z=Pt(c.series);We(c.series)===R.BoxPlotSeries&&z!==Ie.BoxPlotMonoField&&z!==Ie.BoxPlotMonoFieldAndSplitBy&&(Hh({arrayToSort:ie,chartConfig:c,fieldList:L}),G1({chart:f,chartData:ie,chartConfig:c})),Qo({data:E,seriesConfig:c.series,htmlContainer:t}),lj(d,C),f instanceof Ai?await G4({chart:f,data:{...E,dataItems:ie,meanLines:pe(f.uid,"boxPlotMeanLinesData")},chartConfig:c,options:i,queryObject:A,loaderHandle:m,utilsStrings:o,errorStrings:n}):f instanceof Js&&await z4({chart:f,data:E,chartConfig:c,options:i,queryObject:A,loaderHandle:m,utilsStrings:o,errorStrings:n}),f instanceof Bs&&(p=AO({chart:f,seriesConfig:c.series,isHeatChart:We(c.series)===R.HeatSeries}),GL({chart:f,chartConfig:c,legend:p,hideEmptySeries:i?.hideEmptySeries,seriesConfig:c.series})),dC({chart:f,actionMode:i?.actionMode,cursorRange:i?.cursorRange}),tH(f)}await eI({chart:f,chartModal:g,chartConfig:c,data:E,errorStrings:n}),await J1({chart:f,chartModal:g,data:E,errorStrings:n})}else Mi(f.uid,{initialized:!1}),!f.isDisposed()&&i?.showUIMessages!==!1&&await q1({chartModal:g,chartConfig:c,createMessage:h,status:y,errorStrings:n});Ol(y,d.dom);function x(){o2(f)}return{update:async C=>{p===void 0&&(p=AO({chart:f,seriesConfig:C.newChartConfig.series})),await W4({chart:f,queryObject:A,legend:p,chartModal:g,loaderHandle:m,updateProps:C})},dispose:()=>V4(d),notify:(C,S,P)=>E4({chartModal:g,chart:f,message:C,heading:S,options:P}),resetZoom:x,clearSelection:()=>wh({chart:f}),switchSelection:async()=>await $4(f),exportImage:async C=>await KN({root:d,exportOptions:C}),setActionMode:(C,S)=>dC({chart:f,actionMode:C,cursorRange:S})}}var Ob=new Map;function jn(s){s!==void 0&&Ob.delete(s)}function Gc(s,t){let e=Ob.get(s)??{};Ob.set(s,{...e,...t})}function Yc(s,t){return Ob.get(s)?.[t]}function K4(s,t){return Yc(s,t)}function Z4(s,t){Gc(s,t)}function q4(s,t){return Yc(s,t)}function J4(s,t){Gc(s,t)}function le(s,t){return Yc(s,t)}function It(s,t){Gc(s,t)}function Nt(s,t){return Yc(s,t)}function qr(s,t){Gc(s,t)}function Ns(s,t){return Yc(s,t)}function Ls(s,t){Gc(s,t)}function eX(s,t){return Yc(s,t)}function tX(s,t){Gc(s,t)}function ys(s,t){return Yc(s,t)}function yl(s,t){Gc(s,t)}var q={...wt};async function iX(s=tf(document.documentElement).t9nLocale){let t=await import("./5QDL2OMY.js");switch(s){case"ar":t=await import("./HIXHG6XZ.js");break;case"bs":t=await import("./UCBDQFFF.js");break;case"bg":t=await import("./TGJJDIKJ.js");break;case"ca":t=await import("./ECVV75FN.js");break;case"cs":t=await import("./C65POYHB.js");break;case"da":t=await import("./2AXTUVGQ.js");break;case"de":t=await import("./ULXFXWYX.js");break;case"el":t=await import("./X2CW7XU4.js");break;case"es":t=await import("./AB5MZYDE.js");break;case"et":t=await import("./2DPFPXBI.js");break;case"fi":t=await import("./TCXSBNMJ.js");break;case"fr":t=await import("./BLFBSKL3.js");break;case"he":t=await import("./NLLJQAIP.js");break;case"hr":t=await import("./UW36CXM3.js");break;case"hu":t=await import("./KEHZCTB6.js");break;case"id":t=await import("./5PMU3TDY.js");break;case"it":t=await import("./KUNDTQGK.js");break;case"ja":t=await import("./GJSARAXV.js");break;case"ko":t=await import("./NCNGL4ZO.js");break;case"lt":t=await import("./7DQ6A2RD.js");break;case"lv":t=await import("./LURXKBA4.js");break;case"no":t=await import("./OGDUZ3MY.js");break;case"nl":t=await import("./3XKIEH4L.js");break;case"pl":t=await import("./DYAD663L.js");break;case"pt-BR":t=await import("./YIW4SPCE.js");break;case"pt-PT":t=await import("./6I2YZXXK.js");break;case"ro":t=await import("./TIJMLP3I.js");break;case"ru":t=await import("./I4TAZ5MT.js");break;case"sr":t=await import("./KAX4EYKW.js");break;case"sk":t=await import("./THR6V5L2.js");break;case"sv":t=await import("./WHEJSHSR.js");break;case"th":t=await import("./3U7IGGPS.js");break;case"tr":t=await import("./7A7Z6OHA.js");break;case"uk":t=await import("./ZEVSMXKO.js");break;case"vi":t=await import("./2CBQ2BDH.js");break;case"zh-CN":t=await import("./GLOHBONH.js");break;case"zh-HK":t=await import("./Z7ONPSJ6.js");break;case"zh-TW":t=await import("./Z7ONPSJ6.js");break}let e=(await mx(s)).customAmchartsStrings;return{...t.default,...e}}function yn(s){let{type:t,iLocale:e,formatLocale:i=pf(document.documentElement)}=s,r;switch(t){case R.NumberAxisFormat:{r=new Kl,r.language.locale=e,r.intlLocales=i;break}case R.DateAxisFormat:{r=new An,r.language!==void 0&&(r.language.locale=e),r.intlLocales=i;break}}return r}function AC(s){let{axis:t,valueFormat:e,chartType:i}=s,r=Ag({isXAxis:!0,chartType:i,valueFormat:e}),a=eo(e)&&t instanceof Ct,n=Sa(e)&&t instanceof Ne&&!(t instanceof Ct),o=r&&t instanceof Ut;return!a&&!n&&!o}function HC(s,t){let e=typeof t=="number"?`${t}`:t,i=Ns(s.uid,"numberFormatter");return i!==void 0&&(e=i(t)),Ki(e)&&(e=q.htmlEmptyContent),Ur(e)}function rX(s){s.renderer.labels.template.html=q.htmlEmptyContent,s.renderer.labels.template.adapter.add("htmlOutput",(t,e)=>HC(s,e?.dataItem?.value??t),0)}function iI(s){let{axis:t,defaultOutput:e,dataItem:i}=s,r=e,a=Ns(t.uid,"categoryFormatter"),n=Ns(t.uid,"numberFormatter");if((n!==void 0||a!==void 0)&&i instanceof ml){let o=le(t.chart.uid,"config"),l=le(t.chart.uid,"rendererFieldNames"),u=to({value:i.category,dataContext:i.dataContext,useRendererLabel:wd(o,l),config:o});if(typeof u=="number"&&n!==void 0)r=n(u);else if(a!==void 0){let h=Pt(o?.series);if([Ie.BoxPlotMonoField,Ie.BoxPlotMultiFields,Ie.BoxPlotMonoFieldAndSplitBy,Ie.BoxPlotMultiFieldsAndSplitBy,Ie.BarAndLineFromFields].includes(h)&&typeof u=="string"){let A=le(t.chart.uid,"fieldList");u=wr(A,u)}let c=io(i.dataContext);c===void 0&&(c=u),r=a(u,c)}}return Ki(r)&&(r=q.htmlEmptyContent),Ur(r)}function sX(s){s.renderer.labels.template.html=q.htmlEmptyContent,s.renderer.labels.template.adapter.add("htmlOutput",(t,e)=>iI({axis:s,defaultOutput:t,dataItem:e?.dataItem}),0)}function aX(s){let{axis:t,defaultOutput:e,dataItem:i}=s,r=e,a=Ns(t.uid,"dateFormatter");return a!==void 0&&i instanceof dh&&(r=a(i.value??e)),Ki(r)&&(r=q.htmlEmptyContent),Ur(r)}function nX(s){s.renderer.labels.template.adapter.add("htmlOutput",(t,e)=>aX({axis:s,dataItem:e?.dataItem,defaultOutput:t}),0),s.renderer.labels.template.adapter.disableKey("htmlOutput")}function oX(s){s.renderer.labels.template.adapter.add("htmlOutput",t=>{let e=t,i=Ns(s.uid,"fontStyleCallback");return i!==void 0&&(e=i(e)),Ur(e)},1)}function lX(s){s instanceof Ne&&!(s instanceof Ct)?rX(s):s instanceof Ut?sX(s):s instanceof Ct&&nX(s),oX(s)}function uX(s){let{axis:t,formatOptions:e,dateAxisFormatter:i}=s;if(Ls(t.uid,{dateFormatter:i}),i===void 0){t.renderer.labels.template.adapter.isEnabled("htmlOutput")&&(t.renderer.labels.template.adapter.disableKey("htmlOutput"),t.renderer.labels.each(n=>{n.element instanceof xp&&n.element.removeChildren()}));let r={...Jn(e)},a=["year","month","day","hour","minute","second"];t.timezone!==r.timeZone&&(t.setPropertyValue("timezone",r.timeZone),t.chart.validateData()),t.dateFormatter.timezone=r.timeZone,delete r.timeZone;for(let n=0;n<a.length;n+=1){let o=a[n],l=n===0?o:a[n-1],u=e?.formatPerDateTimeUnit?.[o]??r,h=e?.formatPerDateTimeUnit?.[l];Ih(u)||(t.dateFormats.setKey(o,u),t.periodChangeDateFormats.setKey(o,h??u))}t.dateFormats.getKey("day")||t.dateFormats.setKey("day",q.dayDefaultFormat),t.periodChangeDateFormats.getKey("day")||t.periodChangeDateFormats.setKey("day",q.dayDefaultFormat),t.dateFormats.getKey("week")||t.dateFormats.setKey("week",t.dateFormats.getKey("day")??q.weekDefaultFormat),t.periodChangeDateFormats.getKey("week")||t.periodChangeDateFormats.setKey("week",t.periodChangeDateFormats.getKey("day")??q.weekDefaultFormat),t.invalidateLabels()}else t.renderer.labels.template.html=q.htmlEmptyContent,t.renderer.labels.template.adapter.enableKey("htmlOutput")}function hX(s,t,e,i){let r=yn({type:R.NumberAxisFormat,iLocale:t,formatLocale:e});return r.numberFormat=s,a=>{let n=0;return a instanceof Date?a.toLocaleString(void 0,s):(n=typeof a!="string"?a??0:yx(a,r.intlLocales),i===!0&&s.style==="percent"&&(n/=100),r.format(n))}}function kO(s){let{axis:t,formatOptions:e,overridePercentMultiplication:i,valueAxisFormatter:r}=s,a=Jn(e),n=le(t.chart.uid,"formatLocale");Ls(t.uid,{numberFormatter:r??hX(a,t.chart.language.locale,n,i)})}function cX(s){let{axis:t,formatOptions:e,categoryAxisFormatter:i}=s,r=i!==void 0?i:bg(e.characterLimit);Ls(t.uid,{categoryFormatter:r})}function dX(s){let{axis:t,labelsTextSymbol:e,axisValueFormatter:i}=s,r=le(t.chart.uid,"config")?.horizontalAxisLabelsBehavior;if(Ls(t.uid,{axisLabelsBehavior:r}),i!==void 0)Ls(t.uid,{fontStyleCallback:void 0});else if(Ns(t.uid,"fontStyleCallback")===void 0){let a=n=>{let o=Ns(t.uid,"axisLabelsBehavior");return Ws({textSymbol:e,placeholderString:n,format:"html",axisLabelsBehavior:o,defaults:{maxWidth:t.renderer.labels.template.maxWidth}})};Ls(t.uid,{fontStyleCallback:a})}}async function AX(s){let{axis:t,isXAxis:e,formatOptions:i,labelsTextSymbol:r,overridePercentMultiplication:a,chartType:n,axisValueFormatter:o,errorStrings:l}=s,u=Ag({isXAxis:e,chartType:n,valueFormat:i}),h=!1;!(t instanceof Ct)&&Sa(i)?kO({axis:t,formatOptions:i,overridePercentMultiplication:a,valueAxisFormatter:o}):t instanceof Ct&&eo(i)?uX({axis:t,formatOptions:i,dateAxisFormatter:o}):t instanceof Ut?vd(i)||u?(cX({axis:t,formatOptions:i,categoryAxisFormatter:o}),Ls(t.uid,{numberFormatter:void 0})):Sa(i)?(kO({axis:t,formatOptions:i,overridePercentMultiplication:a,valueAxisFormatter:o}),Ls(t.uid,{categoryFormatter:void 0})):h=!0:h=!0,h&&await Bu("mismatchAxisAndValueFormat",l),dX({axis:t,labelsTextSymbol:r,axisValueFormatter:o}),t.invalidateLabels()}var Oe={Ready:"ready",Hidden:"hidden",Shown:"shown",Hit:"hit",DoubleHit:"doublehit",Up:"up",SelectEnded:"selectended",Over:"over",Out:"out",SizeChanged:"sizechanged",VisibilityChanged:"visibilitychanged",PositionChanged:"positionchanged",Validated:"validated",DataItemsValidated:"dataitemsvalidated",Inited:"inited",Opened:"opened",Closed:"closed",ChildAdded:"childadded",DataRangeChanged:"datarangechanged",LayoutValidated:"layoutvalidated"};function Kt(s,t){t===!1&&!s.isHiding?(s.visible=!1,s.hide()):s.isShowing||(s.visible=!0,s.show())}function fX(s,t){for(let e=0;e<t.length;e+=1){let i=t[e][0],r=t[e][1],a=s.length;i>=0&&i<a&&r>=0&&r<a&&s.swap(t[e][0],t[e][1])}}function rI(s,t){let e;if(s!==void 0&&"rgb"in s&&s.rgb!==void 0){let i=s.rgb;if(i!==void 0){let{r,g:a,b:n}=i;e=[r,a,n,255]}}return e}function Uc(s){let t=s??[0,0,0,255];return new xt({a:t[3]/255,b:t[2],g:t[1],r:t[0]})}function Pr(s){return s.bullets.values.find(t=>eX(t.uid,"isBulletMarker"))}function lm(s){return $d(s.uid.toString(),dL)}function an(s){return s!=null&&!s.isDisposed()}function tm(s){return(s.isShowing||s.visible)&&!s.isHidden&&!s.isHiding&&!s.disabled&&!s.__disabled}function sI(s,t){return s.pixelX<0||s.pixelX>t?.plotContainer?.measuredWidth||s.pixelY<0||s.pixelY>t?.plotContainer?.measuredHeight}function pX(s){let t;return s.baseSprite instanceof Lt||s.baseSprite instanceof Xi?t=s.baseSprite:(s instanceof uh||s instanceof AA)&&(t=s.axis.chart),t}function mX(s){return rI(s.background.fill)}function gX(s){let{fill:t,rotation:e,isLinePattern:i,chartBackgroundColor:r}=s,a;return i!==!1?(a=new kc,a.width=q.patternLineProperties.width??Number.NaN,a.height=q.patternLineProperties.height??Number.NaN,a.strokeWidth=q.patternLineProperties.strokeWidth??Number.NaN,a.stroke=t,a.rotation=e??Number.NaN):(a=new Ec,a.rectWidth=q.patternRectProperties.rectWidth??Number.NaN,a.rectHeight=q.patternRectProperties.rectHeight??Number.NaN,a.width=q.patternRectProperties.width??Number.NaN,a.height=q.patternRectProperties.height??Number.NaN,a.fillOpacity=q.patternRectProperties.fillOpacity??Number.NaN,a.strokeWidth=q.patternRectProperties.strokeWidth??Number.NaN,a.fill=Uc(r),a.stroke=t,a.rotation=e??Number.NaN),a}function EO(s){let t=Number.NaN;if(typeof s=="number")t=s;else if(s.includes("%")){let e=Number.parseFloat(s.trim().replace("%","").trim());Number.isFinite(e)&&(t=ue(e))}return t}function yX(s){let{fill:t,style:e,chartBackgroundColor:i}=s,r,a,n=!0;switch(e){case Xs.Horizontal:{a=0;break}case Xs.Vertical:{a=90;break}case Xs.ForwardDiagonal:{a=45;break}case Xs.BackwardDiagonal:{a=135;break}case Xs.DiagonalCross:case Xs.Cross:{a=0,n=!1;break}case Xs.Solid:}return a!==void 0&&(r=gX({fill:t,rotation:a,isLinePattern:n,chartBackgroundColor:i})),r}function oa(s,t){let e;t!==void 0&&(e=Uc(t));let i=e??new xt({r:0,g:0,b:0,a:0});if(s!=null){let[r,a,n,o]=s;i=new xt({r,g:a,b:n,a:o/255})}return i}function aI(s,t=0){return(s??t)%360}function bX(s,t){return t!==!0||s?.includes("Dot")===!0?"round":"square"}function vX(s,t){let e="",i=(t??0)/2,r=0-i,a=0+i,n=0-i,o=0+i;switch(s){case Ba.Circle:e=`M ${r},0 a ${i},${i} 0 1,0 ${i*2},0 a ${i},${i} 0 1,0 ${-i*2},0`;break;case Ba.Cross:e=`M ${r},0 L ${a},0 M 0,${n} L 0,${o} E`;break;case Ba.Diamond:e=`M ${r},0 L 0,${n} L ${a},0 L 0,${o} L ${r},0 Z`;break;case Ba.Square:e=`M ${r},${o} L ${r},${n} L ${a},${n} L ${a},${o} L ${r},${o} Z`;break;case Ba.Triangle:e=`M ${r},${o} L 0,${n} L ${a},${o} L ${r},${o} Z`;break;case Ba.X:e=`M ${r},${o} L ${a},${n} M ${r},${n} L ${a},${o} E`;break}return e}function nI(s,t){let e="none";switch(s??t){case gi.Justify:case gi.Center:e="center";break;case gi.Left:e="left";break;case gi.Right:e="right";break}return e}function jC(s,t){let e="middle";switch(s??t){case gi.Right:e="left";break;case gi.Left:e="right";break;case gi.Center:case gi.Justify:}return e}function xX(s,t){let e="none";switch(s??t){case Zt.Baseline:case Zt.Middle:e="middle";break;case Zt.Top:e="top";break;case Zt.Bottom:e="bottom";break}return e}function oI(s,t){let e=Zt.Middle;switch(s??t){case Zt.Top:e="bottom";break;case Zt.Bottom:e="top";break;case Zt.Baseline:case Zt.Middle:default:e="middle";break}return e}function _X(s,t){let e=s??_s.Solid,i=t??q.lineWidth,r={[_s.Solid]:"none",[_s.Dot]:[1,i],[_s.DashDotDot]:[4*i,i,1,i,1,i],[_s.Dash]:[4*i,3*i],[_s.DashDot]:[4*i,3*i,1,3*i],[_s.Null]:"none"};return(r[e]??r[_s.Null]).toString()}function lI(s,t){let e={stroke:oa(),strokeWidth:q.lineWidth,strokeDasharray:"",strokeLinecap:t!==!0?"round":"square",strokeOpacity:fd};return s!=null&&(e.stroke=oa(s.color),e.strokeOpacity=1,s.width!==void 0&&(e.strokeWidth=s.width),s.style!==void 0&&s.style!==_s.Null&&(e.strokeDasharray=_X(s.style,e.strokeWidth),e.strokeLinecap=bX(s.style,t))),e}function uI(s,t){let e=s,[i,r,a,n]=s?.color??t??q.color,o=[i,r,a,n];return e==null?e={type:qt.SLS,color:o}:e.color===void 0&&(e.color=o),lI(e,!1)}function wX(s,t){let{color:e,outline:i,style:r}=s,a=oa(e);return{pattern:yX({fill:a,style:r,chartBackgroundColor:t}),fill:a,outline:uI(i,e)}}function CX(s){let{color:t,outline:e,xoffset:i,yoffset:r,style:a,size:n,angle:o}=s,l=a!==void 0?vX(a,n):"",u=aI(o);return{path:l,fill:oa(t),outline:uI(e,t),xOffset:i??0,yOffset:r??0,angle:u}}function XC(s){let{symbol:t,defaultToColorFromRamp:e,colorRampIndex:i,isChartFillSymbol:r=!1,chartBackgroundColor:a}=s,n;if(e===!0){let o=r?rf:fd;if(t.color=t.color??qn({colorIndex:i,opacity:o}),df(t)||Rh(t)){let{outline:l}=t;l!==void 0&&(l.color=l?.color??qn({colorIndex:i}),t.outline={...l})}}return Rh(t)&&(t.style??=q.lineMarker.markerStyle,t.size??=q.lineMarker.markerSize),fx(t)?n=lI(t,!0):Rh(t)?n=CX(t):df(t)&&(n=wX(t,a)),n}function Lb(s,t,e){let i=jC(s.horizontalAlignment,e?.horizontalCenter),r=nI(s.horizontalAlignment,e?.align),a=oI(s.verticalAlignment,e?.verticalCenter),n=xX(s.verticalAlignment,e?.valign);return{fill:oa(s.color,q.color),fontFamily:s.font?.family??"Arial, Helvetica, sans-serif",fontSize:s.font?.size??q.generalFontSize,fontWeight:s.font?.weight??"400",textDecoration:s.font?.decoration??"none",align:r,valign:n,verticalCenter:a,horizontalCenter:i,text:Ws({textSymbol:s,format:"amChartsV4"}),angle:aI(s.angle,e?.rotation),xOffset:s.xoffset??e?.dx??0,yOffset:s.yoffset??e?.dy??0,backgroundFill:oa(s.backgroundColor),borderFill:oa(s.borderLineColor),borderWidth:s.borderLineSize??1,haloSize:s.haloSize??-1,haloColor:oa(s.haloColor),rtl:s.rightToLeft??t,wrap:e?.wrap??!1,maxWidth:e?.maxWidth??Number.NaN}}function hI(s,t,e){e!==void 0&&s.tooltip!==void 0&&(s.tooltip.getFillFromObject=!1,s.tooltip.background.fill=t),s.fill=e??t,s.fillOpacity=Ve(s.fill.toString()).alpha===0?0:1}function wA(s,t){s.stroke=t.stroke,s.strokeOpacity=t.stroke.alpha===0?0:1,s.strokeDasharray=t.strokeDasharray,s.strokeLinecap=t.strokeLinecap,s.strokeWidth=t.strokeWidth}function WC(s){let{element:t,markerSymbol:e,visible:i,defaultToColorFromRamp:r,colorRampIndex:a}=s,n;return e!==void 0?(n=XC({symbol:{...e,size:t.minWidth??e.size},defaultToColorFromRamp:r,colorRampIndex:a}),n!==void 0&&(t.path=n.path,t.rotation=n.angle,t.dx=n.xOffset,t.dy=n.yOffset,hI(t,n.fill),wA(t,n.outline)),Kt(t,i),t.disabled=i===!1):t.disabled=!0,n}function Co(s){let{element:t,lineSymbol:e,visible:i,defaultToColorFromRamp:r,colorRampIndex:a}=s,n;return e!==void 0?(n=XC({symbol:e,defaultToColorFromRamp:r,colorRampIndex:a}),n!==void 0&&wA(t,n),Kt(t,i)):Kt(t,!1),n}function im(s){let{element:t,fillSymbol:e,visible:i,defaultToColorFromRamp:r,colorRampIndex:a,isChartFillSymbol:n}=s,o,l;if(e!==void 0){if(e.style===Xs.Cross||e.style===Xs.DiagonalCross){let u=pX(t);u!==void 0&&(l=mX(u))}o=XC({symbol:e,defaultToColorFromRamp:r,colorRampIndex:a,isChartFillSymbol:n,chartBackgroundColor:l}),o!==void 0&&(hI(t,o.fill,o.pattern),wA(t,o.outline)),t.disabled=i===!1}else t.disabled=!0;return o}function nu(s){let{element:t,seriesIndex:e,colorMatch:i,seriesSymbol:r,isChartFillSymbol:a,rendererSymbol:n,seriesConfig:o}=s,l,u;i===!0&&n&&(l=Qx({rendererSymbol:n,seriesSymbol:r,colorIndex:e}));let h={element:t,defaultToColorFromRamp:!0,colorRampIndex:e,seriesConfig:o},c=l??{...r};switch(r.type){case qt.SLS:u=Co({...h,lineSymbol:c});break;case qt.SFS:u=im({...h,fillSymbol:c,isChartFillSymbol:a});break;case qt.SMS:u=WC({...h,markerSymbol:c});break}return{symbolWithColorInfo:c,stylingInfo:u}}function MO(s,t){if(t!==void 0){let e=s.properties,{elementColor:i,elementOutlineColor:r,elementOutlineWidth:a,rotation:n,transformation:o}=t,{opacity:l,scale:u}=o??{};i!==void 0&&(e.fill=Uc(i),e.fillOpacity=Ve(e.fill.toString()).alpha===0?0:1),r!==void 0&&(e.stroke=Uc(r)),a!==void 0&&(e.strokeWidth=a),n!==void 0&&(e.rotation=n),u!==void 0&&(e.scale=u),l!==void 0&&(e.fillOpacity=(e.fillOpacity??1)*l,e.strokeOpacity=(e.strokeOpacity??1)*l)}}function BX(s,t){let e=q.cursorCrosshair.style,i={type:qt.SLS,style:t.style??e.style,color:t.color??e.color,width:t.width??e.width};Co({element:s.cursor.lineX,lineSymbol:i}),Co({element:s.cursor.lineY,lineSymbol:i})}function cI(s){!(s instanceof Vs)&&!(s instanceof Xi)&&(s.cursor=new $c)}function dI(s,t){if(!(s instanceof Vs)&&!(s instanceof Xi)){let e=s,i=e.cursor??new $c;t?.style!==void 0&&BX(e,t.style);let r=q.cursorCrosshair;i.lineX.disabled=r.verticalLineVisible?t?.verticalLineVisible===!1:t?.verticalLineVisible!==!0,i.lineY.disabled=r.horizontalLineVisible?t?.horizontalLineVisible===!1:t?.horizontalLineVisible!==!0,e.cursor=i}}function SX(s){return!(s instanceof Vs)&&s.cursor===void 0&&cI(s),s.cursor}function fC(s,t){let e=s.renderer.labels.template;e.events.hasListenersByType(Oe.Hit)&&(e.cursorOverStyle=t),s.renderer.labels.each(i=>{i.cursorOverStyle=t})}function PX(s){let{chart:t,chartType:e,showMean:i,enabled:r}=s,a=r?li.pointer:li.default;switch(e){case R.HistogramSeries:case R.ComboLineAndBarSeries:case R.BarSeries:case R.PieSeries:t.series.each(n=>{(n instanceof Fi||n instanceof Ts)&&(n.cursorOverStyle=a)});break;case R.BoxPlotSeries:t.series.each(n=>{let o=a;if(n instanceof ai){let l=Pr(n);l!==void 0&&(i&&Nt(n.uid,"isBoxPlotOutliersSeries")&&(o=li.default),l.cursorOverStyle=o,l.clones.each(u=>{u.cursorOverStyle=o}))}else n.cursorOverStyle=i?li.default:a});break;case R.LineSeries:case R.ScatterSeries:t.series.each(n=>{if(n instanceof ai&&Nt(n.uid,"isOverlay")!==!0){let o=Pr(n);o!==void 0&&(o.cursorOverStyle=a,o.clones.each(l=>{l.cursorOverStyle=a}))}});break}}function FX(s){let{chart:t,actionMode:e,cursorRange:i}=s,r=le(t.uid,"isRotated"),a=le(t.uid,"config"),n=ts(a),o=We(a?.series),l=o===R.ScatterSeries,u=o===R.LineSeries&&Sa(a?.axes?.[0]?.valueFormat),h=o===R.LineSeries&&vd(a?.axes?.[0]?.valueFormat),c=o===R.LineSeries&&eo(a?.axes?.[0]?.valueFormat),A,d=!1,f=e??le(t.uid,"actionMode")??q.actionMode;if(le(t.uid,"filterBySelection")===!0)A=Wi.None,d=!1;else if(i!==void 0)A=k1({actionMode:f,cursorRange:i,isRotated:r});else switch(f){case Ht.Zoom:l||u||c?A=Wi.ZoomXY:A=r===!0?Wi.ZoomY:Wi.ZoomX,d=!1;break;case Ht.MultiSelection:case Ht.MultiSelectionWithCtrlKey:h?A=r===!0?Wi.SelectY:Wi.SelectX:A=Wi.SelectXY,d=!0;break;case Ht.MonoSelection:A=Wi.None,d=!0;break;case Ht.None:A=Wi.None,d=!1;break}t instanceof Lt&&t.cursor!==void 0&&A!==void 0&&(t.cursor.behavior=A),PX({chart:t,chartType:o,enabled:d,showMean:n})}function AI(s){let t="";return s instanceof Zr?t=s.dataFields?.categoryX??s.dataFields?.dateX??s.dataFields?.valueX??"":s instanceof Ts&&(t=s.dataFields?.category??""),t}function fI(s){let t="";return s instanceof Zr?t=s.dataFields?.categoryY??s.dataFields?.dateY??s.dataFields?.valueY??"":s instanceof Ts&&(t=s.dataFields?.value??""),t}function pI(s){return le(s.chart.uid,"isRotated")===!0?fI(s):AI(s)}function Ch(s){return le(s.chart.uid,"isRotated")===!0?AI(s):fI(s)}function zb(s,t=0){let e=le(s.chart.uid,"config");return We(e?.series,t)}function Vc(s){let{value:t,valueFormat:e,iLocale:i,formatLocale:r}=s,a=t?.toString(),n=yn({type:e.type,iLocale:i,formatLocale:r});return typeof t=="number"&&e.type===R.NumberAxisFormat?a=n.format(t,Jn(e)):(typeof t=="number"||t instanceof Date)&&e.type===R.DateAxisFormat&&(a=n.format(t,Jn(e))),a}function bn(s){let{chart:t,config:e}=s,i=e;return e===void 0&&t!==void 0&&(i=le(t.uid,"config")),Sn(i)}function TX(s){s instanceof ql&&s.series.each(t=>{jn(t.uid),t instanceof ai&&jn(Pr(t)?.uid),t.bullets.each(e=>{jn(e.uid)}),t instanceof Fi&&t.columns.template.children.each(e=>{jn(e.uid)})}),s instanceof Lt&&[s.xAxes.getIndex(0),s.xAxes.getIndex(1),s.yAxes.getIndex(0),s.yAxes.getIndex(1)].forEach(t=>{t!==void 0&&(jn(t.uid??""),t.axisRanges.each(e=>{jn(e.label?.uid)}))}),s instanceof Vs&&s.radarContainer.children.each(t=>{jn(t.uid)}),s instanceof Xi&&s.series.getIndex(0)?.slices.each(t=>{jn(t.uid)}),"cursor"in s&&s.cursor instanceof xA&&jn(s.cursor?.uid),"legend"in s&&s.legend!==void 0&&(jn(s.legend.uid),jn(s.legend.valueLabels?.template?.uid)),jn(s.uid)}function _b(s){return typeof s=="number"?s:s.value}async function DX(s){let{chart:t,exportOptions:e}=s,{format:i,quality:r=1,...a}=e,n=r<0||r>1?1:r,o=await t.exporting.getImage(i,{quality:n,...a}),l=FL(o),u=i==="jpg"?"image/jpeg":"image/png";return new File([l],`chart.${i}`,{type:u})}function Gb(s,t){t!==void 0&&(t.marginBottom!==void 0&&(s.marginBottom=t.marginBottom),t.marginTop!==void 0&&(s.marginTop=t.marginTop),t.marginRight!==void 0&&(s.marginRight=t.marginRight),t.marginLeft!==void 0&&(s.marginLeft=t.marginLeft),t.verticalCenter!==void 0&&(s.verticalCenter=oI(t.verticalCenter)),t.horizontalCenter!==void 0&&(s.horizontalCenter=jC(t.horizontalCenter)),t.strokeWidth!==void 0&&(s.strokeWidth=t.strokeWidth),t.wrap!==void 0&&(s.wrap=t.wrap),t.truncate!==void 0&&(s.truncate=t.truncate),t.maxWidth!==void 0&&(s.maxWidth=t.maxWidth),t.applyOnClones!==void 0&&(s.applyOnClones=t.applyOnClones,s.background.applyOnClones=t.applyOnClones))}function zn(s,t){let e=t?.createChild(Ei)??new Ei;return Gb(e,s),e}function OX(s){let t=s.push(new hA);t.dx=1,t.dy=1,t.opacity=1}function LX(s,t,e){if(e.alpha>0&&t>=0){s.length===0&&OX(s);let i=s.getIndex(0);i.blur=t,i.color=e}else s.clear()}function IX(s,t){let e=ys(s.uid,"isGuide"),i=t.visible===!1;return!i&&(e===!0||!(s instanceof Al))&&t.content.text===""&&(i=!0),i}function RO(s){let{label:t,offset:e,offsetProperty:i}=s,r=99;if(t.adapter.remove(i,r),typeof e=="string"&&!Number.isFinite(Number(e))){let a=vf(e);a!==void 0&&(a/=100,t.adapter.add(i,()=>(t.parent?.[i==="dx"?"measuredWidth":"measuredHeight"]??0)*a,r))}else t[i]=e}function sn(s){let{label:t,labelConfig:e,defaults:i,skipSettingText:r}=s;if(e!==void 0){let a=Lb(e.content,t.rtl,i);t.fill=a.fill,t.fontFamily=a.fontFamily,t.fontWeight=a.fontWeight,t.fontSize=a.fontSize,t.textDecoration=a.textDecoration,t.align=a.align,t.valign=a.valign,t.verticalCenter=a.verticalCenter,t.horizontalCenter=a.horizontalCenter,t.background.fill=a.backgroundFill,t.background.stroke=a.borderFill,t.background.strokeWidth=a.borderWidth,t.rotation=a.angle,RO({label:t,offset:a.xOffset,offsetProperty:"dx"}),RO({label:t,offset:a.yOffset,offsetProperty:"dy"}),t.rtl=a.rtl,t.wrap=a.wrap,t instanceof Al||(t.maxWidth=a.maxWidth),r||(t.text=a.text),LX(t.filters,a.haloSize,a.haloColor);let n=IX(t,e);t.disabled=n,Kt(t,e.visible!==!1&&!n)}else t.disabled=!0}function zC(s,t){t!==void 0&&(s===R.BarSeries||s===R.LineSeries||s===R.HistogramSeries)&&t.adapter.add("dy",(e,i)=>{let r=i.dataItem,{chart:a}=r?.component??{};return a instanceof Lt&&(i.visible=!sI(i,a)),e??0})}function mI(s,t){t!==void 0&&(s===R.BarSeries&&t.adapter.add("dx",(e,i)=>{let r=e??0,a=i.dataItem,{chart:n}=a?.component??{};return(n!==void 0?le(n.uid,"isRotated"):!1)===!0&&(a.valueX??a.valueY)<0&&(r-=i.measuredWidth+q.dataLabelNegative.paddingRight),r}),(s===R.BarSeries||s===R.LineSeries)&&t.adapter.add("dy",(e,i)=>{let r=e??0,a=i.dataItem,{chart:n}=a?.component??{};return(n!==void 0?le(n.uid,"isRotated"):!1)!==!0&&(a.valueX??a.valueY)<0&&(r+=i.measuredHeight+q.dataLabelNegative.paddingTop),r}))}function pC(s){s.bulletsContainer.invalidateLabels(),s instanceof Fi&&s.columns?.template.invalidateLabels()}function mC(s){let{dataValue:t,series:e,seriesType:i,stackedType:r,axisMin:a}=s,n=t===void 0;return t!==void 0&&(a!==void 0&&t<a?n=!0:e instanceof Fi&&(i===R.BarSeries||i===R.ComboLineAndBarSeries)&&(n=t===0&&r!==void 0&&r!==cr.Side)),n}function rm(s,t){let e,i=r=>ys(r.uid,"isDataLabel")??!1;return t==="bullets"?e=s.bullets.values.find(i):s instanceof Fi&&(e=s.columns.template.children.values.find(i)),e}function gC(s,t){s.adapter.add("htmlOutput",(e,i)=>{let r=e,{dataItem:a}=i;if(tm(s)&&(t instanceof Fi&&a instanceof cs||t instanceof ai&&a instanceof va)){let n=Nt(t.uid,t instanceof Fi?"barSeriesDataLabelFormatter":"lineSeriesDataLabelFormatter");if(n!==void 0){let o=le(t.chart.uid,"isRotated"),l=Nt(t.uid,"stackedType"),u=o===!0?a.valueX:a.valueY,h=o===!0?a.values?.valueX?.totalPercent:a.values?.valueY?.totalPercent,c=o===!0?(a.component?.xAxis).min:(a.component?.yAxis).min;r=mC({dataValue:u,series:t,seriesType:t instanceof Fi?R.BarSeries:R.LineSeries,stackedType:l,axisMin:c})?"":n(u,h)}}return Ur(r)},0)}function gI(s){let{numberFormatter:t,dataLabelsConfigContent:e,stackedType:i}=s;return(r,a)=>{let n=i===cr.Stacked100&&a!==void 0?a:r;return t.numberFormat.style==="percent"&&(n/=100),Ws({textSymbol:{...e,text:t.format(n)},format:"html"})}}function GC(s){s.tabindex=-1}function Yb(s){let{series:t,seriesType:e,dataLabel:i,labelDefaults:r,dataLabelsConfig:a,yAxisValueFormat:n,stackedType:o,isRotated:l,defaultDataLabelFormatter:u,customDataLabelFormatter:h}=s;if(i!==void 0){let c=h,A=a?.content??{type:qt.TS};if(h===void 0&&u!==void 0&&n?.type===R.NumberAxisFormat){let f=le(t.chart.uid,"formatLocale"),p=yn({type:n.type,iLocale:t.chart.language.locale,formatLocale:f});p.numberFormat=n.intlOptions,c=u({numberFormatter:p,dataLabelsConfigContent:A,stackedType:o})}let d;switch(e){case R.BarSeries:d="barSeriesDataLabelFormatter";break;case R.LineSeries:d="lineSeriesDataLabelFormatter";break;case R.HistogramSeries:d="histogramDataLabelFormatter";break;case R.ScatterSeries:d="scatterplotDataLabelFormatter";break}d!==void 0&&qr(t.uid,{[d]:c}),a!==void 0&&(a.content.text=l===!0?"{valueX}":"{valueY}",a.visible=a.visible!==!1),sn({label:i,labelConfig:a,defaults:r??q.dataLabel}),pC(t)}}function Kc(s,t){let e=t;e===void 0&&(e=le(s.uid,"config"));let i=le(s.uid,"colorMatchApplied")??!1;return(e?.colorMatch??!1)&&i}function yI(s,t){let e;return s instanceof Ct?e=t===!0?"dateY":"dateX":s instanceof Ut?e=t===!0?"categoryY":"categoryX":e=t===!0?"valueY":"valueX",e}function Po(s,t){s.name=t}function bI(s){let{axes:t,currentSeries:e,tooltipValueFormat:i}=s,r=t[1].valueFormat,a=t[0].valueFormat,n=le(e.chart.uid,"formatLocale");if(r?.type===R.NumberAxisFormat){let o=yn({type:r.type,iLocale:e.chart.language.locale,formatLocale:n});o.numberFormat=r.intlOptions,qr(e.uid,{tooltipValueYNumberFormatCallback:l=>o.format(l,i?.intlOptions)})}if(a?.type===R.NumberAxisFormat){let o=yn({type:a.type,iLocale:e.chart.language.locale,formatLocale:n});o.numberFormat=a.intlOptions,qr(e.uid,{tooltipValueXNumberFormatCallback:l=>o.format(l,i?.intlOptions)})}}function Kb(s){let{chart:t,lineSeries:e,applyPropertiesToClones:i}=s,r=e.bullets.push(new ke);return tX(r.uid,{isBulletMarker:!0}),i!==!1&&(r.applyOnClones=!0),e.bulletsContainer.parent=t.seriesContainer,r}function YC(s){let{series:t,seriesConfig:e,rotationChanged:i,stackedType:r,isRotated:a}=s;switch(r){case cr.Stacked:{t.stacked=!0,t instanceof ai&&(t.stackToNegative=e.stackNegativeValuesToBaseline??q.lineSeries.stackNegativeValuesToBaseline),i===a?t.dataFields.valueYShow=void 0:t.dataFields.valueXShow=void 0,t.updateStacking();break}case cr.Stacked100:{t.stacked=!0,a?t.dataFields.valueXShow="totalPercent":t.dataFields.valueYShow="totalPercent",t.updateStacking();break}case cr.Side:default:{t.stacked=!1,i===a?t.dataFields.valueYShow=void 0:t.dataFields.valueXShow=void 0;break}}}function $X(s){return()=>{let{chart:t,marker:e}=s;e.clones.each(i=>{Kt(i,!sI(i,t))})}}function vI(s){let{chart:t,series:e,seriesType:i,marker:r,numberOfChartSeries:a,ignoreSmoothRenderingLimit:n}=s,o=$X({marker:r,chart:t}),l=a??1,u=t.data.length*l+l;n!==!0&&u>q.elementLimitForSmoothRendering&&(o=Wr(o,q.debounceTime)),t.xAxes.getIndex(0)?.events.on(Oe.Validated,o),t.yAxes.getIndex(0)?.events.on(Oe.Validated,o),i===R.LineSeries&&(t.xAxes.getIndex(0)?.events.on(Oe.Validated,()=>{pC(e)}),t.yAxes.getIndex(0)?.events.on(Oe.Validated,()=>{pC(e)}))}function xI(s,t){s.series.each(e=>{let i=Nt(e.uid,t);i!==void 0&&!i.isDisposed()&&i.dispose()})}function kX(s){let t;return s!==void 0&&s.series.length>0&&(t=s.series.values.map(e=>e.visible?e.id:"").filter(e=>e!=="")),t}function rC(s){let{dataItem:t,y:e,splitBy:i,showOutliers:r}=s,a=Zi({key:Jt.Min,y:e,splitBy:i,showOutliers:r}),n=Zi({key:Jt.Max,y:e,splitBy:i,showOutliers:r}),o=Zi({key:Jt.FirstQuartile,y:e,splitBy:i,showOutliers:r}),l=Zi({key:Jt.ThirdQuartile,y:e,splitBy:i,showOutliers:r});return Number.isFinite(t[a])&&Number.isFinite(t[n])&&Number.isFinite(t[o])&&Number.isFinite(t[l])}function EX(s,t){let e=!1;if(t!==void 0){let i=Zi({key:Jt.Average,splitBy:t});e=Number.isFinite(s[i])}return e}function MX(s,t){let e=0;if(s!==void 0&&t!==void 0){let i=Mo(t.series),r=Pt(t.series),a=No(t);s.data.forEach(n=>{switch(r){case Ie.BoxPlotMonoField:case Ie.BoxPlotMultiFields:case Ie.BoxPlotMonoFieldAndCategory:rC({dataItem:n,showOutliers:a})&&(e+=1);break;case Ie.BoxPlotMultiFieldsAndCategory:i.forEach(o=>{rC({dataItem:n,y:o,showOutliers:a})&&(e+=1)});break;case Ie.BoxPlotMonoFieldAndSplitBy:case Ie.BoxPlotMultiFieldsAndSplitBy:case Ie.BoxPlotMonoFieldAndCategoryAndSplitBy:t.series.forEach(o=>{rC({dataItem:n,splitBy:o.query?.where,showOutliers:a})&&(e+=1)});break}})}return e}function UO(){return s=>{let t=le(s.chart.uid,"config"),e=!1;if(t!==void 0&&s instanceof Zr){let i=MX(s.chart,t),r=0,a=0,n=0,o=0,l=0;s.chart.series.values.forEach(c=>{if(c instanceof Or)r+=c.columns.length;else if(c instanceof ai&&!(c instanceof aa)){let A=Pr(c);if(A!==void 0&&!A.disabled){let d=A.clones.values.filter(f=>!(f.dataItem instanceof bo))?.length??0;if(Nt(c.uid,"isBoxPlotMeanLineSeries")===!0){o+=d;let f=c.data.filter(p=>Number.isFinite(p[c.dataFields.valueX??c.dataFields.valueY??""])).length;l+=f}else{let f=c.data.filter(p=>Number.isFinite(p[c.dataFields.valueX??c.dataFields.valueY??""])).length;n+=f,a+=d}}}});let u=n===0||a>=n,h=l===0||o>=l;e=r>=i&&u&&h&&s.chart.appeared&&s.isReady()&&s.chart.isReady()}return e}}function RX(s,t){let e;switch(s){case R.BarSeries:e=(i,r)=>{if(i instanceof Fi){let a=bn({chart:i.chart}),n=0;if(r.type===R.BarSeries){let o=(a?i.dataFields.valueX:i.dataFields.valueY)??r.y;n=i.chart?.data?.filter(l=>Number.isFinite(l[o])).length}return i.chart.isReady()&&i.columns.length===n}return!1};break;case R.LineSeries:t===!0?e=UO():e=(i,r)=>{if(i instanceof ai){let a=bn({chart:i.chart}),n=Pr(i),o=0;if(r.type===R.LineSeries){let{y:l}=r,u=(a?i.dataFields.valueX:i.dataFields.valueY)??[l].flat()[0];o=i.chart?.data?.filter(h=>Number.isFinite(h[u])).length}return i.chart.appeared&&i.chart.isReady()&&n!==void 0&&n.clones.values.length>=o}return!1};break;case R.PieSeries:e=i=>i instanceof Ts&&i.slices.length>0;break;case R.ScatterSeries:e=i=>{let r=i instanceof ai?Pr(i):void 0,a=Nt(i.uid,"isOverlay")===!0;return i.chart.appeared&&i.chart.isReady()&&(a||r!==void 0&&i.chart.data.length===r.clones.length)};break;case R.HistogramSeries:e=i=>i instanceof Fi&&i.columns.length>0;break;case R.BoxPlotSeries:e=UO();break}return e}function _I(s){let{series:t,callbackInfo:e,seriesConfig:i,onReadyEvent:r}=s,{type:a}=e,n=We([i]),o=Nt(t.uid,"isBoxPlotMeanLineSeries"),l=a==="style"?"updateStyleCallbackDisposer":"updateSelectionCallbackDisposer",u=async A=>{let{type:d,callbackProps:f}=A;d==="selection"?wz(f):A.styleCallback!==void 0&&(Kt(t,i.visible),await A.styleCallback(f))};r===!0&&t.events.once(Oe.Ready,async()=>await u(e));let h=Nt(t.uid,l);h!==void 0&&h.dispose();let c=RX(n,o);h=(n===R.PieSeries?t.chart:t).events.on(Oe.Validated,async()=>{c!==void 0&&c(t,i)&&(h!==void 0&&h.dispose(),await u(e))}),t.dispatchImmediately(Oe.Validated),qr(t.uid,{[l]:h})}function Nc(s){let{series:t,styleCallback:e,callbackProps:i,onReadyEvent:r,seriesConfig:a}=s;_I({callbackInfo:{styleCallback:e,callbackProps:i,type:"style"},series:t,seriesConfig:a,onReadyEvent:r})}function UX(s){let{series:t,callbackProps:e,seriesConfig:i,onReadyEvent:r}=s;_I({callbackInfo:{callbackProps:e,type:"selection"},series:t,seriesConfig:i,onReadyEvent:r})}function du(s){let{defaultChartItemRole:t}=q.aria;s instanceof Or||s instanceof Fi?(s.columns.template.properties.role=t,s.columns.template.focusable=!0,s.columns.template.hoverOnFocus=!0,s.itemReaderText=yf()):s instanceof aa?s.segments.template.properties.role=t:s instanceof ai?s.bullets.values.forEach(e=>{e.focusable=!0,e.properties.role=t,e.readerTitle=yf(),e.hoverOnFocus=!0}):s instanceof Ts&&(s.slices.template.properties.role=t,s.slices.template.hoverOnFocus=!0,s.itemReaderText="{category} {value.formatNumber('#.#')} {value.percent.formatNumber('#.#')}%")}function VX(s){let t=le(s.uid,"config");s.series.each(e=>{let i=t?.series?.find(r=>r.id===e.id);i!==void 0&&i.visible!==!1&&!e.visible&&Kt(e)})}function Zb(s,t){let e=We(t?.series);return t?.series.find(i=>{let r=!1;return e!==R.BoxPlotSeries||s instanceof Or?r=s.id===i.id:s instanceof aa?r=s.id.replace(`_${zi.Top}`,"")===i.id||s.id.replace(`_${zi.Median}`,"")===i.id||s.id.replace(`_${zi.Bottom}`,"")===i.id:s instanceof ai&&(r=s.id.replace(`_${zi.Outliers}`,"")===i.id),r})}function NX(s,t){let e=!1;if(t!==void 0&&tm(s)){let i=Dt.spriteRectToSvg(s.bbox,s),r=t.x,a=t.y,n=t.x+t.width,o=t.y+t.height,l=i.x,u=i.y,h=i.x+i.width,c=i.y+i.height;e=!(l>n||h<r||u>o||c<a)}return e}function Au(s){let{element:t,customSelectionTheme:e,useNativeState:i}=s,r=i===!0?na.Active:na.CustomActive,a=t.states.getKey(r)??t.states.create(r),n=t.states.getKey(na.CustomInactive)??t.states.create(na.CustomInactive),{selectedElementsTheme:o,nonSelectedElementsTheme:l}=e??q.selectionTheme??{};MO(a,o),MO(n,l)}function Gn(s){let{element:t,selected:e,multiSelect:i,isDateOrCategoryAxis:r,useNativeState:a,backToDefaultState:n}=s;if(t!==void 0){let o=t.isActive;i!==!0?r===!0?o=t.isActive?!1:t.isActive!==e:o=e:o=t.isActive!==e,o!==t.isActive&&(t.isActive=o);let l=a===!0?na.Active:na.CustomActive,u=n===!0?na.Default:na.CustomInactive;t.setState(t.isActive?l:u,0)}return t?.isActive??!1}function qb(s,t){let e=!1;if(t instanceof Lt||t instanceof Xi){let i=le(t.uid,"actionMode");i!==void 0&&(e=i===Ht.MultiSelection||i===Ht.MultiSelectionWithCtrlKey&&(s?.event?.ctrlKey||s?.event?.metaKey))}return e}function wI(s){let t=le(s.uid,"config"),e=ts(t),i=s instanceof Lt&&s.zoomOutButton.isHover,r=s.legend.isHover,a=!1,n=!1,o=!1,l=!1;return s instanceof Lt&&(a=s.xAxes.values.some(u=>u.renderer.labels.template.events.has(Oe.Hit)&&u.renderer.isHover),n=s.yAxes.values.some(u=>u.renderer.labels.template.events.has(Oe.Hit)&&u.renderer.isHover),o=a||n,e&&(l=s.series.values.find(u=>u instanceof Or)?.isHover??!1)),!i&&!r&&!o&&!l}function KC(s,t){return s.values.filter(e=>{let i=!1,r=!e.isActive;if(!(e.dataItem instanceof bo)){e.isActive=!e.isActive;let a=le(t.uid,"filterBySelection")!==!0&&r;Gn({element:e,selected:a}),i=r}return i})}function VO(s,t){let e=[],{columns:i,chart:r}=s,a=le(r.uid,"config");if(a&&i!==void 0&&s.visible){let n=a?.series[0].x,o=s?.dataFields?.customValue??"",l=zb(s,t),u=Zb(s,a),h=l===R.BoxPlotSeries?u?.y:Ch(s),c={element:{},yAxisField:h,xAxisField:n,splitBy:o,seriesIndex:t,chartConfig:a};l===R.HistogramSeries&&t===0&&(c.xAxisField=o),e=KC(i,r).map(A=>({...c,element:A,elementDataContext:A.dataItem?.dataContext,elementIndex:A.dataItem?.index}))}return e}function NO(s,t){let e=[];if(s.visible){let i=Pr(s)?.clones;if(i!==void 0){let{chart:r}=s,a=le(r.uid,"config");if(a){let n=We(a.series,t),o=a.series[0].x??"",l=Ch(s),u=s?.dataFields?.customValue??"",h={element:{},xAxisField:o,yAxisField:l,splitBy:u,uniqueFeature:n===R.ScatterSeries,seriesIndex:t,chartConfig:a};e=KC(i,r).map(c=>({...h,element:c,elementDataContext:c.dataItem?.dataContext,elementIndex:c.dataItem?.index}))}}}return e}function QX(s){let t=[];if(s.visible){let{chart:e}=s,i=le(e.uid,"config");if(i){let r=pI(s),a=Ch(s),n={element:{},xAxisField:r,yAxisField:a,seriesIndex:0,chartConfig:i},o;t=KC(s.slices,e).map(l=>{let u=l.dataItem?.dataContext??{};return Ho(u)&&(o=am({groupOfSlicesDataContext:u})),{...n,element:l,elementIndex:l.dataItem?.index,elementDataContext:u}}),o!==void 0&&o.forEach((l,u)=>{t.push({...n,elementIndex:u,elementDataContext:l})})}}return t}function HX(s){let{chart:t,selectionSource:e,chartConfig:i}=s,r=ts(i),a=[];if(We(i?.series)===R.BoxPlotSeries){if(a=t.series.values.filter(n=>!(n instanceof aa)),e===kr.SelectionByClick){let n=new Set,o=a.find(l=>l instanceof Or&&l.isHover);o===void 0?a.forEach(l=>{l instanceof ai&&(l.id.includes(zi.Outliers)&&l.tooltip?.visible===!0||Nt(l.uid,"isBoxPlotMeanLineSeries"))&&n.add(l)}):n.add(o),a=Array.from(n)}}else a=t.series.values;return a=a.filter(n=>n.visible&&Nt(n.uid,"isOverlay")!==!0&&(!r||!(n instanceof Or||Nt(n.uid,"isBoxPlotOutliersSeries")))),a}async function CI(s){let{chart:t,cursorSelectionRectangle:e,multiSelect:i,selectionSource:r,hitElement:a}=s,n=le(t.uid,"config"),o=n?.series[0]?.x??"",l=[];It(t.uid,{pendingSelectionQueries:!0});let u=[],h=!0;HX({chart:t,selectionSource:r,chartConfig:n}).forEach((c,A)=>{let d=Zb(c,n);if(n&&c.visible&&Nt(c.uid,"isOverlay")!==!0&&c instanceof Zr){let f=zb(c,A),p=f===R.BoxPlotSeries?d?.y:Ch(c),m=c.dataFields?.customValue??"",g={element:{},yAxisField:p,xAxisField:o,splitBy:m,seriesIndex:A,chartConfig:n},y;c instanceof Fi||c instanceof Or?(y=c.columns?.values,f===R.HistogramSeries&&(g.xAxisField=m)):c instanceof aa?y=c.segments.values:c instanceof ai&&(y=Pr(c)?.clones?.values,g.uniqueFeature=!0),y!==void 0&&(u=[...u,...y],y.forEach((x,C)=>{if(!(x.dataItem instanceof bo)){let S=x.isActive,P=x===a||NX(x,e);P&&(h=!1);let F=!1;S?P?F=r!==kr.SelectionByClick:F=i===!0:F=P,F&&l.push({...g,element:x,elementDataContext:x.dataItem?.dataContext,elementIndex:C}),Gn({element:x,selected:F})}}))}}),h&&(l=[]),await dm({chart:t,listSelectedElements:l,selectionSource:r})}function jX(s){let t=async e=>{let i=e.target.cursor;if(i.xRange!==void 0){i.selection.isMeasured=!0,i.validate(),i.selection.validate();let r=Dt.spriteRectToSvg(i.selection.bbox,i.selection);if(i.selection.hide(),r.width>0||r.height>0){let a=qb(e,s);await CI({chart:s,cursorSelectionRectangle:r,multiSelect:a,selectionSource:kr.SelectionByRange})}}i.selection.hide()};an(s)&&s.events.on(Oe.Up,async e=>{let i=e.target.cursor,r=K4(s.uid,"selectEndedCallbackDisposer");if(r!==void 0&&r.dispose(),i.xRange!==void 0&&e.event instanceof TouchEvent)await t(e);else{let a=i.events.once(Oe.SelectEnded,async()=>{await t(e)});Z4(s.uid,{selectEndedCallbackDisposer:a})}})}async function Ib(s,t){let{target:e}=s,i=le(t.uid,"actionMode");if(t!==void 0&&wI(t)&&i!==Ht.None&&i!==Ht.Zoom&&(e instanceof Lt||s.point===void 0)){let r=s.svgPoint?{x:s.svgPoint.x,y:s.svgPoint.y,width:0,height:0}:void 0,a=qb(s,t);await CI({chart:t,cursorSelectionRectangle:r,multiSelect:a,selectionSource:kr.SelectionByClick,hitElement:e})}}function XX(s){an(s)&&(s.zoomOutButton.hoverable=!0,s.events.on(Oe.Hit,async t=>await Ib(t,s)),s.events.on(Oe.DoubleHit,async t=>await Ib(t,s)))}function Zc(s,t){t.events.on(Oe.Hit,async e=>await Ib(e,s)),t.events.on(Oe.DoubleHit,async e=>await Ib(e,s))}async function WX(s){let{series:t}=s;if(t.length>0){It(s.uid,{pendingSelectionQueries:!0});let e=le(s.uid,"config"),i=t.values.map((r,a)=>{let n=[];if(r.visible&&Nt(r.uid,"isOverlay")!==!0){let o=We(e?.series,a);o===R.BarSeries||o===R.HistogramSeries?n=VO(r,a):o===R.LineSeries||o===R.ScatterSeries&&Nt(r.uid,"isOverlay")!==!0?n=NO(r,a):o===R.PieSeries?n=QX(r):o===R.BoxPlotSeries&&(r instanceof Or?n=VO(r,a):r instanceof ai&&!(r instanceof aa)&&(n=NO(r,a)))}return n}).flat();await dm({chart:s,listSelectedElements:i,selectionSource:kr.ProgrammaticSelection}),s instanceof Xi&&s.feedLegend()}}function sC(s){if(an(s))if(s.events.disableType(Oe.Hit),s.events.disableType(Oe.DoubleHit),s instanceof Xi){let t=s.series.getIndex(0);t!==void 0&&(t.slices.template.clickable=!1,t.slices.template.togglable=!1,t.slices.template.events.disableType(Oe.Hit),t.slices.template.events.disableType(Oe.DoubleHit),t.labels.template.clickable=!1,t.labels.template.togglable=!1,t.labels.template.events.disableType(Oe.Hit),t.labels.template.events.disableType(Oe.DoubleHit))}else s instanceof Lt&&(s.xAxes.each(t=>$b(t,!0)),s.yAxes.each(t=>$b(t,!0)),s.events.disableType(Oe.Up))}function zX(s){if(an(s))if(s.events.enableType(Oe.Hit),s.events.enableType(Oe.DoubleHit),s instanceof Xi){let t=s.series.getIndex(0);t!==void 0&&(t.slices.template.clickable=!0,t.slices.template.togglable=!0,t.slices.template.events.enableType(Oe.Hit),t.slices.template.events.enableType(Oe.DoubleHit),t.labels.template.clickable=!0,t.labels.template.togglable=!0,t.labels.template.events.enableType(Oe.Hit),t.labels.template.events.enableType(Oe.DoubleHit))}else s instanceof Lt&&(s.xAxes.each(t=>$b(t,!1)),s.yAxes.each(t=>$b(t,!1)),s.events.enableType(Oe.Up))}function bl(s){let{element:t,stylingInfo:e,stateKey:i="default"}=s;if(t!==void 0&&e!==void 0){let r=t.states.getKey(i)?.properties??t.defaultState.properties;if(r.fill=e.pattern??e.fill,r.fillOpacity=Ve(r.fill.toString()).alpha===0?0:1,e.outline!==void 0){let{outline:a}=e;r.stroke=a.stroke,r.strokeOpacity=a.stroke.alpha===0?0:1,r.strokeDasharray=a.strokeDasharray,r.strokeLinecap=a.strokeLinecap,r.strokeWidth=a.strokeWidth}}}function GX(s,t){let e=new Fe;return e.width=ue(100),e.height=ue(100),e.background.fill=oa(t??q.loaderBackground),e.parent=s,e}function YX(s){let t=new Ei;return t.valign=Zt.Middle,t.align=gi.Center,t.fontSize=q.loaderLabelFontSize,t.dy=40,t.text="",t.parent=s,t}function KX(s,t){let e=new zp;return e.parent=s,e.align=gi.Center,e.valign=Zt.Middle,e.path="M2.2 16A13.81 13.81 0 0 1 14 2.362v1.01a12.8 12.8 0 1 0 4 0v-1.01A13.792 13.792 0 1 1 2.2 16z",e.stroke=oa(t??q.loaderSpinnerColor),e.strokeWidth=2,e}function ZX(s){return window.setInterval(()=>{s.animate({from:0,to:360,property:"rotation"},q.loaderRotationSpeed)},q.loaderIntervalTimeout)}function qX(s,t){let e=GX(s,t?.loaderColors?.curtainColor);return YX(e),{loaderPolygon:KX(e,t?.loaderColors?.spinnerColor),loaderContainer:e}}function JX(s,t){s.preloader!==void 0&&(s.preloader.disabled=!0);let e,i,r;if(s.tooltipContainer!==void 0){let o=qX(s.tooltipContainer,t);e=o.loaderContainer,i=o.loaderPolygon}function a(){r!==void 0&&(window.clearInterval(r),r=void 0),e!==void 0&&(Kt(e,!1),s instanceof Lt&&(s.zoomOutButton.disabled=!1))}function n(o){o&&(r===void 0&&i!==void 0&&(r=ZX(i)),e!==void 0&&(Kt(e),s instanceof Lt&&(s.zoomOutButton.disabled=!0)))}return a(),{loaderElements:{loaderContainer:e??new Fe,loaderPolygon:i??new zp},loaderHandle:{hideLoader:a,showLoader:n}}}function eW(s,t){let{loaderContainer:e,loaderPolygon:i}=s;e!==void 0&&(e.background.fill=oa(t?.loaderColors?.curtainColor??q.loaderBackground)),i!==void 0&&(i.stroke=oa(t?.loaderColors?.spinnerColor??q.loaderSpinnerColor))}function um(s){return s.values.every(t=>t.isReady())}function Fo(s,t){s.events.on(Oe.Ready,()=>{let{chart:e}=s;e!==void 0&&um(s.chart.series)&&(VX(e),t(),Vh(s.chart.htmlContainer))})}function BI(s,t){let{dataTooltipStyle:e,dataTooltipStyleReversed:i}=q;if(t===!0){let r=s.background.fill;if(r!==void 0){s.background.stroke=r,s.background.strokeWidth=i?.outline?.width??Number.NaN,s.background.fill=oa(i?.color);let a=s.background.fill.rgb;if(a!==void 0){let n=s.label.fill;s.label.fill=Cy(a)?n?.darkColor:n?.lightColor}}}else s.getStrokeFromObject=!0,s.getFillFromObject=!0,s.background.strokeWidth=e?.outline?.width??Number.NaN,s.background.stroke=oa(e?.outline?.color)}function CA(s){let{series:t,callbackName:e,value:i}=s,r=Nt(t.uid,e);return r!==void 0?r(i):i.toString()}function tW(s){let t=s.tooltip??new go;t.pointerOrientation="vertical",s instanceof Or||s instanceof aa?t.label.maxWidth=q.boxPlot.boxPlotTooltipLabelWidth:t.label.maxWidth=q.tooltipWidth,t.label.wrap=!0,t.events.on(Oe.Shown,e=>{let i=le(s.chart.uid,"config");if(i!==void 0){let r=Zb(s,i),{dataTooltipReverseColor:a}=r??{};BI(e.target,a)}})}function iW(s){s instanceof Vs||s.series.each(t=>{Nt(t.uid,"isOverlay")!==!0&&tW(t)})}function SI(s,t){s.tooltipHTML=q.htmlEmptyContent,s.adapter.add("tooltipHTML",(e,i)=>{let r=e??"",{chart:a}=t;if(a!==void 0){let n=le(a.uid,"config"),{dataTooltipVisible:o}=n?.series[0]??{};if(o===!1)r="";else{let l=Nt(t.uid,"barAndLineTooltipFormatter");if(l!==void 0&&t.isReady()){let{dataItem:u}=i;if(u instanceof cs||u instanceof va){let h=n?.series.find(c=>c.id===t.id);if(h!==void 0){let c=bn({config:n}),A=c?u.valueX:u.valueY,d=(c?u.values.valueX.totalPercent:u.values.valueY.totalPercent)/100,f=u.dataContext??{};if(f!==void 0){let p=le(a.uid,"rendererFieldNames"),m=to({value:f[h.x],dataContext:f,useRendererLabel:wd(n,p)}),g=io(f);g===void 0&&(g=m);let y=f[q.dateBinningRange];r=l({seriesName:t.name,xValue:m,originalXValue:g,dateBinningRange:y,statValue:A,percentValue:d})}}}}}}return Ur(r)}),s.tooltipPosition=t instanceof ai?q.markerTooltipPosition:q.columnTooltipPosition,t.cursorTooltipEnabled=!1}function rW(s){let{isStacked100:t,series:e,statValue:i,percentValue:r,yAxisValueFormat:a,dataTooltipValueFormat:n,dataTooltipPercentFormat:o}=s,l=n;l===void 0&&(Sa(a)&&a?(l=a,t&&(l.intlOptions.style="decimal")):l=ig());let u=le(e.chart.uid,"formatLocale"),h=i!==void 0?Vc({value:i,valueFormat:l,iLocale:e.chart.language.locale,formatLocale:u}):"",c="";if(t&&r!==void 0){let A=o;A===void 0&&(A=Jv(),A.intlOptions.minimumFractionDigits=2,A.intlOptions.maximumFractionDigits=2),c=Vc({value:r,valueFormat:A,iLocale:e.chart.language.locale,formatLocale:u})}return{formattedStatValue:h,formattedPercentValue:c}}function sW(s){let{series:t,dateRange:e,xAxisValueFormat:i}=s,r,a=le(t.chart.uid,"timeIntervalInfo");if(e!==void 0&&e.length>0){let n={};switch(a?.unit){case rr.Second:n={month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};break;case rr.Minute:n={month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"};break;case rr.Hour:n={month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"};break;case rr.Day:case rr.Week:case rr.Month:case rr.Year:n={month:"numeric",day:"numeric",year:"numeric"};break}n.timeZone=i.intlOptions.timeZone;let o=new Date(e[0]),l=new Date(e[1]);if(!Number.isNaN(o.valueOf())){let u=le(t.chart.uid,"formatLocale"),h=yn({type:R.DateAxisFormat,iLocale:t.chart.language.locale,formatLocale:u}),c=h.format(o,n);if(r=c,!Number.isNaN(l.valueOf())){let A=h.format(l,n);A!==c&&(r=`${r} - ${A}`)}}}return r?.toString()??""}function PI(s){let{seriesConfig:t,xAxisValueFormat:e,setTimeBinningInfoWhenNotProvided:i,dataTooltipValueFormat:r,dataTooltipDateFormat:a,series:n,xValue:o,dateBinningRange:l}=s,u,h=le(n.chart.uid,"formatLocale");return Mh({seriesConfig:t,xAxisValueFormatType:e?.type,setTimeBinningInfoWhenNotProvided:i})&&l!==void 0&&e?.type===R.DateAxisFormat?u=sW({series:n,dateRange:l,xAxisValueFormat:e}):eo(e)&&o!==void 0?u=Vc({value:o,valueFormat:a??e,iLocale:n.chart.language.locale,formatLocale:h}):typeof o=="number"&&Sa(e)?u=Vc({value:o,valueFormat:r??e,iLocale:n.chart.language.locale,formatLocale:h}):u=o,u?.toString()??""}function aW(s){let{series:t,fieldList:e,queryObject:i,setTimeBinningInfoWhenNotProvided:r,seriesIndex:a,seriesConfig:n,utilsStrings:o}=s,{dataTooltipValueFormat:l,dataTooltipPercentFormat:u,dataTooltipDateFormat:h}=n,c=()=>"",{chart:A}=t;if(A!==void 0){let d=le(A.uid,"config");if(d!==void 0){let{dataTooltipVisible:f}=n,p=t instanceof ai?n.markerVisible:void 0;if(f===!1||p===!1)c=()=>"";else{let m=d.axes,g=m[0].valueFormat,y=m[1].valueFormat,x=Pt(d.series),C=on(d)===cr.Stacked100,S=ha(i)?.objectIdField,P=wr(e,n.x),F=gl(P,m[0].title?.content.text),O=ZL({config:d,fieldList:e,objectIdField:S,seriesIndex:a,utilsStrings:o,isStacked100:C}),$=ca(A.rtl);c=L=>{let{statValue:E,percentValue:D,xValue:H,dateBinningRange:te}=L,K=PI({seriesConfig:n,xAxisValueFormat:g,dataTooltipValueFormat:l,dataTooltipDateFormat:h,setTimeBinningInfoWhenNotProvided:r,series:t,xValue:H,dateBinningRange:te}),{formattedStatValue:ae,formattedPercentValue:ie}=rW({isStacked100:C,yAxisValueFormat:y,dataTooltipValueFormat:l,dataTooltipPercentFormat:u,series:t,statValue:E,percentValue:D}),fe=[`<b>${F}${$} </b>${K}`];switch(x){case Ie.BarAndLineFromFields:{fe.pop();let z=FC({config:d,fieldName:wr(e,K??""),utilsStrings:o});fe.push(`<b>${z}${$} </b>${ae}`);break}case Ie.BarAndLineMonoField:case Ie.BarAndLineNoAggregation:case Ie.BarAndLineMultiFields:fe.push(`<b>${O}${$} </b>${ae}`);break;case Ie.BarAndLineSplitByNoAggregation:case Ie.BarAndLineSplitBy:{let z=ko(n.query?.where,!1),Y=ox({value:wr(e,z)});fe.push(`<b>${Y}${$} </b>${t.name}<br /><b>${O}${$} </b>${ae}`)}break}return C&&fe.push(`<b>${o.statistics.percent}${$} </b>${ie}`),fe.join("<br />")}}}}return c}function FI(s){let{series:t,tooltipFormatter:e}=s;qr(t.uid,{barAndLineTooltipFormatter:e??aW(s)})}function ZC(s){let{target:t,defaultTooltipHTML:e,candleStickSeries:i,meanLineSeries:r,outliersSeries:a,tooltipCallback:n}=s,o=e,l=i??r;if(l!==void 0){let{chart:u}=l;if(u!==void 0){let h=le(u.uid,"config"),{dataTooltipVisible:c}=h?.series[0]??{};if(c===!1)o="";else{let A=Nt(l.uid,"boxPlotTooltipFormatter");A!==void 0&&l.isReady()&&h&&(o=n({target:t,defaultTooltipHTML:e,config:h,candleStickSeries:i,meanLineSeries:r,outliersSeries:a,boxPlotTooltipFormatter:A}))}}}return Ur(o)}function nW(s){let{target:t,defaultTooltipHTML:e,config:i,candleStickSeries:r,outliersSeries:a,boxPlotTooltipFormatter:n}=s,o=e;if(r!==void 0&&a!==void 0){let l=r.dataItems.values.find(h=>(h.categories.categoryX??h.categories.categoryY)===(t.dataItem?.categories.categoryX??t.dataItem?.categories.categoryY)),u=i.series.find(h=>h.id===r.id);if(u!==void 0){let h=l?.dataContext??{};if(h!==void 0){let c=to({value:h[u.x],dataContext:h,useRendererLabel:$o(i)}),A=io(h);A===void 0&&(A=c),o=n({seriesName:a.name,xValue:c,originalXValue:A,dataContext:h})}}}return o}function oW(s){let{target:t,defaultTooltipHTML:e,config:i,meanLineSeries:r,boxPlotTooltipFormatter:a}=s,n=e;if(r!==void 0){let o=r.dataItems.values.find(l=>(l.categories.categoryX??l.categories.categoryY)===(t.dataItem?.categories.categoryX??t.dataItem?.categories.categoryY));if(o instanceof va){let l=i.series.find(u=>u.id===r.id);if(l!==void 0){let u=o.dataContext??{};if(u!==void 0){let h=to({value:u[l.x],dataContext:u,useRendererLabel:$o(i)}),c=io(u);c===void 0&&(c=h),n=a({seriesName:r.name,xValue:h,originalXValue:c,dataContext:u})}}}}return n}function lW(s){let{target:t,defaultTooltipHTML:e,config:i,candleStickSeries:r,boxPlotTooltipFormatter:a}=s,n=e;if(r!==void 0){let o=t.dataItem;if(o instanceof Ic){let l=i.series.find(u=>u.id===r.id);if(l!==void 0){let u=o.dataContext??{};if(u!==void 0){let h=to({value:u[l.x],dataContext:u,useRendererLabel:$o(i)}),c=io(u);c===void 0&&(c=h),n=a({seriesName:r.name,xValue:h,originalXValue:c,dataContext:u})}}}}return n}function uW(s){s.cursorTooltipEnabled=!1,s.tooltipPosition=q.columnTooltipPosition,s.columns.template.tooltipHTML=q.htmlEmptyContent,s.columns.template.adapter.add("tooltipHTML",(t,e)=>ZC({target:e,defaultTooltipHTML:t??"",candleStickSeries:s,tooltipCallback:lW}))}function hW(s,t){let e=Pr(s);e!==void 0&&(e.tooltipPosition=q.markerTooltipPosition,e.tooltipHTML=q.htmlEmptyContent,s.cursorTooltipEnabled=!1,e.adapter.add("tooltipHTML",(i,r)=>ZC({target:r,defaultTooltipHTML:i??"",candleStickSeries:t,outliersSeries:s,tooltipCallback:nW})))}function cW(s){let t=Pr(s);t!==void 0&&(s.cursorTooltipEnabled=!1,t.tooltipPosition=q.markerTooltipPosition,t.tooltipHTML=q.htmlEmptyContent,t.adapter.add("tooltipHTML",(e,i)=>ZC({target:i,defaultTooltipHTML:e??"",meanLineSeries:s,tooltipCallback:oW})))}function yh(s){let{label:t,value:e,strongColon:i,useTable:r}=s,a=`<b>${t}${i}</b> ${e}`;return r!==!1?`<tr><td>${a}</td></tr>`:a}function dW(s){let{dataContext:t,series:e,dataTooltipValueFormat:i,y:r,splitBy:a,utilsStrings:n,useTable:o}=s,l=i??ig(),u=Object.values(Jt),h=ca(e.rtl),c=o!==!1?['<tr><td colspan="2"><hr style="border-top: solid black;"></td></tr>']:[""];return u.forEach(A=>{let d=Zi({key:A,y:r,splitBy:a}),f=t[d];if(f!=null&&typeof f=="number"){let p=le(e.chart.uid,"formatLocale"),m=Vc({value:f,valueFormat:l,iLocale:e.chart.language.locale,formatLocale:p}),g="";switch(A){case Jt.Min:g=n.statistics.minimum;break;case Jt.FirstQuartile:g=n.statistics.firstQuartile;break;case Jt.Median:g=n.statistics.median;break;case Jt.ThirdQuartile:g=n.statistics.thirdQuartile;break;case Jt.Max:g=n.statistics.maximum;break;case Jt.IQR:g=n.statistics.iqr;break;case Jt.Average:g=n.statistics.mean;break;case Jt.StandardDeviation:}Ih(g)||c.push(yh({label:g,value:m,strongColon:h,useTable:o}))}}),c}function AW(s){let{series:t,fieldList:e,seriesConfig:i,utilsStrings:r}=s,{dataTooltipValueFormat:a}=i,n=()=>"",{chart:o}=t;if(o!==void 0){let l=le(o.uid,"config");if(l!==void 0){let u=l.axes,h=u?.[0].valueFormat,{showMean:c}=l,A=Pt(l.series),d=ko(i.query?.where),f=wr(e,d),p=Tl({where:i.query?.where,escape:!1}),m=wr(e,i.x),g;i.x!==tg&&(g=gl(m,u?.[0].title?.content.text));let y=ca(o.rtl);n=x=>{let{dataContext:C,xValue:S}=x,P=PI({seriesConfig:i,xAxisValueFormat:h,series:t,xValue:S}),F=[],O=P!==void 0&&!Ih(P)?wr(e,P):"",$=c===!0?[l.series[0].y].flat()[0]:[i.y].flat()[0],L=wr(e,$);switch(A){case Ie.BoxPlotMonoField:case Ie.BoxPlotMultiFields:case Ie.BoxPlotMonoFieldAndSplitBy:case Ie.BoxPlotMultiFieldsAndSplitBy:{if(P!==void 0&&!Ih(P)){let K=A===Ie.BoxPlotMonoField?i.name??O:O;F.push(yh({label:r.field,strongColon:y,value:K}))}Ki(f)||F.push(yh({label:f,strongColon:y,value:i.name??p?.toString()}));break}case Ie.BoxPlotMonoFieldAndCategory:case Ie.BoxPlotMultiFieldsAndCategory:{F.push(yh({label:r.field,strongColon:y,value:i.name??L})),P!==void 0&&!Ih(P)&&F.push(yh({label:g,strongColon:y,value:O}));break}case Ie.BoxPlotMonoFieldAndCategoryAndSplitBy:F.push(yh({label:r.field,strongColon:y,value:L})),P!==void 0&&!Ih(P)&&F.push(yh({label:g,strongColon:y,value:O})),Ki(f)||F.push(yh({label:f,strongColon:y,value:i.name??p?.toString()}));break}let E=[Ie.BoxPlotMultiFieldsAndCategory],D=C[q.boxPlot.boxPlotMeanLineMarkerId]!==void 0,H=F.length>0&&!D,te=dW({dataContext:C,series:t,dataTooltipValueFormat:a,splitBy:i.query?.where,y:E.includes(A)?[i.y].flat()[0]:void 0,utilsStrings:r,useTable:H});return H?`${F.join("<br>")}<table>${te.join("")}</table>`:`${F.join("<br>")}${te.join("<br>")}`}}}return n}function fW(s){let{series:t,tooltipFormatter:e}=s;qr(t.uid,{boxPlotTooltipFormatter:e??AW(s)})}function pW(s){let t=zn(q.dataLabelInitialize);return yl(t.uid,{isDataLabel:!0}),s.bullets.push(t),GC(t),zC(R.LineSeries,t),mI(R.LineSeries,t),gC(t,s),t.html="{valueX}",t}function mW(s){let{series:t}=s,e=rm(t,"bullets");Yb({...s,dataLabel:e,defaultDataLabelFormatter:gI,seriesType:R.LineSeries})}function gW(s,t){t!==void 0&&(t.layout!==void 0&&(s.layout=t.layout),t.width!==void 0&&(s.width=EO(t.width)),t.height!==void 0&&(s.height=EO(t.height)),t.paddingTop!==void 0&&(s.paddingTop=t.paddingTop),t.paddingBottom!==void 0&&(s.paddingBottom=t.paddingBottom))}function yW(s){let t=!1,e=s.legend?.visible,i=s.legend?.title?.content.text,r=s.legend?.title?.visible;return t=e!==!1&&r!==!1&&i!==void 0&&i.length>0,t}function TI(s,t){let e=new Fe;return gW(e,s),e.parent=t,e}function DI(s,t){s.disabled=t}function bW(s,t){s.toBack()}function vW(s){if(s instanceof Vs){let{paddingTop:t,paddingRight:e,paddingBottom:i,paddingLeft:r}=q.gauge;s.padding(t,e,i,r)}else{let{paddingMinSize:t,marginMinSize:e,chartPaddingMinSize:i,chartContainer:r}=q;s.padding(i,i,i,i),s.chartAndLegendContainer.margin(e,e,e,e),s.chartAndLegendContainer.padding(t,t,t,t),s.chartContainer.margin(e,e,e,e),s.chartContainer.padding(r.paddingTop,t,t,t)}}function xW(s,t){let e=(i,r)=>{let{chartContainer:a,chartAndLegendContainer:n}=q,o=le(i.uid,"config");if(o!==void 0){let l=yW(o),u=o.legend?.position;if(l)switch(u){case St.Top:i.chartAndLegendContainer.paddingTop=r.bbox.height??0,i.chartContainer.paddingBottom=a.paddingBottom??0;break;case St.Bottom:i.chartContainer.paddingBottom=r.bbox.height??0,i.chartAndLegendContainer.paddingTop=n.paddingTop??0;break;default:i.chartAndLegendContainer.paddingTop=n.paddingTop??0,i.chartContainer.paddingBottom=a.paddingBottom??0;break}else i.chartAndLegendContainer.paddingTop=n.paddingTop??0,i.chartContainer.paddingBottom=a.paddingBottom??0}};t.events.on(Oe.PositionChanged,()=>{e(s,t)})}function qC(s){let{iLocale:t,pieChart:e,valueIntlOptions:i,percentageIntlOptions:r,displayNumericValue:a,displayPercentage:n,valuePrefix:o,valueSuffix:l,percentagePrefix:u,percentageSuffix:h}=s,c=le(e.uid,"formatLocale"),A=yn({type:R.NumberAxisFormat,iLocale:t,formatLocale:c}),d=yn({type:R.NumberAxisFormat,iLocale:t,formatLocale:c});A.numberFormat={...i},d.numberFormat={...r,style:"percent"};let f=ca(e.rtl," ");return(p,m,g)=>{let y="";if(m!==void 0&&g!==void 0){let x=`${o??""}${A.format(m)}${l??""}`,C=`${u??""}${d.format(Math.abs(g/100))}${h??""}`;Number.isFinite(m)?a===!0&&n===!0?y=`${C}${f}(${x})`:a===!0?y=x:n===!0&&(y=C):y=""}return y}}function OI(s){let t=!1;if(s.position===St.Right||s.position===St.Left)t=!0;else{let e=s.labels.getIndex(0)?.parent?.x;e!==void 0&&(t=!s.labels.values.some(i=>i.parent?.x!==e))}return t}function _W(s){let t=!1,e=s.labels.getIndex(0)?.parent?.y;return e!==void 0&&(t=!s.labels.values.some(i=>i.parent?.y!==e)),t}function wW(s){s.events.on(Oe.LayoutValidated,()=>{let t=OI(s),e=_W(s),i=t||!e?gi.Right:gi.Center;s.valueLabels.template.horizontalCenter=jC(i),s.valueLabels.template.align=nI(i)})}function CW(s){yl(s.valueLabels.template.uid,{isLegendValueLabel:!0}),s.valueLabels.template.adapter.add("htmlOutput",(t,e)=>{let i=t,r=q4(s.uid,"pieChartLegendValueLabelsFormatter");if(r!==void 0&&(i=r(e.dataItem?.values?.value?.value??0,e.dataItem?.values?.value?.percent??0)),Ki(i)&&(i=q.htmlEmptyContent),s.baseSprite instanceof ql){let a=le(s.baseSprite.uid,"config");a?.legend?.body!==void 0&&(i=Ws({textSymbol:{...a.legend.body,text:i},format:"html"}))}return Ur(i)}),s.valueLabels.template.html=q.htmlEmptyContent,wW(s)}function BW(s){let{legendElements:{legend:t},seriesConfig:e,webChartLegend:i,pieChartLegendValueLabelFormatter:r}=s,{visible:a,body:n,displayNumericValue:o,displayPercentage:l,displayCategory:u}=i??{};if(We(e)===R.PieSeries){let{numericValueFormat:h,percentValueFormat:c,valuePrefix:A,valueSuffix:d,percentagePrefix:f,percentageSuffix:p}=e[0],m=u??q.pieChart.displayCategoryOnLegend,g=o??q.pieChart.displayNumericValueOnLegend,y=l??q.pieChart.displayPercentageOnLegend,x=r;if(r===void 0){let P=qC({iLocale:t.language.locale,pieChart:t.baseSprite,valueIntlOptions:h?.intlOptions,percentageIntlOptions:c?.intlOptions,displayNumericValue:g,displayPercentage:y,valuePrefix:A,valueSuffix:d,percentagePrefix:f,percentageSuffix:p});x=(F,O)=>P("",F,O)}J4(t.uid,{pieChartLegendValueLabelsFormatter:x});let C=OI(t),S={type:R.Text,visible:a,content:{...n,type:qt.TS,text:".",verticalAlignment:Zt.Middle,horizontalAlignment:C?gi.Right:gi.Center}};sn({label:t.valueLabels.template,labelConfig:S,defaults:q.legendProperties.valueLabels}),t.labels.template.disabled=m===!1,t.valueLabels.template.disabled=g===!1&&y===!1}}function SW(s){let{dataContext:t}=s.target.dataItem??{};if(t instanceof _a){let{component:e}=t;e instanceof Ts&&e.showTooltip()}}function PW(s){let t=()=>{let e=s.children.values.find(i=>i.className==="Container");if(e?.children.length===3){let i=e.children.values.findIndex(r=>r.className==="Container");if(i!==-1){let r=i!==0?0:2,a=e.children.getIndex(r)?.clonedFrom;a!==void 0&&ys(a.uid,"isLegendValueLabel")!==!0&&s.children.each(n=>{n.className==="Container"&&n.children.swap(1,r)})}}};s.events.on(Oe.Validated,t),t()}function QO(s,t){let{legendLabelReducedOpacity:e}=q.legendProperties;s!==void 0&&(s.fillOpacity=t===!1?e:1)}function _A(s){let{labels:t,seriesId:e,sliceCategory:i}=s;t.each(r=>{i!==void 0?i===r.dataItem.category&&QO(r,r.dataItem.slice.visible??!0):e===r.dataItem?.component?.id&&QO(r,r.dataItem?.component?.visible??!0)})}function hm(s){s instanceof Ts?(s.slices.template.events.on(Oe.Shown,t=>{let e=t.target.dataItem.category;_A({labels:s.chart?.legend?.labels,sliceCategory:e}),_A({labels:s.chart?.legend?.valueLabels,sliceCategory:e})}),s.slices.template.events.on(Oe.Hidden,t=>{let e=t.target.dataItem.category;_A({labels:s.chart?.legend?.labels,sliceCategory:e}),_A({labels:s.chart?.legend?.valueLabels,sliceCategory:e})})):s.events.on(Oe.VisibilityChanged,t=>{let e=t.target.id;_A({labels:s.chart?.legend?.labels,seriesId:e})})}function LI(s){let{title:t,visible:e}=s;return t!==void 0&&e!==!1&&t?.visible!==!1}function FW(s,t){let{legendProperties:e}=q;if(s.position===St.Bottom)s.marginTop=e.marginTop??0,s.marginBottom=0,s.dy=0;else if(s.position===St.Top)s.marginBottom=e.marginBottom??0,s.marginTop=0,s.dy=0;else if(s.marginTop=0,s.marginBottom=0,!(s.baseSprite instanceof Xi)){let i=LI(t),r=t.title?.content?.font?.size??q.generalFontSize;s.dy=-(i?r:15)}}function TW(s){let t=s.baseSprite,e;if(t!==void 0){let i=le(t?.uid,"config");e=t?.rtl&&(i?.legend?.position===St.Top||i?.legend?.position===St.Bottom)}return e??!1}function DW(s){let t=s.baseSprite,e="";if(t instanceof Lt){let i=le(t.uid,"config"),r=Sn(i),a=r?B.Rotated:B.NonRotated,n=on(i),o=B.SideBySide;n===cr.Stacked?o=B.Stacked:n===cr.Stacked100&&(o=B.Stacked100);let l=t.rtl?B.RTL:B.LTR,u;switch(i?.legend?.position){case St.Left:u=B.LegendLeft;break;case St.Top:u=B.LegendTop;break;case St.Bottom:u=B.LegendBottom;break;case St.Right:default:u=B.LegendRight;break}let h=r?t.yAxes.getIndex(0):t.xAxes.getIndex(0),c;h instanceof Ct?c=B.DateAxis:h instanceof Ne?c=B.ValueAxis:c=B.CategoryAxis;let A=i?.orderOptions?.data?.orderBy===ef.Descending?B.OrderByFieldsDESC:B.OrderByFieldsASC;e=`${a}-${l}-${o}-${u}-${c}-${A}`}return e}function OW(s){let t=DW(s);return LL.has(t)}function II(s,t){let{legend:e,legendTitle:i}=s??{};switch(t){case R.HistogramSeries:case R.PieSeries:e.reverseOrder=TW(e);break;case R.BarSeries:case R.LineSeries:case R.ComboLineAndBarSeries:e.reverseOrder=OW(e);break}let r=e.reverseOrder===!0?e.children.length-1:0;e.children.moveValue(i,r)}function LW(s){if(s.visible){let t=le(s.chart.uid,"config")?.series.find(e=>e.id===s.id);if(t!==void 0&&We([t])===R.LineSeries){let{markerVisible:e}=t;e!==!1&&s.bulletsContainer.show()}}}function IW(s,t){let e=s.target.dataItem,i=s.target.isActive;if(e?.dataContext!==void 0){let{dataContext:r}=e,a={visible:i};if(Nt(r.uid,"isOverlay")===!0)a.overlayType=Nt(r.uid,"type");else if(r instanceof _a)le(t.uid,"isNonAggregatedChart")===!0?a.sliceData=r.dataContext:a.sliceId=r.category;else if(r instanceof Or){let o=r.id,l=cm(t,o);if(l!==void 0){let A=le(t.uid,"config"),d=eB(A?.showOutliers,i),f=Pr(l);f!==void 0&&(f.disabled=!d),Kt(l,d)}let{topStepLineSeries:u,medianStepLineSeries:h,bottomStepLineSeries:c}=Jb(t,o);u!==void 0&&Kt(u,i),h!==void 0&&Kt(h,i),c!==void 0&&Kt(c,i),a.seriesId=r.id}else a.seriesId=r.id;let n=r instanceof _a?r.component:r;(n instanceof Zr||n instanceof Ts)&&Nt(n.uid,"isOverlay")!==!0&&n.events.once(Oe.Validated,()=>{n instanceof Zr&&(GI(n),n.events.dispatchImmediately(Oe.Validated,{type:Oe.Validated,target:n}));let o=n instanceof Ts,l=le(t.uid,"currentSelectionDataItems"),u=l!==void 0&&l.length>0,h=le(t.uid,"actionMode")??q.actionMode,c;n instanceof Fi?c=n.columns:o?c=n.slices:n instanceof ai&&(LW(n),c=Pr(n)?.clones),c?.each(A=>{A.dataItem instanceof bo||(Gn({element:A,selected:A.isActive,useNativeState:o,backToDefaultState:!u}),o&&h===Ht.None&&(A.clickable=!1))})}),Bx(a,t.htmlContainer)}}function $W(s){let{legendProperties:t,legendProperties:e}=q;s.adapter.add("paddingRight",()=>s.scrollbar.visible?e.legendPaddingRightWithScrollbarVisible:t.paddingRight),s.adapter.add("paddingLeft",()=>t.paddingLeft),s.adapter.add("paddingTop",()=>t.paddingTop),s.adapter.add("paddingBottom",()=>t.paddingBottom)}function kW(s){s.scrollable=!0}function EW(s){let t=zn(void 0,s);return t.adapter.add("paddingTop",e=>{let i=e,r=t.bbox.height;return r>0&&(i=-r),i}),t.adapter.add("x",e=>{let i=e,{marginLeft:r,marginRight:a}=q.legendProperties.legendTitle;switch(le(s.baseSprite.uid,"config")?.legend?.title?.content?.horizontalAlignment){case gi.Left:i=t.measuredWidth+(r??0);break;case gi.Right:i=s.measuredWidth-t.measuredWidth-(a??0);break;case gi.Center:case gi.Justify:default:i=s.measuredWidth/2;break}return i}),t.adapter.add("disabled",e=>(e===!1&&t.validate(),e)),t}function MW(s){let{legendConfig:t,legendTitle:e}=s,{title:i,position:r}=t,{legendTitle:a}=q.legendProperties,n=LI(t);if(i!==void 0){let o={...i,visible:n};sn({label:e,labelConfig:o,defaults:a}),e.marginLeft=a.marginLeft??0}r===St.Top||r===St.Bottom?(e.maxWidth=Number.NaN,e.isMeasured=!1):(e.maxWidth=a.maxWidth??Number.NaN,e.marginTop=n?e.bbox?.height??i?.content?.font?.size??q.generalFontSize:0,e.isMeasured=!0)}function RW(s){let t=q.legendProperties;s.labels.template=zn(t.legendLabels),s.valueLabels.template=zn(t.legendLabels),s.markers.template.width=t.legendMarkersSize,s.markers.template.height=t.legendMarkersSize,s.labels.template.adapter.add("wrap",()=>!0),s.labels.template.adapter.add("maxWidth",e=>{let i=e,r;if(s.baseSprite instanceof Xi&&(r=le(s.baseSprite.uid,"config")?.legend?.labelMaxWidth),s.position===St.Right||s.position===St.Left)i=r??q.legendProperties.legendLabels.maxWidth;else if(r!==void 0)i=r;else{let a=0;s.valueLabels.template.disabled||s.valueLabels.each(n=>{a=Math.max(a,n.measuredWidth)}),i=s.measuredWidth-a-45}return i}),s.labels.template.adapter.add("textOutput",(e,i)=>{let r=i.dataItem?.label?.currentText,a,n=le(s.baseSprite.uid,"config");if(n!==void 0){let{series:o}=n;if(We(o)===R.PieSeries){let l=Pt(o)===Ie.PieFromFields?Kn:o[0].x,u=i.dataItem?.dataContext?.[l];typeof u=="string"?a=u:u&&typeof u!="object"&&(a=u.toString())}else i.dataItem?.component instanceof cl&&(a=i.dataItem.component.name)}return(a!==void 0&&!Ki(a)?vg(a):a)??r}),s.valueLabels.template.adapter.add("maxWidth",e=>{let i=e,r;return s.baseSprite instanceof Xi&&(r=le(s.baseSprite.uid,"config")?.legend?.valueLabelMaxWidth),s.position===St.Right||s.position===St.Left?i=r??q.legendProperties.valueLabels.maxWidth:i=r??Number.NaN,i})}function UW(s,t){s.itemContainers.template.events.on(Oe.Hit,e=>IW(e,t)),t instanceof Xi&&s.itemContainers.template.events.on(Oe.Over,e=>SW(e))}function VW(s){s.itemContainers.template.reverseOrder=s.rtl}function wb(s,t){s.adapter.keys().includes(t)||s.adapter.add(t,e=>{let i=e,r=s.dataItem?.dataContext;if(r!==void 0){let a=r instanceof _a?r.component?.chart:r.chart;if(a!==void 0){let n=le(a.uid,"config"),{rectangleMarkerRadius:o,roundedMarkerRadius:l}=q.legendProperties;i=n?.legend?.roundMarkers===!0?l:o}}return i})}function HO(s){s.markers.each(t=>{let e=t.children.getIndex(0);e instanceof Kr&&(wb(e,"cornerRadiusBottomLeft"),wb(e,"cornerRadiusBottomRight"),wb(e,"cornerRadiusTopLeft"),wb(e,"cornerRadiusTopRight"),e.validate())})}function NW(s){s.markers.template.events.on(Oe.Inited,()=>{HO(s)}),s.events.once(Oe.Validated,()=>{HO(s)})}function QW(s){let{legendElements:{legend:t},seriesConfig:e,webChartLegend:i}=s,{visible:r,body:a}=i??{},n=We(e),o={type:R.Text,visible:r,content:{...a,type:qt.TS,text:" "}};sn({label:t.labels.template,labelConfig:o,defaults:q.legendProperties.legendLabels}),t.labels.template.valign=Zt.Middle,t.valueLabels.template.valign=Zt.Middle,n===R.PieSeries&&BW(s),t.valueLabels.template.width=Number.NaN}function HW(s,t){t.chartContainer.events.on(Oe.SizeChanged,Wr(()=>{let e=le(t.uid,"config")?.legend?.maxHeight??Number.NaN;Number.isFinite(e)||(s.position===St.Top||s.position===St.Bottom?e=q.legendProperties.maxHeight:e=t instanceof Xi?t.chartContainer.measuredHeight:t.seriesContainer.measuredHeight),s.maxHeight=e,s.invalidateLayout()}),q.debounceTime)}function jW(s,t){let{position:e}=t;e===St.Top||e===St.Bottom?s.contentAlign=gi.Center:s.contentAlign="none"}function XW(s,t){let{legend:e}=s;e.events.on(Oe.DataItemsValidated,()=>{e.dataItems.length>0&&II(s,t)})}function WW(s,t){t===St.Right||t===St.Left?s.width=Number.NaN:s.maxWidth=Number.MAX_SAFE_INTEGER}function $I(s,t){let e=li.pointer;t===!0?(s.itemContainers.template.clickable=!1,s.itemContainers.template.focusable=!1,e=li.default):(s.itemContainers.template.clickable=!0,s.itemContainers.template.focusable=!0),s.itemContainers.values.forEach(i=>{i.cursorOverStyle=e})}function zW(s,t){let e=new wc;s.legend=e,kW(e);let i=EW(e);return RW(e),CW(e),UW(e,s),VW(e),$W(e),XW({legend:e,legendTitle:i},We(t)),HW(e,s),xW(s,i),PW(e),s.legend.events.on(Oe.ChildAdded,()=>{let r=le(s.uid,"options");$I(e,r?.disableTogglingLegendItems)}),{legend:e,legendTitle:i}}function JC(s){let{legendElements:t,seriesConfig:e,webChartLegend:i}=s,{legend:r,legendTitle:a}=t,n=r.baseSprite,o=(n===void 0?!0:lx(e))&&i?.visible!==!1;if(n!==void 0&&i!==void 0&&o){let{position:l=q.legendProperties.position}=i;Kt(r,!0),MW({legendConfig:i,legendTitle:a}),NW(r),QW(s),jW(r,i),II(t,We(e)),r.position=l,WW(r,l),FW(r,i);let u=le(n.uid,"options");$I(r,u?.disableTogglingLegendItems),r.events.once(Oe.Validated,()=>{r.baseSprite instanceof Xi&&r.invalidateDataItems()})}else r.position=St.Right,r.width=0,Kt(r,!1)}function GW(s){let{chart:t,chartConfig:e,seriesIndex:i,axisList:r=[],queryObject:a,hideLoaderHandle:n,selectionTheme:o,ignoreSmoothRenderingLimit:l}=s,u=e.series.length,{rotated:h}=e,c=e.series[i],{y:A,name:d,id:f,assignToSecondValueAxis:p}=c,m=new ai;m.id=f,Fo(m,n),Po(m,d);let g,y;h!==!0?(g=r[0],y=p===!0&&r[2]?r[2]:r[1]):(g=p===!0&&r[2]?r[2]:r[0],y=r[1]),g!==void 0&&(m.xAxis=g),y!==void 0&&(m.yAxis=y);let x=bn({chart:t}),C=Pt(e.series),S=C===Ie.BarAndLineSplitByNoAggregation?`${A.toString()}_${Tl({where:c.query?.where,keepSurroundingQuotes:!1,escape:!1})}`:[A].flat()[0];x?m.dataFields.valueX=S:m.dataFields.valueY=S;let P=x?r[1]:r[0];if(P!==void 0){let $=yI(P,x);m.dataFields[$]=q.xAxisField}m.dataFields.customValue=c?.query?.where;let F=ha(a);kI({series:m,seriesConfig:c,seriesIndex:i,chartSubType:C,colorMatch:e.colorMatch===!0,rendererType:_d(e.chartRenderer,F?.renderer)}),EI(c,m);let O=Kb({chart:t,lineSeries:m,applyPropertiesToClones:!1});return SI(O,m),pW(m),Au({element:O,customSelectionTheme:o}),Zc(t,O),vI({chart:t,numberOfChartSeries:u,series:m,seriesType:R.LineSeries,marker:O,ignoreSmoothRenderingLimit:l}),hm(m),du(m),m}function YW(s){let{series:t,seriesIndex:e,chartSubType:i,seriesConfig:r,colorMatch:a,lineColor:n,rendererType:o}=s,l=Pr(t),u=!1,h;if(l!==void 0){r.markerVisible!==!1&&r.visible!==!1?t.bulletsContainer.show():t.bulletsContainer.hide();let{markerSymbol:c}=r,A=ex();c===void 0&&(c=A,c.color=n),a?c.color=n:c.color??=n;let d=new Set,f;WC({element:l,markerSymbol:c}),l.clones.each(p=>{if(p.dataItem instanceof bo)p.states.getKey(na.CustomActive)?.reset(),p.states.getKey(na.CustomInactive)?.reset();else{let m=p.dataItem?.dataContext,g=Pa({seriesConfig:r,dataItem:m,chartSubType:i,colorMatch:a,rendererType:o}),y=nu({seriesConfig:r,seriesIndex:e,seriesSymbol:c,element:p,colorMatch:a,rendererSymbol:g});h=y.symbolWithColorInfo,f=y.stylingInfo,bl({element:p,stylingInfo:f}),d.add(JSON.stringify(f))}}),u=d.size>1,u||bl({element:l,stylingInfo:f})}return u?void 0:h}function KW(s){let{series:t,seriesConfig:e,chartSubType:i,colorMatch:r,rendererType:a}=s,n;return t.dataItems?.values.every(o=>{let l=!0,u=o.dataContext;return n=Pa({seriesConfig:e,dataItem:u,chartSubType:i,colorMatch:r,rendererType:a}),n!==void 0&&(l=!1),l}),n}function kI(s){let{series:t,seriesIndex:e,seriesConfig:i,chartSubType:r,colorMatch:a,rendererType:n}=s,o=t,l=KW({series:o,seriesConfig:i,chartSubType:r,colorMatch:a,rendererType:n}),u=nu({seriesConfig:i,seriesIndex:e,seriesSymbol:i.lineSymbol??tx(e),element:o,colorMatch:a,rendererSymbol:l});return Kt(o,i.visible),u.symbolWithColorInfo}function EI(s,t){s.showArea===!0?s.areaColor!==void 0?(t.fill=oa(s.areaColor),t.fillOpacity=t.fill.alpha===0?0:1):(t.fill=Ve(t.stroke.hex,1),t.fillOpacity=q.lineSeries.areaOpacity):t.fillOpacity=0}function MI(s){let{series:t,seriesIndexMapper:e,seriesSymbolMapForEvent:i,seriesIndex:r,colorMatch:a,rendererType:n}=s,o=s.seriesConfig,l=le(t.chart.uid,"config"),u=l?.series.length??0,h=Pt(l?.series);Kt(t,o.visible);let c=kI({series:t,seriesConfig:o,seriesIndex:r,chartSubType:h,colorMatch:a,rendererType:n}),A=YW({series:t,seriesIndex:r,seriesConfig:o,chartSubType:h,colorMatch:a,lineColor:c.color,rendererType:n});i.set(e.get(o.id)??r,{lineSymbol:c,markerSymbol:A}),EI(o,t),i.size===u&&(Ua({data:i,htmlContainer:t.chart.htmlContainer,chartId:t.chart.id,colorMatchApplied:Kc(t.chart)}),t.chart.feedLegend())}function ZW(s){let{seriesConfig:t,lineSeries:e,isRotated:i}=s;t.lineSmoothed===!0?e.smoothing=i?Yv.MonotoneY:Yv.MonotoneX:e.smoothing=q.lineSeries.lineSmoothedKind}function jO(s,t){let{connectLines:e,temporalBinning:i}=t,r=i?.nullPolicy;s.connect=e!==!1&&r!==Kv.Null}function qW(s){let{seriesConfig:t,series:e,axes:i,rotationChanged:r,seriesIndex:a,subtypeInfo:n,fieldList:o,stackedType:l,queryObject:u,options:h,utilsStrings:c}=s,{visible:A,name:d}=t,f=i[1].valueFormat,p=le(e.chart.uid,"config"),m=bn({config:p}),g=Pt(p?.series);e.id=t.id,Kt(e,A);let y=d,x=e.dataFields?.customValue??"";(g===Ie.BarAndLineSplitBy||g===Ie.BarAndLineSplitByNoAggregation)&&(y=ug({subtypeInfo:n,fieldList:o,fieldName:ko(x),fieldValueToMatch:y})??y),Po(e,y),jO(e,t),YC({series:e,seriesConfig:t,rotationChanged:r,stackedType:l,isRotated:m}),jO(e,t),Nc({styleCallback:MI,callbackProps:s,series:e,seriesConfig:t,onReadyEvent:!0}),ZW({seriesConfig:t,lineSeries:e,isRotated:m}),FI({series:e,seriesConfig:t,fieldList:o,queryObject:u,seriesIndex:a,setTimeBinningInfoWhenNotProvided:h?.setTimeBinningInfoWhenNotProvided,utilsStrings:c,tooltipFormatter:h?.tooltipFormatter}),mW({series:e,seriesType:R.LineSeries,stackedType:l,dataLabelsConfig:t.dataLabels,yAxisValueFormat:f,customDataLabelFormatter:h?.dataLabelFormatter})}function Jb(s,t){let e=s.series.values.find(a=>a.id===`${t}_${zi.Top}`),i=s.series.values.find(a=>a.id===`${t}_${zi.Median}`),r=s.series.values.find(a=>a.id===`${t}_${zi.Bottom}`);return{topStepLineSeries:e,medianStepLineSeries:i,bottomStepLineSeries:r}}function cm(s,t){return s.series.values.find(e=>e.id===`${t}_${zi.Outliers}`)}function eB(s,t){return(s??q.boxPlot.boxPlotOutliersVisibility)&&t!==!1}function JW(s){let{chart:t,axisList:e=[],chartConfig:i,seriesIndex:r,hideLoaderHandle:a,selectionTheme:n}=s,o=ts(i),l=i.series[r],[u,h]=e,c=new Or;return c.hoverable=!0,Fo(c,a),o||(Au({element:c.columns.template,customSelectionTheme:n}),Zc(t,c.columns.template)),c.id=l.id,u!==void 0&&(c.xAxis=u),h!==void 0&&(c.yAxis=h),c.simplifiedProcessing=!0,c.columns.template.applyOnClones=!0,c.riseFromOpenState.reset(),c.riseFromPreviousState.reset(),c.dropFromOpenState.reset(),c.dropFromPreviousState.reset(),Po(c,l.name),du(c),c}function aC(s){let{axisList:t=[],chartConfig:e,seriesIndex:i,type:r,hideLoaderHandle:a,selectionTheme:n}=s,o=e.series[i],[l,u]=t,h=new aa;return h.hoverable=!0,Fo(h,a),h.id=`${o.id}_${r}`,l!==void 0&&(h.xAxis=l),u!==void 0&&(h.yAxis=u),h.noRisers=!0,h.simplifiedProcessing=!0,Au({element:h.segments.template,customSelectionTheme:n}),h.hiddenInLegend=!0,du(h),h}function ez(s){let{chart:t,axisList:e=[],chartConfig:i,hideLoaderHandle:r,seriesIndex:a,selectionTheme:n}=s,o=i.series[a],l=ts(i),[u,h]=e,c=new ai;qr(c.uid,{isBoxPlotOutliersSeries:!0}),Fo(c,r),c.id=`${o.id}_${zi.Outliers}`,u!==void 0&&(c.xAxis=u),h!==void 0&&(c.yAxis=h),c.simplifiedProcessing=!0,c.hiddenInLegend=!0,c.strokeOpacity=0;let A=Kb({chart:t,lineSeries:c});return l||(Au({element:A,customSelectionTheme:n}),Zc(t,A)),du(c),c}function $A(s){let{chartConfig:t,seriesConfig:e,meanLineSeries:i,candleStickSeries:r,topStepLineSeries:a,medianStepLineSeries:n,bottomStepLineSeries:o,outliersSeries:l,creation:u=!1,rotationChanged:h,outliersVisibilityChanged:c,standardizeValuesVisibilityChanged:A}=s,{x:d,y:f}=e,p=u||h===!0||A===!0,m=p||c===!0,g=p,y=p;if(t!==void 0){let{showOutliers:x,standardizeValues:C,showMean:S}=t,P=bn({config:t});if(i instanceof ai&&y){let D=Pt(t.series),H=e?.query?.where,te=Zi({y:D===Ie.BoxPlotMultiFieldsAndCategory?f:void 0,chartSubType:D,splitBy:H,showOutliers:x,standardizeValues:md(D)?C:!1,key:Jt.Average});P?(i.dataFields.valueX=te,i.dataFields.categoryY=d):(i.dataFields.valueY=te,i.dataFields.categoryX=d),i.dataFields.customValue=H}let F=yg(t),O=Pt(F.series),$=S===!0?void 0:e?.query?.where,L={y:O===Ie.BoxPlotMultiFieldsAndCategory?f:void 0,chartSubType:O,splitBy:$,showOutliers:x,standardizeValues:md(O)?C:!1};if(m){if(r instanceof Or){let D=Zi({...L,key:Jt.Min}),H=Zi({...L,key:Jt.FirstQuartile}),te=Zi({...L,key:Jt.Max}),K=Zi({...L,key:Jt.ThirdQuartile});P?(r.dataFields.lowValueX=D,r.dataFields.openValueX=H,r.dataFields.highValueX=te,r.dataFields.valueX=K,r.dataFields.categoryY=d):(r.dataFields.lowValueY=D,r.dataFields.openValueY=H,r.dataFields.highValueY=te,r.dataFields.valueY=K,r.dataFields.categoryX=d),r.dataFields.customValue=$}if(a instanceof aa&&n instanceof aa&&o instanceof aa){let D=Zi({key:Jt.Max,...L}),H=Zi({key:Jt.Median,...L}),te=Zi({key:Jt.Min,...L});P?(a.dataFields.valueX=D,n.dataFields.valueX=H,o.dataFields.valueX=te,a.dataFields.categoryY=d,n.dataFields.categoryY=d,o.dataFields.categoryY=d):(a.dataFields.valueY=D,n.dataFields.valueY=H,o.dataFields.valueY=te,a.dataFields.categoryX=d,n.dataFields.categoryX=d,o.dataFields.categoryX=d),a.dataFields.customValue=$,o.dataFields.customValue=$,n.dataFields.customValue=$}}if(l instanceof ai&&g){let D=Zi({...L,key:Jt.Outlier});P?(l.dataFields.valueX=D,l.dataFields.categoryY=d):(l.dataFields.valueY=D,l.dataFields.categoryX=d),l.dataFields.customValue=$,l.invalidateRawData()}let E=i?.chart??r?.chart;E!==void 0&&(m||y)&&E.invalidateRawData()}}function tz(s){let{chart:t,axisList:e=[],chartConfig:i,hideLoaderHandle:r,seriesIndex:a,selectionTheme:n}=s,o=i.series[a],[l,u]=e,h=new ai;qr(h.uid,{isBoxPlotMeanLineSeries:!0}),Fo(h,r),h.id=o.id,l!==void 0&&(h.xAxis=l),u!==void 0&&(h.yAxis=u),h.simplifiedProcessing=!0;let c=Kb({chart:t,lineSeries:h});return Au({element:c,customSelectionTheme:n}),Zc(t,c),du(h),cW(h),$A({chartConfig:i,seriesConfig:o,meanLineSeries:h,creation:!0}),h}function iz(s){let{chartConfig:t,seriesIndex:e}=s,i=t.series[e],r=We([i]),a=[];if(r===R.BoxPlotSeries){let n=JW(s),o=aC({...s,type:zi.Top}),l=aC({...s,type:zi.Median}),u=aC({...s,type:zi.Bottom}),h=ez(s);uW(n),hW(h,n),$A({chartConfig:t,seriesConfig:i,candleStickSeries:n,topStepLineSeries:o,medianStepLineSeries:l,bottomStepLineSeries:u,outliersSeries:h,creation:!0}),a.push(n,o,l,u,h)}else if(r===R.LineSeries){let n=tz(s);a.push(n)}return a}function RI(s){let{chart:t,chartData:e,chartConfig:i}=s;if(t&&e?.length>1&&i?.showMean===!0){let r=i.series[0].x??q.originalCategoryValue,a=le(t.uid,"boxPlotMeanLinesData");if(a!==void 0&&a.length>1){let n=[];for(let o of e){let l=a.find(u=>r in u&&u[r]===o[r]);l!==void 0&&n.push(l)}It(t.uid,{boxPlotMeanLinesData:n})}}}function rz(s){let{candleStickSeries:t,seriesConfig:e,stylingInfo:i,chartSubType:r,colorMatch:a,rendererType:n}=s;if(i!==void 0){let o={...i},l=j1({data:t.chart.data,colorMatch:a,chartSubType:r,rendererType:n});i?.outline!==void 0&&l&&(o.outline.stroke=Uc(q.boxPlot.boxPlotWhiskersColor));let{topStepLineSeries:u,medianStepLineSeries:h,bottomStepLineSeries:c}=Jb(t.chart,t.id);if(u!==void 0&&h!==void 0&&c!==void 0&&o.outline!==void 0){o.outline.strokeWidth=q.boxPlot.boxPlotLineWidth,wA(u,o.outline),wA(h,o.outline),wA(c,o.outline);let A=e.visible!==!1;Kt(u,A),Kt(h,A),Kt(c,A)}}}function sz(s){let{candleStickSeries:t,seriesConfig:e,showOutliers:i,seriesSymbol:r}=s;if(r!==void 0){let a=cm(t.chart,t.id);if(a!==void 0){let n=Pr(a);if(n!==void 0){let o=eB(i,e.visible),l={type:qt.SMS,style:Ba.Circle,color:r.color,size:q.boxPlot.boxPlotOutliersSize};n.clones.each(u=>{let h=t.dataItems.values.find(c=>(c.categories.categoryX??c.categories.categoryY)===(u.dataItem?.categories.categoryX??u.dataItem?.categories.categoryY))?.column.fill;WC({element:u,markerSymbol:{...l,color:rI(h)??l.color},visible:o})})}}}}function az(s){let{series:t,seriesConfig:e,seriesIndex:i,numberOfSeries:r,chartSubType:a,colorMatch:n,showMean:o,rendererType:l}=s,u,h,c,A=new Set,d=!1,f=e.fillSymbol??rg(i);if(t.columns.length===0?(c=nu({seriesConfig:e,seriesIndex:i,seriesSymbol:f,element:new ke,colorMatch:n,isChartFillSymbol:!0}),u=c.symbolWithColorInfo,h=c.stylingInfo):t.columns.each(p=>{c=nu({seriesConfig:e,seriesIndex:i,seriesSymbol:f,element:p,colorMatch:n,isChartFillSymbol:!0,rendererSymbol:o?void 0:Pa({dataItem:p.dataItem?.dataContext,seriesConfig:e,chartSubType:a,colorMatch:n,rendererType:l})}),u=c.symbolWithColorInfo,h=c.stylingInfo,A.add(JSON.stringify(u))}),d=A.size>1,r>1){let p=t.legendDataItem?.marker.children.getIndex(0);p!==void 0?bl({element:p,stylingInfo:h}):t.chart.legend.events.once(Oe.Validated,()=>{bl({element:t.legendDataItem?.marker.children.getIndex(0),stylingInfo:h}),t.chart.legend.invalidate()})}return{multipleSymbolsForOneSeries:d,seriesSymbol:u,stylingInfo:h}}function nz(s){let{series:t,showOutliers:e,colorMatch:i,seriesIndex:r,seriesIndexMapper:a,seriesSymbolMapForEvent:n,seriesConfig:o,rendererType:l}=s,u=le(t.chart.uid,"config"),h=ts(u),c=u?.series.length??0,A=Pt(u?.series),d=!1,f;if(t instanceof Or&&o.type===R.BoxPlotSeries){let p=az({series:t,seriesConfig:o,seriesIndex:r,numberOfSeries:c,chartSubType:A,colorMatch:i,showMean:h,rendererType:l}),{stylingInfo:m}=p;({multipleSymbolsForOneSeries:d,seriesSymbol:f}=p),n.set(a.get(o.id)??r,d?void 0:{fillSymbol:f??o.fillSymbol}),rz({candleStickSeries:t,seriesConfig:o,colorMatch:i,stylingInfo:m,chartSubType:A,rendererType:l}),sz({candleStickSeries:t,seriesConfig:o,showOutliers:e,seriesSymbol:f})}else t instanceof ai&&o.type===R.LineSeries&&MI({series:t,seriesConfig:o,seriesIndexMapper:a,seriesSymbolMapForEvent:n,seriesIndex:r,colorMatch:i,rendererType:l});n.size===c&&Ua({data:n,htmlContainer:t.chart.htmlContainer,chartId:t.chart.id,colorMatchApplied:Kc(t.chart)})}function oz(s){let{numberOfSeries:t,chart:e,showMean:i}=s,r=bn({chart:e}),a=r?e.yAxes.getIndex(0)?.renderer:e.xAxes.getIndex(0)?.renderer;if(a!==void 0){let{cellStartLocation:n,cellEndLocation:o}=a,l=n/(i===!0?1:t),u=e.series.values.filter(h=>h instanceof Or);u.forEach((h,c)=>{let A=n+c/u.length*(o-n)+l,d=n+(c+1)/u.length*(o-n)-l,{topStepLineSeries:f,medianStepLineSeries:p,bottomStepLineSeries:m}=Jb(e,h.id);f!==void 0&&(f.startLocation=A,f.endLocation=d),p!==void 0&&(p.startLocation=A,p.endLocation=d),m!==void 0&&(m.startLocation=A,m.endLocation=d);let g=cm(e,h.id);if(g!==void 0){let y=(A+d)/2;r?g.dataItems.template.locations.categoryY=y:g.dataItems.template.locations.categoryX=y}})}}function lz(s){let{outliersSeries:t,chartData:e,dataWasUpdated:i,rotationChanged:r,seriesReordered:a}=s;(r===!0||i===!0||a===!0)&&(t.data=e?.outliers??[])}function uz(s){let{meanLineSeries:t,chartData:e,rotationChanged:i,sortChanged:r,dataWasUpdated:a,seriesReordered:n}=s;(i===!0||a===!0||r===!0||n===!0)&&(t.data=e?.meanLines??[],t.invalidateData())}function hz(s){let{chart:t,chartConfig:e,seriesConfig:i,chartData:r,candleStickSeriesId:a,showOutliers:n,dataWasUpdated:o,rotationChanged:l,seriesReordered:u,outliersVisibilityChanged:h,standardizeValuesVisibilityChanged:c}=s,A=cm(t,a);if(A!==void 0){let d=Pr(A);if(d!==void 0){let f=eB(n,i.visible);d.disabled=!f,lz({outliersSeries:A,chartData:r,dataWasUpdated:o,rotationChanged:l,seriesReordered:u})}$A({chartConfig:e,seriesConfig:i,outliersVisibilityChanged:h,standardizeValuesVisibilityChanged:c,rotationChanged:l,outliersSeries:A})}}function cz(s){let{meanLineSeries:t,seriesConfig:e,chartData:i,dataWasUpdated:r,seriesReordered:a,sortChanged:n,rotationChanged:o,chartConfig:l,outliersVisibilityChanged:u,standardizeValuesVisibilityChanged:h}=s;Po(t,e?.name),$A({chartConfig:l,seriesConfig:e,meanLineSeries:t,outliersVisibilityChanged:u,standardizeValuesVisibilityChanged:h,rotationChanged:o}),uz({meanLineSeries:t,chartData:i,dataWasUpdated:r,seriesReordered:a,sortChanged:n,rotationChanged:o})}function dz(s){let{series:t,chartConfig:e,seriesConfig:i,rotationChanged:r,outliersVisibilityChanged:a,standardizeValuesVisibilityChanged:n}=s;Po(t,i?.name),t.hiddenInLegend=ts(e),$A({chartConfig:e,seriesConfig:i,candleStickSeries:t,outliersVisibilityChanged:a,standardizeValuesVisibilityChanged:n,rotationChanged:r})}function Az(s){let{chart:t,chartConfig:e,seriesConfig:i,candleStickSeriesId:r,outliersVisibilityChanged:a,standardizeValuesVisibilityChanged:n,rotationChanged:o}=s,l=i.visible!==!1,{topStepLineSeries:u,medianStepLineSeries:h,bottomStepLineSeries:c}=Jb(t,r);u!==void 0&&Kt(u,l),h!==void 0&&Kt(h,l),c!==void 0&&Kt(c,l),$A({chartConfig:e,seriesConfig:i,outliersVisibilityChanged:a,standardizeValuesVisibilityChanged:n,rotationChanged:o,topStepLineSeries:u,medianStepLineSeries:h,bottomStepLineSeries:c})}function fz(s){let{chart:t,series:e,chartData:i,utilsStrings:r,dataWasUpdated:a,sortChanged:n,seriesReordered:o,fieldList:l,outliersVisibilityChanged:u,showMean:h,seriesConfig:c,showOutliers:A,standardizeValuesVisibilityChanged:d,rotationChanged:f,options:p}=s,{tooltipFormatter:m}=p??{};oz({numberOfSeries:s.numberOfSeries,chart:t,showMean:h});let g=le(t.uid,"config");if(g!==void 0){if(e instanceof Or&&c.type===R.BoxPlotSeries){let{id:y}=e;dz({series:e,chartConfig:g,seriesConfig:c,rotationChanged:f,outliersVisibilityChanged:u,standardizeValuesVisibilityChanged:d}),Az({chart:t,chartConfig:g,seriesConfig:c,candleStickSeriesId:y,outliersVisibilityChanged:u,standardizeValuesVisibilityChanged:d,rotationChanged:f}),hz({chart:t,chartConfig:g,seriesConfig:c,chartData:i,showOutliers:A,candleStickSeriesId:y,dataWasUpdated:a,rotationChanged:f,seriesReordered:o,outliersVisibilityChanged:u,standardizeValuesVisibilityChanged:d})}else e instanceof ai&&c.type===R.LineSeries&&cz({chartConfig:g,chartData:i,meanLineSeries:e,seriesConfig:c,dataWasUpdated:a,seriesReordered:o,sortChanged:n,rotationChanged:f,outliersVisibilityChanged:u,standardizeValuesVisibilityChanged:d});Nc({styleCallback:nz,callbackProps:s,series:e,seriesConfig:c,onReadyEvent:!0}),fW({series:e,seriesConfig:c,fieldList:l,tooltipFormatter:m,utilsStrings:r})}}function pz(s){let t=s.series.getIndex(0);t!==void 0&&(t.slices.each(e=>{Gn({element:e,selected:!1,backToDefaultState:!0})}),s.feedLegend())}function mz(s,t=!0){let e;s.series.each((i,r)=>{if((!t||i.visible)&&(e===void 0||e!==R.HistogramSeries&&e!==R.ScatterSeries)){e=zb(i,r);let a=[];if(e===R.HistogramSeries||e===R.BarSeries)a=i.columns?.values;else if(e===R.ScatterSeries||e===R.LineSeries)a=Pr(i)?.clones?.values;else if(e===R.BoxPlotSeries){if(i instanceof Or)a.push(...i.columns.values);else if(i instanceof aa)a.push(...i.segments.values);else if(i instanceof ai){let n=Pr(i)?.clones?.values;n!==void 0&&a.push(...n)}}a!==void 0&&a.forEach(n=>{Gn({element:n,selected:!1,backToDefaultState:!0})})}})}function kA(s){let{chart:t,selectionSource:e,clearOnlyVisibleSeries:i,disposeStyleAndSelection:r}=s,a=le(t.uid,"currentSelectionDataItems");r!==!1&&xI(t,"updateSelectionCallbackDisposer"),It(t.uid,{currentSelectionDataItems:void 0,currentSelectionOIDs:void 0,currentSelectionIndexes:void 0,computedSelectionDataItems:void 0,computedSelectionIndexes:void 0,pendingSelectionQueries:!1}),an(t)&&(t instanceof Lt?mz(t,i??!0):t instanceof Xi&&pz(t)),a&&Nh({data:{selectionSource:e??kr.ClearSelection},htmlContainer:t.htmlContainer})}function gz(s){cx(),Sx(s.htmlContainer),kA({chart:s})}function yz(s){let{chart:t,chartType:e,showMean:i}=s;return t.series.values.filter(r=>Nt(r.uid,"isOverlay")!==!0&&(e!==R.BoxPlotSeries||!i&&r instanceof Or||i&&Nt(r.uid,"isBoxPlotMeanLineSeries"))).every(r=>Nt(r.uid,"isSelectionApplied")===!0)}function bz(s){s.series.each(t=>qr(t.uid,{isSelectionApplied:void 0}))}function UI(s,t){let e=le(s.uid,"actionMode");if((e===Ht.MonoSelection||e===Ht.None)&&t.length>1)kA({chart:s});else{let i=s instanceof Xi;t.forEach(r=>{Gn({element:r,useNativeState:i,selected:!0})})}}function vz(s){let{chart:t,chartConfig:e,series:i,options:r,elementsToApplySelectionTo:a,selectionDataItems:n,layerOidField:o,xAxisField:l,yAxisField:u}=s,h=We(e.series),c=Pt(e.series),A=No(e),d=le(t.uid,"queryObject"),f=[],p=[],m=[],g=Mo(e.series),y=i instanceof Zr?i.dataFields?.customValue??"":"";return a.forEach(x=>{if(!(x instanceof bo)){let C=x.dataItem?.dataContext;if(C!==void 0&&(h===R.BoxPlotSeries&&C[q.boxPlot.boxPlotOutlierId]!==!0||c===Ie.BarAndLineMultiFields)&&(C=su({dataContext:C,yAxisField:u,yList:g,xAxisField:l,splitBy:y,chartType:h,chartSubType:c,showOutliers:A,isFeatureCollectionLayer:Ro(d)})),Mb({elementDataContext:C,options:r,selectionDataItems:n,layerOidField:o,xAxisField:l,yAxisField:u,chartType:h,splitBy:y,chartSubType:c,showOutliers:A}))if(f.push(x),x.dataItem!==void 0&&p.push(x.dataItem.index),x?.dataItem instanceof va&&C!==void 0)m.push(C);else{let S=new Set;h===R.PieSeries&&Ho(C)?(am({groupOfSlicesDataContext:C})??[]).forEach(P=>{n.forEach(F=>{BC({layerOidField:o,sliceDataContext:P,selectionDataContext:F,xAxisField:l})&&S.add(P)})}):S.add(C),Array.from(S)?.forEach(P=>{let F=su({dataContext:P,yAxisField:u,yList:g,xAxisField:l,splitBy:y,chartType:h,chartSubType:c,showOutliers:A,isFeatureCollectionLayer:Ro(d)});F!==void 0&&m.push(F)})}else Gn({element:x,useNativeState:t instanceof Xi,selected:!1})}}),UI(t,f),{selectedIndexes:p,newSelectionDataItems:m}}function xz(s,t){let e=[],i=[],r=le(s.uid,"config"),a=le(s.uid,"queryObject"),n=No(r),o=Mo(r?.series??[]),l=Pt(r?.series);return s.series.each((u,h)=>{if(r&&u.visible&&Nt(u.uid,"isOverlay")!==!0){let c=r.series[0].x,A=Ch(u),d=u instanceof Zr?u.dataFields?.customValue??"":"",f=zb(u,h),p=t.get(h);if(p!==void 0){let m;if(u instanceof Fi?m=u.columns:u instanceof Ts?m=u.slices:m=Pr(u)?.clones,m!==void 0){let{indexesToSelect:g}=p;m.each((y,x)=>{if(y&&(g===void 0||g.includes(x))){let C;f===R.BoxPlotSeries&&y.dataItem instanceof va?C=y.dataItem.dataContext:y.dataItem instanceof bo||(C=su({dataContext:y.dataItem?.dataContext,yList:o,yAxisField:A,xAxisField:c,splitBy:d,chartType:f,chartSubType:l,showOutliers:n,isFeatureCollectionLayer:Ro(a)})),C!==void 0&&e.push(C),i.push(y)}else Gn({element:y,useNativeState:s instanceof Xi,selected:!1})})}}}}),UI(s,i),e}function _z(s){let{series:t,chartType:e,showMean:i}=s,r;switch(e){case R.ComboLineAndBarSeries:if(t instanceof Fi)r=t.columns.values;else if(t instanceof ai){let a=Pr(t);a!==void 0&&(r=a.clones.values)}break;case R.BarSeries:case R.HistogramSeries:t instanceof Fi&&(r=t.columns.values);break;case R.LineSeries:case R.ScatterSeries:if(t instanceof ai){let a=Pr(t);a!==void 0&&(r=a.clones.values)}break;case R.PieSeries:r=t.slices.values;break;case R.BoxPlotSeries:if(t.chart instanceof Lt){if(t instanceof Or&&i!==!0){r=[...t.columns.values];let a=cm(t.chart,t.id);if(a!==void 0&&a.visible){let n=Pr(a);n!==void 0&&r.push(...n.clones.values)}}else if(i===!0&&t instanceof ai&&Nt(t.uid,"isBoxPlotMeanLineSeries")){let a=Pr(t);a!==void 0&&(r=a.clones.values)}}break}return r}function wz(s){let{series:t,seriesIndex:e,queryObject:i,options:r,dataWasUpdated:a,sortChanged:n,groupOfSlicesWasUpdated:o,xAxisField:l,yAxisField:u,rotationChanged:h}=s,{filterBySelection:c,selectionData:A,returnSelectionIndexes:d,returnSelectionOIDs:f}=r??{},{selectionIndexes:p}=A??{},{chart:m}=t,g=le(m.uid,"config"),y=g&&"showOutliers"in g&&typeof g.showOutliers=="boolean"?g.showOutliers:!1,x=ts(g),C=We(g?.series);if(c!==!0&&g!==void 0){let S=_z({series:t,chartType:C,showMean:x}),P=Pt(g?.series),F;i!==void 0&&(F=ha(i).objectIdField);let O=le(m.uid,"currentSelectionDataItems"),$=!1,L=!1,E,D=!1;if(S?.[0]!==void 0){if(r?.viewExtentUpdated!==!0){E=r?.selectionData?.selectionItems??O;let H=le(m.uid,"currentSelectionIndexes");D=$x({itemsA:E,itemsB:O,isPieFromFields:P===Ie.PieFromFields});let te=p?.keys.length!==H?.keys.length||!dd(p,H);$=n===!0||a===!0||o===!0||h===!0||E!==void 0&&D;let K=!0;if(p!==void 0&&p.size>0){let{indexesToSelect:ae}=p.get(e??0)??{};K=ae!==void 0&&ae[0]===void 0}L=a===!0||o===!0||h===!0||!K&&te}if($&&E!==void 0&&E.length>0){let{selectedIndexes:H,newSelectionDataItems:te}=vz({chart:m,chartConfig:g,options:r,series:t,elementsToApplySelectionTo:S,selectionDataItems:E,layerOidField:F,xAxisField:l,yAxisField:u}),K=le(m.uid,"computedSelectionDataItems")??[];if(K.push(...te),g.series.length>1&&P!==Ie.BarAndLineNoAggregation&&P!==Ie.BarAndLineSplitByNoAggregation&&(K=Rx({data:K,x:g.series[0].x,splitByField:ko(g.series[0].query?.where)})),It(m.uid,{computedSelectionDataItems:K}),d===!0){let ae=Array.from(new Set(H)),ie=le(m.uid,"computedSelectionIndexes");ie===void 0&&(ie=new Map),ae.length===S.length?ie.set(e??0,{}):ie.set(e??0,{indexesToSelect:ae}),It(m.uid,{computedSelectionIndexes:ie})}}else if(p!==void 0&&L)E=xz(m,p);else{let H=E===void 0||E.length===0,te=t instanceof Zr?t.dataFields?.customValue??"":"",K=ae=>{let ie=ae.dataItem?.dataContext;return ie!==void 0&&C===R.BoxPlotSeries&&ie[q.boxPlot.boxPlotOutlierId]!==!0&&(ie=su({dataContext:ie,yAxisField:u,yList:Mo(g.series),xAxisField:l,splitBy:te,chartType:C,chartSubType:P,showOutliers:y,isFeatureCollectionLayer:Ro(i)})),Mb({elementDataContext:ie,options:r,selectionDataItems:E??O??[],layerOidField:F,xAxisField:l,yAxisField:u,chartType:C,splitBy:te,chartSubType:P,showOutliers:y})};S.forEach(ae=>{let ie=ae.isActive||K(ae);Gn({element:ae,selected:ie,useNativeState:m instanceof Xi,backToDefaultState:H})})}}if(qr(t.uid,{isSelectionApplied:!0}),yz({chart:m,chartType:C,showMean:x})&&(bz(m),D||L)){let H=le(m.uid,"computedSelectionDataItems")??E;H=Array.from(new Set(H?.map(K=>JSON.stringify(K)))).map(K=>JSON.parse(K)),E!==void 0&&It(m.uid,{currentSelectionDataItems:H}),A?.selectionOIDs!==void 0&&It(m.uid,{currentSelectionOIDs:A.selectionOIDs});let te;if(d===!0&&(te=le(m.uid,"computedSelectionIndexes")??p,te!==void 0&&It(m.uid,{currentSelectionIndexes:te})),H===void 0||H.length===0)kA({chart:m,selectionSource:kr.ProgrammaticSelection});else{let K={selectionItems:H,selectionSource:kr.ProgrammaticSelection};d===!0&&(K.selectionIndexes=te),f!==!1&&(K.selectionOIDs=A?.selectionOIDs??le(m.uid,"currentSelectionOIDs")),Nh({data:K,seriesConfig:g.series,htmlContainer:m.htmlContainer})}It(m.uid,{computedSelectionIndexes:void 0,computedSelectionDataItems:void 0})}}}async function Cz(s){let{chart:t,options:e,dataWasUpdated:i,chartData:r,chartConfig:a,queryObject:n,rotationChanged:o,errorStrings:l}=s,u=le(t.uid,"currentSelectionOIDs"),h=le(t.uid,"queryConfig"),c=await Ex({chartConfig:a,queryConfig:h,chartData:r,currentSelectionOIDs:u,dataWasUpdated:i,queryObject:n,options:e,errorStrings:l});c!==void 0&&e!==void 0&&(e.selectionData={...e?.selectionData,selectionItems:c});for(let A=0;A<t.series.length;A+=1){let d=t.series.getIndex(A);if(d){let f=Zb(d,a);if(f){let p=We([f]);if(p===R.ScatterSeries?d=t.series.values.find(m=>Nt(m.uid,"isOverlay")!==!0):p===R.BoxPlotSeries&&(d=t.series.values.find(m=>m.id===f.id)),d!==void 0){let m=f.x,g=p===R.BoxPlotSeries?f.y.toString():Ch(d);UX({callbackProps:{...s,series:d,seriesIndex:A,xAxisField:m,yAxisField:g},series:d,seriesConfig:f,onReadyEvent:o===!0})}}}}}async function dm(s){let{chart:t,listSelectedElements:e,selectionSource:i}=s,r=le(t.uid,"options"),a=le(t.uid,"config"),n=le(t.uid,"queryObject");if(a)if(e.length===0)kA({chart:t,selectionSource:i,clearOnlyVisibleSeries:!1,disposeStyleAndSelection:!1});else try{xI(t,"updateSelectionCallbackDisposer");let o=No(a),l=[],u=[],h=[],c=new Map,{xAxisField:A}=e[0]??{},d=We(a?.series),f=Pt(a?.series),p=Mo(a?.series??[]),m;if(n!==void 0&&(m=(await Pn(n)).find(y=>y.name===A)?.type),e.forEach(y=>{let{elementDataContext:x,yAxisField:C,splitBy:S}=y,P=su({dataContext:x,yAxisField:C,yList:p,xAxisField:A,splitBy:S,chartType:d,chartSubType:f,showOutliers:o,isFeatureCollectionLayer:Ro(n)});P!==void 0&&u.push(P);let{seriesIndex:F,elementIndex:O}=y;if(O!==void 0){let $=c.get(F)?.indexesToSelect??[];$.push(O),c.set(F,{indexesToSelect:Array.from(new Set($))})}if(x!==void 0){let $=x[Eh.uniqueIdsName]!==void 0?[x[Eh.uniqueIdsName]].flat():[];if($.length>0)h.push(...$);else if(r?.returnSelectionOIDs!==!1){let L=kx({dataContext:x,options:r,xAxisField:A,yAxisField:C??"",splitBy:S,xAxisFieldType:m,chartConfig:a});l.push(L)}}}),r?.returnSelectionOIDs!==!1&&n!==void 0&&l.length>0){let y={...le(t.uid,"queryConfig")};delete y.groupByFieldsForStatistics,delete y.orderByFields,delete y.outStatistics;let x=await Mx({whereList:l,queryObject:n,queryConfig:y});if(l.length===e.length)h=x;else for(let C=0;C<x.length;C+=1)h.push(x[C])}It(t.uid,{currentSelectionDataItems:u,currentSelectionOIDs:h,currentSelectionIndexes:c});let g={selectionItems:u,selectionSource:i};r?.returnSelectionIndexes===!0&&(g.selectionIndexes=c),r?.returnSelectionOIDs!==!1&&(g.selectionOIDs=h),Nh({data:g,seriesConfig:a?.series,htmlContainer:t.htmlContainer})}catch(o){It(t.uid,{pendingSelectionQueries:!1});let{httpStatus:l}=o instanceof lf?o.details.details:o.details??{};if(l===429)gz(t);else throw o}It(t.uid,{pendingSelectionQueries:!1})}function Bz(s){let{axis:t}=s,e=t.chart;return{axis:t,chart:e}}async function Sz(s){let t=s.target,{axis:e,chart:i}=Bz(t),r=[],{seriesDataItems:a}=s.target.dataItem;Object.keys(a).forEach(h=>{if(Object.hasOwn(a,h)){let c=a[h];for(let A of c)if(A instanceof cs)r.push(A.column);else{let d=A.sprites.find(f=>!(f instanceof Ei));d!==void 0&&r.push(d)}}});let n=qb(s,i),o=e instanceof Ct||e instanceof Ut,l=[],u=le(i.uid,"config");if(u){let h=u.series[0].x??"";i.series.each((c,A)=>{let d;if(c instanceof Fi?d=c.columns:d=Pr(c)?.clones,c.visible){let f=Ch(c),p=c.dataFields?.customValue??"";d?.each((m,g)=>{let y=r.includes(m);Gn({element:m,selected:y,multiSelect:n,isDateOrCategoryAxis:o})&&l.push({element:m,elementDataContext:m.dataItem?.dataContext,yAxisField:f,xAxisField:h,splitBy:p,seriesIndex:A,elementIndex:g,chartConfig:u})})}}),await dm({chart:i,listSelectedElements:l,selectionSource:kr.SelectionByClick})}}function Pz(s){if(an(s.renderer.labels.template)){s.renderer.labels.template.events.on(Oe.Hit,async e=>{s.renderer.labels.template.events.isEnabled(Oe.Hit)&&await Sz(e)});let t=le(s.chart.uid,"filterBySelection")===!0?li.default:li.pointer;fC(s,t)}}function $b(s,t){if(an(s?.renderer?.labels?.template)&&(s instanceof Ut||s instanceof Ct))if(t)s.renderer.labels.template.events.disableType(Oe.Hit),fC(s,li.default);else{s.renderer.labels.template.events.enableType(Oe.Hit);let e=le(s.chart.uid,"filterBySelection")===!0?li.default:li.pointer;fC(s,e)}}function Qc(s){let{chart:t,label:e,labelType:i}=s,r=Number.NaN;switch(i){case pi.GuideLabel:!(t instanceof Vs)&&t instanceof Lt&&(e.rotation===90||e.rotation===270?r=t.seriesContainer.measuredHeight:r=t.seriesContainer.measuredWidth);break;case pi.XAxisTitle:t instanceof Lt&&(r=t.seriesContainer.measuredWidth);break;case pi.YAxisTitle:t instanceof Lt&&(r=t.seriesContainer.measuredHeight);break;case pi.ChartTitle:case pi.ChartSubTitle:case pi.ChartFooter:r=t.measuredWidth-20;break}r>0&&(e.maxWidth=r,t.invalidateLabels(),t instanceof Lt&&(t.xAxes.getIndex(0)?.invalidateLabels(),t.xAxes.getIndex(1)?.invalidateLabels(),t.yAxes.getIndex(0)?.invalidateLabels(),t.yAxes.getIndex(1)?.invalidateLabels()))}function sm(s){let{chart:t,labelType:e}=s;Qc(s);let i=e===pi.YAxisTitle?1:0;t.events.on(Oe.Validated,Wr(()=>Qc(s),q.debounceTime),i)}function Fz(s,t){s.chart instanceof Vs||(t.adapter.add("dx",e=>{let i=e;return(t.rotation===90||t.rotation===270)&&(i=t.bbox.height,t.dataItem.value!==t.dataItem.endValue&&(i/=2)),i}),t.padding(0,10,0,10))}function Tz(s,t){let e=s.renderer instanceof tu?new Hn:new Al;return e.disabled=!0,e.axis=s,Gb(e),yl(e.uid,{isGuide:t}),sm({chart:s.chart,label:e,labelType:pi.GuideLabel}),t&&Fz(s,e),e}function Dz(s){let{label:t,labelConfig:e,guideType:i}=s,r=t.axis.renderer instanceof br,a;t instanceof Hn||(r?i===qt.SFS?a=q.verticalSurfaceGuideLabels:a=q.verticalLineGuideLabels:i===qt.SFS?a=q.horizontalSurfaceGuideLabels:a=q.horizontalLineGuideLabels);let n={...e};n.content.rightToLeft=t.axis.rtl,sn({label:t,labelConfig:n,defaults:a}),t.axis.invalidateLabels()}function Oz(s,t,e){let i=e.chart;s.axisFill.tooltip=new go,s.axisFill.interactionsEnabled=!0,s.axisFill.tooltipPosition=q.columnTooltipPosition,s.axisFill.tooltip.label.wrap=!0,s.axisFill.tooltip.adapter.add("maxWidth",()=>Math.min(q.tooltipWidth,i.seriesContainer.maxWidth)),s.axisFill.tooltip.boundingContainer=i.chartAndLegendContainer,s.axisFill.adapter.add("tooltipHTML",(r,a)=>{let n=r,{dataItem:o,axis:l}=a;if(!(l.renderer instanceof tu)){let u=Ns(l.uid,"guideTooltipFormatter");if(u!==void 0){let h="",c;o instanceof xo?(h=o.value,c=o.endValue):o instanceof ml?(h=o.category,c=o.endCategory):o instanceof dh&&(h=o.date,c=o.endDate),n=u({guideName:o.id??"",start:h,end:c,guideIndex:t})}}return n}),s.axisFill.tooltip.events.on(Oe.Shown,r=>{let a=le(s.axisFill.axis.chart.uid,"config");if(a!==void 0){let n=le(s.axisFill.axis.chart.uid,"isRotated"),o=qc(s.axisFill.axis.renderer,n)?0:1,l=a.axes?.[o]?.guides,{tooltipReverseColor:u}=l?.[t]??{};BI(r.target,u)}})}function Lz(s,t){return e=>{let{guideName:i,start:r,end:a,guideIndex:n}=e,{chart:o}=s,l="";if(o!==void 0){let u=le(o.uid,"config"),h=le(o.uid,"isRotated"),c=qc(s.renderer,h)?0:1,A=u?.axes?.[c]?.guides,d=r,f=a;if(s instanceof Ct){let y=new An,x;if(o!==void 0){let C=le(s.chart.uid,"formatLocale");y=yn({type:R.DateAxisFormat,iLocale:o.language.locale,formatLocale:C}),x=u?.axes?.[0]?.valueFormat?.intlOptions}d=y.format(r,x),a!==void 0&&(f=y.format(a,x))}else if(s instanceof Ne&&!(r instanceof Date)&&!(a instanceof Date)){let{start:y,end:x}=tB(s,A?.[n]);Number.isFinite(y)&&(d=y),Number.isFinite(x)&&(f=x);let C=Ns(s.uid,"numberFormatter")??(S=>new Kl().format(S));d=C(d),f!==void 0&&(f=C(f))}else s instanceof Ut&&(d=r,f=a);let p=d.toString(),m=f?.toString()??"";!Ki(m)&&p!==m?l=BA(t.guideTooltipLabel,{guideStart:p,guideEnd:m}):l=p;let g=ca(o.rtl);l=`${i}${g} ${l}`}return l}}function Iz(s){let{axis:t,guideTooltipFormatter:e,utilsStrings:i}=s;Ls(t.uid,{guideTooltipFormatter:e??Lz(t,i)})}function $z(s){let t=$h.Value;return s instanceof Ct?t=$h.Date:s instanceof Ut&&(t=$h.Category),t}function XO(s){let{inputValue:t,axisType:e,axisMin:i,axisMax:r}=s,a=t;if(t!=null)switch(e){case $h.Date:a=t instanceof Date?t:new Date(t);break;case $h.Category:a=t.toString();break;case $h.Value:if(typeof t!="number"){let n=t.toString().trim(),o=vf(n);o!==void 0?i!==void 0&&r!==void 0?a=o/100*(r-i)+i:a=null:a=Number.parseFloat(n)}break}return a}function tB(s,t){let{start:e,end:i}=t??{},r;if(t!==void 0&&e!==void 0&&e!==null){let a=$z(s),n=s instanceof Ne?s.min:void 0,o=s instanceof Ne?s.max:void 0,l=XO({inputValue:e,axisType:a,axisMin:n,axisMax:o}),u=t.style?.type===qt.SFS&&i!==null&&i!==void 0?XO({inputValue:i,axisType:a,axisMin:n,axisMax:o}):l;r={isValidGuide:l!=null&&u!=null,start:l,end:u}}else r={isValidGuide:!1,start:void 0,end:void 0};return r}function VI(s){let{axis:t,tickOrGuide:e,numberOfElementsToBeDeleted:i}=s,r=[],a=t.axisRanges.length-1,n=i;for(;n>0&&a>=0;){let o=t.axisRanges.getIndex(a);if(o!==void 0){let l=ys(o.label?.uid,"isGuide")??!1;(l!==!0&&e===Di.Ticks||l===!0&&e===Di.Guides)&&(r.push(o),n-=1)}a-=1}for(let o=0;o<r.length;o+=1)t.axisRanges.removeValue(r[o])}function bs(s,t){return s.axisRanges?.values?.filter(e=>{let i=ys(e.label?.uid,"isGuide")??!1,r=ys(e.label?.uid,"isGaugeAxisLabel")??!1,a=!1;switch(t){case Di.Ticks:a=i===!1;break;case Di.Guides:a=i===!0;break;case Di.GaugeTicksWithLabels:a=r===!0&&e.value!==void 0;break;case Di.GaugeFirstAndLastGuides:a=i===!0&&(e.id===q.gaugeFirstLabelId||e.id===q.gaugeLastLabelId);break}return a})??[]}function NI(s,t){let e=s.axisRanges.length;if(t){let r=s.axisRanges.values.findIndex(a=>a.id===q.gaugeFirstLabelId);r!==-1&&(e=r)}let i;return s instanceof Ut?i=new ml:s instanceof Ct?i=new dh:i=new xo,s.axisRanges.insertIndex(e,i),i.label=Tz(s,t),i.axisFill.fillOpacity=1,i.axisFill.disabled=!0,i.grid.strokeOpacity=1,i}function kz(s,t){let e=NI(s,!0);Oz(e,t,s),e.tick!==void 0&&(e.tick.disabled=!0),e.label!==void 0&&(e.label.inside=!0),e.grid!==void 0&&(e.grid.disabled=!0)}function Ez(s,t){let{start:e,end:i}=t,r=le(s.uid,"config"),a=pg(r),n=e!==null?e:void 0;n=s.data.find(l=>l[q.originalCategoryValue]===e)?.[a]??n;let o=i!==null?i:void 0;if(o!==void 0)for(let l=s.data.length-1;l>=0;l-=1){let u=s.data[l];if(u[q.originalCategoryValue]===i){o=u[a];break}}return{modifiedStart:n,modifiedEnd:o}}function Mz(s,t){let{start:e,end:i}=t;if(e!==void 0){let{chart:r}=s?.component??{},a;if(s instanceof ml&&r instanceof Lt&&le(r.uid,"isNonAggregatedChart")===!0){let{modifiedStart:n,modifiedEnd:o}=Ez(r,t);a={isValidGuide:!0,start:n??e,end:o??i}}else a=tB(s.axisFill.axis,t);a.isValidGuide&&(s instanceof ml?(s.category=`${a.start?.toString()}`,s.endCategory=`${a.end?.toString()}`):s instanceof dh?(s.date=a.start,s.endDate=a.end):(s.value=a.start,s.endValue=a.end))}}function Rz(s,t){s.axisFill.above=t??q.guideAbove,s.grid.above=t??q.guideAbove}function Uz(s,t){let{axisFill:e,label:i}=s;if(t!==void 0){if(s.id=t.name,s.visible=t.visible!==void 0?t.visible:s.visible,Mz(s,t),t.style.type===qt.SLS?im({element:e,fillSymbol:{type:qt.SFS,color:t.style?.color,outline:t.style},visible:t.visible}):t.style.type===qt.SFS&&im({element:e,fillSymbol:t.style,visible:t.visible}),Rz(s,t.above),t.label!==void 0){let a={type:R.Text,visible:t.visible,content:t.label};Dz({label:i,labelConfig:a,guideType:t.style.type})}let r=s.component?.chart;r!==void 0&&Qc({chart:r,label:i,labelType:pi.GuideLabel})}else e.disabled=!0,i.disabled=!0}function Vz(s,t){let e=bs(s,Di.Guides).length,i=t?.length??e;for(let r=e;r<i;r+=1)kz(s,r)}function Nz(s){let{axis:t,guides:e,guideTooltipFormatter:i,utilsStrings:r}=s;if(e!==void 0){for(let a=0;a<e.length;a+=1){let n=bs(t,Di.Guides)[a];n!==void 0&&Uz(n,e[a])}Iz({axis:t,guideTooltipFormatter:i,utilsStrings:r})}}function Qz(s,t){let e=bs(s,Di.Guides).length,i=t?.length??0,r=e-i;VI({axis:s,numberOfElementsToBeDeleted:r,tickOrGuide:Di.Guides})}function Hz(s){let{axis:t,guides:e}=s;Vz(t,e),Nz(s),Qz(t,e)}function jz(s){let t=NI(s,!1);t.label.inside=!1,t.grid.disabled=!0,t.label.html=q.htmlEmptyContent,t.label.adapter.add("htmlOutput",(e,i)=>HC(s,i?.dataItem?.value??e))}function Xz(s){let{axisTick:t,value:e,axisConfig:i,numberFormatter:r}=s;t.value=e,i.labels.content.text=r.format(e),Co({element:t.tick,lineSymbol:i.lineSymbol,visible:i.visible})}function Wz(s,t){let e=bs(s,Di.Ticks).length,i=(t?.length??e)-e;for(let r=0;r<i;r+=1)jz(s)}function zz(s){let{valueAxis:t,axisConfig:e,ticks:i}=s,r=le(t.chart.uid,"formatLocale"),a=yn({type:e.valueFormat.type,iLocale:t.chart.language.locale,formatLocale:r});if(a.numberFormat=Jn(e.valueFormat),i!==void 0){let n=bs(t,Di.Ticks);for(let o=0;o<i.length;o+=1){let l=n[o];if(l!==void 0){let u=i[o];Xz({axisTick:l,value:u,axisConfig:e,numberFormatter:a})}}}}function Gz(s,t){let e=bs(s,Di.Ticks).length,i=t?.length??0,r=e-i;VI({axis:s,numberOfElementsToBeDeleted:r,tickOrGuide:Di.Ticks})}function Yz(s){let{valueAxis:t,axisConfig:e,ticks:i}=s;Wz(t,i),zz({valueAxis:t,axisConfig:e,ticks:i}),Gz(t,i)}function QI(s){let{axis:t,labels:e,restoreLabelsVisibility:i=!0}=s,r,a=0;if((e??t.renderer.labels.values).forEach(n=>{let o=n.x instanceof qe?n.x.value:n.x;o>a&&(a=o,r=n),i&&Kt(n,!0)}),r?.visible===!0){let n=Math.max(1,r.measuredWidth)/2,o=t.chart.leftAxesContainer.measuredWidth;if(Number.isFinite(a)&&Number.isFinite(n)&&Number.isFinite(o)){let l=a+n+o>t.chart.measuredWidth&&r.rotation===0;Kt(r,!l)}}}function HI(s){let t=s.renderer.labels.values.filter(e=>ys(e.uid,"isGuide")!==!0&&e.measuredWidth>0).length;return s.pixelWidth/t}function Kz(s){let{target:t}=s;if((le(t.chart.uid,"config")?.horizontalAxisLabelsBehavior??dr.Rotate)===dr.Wrap){let e=Number.MAX_SAFE_INTEGER;t.renderer.labels.each(r=>{ys(r.uid,"isGuide")!==!0&&r.measuredWidth>0&&(e=Math.min(e,r.bbox.width))});let i=t instanceof Ct?t.pixelWidth/q.maxNumberOfXAxisLabelsInWrapModeForDateAxis:t.pixelWidth/q.maxNumberOfXAxisLabelsInWrapMode;t.renderer.minGridDistance=Math.max(e+1,i)}}function Zz(s){let{axis:t,labelsConfig:e,horizontalAxisLabelsBehavior:i,isSecondValueAxis:r,tickSpacing:a}=s,n=t.renderer.minGridDistance;if(typeof a=="number"&&Number.isFinite(a))n=a;else if(t.renderer instanceof tu)n=q.gauge.gaugeMinGridDistance;else if(t instanceof Ne)n=t.renderer instanceof br?q.xAxisMinGridDistance:q.yAxisMinGridDistance;else if(t.renderer instanceof br)if(r===!0)n=q.secondRotatedValueAxisMinGridDistance;else if(i===void 0||i===dr.Rotate){let o=e.content.font?.size??q.generalFontSize,l=t instanceof Ut?q.categoryAxisLabelPadding:q.axisLabelPadding;n=o*l}else if(i===dr.Wrap){let o=Wr(Kz,q.debounceTime);Ls(t.uid,{debouncedUpdateMinGridDistanceForWrapBehavior:o}),t.events.on(Oe.SizeChanged,o),t.dispatchImmediately(Oe.SizeChanged)}else i===dr.Stagger?n=q.staggerMinGridDistance:n=t instanceof Ut?q.xCategoryAxisMinGridDistance:q.xAxisMinGridDistance;else n=t instanceof Ut?q.yCategoryAxisMinGridDistance:q.yAxisMinGridDistance;t.renderer.minGridDistance=n}function qz(s){let t=s.renderer.labels.template;an(t)&&(t.adapter.add("rotation",(e,i)=>ys(i.uid,"isGuide")!==!0?Ns(s.uid,"labelsSymbol")?.angle??e:e),t.adapter.add("verticalCenter",(e,i)=>ys(i.uid,"isGuide")!==!0?Ns(s.uid,"labelsSymbol")?.verticalCenter??e:e),t.adapter.add("horizontalCenter",(e,i)=>ys(i.uid,"isGuide")!==!0?Ns(s.uid,"labelsSymbol")?.horizontalCenter??e:e),t.adapter.add("dy",(e,i)=>{let r=q.axisLabel.dy??e??0;return i.dataItem?.tick?.length>q.axisTickLength?r=e??0:r=Number(ys(i.uid,"isGuide")!==!0?Ns(s.uid,"labelsSymbol")?.yOffset??r:r),r}))}function Jz(s){let{target:t}=s;if(t.chart!==void 0){let e=le(t.chart.uid,"config")?.axes?.[0].labels;if((e?.visible??!0)&&e!==void 0&&t.renderer.labels.length>1){let i=0;t.renderer.labels.each(n=>{if(ys(n.uid,"isGuide")!==!0&&n.measuredWidth>0){let o=n.bbox.width;o>i&&(i=o)}});let r=Ns(t.uid,"labelsSymbol")?.angle??0,a=HI(t)>=i+5;if(!a&&r===0||a&&r===q.rotatedAxisLabel.rotation){let n=a?Lb(e.content,t.rtl,q.axisLabel):Lb({type:qt.TS},t.rtl,q.rotatedAxisLabel);Ls(t.uid,{labelsSymbol:n}),t.renderer.invalidateLabels()}}}}function eG(s,t=1){let{target:e}=s,i=HI(e);Number.isFinite(i)&&(e.renderer.labels.template.maxWidth=Math.min(i*t,e.renderer.minGridDistance))}function tG(s){let{target:t}=s;if(le(t.chart.uid,"config")?.axes?.[0].labels?.visible!==!1){let e=0;t.dataItems.each(i=>{let{label:r,itemIndex:a}=i;ys(r.uid,"isGuide")!==!0&&r.currentText!==void 0&&r.measuredWidth>0&&a%2===0&&r.bbox.height>e&&(e=r.bbox.height)}),t.dataItems.each(i=>{let{tick:r,label:a,itemIndex:n}=i;if(ys(a.uid,"isGuide")!==!0&&a.currentText!==void 0&&a.measuredWidth>0){let o=n%2===1;r.length=o?e+5:q.axisTickLength,r.dataItem.label.dy=q.axisLabel.dy+(o?e:0)}}),e!==void 0&&(t.renderer.labels.template.paddingBottom=e+5),t.validate()}}function iG(s){let{chart:t}=s;s.renderer.labels.template.paddingLeft=Number.NaN,s.renderer.labels.template.paddingRight=Number.NaN;let e=Ns(s.uid,"debouncedAxisLabelRotationCallback");if(e!==void 0&&(s.events.off(Oe.Validated,e),Ls(s.uid,{debouncedAxisLabelRotationCallback:void 0})),t!==void 0){let i=le(t.uid,"config")?.axes?.[0].labels;if(i!==void 0){let r=Lb(i.content,t.rtl,q.axisLabel),a=s.renderer.labels.template;a.rotation=r.angle,a.verticalCenter=r.verticalCenter,a.horizontalCenter=r.horizontalCenter,Number.isFinite(r.yOffset)&&(a.dy=r.yOffset)}Ls(s.uid,{labelsSymbol:void 0})}}function jI(s){s.renderer.labels.template.wrap=!1,s.renderer.labels.template.textAlign="start"}function rG(s){jI(s),s.renderer.labels.template.paddingLeft=Number.NaN,s.renderer.labels.template.paddingRight=Number.NaN;let t=Ns(s.uid,"debouncedAxisLabelWrapCallback");t!==void 0&&(s.events.off(Oe.DataRangeChanged,t),Ls(s.uid,{debouncedAxisLabelWrapCallback:void 0}))}function sG(s){jI(s);let t=Ns(s.uid,"debouncedUpdateMinGridDistanceForWrapBehavior");t!==void 0&&(s.events.off(Oe.SizeChanged,t),Ls(s.uid,{debouncedUpdateMinGridDistanceForWrapBehavior:void 0}))}function aG(s){let t=Ns(s.uid,"debouncedAxisLabelStaggerCallback");t!==void 0&&(s.events.off(Oe.DataRangeChanged,t),Ls(s.uid,{debouncedAxisLabelStaggerCallback:void 0})),s.renderer.ticks.each(e=>{e.length=q.axisTickLength,e.dataItem?.label&&(e.dataItem.label.dy=q.axisLabel.dy??0)})}function nG(s){iG(s),rG(s),aG(s)}function WO(s){qz(s),s.renderer.labels.template.paddingLeft=0,s.renderer.labels.template.paddingRight=0,s.renderer.labels.template.maxWidth=Number.NaN;let t=Wr(Jz,q.debounceTime,{leading:!0});Ls(s.uid,{debouncedAxisLabelRotationCallback:t}),s.events.on(Oe.Validated,t),s.dispatchImmediately(Oe.Validated)}function zO(s,t=1){s.renderer.labels.template.wrap=!0,s.renderer.labels.template.paddingLeft=.5,s.renderer.labels.template.paddingRight=.5,s.renderer.labels.template.textAlign="middle";let e=Wr(i=>eG(i,t),q.debounceTime);Ls(s.uid,{debouncedAxisLabelWrapCallback:e}),s.events.on(Oe.DataRangeChanged,e)}function oG(s){s.renderer.labels.template.maxWidth=q.yAxisLabelMaxWidth,s.renderer.labels.template.wrap=!0,s.renderer.labels.template.textAlign="end"}function lG(s){let t=Wr(tG,q.debounceTime);Ls(s.uid,{debouncedAxisLabelStaggerCallback:t}),s.events.on(Oe.DataRangeChanged,t)}function uG(s){let{axis:t,horizontalAxisLabelsBehavior:e,verticalAxisLabelsBehavior:i,labelsConfig:r,axisLabelsBehaviorChanged:a,isSecondValueAxis:n}=s;if(t.renderer instanceof br&&a?.[0]!==!1){if(nG(t),n!==!0)switch(e){case dr.Hide:break;case dr.Stagger:lG(t),zO(t,1.5);break;case dr.Wrap:zO(t);break;case dr.Rotate:WO(t);break;default:r.content.angle!==null&&r.content.angle===void 0&&WO(t);break}}else t.renderer instanceof Dr&&(i!==dr.Hide?oG(t):sG(t))}function hG(s){let{axis:t,axisConfig:e,chartType:i,horizontalAxisLabelsBehavior:r,verticalAxisLabelsBehavior:a,axisLabelsBehaviorChanged:n,isSecondValueAxis:o}=s;if(t.renderer instanceof Dr||i!==R.HistogramSeries){let l=t.renderer.labels.template;l.axis=t;let{labels:u}=e,h=t.renderer instanceof br&&l.rotation===q.rotatedAxisLabel.rotation,c=u,A;h?(c.content.angle=void 0,c.content.horizontalAlignment=void 0,c.content.verticalAlignment=void 0,c.content.yoffset=void 0,A=q.rotatedAxisLabel):t.renderer instanceof br&&(r===dr.Stagger||r===dr.Wrap)&&(A={wrap:!0,dy:q.axisLabel.dy}),t.renderer instanceof Dr&&a!==dr.Hide&&(A={wrap:!0}),sn({label:l,labelConfig:c,defaults:A}),t.renderer.labels.template.paddingTop=t.renderer instanceof br?0:q.axisLabel.dy,l.align="none",l.valign="none",uG({axis:t,horizontalAxisLabelsBehavior:r,verticalAxisLabelsBehavior:a,labelsConfig:u,axisLabelsBehaviorChanged:n,isSecondValueAxis:o}),l.axis.invalidateLabels()}}function iB(s){return(s??ax())===cr.Side}function XI(s,t){let e,i,r=rm(s,"bullets"),a=rm(s,"columns"),n=iB(t);return n&&r!==void 0?(e=r,i=a):n||(e=a,i=r),{labelToRender:e,labelToHide:i}}function cG(s,t=!0){s.hideOversized=t}function dG(s,t){let e,i,r=zn(q.dataLabelInitialize);yl(r.uid,{isDataLabel:!0}),s.bullets.push(r);let a=zn(q.dataLabelInitialize,s.columns.template);return yl(a.uid,{isDataLabel:!0}),gC(a,s),gC(r,s),s.events.on(Oe.Validated,Wr(()=>{tm(a)&&a.clones.each(n=>{tm(n)&&n.validate()})},q.debounceTime)),a.html="{valueX}",r.html="{valueX}",GC(r),iB(t)?(e=r,i=a):(e=a,i=r),zC(R.BarSeries,r),mI(R.BarSeries,e),{newLabelToRender:e,newLabelToHide:i}}function AG(s){let{series:t,stackedType:e,isRotated:i,hideOversizedStackedLabels:r,hideOversizedSideBySideLabels:a}=s,{labelToRender:n,labelToHide:o}=XI(t,e);if(n===void 0){let{newLabelToRender:h,newLabelToHide:c}=dG(t,e);n=h,o=c}let l=q.dataLabel,u=!0;iB(e)?(l=i===!0?q.dataLabelRotated:q.dataLabel,u=a===!0):(l=i===!0?q.dataLabelStackedRotated:q.dataLabelStackedNonRotated,u=r!==!1),cG(n,u),o!==void 0&&(o.visible=!1,o.disabled=!0),n.html="{valueX}",Yb({...s,dataLabel:n,labelDefaults:l,defaultDataLabelFormatter:gI,seriesType:R.BarSeries})}function fG(s){let t=s.tooltip;t!==void 0&&!(s instanceof Ct)&&(t.label.adapter.add("html",(e,i)=>{let r=e??"";return s instanceof Ne?r=HC(s,i.properties?.text??e??""):s instanceof Ut&&(r=iI({axis:s,defaultOutput:e??"",dataItem:t.dataItem})),Ur(r)}),t.label.html=q.htmlEmptyContent)}function yC(s){let{axis:t,start:e,end:i}=s;t.zoom({start:e??0,end:i??1})}function GO(s){s!==void 0&&(s.start=0,s.end=1)}function rB(s){s!==void 0&&(s.xAxes!==void 0&&s.xAxes.each(t=>yC({axis:t})),s.yAxes!==void 0&&s.yAxes.each(t=>yC({axis:t})),GO(s.scrollbarX),GO(s.scrollbarY),Kt(s.zoomOutButton,!1))}function qc(s,t){return s instanceof br&&t!==!0||s instanceof Dr&&t===!0}function pG(s){an(s.labels.template)&&(s.labels.template.events.on(Oe.Over,t=>{let{axisLabelOveredOpacity:e}=q;t.target.fillOpacity=(t.target.fillOpacity??1)*e}),s.labels.template.events.on(Oe.Out,t=>{let{axisLabelOveredOpacity:e}=q;t.target.fillOpacity=(t.target.fillOpacity??.5)/e}))}function mG(s){let{axis:t,valueFormat:e,axisRenderer:i,chartType:r}=s;i.grid.template.applyOnClones=!0,i.ticks.template.applyOnClones=!0,i.labels.template.applyOnClones=!0,i.hoverable=!0,i.line.strokeOpacity=1,i.grid.template.strokeOpacity=1,i.ticks.template.strokeOpacity=1,Gb(i.labels.template,q.axisLabel),i.ticks.template.disabled=!1,i.labels.template.disabled=!0,fG(t),vd(e)&&(pG(i),Pz(t)),sm({chart:t.chart,label:t.title,labelType:t.renderer instanceof br?pi.XAxisTitle:pi.YAxisTitle}),t.renderer instanceof br&&r!==R.HistogramSeries&&t.events.on(Oe.Validated,Wr(()=>{QI({axis:t,restoreLabelsVisibility:!0})},q.debounceTime))}function gG(s){let t=s.target,e=le(t.chart.uid,"isRotated"),i=[];if(t instanceof Ne){if(t.renderer instanceof tu)i.push({isXAxis:!0,minimum:t.min,maximum:t.max});else if(t.renderer instanceof(e!==!0?Dr:br)){t.maxZoomFactor=1;let r=s.target,a=r.chart,n=e!==!0?a.xAxes.getIndex(0):a.yAxes.getIndex(0),o=a.yAxes.getIndex(1)??a.xAxes.getIndex(1);i=[{isXAxis:!1,minimum:r.min,maximum:r.max},{isXAxis:!0,minimum:n instanceof Ne?n.min:void 0,maximum:n instanceof Ne?n.max:void 0}],o instanceof Ne&&i.push({isXAxis:!1,isSecondValueAxis:!0,minimum:o.min,maximum:o.max})}i.length>0&&i.every(r=>Number.isFinite(r.minimum)&&Number.isFinite(r.maximum))&&Px(i,t.chart.htmlContainer)}}function yG(s){s.events.on(Oe.Validated,Wr(gG,q.debounceTime))}function bG(s){let{axis:t,isNonAggregatedChart:e}=s,i,r,a,n=t.dataItems.values,o=t.axisRanges.values;if(t instanceof Ut)for(let l=0;l<o.length;l+=1){i=!1,r=!1,a=!1;let u=o[l],{category:h,endCategory:c,axisFill:A,grid:d,label:f}=u;if(u instanceof ml&&u.visible)for(let p=0;p<n.length;p+=1){let m;e===!0?m=to({value:n[p].category,dataContext:n[p].dataContext}):m=n[p].category.toString(),h===m&&(r=!0),c===m&&(a=!0)}r&&a&&(i=!0),Kt(A,i),Kt(d,i),Kt(f,i)}}function YO(s){let{axis:t,axisMinimum:e,axisMaximum:i}=s,r;if(t instanceof Ne&&i!==void 0&&e!==void 0){let a=t.axisRanges.values,n=le(t.chart.uid,"config"),o=le(t.chart.uid,"isRotated"),l=qc(t.renderer,o)?0:1,u=n?.axes?.[l]?.guides;for(let h=0;h<a.length;h+=1){let c=a[h],{value:A,endValue:d,axisFill:f,grid:p,label:m}=c;if(ys(m?.uid,"isGuide")===!0){if(r=c.visible,r&&c instanceof xo){let{start:g,end:y}=tB(t,u?.[h]),x=Math.min(A,d,g??A,y??d),C=Math.max(A,d,g??A,y??d);x<e&&C<e||x>i&&C>i?r=!1:(c.value=x<e?e:x,c.endValue=C>i?i:C)}Kt(f,r),Kt(p,r),Kt(m,r)}}}}function vG(s){s instanceof Ne?(s.adapter.add("min",t=>(YO({axis:s,axisMinimum:t,axisMaximum:s.max}),t)),s.adapter.add("max",t=>(YO({axis:s,axisMinimum:s.min,axisMaximum:t}),t))):s instanceof Ut&&s.events.on(Oe.Validated,()=>{let t=le(s.chart.uid,"isNonAggregatedChart");bG({axis:s,isNonAggregatedChart:t})})}function Zp(s){let{axes:t,isSecondValueAxis:e=!1,isXAxis:i,valueFormat:r,chartType:a}=s,n;if(Ag({isXAxis:i,chartType:a,valueFormat:r})&&!e)n=t.push(new Ut);else if(eo(r))n=t.push(new Ct);else if(Sa(r)){n=t.push(new Ne);let o=le(n.chart.uid,"formatLocale");n.numberFormatter=yn({type:R.NumberAxisFormat,iLocale:n.chart.language.locale,formatLocale:o}),n.numberFormatter.numberFormat="#",e?(n.renderer.opposite=!0,n.renderer.grid.template.disabled=!0):yG(n)}n!==void 0&&(lX(n),mG({axis:n,valueFormat:r,axisRenderer:n.renderer,chartType:a}),vG(n))}function ev(s){let{chart:t,axesConfig:e,isRotated:i,chartType:r}=s;It(t.uid,{isRotated:i===!0});let a=i===!0?e?.[1]:e?.[0],n=i===!0?e?.[0]:e?.[1],o=a?.valueFormat,l=n?.valueFormat;o!==void 0&&l!==void 0&&(t.xAxes.clear(),t.yAxes.clear(),Zp({chartType:r,isXAxis:i!==!0,axes:t.xAxes,valueFormat:o}),Zp({chartType:r,isXAxis:i===!0,axes:t.yAxes,valueFormat:l}),e?.[2]!==void 0&&Zp({chartType:r,isXAxis:i===!0,axes:i===!0?t.xAxes:t.yAxes,valueFormat:e[2].valueFormat,isSecondValueAxis:!0}))}function WI(s,t){let{chart:e}=s,i=!0;if(e!==void 0){let r=le(e.uid,"config"),a=le(e.uid,"isRotated");if(r!==void 0){let n=qc(s.renderer,a),o=0;n||(o=t===!0?2:1);let{isLogarithmic:l}=r.axes?.[o]??{};if(l===!0){let u=xd({chartConfig:r,isSecondValueAxis:t}),{minY:h,maxY:c,minX:A,maxX:d}=of({chartConfig:r,chartData:e.data,filteredSeriesIds:u}),f=n?A:h,p=n?d:c;Number.isFinite(f)&&f!==Number.MAX_SAFE_INTEGER&&Number.isFinite(p)&&p!==Number.MIN_SAFE_INTEGER&&(i=f>0&&p>0)}}}return i}function xG(s){let{axis:t,isLogarithmic:e,isSecondValueAxis:i}=s;(t instanceof Ct||t instanceof Ne)&&(t.logarithmic=e===!0&&WI(t,i))}function _G(s,t){let{minimum:e,maximum:i,isLogarithmic:r}=t??{},{buffer:a}=t??{};return a??=q.buffer,s instanceof Ne&&!(s instanceof Ct)&&!a&&(r!==!0||i!=null||e!=null)}function wG(s,t){let e=!1;return s instanceof Ne&&!(s instanceof Ct)&&(e=_G(s,t),s.strictMinMax=e),e}function CG(s){let t;return s>=1?t=10**(s.toFixed(0).length-1):s<1&&s>0&&(t=10**-Math.abs(Math.floor(Math.log10(s)))),t}function BG(s){let{axis:t,axisConfig:e,chartType:i,isSecondValueAxis:r}=s,a=e?.minimum,n=e?.maximum,o=e?.isLogarithmic??!1,l=a,u=n,{chart:h}=t,c=le(h.uid,"isRotated"),A=le(h.uid,"config"),d=0;if(h instanceof Lt&&A!==void 0){let f=on(A),p=qc(t.renderer,c),m=kX(h),g=xd({chartConfig:A,isSecondValueAxis:r,seriesIds:m}),y=of({chartConfig:A,chartData:h.data,filteredSeriesIds:g}),{minX:x,maxX:C,minY:S,maxY:P}=y,[F,O]=p?[x??Number.NaN,C??Number.NaN]:[S,P];d=F,i===R.BarSeries||i===R.HistogramSeries||i===R.ComboLineAndBarSeries||i===R.LineSeries&&f===cr.Stacked&&!p?(l=Math.min(F,0),u=Math.max(O,0)):(l=F,u=O)}return l=a??l,u=n??u,o&&l!==void 0&&l!==null&&l<=0&&(l=CG(d)),{min:l,max:u}}function zI(s){let{axis:t,axisConfig:e,chartType:i,isSecondValueAxis:r}=s,{minimum:a,maximum:n,isLogarithmic:o}=e??{};if(t instanceof Ne||t instanceof Ct)if(wG(t,e)){let l=a,u=n;if(i!==R.HistogramSeries&&(a!=null&&a<=0&&o===!0||t.strictMinMax&&(!Number.isFinite(a)||!Number.isFinite(n)))){let h=BG({axis:t,axisConfig:e,chartType:i,isSecondValueAxis:r});l=h.min,u=h.max}l=l??Number.NaN,u=u??Number.NaN,Number.isNaN(l)||Number.isNaN(u)||l<u?(t.min=l,t.max=u):(t.min=Number.NaN,t.max=Number.NaN),i===R.GaugeSeries&&t.validate()}else t.min=Number.NaN,t.max=Number.NaN}function SG(s){let{axis:t,timeIntervalInfo:e,dateBaseInterval:i}=s;if(t instanceof Ct){let{size:r,unit:a}=e??{};if(a||({size:r,unit:a}=i??{}),r!==void 0&&a!==void 0){let n;switch(a){case rr.Second:n="second";break;case rr.Minute:n="minute";break;case rr.Hour:n="hour";break;case rr.Day:n="day";break;case rr.Week:n="week";break;case rr.Month:n="month";break;case rr.Year:n="year";break}n!==void 0&&(t.baseInterval={timeUnit:n,count:r})}}}function PG(s,t){s instanceof Ne&&(s.renderer.baseGrid.disabled=t!==!0)}function FG(s,t){s.cursorTooltipEnabled=t===!0}function TG(s,t){let e=s.renderer instanceof br;s.events.once(Oe.Validated,()=>{let i=s.renderer instanceof Dr?q.yAxisTitleLabel:q.xAxisTitleLabel;e&&(i={...i,dy:i.dy??0}),sn({label:s.title,labelConfig:t,defaults:i}),Qc({chart:s.chart,label:s.title,labelType:s.renderer instanceof br?pi.XAxisTitle:pi.YAxisTitle})})}function DG(s,t){let e=!0;switch(t){case R.ScatterSeries:case R.HistogramSeries:e=Nt(s.uid,"isOverlay")!==!0;break;case R.BoxPlotSeries:e=s instanceof Or;break}return e}function GI(s){let t=Wr(()=>{let{chart:e}=s,i=le(e.uid,"config");if(e!==void 0&&i!==void 0){let r=We(i?.series);if(DG(s,r)){let a=le(e.uid,"isRotated"),n=Nt(s.uid,"stackedType");n===cr.Stacked100&&!s.visible&&Kt(s,!1);let o=e.xAxes.getIndex(0),l=e.yAxes.getIndex(0),u=e.yAxes.getIndex(1),h=a===!0?1:0,c=i.axes?.[h],A=a===!0?0:1,d=i.axes?.[A],f=i.axes?.[2];[{axis:o,axisConfig:c,updateLabels:!1},{axis:l,axisConfig:d,updateLabels:!0},{axis:u,axisConfig:f,updateLabels:!0,isSecondValueAxis:!0}].forEach(p=>{let{axis:m,axisConfig:g,updateLabels:y,isSecondValueAxis:x}=p;m!==void 0&&(zI({axis:m,chartType:r,axisConfig:g,isSecondValueAxis:x}),y!==void 0&&m.events.once(Oe.Validated,()=>{let{labelToRender:C}=XI(s,n);C&&(C.html=a===!0?"{valueX}":"{valueY}")}))})}}},q.debounceTime);s.events.once(Oe.Validated,t)}function OG(s,t){if(s instanceof Ne){let{integerOnlyValues:e,valueFormat:i}=t,r=px(i)?i.intlOptions.maximumFractionDigits:void 0;s.maxPrecision=e===!0||r===0?0:Number.NaN}}async function Sb(s){let{axis:t,axisConfig:e,timeIntervalInfo:i,chartType:r,horizontalAxisLabelsBehavior:a,verticalAxisLabelsBehavior:n,axisLabelsBehaviorChanged:o,guideTooltipFormatter:l,stackedType:u,axisValueFormatter:h,isSecondValueAxis:c,isRotated:A,utilsStrings:d,errorStrings:f}=s,{visible:p,isLogarithmic:m,title:g,grid:y,lineSymbol:x,labels:C,guides:S,valueFormat:P,displayZeroLine:F,displayCursorTooltip:O,tickSpacing:$,dateBaseInterval:L}=e;SG({axis:t,timeIntervalInfo:i,dateBaseInterval:L}),Co({element:t.renderer.grid.template,lineSymbol:y,visible:p}),Co({element:t.renderer.line,lineSymbol:{color:[...q.color],...x??pd()},visible:p}),Co({element:t.renderer.ticks.template,lineSymbol:x,visible:p}),hG({axis:t,axisConfig:e,chartType:r,horizontalAxisLabelsBehavior:a,verticalAxisLabelsBehavior:n,axisLabelsBehaviorChanged:o,isSecondValueAxis:c}),OG(t,e),Zz({axis:t,labelsConfig:C,horizontalAxisLabelsBehavior:a,isSecondValueAxis:c,tickSpacing:$}),await AX({axis:t,isXAxis:qc(t.renderer,A),chartType:r,labelsTextSymbol:e.labels.content,formatOptions:P,overridePercentMultiplication:u===cr.Stacked100,axisValueFormatter:h,errorStrings:f}),zI({axis:t,axisConfig:e,chartType:r,isSecondValueAxis:c}),xG({axis:t,isLogarithmic:m,isSecondValueAxis:c}),TG(t,g),FG(t,O),c!==!0&&(Hz({axis:t,guides:S,guideTooltipFormatter:l,utilsStrings:d}),PG(t,F))}async function sB(s){let{chart:t,axesConfig:e,rotationChanged:i,isRotated:r,dualAxisChanged:a,timeIntervalInfoWasReset:n,timeIntervalInfo:o,guideTooltipFormatter:l,xAxisLabelFormatter:u,yAxisLabelFormatter:h,secondaryYAxisLabelFormatter:c,utilsStrings:A,errorStrings:d}=s,{axisLabelsBehaviorChanged:f}=s,p=le(t.uid,"config"),{horizontalAxisLabelsBehavior:m,verticalAxisLabelsBehavior:g}=p,y=We(p.series),x=on(p),C=r===!0?1:0,S=r===!0?0:1,P=e?.[C],F=e?.[S],O=t.xAxes.getIndex(0);YI({chart:t,dualAxisChanged:a,rotationChanged:i,timeIntervalInfoWasReset:n,axisLabelsBehaviorChanged:f})&&(ev({chart:t,axesConfig:e,isRotated:r,chartType:y}),f=[!0,!0]),O=t.xAxes.getIndex(0);let $=t.yAxes.getIndex(0),L=t.xAxes.getIndex(1)??t.yAxes.getIndex(1),E=O?.start,D=O?.end,H=$?.start,te=$?.end,K=L?.start,ae=L?.end,ie={timeIntervalInfo:o,chartType:y,horizontalAxisLabelsBehavior:m,verticalAxisLabelsBehavior:g,axisLabelsBehaviorChanged:f,guideTooltipFormatter:l,stackedType:x,isRotated:r,utilsStrings:A,errorStrings:d};O!==void 0&&P!==void 0&&await Sb({...ie,axis:O,axisConfig:P,axisValueFormatter:C===0?u:h}),$!==void 0&&F!==void 0&&await Sb({...ie,axis:$,axisConfig:F,axisValueFormatter:S===1?h:u}),L!==void 0&&e?.[2]!==void 0&&await Sb({...ie,axis:L,axisConfig:e[2],axisValueFormatter:c,isSecondValueAxis:!0}),i===!0&&[{axis:O,start:E,end:D},{axis:$,start:H,end:te},{axis:L,start:K,end:ae}].forEach(fe=>{let{axis:z,start:Y,end:ge}=fe;z!==void 0&&z.events.once(Oe.Validated,()=>{yC({axis:z,start:Y,end:ge})})}),O!==void 0&&O.ghostLabel.setPropertyValue("disabled",!0),$!==void 0&&$.ghostLabel.setPropertyValue("disabled",!0),L!==void 0&&L.ghostLabel.setPropertyValue("disabled",!0)}function YI(s){let{chart:t,dualAxisChanged:e,rotationChanged:i,timeIntervalInfoWasReset:r,axisLabelsBehaviorChanged:a}=s,n=le(t.uid,"config"),{rotated:o,series:l}=n,u=n.axes,h=We(l),c=o===!0?1:0,A=o===!0?0:1,d=u?.[c]?.valueFormat,f=u?.[A]?.valueFormat,p=t.xAxes.getIndex(0),m=t.yAxes.getIndex(0),g=p===void 0||i||d!==void 0&&AC({axis:p,valueFormat:d,chartType:h}),y=m===void 0||i||f!==void 0&&AC({axis:m,valueFormat:f,chartType:h});return e===!0||i===!0||r===!0||a?.[0]||a?.[1]||g||y}function LG(s){ev(s)}async function IG(s){let{chart:t,chartConfig:e,rotationChanged:i,axisLabelsBehaviorChanged:r,isRotated:a,dualAxisChanged:n,timeIntervalInfoWasReset:o,timeIntervalInfo:l,guideTooltipFormatter:u,xAxisLabelFormatter:h,yAxisLabelFormatter:c,secondaryYAxisLabelFormatter:A,utilsStrings:d,errorStrings:f}=s,p=e.axes,m=on(e);await sB({chart:t,axesConfig:p,rotationChanged:i,axisLabelsBehaviorChanged:r,isRotated:a,dualAxisChanged:n,timeIntervalInfoWasReset:o,timeIntervalInfo:l,guideTooltipFormatter:u,xAxisLabelFormatter:h,yAxisLabelFormatter:c,secondaryYAxisLabelFormatter:A,utilsStrings:d,errorStrings:f});let g=a===!0?t.yAxes.getIndex(0):t.xAxes.getIndex(0);if(g!==void 0){g instanceof Ut&&(g.dataFields.category=pg(e));let C=g.renderer,S=C.grid.template;S.location=0,C.cellStartLocation=.1,C.cellEndLocation=.9;let P=e.orderOptions?.data?.orderBy===ef.Descending,F=a===!0;P&&g instanceof Ct&&(F=!F),C.inversed=F}let y=a===!0?t.xAxes.getIndex(0):t.yAxes.getIndex(0),x=a===!0?t.xAxes.getIndex(1):t.yAxes.getIndex(1);m===cr.Stacked100?(y instanceof Ne&&(y.calculateTotals=!0),x instanceof Ne&&(x.calculateTotals=!0)):(y instanceof Ne&&(y.calculateTotals=!1),x instanceof Ne&&(x.calculateTotals=!1))}var Os={InnerLabel:0,InnerLabelSecondary:1,AxisLabels:2,FirstAndLastLabels:3};function xh(s,t){let e;switch(t){case Os.InnerLabel:e="gaugeAutoResizeInnerLabelFirstDisposer";break;case Os.InnerLabelSecondary:e="gaugeAutoResizeInnerLabelSecondDisposer";break;case Os.AxisLabels:e="gaugeAutoResizeAxisLabelsDisposer";break;case Os.FirstAndLastLabels:e="gaugeAutoResizeFirstAndLastLabelsDisposer";break}if(e!==void 0){let i=le(s.uid,e);i!==void 0&&(i.dispose(),i=void 0,It(s.uid,{[e]:void 0}))}}function $G(s){let{chart:t,labelList:e,scaleToAdjust:i,fontSize:r,type:a,axisConfig:n}=s,o=Number.NaN,l=Number.NaN,u=i;if(a===Os.InnerLabel){let c=e[0],A=n?.innerLabel?.content?.verticalAlignment??Zt.Middle,d=c.dy??0,f=Math.round(t.chartContainer.measuredHeight-t.radarContainer.pixelY-d),p=c.bbox.height*i,m=0;switch(A){case Zt.Bottom:m=p;break;case Zt.Top:m=-p;break;case Zt.Middle:case Zt.Baseline:m=p*.5;break}m>f&&(u=i*(f/m)),o=q.gauge.innerLabelAutoMinFontSize,l=q.gauge.innerLabelAutoMaxFontSize}else o=q.gauge.axisLabelAutoMinFontSize,l=q.gauge.axisLabelAutoMaxFontSize;let h=r*u;return h<o?u*=o/h:h>l&&(u*=l/h),u}function aB(s){let{chart:t,type:e,labelList:i,currentScale:r,currentFontSize:a,axisConfig:n}=s,o=Number.NaN,l=Number.NaN;if(e===Os.InnerLabel){let u=typeof t.innerRadius=="number"?t.innerRadius:t.innerRadius.value;l=(t.xAxes.getIndex(0)?.measuredWidth!==0?t.xAxes.getIndex(0)?.measuredWidth??1:1)*u}else l=t.xAxes.getIndex(0)?.measuredHeight??1;if(l>1){let u=e===Os.InnerLabel?i[0]?.measuredWidth??0:i.find(h=>h.measuredWidth>0&&h.measuredHeight>0)?.measuredHeight??0;if(u>0){let h=u/l;if(h>0){let{axisLabelToInnerChartRatio:c,innerLabelToInnerChartRatio:A}=q.gauge,d=e===Os.InnerLabel?A:c;o=r*(d/h),o=$G({chart:t,labelList:i,axisConfig:n,scaleToAdjust:o,fontSize:a,type:e}),o=Number(o.toFixed(2))}}}return Number.isFinite(o)||(o=r),o}function tv(s){return s.some(t=>Af(t)&&t.value!==void 0)}function kG(s){let{chart:t,axisConfig:e,axis:i}=s;if(e.labels.content.font?.size===void 0&&e.onlyShowFirstAndLastLabels!==!0){xh(t,Os.AxisLabels),xh(t,Os.FirstAndLastLabels);let r=()=>{i.events.once(Oe.Validated,()=>{let n=bs(i,Di.GaugeTicksWithLabels);if(tv(n)){let o=n.map(A=>A.label),l=o[0].scale,u=o[0].fontSize,h=aB({chart:t,type:Os.AxisLabels,labelList:o,currentScale:l,currentFontSize:u,axisConfig:e}),c=h/l;Number.isFinite(h)&&h>0&&(c<=.98||c>1.02)&&o.forEach(A=>{A.scale=h})}}),i.validate()};t.events.once(Oe.Validated,r);let a=t.events.on(Oe.SizeChanged,r);It(t.uid,{gaugeAutoResizeAxisLabelsDisposer:a}),r()}else{xh(t,Os.AxisLabels);let r=bs(i,Di.GaugeTicksWithLabels);r.length>0&&r.map(a=>a.label).forEach(a=>{a.scale=1})}}function EG(s,t){xh(s,Os.InnerLabel),xh(s,Os.InnerLabelSecondary);let e=()=>{let a=le(s.uid,"config")?.axes?.[0];if(a?.innerLabel?.visible!==!1&&a?.innerLabel?.content?.font?.size===void 0){let n=s.xAxes.getIndex(0)?.measuredWidth;if(n!==void 0&&n>0){let o=aB({chart:s,type:Os.InnerLabel,labelList:[t],currentScale:t.scale,currentFontSize:t.fontSize,axisConfig:a});Number.isFinite(o)&&Math.abs(t.scale-o)>.25&&(t.scale=o,t.validate())}}else t.scale=1},i=s.events.on(Oe.Validated,e),r=s.events.on(Oe.SizeChanged,e);It(s.uid,{gaugeAutoResizeInnerLabelFirstDisposer:r,gaugeAutoResizeInnerLabelSecondDisposer:i}),e()}function MG(s){let{chart:t,axisConfig:e,axis:i}=s;if(e.labels.content.font?.size===void 0&&e.onlyShowFirstAndLastLabels===!0){xh(t,Os.AxisLabels),xh(t,Os.FirstAndLastLabels);let r=()=>{let n=bs(i,Di.GaugeFirstAndLastGuides);if(tv(n)){let o=n.map(A=>A.label),l=o[0].scale,u=o[0].fontSize,h=aB({chart:t,type:Os.FirstAndLastLabels,labelList:o,currentScale:l,currentFontSize:u,axisConfig:e}),c=h/l;Number.isFinite(h)&&h>0&&(c<=.98||c>1.02)&&o.forEach(A=>{yl(A.uid,{originalWidth:A.measuredWidth/A.scale,originalHeight:A.measuredHeight/A.scale}),A.scale=h})}};t.events.once(Oe.Validated,r);let a=t.events.on(Oe.SizeChanged,r);It(t.uid,{gaugeAutoResizeFirstAndLastLabelsDisposer:a}),r()}else xh(t,Os.FirstAndLastLabels),bs(i,Di.GaugeFirstAndLastGuides).map(r=>r.label).forEach(r=>{r.scale=1})}function bC(s,t){let e=s.xAxes.getIndex(0);if(e!==void 0){let i=t??le(s.uid,"config"),{onlyShowFirstAndLastLabels:r}=i?.axes?.[0]??{};if(!e.renderer.labels.template.visible||r===!0)s.radius=new qe(q.gauge.radius);else{let a=bs(e,Di.GaugeTicksWithLabels),{furthestLabelX:n,furthestLabelY:o}=a.reduce(({furthestLabelX:l,furthestLabelY:u,furthestPixelX:h,furthestPixelY:c},{label:A})=>{if(A?.visible&&A.bbox.width>0&&A.bbox.height>0){let d=A.pixelX,f=A.bbox.width*A.scale,p=0;d<0?p=Math.abs(d):p=d+f,p>h&&(h=p,l=A);let m=A.pixelY,g=A.bbox.height*A.scale,y=0;m<0?y=Math.abs(m):y=m+g,y>c&&(c=y,u=A)}return{furthestLabelX:l,furthestLabelY:u,furthestPixelX:h,furthestPixelY:c}},{furthestLabelX:void 0,furthestPixelX:0,furthestLabelY:void 0,furthestPixelY:0});if(n!==void 0&&o!==void 0){let l=(n.bbox.width+5)*n.scale,u=(o.bbox.height+5)*o.scale,h=typeof e.renderer.labels.template.radius=="number"?e.renderer.labels.template.radius:e.renderer.labels.template.radius.value,c=(l+h)*2+s.radarContainer.measuredWidth+_b(s.paddingLeft)+_b(s.paddingRight),A=80,d=170,f=s.htmlContainer?.clientHeight??0,p=Math.max(0,Math.min(1,(f-A)/(d-A))),m=s.radarContainer.measuredHeight+(u+h*p)*2+_b(s.paddingTop)+_b(s.paddingBottom),g=s.measuredWidth,y=s.measuredHeight,x=g/c,C=y/m,S=(typeof s.radius=="number"?s.radius:s.radius.value)*100,P=Number((S*x).toFixed(2)),F=Number((S*C).toFixed(2)),O=P/S,$=F/S,L=s.radarContainer.measuredWidth*O,E=s.radarContainer.measuredWidth*$,[D,H]=L<E?[P,O]:[F,$];Number.isFinite(D)&&D>=10&&D<=q.gauge.radius&&(H<.98||H>1.02)&&(s.radius=new qe(D))}}}}function RG(s){let t=s.xAxes.getIndex(0);t!==void 0&&(t.events.on(Oe.SizeChanged,()=>bC(s)),t.events.on(Oe.Validated,Wr(()=>bC(s),q.debounceTime)))}function KI(s){let t=s.hands.push(new pA),e=q.gaugeNeedle,{startWidth:i,endWidth:r,innerRadius:a}=e;t.pin.disabled=!0,t.startWidth=i??Number.NaN,t.endWidth=r??Number.NaN,t.innerRadius=ue(a??Number.NaN);let n=s.xAxes.getIndex(0);return n!==void 0&&(t.axis=n),t}function UG(s){let{x:t,data:e,chart:i,valueFormat:r,minimum:a,maximum:n}=s,o=Number.NaN;if(e!==void 0&&t!==void 0){let l=e.find(h=>t in h),u=Number.parseFloat(l[t]);Number.isFinite(u)&&(o=u,It(i.uid,{gaugeData:o}))}else{let l=le(i.uid,"gaugeData");Number.isFinite(l)&&(o=l)}return Uh(r)&&a!==void 0&&n!==void 0&&a!==null&&n!==null&&o!==null&&n-a!==0&&(o=em({value:o,axisMin:a,axisMax:n})),o}function VG(s,t){let e=t??null;if(t!=null){let i=s.xAxes.getIndex(0),r=le(s.uid,"config"),a=i.min??r?.axes?.[0].minimum??q.gauge.axisMinimum,n=i.max??r?.axes?.[0].maximum??q.gauge.axisMaximum;t<a?e=a:t>n&&(e=n)}return e}function NG(s){let{chart:t,needle:e,gaugeValue:i}=s,r=t.hands.getIndex(0)??KI(t);if(r!==void 0){im({element:r,fillSymbol:e?.symbol});let{startWidth:a,endWidth:n,innerRadius:o}=q.gaugeNeedle;r.value=VG(t,i),r.pin.disabled=e?.displayPin!==!0,r.visible=e?.visible??!0,r.startWidth=e?.startWidth??a,r.endWidth=e?.endWidth??n,r.innerRadius=ue(e?.innerRadius??o)}}function QG(s){let t=zn(void 0,s.radarContainer);t.isMeasured=!1,yl(t.uid,{isGaugeAxisInnerLabel:!0}),EG(s,t)}function HG(s){let{chart:t,innerLabelConfig:e,valueFormat:i,gaugeValue:r,gaugeInnerLabelFormatter:a}=s,n=t.radarContainer.children.values.find(o=>ys(o.uid,"isGaugeAxisInnerLabel")===!0);if(n!==void 0){sn({label:n,labelConfig:e,defaults:q.gaugeInnerLabel});let o=le(t.uid,"formatLocale");n.html=e5({valueFormat:i,iLocale:t.language.locale,formatLocale:o,gaugeValue:r,innerLabelConfigContent:e?.content,gaugeInnerLabelFormatter:a}),t.radarContainer.invalidateLabels()}}function jG(s){let t=s.axisRanges.create();return t.axisFill.fillOpacity=1,t.axisFill.disabled=!0,t.grid.strokeOpacity=1,t.grid.disabled=!1,t.tick.length=q.gaugeTicksLength,t}function XG(s){let t=new Hn;return t.disabled=!0,t.axis=s,Gb(t),t.padding(10,10,10,10),yl(t.uid,{isGaugeAxisLabel:!0}),t}function WG(s){let{axis:t,min:e,max:i,labelsIncrement:r,numberOfIntervals:a,valueFormat:n}=s,o=Uh(n),l=1,u=bs(t,Di.Ticks);u.length>0&&(l=u[0].label?.scale,u.forEach(A=>{if(Af(A)){let d=t.axisRanges.values.indexOf(A);d>=0&&t.axisRanges.removeIndex(d)}}));let h=q.gauge.numberOfTicksBetweenTwoLabels+1,c=a*h+1;for(let A=0;A<c;A+=1){let d=A===c-1,f=jG(t),p=d?i:e+A/h*r;f.value=o?em({value:p,axisMin:e,axisMax:i}):p,A%h===0&&(f.label=XG(t),f.label.text=String(p),f.grid.disabled=!0,Number.isFinite(l)&&(f.label.scale=l))}}function zG(s){let{chart:t,axis:e,onlyShowFirstAndLastLabels:i,valueFormat:r,axisLabelConfigContent:a,axisValueFormatter:n}=s;if(!i){let o=bs(e,Di.GaugeTicksWithLabels);if(tv(o)){let l=le(t.uid,"formatLocale");o.forEach(u=>{sn({label:u.label,labelConfig:a}),Af(u)&&(u.label.html=ZI({valueFormat:r,iLocale:t.language.locale,formatLocale:l,gaugeLabelConfigContent:a?.content,itemLabelValue:u.value,axisValueFormatter:n}))})}}}function GG(s,t){let e=t?.ticks?.visible??!0,i=bs(s,Di.Ticks);for(let r=0;r<i.length;r+=1){let a=i[r];Kt(a.tick,e)}}function YG(s,t){if(s instanceof Ne&&s.chart instanceof Vs){let e=bs(s,Di.GaugeTicksWithLabels);if(tv(e)){let{onlyShowFirstAndLastLabels:i,labels:r}=t,a=(r?.visible??!0)&&i!==!0;e.forEach(n=>{Kt(n.label,a)})}}}function KG(s){let{labels:t,guides:e,onlyShowFirstAndLastLabels:i}=s,r=e??[];if(i===!0){let a={type:R.Guide,start:Number.NaN,style:{type:"esriSLS"},name:""};r.push({...a,start:s.minimum??Number.NaN,name:q.gaugeFirstLabelId,label:{...t.content,text:`${s.minimum}`}},{...a,start:s.maximum??Number.NaN,name:q.gaugeLastLabelId,label:{...t.content,text:`${s.maximum}`}})}s.guides=r}function ZG(s){bs(s,Di.GaugeFirstAndLastGuides).forEach(t=>{t.label.adapter.keys().includes("dx")||t.label.adapter.add("dx",e=>{let i=e;return t.label.measuredWidth>0&&(i=(ys(t.label.uid,"originalWidth")??1)/2,i*=t.label.scale,t.id===q.gaugeLastLabelId&&(i*=-1)),i}),t.label.adapter.keys().includes("dy")||t.label.adapter.add("dy",e=>{let i=e;return t.label.measuredHeight>0&&(i=(ys(t.label.uid,"originalHeight")??1)/2,i*=t.label.scale),i})})}function qG(s){let{chart:t,axis:e,onlyShowFirstAndLastLabels:i,valueFormat:r,gaugeLabelConfigContent:a,axisValueFormatter:n}=s;if(i){let o=bs(e,Di.GaugeFirstAndLastGuides),l=le(t.uid,"formatLocale");o.forEach(u=>{u?.label!==void 0&&Af(u)&&(u.label.html=ZI({valueFormat:r,iLocale:t.language.locale,formatLocale:l,gaugeLabelConfigContent:a?.content,itemLabelValue:u.value,axisValueFormatter:n}))}),ZG(e)}}function JG(s,t){s.xAxes.clear(),Zp({isXAxis:!0,axes:s.xAxes,valueFormat:t});let e=s.xAxes.getIndex(0);e instanceof Ne&&(e.renderer.labels.template.disabled=!0,e.renderer.ticks.template.disabled=!0,KI(s),QG(s),RG(s),e.maxZoomFactor=1)}function e5(s){let{valueFormat:t,iLocale:e,formatLocale:i,innerLabelConfigContent:r,gaugeValue:a,gaugeInnerLabelFormatter:n}=s,o="";if(Number.isFinite(a))if(n!==void 0)o=n(a);else{let l=Jn(t),u=yn({type:R.NumberAxisFormat,iLocale:e,formatLocale:i});u.numberFormat=l,o=u.format(`${a}`),o=Ws({textSymbol:{type:qt.TS,...r,text:o},format:"html"}),o=Ur(o)}return o}function ZI(s){let{valueFormat:t,iLocale:e,formatLocale:i,gaugeLabelConfigContent:r,itemLabelValue:a,axisValueFormatter:n}=s,o="";if(Number.isFinite(a))if(n!==void 0)o=n(a);else{let l=Jn(t),u=yn({type:R.NumberAxisFormat,iLocale:e,formatLocale:i});u.numberFormat=l,o=u.format(`${a}`),o=Ws({textSymbol:{type:qt.TS,...r,text:o},format:"html"}),o=Ur(o)}return o}async function t5(s){let{chart:t,chartConfig:e,data:i,queryObject:r,axisValueFormatter:a,gaugeInnerLabelFormatter:n,utilsStrings:o,errorStrings:l}=s,{axes:u,series:h}=e,c=ag(e),A=We(e.series),{featureIndex:d,x:f}=h[0],p=u?.[0],m=t.xAxes.getIndex(0),g={...p};if(m!==void 0&&g!==void 0){let{valueFormat:y,needle:x,innerLabel:C,onlyShowFirstAndLastLabels:S}=g;AC({axis:m,valueFormat:y,chartType:A})&&Zp({isXAxis:!0,axes:t.xAxes,valueFormat:y});let P=await T1({featureIndex:d,chartData:t.data,chartConfig:e,queryObject:r,queryConfig:le(t.uid,"queryConfig")});g.minimum=P.minimum,g.maximum=P.maximum;let{min:F,max:O,labelsIncrement:$,numberOfIntervals:L}=P1(g);O2({oldConfig:le(m.chart.uid,"config"),axisMax:m.max,min:F,max:O,labelsIncrement:$,numberOfIntervals:L,valueFormat:y})&&WG({axis:m,min:F,max:O,labelsIncrement:$,numberOfIntervals:L,valueFormat:y});let E={...g};Uh(y)?(E.minimum=0,E.maximum=1,F1({axisConfig:E,axisMin:g.minimum,axisMax:g.maximum})):(E.minimum=F,E.maximum=O),KG(E),await Sb({axis:m,axisConfig:E,chartType:R.GaugeSeries,axisValueFormatter:a,utilsStrings:o,errorStrings:l}),m.renderer.labels.template.disabled||(m.renderer.labels.template.disabled=!0),m.renderer.ticks.template.disabled||(m.renderer.ticks.template.disabled=!0),kG({chart:m.chart,axis:m,axisConfig:g}),MG({chart:t,axis:m,axisConfig:g}),GG(m,g),zG({chart:t,axis:m,onlyShowFirstAndLastLabels:S??!1,valueFormat:y,axisLabelConfigContent:g.labels,axisValueFormatter:a}),qG({chart:t,axis:m,onlyShowFirstAndLastLabels:S??!1,valueFormat:y,gaugeLabelConfigContent:g.labels,axisValueFormatter:a});let D=c?P?.dataValue:UG({x:f,data:i,chart:t,minimum:g.minimum,maximum:g.maximum,valueFormat:y});NG({chart:t,needle:x,gaugeValue:D}),HG({chart:t,innerLabelConfig:C,valueFormat:y,gaugeValue:D,gaugeInnerLabelFormatter:n}),YG(m,g),bC(t,e),t.validateData()}}function i5(s){let t=[];if(s.length>0){t=s.map(i=>i.minValue);let e=s[s.length-1].maxValue;t.push(e)}return t}function r5(s){let t=0;return s.forEach(e=>{let{label:i}=e;t=Math.max(t,i?.bbox.width,i.measuredWidth)}),t}function s5(s){let t=s.axisRanges.length-1;if(s.isReady()){let e=bs(s,Di.Ticks),i=e[0]?.point?.x??0,r=(e[1]?.point?.x??0)-i,a=r5(e);if(a!==0){let n=q.histogramAxisLabel.paddingRight??0;for(let o=0;o<e.length;o+=1)if(o*r-a-n>0){t=o;break}}}return t}function vC(s){let t=le(s.chart.uid,"config"),{axes:e}=t,i=e?.[0];if(i!==void 0){let{visible:r,labels:a,guides:n}=i,{visible:o}=a,l=s5(s),u=bs(s,Di.Ticks);for(let c=0;c<u.length;c+=1){let{tick:A,label:d}=u[c],f=c%l===0&&r===!0,p=c%l===0&&o===!0,m={...i.labels};m.content.angle=void 0,m.content.yoffset=void 0,m.content.horizontalAlignment=void 0,m.content.verticalAlignment=void 0,sn({label:d,labelConfig:m,defaults:q.histogramAxisLabel}),Kt(A,f),Kt(d,p)}QI({axis:s,labels:u.map(c=>c.label),restoreLabelsVisibility:!1});let h=bs(s,Di.Guides);for(let c=0;c<h.length;c+=1){let A=n?.[c]?.visible??!0;Kt(h[c].label,A),h[c].label.disabled=!A}s.invalidateLabels()}}function a5(s){let{chart:t,axesConfig:e}=s;ev({chart:t,axesConfig:e});let i=t.xAxes.getIndex(0);if(i!==void 0){i.renderer.ticks.template.disabled=!0;let r=()=>vC(i);i.events.once(Oe.DataItemsValidated,r),t.chartContainer.events.on(Oe.SizeChanged,Wr(r,q.debounceTime))}}function n5(s,t){if(s.renderer.labels.template.disabled=!0,t.length!==0){s.strictMinMax=!0;let{0:e,[t.length-1]:i}=t;s.min=e,s.max=i}else s.min=Number.NaN,s.max=Number.NaN,s.strictMinMax=!1}async function o5(s){let{chart:t,axesConfig:e,histogramBins:i,guideTooltipFormatter:r,xAxisLabelFormatter:a,yAxisLabelFormatter:n,utilsStrings:o,errorStrings:l}=s,u=i5(i),h=e?.[0];await sB({chart:t,axesConfig:e,guideTooltipFormatter:r,xAxisLabelFormatter:a,yAxisLabelFormatter:n,utilsStrings:o,errorStrings:l});let c=t.xAxes.getIndex(0);c instanceof Ne&&(n5(c,u),h!==void 0&&Yz({valueAxis:c,axisConfig:h,ticks:u}),vC(c),c.events.once(Oe.DataItemsValidated,()=>vC(c)))}function l5(s,t){ev({chart:s,axesConfig:t})}async function u5(s){await sB(s)}function h5(s){s.background.fill=oa(q.backgroundColor)}function iv(s,t){s.background.fill=oa(t??q.backgroundColor)}function c5(s){let t=TI(q.headerContainer,s),e=zn(q.title,t),i=zn(q.subtitle,t);return sm({chart:s,label:e,labelType:pi.ChartTitle}),sm({chart:s,label:i,labelType:pi.ChartSubTitle}),bW(t),{headerContainer:t,title:e,subtitle:i}}function rv(s,t){let{title:e,subtitle:i,headerContainer:r}=s;sn({label:e,labelConfig:t?.title,defaults:q.titleLabel}),sn({label:i,labelConfig:t?.subtitle,defaults:q.titleLabel}),DI(r,e.disabled&&i.disabled),Qc({chart:e.parent,label:e,labelType:pi.ChartTitle}),Qc({chart:i.parent,label:i,labelType:pi.ChartSubTitle})}function d5(s){let t=TI(q.footerContainer,s),e=zn(q.footer,t);return sm({chart:s,label:e,labelType:pi.ChartFooter}),{footerContainer:t,footer:e}}function sv(s,t){let{footer:e,footerContainer:i}=s;sn({label:e,labelConfig:t,defaults:q.footer}),DI(i,e.disabled||t?.content.text===""),Qc({chart:e.parent,label:e,labelType:pi.ChartFooter})}function qI(s){if(s instanceof Lt){let t=new yo,e=new yo;t.disabled=!0,e.disabled=!0,t.marginTop=-10,e.marginRight=0,s.scrollbarX=t,s.scrollbarY=e}}function A5(s,t){let e=t?0:-1;s.thumb.tabindex=e,s.startGrip.tabindex=e,s.endGrip.tabindex=e}function f5(s,t){if(t!==void 0){let e=Uc(t);[s.background,s.startGrip.background,s.endGrip.background,s.thumb.background,s.background.states.getKey("default")?.properties,s.startGrip.background.states.getKey("default")?.properties,s.endGrip.background.states.getKey("default")?.properties,s.thumb.background.states.getKey("default")?.properties,s.startGrip.background.states.getKey("hover")?.properties,s.endGrip.background.states.getKey("hover")?.properties,s.thumb.background.states.getKey("hover")?.properties,s.startGrip.background.states.getKey("down")?.properties,s.endGrip.background.states.getKey("down")?.properties,s.thumb.background.states.getKey("down")?.properties].forEach(i=>{i!==void 0&&(i.fill=e)})}}function p5(s,t){typeof t=="number"&&Number.isFinite(t)&&(s.orientation==="horizontal"?(s.height=t,s.minHeight=t):(s.width=t,s.minWidth=t))}function m5(s,t){if(typeof t=="number"&&Number.isFinite(t)){let e=t/30;s.startGrip.scale=e,s.endGrip.scale=e}}function g5(s,t){typeof t=="number"&&Number.isFinite(t)&&(s.orientation==="horizontal"?s.marginBottom=t:s.marginLeft=t,s.parent?.invalidateLayout())}function JI(s){let{chart:t,scrollbarXConfig:e,scrollbarYConfig:i}=s;if(t instanceof Lt){let r=le(t.uid,"isRotated");(t.scrollbarX===void 0||t.scrollbarY===void 0)&&qI(t);let{scrollbarX:a,scrollbarY:n}=t;[a,n].forEach(o=>{let l=o.orientation==="horizontal"&&r!==!0||o.orientation==="vertical"&&r===!0?e:i,u=l?.visible!==!0;if(o.disabled=u,A5(o,!u),l!==void 0&&!u){let{width:h,color:c,gripSize:A,margin:d}=l;g5(o,d),f5(o,c),m5(o,A),p5(o,h)}})}}function y5(s,t){s.columns.each(e=>{(e.dataItem?.dataContext)[t]===0&&(e.strokeOpacity=0)})}function b5(s,t){s.chart.legend.events.once(Oe.Validated,()=>{bl({element:s.legendDataItem?.marker.children.getIndex(0),stylingInfo:t}),s.chart.legend.invalidate()})}function v5(s){let{series:t,seriesConfig:e,seriesIndex:i,numberOfSeries:r,chartSubType:a,colorMatch:n,rendererType:o}=s,l=t.dataFields.valueY??t.dataFields.valueX??e.y,u=!1,h=new Set,c,A=e.fillSymbol,d={seriesConfig:e,seriesIndex:i,seriesSymbol:A,colorMatch:n,isChartFillSymbol:!0},f={},p=rx(i);if(t.columns.length===0?f=nu({seriesConfig:e,seriesIndex:i,seriesSymbol:A??p,element:new ke,colorMatch:n,isChartFillSymbol:!0}):t.columns.each(m=>{let g=m.dataItem?.dataContext;if(Number.isFinite(g?.[l])){let y=Pa({dataItem:g,seriesConfig:e,chartSubType:a,colorMatch:n,rendererType:o}),x=(g[q.xAxisField]===q.nullValue&&e.nullCategory?.symbol!==void 0?e.nullCategory.symbol:A)??p;f=nu({...d,seriesSymbol:x,element:m,rendererSymbol:y}),bl({element:m,stylingInfo:f.stylingInfo}),h.add(JSON.stringify(f.symbolWithColorInfo))}}),r>1){let m=t.chart.legend.markers.values;m.length!==0?m.forEach(g=>{if(g.dataItem instanceof bo){let y=g.dataItem.marker.children.getIndex(0);y!==void 0&&y.baseSprite?.parent instanceof Fi?bl({element:y,stylingInfo:f.stylingInfo}):u=!0}}):u=!0}return u&&b5(t,f.stylingInfo),h.size<=1&&(c=f.symbolWithColorInfo??A),y5(t,l),c}function x5(s){let{series:t,seriesSymbolMapForEvent:e,seriesIndexMapper:i,seriesIndex:r,colorMatch:a,rendererType:n}=s,o=s.seriesConfig,l=le(t.chart.uid,"config"),u=l?.series.length??0,h=Pt(l?.series),c=v5({series:t,seriesConfig:o,seriesIndex:r,numberOfSeries:u,chartSubType:h,colorMatch:a,rendererType:n});e.set(i.get(o.id)??r,c),e.size===u&&Ua({data:e,htmlContainer:t.chart.htmlContainer,chartId:t.chart.id,colorMatchApplied:Kc(t.chart)})}function e$(s){let{seriesConfig:t,series:e,seriesIndexMapper:i,rotationChanged:r,subtypeInfo:a,colorMatch:n,stackedType:o,rendererType:l,fieldList:u,seriesIndex:h,seriesSymbolMapForEvent:c}=s,{name:A}=t,d=le(e.chart.uid,"config"),f=bn({config:d}),p=Pt(d?.series);Kt(e,t.visible);let m=A,g=e.dataFields?.customValue??"";(p===Ie.BarAndLineSplitBy||p===Ie.BarAndLineSplitByNoAggregation)&&(m=ug({subtypeInfo:a,fieldList:u,fieldName:ko(g),fieldValueToMatch:m})??m),Po(e,m),YC({series:e,seriesConfig:t,rotationChanged:r,stackedType:o,isRotated:f}),x5({series:e,seriesConfig:t,seriesIndex:h,seriesIndexMapper:i,colorMatch:n,rendererType:l,seriesSymbolMapForEvent:c}),qr(e.uid,{barSeriesLastUpdate:{numberOfColumnsUpdated:e.columns.length,updateProps:s}})}function _5(s){s.events.on(Oe.Validated,()=>{let t=Nt(s.uid,"barSeriesLastUpdate");if(t!==void 0){let{numberOfColumnsUpdated:e,updateProps:i}=t;s.columns.length>e&&e$(i)}})}function w5(s){let{chart:t,chartConfig:e,seriesIndex:i,axisList:r=[],hideLoaderHandle:a,selectionTheme:n}=s,{rotated:o}=e,l=e.series[i],{y:u,assignToSecondValueAxis:h}=l,c=new Fi;Fo(c,a),c.id=l.id;let A,d;o!==!0?(A=r[0],d=h===!0&&r[2]?r[2]:r[1]):(A=h===!0&&r[2]?r[2]:r[0],d=r[1]),A!==void 0&&(c.xAxis=A),d!==void 0&&(c.yAxis=d);let f=t instanceof Lt?bn({chart:t}):!1,p=Pt(e.series)!==Ie.BarAndLineSplitByNoAggregation?u:`${u}_${Tl({where:l.query?.where,keepSurroundingQuotes:!1,escape:!1})}`;f?c.dataFields.valueX=p:c.dataFields.valueY=p;let m=f?r[1]:r[0];if(m!==void 0){let g=yI(m,f);c.dataFields[g]=q.xAxisField,c.baseAxis=m}return YC({series:c,seriesConfig:l,rotationChanged:!1,stackedType:e.stackedType,isRotated:f}),c.dataFields.customValue=l?.query?.where,SI(c.columns.template,c),c.columns.template.width=ue(100),Au({element:c.columns.template,customSelectionTheme:n}),Zc(t,c.columns.template),hm(c),_5(c),du(c),c}function C5(s){let{seriesConfig:t,series:e,seriesIndex:i,axes:r,utilsStrings:a,fieldList:n,queryObject:o,stackedType:l,options:u}=s;e.id=t.id;let h=bn({chart:e.chart});AG({series:e,seriesType:R.BarSeries,isRotated:h,stackedType:l,hideOversizedSideBySideLabels:t.hideOversizedSideBySideLabels,hideOversizedStackedLabels:t.hideOversizedStackedLabels,dataLabelsConfig:t.dataLabels,yAxisValueFormat:r[1].valueFormat,customDataLabelFormatter:u?.dataLabelFormatter}),Nc({styleCallback:e$,callbackProps:s,series:e,seriesConfig:t,onReadyEvent:!0}),FI({series:e,seriesConfig:t,fieldList:n,queryObject:o,utilsStrings:a,seriesIndex:i,tooltipFormatter:u?.tooltipFormatter})}function B5(s,t){s.adapter.add("htmlOutput",(e,i)=>{let r=e,a=Nt(t.uid,"histogramDataLabelFormatter"),{dataItem:n}=i;if(a!==void 0&&n instanceof cs){let{valueY:o,openValueX:l,valueX:u}=n;r=a(o,l,u)}return Ur(r)},0)}function S5(s){let t=zn(q.dataLabelInitialize);return yl(t.uid,{isDataLabel:!0}),s.bullets.push(t),GC(t),zC(R.HistogramSeries,t),B5(t,s),t.html="{valueX}",t}function P5(s){let{numberFormatter:t,dataLabelsConfigContent:e}=s;return(i,r,a)=>Ws({textSymbol:{...e,text:t.format(i)},format:"html"})}function F5(s){let{series:t}=s,e=rm(t,"bullets");Yb({...s,dataLabel:e,defaultDataLabelFormatter:P5,seriesType:R.HistogramSeries})}function T5(s){let{axes:t,seriesConfig:e,series:i,fieldList:r,utilsStrings:a}=s,{dataTooltipVisible:n}=e,o,l=ca(i.rtl);return n===!1?o=(u,h,c)=>"":o=(u,h,c)=>{let A=wr(r,e.x),d=gl(A,t?.[0].title?.content?.text),f=gl(a.statistics.count,t?.[1].title?.content?.text),p=CA({series:i,callbackName:"tooltipValueYNumberFormatCallback",value:u}),m=CA({series:i,callbackName:"tooltipValueXNumberFormatCallback",value:h}),g=CA({series:i,callbackName:"tooltipValueXNumberFormatCallback",value:c});return`<b>${d}${l} </b>${m} - ${g}<br /><b>${f}${l} </b>${p}`},o}function D5(s){let t=s.columns.template;t.tooltipPosition=q.columnTooltipPosition,t.tooltipHTML=q.htmlEmptyContent,t.adapter.add("tooltipHTML",(e,i)=>{let r=e??"",{chart:a}=s;if(a!==void 0){let n=le(a.uid,"config"),{dataTooltipVisible:o}=n?.series[0]??{};if(o===!1)r="";else{let l=Nt(s.uid,"histogramTooltipFormatter");if(l!==void 0){let{dataItem:u}=i;if(u instanceof cs){let{valueY:h,openValueX:c,valueX:A}=u;r=l(h,c,A)}}}}return Ur(r)})}function O5(s){let{series:t,tooltipFormatter:e}=s;qr(t.uid,{histogramTooltipFormatter:e??T5(s)})}var nC={Count:"count",Start:"minValue",End:"maxValue"},Ds={Mean:"Mean",Median:"Median",StdDev:"Standard Deviation",Normal:"Normal Distribution",Trendline:"Trendline"};async function Cb(s){let{xAxis:t,yAxis:e,type:i,hideLoaderHandle:r}=s,a=new ai;return a.id=i,Fo(a,r),qr(a.uid,{isOverlay:!0,type:i}),a.dataFields.valueX="x",a.dataFields.valueY="y",t!==void 0&&(a.xAxis=t),e!==void 0&&(a.yAxis=e),a.hidden=!0,a}function L5(s){let{lineSeries:t,valueFormat:e,overlay:i,chartData:r,utilsStrings:a}=s;if(!i)Kt(t,!1),t.hiddenInLegend=!0;else{let{symbol:n,created:o,visible:l}=i,u=o===!0&&l!==!1,h=Nt(t.uid,"type"),c=Nt(t.uid,"upper");if(Co({element:t,lineSymbol:n,visible:u}),t.hiddenInLegend=o!==!0||c===!0,r&&"bins"in r){let d=r.bins.map(F=>F.count),f=Math.max(...d),{mean:p,stddev:m,median:g}=r,y=p-m,x=p+m,C={x:Number.NaN,y:Number.NaN},S={x:Number.NaN,y:Number.NaN};switch(h){case Ds.Mean:C={x:p,y:0},S={x:p,y:f};break;case Ds.Median:C={x:g,y:0},S={x:g,y:f};break;case Ds.StdDev:c===!0?(C={x,y:0},S={x,y:f}):(C={x:y,y:0},S={x:y,y:f});break}let P={data:[C,S]};t.data=P.data}let A=t.data[0]?.x;if(h===Ds.StdDev&&(A=r?.stddev??Nt(t.uid,"stddev"),qr(t.uid,{stddev:A})),A!==void 0){let d=h;switch(h){case Ds.Mean:d=a.overlays.mean;break;case Ds.Median:d=a.overlays.median;break;case Ds.StdDev:d=a.overlays.stdDev;break;case Ds.Trendline:d=a.overlays.trendline;break}let f=le(t.chart.uid,"formatLocale");Po(t,`${d}: ${Vc({value:A,valueFormat:e,iLocale:t.chart.language.locale,formatLocale:f})}`)}}}async function I5(s,t,e){let i=new ai;return qr(i.uid,{isOverlay:!0,type:Ds.Normal}),i.xAxis=s,i.yAxis=t,i.dataFields.valueX="x",i.dataFields.valueY="y",Po(i,e.overlays.normal),i.hidden=!0,i.id=Ds.Normal,i}function $5(s){let{lineSeries:t,overlay:e,seriesData:i,numberOfPoints:r}=s;if(!e)Kt(t,!1),t.hiddenInLegend=!0;else{let{symbol:a,created:n,visible:o}=e;if(Co({element:t,lineSymbol:a,visible:n===!0&&o!==!1}),t.hiddenInLegend=n!==!0,i&&"bins"in i){let{mean:l,stddev:u,min:h,max:c}=i,A=SL(i.bins),d=CL(h,c,r??q.histogramSeries.normalDistribNumberOfPoints).map(f=>({x:f,y:BL({x:f,mean:l,stddev:u,scalingFactor:A})}));t.data=d}}}async function k5(s){let{chart:t,seriesConfig:e,axisList:i=[],hideLoaderHandle:r,utilsStrings:a,selectionTheme:n}=s,o=[],l=new Fi;Fo(l,r),l.id=e.id,l.hiddenInLegend=!0;let[u,h]=i;if(u!==void 0&&(l.xAxis=u),h!==void 0&&(l.yAxis=h),D5(l),S5(l),l.dataItems.template.locations.valueX=1,l.dataItems.template.locations.openValueX=0,l.dataFields.openValueX=nC.Start,l.dataFields.valueX=nC.End,l.dataFields.valueY=nC.Count,l.dataFields.customValue=e.x,du(l),Au({element:l.columns.template,customSelectionTheme:n}),Zc(t,l.columns.template),o.push(l),u!==void 0&&h!==void 0){o.push(await Cb({xAxis:u,yAxis:h,type:Ds.Mean,hideLoaderHandle:r})),o.push(await Cb({xAxis:u,yAxis:h,type:Ds.Median,hideLoaderHandle:r}));let c=await Cb({xAxis:u,yAxis:h,type:Ds.StdDev,hideLoaderHandle:r});qr(c.uid,{upper:!1});let A=await Cb({xAxis:u,yAxis:h,type:Ds.StdDev,hideLoaderHandle:r});qr(A.uid,{upper:!0}),c.events.on(Oe.Hidden,()=>{Kt(A,!1)}),c.events.on(Oe.Shown,()=>{Kt(A)}),o.push(c),o.push(A),o.push(await I5(u,h,a))}return o.forEach(c=>{let A=Nt(c.uid,"isOverlay"),d=Nt(c.uid,"upper");A===!0&&d!==!0&&hm(c)}),o}function E5(s){let{series:t,seriesConfig:e,colorMatch:i,rendererSymbol:r}=s,a,n=e.fillSymbol??sx();if(t.columns.each(o=>{let l=nu({element:o,seriesConfig:e,seriesSymbol:n,rendererSymbol:r,colorMatch:i,isChartFillSymbol:!0});a=l.symbolWithColorInfo;let u=l.stylingInfo;bl({element:o,stylingInfo:u})}),a!==void 0){let o=new Map;o.set(0,a),Ua({data:o,htmlContainer:t.chart.htmlContainer,chartId:t.chart.id,colorMatchApplied:Kc(t.chart)})}}async function M5(s){let{chartConfig:t,seriesConfig:e,chartSeries:i,axes:r,chartData:a,fieldList:n,options:o,queryObject:l,chartRenderer:u,utilsStrings:h}=s,{tooltipFormatter:c,dataLabelFormatter:A}=o??{},d=6,f=e.overlays;for(let p=0;p<d;p+=1){let m=i[p];if(Nt(m?.uid,"isOverlay")===!0&&m instanceof ai){let g=Nt(m.uid,"type");if(g===Ds.Normal){if(f?.comparisonDistribution&&f?.comparisonDistribution.symbol?.color===void 0){let y=nf(g),x=f?.comparisonDistribution?.symbol??{type:qt.SLS};f.comparisonDistribution.symbol={...x,color:qn({colorIndex:y,histogramOverlays:!0})}}$5({lineSeries:m,overlay:f?.comparisonDistribution,seriesData:a})}else{let y;switch(g){case Ds.Mean:y=f?.mean;break;case Ds.Median:y=f?.median;break;case Ds.StdDev:y=f?.standardDeviation;break}if(y&&y.symbol?.color===void 0){y.symbol={...y.symbol,type:qt.SLS};let x=nf(g);y.symbol.color=qn({colorIndex:x,histogramOverlays:!0})}L5({lineSeries:m,valueFormat:sf(),overlay:y,chartData:a,utilsStrings:h})}m.events.once(Oe.Validated,()=>{Nt(m.uid,"upper")!==!0&&_A({labels:m.chart?.legend?.labels,seriesId:m.id})})}else if(m instanceof Fi){m.id=e.id,Kt(m,e.visible),Po(m,e.name);let g=ha(l),y=Vx({chartRenderer:u,queryObject:l}),x=u??g?.renderer,C=_d(u,g?.renderer),S;if(Ll({chartConfig:t,queryObject:l})){let P=await Nx({seriesConfig:[e],dataItem:{},renderer:x,rendererOrigin:u!==void 0?_f.ChartRenderer:_f.LayerRenderer,rendererType:C,chartSubType:Ie.NonSpecific,graphicTemplate:y});S=P.rendererSymbol,It(m.chart.uid,{colorMatchApplied:P.colorMatchApplied})}Nc({styleCallback:E5,callbackProps:{...s,rendererSymbol:S},series:m,seriesConfig:e}),F5({series:m,seriesType:R.HistogramSeries,dataLabelsConfig:e.dataLabels,yAxisValueFormat:r[1].valueFormat,customDataLabelFormatter:A}),O5({axes:r,series:m,seriesConfig:e,fieldList:n,tooltipFormatter:c,utilsStrings:h}),bI({axes:r,currentSeries:m,tooltipValueFormat:e.dataTooltipValueFormat})}}}function R5(s){s.labels.template.adapter.add("html",(t,e)=>{let i=Nt(s.uid,"pieChartDataLabelFormatter"),r=t??"",{dataItem:a}=e;if(a instanceof _a){let{slice:n}=a;if(n!==void 0&&!tm(n))r="";else if(i!==void 0){let{value:o,percent:l}=a.values?.value??{};if(o!==void 0&&o!==0){let u=`${a.properties?.category??t}`;r=i(u,o,l)}}}return Ki(r)&&(r=q.htmlEmptyContent),Ur(r)})}function U5(s){let t=s.labels.template;t.maxWidth=q.pieChart.dataLabels.maxWidth??Number.NaN,t.wrap=q.pieChart.dataLabels.wrap??!0,t.events.on(Oe.Over,e=>{let{dataItem:i}=e.target??{};i instanceof _a&&i.slice.showTooltip()}),R5(s)}function V5(s,t){let{numericValueFormat:e,percentValueFormat:i,displayCategoryOnDataLabel:r,displayNumericValueOnDataLabel:a,displayPercentageOnDataLabel:n,valuePrefix:o,valueSuffix:l,percentagePrefix:u,percentageSuffix:h,dataLabelsCharacterLimit:c}=t,A=qC({iLocale:s.chart.language.locale,pieChart:s.chart,valueIntlOptions:e?.intlOptions,percentageIntlOptions:i?.intlOptions,displayNumericValue:a??q.pieChart.displayNumericValueOnDataLabel,displayPercentage:n??q.pieChart.displayPercentageOnDataLabel,valuePrefix:o,valueSuffix:l,percentagePrefix:u,percentageSuffix:h}),d=bg(c),f=ca(s.rtl," ");return(p,m,g)=>{let y=A(p,m,g),x=r??q.pieChart.displayCategoryOnDataLabel?d(p):"",C=Ki(x)?"":`${x}${f}`;return C=`${C}${y}`,t.dataLabels?.content!==void 0&&(C=Ws({textSymbol:{...t.dataLabels.content,text:C},format:"html",defaults:{...q.pieChart.dataLabels,wrap:t.optimizeDataLabelsOverlapping??q.pieChart.dataLabels.wrap}})),C}}function N5(s){let{pieSeries:t,seriesConfig:e,dataLabelFormatter:i}=s,{dataLabels:r}=e,a=e.dataLabelsOffset??q.pieChart.dataLabelsOffset,n=e.dataLabelsInside??q.pieChart.dataLabelsInside;qr(t.uid,{pieChartDataLabelFormatter:i??V5(t,e)}),sn({label:t.labels.template,labelConfig:r,defaults:{...q.pieChart.dataLabels,wrap:e.optimizeDataLabelsOverlapping??q.pieChart.alignDataLabels},skipSettingText:!0}),t.alignLabels=!n&&(e.alignDataLabels??q.pieChart.alignDataLabels);let o=t.labels.template.radius;t.chart.invalidateData(),(n&&o!==ue(-40)||!n&&o===ue(-40)||a!==void 0&&Number.isFinite(a)&&o!==a)&&(t.labels.template.radius=n?ue(-40):a,t.invalidate())}function Q5(s,t){let e=(f,p,m)=>q.htmlEmptyContent,{numericValueFormat:i,percentValueFormat:r,dataTooltipValueFormat:a,dataTooltipPercentFormat:n,displayCategoryOnTooltip:o,displayNumericValueOnTooltip:l,displayPercentageOnTooltip:u,valuePrefix:h,valueSuffix:c,percentagePrefix:A,percentageSuffix:d}=t;return e=(f,p,m)=>{let g=q.htmlEmptyContent,y=qC({iLocale:s.chart.language.locale,pieChart:s.chart,valueIntlOptions:(a??i)?.intlOptions,percentageIntlOptions:(n??r)?.intlOptions,displayNumericValue:l??q.pieChart.displayNumericValueOnTooltip,displayPercentage:u??q.pieChart.displayPercentageOnTooltip,valuePrefix:h,valueSuffix:c,percentagePrefix:A,percentageSuffix:d})("",p,m),x=!Ki(f)&&(o??q.pieChart.displayCategoryOnTooltip);if(x&&(g=`<b>${f}</b>`),!Ki(y)){let C=vg(y);g=x?`${g}<br />${C}`:C}return g},e}function H5(s){if(s.tooltip!==void 0){let t=s.fill;t instanceof kc?t=t.stroke:t instanceof Ec&&(t=t.backgroundFill),s.tooltip.background.fill=t}}function j5(s){let t=s.slices.template;t.tooltipHTML=q.htmlEmptyContent,t.adapter.add("tooltipHTML",(e,i)=>{let r=e??"",{chart:a}=s;if(a!==void 0&&i.tooltip!==void 0){let n=le(a.uid,"config"),{dataTooltipVisible:o}=n?.series[0]??{};if(o===!1)i.tooltip.disabled=!0;else{let l=Nt(s.uid,"pieChartTooltipFormatter");if(l!==void 0){let{dataItem:u}=i;if(u instanceof _a){let h=u.properties.category??"",c=u.dataContext,A=io(c);A===void 0&&(A=h);let d=u.values?.value?.value,f=u.values?.value?.percent;typeof d=="number"&&d!==0&&n?.series?.[0]?.dataTooltipVisible!==!1?(i.tooltip.disabled=!1,H5(i),r=l(`${h}`,d,f,A)):i.tooltip.disabled=!0}}}}return Ur(r)})}function X5(s){let{series:t,seriesConfig:e,tooltipFormatter:i}=s;qr(t.uid,{pieChartTooltipFormatter:i??Q5(t,e)})}function W5(s){s.ticks.template.adapter.add("disabled",(t,e)=>e.dataItem?.values?.value?.value===0||!Number.isFinite(e.dataItem?.values?.value?.value)||t===!0)}function z5(s){let{chartData:t,pieSeries:e,pieSlicesSymbols:i,seriesConfig:r}=s;if(e.slices.length===0){let a=[];t?.forEach(n=>{let o=_C({dataContext:n,pieSlicesSymbols:i,seriesConfig:r});a.push(Uc(o.color))}),a.length>0&&(e.colors.list=a)}}function G5(s){let{seriesConfig:t,hideLoaderHandle:e,selectionTheme:i}=s,{x:r,y:a,id:n,visible:o}=t,l=new Ts;l.id=n,Fo(l,e),l.dataFields.value=a,l.dataFields.category=r;let u=q.pieChart;l.startAngle=u.min,l.endAngle=360+l.startAngle,W5(l),j5(l),U5(l);let h=i!==void 0&&i.selectedElementsTheme?.transformation?.opacity===void 0?{...i,selectedElementsTheme:{...i?.selectedElementsTheme,transformation:{...i?.selectedElementsTheme?.transformation,opacity:1}}}:i;return Au({element:l.slices.template,useNativeState:!0,customSelectionTheme:h}),l.slices.template.states.removeKey("hover"),du(l),l.hidden=o===!1,hm(l),l}function Y5(s){let{series:t,pieSlicesSymbols:e,seriesConfig:i,selectionTheme:r}=s;t.defaultState.reset(),t.slices.each((a,n)=>{let o=a.dataItem?.dataContext,l=_C({dataContext:o,pieSlicesSymbols:e,seriesConfig:i}),u=im({element:a,fillSymbol:l,defaultToColorFromRamp:!0,colorRampIndex:n,isChartFillSymbol:!0});r!==void 0&&r.selectedElementsTheme===void 0&&bl({element:a,stylingInfo:u,stateKey:na.Active})})}async function K5(s){let{chartConfig:t,queryObject:e,usePopupTemplateFieldsInfo:i,labelUpdateNeeded:r,utilsStrings:a}=s,{series:n}=t,o=n[0],{x:l}=o,u=!xx({chartConfig:t}),h=Pt([o]),c=h===Ie.PieFromFields,A=ha(e).objectIdField,d=await Pn(e,i);return{x:l,isNonAggregatedChart:u,objectIdField:A,isPieFromFields:c,seriesConfig:o,fieldList:d,labelUpdateNeeded:r,chartSubType:h,colorMatch:$o(t),utilsStrings:a}}function KO(s){return`${s[0]},${s[1]},${s[2]}`}function Z5(s,t,e){let i=new Set(Array.from(t).map(KO)),r=s.findIndex(a=>!i.has(KO(a)));return r!==-1?r:e}function q5(s){let{dataContext:t,seriesConfig:e,existingSlicesColors:i,isGroupOfSlices:r,sliceFromConfig:a,dataIndex:n,colorMatch:o,chartSubType:l}=s,u=r?{...q.pieChart.sliceGrouping.fillSymbol,...e.sliceGrouping?.fillSymbol}:Xr(a?.fillSymbol??e.fillSymbol),h=Pa({dataItem:t,seriesConfig:e,chartSubType:l,colorMatch:o}),c=n;u?.color||(c=Z5(AP,i,n));let A=new xa;A.dataItem={dataContext:t};let{symbolWithColorInfo:d}=nu({element:A,seriesConfig:e,y:e.y,seriesSymbol:u??af(),seriesIndex:c,rendererSymbol:h,colorMatch:o,isChartFillSymbol:!0});return d}function ZO(s,t){let{x:e,isNonAggregatedChart:i,objectIdField:r,isPieFromFields:a,seriesConfig:n,fieldList:o,labelUpdateNeeded:l,colorMatch:u,chartSubType:h,utilsStrings:c}=t,A=[],d,f,p=new Set;return s.forEach((m,g)=>{let y=uL({dataContext:m,x:e,isNonAggregatedChart:i,dataIndex:g,objectIdField:r,isPieFromFields:a});m[q.pieChart.technicalFieldSliceId]=y;let x=Pb(n.slices,y);x?.fillSymbol?.color!==void 0&&p.add(x.fillSymbol.color)}),s.forEach((m,g)=>{let y=m[q.pieChart.technicalFieldSliceId],x=Pb(n.slices,y),C=Ho(m),S=q5({dataContext:m,seriesConfig:n,existingSlicesColors:p,isGroupOfSlices:C,sliceFromConfig:x,dataIndex:g,colorMatch:u,chartSubType:h});S.color&&p.add(S.color);let P=hL({dataContext:m,sliceFromConfig:x,isGroupOfSlices:C,seriesConfig:n,fieldList:o,isPieFromFields:a,labelUpdateNeeded:l,colorMatch:u,utilsStrings:c}),F={sliceId:y,label:P,fillSymbol:S};F.originalLabel=x?.originalLabel??(m?.[q.originalCategoryValue]!==void 0?m?.[q.originalCategoryValue]:F.label),C?(f=m[q.pieChart.technicalFieldGroupedSlices],n.sliceGrouping!==void 0&&(d={sliceId:n.sliceGrouping.sliceId,percentageThreshold:n.sliceGrouping.percentageThreshold,label:P,originalLabel:n.sliceGrouping.originalLabel??P,fillSymbol:S})):A.push(F)}),{slices:A,groupOfSlicesSymbols:d,groupOfSlices:f}}async function nB(s){let{chart:t}=s,e=await K5(s),{slices:i,groupOfSlicesSymbols:r,groupOfSlices:a}=ZO(t.data,e),{slices:n}=ZO(a??[],e);return{slices:i,groupedSlices:n,groupOfSlices:r}}function J5(s,t){let{ticks:e}=t,i=e?.visible===!1||t.dataLabelsInside===!0||t.dataLabels===void 0||t.dataLabels?.visible===!1||t.dataLabelsOffset!==void 0&&t.dataLabelsOffset<=0;s.ticks.template.disabled=i,s.ticks.template.strokeOpacity=q.pieChart.ticksOpacity;let r=e?.lineSymbol??pd({color:qv});i&&(r.width=0),Co({element:s.ticks.template,lineSymbol:r,visible:!i})}function eY(s){let{chart:t,seriesConfig:e,series:i,pieSlicesSymbols:r,options:a,utilsStrings:n}=s,{tooltipFormatter:o,dataLabelFormatter:l}=a??{},{x:u,y:h,id:c,innerRadius:A,startAngle:d,endAngle:f}=e;i.id=c;let p=Pt([e]),m=q.pieChart;i.dataFields.value=p!==Ie.PieFromFields?h:kh,i.dataFields.category=p!==Ie.PieFromFields?u:Kn;let g=t.radius instanceof qe?t.radius.value:t.radius;t.innerRadius=ue((A??m.innerRadius)*g),i.startAngle=d??m.min,i.endAngle=f??360+i.startAngle,N5({pieSeries:i,seriesConfig:e,dataLabelFormatter:l}),z5({chartData:t.data,pieSeries:i,pieSlicesSymbols:r,seriesConfig:e}),Nc({styleCallback:Y5,callbackProps:s,series:i,seriesConfig:e}),J5(i,e),X5({series:i,seriesConfig:e,tooltipFormatter:o})}function t$(s){let{chart:t,seriesConfig:e,utilsStrings:i}=s,r=t.data,a=NC({data:r,seriesConfig:e,utilsStrings:i});t.data=a}function tY(s,t){s.adapter.add("htmlOutput",(e,i)=>{let r=e,a=Nt(t.uid,"scatterplotDataLabelFormatter"),{dataItem:n}=i;if(n instanceof va&&a!==void 0){let{valueX:o,valueY:l,customValue:u}=n,h=(n.component?.xAxis).min,c=(n.component?.yAxis).min;r=mC({dataValue:o,series:t,seriesType:R.ScatterSeries,axisMin:h})||mC({dataValue:l,series:t,seriesType:R.ScatterSeries,axisMin:c})?"":a(o,l,u)}return Ur(r)},0)}function iY(s){let t=zn(q.dataLabelInitialize);return yl(t.uid,{isDataLabel:!0}),s.bullets.push(t),tY(t,s),t.html="{valueX} - {valueY}",t}function rY(s){let{numberFormatter:t,dataLabelsConfigContent:e}=s;return(i,r)=>Ws({textSymbol:{...e,text:`${t.format(i)} - ${t.format(r)}`},format:"html"})}function sY(s){let{series:t}=s,e=rm(t,"bullets");Yb({...s,dataLabel:e,defaultDataLabelFormatter:rY,seriesType:R.ScatterSeries})}function aY(s){let{axes:t,seriesConfig:e,series:i,fieldList:r}=s,{dataTooltipVisible:a}=e,n,o=ca(i.rtl);return a===!1?n=(l,u,h)=>"":n=(l,u,h)=>{let c=wr(r,e.x),A=gl(c,t?.[0].title?.content?.text),d=wr(r,e.y),f=gl(d,t?.[1].title?.content?.text),p=CA({series:i,callbackName:"tooltipValueXNumberFormatCallback",value:l}),m=CA({series:i,callbackName:"tooltipValueYNumberFormatCallback",value:u}),g=`<b>${A}${o} </b>${p}<br /><b>${f}${o} </b>${m}`;if(h!==void 0&&e.sizePolicy?.field!==void 0){let y=wr(r,e.sizePolicy?.field),x=CA({series:i,callbackName:"tooltipValueYNumberFormatCallback",value:h});g+=`<br /><b>${y}${o} </b>${x}<br /><b>`}return g},n}function nY(s,t){s.tooltipHTML=q.htmlEmptyContent,s.adapter.add("tooltipHTML",(e,i)=>{let r=e??"",{chart:a}=t;if(a!==void 0){let n=le(a.uid,"config"),{dataTooltipVisible:o}=n?.series[0]??{};if(o===!1)r="";else{let l=Nt(t.uid,"scatterplotTooltipFormatter");if(!i.isHidden&&l!==void 0){let{dataItem:u}=i;if(u instanceof va){let{valueX:h,valueY:c,customValue:A}=u;r=l(h,c,A)}}}}return Ur(r)})}function oY(s){let{series:t,tooltipFormatter:e}=s;qr(t.uid,{scatterplotTooltipFormatter:e??aY(s)})}function lY(s){let{series:t,seriesConfig:e,newMin:i,newMax:r}=s,a=t.heatRules.getIndex(0),n=a===void 0&&e.sizePolicy!==void 0||a!==void 0&&e.sizePolicy===void 0;if(!n&&a!==void 0){let o=a.min===i&&a.max===r,l=t.dataFields.customValue===e.sizePolicy?.field,u=e.sizePolicy?.scaleType===Fl.Linear&&a.logarithmic!==!0||e.sizePolicy?.scaleType===Fl.Logarithmic&&a.logarithmic===!0;n=!(o&&l&&u)}return n}function uY(s,t){let{sizePolicy:e}=s,i=t.heatRules.getIndex(0),r=!1;if(e!==void 0){let{scaleType:a,field:n,minSize:o,maxSize:l}=e,u=Pr(t);if(u!==void 0){let h=ix(),c=o??h.minSize,A=l??h.maxSize;i!==void 0?lY({series:t,seriesConfig:s,newMin:c,newMax:A})&&(r=!0,i.min=c,i.max=A,i.logarithmic=a===Fl.Logarithmic):(r=!0,t.heatRules.push({target:u,property:"minWidth",min:c,max:A,dataField:"customValue",logarithmic:a===Fl.Logarithmic})),t.dataFields.customValue=n}}else i!==void 0&&(t.heatRules.pop(),t.dataFields.customValue=void 0,r=!0);return r}function hY(s){s!==void 0&&s.validateData();let t=s?.series?.values?.find(e=>Nt(e.uid,"isOverlay")===!0);t!==void 0&&t.validateData()}async function cY(s){let{xAxis:t,yAxis:e,x:i,y:r,name:a,hideLoaderHandle:n}=s,o=new ai;return Po(o,a),Fo(o,n),o.ignoreMinMax=!0,qr(o.uid,{isOverlay:!0,type:Ds.Trendline}),o.dataFields.valueX=i,o.dataFields.valueY=r,o.xAxis=t,o.yAxis=e,o.hidden=!0,o}function dY(s){let{trendLine:t,seriesConfig:e,valueFormat:i,chartData:r,defaultR2Value:a}=s,n=q.scatterplotSeries;if(r?.trendLinePoints){t.data=r.trendLinePoints;let u=le(t.chart.uid,"formatLocale"),h=Number.isFinite(r.r2)?Vc({value:r.r2??n.r2,valueFormat:i,iLocale:t.chart.language.locale,formatLocale:u}):void 0,c=h!==void 0?`R\xB2 = ${h}`:a;Po(t,c)}t.hiddenInLegend=e.overlays?.trendLine?.created!==!0;let o=e.overlays?.trendLine?.created===!0&&e.overlays.trendLine.visible!==!1,l=e.overlays?.trendLine?.symbol??{type:qt.SLS};l.color===void 0&&(l.color=qn({colorIndex:1})),Co({element:t,lineSymbol:l??pd(),visible:o})}async function AY(s){let{chart:t,seriesConfig:e,axisList:i=[],hideLoaderHandle:r,selectionTheme:a,ignoreSmoothRenderingLimit:n}=s,o=q.scatterplotSeries,[l,u]=i,{x:h,y:c,overlays:A,name:d,id:f}=e,p=[],m=new ai;qr(m.uid,{type:R.ScatterSeries}),m.id=f,Fo(m,r),m.hiddenInLegend=!0,m.dataFields.valueX=h,m.dataFields.valueY=c,l!==void 0&&(m.xAxis=l),u!==void 0&&(m.yAxis=u);let g=Kb({chart:t,lineSeries:m});nY(g,m),iY(m),m.strokeOpacity=o.strokeOpacity,m.minDistance*=Math.ceil(m.data.length/1e4),m.hidden=!0,Au({element:g,customSelectionTheme:a}),Zc(t,g),vI({chart:t,series:m,seriesType:R.ScatterSeries,marker:g,ignoreSmoothRenderingLimit:n}),p.push(m);let y=A?.trendLine,x=await cY({xAxis:l,yAxis:u,x:h,y:c,hideLoaderHandle:r,name:d,visible:y?.visible});return hm(x),p.push(x),du(m),p}function fY(s){let{seriesConfig:t,series:e,colorMatch:i}=s,{chart:r}=e,a=Pr(e),n=uY(t,e),o=()=>{if(a!==void 0){let l,u,h=t.markerSymbol??sg(),c=new Set;a.clones.each(d=>{let f=Pa({dataItem:d.dataItem?.dataContext,seriesConfig:t,chartSubType:Ie.NonSpecific,colorMatch:i}),p=nu({element:d,seriesSymbol:h,seriesConfig:t,colorMatch:i,rendererSymbol:f});l=p.symbolWithColorInfo,u=p.stylingInfo,bl({element:d,stylingInfo:u}),c.add(JSON.stringify(u))}),l=c.size>1?void 0:l;let A=new Map;A.set(0,l),Ua({data:A,htmlContainer:r.htmlContainer,chartId:r.id,colorMatchApplied:Kc(r)})}};n?(e.events.disableType(Oe.Validated),hY(r),r.events.once(Oe.Validated,()=>{o(),e.events.enableType(Oe.Validated),e.dispatchImmediately(Oe.Validated)})):o()}function pY(s){let{seriesConfig:t,chartSeries:e,axes:i,fieldList:r,chartData:a,options:n,utilsStrings:o}=s,{tooltipFormatter:l,dataLabelFormatter:u}=n??{},h=e.find(d=>Nt(d.uid,"isOverlay")===!0),c=o.notAvailable;if(h!==void 0){let d={trendLine:h,seriesConfig:t,valueFormat:sf(),chartData:a,defaultR2Value:c};Nc({styleCallback:dY,callbackProps:d,series:h,seriesConfig:t})}let A=e.find(d=>Nt(d.uid,"isOverlay")!==!0);A!==void 0&&(Pr(A)!==void 0&&(A.id=t.id,Nc({styleCallback:fY,callbackProps:s,series:A,seriesConfig:t}),bI({axes:i,currentSeries:A,tooltipValueFormat:t.dataTooltipValueFormat}),oY({axes:i,seriesConfig:t,series:A,fieldList:r,tooltipFormatter:l})),sY({series:A,seriesType:R.ScatterSeries,dataLabelsConfig:t.dataLabels,yAxisValueFormat:i[1].valueFormat,customDataLabelFormatter:u}))}function mY(s){let t=s.isHover,e=s.dataItem instanceof _a?s.dataItem?.label?.isHover:!1;return t||e}async function gY(s){s.series.getIndex(0)?.slices.values.some(t=>mY(t))||await dm({chart:s,listSelectedElements:[],selectionSource:kr.SelectionByClick})}async function qO(s){let{chart:t,hitSlice:e,multiSelect:i=!1}=s,r=[],a=le(t.uid,"config"),n=t.series.getIndex(0);if(a&&n!==void 0){if(!n.slices.values.every(o=>(o.isHover||o.isFocused)!==o.isActive)){let o=pI(n),l=Ch(n),u={element:{},xAxisField:o,yAxisField:l,seriesIndex:0,chartConfig:a};n.slices.each((h,c)=>{h.isActive&&(h===e||i||h.dataItem instanceof _a&&h.dataItem.label.isHover)?Ho(h.dataItem?.dataContext)?(am({groupOfSlicesDataContext:h.dataItem?.dataContext})??[]).forEach(A=>{r.push({...u,element:void 0,elementDataContext:A,elementIndex:c})}):r.push({...u,element:h,elementDataContext:h.dataItem?.dataContext,elementIndex:c}):Gn({element:h,selected:!1,useNativeState:!0})}),r.forEach(h=>{Gn({element:h.element,selected:!0,useNativeState:!0})})}await dm({chart:t,listSelectedElements:r,selectionSource:kr.SelectionByClick})}t.feedLegend()}function yY(s){let t=async r=>{let{target:a}=r;if(wI(s)&&s.series.getIndex(0)?.slices.template.togglable){let n=qb(r,s);if(a instanceof xa)await qO({chart:s,multiSelect:n,hitSlice:a});else if(a instanceof Ei){let o=a.dataItem;if(o instanceof _a){let{slice:l}=o;l.isActive=!l.isActive,await qO({chart:s,multiSelect:n,hitSlice:l})}}else await gY(s)}},e=s.series.getIndex(0)?.slices.template;e!==void 0&&(e.events.on(Oe.Hit,t),e.events.on(Oe.DoubleHit,t));let i=s.series.getIndex(0)?.labels.template;i!==void 0&&i.events.on(Oe.Hit,t),s.events.on(Oe.Hit,t),s.events.on(Oe.DoubleHit,t)}function JO(s){return s?.offsetParent!==null}function bY(s,t){s!==void 0&&t!==void 0&&window.IntersectionObserver!==void 0&&new IntersectionObserver(e=>{e[0].intersectionRatio>0&&(le(s.uid,"chartWasCreatedWhileHidden")===!0?(s.reinit(),s.events.once(Oe.Validated,()=>{s.reinit()}),It(s.uid,{chartWasCreatedWhileHidden:!1})):le(s.uid,"chartWasUpdatedWhileHidden")===!0&&(s.reinit(),It(s.uid,{chartWasUpdatedWhileHidden:!1})))},{root:null}).observe(t)}function vY(s,t){let e=q.pieChart.dataLabels.maxWidth??100;if(s!=null){let{alignDataLabels:i,dataLabelsOffset:r=q.pieChart.dataLabelsOffset,optimizeDataLabelsOverlapping:a,dataLabels:n,dataLabelsInside:o}=s;if(n?.visible===!0&&i===!0&&o!==!0&&a===!0){let l=typeof t.radius=="number"?t.radius/100:t.radius.value,u=t.chartContainer.measuredWidth,h=t.chartContainer.measuredHeight,c=l*Math.min(u,h),A=5,d=Math.floor((u-c)/2)-A-r;e=Math.min(d,e-A);let f=30;e<f&&(e=f)}}return e}function i$(s){if(an(s)){let t=typeof s.radius=="number"?s.radius:s.radius.percent;It(s.uid,{pieChartRadius:t});let e=()=>{let i=ue(le(s.uid,"pieChartRadius")??q.pieChart.chartOptimizedRadius),r=i,a=le(s.uid,"config");if(a!==void 0){let{series:n}=a,{innerRadius:o,optimizeDataLabelsOverlapping:l,alignDataLabels:u,dataLabelsOffset:h=q.pieChart.dataLabelsOffset,dataLabels:c,dataLabelsInside:A}=n[0];if(c?.visible===!0&&u===!0&&l===!0&&A!==!0){let f=q.pieChart.chartOptimizedRadius/100,p=500,m=150,g=.6,y=.5,x=1,C=s.chartContainer.measuredWidth-h*2,S=Math.max(C-m,0)/(p-m),P=S<1?Math.max(S**x*g,.4):Math.min(S**y*g,f);r=ue(P*100)}else r=ue(q.pieChart.chartRadius);i.value.toFixed(1)!==r.value.toFixed(1)&&(It(s.uid,{pieChartRadius:r.percent}),s.radius=r,s.innerRadius=ue((o??q.pieChart.innerRadius)*r.value));let d=s.series?.values?.[0];d instanceof Ts&&(d.labels.template.maxWidth=vY(a?.series[0],s))}return r};s.events.on(Oe.SizeChanged,Wr(e,q.debounceTime)),e(),s.validate()}}function r$(s){if(s instanceof Xi)i$(s);else if(!(s instanceof Vs)){let t=()=>{let i=le(s.uid,"config"),{chartPaddingMinSize:r,chartPaddingRightWhenLegendNotOnRight:a,chartContainerPaddingTopWhenRotated:n,chartContainer:o}=q,l=i?.series,u=We(l),h=bn({config:i}),c=l?.[0]?.dataLabels?.visible??!0,A=q.chartDefaultPaddingRight;if(h&&c&&(u===R.LineSeries||u===R.ComboLineAndBarSeries||u===R.BarSeries&&(i?.stackedType??ax())===cr.Side)){let f=0,p=m=>ys(m.uid,"isDataLabel")??!1;s.series.each(m=>{let g=m.bullets.values.find(p);g!==void 0&&g.clones.each(y=>{let x=y.measuredWidth;switch(y.horizontalCenter){case Zt.Middle:x/=2;break;case gi.Right:x*=-1;break;case gi.Left:}let C=y.pixelX+x;C>f&&(f=C,A=x)})})}A>=0&&(s.chartContainer.paddingRight=A),s.chartContainer.paddingTop=h?n:o.paddingTop;let d=i?.legend?.visible!==!1&&i?.legend?.position===St.Right;s.paddingRight=d?r:a},e=0;s.series.each(i=>{i.events.once(Oe.Validated,()=>{e+=1,e===s.series.length&&t()})})}}function xY(s,t){s.adapter.add("criticalError",e=>(e.message=t.errors.simpleError,e))}function oC(s,t){let e=s.svgContainer?.SVGContainer;e!==void 0&&(e.style.position=t??"relative")}function _Y(s){let t=s.svgContainer?.SVGContainer;t!==void 0&&(t.style.display="flex")}function wY(s){let t=le(s?.uid,"options")?.loaderColors,{backgroundCSSColor:e,textCSSColor:i}=N1(t);s.modal?.elements.wrapper&&(s.modal.elements.wrapper.style.backgroundColor=e,s.modal.elements.wrapper.style.color=i),s.modal?.elements.curtain&&(s.modal.elements.curtain.style.backgroundColor=e)}function CY(s){s.modal!==void 0&&(s.modal.classPrefix="modal",oC(s,"static"),s.modal.events.on(Oe.Opened,()=>{oC(s,"relative"),_Y(s),wY(s)}),s.modal.events.on(Oe.Closed,()=>{oC(s,"static")}))}function oB(s){CY(s)}function eL(s){let t="";for(let e=0;e<s.length;e+=1){let i=s[e];t+=`<li>${i.message}</li>`}return`<ol>${t}</ol>`}function kb(s){s.modal!==void 0&&(s.modal.closable=!0,s.modal.content="",s.closeModal())}async function Jc(s){let{chart:t,chartConfig:e,queryObject:i,createMessage:r,allowUsingObjectIdStat:a,errorStrings:n}=s,o=le(t.uid,"options"),l=await hg({input:e,queryObject:i,allowUsingObjectIdStat:a}),{schemaErrors:u,customErrors:h,warnings:c}=l;if(t.modal!==void 0){let A,d;if(t.modal.closable=!1,e===void 0)d=r===void 0?n.modalHeaders.newChart:void 0,A=r??n.errors.newChartRequest,t.modal.events.once(Oe.Opened,()=>{if(r!==void 0){let f=t.modal?.elements?.title?.parentElement??null;f!==null&&(f.style.visibility="hidden")}});else if(u.length>0)A=n.errors.simpleError,d=n.modalHeaders.error;else if(h.length>0)A=eL(h),d=n.modalHeaders.error;else if(c.length>0){let f=eL(c);A=`<p>${n.errors.warningRequest}</p>${f}`,d=n.modalHeaders.warning}A!==void 0&&o?.showUIMessages!==!1&&an(t)&&t.openModal(A,d)}return l}async function Hc(s){let{chart:t,chartConfig:e,invalidType:i,elementCount:r,seriesCount:a,errorStrings:n}=s,o=le(t.uid,"queryObject"),l=le(t.uid,"options"),u=le(t.uid,"formatLocale"),h=e!==void 0&&Mh({seriesConfig:e.series[0],xAxisValueFormatType:mf(e)}),c=await Ix({invalidType:i,elementCount:r,seriesCount:a,chartLimits:l?.chartLimits,filterBySelection:l?.filterBySelection,queryObject:o,errorStrings:n,formatLocale:u,isTemporalLineChart:h});Fx(c,t.htmlContainer),t.modal!==void 0&&l?.showUIMessages!==!1&&an(t)&&(t.modal.closable=!1,t.openModal(c.message,c.header))}async function tL(s){let{chart:t,chartConfig:e,errorStrings:i}=s,r=le(t.uid,"options");(t.modal?.content===void 0||t.modal?.content==="")&&hx({chartConfig:e,nullAsValid:r?.nullAsValid,dataSet:t.data})&&await Hc({chart:t,invalidType:Uo.EmptyDataSet,chartConfig:e,errorStrings:i})}async function iL(s,t){if(s instanceof Lt){let e=le(s.uid,"isRotated"),i=[];[{axis:s.xAxes.getIndex(0)},{axis:s.yAxes.getIndex(0)},{axis:s.xAxes.getIndex(1),isSecondValueAxis:!0},{axis:s.yAxes.getIndex(1),isSecondValueAxis:!0}].forEach(r=>{let{axis:a,isSecondValueAxis:n}=r;if(a!==void 0){let o=qc(a.renderer,e);WI(a,n)||i.push(Hc({chart:s,invalidType:o?Uo.NegativeValueInXAxisLogScale:Uo.NegativeValueInYAxisLogScale,errorStrings:t}))}}),await Promise.all(i)}}async function lB(s){let{chart:t,data:e,chartConfig:i,pieSlicesSymbols:r,queryObject:a,options:n,currentValidationStatus:o,utilsStrings:l,errorStrings:u}=s,{slices:h}=r??{},{chartWillRender:c,createMessage:A}=n??{},d=o,f=i,p=Xr(r);if(c!==void 0&&(t instanceof Vs||t instanceof Xi)){f=Xr(i);let m=LP({data:e,seriesConfig:i.series});if(f=await c({chartConfig:f,data:m,slices:h}),d=await Jc({chart:t,chartConfig:f,queryObject:a,createMessage:A,allowUsingObjectIdStat:n?.allowUsingObjectIdStat,errorStrings:u}),t instanceof Xi){if(e&&"dataItems"in e){let{colorMatchApplied:g,rendererFieldNames:y}=await jh({data:e.dataItems,queryObject:a,chartConfig:f,allowColorMatch:Ll({chartConfig:f,queryObject:a})});It(t.uid,{colorMatchApplied:g,rendererFieldNames:y})}p=await nB({chart:t,chartConfig:f,queryObject:a,labelUpdateNeeded:!0,usePopupTemplateFieldsInfo:n?.usePopupTemplateFieldsInfo,utilsStrings:l})}}return{alteredConfig:f,newValidationStatus:d,alteredPieSlicesSymbols:p}}function s$(s){let{chart:t,data:e,config:i,hideEmptySeries:r}=s,a=i.series.length,n=Xr(i),o=!1;if(r&&t instanceof Lt&&a>1){let l=We(i?.series),u=Pt(i?.series),h=new Set;switch(l){case R.ComboLineAndBarSeries:case R.BarSeries:case R.LineSeries:{n.series.forEach(A=>{let d="";"y"in A&&(d=Array.isArray(A.y)?A.y[0]:A.y,u===Ie.BarAndLineSplitByNoAggregation&&(d=`${d}_${Tl({where:A.query?.where,keepSurroundingQuotes:!1,escape:!1})}`),(e??t.data)?.some(f=>ng({dataItem:f,x:A.x,y:d}))&&h.add(A))});break}case R.BoxPlotSeries:{let A=No(i);n.series.forEach(d=>{let f,p;d.type===R.BoxPlotSeries?(f=(e??t.data).dataItems,p=f?.some(m=>xP({dataItem:m,splitBy:d.query?.where,showOutliers:A}))):d.type===R.LineSeries&&(f=(e??t.data).meanLines,p=f?.some(m=>EX(m,d.query?.where))),p&&h.add(d)});break}}let c=Array.from(h.values());o=c.length>0&&c.length<a,o?(It(t.uid,{unfilteredConfig:Xr(i)}),n.series=c,It(t.uid,{config:Xr(n)})):It(t.uid,{unfilteredConfig:void 0})}return It(t.uid,{seriesFilteredOut:o}),{seriesFilteredOut:o,updatedConfig:n}}et.classNamePrefix="arcgis-charts-";async function uB(s,t){let e=await iX(t.locale);et.defaultLocale=e,s.language.locale=e,It(s.uid,{formatLocale:t.formatLocale}),s.rtl=t.rtl}function av(s){let{chart:t,actionMode:e,cursorRange:i}=s;if(an(t)){let r=e??le(t.uid,"actionMode")??q.actionMode;It(t.uid,{actionMode:r});let a=le(t.uid,"filterBySelection");switch(r){case Ht.MonoSelection:case Ht.MultiSelection:case Ht.MultiSelectionWithCtrlKey:a!==!0?zX(t):sC(t);break;case Ht.Zoom:sC(t);break;case Ht.None:kA({chart:t,selectionSource:kr.ClearSelection,clearOnlyVisibleSeries:!1,disposeStyleAndSelection:!1}),sC(t);break}FX({chart:t,actionMode:r,cursorRange:i})}}function BY(s,t){t===!0&&(s.tapToActivate=!0,s.tapTimeout=3e3,s.responsive.enabled=!0)}async function SY(s){let{chart:t,axesConfig:e,chartType:i,isRotated:r,errorStrings:a}=s;switch(await Dl({chartType:i,axesConfig:e,errorStrings:a}),i){case R.ScatterSeries:{l5(t,e);break}case R.HistogramSeries:{a5({chart:t,axesConfig:e});break}case R.GaugeSeries:{t instanceof Vs&&e?.[0]?.valueFormat!==void 0&&JG(t,e[0].valueFormat);break}case R.BarSeries:case R.LineSeries:case R.ComboLineAndBarSeries:case R.BoxPlotSeries:{LG({chart:t,chartType:i,isRotated:r,axesConfig:e});break}}}async function hB(s){let{chart:t,chartConfig:e,chartConfig:{axes:i},rotationChanged:r,axisLabelsBehaviorChanged:a,chartType:n,isRotated:o,dualAxisChanged:l,timeIntervalInfoWasReset:u,data:h,queryObject:c,guideTooltipFormatter:A,xAxisLabelFormatter:d,yAxisLabelFormatter:f,secondaryYAxisLabelFormatter:p,gaugeInnerLabelFormatter:m,utilsStrings:g,errorStrings:y}=s;switch(await Dl({chartType:n,axesConfig:i,errorStrings:y}),n){case R.ScatterSeries:{t instanceof Lt&&await u5({chart:t,axesConfig:i,axisLabelsBehaviorChanged:a,guideTooltipFormatter:A,xAxisLabelFormatter:d,yAxisLabelFormatter:f,utilsStrings:g,errorStrings:y});break}case R.HistogramSeries:{t.data!==void 0&&t instanceof Lt&&await o5({chart:t,axesConfig:i,histogramBins:t.data,guideTooltipFormatter:A,xAxisLabelFormatter:d,yAxisLabelFormatter:f,utilsStrings:g,errorStrings:y});break}case R.BarSeries:case R.LineSeries:case R.ComboLineAndBarSeries:case R.BoxPlotSeries:{t instanceof Lt&&await IG({chart:t,chartConfig:e,rotationChanged:r,axisLabelsBehaviorChanged:a,isRotated:o,dualAxisChanged:l,timeIntervalInfoWasReset:u,timeIntervalInfo:h?.timeIntervalInfo??le(t.uid,"timeIntervalInfo"),guideTooltipFormatter:A,xAxisLabelFormatter:d,yAxisLabelFormatter:f,secondaryYAxisLabelFormatter:p,utilsStrings:g,errorStrings:y});break}case R.GaugeSeries:{t instanceof Vs&&await t5({chart:t,chartConfig:e,data:(h??t.data).dataItems,queryObject:c,axisValueFormatter:d,gaugeInnerLabelFormatter:m,utilsStrings:g,errorStrings:y});break}}}async function a$(s){let{chart:t,chartConfig:e,hideLoaderHandle:i,options:r,utilsStrings:a,queryObject:n}=s,{selectionTheme:o,ignoreSmoothRenderingLimit:l}=r??{},u=We(e.series);t.series.clear();let h,c,A=[],d=[],f=t instanceof Lt?[t.xAxes.getIndex(0),t.yAxes.getIndex(0),t.xAxes.getIndex(1)??t.yAxes.getIndex(1)]:void 0,p={hideLoaderHandle:i,selectionTheme:o,utilsStrings:a},m={...p,axisList:f};for(let y=0;y<e.series.length;y+=1){let x=e.series[y];if(c=We([x]),t instanceof Lt&&(c===R.BoxPlotSeries||c===R.LineSeries&&u===R.BoxPlotSeries))h=iz({...m,chart:t,axisList:f,chartConfig:e,seriesIndex:y}),d.push(...h.flat());else switch(c){case R.BarSeries:{t instanceof Lt&&(h=w5({...m,chart:t,chartConfig:e,seriesIndex:y}),d.push(h));break}case R.LineSeries:{t instanceof Lt&&(h=GW({...m,chart:t,chartConfig:e,seriesIndex:y,ignoreSmoothRenderingLimit:l,queryObject:n}),d.push(h));break}case R.ScatterSeries:{t instanceof Lt&&x.type===R.ScatterSeries&&(A.push(AY({...m,chart:t,seriesConfig:x,ignoreSmoothRenderingLimit:l})),t.bulletsContainer.zIndex=1,t.seriesContainer.zIndex=2);break}case R.HistogramSeries:{t instanceof Lt&&x.type===R.HistogramSeries&&A.push(k5({...m,chart:t,seriesConfig:x}));break}case R.PieSeries:{t instanceof Xi&&x.type===R.PieSeries&&(h=G5({...p,seriesConfig:x}),d.push(h));break}}}let g=OP({chartConfig:e,queryObject:n,chartData:t.data});if(g.length>0&&(t.colors.list=g.map(y=>{let[x,C,S,P]=y;return new xt({r:x,g:C,b:S,a:P})})),A.length>0){let y=await Promise.all(A);t.series.pushAll(y.flat())}else d.length>0&&t.series.pushAll(d);iW(t)}async function cB(s){let{chart:t,chartConfig:e,chartConfig:{series:i,axes:r,chartRenderer:a},seriesIndexMapper:n,rotationChanged:o,seriesReordered:l,outliersVisibilityChanged:u,standardizeValuesVisibilityChanged:h,chartData:c,queryObject:A,options:d,dataWasUpdated:f,sortChanged:p,groupOfSlicesWasUpdated:m,pieSlicesSymbols:g,utilsStrings:y,errorStrings:x}=s,C=t.series.values,S=new Map,P=e.series.length,F=We(i),O=$o(e),$=on(e),L=dx(A),E=await Pn(A,d?.usePopupTemplateFieldsInfo),D=ha(A),H=_d(a,D.renderer);for(let[te,K]of i.entries()){let ae=We([K]),ie=C[te],fe={numberOfSeries:P,series:ie,seriesConfig:K,seriesIndex:te,colorMatch:O,queryObject:A,rendererType:H,options:d,dataWasUpdated:f,fieldList:E,subtypeInfo:L,sortChanged:p,utilsStrings:y},z={...fe,axes:r,seriesIndexMapper:n},Y=ie;if(t instanceof Lt&&(ae===R.BoxPlotSeries||ae===R.LineSeries&&F===R.BoxPlotSeries)){if(Y=C.find(ge=>ge.id===K.id),ie!==void 0&&(Y instanceof Or||Y instanceof ai)){let ge=ts(e);fz({...fe,chart:t,series:Y,seriesIndexMapper:n,seriesSymbolMapForEvent:S,chartData:c,showOutliers:e.showOutliers,showMean:ge,outliersVisibilityChanged:u,seriesReordered:l,standardizeValuesVisibilityChanged:h,rotationChanged:o,options:d})}}else switch(ae){case R.BarSeries:C5({...z,stackedType:$,seriesSymbolMapForEvent:S,rotationChanged:o});break;case R.LineSeries:qW({...z,stackedType:$,seriesSymbolMapForEvent:S,rotationChanged:o});break;case R.ScatterSeries:pY({...z,chartSeries:C,chartData:c});break;case R.HistogramSeries:await M5({...z,chartSeries:C,chartConfig:e,chartData:c&&"bins"in c?c:void 0,chartRenderer:a});break;case R.PieSeries:eY({...fe,chart:t,groupOfSlicesWasUpdated:m,pieSlicesSymbols:g,selectionTheme:d?.selectionTheme});break}}await Cz({chart:t,options:d,dataWasUpdated:f,chartData:c,chartConfig:e,queryObject:A,rotationChanged:o,sortChanged:p,groupOfSlicesWasUpdated:m,errorStrings:x})}async function dB(s){let{chartConfig:t}=s,{chart:e,options:i,globalOptions:r,queryObject:a,utilsStrings:n,errorStrings:o}=s,{hideLoaderAnimation:l,disableTogglingLegendItems:u,cursorRange:h,actionMode:c,pieChartLegendValueLabelFormatter:A,guideTooltipFormatter:d,xAxisLabelFormatter:f,yAxisLabelFormatter:p,secondaryYAxisLabelFormatter:m,gaugeInnerLabelFormatter:g,usePopupTemplateFieldsInfo:y}=i??{},x,C,S,P,{loaderElements:F,loaderHandle:O}=JX(e,i);O.showLoader(l!==!0);let $=We(t.series),L=await Pn(a,y);It(e.uid,{fieldList:L});let{valid:E,invalidType:D,data:H,count:te,binnedServerData:K,queryConfig:ae}=await Qh({chartConfig:t,queryObject:a,abortKey:lm(e),options:i,errorStrings:o,fieldList:L});It(e.uid,{options:i,elementCount:te,initialized:E,binnedServerData:K,queryConfig:ae,boxPlotMeanLinesData:H?.meanLines,timeIntervalInfo:H?.timeIntervalInfo,serverLimitReached:H?.serverLimitReached,trendLineData:{r2:H?.r2,trendLinePoints:H?.trendLinePoints}});let ie=new Map;t.series.forEach((ge,re)=>{ie.set(ge.id,re)});let fe=Eo(H),z=ts(t);t=s$({chart:e,hideEmptySeries:i?.hideEmptySeries??q.options.hideEmptySeries,data:z?H:fe,config:t}).updatedConfig;let Y=H&&z&&"meanLines"in H?H.meanLines:fe;if(Y!==void 0&&$!==R.HistogramSeries){let{colorMatchApplied:ge,rendererFieldNames:re}=await jh({data:Y,queryObject:a,chartConfig:t,allowColorMatch:Ll({chartConfig:t,queryObject:a})});It(e.uid,{colorMatchApplied:ge,rendererFieldNames:re})}if(!E)await Hc({chart:e,invalidType:D,elementCount:te,seriesCount:t.series.length,chartConfig:t,errorStrings:o}),O.hideLoader();else{fe!==void 0&&(e.data=fe);let ge=Pt(t.series);$===R.BoxPlotSeries&&ge!==Ie.BoxPlotMonoField&&ge!==Ie.BoxPlotMonoFieldAndSplitBy&&(Hh({arrayToSort:e.data,chartConfig:t}),RI({chart:e,chartData:e.data,chartConfig:t}));let re;e instanceof Xi&&(t$({chart:e,seriesConfig:t.series,utilsStrings:n}),re=await nB({chart:e,chartConfig:t,queryObject:a,labelUpdateNeeded:!0,usePopupTemplateFieldsInfo:i?.usePopupTemplateFieldsInfo,utilsStrings:n}));let me={dataItems:e.data,timeIntervalInfo:le(e.uid,"timeIntervalInfo"),serverLimitReached:le(e.uid,"serverLimitReached"),meanLines:le(e.uid,"boxPlotMeanLinesData"),outliers:H?.outliers};Qo({data:e instanceof Xi?{dataItems:e.data}:H,seriesConfig:t.series,htmlContainer:e.htmlContainer});let Ge=await lB({chart:e,data:H,chartConfig:t,pieSlicesSymbols:re,queryObject:a,options:i,utilsStrings:n,errorStrings:o});P=Ge.newValidationStatus;let{alteredConfig:Xe,alteredPieSlicesSymbols:nt}=Ge;if(re=nt,e instanceof Xi&&(Eb({data:e.data,newChartConfig:Xe,pieSlicesSymbols:re,fieldList:le(e.uid,"fieldList")}),Ua({data:re,htmlContainer:e.htmlContainer,chartId:e.id,colorMatchApplied:Kc(e,Xe)}),Cx({data:e.data,chartConfig:Xe,htmlContainer:e.htmlContainer})),P?.valid!==!1){let{title:At,subtitle:tt,footer:ft,series:_t,background:$t}=Xe;x=c5(e),rv(x,{title:At,subtitle:tt}),C=d5(e),sv(C,ft),S=zW(e,_t),vW(e);let U=bn({config:Xe}),xe=Pt(_t);It(e.uid,{config:Xe,isRotated:U,isNonAggregatedChart:!gf(xe)}),Xe.axes!==void 0&&(await SY({chart:e,axesConfig:Xe.axes,chartType:$,isRotated:U,errorStrings:o}),await hB({chart:e,chartConfig:Xe,chartType:$,isRotated:U,data:H,queryObject:a,guideTooltipFormatter:d,xAxisLabelFormatter:f,yAxisLabelFormatter:p,secondaryYAxisLabelFormatter:m,gaugeInnerLabelFormatter:g,utilsStrings:n,errorStrings:o})),await a$({chart:e,chartConfig:Xe,hideLoaderHandle:O.hideLoader,utilsStrings:n,options:i,queryObject:a}),await cB({chart:e,chartConfig:Xe,seriesIndexMapper:ie,rotationChanged:!1,queryObject:a,chartData:$===R.BoxPlotSeries?me:H,groupOfSlicesWasUpdated:!0,pieSlicesSymbols:re,dataWasUpdated:!0,options:i,utilsStrings:n,errorStrings:o}),JC({legendElements:S,seriesConfig:_t,webChartLegend:Xe.legend,pieChartLegendValueLabelFormatter:A}),qI(e),h5(e),iv(e,$t),JI({chart:e,scrollbarXConfig:Xe.axes?.[0]?.scrollbar,scrollbarYConfig:Xe.axes?.[1]?.scrollbar}),cI(e),dI(e,Xe?.cursorCrosshair),av({chart:e,actionMode:c,cursorRange:h});let ye=pf(e.htmlContainer??document.documentElement);e.dateFormatter.intlLocales=ye,BY(e,r?.enableResponsiveFeatures),(e instanceof Vs||um(e.series))&&(O.hideLoader(),Vh(e.htmlContainer)),r$(e)}}return{chartElements:x!==void 0&&C!==void 0&&S!==void 0&&F!==void 0?{headerElements:x,footerElements:C,legendElements:S,loaderHandle:O,loaderElements:F}:void 0,validationStatus:P}}function n$(s){s.series.each(t=>{t.events.on(Oe.Ready,()=>{um(s.series)&&rB(s)})})}async function PY(s){let{chartContainer:t,chartConfig:e,queryObject:i,t9nStrings:r,options:a,globalOptions:n}=s,{errorStrings:o,utilsStrings:l}=r,{createMessage:u}=a??{};t==null&&await Bu("divNode",r.errorStrings);let h=Gp(t,Lt);h.id=e?.id??h.uid,It(h.uid,{queryObject:i});let{t9nLocale:c}=tf(h.htmlContainer??document.documentElement),A=pf(h.htmlContainer??document.documentElement),d=qm(h.htmlContainer??document.documentElement)==="rtl";await uB(h,{locale:c,formatLocale:A,rtl:d}),oB(h),h.events.on(Oe.Inited,()=>h.zoomOutButton.deepInvalidate());let f=await Jc({chart:h,chartConfig:e,queryObject:i,createMessage:u,allowUsingObjectIdStat:a?.allowUsingObjectIdStat,errorStrings:o}),p=xf(e,h.htmlContainer),m=We(p?.series),g;return f.valid&&(h instanceof Lt&&m!==R.BoxPlotSeries&&(h.maskBullets=!1),g=(await dB({chartConfig:p,chart:h,queryObject:i,options:a,globalOptions:n,utilsStrings:l,errorStrings:o})).chartElements,It(h.uid,{config:Xr(p)}),n$(h),jX(h),XX(h)),Ol(f,h.htmlContainer),{chart:h,chartElements:g}}async function FY(s){let{chartContainer:t,chartConfig:e,queryObject:i,errorStrings:r,utilsStrings:a,options:n,globalOptions:o}=s;t==null&&await Bu("divNode",r);let l=Gp(t,Xi);l.id=e?.id??l.uid;let u=gx(l.htmlContainer);await uB(l,u),l.radius=ue(q.pieChart.chartRadius),oB(l);let h=await Jc({chart:l,chartConfig:e,queryObject:i,createMessage:n?.createMessage,allowUsingObjectIdStat:n?.allowUsingObjectIdStat,errorStrings:r}),c;return h.valid&&(c=(await dB({chartConfig:e,chart:l,queryObject:i,options:n,globalOptions:o,utilsStrings:a,errorStrings:r})).chartElements,It(l.uid,{config:Xr(e),filterBySelection:n?.filterBySelection}),yY(l)),Ol(h,t),{chart:l,chartElements:c}}async function TY(s){let{chartContainer:t,chartConfig:e,queryObject:i,errorStrings:r,utilsStrings:a,options:n,globalOptions:o}=s;t==null&&await Bu("divNode",r);let l=Gp(t,Vs);l.id=e?.id??l.uid;let u=gx(l.htmlContainer);await uB(l,u),oB(l),l.maskBullets=!1;let h=await Jc({chart:l,chartConfig:e,queryObject:i,createMessage:n?.createMessage,allowUsingObjectIdStat:n?.allowUsingObjectIdStat,errorStrings:r}),c;if(h.valid){let A=q.gauge,d=Number.isFinite(e?.innerRadius)?e?.innerRadius:A.innerRadius,f=Number.isFinite(e?.startAngle)?e?.startAngle:A.startAngle,p=Number.isFinite(e?.endAngle)?e?.endAngle:A.endAngle;l.radius=ue(A.radius),typeof d=="number"&&(l.innerRadius=ue(d)),typeof f=="number"&&(l.startAngle=f),typeof p=="number"&&(l.endAngle=p);let m=await dB({chartConfig:e,chart:l,queryObject:i,options:n,globalOptions:o,utilsStrings:a,errorStrings:r});c=m.chartElements,h=m.validationStatus??h,It(l.uid,{config:Xr(e)})}return n$(l),Ol(h,l.htmlContainer),{chart:l,chartElements:c}}async function DY(s){let{newConfig:t}=s,{chart:e,chartElements:i,options:r,queryObject:a,forceDataUpdate:n,utilsStrings:o,errorStrings:l}=s,{createMessage:u,chartLimits:h,guideTooltipFormatter:c}=r??{};kb(e);let A=await Jc({chart:e,chartConfig:t,queryObject:a,createMessage:u,allowUsingObjectIdStat:r?.allowUsingObjectIdStat,errorStrings:l});if(eW(i.loaderElements,r),A.valid&&t!==void 0){i.loaderHandle.showLoader(r?.hideLoaderAnimation!==!0);let f=le(e.uid,"seriesFilteredOut"),p=le(e.uid,"unfilteredConfig"),m=le(e.uid,"config"),g=m?.series,y=t.series,x=We(y),C=bn({config:t});It(e.uid,{config:Xr(t),isRotated:C});let{dataUpdateNeeded:S,updateNeededDetails:P}=bf({options:r,forceDataUpdate:n,oldConfig:f?p:m,newConfig:t,formerFilterBySelection:le(e.uid,"filterBySelection"),timeIntervalInfo:le(e.uid,"timeIntervalInfo"),currentSelectionDataItems:le(e.uid,"currentSelectionDataItems"),currentSelectionOIDs:le(e.uid,"currentSelectionOIDs"),currentSelectionIndexes:le(e.uid,"computedSelectionIndexes"),fieldList:le(e.uid,"fieldList")});It(e.uid,{filterBySelection:r?.filterBySelection}),av({chart:e,actionMode:r?.actionMode,cursorRange:r?.cursorRange});let{xOrYChanged:F}=P.common,{numberOfSeriesChanged:O}=P.common,$=Tx(m,t),L=Dx(m,t),E=UP(m,t),D=VP(m,t),H=JSON.stringify(nx(g))!==JSON.stringify(nx(y)),te=HP(m,t),K=jP(m,t),ae=mg(m,t),ie=gg({oldConfig:f?p:m,newConfig:t,dataUpdateNeeded:S}),fe=bx({oldConfig:m,newConfig:t,rotationChanged:L}),z=YI({chart:e,dualAxisChanged:E,rotationChanged:L,timeIntervalInfoWasReset:$,axisLabelsBehaviorChanged:fe}),Y=!1,ge,re,me=x!==R.BarSeries&&x!==R.LineSeries&&x!==R.ComboLineAndBarSeries&&x!==R.HistogramSeries,Ge=Pt(y);if(It(e.uid,{isNonAggregatedChart:!gf(Ge)}),S){(n===!0||RP(P))&&It(e.uid,{binnedServerData:void 0});let{count:ft,valid:_t,invalidType:$t,data:U,binnedServerData:xe,queryConfig:ye}=await Qh({chartConfig:t,queryObject:a,abortKey:lm(e),currentSelectionOIDs:le(e.uid,"currentSelectionOIDs"),currentSelectionDataItems:le(e.uid,"currentSelectionDataItems"),binnedServerData:le(e.uid,"binnedServerData"),options:r,errorStrings:l});It(e.uid,{elementCount:ft,initialized:_t,binnedServerData:xe,queryConfig:ye,boxPlotMeanLinesData:U?.meanLines,timeIntervalInfo:U?.timeIntervalInfo,serverLimitReached:U?.serverLimitReached,trendLineData:{r2:U?.r2,trendLinePoints:U?.trendLinePoints}}),me=_t,me?(kb(e),ge=U,re=Eo(ge)):(await Hc({chart:e,invalidType:$t,elementCount:ft,seriesCount:y.length,chartConfig:t,errorStrings:l}),i.loaderHandle.hideLoader())}else if(x===R.BarSeries||x===R.LineSeries||x===R.RadarSeries||x===R.ComboLineAndBarSeries||x===R.BoxPlotSeries){let ft=le(e.uid,"elementCount");if(ft!==void 0&&(me=fP({count:ft,seriesCount:y.length,chartType:x,chartLimits:h})),me){let _t=Lx(g,y);if(_t.length>0&&(fX(e.series,_t),e.feedLegend(),Y=!0),bP(y[0])){let{binTemporalData:$t}=y[0],{unit:U,size:xe}=y[0].temporalBinning??{};$t===!1&&U!==void 0&&xe!==void 0&&It(e.uid,{timeIntervalInfo:{unit:U,size:xe}})}}else{let _t;switch(x){case R.BarSeries:case R.ComboLineAndBarSeries:_t=Uo.BarElementExceedsLimit;break;case R.LineSeries:_t=Uo.LineChartExceedsLimit;break;case R.BoxPlotSeries:_t=Uo.BoxPlotExceedsLimit;break}await Hc({chart:e,invalidType:_t,elementCount:ft,seriesCount:y.length,chartConfig:t,errorStrings:l}),i.loaderHandle.hideLoader()}}ie&&(Hh({arrayToSort:S?re??e.data:e.data,chartConfig:t,fieldList:le(e.uid,"fieldList"),isTimeBinningSeries:Mh({seriesConfig:ux(t),xAxisValueFormatType:mf(t),setTimeBinningInfoWhenNotProvided:r?.setTimeBinningInfoWhenNotProvided})}),x===R.BoxPlotSeries&&RI({chart:e,chartData:S?re??e.data:e.data,chartConfig:t}),S||(e.validateData(),x===R.BoxPlotSeries&&e.series.each(ft=>{ft instanceof ai&&!(ft instanceof aa)&&ft.id.includes(zi.Outliers)&&ft.validateData()})));let Xe=S&&ge&&"bins"in ge?ge:void 0,nt=ge&&"trendLinePoints"in ge?ge:le(e.uid,"trendLineData");ge={dataItems:S?re??e.data:e.data,timeIntervalInfo:le(e.uid,"timeIntervalInfo"),serverLimitReached:le(e.uid,"serverLimitReached"),meanLines:le(e.uid,"boxPlotMeanLinesData"),outliers:S?ge?.outliers:e.series.values.find(ft=>!(ft instanceof aa)&&ft instanceof ai)?.data,trendLinePoints:nt?.trendLinePoints,r2:nt?.r2,...Xe},(S||ie)&&Qo({data:ge,seriesConfig:t.series,htmlContainer:e.htmlContainer});let At=new Map;t.series.forEach((ft,_t)=>{At.set(ft.id,_t)});let tt=Ll({chartConfig:t,queryObject:a});if(!S||me){let ft=ts(t),_t=s$({chart:e,data:ft?ge:re,config:t,hideEmptySeries:r?.hideEmptySeries??q.options.hideEmptySeries});if(t=_t.updatedConfig,O=_t.seriesFilteredOut,(S||ae)&&x!==R.HistogramSeries){let U=ts(t),xe=ge&&U&&"meanLines"in ge?ge.meanLines:re??e.data,{colorMatchApplied:ye,rendererFieldNames:G}=await jh({data:xe,queryObject:a,chartConfig:t,allowColorMatch:tt});It(e.uid,{colorMatchApplied:ye,rendererFieldNames:G})}re!==void 0&&(e.data=re),t.axes!==void 0&&await hB({chart:e,chartConfig:t,rotationChanged:L,timeIntervalInfoWasReset:$,axisLabelsBehaviorChanged:fe,chartType:x,isRotated:C,dualAxisChanged:E,guideTooltipFormatter:c,xAxisLabelFormatter:r?.xAxisLabelFormatter,yAxisLabelFormatter:r?.yAxisLabelFormatter,secondaryYAxisLabelFormatter:r?.secondaryYAxisLabelFormatter,utilsStrings:o,errorStrings:l});let $t=x===R.BoxPlotSeries&&(MP(y,g)||EP(y,g));(e.series===void 0||e.series.length===0||F||O||_t.seriesFilteredOut||H||(x===R.BarSeries||x===R.LineSeries||x===R.RadarSeries||x===R.ComboLineAndBarSeries)&&e.series.length!==t.series.length||x!==R.HistogramSeries&&z||D||$t||P.boxPlot.showMeanChanged)&&(!S&&(L||$t||z)&&e.invalidateData(),await a$({chart:e,chartConfig:t,hideLoaderHandle:i.loaderHandle.hideLoader,utilsStrings:o,queryObject:a,options:r})),await cB({chart:e,chartConfig:t,seriesIndexMapper:At,rotationChanged:L,seriesReordered:Y,outliersVisibilityChanged:te,standardizeValuesVisibilityChanged:K,queryObject:a,chartData:ge,options:r,dataWasUpdated:S,sortChanged:ie,utilsStrings:o,errorStrings:l}),rv(i.headerElements,{title:t.title,subtitle:t.subtitle}),sv(i.footerElements,t.footer),JC({legendElements:i.legendElements,seriesConfig:t.series,webChartLegend:t.legend,disableTogglingLegendItems:r?.disableTogglingLegendItems}),iv(e,t.background),JI({chart:e,scrollbarXConfig:t.axes?.[0]?.scrollbar,scrollbarYConfig:t.axes?.[1]?.scrollbar})}um(e.series)&&(i.loaderHandle.hideLoader(),Vh(e.htmlContainer))}Ol(A,e.htmlContainer),dI(e,t?.cursorCrosshair);let d=SX(e);(d.behavior===Wi.SelectX||d.behavior===Wi.SelectXY||d.behavior===Wi.SelectY||d.behavior===Wi.None)&&e.scrollbarX.start===0&&e.scrollbarX.end===1&&e.scrollbarY.start===0&&e.scrollbarY.end===1&&rB(e),r$(e),GI(e.series.values[0])}async function OY(s){let{chart:t,chartElements:e,newConfig:i,queryObject:r,forceDataUpdate:a,options:n,utilsStrings:o,errorStrings:l}=s;kb(t);let u=await Jc({chart:t,chartConfig:i,queryObject:r,createMessage:n?.createMessage,allowUsingObjectIdStat:n?.allowUsingObjectIdStat,errorStrings:l});if(u.valid&&i!==void 0){e.loaderHandle.showLoader(n?.hideLoaderAnimation!==!0);let h=le(t.uid,"config"),c=h?.series,A=i?.series,{dataUpdateNeeded:d}=bf({forceDataUpdate:a,oldConfig:h,newConfig:i,options:n,formerFilterBySelection:le(t.uid,"filterBySelection"),currentSelectionDataItems:le(t.uid,"currentSelectionDataItems"),currentSelectionOIDs:le(t.uid,"currentSelectionOIDs"),currentSelectionIndexes:le(t.uid,"currentSelectionIndexes")}),f=mg(h,i),p=gg({oldConfig:h,newConfig:i,dataUpdateNeeded:d});It(t.uid,{filterBySelection:n?.filterBySelection,config:Xr(i)});let m=!0,g,y,x=!1;if(d){let{count:C,valid:S,invalidType:P,data:F,queryConfig:O}=await Qh({chartConfig:i,currentSelectionDataItems:le(t.uid,"currentSelectionDataItems"),currentSelectionOIDs:le(t.uid,"currentSelectionOIDs"),options:n,queryObject:r,abortKey:lm(t),errorStrings:l});g=F,It(t.uid,{elementCount:C,queryConfig:O,initialized:S}),m=S,y=Eo(g),m?y!==void 0&&zP(t.data,y)&&(t.data=y,x=!0):(await Hc({chart:t,invalidType:P,elementCount:C,seriesCount:A.length,errorStrings:l}),e.loaderHandle.hideLoader())}if(!x||m){if(d||f){let D=await jh({data:y??t.data,queryObject:r,chartConfig:i,allowColorMatch:Ll({chartConfig:i,queryObject:r})});t.data=D.dataItems,It(t.uid,{colorMatchApplied:D.colorMatchApplied,rendererFieldNames:D.rendererFieldNames})}let C=cL(c,A);(x||C)&&t$({chart:t,seriesConfig:A,utilsStrings:o}),(p||C)&&(Hh({arrayToSort:y??t.data,chartConfig:i,fieldList:le(t.uid,"fieldList")}),t.validateData());let S=fg({oldConfig:h,newConfig:i}),P=_x(h,i),F=await nB({chart:t,chartConfig:i,queryObject:r,labelUpdateNeeded:x||S||f||P,usePopupTemplateFieldsInfo:n?.usePopupTemplateFieldsInfo,utilsStrings:o});(x||p)&&(Qo({data:{dataItems:t.data},seriesConfig:i.series,htmlContainer:t.htmlContainer}),Cx({data:t.data,chartConfig:i,htmlContainer:t.htmlContainer}));let O=await lB({chart:t,data:{dataItems:t.data},chartConfig:i,pieSlicesSymbols:F,queryObject:r,options:n,currentValidationStatus:u,utilsStrings:o,errorStrings:l});u=O.newValidationStatus??u;let{alteredPieSlicesSymbols:$,alteredConfig:L}=O;F=$;let E=fg({oldConfig:i,newConfig:L});(d||S||E||f||P)&&Eb({data:t.data,newChartConfig:L,pieSlicesSymbols:F,fieldList:le(t.uid,"fieldList")}),Ua({data:F,htmlContainer:t.htmlContainer,chartId:t.id,colorMatchApplied:Kc(t,L)}),await cB({chart:t,queryObject:r,chartConfig:L,seriesIndexMapper:new Map,options:n,dataWasUpdated:x,sortChanged:p,chartData:g,groupOfSlicesWasUpdated:C,pieSlicesSymbols:F,utilsStrings:o,errorStrings:l}),rv(e.headerElements,{title:L.title,subtitle:L.subtitle}),sv(e.footerElements,L.footer),JC({legendElements:e.legendElements,seriesConfig:L.series,webChartLegend:L.legend,disableTogglingLegendItems:n?.disableTogglingLegendItems,pieChartLegendValueLabelFormatter:n?.pieChartLegendValueLabelFormatter}),iv(t,L.background),av({chart:t,actionMode:n?.actionMode,cursorRange:n?.cursorRange}),i$(t)}um(t.series)&&(e.loaderHandle.hideLoader(),Vh(t.htmlContainer))}Ol(u,t.htmlContainer)}async function LY(s){let{chart:t,chartElements:e,newConfig:i,queryObject:r,forceDataUpdate:a,options:n,utilsStrings:o,errorStrings:l}=s,{createMessage:u,hideLoaderAnimation:h,xAxisLabelFormatter:c,gaugeInnerLabelFormatter:A,guideTooltipFormatter:d}=n??{};kb(t);let f=await Jc({chart:t,chartConfig:i,queryObject:r,createMessage:u,allowUsingObjectIdStat:n?.allowUsingObjectIdStat,errorStrings:l});if(f.valid&&i!==void 0){e.loaderHandle.showLoader(h!==!0);let p=le(t.uid,"config"),m=i.series,g=We(m),{dataUpdateNeeded:y}=bf({forceDataUpdate:a,oldConfig:p,newConfig:i}),x;if(y){let{count:P,valid:F,invalidType:O,data:$,queryConfig:L}=await Qh({chartConfig:i,queryObject:r,options:n,abortKey:lm(t),errorStrings:l});x=$,x?.dataItems!==void 0&&(t.data=x.dataItems),Qo({data:{dataItems:t.data},seriesConfig:i.series,htmlContainer:t.htmlContainer}),It(t.uid,{elementCount:P,queryConfig:L,initialized:F}),F||(await Hc({chart:t,invalidType:O,elementCount:P,seriesCount:1,errorStrings:l}),e.loaderHandle.hideLoader())}let C=await lB({chart:t,data:{dataItems:t.data},chartConfig:i,queryObject:r,options:n,currentValidationStatus:f,utilsStrings:o,errorStrings:l});f=C.newValidationStatus??f;let S=C.alteredConfig;if(f.valid){S.axes!==void 0&&await hB({chart:t,chartConfig:S,chartType:g,data:x,queryObject:r,xAxisLabelFormatter:c,gaugeInnerLabelFormatter:A,guideTooltipFormatter:d,utilsStrings:o,errorStrings:l});let P=q.gauge,F=Number.isFinite(S?.innerRadius)?S.innerRadius:P.innerRadius,O=Number.isFinite(S?.startAngle)?S.startAngle:P.startAngle,$=Number.isFinite(S?.endAngle)?S.endAngle:P.endAngle;t.innerRadius=ue(F),t.startAngle=O,t.endAngle=$,rv(e.headerElements,{title:S.title,subtitle:S.subtitle}),sv(e.footerElements,S.footer),iv(t,S.background),It(t.uid,{config:Xr(S)}),e.loaderHandle.hideLoader(),Vh(t.htmlContainer)}}Ol(f,t.htmlContainer)}async function IY(s){let{chartContainer:t,chartConfig:e,queryObject:i,t9nStrings:r,options:a,globalOptions:n}=s,{errorStrings:o,utilsStrings:l}=r;et.commercialLicense=n?.hideLicenseWatermark!==!1,et.queue=n?.queueChartCreation!==!1,et.autoDispose=n?.autoDisposeChart===!0,n?.useAnimatedCharts===!0?qw(bb):Jw(bb);let u;switch(We(e?.series)){case R.PieSeries:u=await FY({chartContainer:t,chartConfig:e,queryObject:i,options:a,globalOptions:n,utilsStrings:l,errorStrings:o});break;case R.GaugeSeries:u=await TY({chartContainer:t,chartConfig:e,queryObject:i,options:a,globalOptions:n,utilsStrings:l,errorStrings:o});break;default:u=await PY({chartContainer:t,chartConfig:e,queryObject:i,options:a,globalOptions:n,t9nStrings:r});break}return u}async function $Y(s){let{chartContainer:t,chartConfig:e,t9nStrings:i,options:r,globalOptions:a}=s,{errorStrings:n}=i,{layer:o,view:l}=r??{},u=!JO(t),h;e!==void 0&&(Vo(e)?h=e:h=cf({chartConfig:e,queryObject:o})),h=await ff(h,o);let c;h&&(Vo(h)||o!==void 0)&&(c=await yd({chartConfig:h,layer:o,view:l}));let A=await IY({chartContainer:t,chartConfig:h,queryObject:c,t9nStrings:i,options:r,globalOptions:a}),{chart:d,chartElements:f}=A;xY(d,n),It(d.uid,{chartWasCreatedWhileHidden:u,queryObject:c,filterBySelection:r?.filterBySelection,options:r}),bY(d,t),await tL({chart:d,chartConfig:h,errorStrings:n}),await iL(d,n);function p(){wP.delete(lm(d)),d.isDisposed()||(TX(d),f!==void 0&&(f.loaderHandle.hideLoader(),A.chartElements=void 0),d.dispose())}async function m(P){let{newConfig:F,forceDataUpdate:O,updateOptions:$}=P,{utilsStrings:L}=P,E=le(d.uid,"initialized"),D=le(d.uid,"config"),H=F?.series,te=H!==void 0?We(H):void 0;if(d.isDisposed()||f===void 0||E===!1||!vx(D,F))throw new lf(gd.ChartDisposed);switch(te){case R.BoxPlotSeries:case R.BarSeries:case R.LineSeries:case R.ComboLineAndBarSeries:case R.ScatterSeries:case R.HistogramSeries:await DY({chart:d,chartElements:f,queryObject:c,newConfig:F,forceDataUpdate:O,options:$,utilsStrings:L,errorStrings:n});break;case R.PieSeries:await OY({chart:d,chartElements:f,queryObject:c,forceDataUpdate:O,newConfig:F,options:$,utilsStrings:L,errorStrings:n});break;case R.GaugeSeries:await LY({chart:d,chartElements:f,newConfig:F,queryObject:c,forceDataUpdate:O,options:$,utilsStrings:L,errorStrings:n});break}}async function g(P){let{layerUpdate:F,newConfig:O,viewUpdate:$}=P;O&&(F!==void 0||Vo(O))&&(c=await yd({layer:F,view:$,chartConfig:O}),It(d.uid,{queryObject:c}))}async function y(P){let{newChartConfig:F,updateOptions:O,updateGlobalOptions:$,t9nStrings:L}=P,{errorStrings:E,utilsStrings:D}=L;t==null&&await Bu("divNode",E);let{layer:H,view:te,dataUpdated:K}=O??{},ae=!JO(t),ie=await Pn(c,r?.usePopupTemplateFieldsInfo);It(d.uid,{chartWasUpdatedWhileHidden:ae,options:O,fieldList:ie});let fe;Vo(F)?fe=F:F!==void 0&&(fe=cf({chartConfig:F,queryObject:H})),fe=await ff(fe,H);let z=uf(c);await g({layerUpdate:H,newConfig:fe,viewUpdate:te});let Y=le(d.uid,"config");Y!==void 0&&Ox(Y,fe)&&(fe=xf(fe,d.htmlContainer));let ge=uf(c);await m({newConfig:fe,updateOptions:O,forceDataUpdate:K===!0||z!==ge,utilsStrings:D}),await tL({chart:d,chartConfig:fe,errorStrings:E}),await iL(d,E)}async function x(){if(an(d)&&(d instanceof Lt||d instanceof Xi)){let P=le(d.uid,"actionMode");P!==Ht.MonoSelection&&P!==Ht.None&&await WX(d)}}function C(P,F,O){d.modal!==void 0&&!d.isDisposed()&&(d.modal.closable=O?.closable??!1,P!==void 0?(d.modal.events.once(Oe.Opened,()=>{let $=d.modal?.elements?.title?.parentElement;$ instanceof HTMLElement&&d.modal?.elements?.title?.innerText.length===0&&($.style.visibility="hidden")}),d.openModal(P,F)):d.closeModal())}function S(){rB(d)}return{update:y,dispose:p,notify:C,resetZoom:S,clearSelection:()=>kA({chart:d}),switchSelection:x,exportImage:async P=>await DX({chart:d,exportOptions:P}),setActionMode:(P,F)=>av({chart:d,actionMode:P,cursorRange:F})}}function kY(s,t){let e;switch(s){case R.PieSeries:e=t?.placeholders.pieChartCreateMsg;break;case R.BarSeries:e=t?.placeholders.barChartCreateMsg;break;case R.BoxPlotSeries:e=t?.placeholders.boxPlotCreateMsg;break;case R.LineSeries:e=t?.placeholders.lineChartCreateMsg;break;case R.HistogramSeries:e=t?.placeholders.histogramCreateMsg;break;case R.ScatterSeries:e=t?.placeholders.scatterplotCreateMsg;break}return e}function EY(){return!0}async function rL(s){let{layer:t}=s,e;if(t!==void 0&&s.layerFilterChangePolicy===Cf.Refresh){let i=ha(t),r=lg(i);e=Xn.watch(()=>r.definitionExpression,async()=>{await s.refresh({updateData:!0,resetAxesBounds:!0})})}return e}async function sL(s){let{layer:t,model:e}=s,i=Cd(e)?e.config:e,r;if(t!==void 0&&s.layerRendererChangePolicy===Bf.Refresh){let a=ha(t);r=Xn.watch(()=>a.renderer,async()=>{if($o(i)){let n=EY();await s.refresh({updateData:n})}})}return r}async function MY(s){let{view:t,layer:e,model:i}=s,r=Cd(i)?i.config:i,a;if(t!==void 0&&r!==void 0){let n=await yd({chartConfig:r,view:t,layer:e});if(og(n)){await Xn.whenOnce(()=>!n.updating);let o=async()=>{t.stationary&&(n.updating&&await Xn.whenOnce(()=>!n.updating),await s.refresh({updateData:!0,resetAxesBounds:!0}))};a=[],a.push(Xn.when(()=>t.stationary,o)),a.push(Xn.when(()=>!n.dataUpdating,o)),await o()}}return a}async function RY(s){let{view:t,model:e}=s,i=Cd(e)?e.config:e,r=We(i?.series),a;return t!==void 0&&s.viewTimeExtentChangePolicy===Bd.Refresh&&r!==R.HistogramSeries&&(a=Xn.watch(()=>t.timeExtent,async()=>{await s.refresh({updateData:!0})})),a}async function aL(s){let{layer:t}=s,e;if(t!==void 0&&s.layerFieldsChangePolicy===Sf.Refresh){let i=ha(t),r=lg(i);e=Xn.watch(()=>[r.fields],async()=>{await s.refresh({updateData:!0})})}return e}async function nL(s){let{view:t}=s,e;return t!==void 0&&"selectionManager"in t&&"selections"in t.selectionManager&&(e=Xn.watch(()=>t.selectionManager.selections,i=>{s.syncSelectionsBetweenChartAndLayerViewPolicy===Pf.Enabled&&(Array.isArray(i)&&i?.length===0?s.clearSelection():s.applySelectionFromView())})),e}var UY=({message:s,heading:t,options:e})=>JA`<calcite-alert .icon=${e?.icon??"exclamationMarkTriangle"} .open=${e?.active===!0} .autoClose=${e?.autoClose??!1} .autoCloseDuration=${e?.duration??"medium"} scale=m .kind=${e?.kind??"danger"} .ariaHidden=${e?.active!==!0} dir=ltr role=alertdialog label="arcgis charts notify panel">${t!==void 0?JA`<div slot=title>${t}</div>`:null}${s!==void 0?JA`<div slot=message>${s}</div>`:null}</calcite-alert>`,VY=sP`.hide{display:none}.am5-modal{width:100%;height:100%;position:absolute;z-index:100000;top:0;left:0}.am5-modal-curtain{top:0;left:0;width:100%;height:100%;position:absolute;background:#fff!important;z-index:100}.am5-modal-wrapper{top:0;left:0;width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;white-space:nowrap;background:#ffffff80;z-index:101}.am5-modal-content{display:inline-block;padding:1.2em;vertical-align:middle;text-align:start;white-space:normal;background:#fff;border-radius:4px;box-shadow:#00000073 0 0 36px;color:#000}.am5-layer-1000{z-index:1000!important}.am5-layer-30{z-index:100!important}.arcgis-charts-modal{box-shadow:none!important}.arcgis-charts-modal-header{background-color:#0000000d;font-weight:700;padding:4px;align-content:center}.show{display:block}.notifyPanel{flex:0 1 auto}.disable-interactions{pointer-events:none}.dim-text{color:var(--arcgis-charts-dim-text)}.chart{flex-grow:1;overflow-y:hidden}.chart>div{justify-content:center;align-items:center}.chart .arcgis-charts-modal-inside{padding:1em 1em 1em 0}.chart .arcgis-charts-modal-inside ol{padding-left:2em}.chart .arcgis-charts-modal-curtain{width:100%;height:100%;position:absolute;top:0;left:0;z-index:2001;background-color:#fff;opacity:.5;opacity:1}.chart .arcgis-charts-modal-content{background:#fffc;color:#000;display:inline-block;top:0;left:0;overflow:visible;z-index:2002;position:absolute;max-width:90%;max-height:90%;width:auto!important;height:auto!important;margin:auto!important;inset:auto!important}.chart .arcgis-charts-modal-header{display:block;width:100%;min-height:1.8em;background:#0000000d}.chart .arcgis-charts-modal-close{display:block;position:absolute;top:.3em;right:.3em;background:url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) center center/80% no-repeat #6464641a;width:1.2em;height:1.2em;cursor:pointer}.chart .arcgis-charts-modal-title{font-weight:700;font-size:110%;padding:.5em 1.2em .5em 1em}:host{width:var(--chart-width, var(--arcgis-charts-default-width));height:var(--chart-height, var(--arcgis-charts-default-height));display:flex;flex-direction:row}`,xC=class extends nP{constructor(){super(),this._messages=Xx(),this.chartRef=aP(),this.commonStrings=Xx({name:"common",blocking:!0}),this.dataUpdateNeededProps=["forceDataUpdate","runtimeDataFilters","returnFeaturesExtent","chartLimits"],this.updatedProps=new Set,this._showNotifyPanel=!1,this.handleExternalSelection=t=>{let e=t,{selectionData:i,model:r}=e.detail,a=this.layer&&r?.layer?.id===hf(this.layer).id;this.syncSelection&&a&&t.target!==this.el&&!dd(i.selectionOIDs,this.selectionData?.selectionOIDs)&&(i.selectionOIDs?(this.selectionData={selectionOIDs:i.selectionOIDs,selectionSource:kr.ProgrammaticSelection},this.arcgisSelectionComplete.emit({selectionData:this.selectionData,model:this._model})):this.clearSelection())},this.configPanelNumberChange=t=>{let e=t,{panelNumber:i,modelList:r}=e.detail;this.actionBarElement&&this.enableConfiguration&&this.ourModelExistsIn(r)&&(this.actionBarElement.editChartToggle=i===1?Wx.Active:Wx.Inactive)},this.configDataChangeError=t=>{let e=t,{error:i,model:r}=e.detail;this.enableConfiguration&&r?.isSameChartAs(this._model)&&this.errorAlert(i.message)},this.configPopoverOpenChange=t=>{let e=t;this.useBetaChart()||(this.disableInteractions=e.detail.open)},this.modelConfigChange=async t=>{let e=t;this.lastModelSetterCalled=e.detail.setterName;let i=this._model?.config;this.enableConfiguration&&bd(i)&&(await this.applyPlaceholderForPartialConfig(i),this.arcgisConfigChange.emit({newConfig:i,oldConfig:this.config,functionCalled:e.detail.setterName})),this.config=Xr(i)},this.actionBarSlotRef=t=>{this.actionBarElement=t&&"assignedElements"in t?t.assignedElements().find(e=>e.tagName.toLowerCase()==="arcgis-charts-action-bar"):void 0},this.isWarningDisplayed=!1,this.enableBetaFeatures=!1,this.enableConfiguration=!1,this.syncSelection=!1,this.allowUsingObjectIdStat=!1,this.nullAsValid=!1,this.errorPolicy=wf.Throw,this.layerFilterChangePolicy=Cf.Refresh,this.viewTimeExtentChangePolicy=Bd.Ignore,this.layerRendererChangePolicy=Bf.Refresh,this.layerFieldsChangePolicy=Sf.Refresh,this.syncSelectionsBetweenChartAndLayerViewPolicy=Pf.Disabled,this.arcgisAxesMinMaxChange=Ca(),this.arcgisBadDataWarningRaise=Ca(),this.arcgisChartNotFoundWarning=Ca(),this.arcgisConfigChange=Ca(),this.arcgisDataFetchComplete=Ca(),this.arcgisDataProcessComplete=Ca(),this.arcgisDataProcessError=Ca(),this.arcgisLegendItemVisibilityChange=Ca(),this.arcgisNoRenderPropChange=Ca(),this.arcgisRuntimeError=Ca(),this.arcgisSelectionComplete=Ca(),this.arcgisSeriesColorChange=Ca(),this.arcgisSeriesOrder=Ca(),this.arcgisUpdateComplete=Ca(),this.listen("arcgisChartsJSDataProcessComplete",this.handleDataProcessComplete),this.listen("arcgisChartsJSDataFetchComplete",this.handleDataFetchComplete),this.listen("arcgisChartsJSLegendItemVisibilityChange",this.handleLegendItemVisibilityChanged),this.listen("arcgisChartsJSUpdateComplete",this.handleUpdateCompleted),this.listen("arcgisChartsJSBadDataWarningRaise",this.handleBadDataWarningRaise),this.listen("arcgisChartsJSSeriesColorChange",this.handleSeriesColorsChange),this.listen("arcgisChartsJSSelectionComplete",this.handleSelection),this.listen("arcgisChartsJSTooManySelectedElements",this.handleTooManySelectedElements),this.listen("calciteAlertClose",this.handleAlertClosed),this.listen("arcgisChartsJSAxesMinMaxChange",this.handleAxesMinMaxChange),this.listen("arcgisChartsJSSeriesOrder",this.handleSeriesOrder)}static{this.properties={isWarningDisplayed:16,showNotifyPanel:[16,{hasChanged:t=>t}],config:16,enableBetaFeatures:5,model:0,enableConfiguration:7,syncSelection:7,rotation:[7,{hasChanged:()=>!1}],actionMode:3,cursorRange:3,legendPosition:[3,{hasChanged:()=>!1}],legendVisibility:[7,{hasChanged:()=>!1}],allowUsingObjectIdStat:7,nullAsValid:7,showUIMessages:7,hideEmptySeries:7,autoInverseDataLabelTextColor:5,replaceNoValueCategoryWithZero:7,ignoreSmoothRenderingLimit:7,chartWillRender:0,legendValueLabelFormatter:0,timeZone:3,view:[0,{hasChanged:()=>!1}],layer:0,layerItemId:3,chartIndex:11,selectionData:0,returnSelectionOIDs:7,returnSelectionIndexes:7,returnFeaturesExtent:7,filterBySelection:7,filterByExtent:[7,{hasChanged:()=>!1}],disableInteractions:[7,{hasChanged:()=>!1}],queueChartCreation:7,useAnimatedCharts:7,hideLicenseWatermark:7,enableResponsiveFeatures:7,autoDisposeChart:7,featureIndex:[11,{hasChanged:()=>!1}],placeholder:3,selectionTheme:0,setTimeBinningInfoWhenNotProvided:7,chartLimits:0,tooltipFormatter:0,dataLabelFormatter:0,guideTooltipFormatter:0,xAxisLabelFormatter:0,yAxisLabelFormatter:0,secondaryYAxisLabelFormatter:0,gaugeInnerLabelFormatter:0,errorPolicy:3,disableTogglingLegendItems:7,hideLoaderAnimation:7,loaderColors:0,runtimeDataFilters:0,usePopupTemplateFieldsInfo:7,layerFilterChangePolicy:3,viewTimeExtentChangePolicy:3,layerRendererChangePolicy:3,layerFieldsChangePolicy:3,syncSelectionsBetweenChartAndLayerViewPolicy:3,ignoreViewExtent:7,updateSplitBySeries:0}}static{this.styles=VY}get showNotifyPanel(){return this._showNotifyPanel}set showNotifyPanel(t){this._showNotifyPanel=t,this.updatedProps.add("showNotifyPanel")}get config(){return this._config}set config(t){let e=this._config;this._config=t,this.updatedProps.add("config"),e&&t&&vP(e,t)&&this.updatedProps.add("forceDataUpdate"),this.arcgisConfigChange.emit({newConfig:t,oldConfig:e,functionCalled:this.lastModelSetterCalled}),this.lastModelSetterCalled=void 0,this.actionBarElement&&!bd(t)&&(this.actionBarElement.forceDisableActions=!1),this.isWarningDisplayed=!1}get rotation(){return this._rotation}set rotation(t){this._rotation=t,this.rotationChange(this.rotation),this.handleNoRenderPropChange("rotation",this.rotation)}get legendPosition(){return this._legendPosition}set legendPosition(t){this._legendPosition=t,this.legendPositionChange(this.legendPosition),this.handleNoRenderPropChange("legendPosition",this.legendPosition)}get legendVisibility(){return this._legendVisibility}set legendVisibility(t){this._legendVisibility=t,this.legendVisibilityChange(this.legendVisibility),this.handleNoRenderPropChange("legendVisibility",this.legendVisibility)}get view(){return this._view}set view(t){let e=this.view;this._view=t,this.viewChange(this.view,e),this.handleNoRenderPropChange("view",this.view)}get filterByExtent(){return this._filterByExtent}set filterByExtent(t){this._filterByExtent=t,this.filterByExtentChanged(this.filterByExtent),this.handleNoRenderPropChange("filterByExtent",this.filterByExtent)}get disableInteractions(){return this._disableInteractions??!1}set disableInteractions(t){this._disableInteractions=t,this.disableInteractionsChange(this.disableInteractions),this.handleNoRenderPropChange("disableInteractions",this.disableInteractions)}get featureIndex(){return this._featureIndex}set featureIndex(t){let e=this.featureIndex;this._featureIndex=t,this.featureIndexChange(this.featureIndex,e),this.handleNoRenderPropChange("featureIndex",this.featureIndex)}async loadModel(){return this._model?await this._model.setupFinished:await new Promise(t=>{this.resolveModelSetup=t})}async clearSelection(){this.chart!==void 0&&(this.chart.clearSelection(),this.filterBySelection===!0&&await this.refresh())}async errorAlert(t){this.errorPolicy===wf.Throw&&(this.notifyHeading=this.commonStrings?.errorStrings.errorHeading,this.notifyMessage=t,this.notifyOptions={kind:"danger",autoClose:!0,active:!0},this.actionBarElement&&(this.actionBarElement.forceDisableActions=!0),this.showNotifyPanel=!0)}async exportAsCSV(t){let e,i;if(this.chartData){let r=this.layer??(Vo(this.config)&&this.config?.iLayer!==void 0?await CP(this.config.iLayer):void 0),a=await Pn(r,this.usePopupTemplateFieldsInfo),n=Cd(this.model)?this.model.titleText:"chart";if(Object.values(this.chartData).filter(o=>Array.isArray(o)&&o.length>0).length>1){let o=new lL.default;Object.entries(this.chartData).forEach(([u,h])=>{if(Array.isArray(h)&&h.length>0){let c=Yx({rawData:h,config:this._model?.config??this.config,layer:r,fieldList:a}),A=Gx(c,t),d=`${n}-${u}.csv`;o.file(d,A)}});let l=await o.generateAsync({type:"blob"});e=URL.createObjectURL(l),i=`${n}.zip`}else{let o;if("bins"in this.chartData?o=this.chartData.bins:"dataItems"in this.chartData&&(o=this.chartData.dataItems),o){let l=Yx({rawData:o,config:this._model?.config??this.config,layer:r,fieldList:a}),u=Gx(l,t);e=URL.createObjectURL(new Blob([u],{type:"text/csv;charset=utf-8;"})),i=`${n}.csv`}}e!==void 0&&i!==void 0&&zx(e,i)}}async exportAsImage(t=aF.PNG){let e=this.chartRef.value;e?(await(0,oL.default)(e,{useCORS:!0,backgroundColor:null})).toBlob(i=>{if(i){let r=URL.createObjectURL(i),a=`${this.model.titleText??"chart"}.${t}`;zx(r,a)}},t):this.errorAlert(this.commonStrings?.errorStrings.errors.exportImageChartNotReady)}async notify(t,e,i){this.chart!==void 0&&this.chart.notify(t,e,i)}async refresh(t){let{updateData:e=!0,resetAxesBounds:i=!1}=t??{};this.updatedProps.add(e?"forceDataUpdate":"forceSimpleUpdate"),i&&(delete this.config?.axes?.[0]?.minimum,delete this.config?.axes?.[0]?.maximum,delete this.config?.axes?.[1]?.minimum,delete this.config?.axes?.[1]?.maximum),this.requestUpdate()}async resetZoom(){this.chart!==void 0&&this.chart.resetZoom()}async switchSelection(){this.chart!==void 0&&this.filterBySelection!==!0&&await this.chart.switchSelection()}connectedCallback(){super.connectedCallback(),this.addConfigListeners(),document.addEventListener("arcgisSelectionComplete",this.handleExternalSelection)}async load(){if(this.syncSelectionsBetweenChartAndLayerViewPolicy===Pf.Enabled){let t=this.getSelectionFromLayerView();t&&(this.selectionData={selectionOIDs:t,selectionSource:kr.ProgrammaticSelection})}this.debouncedChartUpdate=dN.promise(async()=>{if(this.chart!==void 0){let t=Array.from(this.updatedProps);if(t.length>0){let e=t.some(r=>this.dataUpdateNeededProps.includes(r));this.updatedProps.clear();let i=this.gatherComponentOptions(e);this.updateSplitBySeries?.addMissingSeries===!0&&(e||t.includes("model")||t.includes("layer")||t.includes("filterByExtent"))&&await jx(this,this.config,i),this.chart&&await this.chart.update({newChartConfig:this.config,updateOptions:i,updateGlobalOptions:{queueChartCreation:this.queueChartCreation,useAnimatedCharts:this.useAnimatedCharts,hideLicenseWatermark:this.hideLicenseWatermark,enableResponsiveFeatures:this.enableResponsiveFeatures,autoDisposeChart:this.autoDisposeChart},t9nStrings:{errorStrings:this.commonStrings?.errorStrings,utilsStrings:this.commonStrings?.utilsStrings}})}}},sF)}willUpdate(t){t.has("model")&&this.modelChange(),t.has("selectionData")&&this.selectionDataChange(),t.has("layer")&&this.layerChange(),t.has("layerItemId")&&this.layerItemIdChange(),(t.has("chartIndex")||t.has("layerItemId"))&&this.createModelFromLayer(),t.has("runtimeDataFilters")&&this.runtimeDataFiltersChange(),t.has("returnFeaturesExtent")&&this.returnFeaturesExtentChange(),t.has("timeZone")&&this.timeZoneChange(),t.has("filterBySelection")&&this.filterBySelectionChanged(),t.has("layerFilterChangePolicy")&&(this.hasUpdated||this.layerFilterChangePolicy!==Cf.Refresh)&&this.layerFilterChangePolicyCallBack(this.layerFilterChangePolicy),t.has("viewTimeExtentChangePolicy")&&(this.hasUpdated||this.viewTimeExtentChangePolicy!==Bd.Ignore)&&this.viewTimeExtentChangePolicyCallback(this.viewTimeExtentChangePolicy),t.has("layerRendererChangePolicy")&&(this.hasUpdated||this.layerRendererChangePolicy!==Bf.Refresh)&&this.layerRendererChangePolicyCallBack(this.layerRendererChangePolicy),t.has("layerFieldsChangePolicy")&&(this.hasUpdated||this.layerFieldsChangePolicy!==Sf.Refresh)&&this.layerFieldsChangePolicyCallBack(this.layerFieldsChangePolicy),t.keys().forEach(e=>{let i=e.toString();this.updatedProps.add(i)})}async updated(){if(this.chart===void 0&&this.chartCreationProcessing!==void 0&&(await this.chartCreationProcessing,this.chartCreationProcessing=void 0),this.config!==void 0&&this.chart!==void 0&&!this.showNotifyPanel)try{(!this.config&&!this.layer||Hx(this.config,this.layer)&&!bd(this.config))&&await this.debouncedChartUpdate?.push()}catch(t){this.chartRef.value!==void 0&&(t.name===gd.ChartDisposed?(this.chart?.dispose(),this.chart=void 0,this.chartRef.value.innerHTML="",await this.createChartInstance(!1)):(t.name===gd.QueryFeaturesError?this.arcgisDataProcessError.emit(t.details):this.arcgisRuntimeError.emit(t.details??t),this.errorAlert(t?.message)))}else this.chart===void 0&&this.chartCreationProcessing===void 0&&!this.showNotifyPanel&&await this.createChartInstance();this.placeholder!==void 0?await this.notify(this.placeholder):this.enableConfiguration&&bd(this.config)&&this.applyPlaceholderForPartialConfig(this.config),this.actionBarElement!==void 0&&rF({actionBar:this.actionBarElement,chartComponent:this.el,config:this.config,isWarningDisplayed:this.isWarningDisplayed})}disconnectedCallback(){super.disconnectedCallback(),this.removeConfigListeners(),this.removeLayerListeners(),this.removeModelListeners(),this.removeExtentChangeListeners(),this.removeViewTimeExtentChangeListener(),document.removeEventListener(tF.SelectionComplete,this.handleExternalSelection),this.chart!==void 0&&this.chart.dispose()}useBetaChart(){let t=We(this.config?.series);return this.enableBetaFeatures||t===R.ScatterSeries||t===R.HistogramSeries||t===R.RadarSeries||t===R.HeatSeries}handleNoRenderPropChange(t,e){this.updatedProps.add(t),this.arcgisNoRenderPropChange.emit({propName:t,value:e,model:this._model})}applySelectionFromView(){let t=this.getSelectionFromLayerView();t&&(this.selectionData={selectionOIDs:t,selectionSource:kr.ProgrammaticSelection},this.arcgisSelectionComplete.emit({selectionData:this.selectionData,model:this._model}))}handleDataProcessComplete(t){this.chartData=t.detail,this.arcgisDataProcessComplete.emit({chartData:t.detail,model:this._model})}handleDataFetchComplete(t){this.arcgisDataFetchComplete.emit(t.detail)}handleLegendItemVisibilityChanged(t){pP(t,this.config),this.arcgisLegendItemVisibilityChange.emit({legendItemVisibility:t.detail,model:this._model})}handleUpdateCompleted(t){if(this.enableConfiguration){let e=t.detail,i=this.commonStrings?.errorStrings.notifications;if(this.placeholder===void 0&&(e.schemaErrors.length>0?this.notify(i?.invalidConfig,void 0,{closable:!1}):e.warnings.length>0&&e.warnings.some(r=>r.keyword===PP.NonNumericAggregation)&&this.notify(i?.validateAggregationTypeMsg,i?.missingNumericFields,{closable:!1})),(qP(this._model)||JP(this._model))&&this._model.aggregationType===Cn.NoAggregation&&this._model.numericFields.length===1&&this.layer){let r=hf(this.layer).objectIdField;this._model.numericFields.includes(r)&&this.notify(i?.noAggregationRequiresNumericFields,i?.missingNumericFields,{closable:!1})}}this.arcgisUpdateComplete.emit(t.detail)}handleBadDataWarningRaise(t){this.arcgisBadDataWarningRaise.emit(t.detail),this.isWarningDisplayed=!0}handleSeriesColorsChange(t){this.arcgisSeriesColorChange.emit({data:t.detail.data,colorMatchApplied:t.detail.colorMatchApplied,model:this._model})}handleSelection(t){this.selectionData={...t.detail},this.arcgisSelectionComplete.emit({selectionData:t.detail,model:this._model})}handleTooManySelectedElements(){this.errorPolicy===wf.Throw&&(this.notifyHeading=this.commonStrings?.errorStrings.tooManySelectedElements?.title,this.notifyMessage=this.commonStrings?.errorStrings.tooManySelectedElements?.message,this.notifyOptions={kind:"warning",autoClose:!0,duration:"fast",active:!0},this.showNotifyPanel=!0)}handleAlertClosed(t){t.target===this.el&&(this.showNotifyPanel=!1)}handleAxesMinMaxChange(t){this.arcgisAxesMinMaxChange.emit({bounds:t.detail,model:this._model})}handleSeriesOrder(t){this.arcgisSeriesOrder.emit(t.detail)}modelChange(){if(Cd(this.model)){this._model=this.model,this.config=Xr(this._model?.config);let t=this._model?.layer;!this.layerItemId&&t&&(this.layer=t),this.addModelListeners(),this._model.setupFinished.then(()=>{typeof this.resolveModelSetup=="function"&&this.resolveModelSetup()})}else this.config=this.model;if(this.enableBetaFeatures===void 0){let t=We(this.config?.series);this.enableBetaFeatures=t===R.ScatterSeries||t===R.HistogramSeries}}async selectionDataChange(){this.layer!==void 0&&this.syncSelectionsBetweenChartAndLayerViewPolicy===Pf.Enabled&&this.view!==void 0&&this.setSelectionInLayerView()}async viewChange(t,e){this.layerItemId&&this.layerItemId?.trim()!==""&&(this.layer=Ax({view:this.view,portalItemId:this.layerItemId})??new aO({portalItem:{id:this.layerItemId}})),await this.setExtentChangeListener(),await this.setViewTimeExtentChangeListener(),e!==void 0&&t===void 0&&await this.refresh(),this.view?this.setViewSelectionsChangeListener():this.removeViewSelectionsChangeListener()}async layerChange(){await this.addLayerListeners(),this.layer&&(await hf(this.layer).load(),await this.setExtentChangeListener(),await this.setViewTimeExtentChangeListener())}layerItemIdChange(){this.layerItemId&&this.layerItemId?.trim()!==""?this.layer=Ax({view:this.view,portalItemId:this.layerItemId})??new aO({portalItem:{id:this.layerItemId}}):this.layer=void 0}runtimeDataFiltersChange(){this.updatedProps.add("runtimeDataFilters")}returnFeaturesExtentChange(){this.updatedProps.add("returnFeaturesExtent")}featureIndexChange(t,e){e===void 0&&typeof t=="number"&&this.updatedProps.add("forceDataUpdate")}async disableInteractionsChange(t){navigator.userAgent.search("Firefox")!==-1&&(t?this.chartRef.value?.classList.add(gh.DisableInteractions):this.chartRef.value?.classList.remove(gh.DisableInteractions))}rotationChange(t){t!==void 0&&(this.config=mP(t,this.config))}legendPositionChange(t){t!==void 0&&(this.config=GP(t,this.config))}legendVisibilityChange(t){t!==void 0&&(this.config=YP(t,this.config))}timeZoneChange(){this.updateConfigTimeZone()}filterBySelectionChanged(){this.config=KP(this.config)}layerFilterChangePolicyCallBack(t){t!==Cf.Ignore?this.setLayerFilterListener():this.removeLayerFilterListener()}viewTimeExtentChangePolicyCallback(t){t!==Bd.Refresh?this.removeViewTimeExtentChangeListener():this.setViewTimeExtentChangeListener()}layerRendererChangePolicyCallBack(t){t!==Bf.Ignore?this.setLayerRendererListener():this.removeLayerRendererListener()}async filterByExtentChanged(t){t||await this.refresh({updateData:!0,resetAxesBounds:!0}),this.filterByExtent?this.setExtentChangeListener():this.removeExtentChangeListeners()}layerFieldsChangePolicyCallBack(t){t!==Sf.Ignore?this.setLayerFieldsListener():this.removeLayerFieldsListener()}addConfigListeners(){document.addEventListener("arcgisChartsConfigPanelNumberChange",this.configPanelNumberChange),document.addEventListener("arcgisChartsConfigDataChangeError",this.configDataChangeError),document.addEventListener("arcgisChartsConfigPopoverOpenChange",this.configPopoverOpenChange)}removeConfigListeners(){document.removeEventListener("arcgisChartsConfigPanelNumberChange",this.configPanelNumberChange),document.removeEventListener("arcgisChartsConfigDataChangeError",this.configDataChangeError),document.removeEventListener("arcgisChartsConfigPopoverOpenChange",this.configPopoverOpenChange)}getSelectionFromLayerView(){let t=[],e=this.view;return e!==void 0&&"selectionManager"in e&&"getSelection"in e.selectionManager&&(t=e?.selectionManager?.getSelection(this.layer)),t}setSelectionInLayerView(){let t,e=this.selectionData?.selectionOIDs?.length===0||this.selectionData?.selectionOIDs===void 0||this.selectionData?.selectionSource===kr.ClearSelection,i=(this.selectionData?.selectionOIDs?.length??0)>0;e?t=[]:i&&this.selectionData&&(t=this.selectionData.selectionOIDs);let r=this.view;t&&r!==void 0&&"selectionManager"in r&&"setSelection"in r.selectionManager&&r.selectionManager.setSelection(this.layer,t)}addModelListeners(){this._model?.addEventListener("arcgisChartsModelConfigChange",this.modelConfigChange)}removeModelListeners(){this._model?.removeEventListener("arcgisChartsModelConfigChange",this.modelConfigChange)}async addLayerListeners(){this.removeLayerListeners(),this.layerFilterListener=await rL(this),this.layerRendererListener=await sL(this),this.layerFieldsListener=await aL(this),this.viewSelectionsChangeListener=await nL(this)}async setLayerFilterListener(){this.removeLayerFilterListener(),this.layerFilterListener=await rL(this)}async setLayerRendererListener(){this.removeLayerRendererListener(),this.layerRendererListener=await sL(this)}async setLayerFieldsListener(){this.removeLayerFieldsListener(),this.layerFieldsListener=await aL(this)}async setExtentChangeListener(){this.filterByExtent&&(this.removeExtentChangeListeners(),this.extentChangeListeners=await MY(this))}async setViewTimeExtentChangeListener(){this.removeViewTimeExtentChangeListener(),this.viewTimeExtentChangeListener=await RY(this)}async setViewSelectionsChangeListener(){this.removeViewSelectionsChangeListener(),this.viewSelectionsChangeListener=await nL(this)}removeLayerListeners(){this.removeLayerFilterListener(),this.removeLayerRendererListener(),this.removeLayerFieldsListener()}removeLayerFilterListener(){this.layerFilterListener?.remove()}removeLayerRendererListener(){this.layerRendererListener?.remove()}removeLayerFieldsListener(){this.layerFieldsListener?.remove()}removeExtentChangeListeners(){this.extentChangeListeners!==void 0&&(this.extentChangeListeners.forEach(t=>t.remove()),this.extentChangeListeners=[])}removeViewSelectionsChangeListener(){this.viewSelectionsChangeListener!==void 0&&this.viewSelectionsChangeListener.remove()}removeViewTimeExtentChangeListener(){this.viewTimeExtentChangeListener?.remove(),this.runtimeDataFilters?.timeExtent&&delete this.runtimeDataFilters.timeExtent}async createModelFromLayer(){if(this.layer){let t=hf(this.layer);await t.load();let e=this.chartIndex??0,i=t?.charts?.[e];if(i)this.model=await eF({layer:t,config:i});else{let r=BA(this._messages?.chartNotFoundWarning??"",{chartIndex:e.toString(),layerTitle:t.title});this.arcgisChartNotFoundWarning.emit(r),console.warn(r)}}}async applyPlaceholderForPartialConfig(t){let e=We(t?.series),i=kY(e,this.commonStrings?.errorStrings);await this.notify(i)}checkForIncompatibleChartVersion(){let t=this.config?.version;this.errorPolicy===wf.Throw&&gP(t).versionStatus===uP.Newer&&(this.notifyHeading=this.commonStrings?.errorStrings.incompatibleChartVersion?.title,this.notifyMessage=this.commonStrings?.errorStrings.incompatibleChartVersion?.message?BA(this.commonStrings?.errorStrings.incompatibleChartVersion?.message,{chartVersion:t??""}):"",this.notifyOptions={kind:"warning",autoClose:!0,active:!0},this.showNotifyPanel=!0)}ourModelExistsIn(t){return t.some(e=>this._model?.isSameChartAs(e))}updateConfigTimeZone(){this.config?.axes?.[0]?.valueFormat.type===R.DateAxisFormat&&(this.config.axes[0].valueFormat.intlOptions.timeZone=DP(this.timeZone))}gatherComponentOptions(t){let e=this.runtimeDataFilters;return this.view&&this.viewTimeExtentChangePolicy===Bd.Refresh&&this.view.timeExtent?.start!=null&&this.view.timeExtent?.end!=null&&(e={...e,timeExtent:[this.view.timeExtent.start.valueOf(),this.view.timeExtent.end.valueOf()]}),{dataUpdated:t,layer:this.layer,view:this.filterByExtent?this.view:void 0,viewExtentUpdated:t&&this.filterByExtent===!0&&(this.view!==void 0||og(this.layer)),allowUsingObjectIdStat:this.allowUsingObjectIdStat,nullAsValid:this.nullAsValid,showUIMessages:this.showUIMessages,createMessage:this.placeholder,hideLoaderAnimation:this.hideLoaderAnimation,loaderColors:this.loaderColors,runtimeDataFilters:e,usePopupTemplateFieldsInfo:this.usePopupTemplateFieldsInfo,ignoreViewExtent:this.ignoreViewExtent,chartLimits:this.chartLimits,guideTooltipFormatter:this.guideTooltipFormatter,xAxisLabelFormatter:this.xAxisLabelFormatter,yAxisLabelFormatter:this.yAxisLabelFormatter,secondaryYAxisLabelFormatter:this.secondaryYAxisLabelFormatter,tooltipFormatter:this.tooltipFormatter,dataLabelFormatter:this.dataLabelFormatter,selectionData:this.selectionData,filterBySelection:this.filterBySelection,actionMode:this.actionMode,cursorRange:this.cursorRange,selectionTheme:this.selectionTheme,setTimeBinningInfoWhenNotProvided:this.setTimeBinningInfoWhenNotProvided,returnSelectionOIDs:this.returnSelectionOIDs,returnSelectionIndexes:this.returnSelectionIndexes,returnFeaturesExtent:this.returnFeaturesExtent,disableTogglingLegendItems:this.disableTogglingLegendItems,hideEmptySeries:this.hideEmptySeries,autoInverseDataLabelTextColor:this.autoInverseDataLabelTextColor,replaceNoValueCategoryWithZero:this.replaceNoValueCategoryWithZero,gaugeInnerLabelFormatter:this.gaugeInnerLabelFormatter,ignoreSmoothRenderingLimit:this.ignoreSmoothRenderingLimit,chartWillRender:this.chartWillRender,pieChartLegendValueLabelFormatter:this.legendValueLabelFormatter}}async createChartInstance(t=!0){this.chartCreationProcessing!==void 0&&(await this.chartCreationProcessing,this.chartCreationProcessing=void 0),this.updateConfigTimeZone(),this.checkForIncompatibleChartVersion(),this.updatedProps.clear();try{if(!this.config&&!this.layer||Hx(this.config,this.layer)){let e=this.gatherComponentOptions();await jx(this,this.config,e);let i=this.useBetaChart()?Y4:$Y;this.chartCreationProcessing=i({chartContainer:this.chartRef.value,chartConfig:bd(this.config)?void 0:this.config,options:e,globalOptions:{queueChartCreation:this.queueChartCreation,useAnimatedCharts:this.useAnimatedCharts,hideLicenseWatermark:this.hideLicenseWatermark,enableResponsiveFeatures:this.enableResponsiveFeatures,autoDisposeChart:this.autoDisposeChart},t9nStrings:{errorStrings:this.commonStrings?.errorStrings,utilsStrings:this.commonStrings?.utilsStrings}}),this.chart=await this.chartCreationProcessing,this.chartCreationProcessing=void 0,t&&(await this.addLayerListeners(),await this.setExtentChangeListener(),await this.setViewTimeExtentChangeListener())}}catch(e){e.name===gd.QueryFeaturesError?this.arcgisDataProcessError.emit(e.details):this.arcgisRuntimeError.emit(e.details??e),this.errorAlert(e?.message),this.chart?.dispose(),this.chartCreationProcessing=void 0,this.chart=void 0}}render(){let t=this.showNotifyPanel?UY({heading:this.notifyHeading,message:this.notifyMessage,options:this.notifyOptions}):null,e=this.showNotifyPanel&&this.notifyOptions?.kind==="danger"?gh.Hide:`${gh.Chart} ${gh.Show}`,i=this.showNotifyPanel?`${gh.Show} ${gh.NotifyPanel}`:gh.Hide;return JA`<slot name=${ZP.actionBar} @slotchange=${r=>{this.actionBarElement=iF(r,this.el,this.config)}} ${Wv(this.actionBarSlotRef)}></slot><div class=${zv(e)} ${Wv(this.chartRef)}></div><div class=${zv(i)}>${t}</div>`}};oP("arcgis-chart",xC);return xC},"intl","layers/FeatureLayer","core/promiseUtils","request","geometry/support/jsonUtils","rest/support/AttributeBinsQuery","rest/support/Query","rest/support/StatisticDefinition","time/TimeExtent","core/reactiveUtils",a,b,c,d,e,f,g,h,i,j,k,l,m)