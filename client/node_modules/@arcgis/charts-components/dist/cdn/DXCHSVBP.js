/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.3 */
var m=(e,o)=>{let t=e;for(;t;){if(t===o)return!0;if(!t.parentNode)return!1;t.parentNode instanceof ShadowRoot?t=t.parentNode.host:t=t.parentNode}return!1},f=(e,o,t)=>{let s=p(o).subscribe;return s(n=>{n.some(r=>m(e,r.target))&&t()})},l={},p=e=>{let o=e.join(","),t=l[o];if(t!==void 0)return t;let s=new Set,n=new MutationObserver(r=>s.forEach(a=>a(r)));globalThis.document&&n.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});let c={subscribe:r=>(s.add(r),()=>{s.delete(r),s.size===0&&(n.disconnect(),l[o]=void 0)})};return l[o]=c,c},b=(e,o)=>{let t=e;for(;t;){let s=t.closest?.(o);if(s)return s;let n=t.getRootNode?.();if(n===globalThis.document)return;t=n.host}};var T=e=>u(e,"dir","ltr"),u=(e,o,t)=>b(e,`[${o}]`)?.getAttribute(o)??t;var E="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),v=new Set(E),i="en",C={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},N=async(e,o,t="")=>{let s=`${o}/${t}`,n=`${s}${e}.json`;return d[n]??(d[n]=h(e,s)),await d[n]},d={},h=async(e,o)=>{let t=`${o}${e}.json`;try{let s=await fetch(t);if(s.ok)return await s.json()}catch(s){return console.error(s),{}}return e===i?{}:await h(i,o)},y=e=>{let o=u(e,"lang",globalThis.navigator?.language||i);return{lang:o,t9nLocale:g(o)}},g=e=>{let[o,t]=e.split("-"),s=o.toLowerCase(),n=s;return t&&(n=`${s}-${t.toUpperCase()}`),n=C[n]??n,v.has(n)?n:t?g(s):i},S=(e,o,t,s)=>{let n,c=()=>L(e,o(),s).then(r=>{(n?.lang!==r.lang||n.t9nLocale!==r.t9nLocale||n.t9nStrings!==r.t9nStrings)&&t(r),n=r}).catch(console.error);return queueMicrotask(c),f(e,["lang"],c)},L=async(e,o,t=e.localName.split("-").slice(1).join("-"))=>{let{lang:s,t9nLocale:n}=y(e),c=`${o}/${t}/t9n`,a=t===null?{}:await N(n,c,"messages.");return{lang:s,t9nLocale:n,t9nStrings:a}};export{T as a,v as b,N as c,y as d,S as e};
