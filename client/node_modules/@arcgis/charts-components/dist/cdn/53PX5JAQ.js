/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.3 */
import i from"./7DWSED2R.js";import h from"./XB6OSIIQ.js";import g from"./DZ3SLLYL.js";import f from"./6KL5YQAS.js";import e from"./XCUGMEPO.js";import d from"./NQ2FR6A4.js";import c from"./MJVNOHMT.js";import b from"./CDJV5WUJ.js";import{i as o}from"./UM26TKF2.js";import a from"./GUWCFIQ4.js";import"./MHMLEVRX.js";import"./DXCHSVBP.js";import{b as x}from"./5BG7WW2E.js";import{a as B}from"./2YIVYDK5.js";import"./GRWAOK3Y.js";import"./UUMP6K6L.js";export default $arcgis.t(([,,,,,,,,{B:n,E:M,Fa:c,Qa:U,ea:A,la:O,w:I,y:a,z:h},,{ka:b,la:P,ma:D},,{a:E,d:N,e:R},{a:V,b:W,c:z,d:T},k,{a:j,b:g,c:Y,d:l},{A:C,B:F,C:ce,D:ge,a:q,b:d,c:K,d:X,e:m,f:f,g:G,h:H,i:J,j:Q,k:Z,l:$,m:ee,n:y,o:se,p:te,q:ie,r:u,s:re,t:oe,u:ne,v:p,w:S,x:ae,y:he,z:_}])=>{var w=class extends E{constructor(){super(...arguments),this._chartType=B.BoxPlotSeries,this._category=n,this._splitByField="",this._numericFields=[]}async setup(e){await this.loadConfigFromLayer(e),this.setupLocalProps(),e.config!==void 0&&await this.updateSeriesFromLayerFilter(),typeof this.resolveSetup=="function"&&this.resolveSetup()}get category(){return this._category}set category(e){let s=e.trim()==="";this._category=s?n:e,this.dirtyAsyncSetters.push("category"),this.processSeriesRebuild()}get numericFields(){return this._numericFields}set numericFields(e){let{layerFieldsInfo:s}=this.layerInfo;typeof e=="string"&&(e=[e]),P(s,e)?(this._numericFields=e,this.dirtyAsyncSetters.push("numericFields"),ce(this._category,this._numericFields)&&(this._splitByField="",this.dirtyAsyncSetters.push("splitByField")),this.processSeriesRebuild()):console.log("Invalid numericFields")}get splitByField(){return this._splitByField}set splitByField(e){b(this.layerInfo.layerFieldsInfo,e)?(this._splitByField=e,this.dirtyAsyncSetters.push("splitByField"),this.processSeriesRebuild()):console.log("Invalid splitByField")}get showOutliers(){return re(this._config)}set showOutliers(e){this.guardSetterFromAsyncOverwrite(()=>{oe({newShowOutliers:e,config:this._config,layerInfo:this.layerInfo,commonStrings:this.commonStrings}),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("showOutliers")})}get standardizeValues(){return se(this._config)}set standardizeValues(e){this.guardSetterFromAsyncOverwrite(()=>{ne({newStandardizeValues:e,config:this._config,layerInfo:this.layerInfo,commonStrings:this.commonStrings}),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("standardizeValues")})}getSortOrder(){return p(this._config)}setSortOrder(e,s){this.guardSetterFromAsyncOverwrite(()=>{S(e,this._config,s),this.emitConfigUpdate("setSortOrder")})}async getCustomSortValues(){return await F(this._config,this.layerInfo)}async setDataFilters(e){super.setDataFilters(e);let s=p(this._config);if(s===x.customSort){let t=await F(this._config,this.layerInfo);S(s,this._config,t)}this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setDataFilter")}get orderByList(){return _(this._config)}set orderByList(e){this.guardSetterFromAsyncOverwrite(()=>{C(e,this._config),this.emitConfigUpdate("orderByList")})}async updateSeriesFromLayerFilter(){this.dirtyAsyncSetters.push("updateSeriesFromLayerFilter"),await this.processSeriesRebuild()}get showMeanLines(){return ae(this._config)}set showMeanLines(e){this.guardSetterFromAsyncOverwrite(()=>{let{previousMeanLinesBoxColor:s}=he({newShowMeanLines:e,config:this._config,commonStrings:this.commonStrings,previousMeanLinesBoxColor:this.previousMeanLinesBoxColor});this.previousMeanLinesBoxColor=s,this.emitConfigUpdate("showMeanLines")})}get meanLinesBoxColor(){return X(this._config)}set meanLinesBoxColor(e){this.guardSetterFromAsyncOverwrite(()=>{m(e,this._config),this.emitConfigUpdate("meanLinesBoxColor")})}setupLocalProps(){this._category=Z(this._config),this._splitByField=$(this._config),this._numericFields=ee(this._config)}generateDefaultConfig(){let e=O(this.commonStrings);return e.series=[A(this.commonStrings)],e}resetConfig(){let e=this._config.id;this._config=this.generateDefaultConfig(),this._config.id=e,this.setupLocalProps(),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("resetConfig")}canUseSynchronousSeriesRebuild(){return!ge(this.category,this.numericFields,this.splitByField)}async processSeriesRebuild(){if(this.layerInfo!==void 0){let e=this.dirtyAsyncSetters[this.dirtyAsyncSetters.length-1];if(this.canUseSynchronousSeriesRebuild())this.dirtyAsyncSetters=[],y(this.getBuildNewSeriesProps());else if(!this.asyncConfigUpdateInProgress){for(this.asyncConfigUpdateInProgress=!0,this.setupFinished=new Promise(s=>{this.resolveSetup=s});this.dirtyAsyncSetters.length>0;)this.dirtyAsyncSetters=[],await y(this.getBuildNewSeriesProps());this.asyncConfigUpdateInProgress=!1,this.resolveSetup?.()}this.setupLocalProps(),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate(e)}}getBuildNewSeriesProps(){return{category:this.category,splitByField:this.splitByField,numericFields:this.numericFields,config:this._config,layerInfo:this.layerInfo,commonStrings:this.commonStrings}}getSeriesName(e){return q(e,this._config)}setSeriesName(e,s){this.guardSetterFromAsyncOverwrite(()=>{d(e,s,this._config),this.emitConfigUpdate("setSeriesName")})}getSeriesColor(e){return K(e,this._config)}setSeriesColor(e,s){this.guardSetterFromAsyncOverwrite(()=>{f(e,s,this._config),this.emitConfigUpdate("setSeriesColor")})}getSeriesLineStyle(e){let s=this._config.series[e];if(this.showMeanLines===!0&&o(s))return j(s)}setSeriesLineStyle(e,s){this.guardSetterFromAsyncOverwrite(()=>{let t=this._config.series[s];this.showMeanLines===!0&&o(t)&&g(e,t),this.emitConfigUpdate("setSeriesLineStyle")})}getSeriesLineWidth(e){let s=this._config.series[e];if(this.showMeanLines===!0&&o(s))return Y(s)}setSeriesLineWidth(e,s){this.guardSetterFromAsyncOverwrite(()=>{let t=this._config.series[s];this.showMeanLines===!0&&o(t)&&l(e,t),this.emitConfigUpdate("setSeriesLineWidth")})}get orderOfSeries(){return G(this._config)}set orderOfSeries(e){this.guardSetterFromAsyncOverwrite(()=>{H(e,this._config),this.emitConfigUpdate("orderOfSeries")})}moveSeries(e,s){this.guardSetterFromAsyncOverwrite(()=>{J(e,s,this._config),this.emitConfigUpdate("moveSeries")})}get boxPlotSeriesIndexWhenMeanLinesShown(){return Q(this._config)}moveCustomSortValuesInOrderByList(e,s){this.guardSetterFromAsyncOverwrite(()=>{let t=_(this._config),[i]=t.splice(e,1);t.splice(s,0,i),C(t,this._config),this.emitConfigUpdate("moveCustomSortValuesInOrderByList")})}generateChartTitle(){return ie(this._config,this.layerInfo,this.commonStrings)}generateXAxisTitle(){return this._category!==n?U(this.layerInfo.layerFieldsInfo,this._category):""}generateYAxisTitle(){return te(this._config,this.layerInfo,this.commonStrings)}resetSeriesStyling(){this.guardSetterFromAsyncOverwrite(()=>{for(let e=this.showMeanLines===!0?1:0;e<this.seriesLength;e+=1){let s=this.getSeriesId(e),t=M({colorIndex:e,opacity:I}),i=this._config.series[e];f(t,e,this._config);let r=u({series:i,splitByField:this._splitByField,layerInfo:this.layerInfo,commonStrings:this.commonStrings});d(r??s,e,this._config),this.showMeanLines===!0&&o(i)&&(g(a,i),l(h,i))}this.showMeanLines===!0&&m(c,this._config),this._config.colorMatch=!0,this.emitConfigUpdate("resetSeriesStyling")})}resetAvailable(){let e=!this.colorMatch,s=this.showMeanLines===!0&&this.meanLinesBoxColor!==c,t=!1,i=!1;if(!e)for(let r=this.showMeanLines===!0?1:0;r<this.seriesLength;r+=1){let L=this._config.series[r],v=u({series:L,splitByField:this._splitByField,layerInfo:this.layerInfo,commonStrings:this.commonStrings}),le=this.getSeriesName(r);if(v!==void 0&&v!==le){t=!0;break}if(this.showMeanLines===!0&&o(L)){let de=this.getSeriesLineStyle(r),me=this.getSeriesLineWidth(r);if(de!==a||me!==h){i=!0;break}}}return e||s||t||i}};D(w,[R,W,z,V,k,T,N]);return w},"geometry/support/jsonUtils","rest/support/AttributeBinsQuery","rest/support/Query","rest/support/StatisticDefinition","time/TimeExtent","core/promiseUtils","request","intl",a,b,c,d,e,f,g,h,i)