/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.3 */
import a from"./OIWZBZDP.js";import{a as c}from"./NZ53PAWS.js";import{J as m,P as r,b as i}from"./U4NXTENC.js";import"./7V34NQ5V.js";export default $arcgis.t(([{watch:p},{e:f}])=>{var l=class extends m{constructor(){super(...arguments),this._formats=[]}static{this.properties={_formats:16,viewModel:0,messages:0}}loaded(){this.manager.onLifecycle(()=>[p(()=>[this.viewModel.templateOptions.format,this.viewModel.templatesInfo?.format],()=>{let e=this.viewModel.templatesInfo;if(!e)return;if(this._formats.length!==e.format.choiceList.length){let a=[...f.values()];this._formats=e.format.choiceList.map(t=>{let s=a.find(n=>new RegExp(`\\b${n}\\b`,"iu").test(t))??t;return{value:s,label:t===s?t.toUpperCase():t}}).sort((t,s)=>t.label.localeCompare(s.label))}let o=this._formats.some(({value:a})=>new RegExp(`\\b${a}\\b`,"iu").test(this.viewModel.templateOptions.format));if(e.format.defaultValue&&!o){let a=this._formats.find(({value:t})=>new RegExp(`\\b${t}\\b`,"iu").test(e.format.defaultValue))?.value;a&&(this.viewModel.templateOptions.format=a);return}},{initial:!0})])}render(){return i`<div><calcite-label>${this.messages.fileFormatTitle}<calcite-combobox clear-disabled .label=${this.messages.formatDefaultOption} max-items=6 .placeholder=${this.messages.formatDefaultOption} selection-mode=single-persist @calciteComboboxChange=${({currentTarget:e})=>{let o=e.selectedItems[0]?.value;this.viewModel.templateOptions.format=o??"pdf"}}>${this._formats.map(({value:e,label:o},a)=>c(`file-format-${a}`,i`<calcite-combobox-item .heading=${o} .selected=${e===this.viewModel.templateOptions.format} .value=${e}></calcite-combobox-item>`))}</calcite-combobox></calcite-label></div>`}};r("arcgis-print-format-select",l);return l},"core/reactiveUtils",a)