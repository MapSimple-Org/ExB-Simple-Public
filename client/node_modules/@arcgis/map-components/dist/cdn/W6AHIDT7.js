/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.3 */
import{J as V,K as d,P as I,b as s,g as p,s as t}from"./U4NXTENC.js";import"./7V34NQ5V.js";var g=class extends V{constructor(){super(...arguments),this._showInvalidVersionNotice=!0,this.arcgisCreateVersionList=t(),this.arcgisFlowItemBack=t(),this.arcgisFlowItemClose=t(),this.arcgisGetVersions=t(),this.arcgisManageVersion=t(),this.arcgisNewVersion=t()}static{this.properties={_showInvalidVersionNotice:16,serviceItemElementProps:0}}disconnectedCallback(){super.disconnectedCallback(),this.versionListContainer?.remove()}render(){let{serviceItemElementProps:{allowEditing:$,closable:b,currentUser:f,executionError:u,currentVersionIdentifier:a,flowElement:w,heading:N,isInitialVersionInvalid:C,isVersionAdministrator:E,isVersioningApiAvailable:x,mode:A,pageSize:k,serviceName:n,serviceUrl:c,state:L,strings:o,versionInfos:r}}=this,{_versionList:l}=this,M=C.get(c)&&this._showInvalidVersionNotice?s`<calcite-notice class=${d(this._showInvalidVersionNotice?"invalid-initial-version-notice":"")} closable kind=warning open scale=s width=full icon @calciteNoticeClose=${()=>this._showInvalidVersionNotice=!1}><div slot=title>${o.headers.invalidInitialVersion}</div><div slot=message>${o.loadErrors.invalidInitialVersion}</div></calcite-notice>`:void 0,U=s`<calcite-combobox clear-disabled .label=${n} max-items=5 overlay-positioning=fixed selection-mode=single-persist @calciteComboboxChange=${i=>{let m=i.target,e=r.find(_=>_.versionIdentifier.guid===m.value);this.arcgisManageVersion.emit({actionType:"changeVersion",serviceUrl:c,versionInfo:e})}}>${r?r.map(i=>s`<calcite-combobox-item class=${d(A==="dialog"?"":"calcite-combobox-item")} .selected=${a.guid===i.versionIdentifier.guid&&a.name===i.versionIdentifier.name} .textLabel=${i.versionIdentifier.name} .value=${i.versionIdentifier.guid}></calcite-combobox-item>`):void 0}</calcite-combobox>`,v,h;return $&&(v=s`<calcite-action .id=${`actionManageVersions_${n}`} icon=list scale=s slot=control text @click=${async()=>{let i={closable:b,currentUser:f,currentVersionIdentifier:a,executionError:u,heading:N,isVersionAdministrator:E,isVersioningApiAvailable:x,pageSize:k,serviceName:n,serviceUrl:c,state:L,strings:o,versionInfos:r};this.versionListContainer=document.createElement("div");let m=p(s`<arcgis-version-management-version-list .versionListElementProps=${i} selected show-back-button @arcgisFlowItemBack=${e=>{e.preventDefault(),this.arcgisFlowItemBack.emit()}} @arcgisFlowItemClose=${()=>this.arcgisFlowItemClose.emit()} @arcgisGetVersions=${e=>this.arcgisGetVersions.emit({serviceUrl:e.detail.serviceUrl})} @arcgisManageVersion=${e=>this.arcgisManageVersion.emit(e.detail)} @arcgisNewVersion=${e=>this.arcgisNewVersion.emit({serviceUrl:e.detail.serviceUrl})}></arcgis-version-management-version-list>`,this.versionListContainer);l=Array.from(m.parentNode.childNodes).find(e=>e.nodeName.toUpperCase()==="ARCGIS-VERSION-MANAGEMENT-VERSION-LIST"),w?.append(l),this.arcgisCreateVersionList.emit(l)}}></calcite-action>`,h=s`<calcite-tooltip overlay-positioning=fixed .referenceElement=${`actionManageVersions_${n}`}><span>${o.headers.manageVersions}</span></calcite-tooltip>`),s`<calcite-block open .heading=${n}>${M}${U}${v}${h}</calcite-block>`}};I("arcgis-version-management-service-item",g);export{g as ArcgisVersionManagementServiceItem};
