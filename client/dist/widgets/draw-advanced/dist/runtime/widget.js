System.register(["jimu-core/emotion","jimu-core","jimu-core/react","jimu-ui","jimu-arcgis","esri/widgets/Sketch/SketchViewModel","jimu-ui/advanced/map","jimu-ui/advanced/style-setting-components","jimu-ui/basic/color-picker","esri/Color","esri/layers/GraphicsLayer","esri/Graphic","esri/symbols/TextSymbol","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/SpatialReference","esri/geometry/operators/projectOperator","esri/geometry/operators/geodeticAreaOperator","esri/geometry/operators/geodeticLengthOperator","esri/geometry/operators/areaOperator","esri/geometry/operators/lengthOperator","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol","esri/symbols/Font","esri/geometry/geometryEngineAsync","esri/geometry/projection","esri/geometry/support/webMercatorUtils","esri/views/interactive/snapping/FeatureSnappingLayerSource","esri/layers/FeatureLayer","esri/core/Collection","jimu-ui/advanced/setting-components"], function(__WEBPACK_DYNAMIC_EXPORT__, __system_context__) {
	var __WEBPACK_EXTERNAL_MODULE__emotion_react_jsx_runtime__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_core__ = {};
	var __WEBPACK_EXTERNAL_MODULE_react__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_widgets_Sketch_SketchViewModel__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_map__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_style_setting_components__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui_basic_color_picker__ = {};
	var __WEBPACK_EXTERNAL_MODULE__arcgis_core_Color__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_layers_GraphicsLayer__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_Graphic__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_symbols_TextSymbol__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_geometry_Point__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_geometry_Polyline__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_geometry_SpatialReference__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_projectOperator__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_geodeticAreaOperator__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_geodeticLengthOperator__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_areaOperator__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_lengthOperator__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_symbols_SimpleMarkerSymbol__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_symbols_SimpleLineSymbol__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_symbols_SimpleFillSymbol__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_symbols_Font__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_geometry_geometryEngineAsync__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_geometry_projection__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_geometry_support_webMercatorUtils__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_views_interactive_snapping_FeatureSnappingLayerSource__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_layers_FeatureLayer__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_core_Collection__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__ = {};
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE__emotion_react_jsx_runtime__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_core__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_react__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_widgets_Sketch_SketchViewModel__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_map__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_style_setting_components__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui_basic_color_picker__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE__arcgis_core_Color__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_layers_GraphicsLayer__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_Graphic__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_symbols_TextSymbol__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_geometry_Point__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_geometry_Polyline__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_geometry_SpatialReference__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_projectOperator__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_geodeticAreaOperator__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_geodeticLengthOperator__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_areaOperator__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_lengthOperator__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_symbols_SimpleMarkerSymbol__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_symbols_SimpleLineSymbol__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_symbols_SimpleFillSymbol__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_symbols_Font__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_geometry_geometryEngineAsync__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_geometry_projection__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_geometry_support_webMercatorUtils__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_views_interactive_snapping_FeatureSnappingLayerSource__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_layers_FeatureLayer__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_core_Collection__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__, "__esModule", { value: true });
	return {
		setters: [
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE__emotion_react_jsx_runtime__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_core__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_react__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_widgets_Sketch_SketchViewModel__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_map__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_style_setting_components__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui_basic_color_picker__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE__arcgis_core_Color__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_layers_GraphicsLayer__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_Graphic__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_symbols_TextSymbol__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_geometry_Point__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_geometry_Polyline__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_geometry_SpatialReference__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_projectOperator__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_geodeticAreaOperator__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_geodeticLengthOperator__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_areaOperator__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_lengthOperator__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_symbols_SimpleMarkerSymbol__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_symbols_SimpleLineSymbol__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_symbols_SimpleFillSymbol__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_symbols_Font__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_geometry_geometryEngineAsync__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_geometry_projection__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_geometry_support_webMercatorUtils__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_views_interactive_snapping_FeatureSnappingLayerSource__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_layers_FeatureLayer__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_core_Collection__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__[key] = module[key];
				});
			}
		],
		execute: function() {
			__WEBPACK_DYNAMIC_EXPORT__(
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./jimu-icons/outlined/directional/arrow-redo.tsx":
/*!********************************************************!*\
  !*** ./jimu-icons/outlined/directional/arrow-redo.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArrowRedoOutlined: () => (/* binding */ ArrowRedoOutlined)
/* harmony export */ });
/* harmony import */ var _emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/react/jsx-runtime */ "@emotion/react/jsx-runtime");
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_directional_arrow_redo_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/directional/arrow-redo.svg */ "./jimu-icons/svg/outlined/directional/arrow-redo.svg");
/* harmony import */ var _svg_outlined_directional_arrow_redo_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_arrow_redo_svg__WEBPACK_IMPORTED_MODULE_2__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};



const ArrowRedoOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg", Object.assign({ className: classes }, others));
    return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_arrow_redo_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/directional/arrow-undo.tsx":
/*!********************************************************!*\
  !*** ./jimu-icons/outlined/directional/arrow-undo.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArrowUndoOutlined: () => (/* binding */ ArrowUndoOutlined)
/* harmony export */ });
/* harmony import */ var _emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/react/jsx-runtime */ "@emotion/react/jsx-runtime");
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_directional_arrow_undo_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/directional/arrow-undo.svg */ "./jimu-icons/svg/outlined/directional/arrow-undo.svg");
/* harmony import */ var _svg_outlined_directional_arrow_undo_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_arrow_undo_svg__WEBPACK_IMPORTED_MODULE_2__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};



const ArrowUndoOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg", Object.assign({ className: classes }, others));
    return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_arrow_undo_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/close.tsx":
/*!**********************************************!*\
  !*** ./jimu-icons/outlined/editor/close.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CloseOutlined: () => (/* binding */ CloseOutlined)
/* harmony export */ });
/* harmony import */ var _emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/react/jsx-runtime */ "@emotion/react/jsx-runtime");
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/editor/close.svg */ "./jimu-icons/svg/outlined/editor/close.svg");
/* harmony import */ var _svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_2__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};



const CloseOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg", Object.assign({ className: classes }, others));
    return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/trash.tsx":
/*!**********************************************!*\
  !*** ./jimu-icons/outlined/editor/trash.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TrashOutlined: () => (/* binding */ TrashOutlined)
/* harmony export */ });
/* harmony import */ var _emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/react/jsx-runtime */ "@emotion/react/jsx-runtime");
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_trash_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/editor/trash.svg */ "./jimu-icons/svg/outlined/editor/trash.svg");
/* harmony import */ var _svg_outlined_editor_trash_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_trash_svg__WEBPACK_IMPORTED_MODULE_2__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};



const TrashOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg", Object.assign({ className: classes }, others));
    return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_trash_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/suggested/wrong.tsx":
/*!*************************************************!*\
  !*** ./jimu-icons/outlined/suggested/wrong.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WrongOutlined: () => (/* binding */ WrongOutlined)
/* harmony export */ });
/* harmony import */ var _emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/react/jsx-runtime */ "@emotion/react/jsx-runtime");
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_suggested_wrong_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/suggested/wrong.svg */ "./jimu-icons/svg/outlined/suggested/wrong.svg");
/* harmony import */ var _svg_outlined_suggested_wrong_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_suggested_wrong_svg__WEBPACK_IMPORTED_MODULE_2__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};



const WrongOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg", Object.assign({ className: classes }, others));
    return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SVG, Object.assign({ className: classes, src: (_svg_outlined_suggested_wrong_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/svg/outlined/application/setting.svg":
/*!*********************************************************!*\
  !*** ./jimu-icons/svg/outlined/application/setting.svg ***!
  \*********************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M9.438.994c.213 0 .397.146.44.35q.227 1.084.316 1.852.562.242 1.048.599l1.728-.676a.455.455 0 0 1 .556.188l1.42 2.394a.43.43 0 0 1-.091.547 22 22 0 0 1-1.49 1.194q.03.27.03.552 0 .32-.038.63l1.465 1.12a.43.43 0 0 1 .111.563l-1.42 2.394a.454.454 0 0 1-.53.197 23 23 0 0 1-1.807-.66q-.49.35-1.055.586l-.263 1.794a.446.446 0 0 1-.445.376H6.574a.446.446 0 0 1-.44-.35 21 21 0 0 1-.317-1.853 5.3 5.3 0 0 1-1.047-.598l-1.728.675a.455.455 0 0 1-.556-.187l-1.42-2.395a.43.43 0 0 1 .091-.546q.85-.735 1.49-1.194a5.167 5.167 0 0 1 .008-1.183L1.19 6.243a.43.43 0 0 1-.112-.562l1.42-2.395a.455.455 0 0 1 .531-.196q1.078.35 1.807.66c.324-.233.679-.43 1.056-.587l.262-1.794A.446.446 0 0 1 6.6.994zm-.365 1H6.985l-.28 1.866-.467.19q-.353.144-.672.34l-.207.136-.42.293-.476-.197q-.492-.205-1.169-.433l-.221-.074-1.045 1.719L3.59 6.999l-.06.479a4 4 0 0 0-.021.816l.014.144.058.492-.419.294q-.433.304-.979.746l-.177.145 1.043 1.72 1.845-.703.406.29q.307.219.645.384l.228.103.474.199.059.49q.06.507.19 1.177l.043.219h2.088l.282-1.867.466-.19q.354-.144.672-.34l.207-.136.419-.293.476.198q.495.204 1.17.433l.22.072 1.044-1.718-1.56-1.165.06-.479a4 4 0 0 0 .02-.815l-.013-.144-.06-.492.42-.295a18 18 0 0 0 .98-.746l.176-.146-1.043-1.72-1.844.705-.406-.29a4.5 4.5 0 0 0-.646-.385l-.228-.103-.474-.199-.058-.49q-.049-.405-.14-.916zm-1.067 3a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/arrow-redo.svg":
/*!************************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/arrow-redo.svg ***!
  \************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M8.454 10.268a.875.875 0 0 0 1.364.725l.087-.067 4.796-4.196a.875.875 0 0 0 .078-1.24l-.078-.077-4.796-4.197a.875.875 0 0 0-1.445.557l-.006.102v1.78q-7.317.616-7.432 8.277L1 12.374v.64l.006.35q.006.186.016.396l.034.503c.089.525.433.757.82.736.305-.018.532-.302.607-.6l.103-.398.109-.388q.183-.63.324-.901c1.09-2.103 2.706-3.272 4.435-3.676q.496-.115 1-.148zM2 12.54a3 3 0 0 1 .131-.29c1.452-2.8 3.8-4.198 6.257-4.36l1.066-.071v2.172l4.481-3.92L9.454 2.15l-.001 2.423-.916.078c-2.268.191-3.836.914-4.855 2.05-1.026 1.142-1.624 2.843-1.66 5.246v.017L2 12.398zm-.487 1.615v-.003z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/arrow-undo.svg":
/*!************************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/arrow-undo.svg ***!
  \************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M7.547 3.654v-1.78l-.007-.101a.875.875 0 0 0-1.445-.557L1.299 5.413l-.078.077a.875.875 0 0 0 .078 1.24l4.796 4.196.087.067a.875.875 0 0 0 1.364-.726V8.889q.504.033 1 .148c1.729.404 3.345 1.573 4.435 3.676q.14.272.325.9l.108.389.103.399c.075.297.302.581.608.599.386.021.73-.21.82-.736l.033-.503q.02-.421.022-.745v-.641l-.022-.442q-.116-7.66-7.431-8.278M14 12.398l-.021-.434v-.017c-.037-2.403-.635-4.104-1.66-5.246-1.02-1.136-2.588-1.859-4.856-2.05l-.916-.078V2.15L2.064 6.071l4.481 3.92V7.82l1.066.07c2.457.163 4.805 1.561 6.257 4.362q.067.13.13.289zm.487 1.758v-.003z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/close.svg":
/*!**************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/close.svg ***!
  \**************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"m8.745 8 6.1 6.1a.527.527 0 1 1-.745.746L8 8.746l-6.1 6.1a.527.527 0 1 1-.746-.746l6.1-6.1-6.1-6.1a.527.527 0 0 1 .746-.746l6.1 6.1 6.1-6.1a.527.527 0 0 1 .746.746z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/text-center.svg":
/*!********************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/text-center.svg ***!
  \********************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M5.5 3a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zM2 6.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m.5 5.5a.5.5 0 0 0 0 1h11a.5.5 0 0 0 0-1z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/text-left.svg":
/*!******************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/text-left.svg ***!
  \******************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M9.5 3h-7a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1m-7 3h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1m6 3h-6a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1m5 3h-11a.5.5 0 0 0 0 1h11a.5.5 0 0 0 0-1\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/text-right.svg":
/*!*******************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/text-right.svg ***!
  \*******************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M6.5 3a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1zm1 6a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zM4 6.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M2.5 12a.5.5 0 0 0 0 1h11a.5.5 0 0 0 0-1z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/trash.svg":
/*!**************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/trash.svg ***!
  \**************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M6 6.5a.5.5 0 0 1 1 0v6a.5.5 0 0 1-1 0zM9.5 6a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 1 0v-6a.5.5 0 0 0-.5-.5\"></path><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M11 0H5a1 1 0 0 0-1 1v2H.5a.5.5 0 0 0 0 1h1.6l.81 11.1a1 1 0 0 0 .995.9h8.19a1 1 0 0 0 .995-.9L13.9 4h1.6a.5.5 0 0 0 0-1H12V1a1 1 0 0 0-1-1m0 3V1H5v2zm1.895 1h-9.79l.8 11h8.19z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/suggested/wrong.svg":
/*!*****************************************************!*\
  !*** ./jimu-icons/svg/outlined/suggested/wrong.svg ***!
  \*****************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M4 4.796 4.796 4 8.02 7.224l3.184-3.184.796.796L8.816 8.02l3.144 3.144-.796.796L8.02 8.816 4.836 12l-.796-.796L7.224 8.02z\"></path><path fill=\"#000\" fill-rule=\"evenodd\" d=\"m0 4 4-4h8l4 4v8l-4 4H4l-4-4zm1 .414L4.414 1h7.172L15 4.414v7.172L11.586 15H4.414L1 11.586z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!./node_modules/resolve-url-loader/index.js??ruleSet[1].rules[3].use[2]!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[3]!./your-extensions/widgets/draw-advanced/src/runtime/widget.css":
/*!**********************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!./node_modules/resolve-url-loader/index.js??ruleSet[1].rules[3].use[2]!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[3]!./your-extensions/widgets/draw-advanced/src/runtime/widget.css ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
___CSS_LOADER_EXPORT___.push([module.id, "@import url(https://fonts.googleapis.com/css2?family=Alegreya:ital,wght@0,400..900;1,400..900&family=Josefin+Slab:ital,wght@0,100..700;1,100..700&family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Roboto:ital,wght@0,100..900;1,100..900&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap);"]);
// Module
___CSS_LOADER_EXPORT___.push([module.id, `@charset "UTF-8";
/* ========================================================================== */
/* LEGACY / BASE UTILITIES                                                    */
/* ========================================================================== */
.inner-popper {
  z-index: 2002 !important;
}

.color-picker-popper {
  z-index: 2002 !important;
}

.drawToolbarDiv {
  width: 95% !important;
  margin: 0 auto !important;
}

.buttonRow {
  width: fit-content;
  margin: 0 auto;
}

.decimalInput {
  width: 100px;
}

.text-style-editor {
  padding: 0 !important;
}

.pc-btn {
  min-height: 34px;
  text-align: center;
  flex: 1 1 0 !important;
  min-width: 0 !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
}

/* ========================================================================== */
/* SCROLLABLE WIDGET STRUCTURE                                                */
/* ========================================================================== */
.widget-draw {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
}

/* Tab header */
.tab-header {
  flex-shrink: 0;
  display: flex;
  border-bottom: 2px solid #ccc;
  background: #fff;
  z-index: 10;
  position: relative;
  margin: 0; /* no extra spacing */
}

.tab-button {
  flex: 1;
  padding: 0.5rem 1rem;
  text-align: center;
  cursor: pointer;
  font-weight: 500;
  color: #003a55;
  border-bottom: 2px solid transparent;
  background: #f8f9fa;
  transition: all 0.2s ease;
}

.tab-button:hover {
  background-color: #e9ecef;
}

.tab-button.active {
  background: #fff;
  border-bottom: 2px solid #003a55;
  font-weight: 600;
  color: #003a55;
}

/* Scrollable content */
.tab-content {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  min-height: 0;
  scrollbar-width: thin;
  scrollbar-color: #c1c1c1 #f1f1f1;
}

.tab-content::-webkit-scrollbar {
  width: 6px;
}

.tab-content::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 3px;
}

.tab-content::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 3px;
}

.tab-content::-webkit-scrollbar-thumb:hover {
  background: #a8a8a8;
}

/* ========================================================================== */
/* CONTENT CONTAINERS                                                         */
/* ========================================================================== */
.draw-panel-content,
.my-drawings-tab-container {
  padding: 16px;
  min-height: min-content;
}

.mode-message {
  margin: 0;
}

.mode-message h5 {
  margin: 0.5rem 0 0.25rem 0;
  color: #003a55;
}

.mode-message h6 {
  margin: 0;
  color: #666;
  font-weight: normal;
}

.drawing-tools-section {
  margin: 0;
}

/* ========================================================================== */
/* MAIN CHECKBOX STACKS � NO VERTICAL SPACING                                 */
/* ========================================================================== */
/* Parent stack that holds: Measure, Snapping, Buffer */
.main-checkbox-stack {
  display: flex;
  flex-direction: column;
  gap: 0; /* absolutely no space between sections */
}

/* Inner stack that holds: Enable Measurements + Enable Tooltips (inside Measure) */
.measure-toggle-stack {
  display: flex;
  flex-direction: column;
  gap: 0; /* absolutely no space between these two as well */
}

/* Make sure panels themselves don�t create margins */
.main-checkbox-stack .jimu-collapsable-panel,
.measure-toggle-stack .jimu-collapsable-panel {
  margin: 0 !important;
}

/* ========================================================================== */
/* COLLAPSIBLE SECTIONS � RESET ALL EXTRA SPACING                             */
/* ========================================================================== */
/* Each wrapper around a collapsible panel */
.collapsible-section {
  margin: 0 !important;
  padding: 0 !important;
}

/* Never add spacing between consecutive sections */
.collapsible-section + .collapsible-section {
  margin-top: 0 !important;
}

/* Panel styling (kept minimal); no external margins */
.collapsible-section .jimu-collapsable-panel {
  margin: 0 !important;
  border-radius: 4px;
  overflow: hidden;
  background: #fff;
}

/* Panel header/body internal padding (visual comfort without external gaps) */
.collapsible-section .jimu-collapsable-panel > .header {
  background: #f8f9fa;
  border-bottom: 1px solid #dee2e6;
  padding: 12px 16px;
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: space-between;
  min-height: 44px;
}

.collapsible-section .jimu-collapsable-panel > .body {
  padding: 16px;
}

/* Nuke any margins that might be introduced by nested utilities/components */
.collapsible-section > * {
  margin: 0 !important;
}

.collapsible-section > div {
  margin: 0 !important;
}

.collapsible-section .mb-1,
.collapsible-section .mb-2,
.collapsible-section .mb-3,
.collapsible-section .mt-1,
.collapsible-section .mt-2,
.collapsible-section .mt-3,
.collapsible-section [class*=margin],
.collapsible-section [class*=mb-],
.collapsible-section [class*=mt-],
.collapsible-section [class*=my-] {
  margin-top: 0 !important;
  margin-bottom: 0 !important;
}

/* Known components that previously added spacing */
.measurement-section,
.tooltip-controls,
.snapping-controls,
.buffer-controls {
  margin: 0 !important;
  padding: 0 !important;
}

.measurement-section .body,
.snapping-controls .body,
.buffer-controls .body {
  padding-bottom: 0 !important; /* ensure bodies don't extend spacing */
}

/* Arrow controls � keep tight */
.arrow-controls {
  padding: 0;
  background: transparent;
  border: none;
  border-radius: 0;
}

.arrow-controls .drawToolbarDiv {
  margin-bottom: 0;
}

/* ========================================================================== */
/* SYMBOL SELECTOR & MISC                                                     */
/* ========================================================================== */
.myss {
  margin: 0;
}

.myss .border {
  border: 1px solid #dee2e6 !important;
  border-radius: 4px;
}

/* Bottom toolbar (leave default spacing inside if desired) */
.drawToolbarBottomDiv {
  margin: 0;
  flex-wrap: wrap;
  padding-top: 8px; /* minimal separation from content above, internal only */
}

/* ========================================================================== */
/* RESPONSIVE TWEAKS                                                          */
/* ========================================================================== */
@media (max-height: 400px) {
  .draw-panel-content,
  .my-drawings-tab-container {
    padding: 8px;
  }
  .collapsible-section .jimu-collapsable-panel > .header {
    padding: 10px 12px;
    min-height: 40px;
  }
  .collapsible-section .jimu-collapsable-panel > .body {
    padding: 12px;
  }
  .tab-button {
    padding: 6px 12px;
    font-size: 0.9rem;
  }
  .mode-message h5 {
    font-size: 1rem;
  }
  .mode-message h6 {
    font-size: 0.875rem;
  }
  .drawToolbarBottomDiv {
    margin: 0;
    padding-top: 8px;
  }
}
@media (max-height: 300px) {
  .draw-panel-content,
  .my-drawings-tab-container {
    padding: 6px;
  }
  .tab-button {
    padding: 4px 8px;
    font-size: 0.8rem;
  }
  .buttonRow {
    margin-bottom: 0;
  }
}`, "",{"version":3,"sources":["webpack://./your-extensions/widgets/draw-advanced/src/runtime/widget.css"],"names":[],"mappings":"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","sourcesContent":["@import url('https://fonts.googleapis.com/css2?family=Alegreya:ital,wght@0,400..900;1,400..900&family=Josefin+Slab:ital,wght@0,100..700;1,100..700&family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Roboto:ital,wght@0,100..900;1,100..900&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap');\r\n\r\n/* ========================================================================== */\r\n/* LEGACY / BASE UTILITIES                                                    */\r\n/* ========================================================================== */\r\n\r\n.inner-popper {\r\n    z-index: 2002 !important;\r\n}\r\n\r\n.color-picker-popper {\r\n    z-index: 2002 !important;\r\n}\r\n\r\n.drawToolbarDiv {\r\n    width: 95% !important;\r\n    margin: 0 auto !important;\r\n}\r\n\r\n.buttonRow {\r\n    width: fit-content;\r\n    margin: 0 auto;\r\n}\r\n\r\n.decimalInput {\r\n    width: 100px;\r\n}\r\n\r\n.text-style-editor {\r\n    padding: 0 !important;\r\n}\r\n\r\n.pc-btn {\r\n    min-height: 34px;\r\n    text-align: center;\r\n    flex: 1 1 0 !important;\r\n    min-width: 0 !important;\r\n    white-space: nowrap !important;\r\n    overflow: hidden !important;\r\n    text-overflow: ellipsis !important;\r\n}\r\n\r\n/* ========================================================================== */\r\n/* SCROLLABLE WIDGET STRUCTURE                                                */\r\n/* ========================================================================== */\r\n\r\n.widget-draw {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    overflow: hidden;\r\n}\r\n\r\n/* Tab header */\r\n.tab-header {\r\n    flex-shrink: 0;\r\n    display: flex;\r\n    border-bottom: 2px solid #ccc;\r\n    background: #fff;\r\n    z-index: 10;\r\n    position: relative;\r\n    margin: 0; /* no extra spacing */\r\n}\r\n\r\n.tab-button {\r\n    flex: 1;\r\n    padding: 0.5rem 1rem;\r\n    text-align: center;\r\n    cursor: pointer;\r\n    font-weight: 500;\r\n    color: #003a55;\r\n    border-bottom: 2px solid transparent;\r\n    background: #f8f9fa;\r\n    transition: all 0.2s ease;\r\n}\r\n\r\n    .tab-button:hover {\r\n        background-color: #e9ecef;\r\n    }\r\n\r\n    .tab-button.active {\r\n        background: #fff;\r\n        border-bottom: 2px solid #003a55;\r\n        font-weight: 600;\r\n        color: #003a55;\r\n    }\r\n\r\n/* Scrollable content */\r\n.tab-content {\r\n    flex: 1;\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n    min-height: 0;\r\n    scrollbar-width: thin;\r\n    scrollbar-color: #c1c1c1 #f1f1f1;\r\n}\r\n\r\n    .tab-content::-webkit-scrollbar {\r\n        width: 6px;\r\n    }\r\n\r\n    .tab-content::-webkit-scrollbar-track {\r\n        background: #f1f1f1;\r\n        border-radius: 3px;\r\n    }\r\n\r\n    .tab-content::-webkit-scrollbar-thumb {\r\n        background: #c1c1c1;\r\n        border-radius: 3px;\r\n    }\r\n\r\n        .tab-content::-webkit-scrollbar-thumb:hover {\r\n            background: #a8a8a8;\r\n        }\r\n\r\n/* ========================================================================== */\r\n/* CONTENT CONTAINERS                                                         */\r\n/* ========================================================================== */\r\n\r\n.draw-panel-content,\r\n.my-drawings-tab-container {\r\n    padding: 16px;\r\n    min-height: min-content;\r\n}\r\n\r\n.mode-message {\r\n    margin: 0;\r\n}\r\n\r\n    .mode-message h5 {\r\n        margin: 0.5rem 0 0.25rem 0;\r\n        color: #003a55;\r\n    }\r\n\r\n    .mode-message h6 {\r\n        margin: 0;\r\n        color: #666;\r\n        font-weight: normal;\r\n    }\r\n\r\n.drawing-tools-section {\r\n    margin: 0;\r\n}\r\n\r\n/* ========================================================================== */\r\n/* MAIN CHECKBOX STACKS � NO VERTICAL SPACING                                 */\r\n/* ========================================================================== */\r\n\r\n/* Parent stack that holds: Measure, Snapping, Buffer */\r\n.main-checkbox-stack {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0; /* absolutely no space between sections */\r\n}\r\n\r\n/* Inner stack that holds: Enable Measurements + Enable Tooltips (inside Measure) */\r\n.measure-toggle-stack {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0; /* absolutely no space between these two as well */\r\n}\r\n\r\n    /* Make sure panels themselves don�t create margins */\r\n    .main-checkbox-stack .jimu-collapsable-panel,\r\n    .measure-toggle-stack .jimu-collapsable-panel {\r\n        margin: 0 !important;\r\n    }\r\n\r\n/* ========================================================================== */\r\n/* COLLAPSIBLE SECTIONS � RESET ALL EXTRA SPACING                             */\r\n/* ========================================================================== */\r\n\r\n/* Each wrapper around a collapsible panel */\r\n.collapsible-section {\r\n    margin: 0 !important;\r\n    padding: 0 !important;\r\n}\r\n\r\n    /* Never add spacing between consecutive sections */\r\n    .collapsible-section + .collapsible-section {\r\n        margin-top: 0 !important;\r\n    }\r\n\r\n    /* Panel styling (kept minimal); no external margins */\r\n    .collapsible-section .jimu-collapsable-panel {\r\n        margin: 0 !important;\r\n        border-radius: 4px;\r\n        overflow: hidden;\r\n        background: #fff;\r\n    }\r\n\r\n        /* Panel header/body internal padding (visual comfort without external gaps) */\r\n        .collapsible-section .jimu-collapsable-panel > .header {\r\n            background: #f8f9fa;\r\n            border-bottom: 1px solid #dee2e6;\r\n            padding: 12px 16px;\r\n            font-weight: 500;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n            min-height: 44px;\r\n        }\r\n\r\n        .collapsible-section .jimu-collapsable-panel > .body {\r\n            padding: 16px;\r\n        }\r\n\r\n    /* Nuke any margins that might be introduced by nested utilities/components */\r\n    .collapsible-section > * {\r\n        margin: 0 !important;\r\n    }\r\n\r\n    .collapsible-section > div {\r\n        margin: 0 !important;\r\n    }\r\n\r\n    .collapsible-section .mb-1,\r\n    .collapsible-section .mb-2,\r\n    .collapsible-section .mb-3,\r\n    .collapsible-section .mt-1,\r\n    .collapsible-section .mt-2,\r\n    .collapsible-section .mt-3,\r\n    .collapsible-section [class*=\"margin\"],\r\n    .collapsible-section [class*=\"mb-\"],\r\n    .collapsible-section [class*=\"mt-\"],\r\n    .collapsible-section [class*=\"my-\"] {\r\n        margin-top: 0 !important;\r\n        margin-bottom: 0 !important;\r\n    }\r\n\r\n/* Known components that previously added spacing */\r\n.measurement-section,\r\n.tooltip-controls,\r\n.snapping-controls,\r\n.buffer-controls {\r\n    margin: 0 !important;\r\n    padding: 0 !important;\r\n}\r\n\r\n    .measurement-section .body,\r\n    .snapping-controls .body,\r\n    .buffer-controls .body {\r\n        padding-bottom: 0 !important; /* ensure bodies don't extend spacing */\r\n    }\r\n\r\n/* Arrow controls � keep tight */\r\n.arrow-controls {\r\n    padding: 0;\r\n    background: transparent;\r\n    border: none;\r\n    border-radius: 0;\r\n}\r\n\r\n    .arrow-controls .drawToolbarDiv {\r\n        margin-bottom: 0;\r\n    }\r\n\r\n/* ========================================================================== */\r\n/* SYMBOL SELECTOR & MISC                                                     */\r\n/* ========================================================================== */\r\n\r\n.myss {\r\n    margin: 0;\r\n}\r\n\r\n    .myss .border {\r\n        border: 1px solid #dee2e6 !important;\r\n        border-radius: 4px;\r\n    }\r\n\r\n/* Bottom toolbar (leave default spacing inside if desired) */\r\n.drawToolbarBottomDiv {\r\n    margin: 0;\r\n    flex-wrap: wrap;\r\n    padding-top: 8px; /* minimal separation from content above, internal only */\r\n}\r\n\r\n/* ========================================================================== */\r\n/* RESPONSIVE TWEAKS                                                          */\r\n/* ========================================================================== */\r\n\r\n@media (max-height: 400px) {\r\n    .draw-panel-content,\r\n    .my-drawings-tab-container {\r\n        padding: 8px;\r\n    }\r\n\r\n    .collapsible-section .jimu-collapsable-panel > .header {\r\n        padding: 10px 12px;\r\n        min-height: 40px;\r\n    }\r\n\r\n    .collapsible-section .jimu-collapsable-panel > .body {\r\n        padding: 12px;\r\n    }\r\n\r\n    .tab-button {\r\n        padding: 6px 12px;\r\n        font-size: 0.9rem;\r\n    }\r\n\r\n    .mode-message h5 {\r\n        font-size: 1rem;\r\n    }\r\n\r\n    .mode-message h6 {\r\n        font-size: 0.875rem;\r\n    }\r\n\r\n    .drawToolbarBottomDiv {\r\n        margin: 0;\r\n        padding-top: 8px;\r\n    }\r\n}\r\n\r\n@media (max-height: 300px) {\r\n    .draw-panel-content,\r\n    .my-drawings-tab-container {\r\n        padding: 6px;\r\n    }\r\n\r\n    .tab-button {\r\n        padding: 4px 8px;\r\n        font-size: 0.8rem;\r\n    }\r\n\r\n    .buttonRow {\r\n        margin-bottom: 0;\r\n    }\r\n}\r\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {

"use strict";


module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];
  if (!cssMapping) {
    return content;
  }
  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    return [content].concat([sourceMapping]).join("\n");
  }
  return [content].join("\n");
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";


var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";


var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/config.ts":
/*!*************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/config.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrawMode: () => (/* binding */ DrawMode)
/* harmony export */ });
var DrawMode;
(function (DrawMode) {
    DrawMode["SINGLE"] = "single";
    DrawMode["CONTINUOUS"] = "continuous";
    DrawMode["UPDATE"] = "update";
})(DrawMode || (DrawMode = {}));


/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/assets/bold.svg":
/*!***************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/assets/bold.svg ***!
  \***************************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiBmaWxsPSJub25lIj4NCgk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTkuMjI0LDYuNTMzYzAuMjUsMC4xNzIsMC40NTMsMC4zODksMC42MDksMC42NDhzMC4yMzQsMC41NjQsMC4yMzQsMC45MTZjMCwwLjQyMi0wLjA4OSwwLjc3OS0wLjI2NiwxLjA3DQoJCWMtMC4xNzksMC4yOTEtMC40MzQsMC41Mi0wLjc2NiwwLjY4OGMtMC4zNTIsMC4xOC0wLjc1NywwLjMwNy0xLjIxNSwwLjM4MWMtMC40NiwwLjA3NC0xLDAuMTExLTEuNjIxLDAuMTExSDEuODgyVjkuODkxDQoJCWMwLjEyMS0wLjAxMiwwLjI3My0wLjAyOSwwLjQ1Ny0wLjA1M3MwLjMxMy0wLjA1MSwwLjM4Ny0wLjA4MmMwLjE0NS0wLjA1OSwwLjI0My0wLjEzNSwwLjI5Ni0wLjIzczAuMDc5LTAuMjIxLDAuMDc5LTAuMzczVjMuMjkzDQoJCWMwLTAuMTQxLTAuMDIxLTAuMjU4LTAuMDY0LTAuMzUyUzIuODksMi43NjYsMi43MjYsMi42OTZDMi42MDUsMi42NDUsMi40NjQsMi42MDMsMi4zMDQsMi41N1MyLjAwMywyLjUxLDEuODgyLDIuNDkxVjIuMDM0aDQuNTE3DQoJCWMxLjEzNywwLDEuOTU3LDAuMTU2LDIuNDYxLDAuNDY5czAuNzU2LDAuNzczLDAuNzU2LDEuMzgzYzAsMC4yODEtMC4wNTcsMC41MjgtMC4xNywwLjc0MVM5LjE3MSw1LjAyNCw4Ljk2LDUuMTgNCgkJQzguNzY5LDUuMzI1LDguNTQsNS40NSw4LjI3NCw1LjU1NVM3LjcyNCw1Ljc0OSw3LjQxOSw1LjgxOVY1LjkzQzcuNzI0LDUuOTYxLDguMDQsNi4wMjksOC4zNjgsNi4xMzJTOC45ODEsNi4zNyw5LjIyNCw2LjUzM3oNCgkJIE03LjMzNyw0LjAzMmMwLTAuNDYxLTAuMTMtMC44Mi0wLjM4OS0xLjA3OGMtMC4yNjEtMC4yNTgtMC42NS0wLjM4Ny0xLjE3LTAuMzg3Yy0wLjA3NCwwLTAuMTcxLDAuMDAzLTAuMjg5LDAuMDA5DQoJCUM1LjM2OSwyLjU4Miw1LjI2NywyLjU4Niw1LjE4MSwyLjU5djMuMDgyaDAuMzA1YzAuNjMzLDAsMS4xLTAuMTQ3LDEuNC0wLjQ0MlM3LjMzNyw0LjUzNiw3LjMzNyw0LjAzMnogTTcuNzQ3LDguMDI1DQoJCWMwLTAuNTgtMC4xNzItMS4wMjMtMC41MTYtMS4zMzJjLTAuMzQ0LTAuMzEtMC44MzgtMC40NjQtMS40ODItMC40NjRjLTAuMDc0LDAtMC4xNzIsMC4wMDMtMC4yOTUsMC4wMDlTNS4yMzksNi4yNDksNS4xODEsNi4yNTINCgkJdjMuMDQ2YzAuMDM1LDAuMTQ1LDAuMTQ1LDAuMjY3LDAuMzI4LDAuMzY3YzAuMTg0LDAuMSwwLjQwNiwwLjE0OCwwLjY2OCwwLjE0OGMwLjQ2NSwwLDAuODQzLTAuMTU2LDEuMTM1LTAuNDY5DQoJCUM3LjYwMiw5LjAzMiw3Ljc0Nyw4LjU5Miw3Ljc0Nyw4LjAyNXoiIGZpbGw9ImJsYWNrIi8+DQo8L3N2Zz4NCg=="

/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/assets/circle.svg":
/*!*****************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/assets/circle.svg ***!
  \*****************************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgo8dGl0bGU+Y2lyY2xlPC90aXRsZT4KPHBhdGggZD0iTTMyIDE2YzAgOC44MzctNy4xNjMgMTYtMTYgMTZzLTE2LTcuMTYzLTE2LTE2IDcuMTYzLTE2IDE2LTE2IDE2IDcuMTYzIDE2IDE2eiI+PC9wYXRoPgo8L3N2Zz4K"

/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/assets/curve.svg":
/*!****************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/assets/curve.svg ***!
  \****************************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI5IiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMjkgMzIiPgo8dGl0bGU+Y3VydmU8L3RpdGxlPgo8cGF0aCBkPSJNMy4zNjggMzEuMTU4aC0zLjM2OGMwLjA4NC0xMi4wNDIgNi40ODQtMTMuODExIDEyLjEyNi0xNS4zMjYgNS44OTUtMS42IDExLjUzNy0zLjIgMTMuMTM3LTE1LjI0MmwzLjM2OCAwLjQyMWMtMS45MzcgMTQuMjMyLTkuNTE2IDE2LjMzNy0xNS41NzkgMTguMDIxLTUuNjQyIDEuNi05LjYgMi42OTUtOS42ODQgMTIuMTI2eiI+PC9wYXRoPgo8L3N2Zz4K"

/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/assets/irregular.svg":
/*!********************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/assets/irregular.svg ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjM4IiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzggMzIiPgo8dGl0bGU+aXJyZWd1bGFyPC90aXRsZT4KPHBhdGggZD0iTTYuMjMgNi4xOTNjLTMuMjM1IDMuMyAzLjcwNCA0Ljg1OSAxLjg4OCA5LjU1OHMtMTEuNjY5IDcuODY2LTYuNzYxIDEzLjUyMSA4LjM4NC0zLjE0NiAxNC42MTMtMi4xMjkgNS4xNjUgNi42MDYgMTEuMTI1IDQuMzA2YzUuOTYtMi4zLTIuNTU0LTEwLjI5NiAxLjA3MC0xMy4wNDZzMTEuMDIxLTUuMDIxIDkuMTk5LTguNzVjLTEuODIyLTMuNzI5LTQuNC0xLjUxMy04LjY2NS0xLjA4M3MtMC4zMjMtOC41Ny00LjU5Mi04LjU3LTMuNjczIDIuNzIzLTcuMjU2IDYuNjYxLTcuMzg1LTMuNzY4LTEwLjYxOS0wLjQ2OHoiPjwvcGF0aD4KPC9zdmc+Cg=="

/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/assets/italic.svg":
/*!*****************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/assets/italic.svg ***!
  \*****************************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEyIDEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjx0aXRsZT5ib2xkPC90aXRsZT4NCjxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0ibm9uZSIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIi8+DQo8Zz4NCgk8cGF0aCBkPSJNOC41NzgsMi4wMzNMOC40OSwyLjQyQzguMzY5LDIuNDI0LDguMjExLDIuNDQxLDguMDE2LDIuNDczcy0wLjM0LDAuMDYxLTAuNDM0LDAuMDg4QzcuNDE4LDIuNjExLDcuMzAxLDIuNjg5LDcuMjMsMi43OTUNCgkJUzcuMTA5LDMuMDE3LDcuMDc4LDMuMTQzTDUuNjY3LDkuMjE5QzUuNjU5LDkuMjQ0LDUuNjUzLDkuMjc1LDUuNjQ5LDkuMzExUzUuNjQ0LDkuMzc3LDUuNjQ0LDkuNDA0YzAsMC4wOSwwLjAyLDAuMTY2LDAuMDU5LDAuMjI5DQoJCVM1LjgxMiw5Ljc1LDUuOTEzLDkuNzk3QzUuOTcyLDkuODI0LDYuMTAxLDkuODU2LDYuMyw5Ljg5NHMwLjM0OCwwLjA2LDAuNDQ1LDAuMDY3bC0wLjA4OCwwLjM4N2gtMy43NWwwLjA4OC0wLjM4Nw0KCQljMC4xMDktMC4wMDgsMC4yNjYtMC4wMiwwLjQ2OS0wLjAzNXMwLjM0OC0wLjAzOSwwLjQzNC0wLjA3QzQuMDUsOS44MDEsNC4xNjYsOS43MjYsNC4yNDQsOS42M3MwLjEzMS0wLjIxMiwwLjE1OC0wLjM0OQ0KCQlsMS40MDYtNi4wODJjMC4wMDgtMC4wMzUsMC4wMTQtMC4wNywwLjAxOC0wLjEwNXMwLjAwNi0wLjA3LDAuMDA2LTAuMTA1YzAtMC4wNzgtMC4wMTctMC4xNDYtMC4wNS0wLjIwNVM1LjY3OSwyLjY3Miw1LjU3MywyLjYyNQ0KCQlTNS4zMjQsMi41MzQsNS4xNDMsMi40OTNTNC44MjcsMi40MjgsNC43NDEsMi40MmwwLjA4OC0wLjM4N0g4LjU3OHoiLz4NCjwvZz4NCjwvc3ZnPg0K"

/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/assets/pin.svg":
/*!**************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/assets/pin.svg ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgMTggMzIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDE4IDMyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCgk8dGl0bGU+cGluPC90aXRsZT4NCgk8ZyBpZD0iU3R5bGUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KCQk8ZyBpZD0iMC1VSS1pY29ucyIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj4NCgkJCTxwYXRoIGQ9Ik0wLDYuMjU0QzAsNi4yNTQsMC4xNDQsMCw5LjA1MSwwYzguOTA3LDAsOC43MjcsNi4yNTQsOC43MjcsNi4yNTR2MTguNjA0TDkuMDUxLDMyTDAsMjQuODU3VjYuMjU0eg0KCQkJCU04Ljg4OSwxMy43MTRjMi44NDEsMCw1LjE0Ni0yLjI1MSw1LjE0Ni01LjAyOVMxMS43MywzLjY1Niw4Ljg4OSwzLjY1NmMtMi44NDIsMC01LjE0NiwyLjI1MS01LjE0Niw1LjAyOQ0KCQkJCVM2LjA0NywxMy43MTQsOC44ODksMTMuNzE0eiIvPg0KCQk8L2c+DQoJPC9nPg0KPC9zdmc+DQo="

/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/assets/polygon.svg":
/*!******************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/assets/polygon.svg ***!
  \******************************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjM2IiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzYgMzIiPgo8dGl0bGU+cG9seWdvbjwvdGl0bGU+CjxwYXRoIGQ9Ik0wIDEzLjcxNnYxNy45NDJoMzEuNzIzdi03LjIxOWwtMTAuMTg4LTEwLjE4OCAxNC4yNS0xNC4yNWgtMjMuNzg1eiI+PC9wYXRoPgo8L3N2Zz4K"

/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/assets/polygonal.svg":
/*!********************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/assets/polygonal.svg ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjM0IiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzQgMzIiPgo8dGl0bGU+cG9seWdvbmFsPC90aXRsZT4KPHBhdGggZD0iTTMuMjg0IDMxLjY2M2wtMy4yLTEuMDExIDcuMTU4LTIxLjIyMSAxNi4xNjggMTAuODYzIDYuOTg5LTIwLjA0MiAzLjIgMS4xNzktOC40MjEgMjQuMDg0LTE2LjE2OC0xMC44NjN6Ij48L3BhdGg+Cjwvc3ZnPgo="

/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/assets/rectangle.svg":
/*!********************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/assets/rectangle.svg ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgo8dGl0bGU+cmVjdGFuZ2xlPC90aXRsZT4KPHBhdGggZD0iTTEuNiA2LjRoMjguODg5djE4Ljc1NmgtMjguODg5di0xOC43NTZ6Ij48L3BhdGg+Cjwvc3ZnPgo="

/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/assets/text-align-v-b.svg":
/*!*************************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/assets/text-align-v-b.svg ***!
  \*************************************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEyIDEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjx0aXRsZT5hbGlnbi12LWI8L3RpdGxlPg0KPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQo8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSJub25lIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4NCjxwYXRoIGQ9Ik0xMSwxMWMwLjI3NiwwLDAuNSwwLjIyNCwwLjUsMC41UzExLjI3NiwxMiwxMSwxMkgxYy0wLjI3NiwwLTAuNS0wLjIyNC0wLjUtMC41UzAuNzI0LDExLDEsMTFIMTF6Ii8+DQo8cGF0aCBkPSJNMTAsMGMwLjI3NiwwLDAuNSwwLjIyNCwwLjUsMC41VjlsMC42LTAuNzk5YzAuMTQ3LTAuMTk3LDAuNDEyLTAuMjU0LDAuNjIzLTAuMTQ4TDExLjgsOC4xDQoJYzAuMTk2LDAuMTQ4LDAuMjU0LDAuNDEyLDAuMTQ3LDAuNjIzTDExLjksOC44MDFsLTEuNSwyYy0wLjE4LDAuMjQtMC41MjIsMC4yNjQtMC43MzQsMC4wNzJMOS42LDEwLjgwMWwtMS41LTINCglDNy45MzUsOC41OCw3Ljk3OSw4LjI2Niw4LjIsOC4xYzAuMTk2LTAuMTQ2LDAuNDY2LTAuMTI3LDAuNjQsMC4wMzNMOC45LDguMjAxTDkuNSw5VjAuNUM5LjUsMC4yMjQsOS43MjQsMCwxMCwweiIvPg0KPGc+DQoJPHBhdGggZD0iTTAuOSw5LjA3OGwyLjc0OS03LjE1N2gxLjAyMUw3LjYsOS4wNzhINi41MjFMNS42ODUsNi45MUgyLjY5MkwxLjkwNiw5LjA3OEgwLjl6IE0yLjk2NSw2LjEzOWgyLjQyN0w0LjY0NSw0LjE1OA0KCQlDNC40MTcsMy41NTYsNC4yNDgsMy4wNjEsNC4xMzcsMi42NzNjLTAuMDkxLDAuNDU5LTAuMjIsMC45MTUtMC4zODYsMS4zNjdMMi45NjUsNi4xMzl6Ii8+DQo8L2c+DQo8ZyBkaXNwbGF5PSJub25lIj4NCgk8cGF0aCBkaXNwbGF5PSJpbmxpbmUiIGQ9Ik05LjYsMC41MDFjMC4yNzYsMCwwLjUsMC4yMjQsMC41LDAuNXYyLjVsMC42LTAuOGMwLjE0Ny0wLjE5NiwwLjQxMi0wLjI1NCwwLjYyMy0wLjE0N2wwLjA3NywwLjA0Nw0KCQljMC4yMjIsMC4xNjYsMC4yNjcsMC40NzksMC4xMDEsMC43bC0xLjUsMmMtMC4yLDAuMjY3LTAuNjAxLDAuMjY3LTAuODAxLDBsLTEuNS0yQzcuNTM0LDMuMDgsNy41NzksMi43NjcsNy44LDIuNjAxDQoJCXMwLjUzNC0wLjEyMSwwLjcsMC4xbDAuNiwwLjh2LTIuNUM5LjEsMC43MjUsOS4zMjMsMC41MDEsOS42LDAuNTAxeiIvPg0KCTxwYXRoIGRpc3BsYXk9ImlubGluZSIgZD0iTTkuNjAxLDExLjc3M2MtMC4yNzYsMC0wLjUtMC4yMjUtMC41LTAuNXYtMi41bC0wLjYsMC43OTlDOC4zNTQsOS43Nyw4LjA4OSw5LjgyNiw3Ljg3OCw5LjcyMQ0KCQlMNy44MDEsOS42NzJDNy41NzksOS41MDgsNy41MzQsOS4xOTMsNy43LDguOTczbDEuNS0yYzAuMi0wLjI2NiwwLjYwMS0wLjI2NiwwLjgwMSwwbDEuNSwyYzAuMTY1LDAuMjIxLDAuMTIsMC41MzUtMC4xMDEsMC42OTkNCgkJYy0wLjIyMSwwLjE2Ni0wLjUzNCwwLjEyMS0wLjctMC4xbC0wLjYtMC43OTl2Mi41QzEwLjEwMSwxMS41NDksOS44NzcsMTEuNzczLDkuNjAxLDExLjc3M3oiLz4NCgkNCgkJPGxpbmUgZGlzcGxheT0iaW5saW5lIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iNy43MjUiIHkxPSI2LjE0NyIgeDI9IjExLjQ3NSIgeTI9IjYuMTQ3Ii8+DQo8L2c+DQo8L3N2Zz4NCg=="

/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/assets/text-align-v-base.svg":
/*!****************************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/assets/text-align-v-base.svg ***!
  \****************************************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEyIDEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjx0aXRsZT5hbGlnbi12LWI8L3RpdGxlPg0KPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQo8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSJub25lIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4NCjxwYXRoIGQ9Ik0xMSw5LjE4OGMwLjI3NiwwLDAuNSwwLjIyNCwwLjUsMC41cy0wLjIyNCwwLjUtMC41LDAuNUgxYy0wLjI3NiwwLTAuNS0wLjIyNC0wLjUtMC41czAuMjI0LTAuNSwwLjUtMC41SDExeiIvPg0KPHBhdGggZD0iTTEwLDAuNDE3YzAuMjc2LDAsMC41LDAuMTc2LDAuNSwwLjM5NHY2LjY5MmwwLjYtMC42MjljMC4xNDctMC4xNTUsMC40MTItMC4xOTksMC42MjMtMC4xMTdMMTEuOCw2Ljc5Mw0KCWMwLjE5NiwwLjExNywwLjI1NCwwLjMyNSwwLjE0NywwLjQ5MUwxMS45LDcuMzQ2bC0xLjUsMS41NzVjLTAuMTgsMC4xODgtMC41MjIsMC4yMDctMC43MzQsMC4wNTdMOS42LDguOTIxTDguMSw3LjM0Ng0KCUM3LjkzNSw3LjE3Miw3Ljk3OSw2LjkyNSw4LjIsNi43OTNjMC4xOTYtMC4xMTQsMC40NjYtMC4xLDAuNjQsMC4wMjZMOC45LDYuODczbDAuNiwwLjYyOVYwLjgxQzkuNSwwLjU5Myw5LjcyNCwwLjQxNywxMCwwLjQxN3oiLz4NCjxnPg0KCTxwYXRoIGQ9Ik0wLjksOS4wNzhsMi43NDktNy4xNTdoMS4wMjFMNy42LDkuMDc4SDYuNTIxTDUuNjg1LDYuOTFIMi42OTJMMS45MDYsOS4wNzhIMC45eiBNMi45NjUsNi4xMzloMi40MjdMNC42NDUsNC4xNTgNCgkJQzQuNDE3LDMuNTU2LDQuMjQ4LDMuMDYxLDQuMTM3LDIuNjczYy0wLjA5MSwwLjQ1OS0wLjIyLDAuOTE1LTAuMzg2LDEuMzY3TDIuOTY1LDYuMTM5eiIvPg0KPC9nPg0KPGcgZGlzcGxheT0ibm9uZSI+DQoJPHBhdGggZGlzcGxheT0iaW5saW5lIiBkPSJNOS42LDAuNTAxYzAuMjc2LDAsMC41LDAuMjI0LDAuNSwwLjV2Mi41bDAuNi0wLjhjMC4xNDctMC4xOTYsMC40MTItMC4yNTQsMC42MjMtMC4xNDdsMC4wNzcsMC4wNDcNCgkJYzAuMjIyLDAuMTY2LDAuMjY3LDAuNDc5LDAuMTAxLDAuN2wtMS41LDJjLTAuMiwwLjI2Ny0wLjYwMSwwLjI2Ny0wLjgwMSwwbC0xLjUtMkM3LjUzNCwzLjA4LDcuNTc5LDIuNzY3LDcuOCwyLjYwMQ0KCQlzMC41MzQtMC4xMjEsMC43LDAuMWwwLjYsMC44di0yLjVDOS4xLDAuNzI1LDkuMzIzLDAuNTAxLDkuNiwwLjUwMXoiLz4NCgk8cGF0aCBkaXNwbGF5PSJpbmxpbmUiIGQ9Ik05LjYwMSwxMS43NzNjLTAuMjc2LDAtMC41LTAuMjI1LTAuNS0wLjV2LTIuNWwtMC42LDAuNzk5QzguMzU0LDkuNzcsOC4wODksOS44MjYsNy44NzgsOS43MjENCgkJTDcuODAxLDkuNjcyQzcuNTc5LDkuNTA4LDcuNTM0LDkuMTkzLDcuNyw4Ljk3M2wxLjUtMmMwLjItMC4yNjYsMC42MDEtMC4yNjYsMC44MDEsMGwxLjUsMmMwLjE2NSwwLjIyMSwwLjEyLDAuNTM1LTAuMTAxLDAuNjk5DQoJCWMtMC4yMjEsMC4xNjYtMC41MzQsMC4xMjEtMC43LTAuMWwtMC42LTAuNzk5djIuNUMxMC4xMDEsMTEuNTQ5LDkuODc3LDExLjc3Myw5LjYwMSwxMS43NzN6Ii8+DQoJDQoJCTxsaW5lIGRpc3BsYXk9ImlubGluZSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjcuNzI1IiB5MT0iNi4xNDciIHgyPSIxMS40NzUiIHkyPSI2LjE0NyIvPg0KPC9nPg0KPC9zdmc+DQo="

/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/assets/text-align-v-m.svg":
/*!*************************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/assets/text-align-v-m.svg ***!
  \*************************************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEyIDEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjx0aXRsZT5hbGlnbi12LWI8L3RpdGxlPg0KPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQo8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSJub25lIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4NCjxwYXRoIGRpc3BsYXk9Im5vbmUiIGQ9Ik0xMSwxMWMwLjI3NiwwLDAuNSwwLjIyNCwwLjUsMC41UzExLjI3NiwxMiwxMSwxMkgxYy0wLjI3NiwwLTAuNS0wLjIyNC0wLjUtMC41UzAuNzI0LDExLDEsMTFIMTF6Ii8+DQo8cGF0aCBkaXNwbGF5PSJub25lIiBkPSJNMTAsMGMwLjI3NiwwLDAuNSwwLjIyNCwwLjUsMC41VjlsMC42LTAuNzk5YzAuMTQ3LTAuMTk3LDAuNDEyLTAuMjU0LDAuNjIzLTAuMTQ4TDExLjgsOC4xDQoJYzAuMTk2LDAuMTQ4LDAuMjU0LDAuNDEyLDAuMTQ3LDAuNjIzTDExLjksOC44MDFsLTEuNSwyYy0wLjE4LDAuMjQtMC41MjIsMC4yNjQtMC43MzQsMC4wNzJMOS42LDEwLjgwMWwtMS41LTINCglDNy45MzUsOC41OCw3Ljk3OSw4LjI2Niw4LjIsOC4xYzAuMTk2LTAuMTQ2LDAuNDY2LTAuMTI3LDAuNjQsMC4wMzNMOC45LDguMjAxTDkuNSw5VjAuNUM5LjUsMC4yMjQsOS43MjQsMCwxMCwweiIvPg0KPGc+DQoJPHBhdGggZD0iTTAuOSw5LjA3OGwyLjc0OS03LjE1N2gxLjAyMUw3LjYsOS4wNzhINi41MjFMNS42ODUsNi45MUgyLjY5MkwxLjkwNiw5LjA3OEgwLjl6IE0yLjk2NSw2LjEzOWgyLjQyN0w0LjY0NSw0LjE1OA0KCQlDNC40MTcsMy41NTYsNC4yNDgsMy4wNjEsNC4xMzcsMi42NzNjLTAuMDkxLDAuNDU5LTAuMjIsMC45MTUtMC4zODYsMS4zNjdMMi45NjUsNi4xMzl6Ii8+DQo8L2c+DQo8Zz4NCgk8cGF0aCBkPSJNOS42LDAuNTAxYzAuMjc2LDAsMC41LDAuMjI0LDAuNSwwLjV2Mi41bDAuNi0wLjhjMC4xNDctMC4xOTYsMC40MTItMC4yNTQsMC42MjMtMC4xNDdsMC4wNzcsMC4wNDcNCgkJYzAuMjIyLDAuMTY2LDAuMjY3LDAuNDc5LDAuMTAxLDAuN2wtMS41LDJjLTAuMiwwLjI2Ny0wLjYwMSwwLjI2Ny0wLjgwMSwwbC0xLjUtMkM3LjUzNCwzLjA4LDcuNTc5LDIuNzY3LDcuOCwyLjYwMQ0KCQlzMC41MzQtMC4xMjEsMC43LDAuMWwwLjYsMC44di0yLjVDOS4xLDAuNzI1LDkuMzIzLDAuNTAxLDkuNiwwLjUwMXoiLz4NCgk8cGF0aCBkPSJNOS42MDEsMTEuNzczYy0wLjI3NiwwLTAuNS0wLjIyNS0wLjUtMC41di0yLjVsLTAuNiwwLjc5OUM4LjM1NCw5Ljc3LDguMDg5LDkuODI2LDcuODc4LDkuNzIxTDcuODAxLDkuNjcyDQoJCUM3LjU3OSw5LjUwOCw3LjUzNCw5LjE5Myw3LjcsOC45NzNsMS41LTJjMC4yLTAuMjY2LDAuNjAxLTAuMjY2LDAuODAxLDBsMS41LDJjMC4xNjUsMC4yMjEsMC4xMiwwLjUzNS0wLjEwMSwwLjY5OQ0KCQljLTAuMjIxLDAuMTY2LTAuNTM0LDAuMTIxLTAuNy0wLjFsLTAuNi0wLjc5OXYyLjVDMTAuMTAxLDExLjU0OSw5Ljg3NywxMS43NzMsOS42MDEsMTEuNzczeiIvPg0KCTxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSI3LjcyNSIgeTE9IjYuMTQ3IiB4Mj0iMTEuNDc1IiB5Mj0iNi4xNDciLz4NCjwvZz4NCjwvc3ZnPg0K"

/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/assets/text-align-v-t.svg":
/*!*************************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/assets/text-align-v-t.svg ***!
  \*************************************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxMnB4Ig0KCSBoZWlnaHQ9IjEycHgiIHZpZXdCb3g9IjAgMCAxMiAxMiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTIgMTIiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGcgaWQ9IkxheWVyXzEiPg0KCTx0aXRsZT5hbGlnbi12LXQ8L3RpdGxlPg0KCTxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KCTxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9Im5vbmUiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIvPg0KCTxwYXRoIGQ9Ik0xMSwxYzAuMjc2LDAsMC41LTAuMjI0LDAuNS0wLjVTMTEuMjc2LDAsMTEsMEgxQzAuNzI0LDAsMC41LDAuMjI0LDAuNSwwLjVTMC43MjQsMSwxLDFIMTF6Ii8+DQoJPHBhdGggZD0iTTEwLDEyYzAuMjc2LDAsMC41LTAuMjIzLDAuNS0wLjVWM2wwLjYsMC44YzAuMTQ3LDAuMTk2LDAuNDEyLDAuMjU0LDAuNjIzLDAuMTQ3TDExLjgsMy45DQoJCWMwLjE5Ni0wLjE0NywwLjI1NC0wLjQxMSwwLjE0Ny0wLjYyM0wxMS45LDMuMmwtMS41LTJjLTAuMTgtMC4yNC0wLjUyMi0wLjI2NC0wLjczNC0wLjA3Mkw5LjYsMS4ybC0xLjUsMg0KCQlDNy45MzUsMy40MjEsNy45NzksMy43MzQsOC4yLDMuOWMwLjE5NiwwLjE0NywwLjQ2NiwwLjEyOCwwLjY0LTAuMDMzTDguOSwzLjhMOS41LDN2OC41QzkuNSwxMS43NzcsOS43MjQsMTIsMTAsMTJ6Ii8+DQo8L2c+DQo8ZyBpZD0iTGF5ZXJfMiI+DQoJPGc+DQoJCTxwYXRoIGQ9Ik0wLjksOS4wNzhsMi43NDktNy4xNTdoMS4wMjFsMi45MjksNy4xNTdINi41Mkw1LjY4NSw2LjkxSDIuNjkyTDEuOTA2LDkuMDc4SDAuOXogTTIuOTY1LDYuMTM5aDIuNDI3TDQuNjQ1LDQuMTU3DQoJCQlDNC40MTcsMy41NTUsNC4yNDgsMy4wNiw0LjEzNywyLjY3M0M0LjA0NiwzLjEzMiwzLjkxNywzLjU4NywzLjc1MSw0LjA0TDIuOTY1LDYuMTM5eiIvPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg0K"

/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/assets/text.svg":
/*!***************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/assets/text.svg ***!
  \***************************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgo8dGl0bGU+dGV4dDwvdGl0bGU+CjxwYXRoIGQ9Ik01LjAyMSAzMmgtNS4wMjFsMTQuMDE0LTMyaDQuMTA4bDEzLjg3NyAzMmgtNS4xMTNsLTMuMjg3LTcuODY0aC0xNS4zMzhsLTMuMjQxIDcuODY0ek05Ljg2IDIwLjIwM2gxMi4wOTdsLTYuMDI2LTE1LjAwNi02LjA3MSAxNS4wMDZ6Ij48L3BhdGg+Cjwvc3ZnPgo="

/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/assets/underline.svg":
/*!********************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/assets/underline.svg ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEyIDEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjx0aXRsZT5ib2xkPC90aXRsZT4NCjxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0ibm9uZSIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIi8+DQo8Zz4NCgk8cGF0aCBkPSJNMTAuNTUzLDEuNjAzYy0wLjEwOSwwLjAwNC0wLjI3LDAuMDI3LTAuNDgsMC4wN1M5LjY4OSwxLjc4MSw5LjU1NywxLjg2N2MtMC4xMzMsMC4wOS0wLjIyNSwwLjI3NS0wLjI3NSwwLjU1Nw0KCQlTOS4yMDUsMy4wNDgsOS4yMDUsMy40NTVWNy4wN2MwLDAuNDYxLTAuMDk2LDAuODYxLTAuMjg3LDEuMjAxUzguNDc1LDguODkxLDguMTYyLDkuMTA5QzcuODU0LDkuMzIsNy41MjcsOS40NzEsNy4xODgsOS41NjMNCgkJQzYuODQ0LDkuNjU0LDYuNTE3LDkuNzAxLDYuMjA0LDkuNzAxYy0wLjUsMC0wLjk0NS0wLjA2Ni0xLjMzNi0wLjE5N1M0LjE0OSw5LjE5NywzLjg4NCw4Ljk3NQ0KCQlDMy42MjIsOC43NTIsMy40MjUsOC40OTYsMy4yOTIsOC4yMDlDMy4xNiw3LjkyMiwzLjA5Myw3LjYyMywzLjA5Myw3LjMxMVYyLjM5NGMwLTAuMTM3LTAuMDIyLTAuMjUxLTAuMDY3LTAuMzQzDQoJCVMyLjg5LDEuODc1LDIuNzUzLDEuNzk2QzIuNjU2LDEuNzQyLDIuNTMxLDEuNjk4LDIuMzc4LDEuNjY1UzIuMTAxLDEuNjExLDIuMDAzLDEuNjAzVjEuMTg3aDMuNDYydjAuNDE2DQoJCUM1LjM1NiwxLjYwNyw1LjIxOSwxLjYyNSw1LjA1NCwxLjY1NkM0Ljg4NywxLjY4Nyw0Ljc2NSwxLjcxNiw0LjY4NywxLjc0NEM0LjU1NCwxLjc5MSw0LjQ2NSwxLjg2OSw0LjQyMSwxLjk3OA0KCQlDNC4zNzUsMi4wODcsNC4zNTMsMi4yMDYsNC4zNTMsMi4zMzV2NC41ODljMCwwLjIyMywwLjAyNCwwLjQ1NywwLjA3NCwwLjcwMWMwLjA0OCwwLjI0NCwwLjE0NSwwLjQ3MSwwLjI4OSwwLjY4Mg0KCQljMC4xNTIsMC4yMTUsMC4zNTksMC4zOTEsMC42MjEsMC41MjdzMC42MjEsMC4yMDUsMS4wNzgsMC4yMDVjMC40MzEsMCwwLjc5LTAuMDY4LDEuMDgzLTAuMjA1YzAuMjg5LTAuMTM3LDAuNTItMC4zMTYsMC42ODgtMC41MzkNCgkJYzAuMTYtMC4yMTEsMC4yNzMtMC40MzIsMC4zNC0wLjY2MnMwLjEtMC40NjMsMC4xLTAuNjk3VjMuNTI5YzAtMC40MzMtMC4wMzEtMC43ODgtMC4wOTQtMS4wNjMNCgkJQzguNDY5LDIuMTkxLDguMzc3LDIuMDExLDguMjU2LDEuOTI1QzguMTE5LDEuODI4LDcuOTMyLDEuNzUxLDcuNjk3LDEuNjk3QzcuNDU5LDEuNjQyLDcuMjc5LDEuNjExLDcuMTU0LDEuNjAzVjEuMTg3aDMuMzk4VjEuNjAzDQoJCXoiLz4NCgk8cGF0aCBkPSJNMS41NywxMC44NTd2LTAuNTkyaDkuMDc3djAuNTkySDEuNTd6Ii8+DQo8L2c+DQo8L3N2Zz4NCg=="

/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/components/BufferControls.tsx":
/*!*****************************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/components/BufferControls.tsx ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BufferControls: () => (/* binding */ BufferControls)
/* harmony export */ });
/* harmony import */ var _emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/react/jsx-runtime */ "@emotion/react/jsx-runtime");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ "jimu-ui/advanced/setting-components");
/* harmony import */ var esri_Graphic__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! esri/Graphic */ "esri/Graphic");
/* harmony import */ var esri_geometry_geometryEngineAsync__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! esri/geometry/geometryEngineAsync */ "esri/geometry/geometryEngineAsync");
/* harmony import */ var _arcgis_core_symbols_SimpleFillSymbol__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @arcgis/core/symbols/SimpleFillSymbol */ "esri/symbols/SimpleFillSymbol");
/* harmony import */ var _arcgis_core_symbols_SimpleLineSymbol__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @arcgis/core/symbols/SimpleLineSymbol */ "esri/symbols/SimpleLineSymbol");
/* harmony import */ var _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @arcgis/core/Color */ "@arcgis/core/Color");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};









const asExtended = (g) => g;
const BufferControls = ({ jimuMapView, sketchViewModel }) => {
    // OFF by default
    const [bufferEnabled, setBufferEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [bufferDistance, setBufferDistance] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(100);
    const [bufferUnit, setBufferUnit] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('feet');
    const [bufferOpacity, setBufferOpacity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(75);
    const geometryWatchers = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Map());
    // --- persistence ---
    const saveSettings = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((partial) => {
        try {
            const toSave = Object.assign({ enabled: bufferEnabled, distance: bufferDistance, unit: bufferUnit, opacity: bufferOpacity }, partial);
            localStorage.setItem('bufferControlSettings', JSON.stringify(toSave));
        }
        catch ( /* no-op */_a) { /* no-op */ }
    }, [bufferEnabled, bufferDistance, bufferUnit, bufferOpacity]);
    const loadSettings = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {
        try {
            const raw = localStorage.getItem('bufferControlSettings');
            if (!raw)
                return;
            const parsed = JSON.parse(raw);
            // Always start with buffers disabled, regardless of saved state
            // if (typeof parsed.enabled === 'boolean') setBufferEnabled(parsed.enabled); // REMOVED
            // Load other user preferences
            if (typeof parsed.distance === 'number')
                setBufferDistance(parsed.distance);
            if (typeof parsed.unit === 'string')
                setBufferUnit(parsed.unit);
            if (typeof parsed.opacity === 'number')
                setBufferOpacity(parsed.opacity);
        }
        catch ( /* no-op */_a) { /* no-op */ }
    }, []);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => { loadSettings(); }, [loadSettings]);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => { saveSettings(); }, [bufferEnabled, saveSettings]);
    // cleanup
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        return () => {
            geometryWatchers.current.forEach(w => { try {
                w.remove();
            }
            catch (_a) { } });
            geometryWatchers.current.clear();
        };
    }, []);
    // --- helpers ---
    const getDrawLayer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {
        const view = jimuMapView === null || jimuMapView === void 0 ? void 0 : jimuMapView.view;
        if (!view)
            return null;
        return view.map.findLayerById('DrawGL');
    }, [jimuMapView]);
    const colorToArray = (c) => {
        var _a, _b, _c, _d;
        if (!c)
            return [0, 0, 0, 1];
        if (Array.isArray(c))
            return c.length >= 3 ? c : [0, 0, 0, 1];
        if (typeof c === 'object') {
            // @ts-ignore
            if ('r' in c && 'g' in c && 'b' in c)
                return [(_a = c.r) !== null && _a !== void 0 ? _a : 0, (_b = c.g) !== null && _b !== void 0 ? _b : 0, (_c = c.b) !== null && _c !== void 0 ? _c : 0, (_d = c.a) !== null && _d !== void 0 ? _d : 1];
            // @ts-ignore
            if (typeof c.toRgba === 'function') {
                try {
                    return c.toRgba();
                }
                catch (_e) {
                    return [0, 0, 0, 1];
                }
            }
        }
        return [0, 0, 0, 1];
    };
    const getSelectedMainGraphics = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {
        var _a, _b, _c;
        const arr = (_c = (_b = (_a = sketchViewModel === null || sketchViewModel === void 0 ? void 0 : sketchViewModel.updateGraphics) === null || _a === void 0 ? void 0 : _a.toArray) === null || _b === void 0 ? void 0 : _b.call(_a)) !== null && _c !== void 0 ? _c : [];
        return arr.filter((g) => {
            var _a, _b;
            const a = g.attributes || {};
            if (a.isBuffer || a.isMeasurementLabel || a.hideFromList)
                return false;
            if (((_a = g.geometry) === null || _a === void 0 ? void 0 : _a.type) === 'point' && ((_b = g.symbol) === null || _b === void 0 ? void 0 : _b.type) === 'text' && a.isMeasurementLabel)
                return false;
            return true;
        });
    }, [sketchViewModel]);
    // --- geometry/symbol ---
    const createBufferGeometry = (geometry, distance, unit) => __awaiter(void 0, void 0, void 0, function* () {
        var _a, _b, _c;
        try {
            const view = jimuMapView === null || jimuMapView === void 0 ? void 0 : jimuMapView.view;
            if (!view)
                return null;
            const ge = yield esri_geometry_geometryEngineAsync__WEBPACK_IMPORTED_MODULE_5__["default"];
            const linearUnit = unit;
            const res = (((_a = view.spatialReference) === null || _a === void 0 ? void 0 : _a.isGeographic) || ((_b = view.spatialReference) === null || _b === void 0 ? void 0 : _b.isWebMercator))
                ? yield ge.geodesicBuffer(geometry, distance, linearUnit)
                : yield ge.buffer(geometry, distance, linearUnit, true);
            if (!res)
                return null;
            return Array.isArray(res) ? ((_c = res[0]) !== null && _c !== void 0 ? _c : null) : res;
        }
        catch (e) {
            console.error('Buffer geometry error', e);
            return null;
        }
    });
    const makeBufferSymbol = (parent) => {
        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;
        const op = (((_b = (_a = parent.bufferSettings) === null || _a === void 0 ? void 0 : _a.opacity) !== null && _b !== void 0 ? _b : bufferOpacity) / 100);
        const gType = (_c = parent.geometry) === null || _c === void 0 ? void 0 : _c.type;
        let fill = new _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_8__["default"]([0, 122, 194, 0.3 * op]);
        let out = new _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_8__["default"]([0, 122, 194, 1.0 * op]);
        let width = 2.5;
        try {
            if (gType === 'polygon' && ((_d = parent.symbol) === null || _d === void 0 ? void 0 : _d.type) === 'simple-fill') {
                const s = parent.symbol;
                const fc = colorToArray(s.color);
                fill = new _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_8__["default"]([fc[0], fc[1], fc[2], ((_e = fc[3]) !== null && _e !== void 0 ? _e : 1) * op]);
                if ((_f = s.outline) === null || _f === void 0 ? void 0 : _f.color) {
                    const oc = colorToArray(s.outline.color);
                    out = new _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_8__["default"]([oc[0], oc[1], oc[2], ((_g = oc[3]) !== null && _g !== void 0 ? _g : 1) * op]);
                }
                if ((_h = s.outline) === null || _h === void 0 ? void 0 : _h.width)
                    width = Math.max(s.outline.width * 1.2, 2.0);
            }
            else if (gType === 'polyline' && ((_j = parent.symbol) === null || _j === void 0 ? void 0 : _j.type) === 'simple-line') {
                const l = parent.symbol;
                const lc = colorToArray(l.color);
                fill = new _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_8__["default"]([lc[0], lc[1], lc[2], ((_k = lc[3]) !== null && _k !== void 0 ? _k : 1) * 0.6 * op]);
                out = new _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_8__["default"]([lc[0], lc[1], lc[2], ((_l = lc[3]) !== null && _l !== void 0 ? _l : 1) * op]);
                if (l.width)
                    width = Math.max(l.width * 1.2, 2.0);
            }
            else if (gType === 'point' && ((_m = parent.symbol) === null || _m === void 0 ? void 0 : _m.type) === 'simple-marker') {
                const m = parent.symbol;
                const mc = colorToArray(m.color);
                fill = new _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_8__["default"]([mc[0], mc[1], mc[2], ((_o = mc[3]) !== null && _o !== void 0 ? _o : 1) * 0.6 * op]);
                out = new _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_8__["default"]([mc[0], mc[1], mc[2], ((_p = mc[3]) !== null && _p !== void 0 ? _p : 1) * op]);
                if ((_q = m.outline) === null || _q === void 0 ? void 0 : _q.width)
                    width = Math.max(m.outline.width * 1.2, 2.5);
            }
        }
        catch ( /* defaults */_r) { /* defaults */ }
        return new _arcgis_core_symbols_SimpleFillSymbol__WEBPACK_IMPORTED_MODULE_6__["default"]({
            color: fill,
            outline: new _arcgis_core_symbols_SimpleLineSymbol__WEBPACK_IMPORTED_MODULE_7__["default"]({ color: out, width, style: 'dash' })
        });
    };
    const ensureWatcher = (parent) => {
        var _a;
        const id = (_a = parent.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId;
        if (!id)
            return;
        const existing = geometryWatchers.current.get(id);
        if (existing) {
            try {
                existing.remove();
            }
            catch (_b) { }
        }
        const h = parent.watch('geometry', () => updateAttachedBuffer(parent));
        geometryWatchers.current.set(id, h);
    };
    const updateAttachedBuffer = (parent) => __awaiter(void 0, void 0, void 0, function* () {
        const layer = getDrawLayer();
        if (!layer || !parent.bufferGraphic || !parent.bufferSettings)
            return;
        try {
            const geom = yield createBufferGeometry(parent.geometry, parent.bufferSettings.distance, parent.bufferSettings.unit);
            if (!geom)
                return;
            const buf = parent.bufferGraphic;
            layer.remove(buf);
            buf.geometry = geom;
            buf.symbol = makeBufferSymbol(parent);
            const idx = layer.graphics.indexOf(parent);
            if (idx >= 0)
                layer.graphics.add(buf, idx);
            else
                layer.add(buf);
        }
        catch (e) {
            console.error('Update buffer error', e);
        }
    });
    const createOrUpdateBufferFor = (parent, distance, unit) => __awaiter(void 0, void 0, void 0, function* () {
        var _a, _b, _c, _d;
        const layer = getDrawLayer();
        if (!layer)
            return;
        const id = (_a = parent.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId;
        if (!id)
            return;
        const a = parent.attributes || {};
        if (a.isBuffer || a.isMeasurementLabel || a.hideFromList)
            return;
        if (((_b = parent.geometry) === null || _b === void 0 ? void 0 : _b.type) === 'point' && ((_c = parent.symbol) === null || _c === void 0 ? void 0 : _c.type) === 'text')
            return;
        if (parent.bufferGraphic) {
            try {
                layer.remove(parent.bufferGraphic);
            }
            catch (_e) { }
            parent.bufferGraphic = null;
        }
        const geom = yield createBufferGeometry(parent.geometry, distance, unit);
        if (!geom)
            return;
        parent.bufferSettings = { distance, unit, enabled: true, opacity: bufferOpacity };
        const buf = new esri_Graphic__WEBPACK_IMPORTED_MODULE_4__["default"]({
            geometry: geom,
            symbol: makeBufferSymbol(parent),
            attributes: {
                uniqueId: `buffer_${id}_${Date.now()}`,
                name: `${(_d = a.name) !== null && _d !== void 0 ? _d : 'Drawing'} Buffer`,
                parentId: id,
                isBuffer: true,
                hideFromList: true,
                isMeasurementLabel: false,
                bufferDistance: distance,
                bufferUnit: unit
            }
        });
        buf.isBufferDrawing = true;
        buf.sourceGraphicId = id;
        parent.bufferGraphic = buf;
        const idx = layer.graphics.indexOf(parent);
        if (idx >= 0)
            layer.graphics.add(buf, idx);
        else
            layer.add(buf);
        ensureWatcher(parent);
        window.dispatchEvent(new CustomEvent('saveDrawingsToStorage', { detail: { ts: Date.now() } }));
    });
    const removeBufferFor = (parent) => {
        var _a;
        const layer = getDrawLayer();
        if (!layer)
            return;
        const id = (_a = parent.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId;
        if (!id)
            return;
        if (parent.bufferGraphic) {
            try {
                layer.remove(parent.bufferGraphic);
            }
            catch (_b) { }
            parent.bufferGraphic = null;
        }
        parent.bufferSettings = null;
        const w = geometryWatchers.current.get(id);
        if (w) {
            try {
                w.remove();
            }
            catch (_c) { }
            geometryWatchers.current.delete(id);
        }
    };
    const triggerSave = () => {
        window.dispatchEvent(new CustomEvent('saveDrawingsToStorage', { detail: { ts: Date.now() } }));
    };
    // auto-create buffer on new drawings when enabled
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        if (!sketchViewModel)
            return;
        const handle = sketchViewModel.on('create', (evt) => {
            if ((evt === null || evt === void 0 ? void 0 : evt.state) === 'complete' && bufferEnabled) {
                const g = asExtended(evt.graphic);
                if (g === null || g === void 0 ? void 0 : g.geometry) {
                    setTimeout(() => __awaiter(void 0, void 0, void 0, function* () {
                        try {
                            yield createOrUpdateBufferFor(g, bufferDistance, bufferUnit);
                            triggerSave();
                        }
                        catch (e) {
                            console.error('Auto buffer on create failed', e);
                        }
                    }), 100);
                }
            }
        });
        return () => { try {
            handle.remove();
        }
        catch (_a) { } };
    }, [sketchViewModel, bufferEnabled, bufferDistance, bufferUnit]);
    // --- button handlers (selected only) ---
    const handleUpdateBuffer = () => __awaiter(void 0, void 0, void 0, function* () {
        if (!bufferEnabled)
            return;
        const selected = getSelectedMainGraphics();
        for (const g of selected) {
            if (!g.bufferGraphic)
                yield createOrUpdateBufferFor(g, bufferDistance, bufferUnit);
            else {
                if (g.bufferSettings) {
                    g.bufferSettings.distance = bufferDistance;
                    g.bufferSettings.unit = bufferUnit;
                }
                yield updateAttachedBuffer(g);
            }
        }
        saveSettings({ distance: bufferDistance, unit: bufferUnit });
    });
    const handleUpdateOpacity = () => {
        if (!bufferEnabled)
            return;
        const selected = getSelectedMainGraphics();
        selected.forEach(g => {
            if (g.bufferSettings && g.bufferGraphic) {
                g.bufferSettings.opacity = bufferOpacity;
                g.bufferGraphic.symbol = makeBufferSymbol(g);
            }
        });
        saveSettings({ opacity: bufferOpacity });
        triggerSave();
    };
    const handleRemoveBuffer = () => {
        const selected = getSelectedMainGraphics();
        selected.forEach(g => removeBufferFor(g));
        triggerSave();
    };
    // --- UI ---
    return ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'drawToolbarDiv', children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__.CollapsableCheckbox, { className: 'w-100', label: 'Enable Buffer', checked: bufferEnabled, onCheckedChange: (val) => setBufferEnabled(val), disableActionForUnchecked: true, openForCheck: true, closeForUncheck: true, children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'ml-3 my-1', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'd-flex align-items-center mb-2', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: 'mr-2 mb-0 d-flex align-items-center', children: "Distance:" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.NumericInput, { size: 'sm', value: bufferDistance, onChange: (v) => { setBufferDistance(v); saveSettings({ distance: v }); }, className: 'mr-2', style: { width: '80px' }, min: 0.1, step: 0.1 }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Select, { size: 'sm', value: bufferUnit, onChange: (e) => { const u = e.target.value; setBufferUnit(u); saveSettings({ unit: u }); }, style: { width: '110px' }, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Option, { value: 'feet', children: "Feet" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Option, { value: 'meters', children: "Meters" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Option, { value: 'miles', children: "Miles" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Option, { value: 'kilometers', children: "Kilometers" })] })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'd-flex align-items-center mb-2', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: 'mr-2 mb-0 d-flex align-items-center', children: "Opacity:" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.NumericInput, { size: 'sm', value: bufferOpacity, onChange: (v) => { setBufferOpacity(v); saveSettings({ opacity: v }); }, className: 'mr-2', style: { width: '80px' }, min: 1, max: 100, step: 1 }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: 'text-muted', children: "%" })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'd-flex gap-2 mt-1', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: 'sm', onClick: handleUpdateBuffer, className: 'flex-fill', style: { minWidth: 0 }, title: 'Update buffer geometry for selected graphics', children: "Update Buffer" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: 'sm', onClick: handleUpdateOpacity, className: 'flex-fill', style: { minWidth: 0 }, title: 'Update buffer opacity for selected graphics', children: "Update Graphic" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: 'sm', onClick: handleRemoveBuffer, className: 'flex-fill', style: { minWidth: 0 }, title: 'Remove buffers from selected graphics', children: "Remove Buffer" })] })] }) }) }));
};


/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/components/MyDrawingsPanel.tsx":
/*!******************************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/components/MyDrawingsPanel.tsx ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MyDrawingsPanel: () => (/* binding */ MyDrawingsPanel),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/react/jsx-runtime */ "@emotion/react/jsx-runtime");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui/advanced/map */ "jimu-ui/advanced/map");
/* harmony import */ var esri_Graphic__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! esri/Graphic */ "esri/Graphic");
/* harmony import */ var esri_widgets_Sketch_SketchViewModel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! esri/widgets/Sketch/SketchViewModel */ "esri/widgets/Sketch/SketchViewModel");
/* harmony import */ var esri_symbols_SimpleMarkerSymbol__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! esri/symbols/SimpleMarkerSymbol */ "esri/symbols/SimpleMarkerSymbol");
/* harmony import */ var esri_symbols_SimpleLineSymbol__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! esri/symbols/SimpleLineSymbol */ "esri/symbols/SimpleLineSymbol");
/* harmony import */ var esri_symbols_SimpleFillSymbol__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! esri/symbols/SimpleFillSymbol */ "esri/symbols/SimpleFillSymbol");
/* harmony import */ var esri_symbols_TextSymbol__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! esri/symbols/TextSymbol */ "esri/symbols/TextSymbol");
/* harmony import */ var esri_Color__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! esri/Color */ "@arcgis/core/Color");
/* harmony import */ var esri_symbols_Font__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! esri/symbols/Font */ "esri/symbols/Font");
/* harmony import */ var esri_geometry_geometryEngineAsync__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! esri/geometry/geometryEngineAsync */ "esri/geometry/geometryEngineAsync");
/* harmony import */ var esri_geometry_Point__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! esri/geometry/Point */ "esri/geometry/Point");
/* harmony import */ var _TextStyleEditor__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./TextStyleEditor */ "./your-extensions/widgets/draw-advanced/src/runtime/components/TextStyleEditor.tsx");
/* harmony import */ var esri_geometry_projection__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! esri/geometry/projection */ "esri/geometry/projection");
/* harmony import */ var esri_geometry_SpatialReference__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! esri/geometry/SpatialReference */ "esri/geometry/SpatialReference");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};


















const asExtendedGraphic = (graphic) => {
    return graphic;
};
class MyDrawingsPanel extends react__WEBPACK_IMPORTED_MODULE_1__["default"].PureComponent {
    constructor(props) {
        super(props);
        this.sketchViewModel = null;
        this.isDeletingGraphics = false;
        this.ignoreNextGraphicsUpdate = false;
        this.internalSketchVM = true; // Track if we're using our own SketchVM or parent's
        this.measurementStylesInitialized = false;
        this._mapClickSyncEnabled = true;
        this._drawingMap = new Map();
        this._cleanMeasurementLabelsHandler = null;
        this._measurementStyleWatcher = null;
        this._positionWatchers = {};
        this._savePositionTimeout = null;
        this._loadChoiceMadeThisSession = false;
        this._afterRefreshDrawings = null;
        this._graphicsWatchHandles = [];
        this._goToController = null;
        this._measurementWasEnabled = false;
        this._originalQuality = 'high';
        this._isInteracting = false;
        this.processedMeasurementGraphics = new Set();
        this.projectGeometryToWGS84 = (geometry) => __awaiter(this, void 0, void 0, function* () {
            try {
                // Ensure projection module is loaded
                yield esri_geometry_projection__WEBPACK_IMPORTED_MODULE_15__.load();
                // Target WGS84 spatial reference
                const wgs84SR = new esri_geometry_SpatialReference__WEBPACK_IMPORTED_MODULE_16__["default"]({ wkid: 4326 });
                // If already in WGS84, return as-is
                if (geometry.spatialReference && geometry.spatialReference.wkid === 4326) {
                    return geometry;
                }
                // Project the geometry to WGS84 with proper type casting
                const projectedGeometry = esri_geometry_projection__WEBPACK_IMPORTED_MODULE_15__.project(geometry, wgs84SR);
                return projectedGeometry;
            }
            catch (error) {
                console.error('Error projecting geometry to WGS84:', error);
                return null;
            }
        });
        this.convertGeometryToWGS84 = (geometry) => {
            const mapSR = geometry.spatialReference;
            if (!mapSR) {
                console.warn('No spatial reference found, assuming WGS84');
                return geometry;
            }
            // If already WGS84, return as-is
            if (mapSR.wkid === 4326) {
                return geometry;
            }
            try {
                switch (geometry.type) {
                    case 'point':
                        const point = geometry;
                        const convertedCoords = this.convertCoordinateManually(point.x, point.y, mapSR.wkid);
                        return {
                            type: 'point',
                            x: convertedCoords.lon,
                            y: convertedCoords.lat,
                            longitude: convertedCoords.lon,
                            latitude: convertedCoords.lat,
                            spatialReference: { wkid: 4326 }
                        };
                    case 'polyline':
                        const polyline = geometry;
                        const convertedPaths = polyline.paths.map(path => path.map(coord => {
                            const converted = this.convertCoordinateManually(coord[0], coord[1], mapSR.wkid);
                            return [converted.lon, converted.lat];
                        }));
                        return {
                            type: 'polyline',
                            paths: convertedPaths,
                            spatialReference: { wkid: 4326 }
                        };
                    case 'polygon':
                        const polygon = geometry;
                        const convertedRings = polygon.rings.map(ring => ring.map(coord => {
                            const converted = this.convertCoordinateManually(coord[0], coord[1], mapSR.wkid);
                            return [converted.lon, converted.lat];
                        }));
                        return {
                            type: 'polygon',
                            rings: convertedRings,
                            spatialReference: { wkid: 4326 }
                        };
                    case 'extent':
                        const extent = geometry;
                        const sw = this.convertCoordinateManually(extent.xmin, extent.ymin, mapSR.wkid);
                        const ne = this.convertCoordinateManually(extent.xmax, extent.ymax, mapSR.wkid);
                        return {
                            type: 'extent',
                            xmin: sw.lon,
                            ymin: sw.lat,
                            xmax: ne.lon,
                            ymax: ne.lat,
                            spatialReference: { wkid: 4326 }
                        };
                    default:
                        console.warn(`Cannot convert geometry type: ${geometry.type}`);
                        return null;
                }
            }
            catch (error) {
                console.error('Error in geometry conversion:', error);
                return null;
            }
        };
        // Enhanced manual coordinate conversion with better State Plane support
        this.convertCoordinateManually = (x, y, wkid) => {
            //console.log(`Converting coordinates: ${x}, ${y} from WKID: ${wkid}`);
            // Web Mercator
            if (wkid === 3857 || wkid === 102100) {
                const lon = (x / 20037508.34) * 180;
                const lat = (Math.atan(Math.exp((y / 20037508.34) * Math.PI)) * 360 / Math.PI) - 90;
                return { lon, lat };
            }
            // UTM zones
            if (wkid >= 32601 && wkid <= 32660) {
                // UTM North
                const zone = wkid - 32600;
                const centralMeridian = (zone - 1) * 6 - 180 + 3;
                const roughLon = centralMeridian + (x - 500000) / 111320;
                const roughLat = y / 110540;
                return {
                    lon: Math.max(-180, Math.min(180, roughLon)),
                    lat: Math.max(-90, Math.min(90, roughLat))
                };
            }
            if (wkid >= 32701 && wkid <= 32760) {
                // UTM South
                const zone = wkid - 32700;
                const centralMeridian = (zone - 1) * 6 - 180 + 3;
                const roughLon = centralMeridian + (x - 500000) / 111320;
                const roughLat = (y - 10000000) / 110540;
                return {
                    lon: Math.max(-180, Math.min(180, roughLon)),
                    lat: Math.max(-90, Math.min(90, roughLat))
                };
            }
            // State Plane Coordinate Systems (rough approximations based on WKID ranges)
            // These are approximate conversions - for production use, proper projection libraries would be better
            // State Plane zones typically have large coordinate values
            if (wkid >= 2001 && wkid <= 5000) {
                // Most State Plane coordinate systems
                let scale = 1;
                let offsetX = 0;
                let offsetY = 0;
                // Determine if coordinates are in feet or meters based on magnitude
                const isFeet = Math.abs(x) > 1000000 || Math.abs(y) > 1000000;
                if (isFeet) {
                    // Convert feet to meters first
                    scale = 0.3048;
                }
                // Very rough conversion - this is not geodetically accurate
                // but provides a starting point for State Plane coordinates
                const meterX = x * scale;
                const meterY = y * scale;
                // Rough approximation: assume coordinates are relative to a central point
                // This is highly approximate and location-dependent
                let roughLon = meterX / 111320; // meters per degree longitude at equator
                let roughLat = meterY / 110540; // meters per degree latitude
                // Try to determine approximate region based on WKID
                if (wkid >= 2001 && wkid <= 2099) {
                    // NAD83 State Plane zones - generally US
                    roughLon += -98; // Rough center longitude of US
                    roughLat += 39; // Rough center latitude of US
                }
                else if (wkid >= 3001 && wkid <= 3999) {
                    // Other State Plane systems
                    roughLon += -100;
                    roughLat += 40;
                }
                return {
                    lon: Math.max(-180, Math.min(180, roughLon)),
                    lat: Math.max(-90, Math.min(90, roughLat))
                };
            }
            // If coordinates look like they might already be geographic
            if (Math.abs(x) <= 180 && Math.abs(y) <= 90) {
                return { lon: x, lat: y };
            }
            // Last resort: scale down large coordinates
            const scaleFactor = Math.max(Math.abs(x), Math.abs(y)) > 1000000 ? 0.000001 : 0.001;
            return {
                lon: Math.max(-180, Math.min(180, x * scaleFactor)),
                lat: Math.max(-90, Math.min(90, y * scaleFactor))
            };
        };
        this.projectGeometryToWGS84Alternative = (geometry) => __awaiter(this, void 0, void 0, function* () {
            try {
                // Target WGS84 spatial reference
                const wgs84SR = new esri_geometry_SpatialReference__WEBPACK_IMPORTED_MODULE_16__["default"]({ wkid: 4326 });
                // If already in WGS84, return as-is
                if (geometry.spatialReference && geometry.spatialReference.wkid === 4326) {
                    return geometry;
                }
                // Try to load and use projection module
                try {
                    yield esri_geometry_projection__WEBPACK_IMPORTED_MODULE_15__.load();
                    const projectedGeometry = esri_geometry_projection__WEBPACK_IMPORTED_MODULE_15__.project(geometry, wgs84SR);
                    return projectedGeometry;
                }
                catch (projectionError) {
                    console.warn('Projection module failed, using manual conversion');
                    return this.manualProjectionFallback(geometry);
                }
            }
            catch (error) {
                console.error('Error projecting geometry to WGS84:', error);
                return this.manualProjectionFallback(geometry);
            }
        });
        // Manual projection fallback for common coordinate systems
        this.manualProjectionFallback = (geometry) => {
            const mapSR = geometry.spatialReference;
            if (!mapSR) {
                console.warn('No spatial reference found, assuming WGS84');
                return geometry;
            }
            try {
                switch (geometry.type) {
                    case 'point':
                        const point = geometry;
                        const convertedCoords = this.convertCoordinateManually(point.x, point.y, mapSR.wkid);
                        return new esri_geometry_Point__WEBPACK_IMPORTED_MODULE_13__["default"]({
                            longitude: convertedCoords.lon,
                            latitude: convertedCoords.lat,
                            spatialReference: { wkid: 4326 }
                        });
                    case 'polyline':
                        const polyline = geometry;
                        const convertedPaths = polyline.paths.map(path => path.map(coord => {
                            const converted = this.convertCoordinateManually(coord[0], coord[1], mapSR.wkid);
                            return [converted.lon, converted.lat];
                        }));
                        return {
                            type: 'polyline',
                            paths: convertedPaths,
                            spatialReference: { wkid: 4326 }
                        };
                    case 'polygon':
                        const polygon = geometry;
                        const convertedRings = polygon.rings.map(ring => ring.map(coord => {
                            const converted = this.convertCoordinateManually(coord[0], coord[1], mapSR.wkid);
                            return [converted.lon, converted.lat];
                        }));
                        return {
                            type: 'polygon',
                            rings: convertedRings,
                            spatialReference: { wkid: 4326 }
                        };
                    case 'extent':
                        const extent = geometry;
                        const sw = this.convertCoordinateManually(extent.xmin, extent.ymin, mapSR.wkid);
                        const ne = this.convertCoordinateManually(extent.xmax, extent.ymax, mapSR.wkid);
                        return {
                            type: 'extent',
                            xmin: sw.lon,
                            ymin: sw.lat,
                            xmax: ne.lon,
                            ymax: ne.lat,
                            spatialReference: { wkid: 4326 }
                        };
                    default:
                        console.warn(`Cannot manually convert geometry type: ${geometry.type}`);
                        return null;
                }
            }
            catch (error) {
                console.error('Error in manual projection fallback:', error);
                return null;
            }
        };
        // Use the alternative projection method in your convertToStandardGeoJSON
        this.convertToStandardGeoJSON = (geometry) => __awaiter(this, void 0, void 0, function* () {
            if (!geometry) {
                console.warn('No geometry provided');
                return null;
            }
            // console.log('Converting geometry:', {
            //   type: geometry.type,
            //   spatialReference: geometry.spatialReference?.wkid
            // });
            try {
                // Use the existing projection method
                const wgs84Geometry = yield this.projectGeometryToWGS84Alternative(geometry);
                if (!wgs84Geometry) {
                    console.warn('Failed to convert geometry to WGS84');
                    return null;
                }
                // Now convert to GeoJSON
                switch (wgs84Geometry.type) {
                    case 'point':
                        const point = wgs84Geometry;
                        const lon = point.longitude || point.x;
                        const lat = point.latitude || point.y;
                        //console.log(`Point converted to: ${lon}, ${lat}`);
                        if (!this.isValidCoordinate(lon, lat)) {
                            console.warn(`Invalid point coordinates: ${lon}, ${lat}`);
                            return null;
                        }
                        return {
                            type: 'Point',
                            coordinates: [Number(lon.toFixed(8)), Number(lat.toFixed(8))]
                        };
                    case 'polyline':
                        const polyline = wgs84Geometry;
                        const paths = [];
                        for (const path of polyline.paths) {
                            const convertedPath = [];
                            for (const coord of path) {
                                const lon = coord[0];
                                const lat = coord[1];
                                if (this.isValidCoordinate(lon, lat)) {
                                    convertedPath.push([Number(lon.toFixed(8)), Number(lat.toFixed(8))]);
                                }
                            }
                            if (convertedPath.length > 1) {
                                paths.push(convertedPath);
                            }
                        }
                        if (paths.length === 0)
                            return null;
                        return {
                            type: paths.length === 1 ? 'LineString' : 'MultiLineString',
                            coordinates: paths.length === 1 ? paths[0] : paths
                        };
                    case 'polygon':
                        const polygon = wgs84Geometry;
                        const rings = [];
                        for (const ring of polygon.rings) {
                            const convertedRing = [];
                            for (const coord of ring) {
                                const lon = coord[0];
                                const lat = coord[1];
                                if (this.isValidCoordinate(lon, lat)) {
                                    convertedRing.push([Number(lon.toFixed(8)), Number(lat.toFixed(8))]);
                                }
                            }
                            if (convertedRing.length > 3) {
                                const first = convertedRing[0];
                                const last = convertedRing[convertedRing.length - 1];
                                if (first[0] !== last[0] || first[1] !== last[1]) {
                                    convertedRing.push([first[0], first[1]]);
                                }
                                rings.push(convertedRing);
                            }
                        }
                        //console.log(`Polygon converted with ${rings.length} rings`);
                        if (rings.length === 0)
                            return null;
                        return {
                            type: 'Polygon',
                            coordinates: rings
                        };
                    case 'extent':
                        const extent = wgs84Geometry;
                        return {
                            type: 'Polygon',
                            coordinates: [[
                                    [Number(extent.xmin.toFixed(8)), Number(extent.ymin.toFixed(8))],
                                    [Number(extent.xmax.toFixed(8)), Number(extent.ymin.toFixed(8))],
                                    [Number(extent.xmax.toFixed(8)), Number(extent.ymax.toFixed(8))],
                                    [Number(extent.xmin.toFixed(8)), Number(extent.ymax.toFixed(8))],
                                    [Number(extent.xmin.toFixed(8)), Number(extent.ymin.toFixed(8))]
                                ]]
                        };
                    default:
                        console.warn(`Unsupported geometry type: ${wgs84Geometry.type}`);
                        return null;
                }
            }
            catch (error) {
                console.error('Error converting geometry:', error);
                return null;
            }
        });
        this.manualProjectionFallbackEnhanced = (geometry) => {
            const mapSR = geometry.spatialReference;
            if (!mapSR) {
                console.warn('No spatial reference found, assuming WGS84');
                return geometry;
            }
            //console.log(`Enhanced manual conversion from WKID: ${mapSR.wkid}`);
            try {
                switch (geometry.type) {
                    case 'point':
                        const point = geometry;
                        const convertedCoords = this.convertCoordinateManuallyEnhanced(point.x, point.y, mapSR.wkid);
                        return new esri_geometry_Point__WEBPACK_IMPORTED_MODULE_13__["default"]({
                            longitude: convertedCoords.lon,
                            latitude: convertedCoords.lat,
                            spatialReference: { wkid: 4326 }
                        });
                    case 'polyline':
                        const polyline = geometry;
                        const convertedPaths = polyline.paths.map(path => path.map(coord => {
                            const converted = this.convertCoordinateManuallyEnhanced(coord[0], coord[1], mapSR.wkid);
                            return [converted.lon, converted.lat];
                        }));
                        return {
                            type: 'polyline',
                            paths: convertedPaths,
                            spatialReference: { wkid: 4326 }
                        };
                    case 'polygon':
                        const polygon = geometry;
                        const convertedRings = polygon.rings.map(ring => ring.map(coord => {
                            const converted = this.convertCoordinateManuallyEnhanced(coord[0], coord[1], mapSR.wkid);
                            return [converted.lon, converted.lat];
                        }));
                        return {
                            type: 'polygon',
                            rings: convertedRings,
                            spatialReference: { wkid: 4326 }
                        };
                    case 'extent':
                        const extent = geometry;
                        const sw = this.convertCoordinateManuallyEnhanced(extent.xmin, extent.ymin, mapSR.wkid);
                        const ne = this.convertCoordinateManuallyEnhanced(extent.xmax, extent.ymax, mapSR.wkid);
                        return {
                            type: 'extent',
                            xmin: sw.lon,
                            ymin: sw.lat,
                            xmax: ne.lon,
                            ymax: ne.lat,
                            spatialReference: { wkid: 4326 }
                        };
                    default:
                        console.warn(`Cannot manually convert geometry type: ${geometry.type}`);
                        return null;
                }
            }
            catch (error) {
                console.error('Error in enhanced manual projection fallback:', error);
                return null;
            }
        };
        this.convertCoordinateManuallyEnhanced = (x, y, wkid) => {
            //console.log(`Converting coordinates: ${x}, ${y} from WKID: ${wkid}`);
            // Web Mercator (most common)
            if (wkid === 3857 || wkid === 102100) {
                const lon = (x / 20037508.34) * 180;
                const lat = (Math.atan(Math.exp((y / 20037508.34) * Math.PI)) * 360 / Math.PI) - 90;
                return {
                    lon: Math.max(-180, Math.min(180, lon)),
                    lat: Math.max(-90, Math.min(90, lat))
                };
            }
            // UTM zones (Northern Hemisphere)
            if (wkid >= 32601 && wkid <= 32660) {
                const zone = wkid - 32600;
                const centralMeridian = (zone - 1) * 6 - 180 + 3;
                // More accurate UTM to Geographic conversion
                const k0 = 0.9996; // UTM scale factor
                const e = 0.00669438; // Earth's eccentricity squared
                const e1sq = e / (1 - e);
                const a = 6378137; // Earth's radius in meters
                const x1 = x - 500000; // Remove false easting
                const y1 = y; // Keep northing as-is for northern hemisphere
                // Rough conversion (simplified)
                const roughLat = y1 / 110540; // meters per degree latitude
                const roughLon = centralMeridian + (x1 / (111320 * Math.cos(roughLat * Math.PI / 180)));
                return {
                    lon: Math.max(-180, Math.min(180, roughLon)),
                    lat: Math.max(-90, Math.min(90, roughLat))
                };
            }
            // UTM zones (Southern Hemisphere)
            if (wkid >= 32701 && wkid <= 32760) {
                const zone = wkid - 32700;
                const centralMeridian = (zone - 1) * 6 - 180 + 3;
                const x1 = x - 500000; // Remove false easting
                const y1 = y - 10000000; // Remove false northing for southern hemisphere
                const roughLat = y1 / 110540; // meters per degree latitude
                const roughLon = centralMeridian + (x1 / (111320 * Math.cos(Math.abs(roughLat) * Math.PI / 180)));
                return {
                    lon: Math.max(-180, Math.min(180, roughLon)),
                    lat: Math.max(-90, Math.min(90, roughLat))
                };
            }
            // State Plane Coordinate Systems - Enhanced with more specific conversions
            if (wkid >= 2001 && wkid <= 5000) {
                let scale = 1;
                let centerLon = -98; // Default US center longitude
                let centerLat = 39; // Default US center latitude
                // Better detection of units (feet vs meters)
                const isFeet = Math.abs(x) > 1000000 || Math.abs(y) > 1000000;
                if (isFeet) {
                    scale = 0.3048; // Convert feet to meters
                }
                // Regional adjustments based on WKID ranges
                if (wkid >= 2001 && wkid <= 2099) {
                    // NAD83 State Plane zones
                    if (wkid >= 2001 && wkid <= 2020) {
                        // Eastern US states
                        centerLon = -77;
                        centerLat = 40;
                    }
                    else if (wkid >= 2021 && wkid <= 2050) {
                        // Central US states
                        centerLon = -95;
                        centerLat = 35;
                    }
                    else if (wkid >= 2051 && wkid <= 2099) {
                        // Western US states
                        centerLon = -115;
                        centerLat = 37;
                    }
                }
                // More accurate State Plane conversion
                const meterX = x * scale;
                const meterY = y * scale;
                // Improved conversion accounting for Earth's curvature
                const latRadians = centerLat * Math.PI / 180;
                const metersPerDegreeLon = 111320 * Math.cos(latRadians);
                const deltaLon = meterX / metersPerDegreeLon;
                const deltaLat = meterY / 110540;
                const finalLon = centerLon + deltaLon;
                const finalLat = centerLat + deltaLat;
                return {
                    lon: Math.max(-180, Math.min(180, finalLon)),
                    lat: Math.max(-90, Math.min(90, finalLat))
                };
            }
            // Additional common coordinate systems
            // British National Grid (EPSG:27700)
            if (wkid === 27700) {
                // Rough conversion for British National Grid
                // This is a very approximate conversion - for production use a proper transformation library
                const centerLon = -2; // Approximate center of UK
                const centerLat = 54;
                const deltaLon = (x - 400000) / 70000; // Very rough approximation
                const deltaLat = (y - 100000) / 110000;
                return {
                    lon: Math.max(-180, Math.min(180, centerLon + deltaLon)),
                    lat: Math.max(-90, Math.min(90, centerLat + deltaLat))
                };
            }
            // If coordinates already look like geographic coordinates
            if (Math.abs(x) <= 180 && Math.abs(y) <= 90) {
                return { lon: x, lat: y };
            }
            // Last resort: intelligent scaling based on coordinate magnitude
            let scaleFactor = 1;
            const maxCoord = Math.max(Math.abs(x), Math.abs(y));
            if (maxCoord > 10000000) {
                scaleFactor = 0.0000001; // Very large coordinates
            }
            else if (maxCoord > 1000000) {
                scaleFactor = 0.000001; // Large coordinates (likely state plane feet)
            }
            else if (maxCoord > 100000) {
                scaleFactor = 0.00001; // Medium coordinates
            }
            else if (maxCoord > 10000) {
                scaleFactor = 0.001; // Smaller coordinates
            }
            const scaledLon = x * scaleFactor;
            const scaledLat = y * scaleFactor;
            // Apply regional offset if coordinates are too far from expected geographic ranges
            let finalLon = scaledLon;
            let finalLat = scaledLat;
            // If scaled coordinates are still way off, try to guess the region
            if (Math.abs(finalLon) > 180 || Math.abs(finalLat) > 90) {
                // Very rough regional guessing based on original coordinate magnitude and sign
                if (x > 0 && y > 0 && maxCoord > 100000) {
                    // Likely Eastern hemisphere, northern region
                    finalLon = -100 + (scaledLon % 60);
                    finalLat = 40 + (scaledLat % 30);
                }
                else if (x < 0 && y > 0 && maxCoord > 100000) {
                    // Likely Western hemisphere, northern region  
                    finalLon = -120 + (Math.abs(scaledLon) % 60);
                    finalLat = 35 + (scaledLat % 30);
                }
                else {
                    // Default to center of continental US
                    finalLon = -98;
                    finalLat = 39;
                }
            }
            //console.log(`Applied scaling factor ${scaleFactor} to coordinates, result: ${finalLon}, ${finalLat}`);
            return {
                lon: Math.max(-180, Math.min(180, finalLon)),
                lat: Math.max(-90, Math.min(90, finalLat))
            };
        };
        this.projectGeometryFromWGS84 = (wgs84Geometry, targetSR) => __awaiter(this, void 0, void 0, function* () {
            try {
                // Try using ArcGIS projection engine first
                try {
                    yield esri_geometry_projection__WEBPACK_IMPORTED_MODULE_15__.load();
                    // Type cast the geometry to satisfy the projection engine requirements
                    const projectedResult = esri_geometry_projection__WEBPACK_IMPORTED_MODULE_15__.project(wgs84Geometry, targetSR);
                    if (projectedResult) {
                        // Handle the case where projection.project might return an array
                        const projectedGeometry = Array.isArray(projectedResult) ? projectedResult[0] : projectedResult;
                        if (projectedGeometry) {
                            //console.log(`Successfully projected from WGS84 to WKID ${targetSR.wkid} using ArcGIS projection engine`);
                            return projectedGeometry;
                        }
                    }
                }
                catch (projectionError) {
                    console.warn('ArcGIS projection engine failed during WGS84 conversion, using manual method:', projectionError);
                }
                // Fallback to manual conversion
                return this.manualProjectionFromWGS84(wgs84Geometry, targetSR);
            }
            catch (error) {
                console.error('Error projecting from WGS84:', error);
                return this.manualProjectionFromWGS84(wgs84Geometry, targetSR);
            }
        });
        this.manualProjectionFromWGS84 = (wgs84Geometry, targetSR) => {
            if (!targetSR || targetSR.wkid === 4326) {
                return wgs84Geometry; // Already in WGS84
            }
            try {
                switch (wgs84Geometry.type) {
                    case 'point':
                        const point = wgs84Geometry;
                        const lon = point.longitude || point.x;
                        const lat = point.latitude || point.y;
                        const converted = this.convertFromWGS84Enhanced(lon, lat, targetSR.wkid);
                        return new esri_geometry_Point__WEBPACK_IMPORTED_MODULE_13__["default"]({
                            x: converted.x,
                            y: converted.y,
                            spatialReference: targetSR
                        });
                    case 'polyline':
                        const polyline = wgs84Geometry;
                        const convertedPaths = polyline.paths.map(path => path.map(coord => {
                            const converted = this.convertFromWGS84Enhanced(coord[0], coord[1], targetSR.wkid);
                            return [converted.x, converted.y];
                        }));
                        return {
                            type: 'polyline',
                            paths: convertedPaths,
                            spatialReference: targetSR
                        };
                    case 'polygon':
                        const polygon = wgs84Geometry;
                        const convertedRings = polygon.rings.map(ring => ring.map(coord => {
                            const converted = this.convertFromWGS84Enhanced(coord[0], coord[1], targetSR.wkid);
                            return [converted.x, converted.y];
                        }));
                        return {
                            type: 'polygon',
                            rings: convertedRings,
                            spatialReference: targetSR
                        };
                    default:
                        console.warn(`Cannot project geometry type: ${wgs84Geometry.type}`);
                        return null;
                }
            }
            catch (error) {
                console.error('Error in manual projection from WGS84:', error);
                return null;
            }
        };
        this.convertFromWGS84Enhanced = (lon, lat, wkid) => {
            // If target is WGS84, return as-is
            if (wkid === 4326) {
                return { x: lon, y: lat };
            }
            console.log(`Converting WGS84 coordinates ${lon}, ${lat} to WKID: ${wkid}`);
            // Web Mercator
            if (wkid === 3857 || wkid === 102100) {
                const x = lon * 20037508.34 / 180;
                const y = Math.log(Math.tan((90 + lat) * Math.PI / 360)) / (Math.PI / 180) * 20037508.34 / 180;
                return { x, y };
            }
            // UTM zones (Northern Hemisphere)
            if (wkid >= 32601 && wkid <= 32660) {
                const zone = wkid - 32600;
                const centralMeridian = (zone - 1) * 6 - 180 + 3;
                // More accurate WGS84 to UTM conversion
                const latRad = lat * Math.PI / 180;
                const lonRad = lon * Math.PI / 180;
                const centralMeridianRad = centralMeridian * Math.PI / 180;
                // Simplified UTM projection (not geodetically perfect but much better than linear)
                const k0 = 0.9996; // UTM scale factor
                const a = 6378137; // Earth's radius in meters
                const e = 0.00669438; // Earth's eccentricity squared
                const N = a / Math.sqrt(1 - e * Math.sin(latRad) * Math.sin(latRad));
                const T = Math.tan(latRad) * Math.tan(latRad);
                const C = e * Math.cos(latRad) * Math.cos(latRad) / (1 - e);
                const A = Math.cos(latRad) * (lonRad - centralMeridianRad);
                const x = 500000 + k0 * N * (A + (1 - T + C) * A * A * A / 6);
                const y = k0 * (a * (lat * Math.PI / 180) + N * Math.tan(latRad) * (A * A / 2));
                return { x, y };
            }
            // UTM zones (Southern Hemisphere)
            if (wkid >= 32701 && wkid <= 32760) {
                const zone = wkid - 32700;
                const centralMeridian = (zone - 1) * 6 - 180 + 3;
                // Similar to northern hemisphere but with false northing
                const latRad = lat * Math.PI / 180;
                const lonRad = lon * Math.PI / 180;
                const centralMeridianRad = centralMeridian * Math.PI / 180;
                const k0 = 0.9996;
                const a = 6378137;
                const e = 0.00669438;
                const N = a / Math.sqrt(1 - e * Math.sin(latRad) * Math.sin(latRad));
                const T = Math.tan(latRad) * Math.tan(latRad);
                const C = e * Math.cos(latRad) * Math.cos(latRad) / (1 - e);
                const A = Math.cos(latRad) * (lonRad - centralMeridianRad);
                const x = 500000 + k0 * N * (A + (1 - T + C) * A * A * A / 6);
                const y = 10000000 + k0 * (a * (lat * Math.PI / 180) + N * Math.tan(latRad) * (A * A / 2));
                return { x, y };
            }
            // State Plane Coordinate Systems - Enhanced reverse conversion
            if (wkid >= 2001 && wkid <= 5000) {
                let centerLon = -98; // Default US center longitude
                let centerLat = 39; // Default US center latitude
                let usesFeet = false;
                // Regional adjustments based on WKID ranges (approximate)
                if (wkid >= 2001 && wkid <= 2020) {
                    // Eastern US states
                    centerLon = -77;
                    centerLat = 40;
                    usesFeet = true; // Many eastern state plane systems use feet
                }
                else if (wkid >= 2021 && wkid <= 2050) {
                    // Central US states  
                    centerLon = -95;
                    centerLat = 35;
                    usesFeet = true;
                }
                else if (wkid >= 2051 && wkid <= 2099) {
                    // Western US states
                    centerLon = -115;
                    centerLat = 37;
                    usesFeet = false; // Many western systems use meters
                }
                // Calculate deltas from regional center
                const deltaLon = lon - centerLon;
                const deltaLat = lat - centerLat;
                // Convert to approximate projected coordinates
                const latRadians = centerLat * Math.PI / 180;
                const metersPerDegreeLon = 111320 * Math.cos(latRadians);
                let x = deltaLon * metersPerDegreeLon;
                let y = deltaLat * 110540;
                // Convert to feet if the system uses feet
                if (usesFeet) {
                    x = x / 0.3048;
                    y = y / 0.3048;
                }
                // Add typical state plane false easting/northing
                x += usesFeet ? 2000000 : 500000; // Typical false easting
                y += usesFeet ? 0 : 0; // Most don't have false northing
                return { x, y };
            }
            // British National Grid (EPSG:27700) - reverse conversion
            if (wkid === 27700) {
                const centerLon = -2;
                const centerLat = 54;
                const deltaLon = lon - centerLon;
                const deltaLat = lat - centerLat;
                const x = 400000 + deltaLon * 70000; // Very rough approximation
                const y = 100000 + deltaLat * 110000;
                return { x, y };
            }
            // Default fallback - assume a local coordinate system
            // Try to scale appropriately based on the WKID
            let scaleFactor = 111320; // Approximate meters per degree at equator
            let falseEasting = 0;
            let falseNorthing = 0;
            // For high WKID numbers, assume they might be in feet
            if (wkid > 10000) {
                scaleFactor = scaleFactor / 0.3048; // Convert to feet
                falseEasting = 2000000; // Common false easting in feet
            }
            const x = falseEasting + (lon + 180) * scaleFactor / 360; // Normalize longitude
            const y = falseNorthing + lat * scaleFactor / 90; // Normalize latitude
            console.log(`Applied fallback conversion with scale factor ${scaleFactor}`);
            return { x, y };
        };
        this.detectImportFormat = (content) => {
            try {
                const parsed = JSON.parse(content);
                // Check if it's GeoJSON
                if (parsed.type === 'FeatureCollection' && Array.isArray(parsed.features)) {
                    return 'geojson';
                }
                // Check if it's legacy format
                if (parsed.drawings || Array.isArray(parsed) || parsed.version) {
                    return 'legacy';
                }
                return 'unknown';
            }
            catch (error) {
                return 'unknown';
            }
        };
        this.processNewMeasurementLabel = (graphic) => {
            var _a, _b, _c, _d, _e;
            // Check if this is a measurement label that needs processing
            if (!graphic ||
                !graphic.attributes ||
                !graphic.attributes.isMeasurementLabel ||
                !graphic.symbol ||
                graphic.symbol.type !== 'text') {
                return false;
            }
            const graphicId = this.getGraphicId(graphic);
            // Skip if already processed
            if (this.processedMeasurementGraphics.has(graphicId)) {
                return false;
            }
            try {
                // Store the text content
                const labelText = graphic.symbol.text;
                // FIXED: Instead of creating a completely new symbol, preserve the existing symbol
                // and only update it if it's missing essential properties
                const existingSymbol = graphic.symbol;
                // Check if the symbol already has proper styling - if so, don't modify it
                if (existingSymbol.color &&
                    existingSymbol.font &&
                    existingSymbol.haloColor !== undefined &&
                    existingSymbol.haloSize !== undefined) {
                    // Symbol is already properly styled, just mark as processed
                    this.processedMeasurementGraphics.add(graphicId);
                    if (!graphic.attributes)
                        graphic.attributes = {};
                    graphic.attributes._styleFixed = true;
                    //console.log(`Measurement label already properly styled, skipping: ${graphicId}`);
                    return true;
                }
                // Only apply clean symbol if the existing symbol is missing essential properties
                // This preserves styling from the measure.tsx component
                const cleanSymbol = existingSymbol.clone();
                // Only set defaults for missing properties
                if (!cleanSymbol.color) {
                    cleanSymbol.color = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([0, 0, 0, 1]);
                }
                if (!cleanSymbol.font || !cleanSymbol.font.family) {
                    cleanSymbol.font = new esri_symbols_Font__WEBPACK_IMPORTED_MODULE_11__["default"]({
                        family: ((_a = cleanSymbol.font) === null || _a === void 0 ? void 0 : _a.family) || "Arial",
                        size: ((_b = cleanSymbol.font) === null || _b === void 0 ? void 0 : _b.size) || 12,
                        weight: ((_c = cleanSymbol.font) === null || _c === void 0 ? void 0 : _c.weight) || "normal",
                        style: ((_d = cleanSymbol.font) === null || _d === void 0 ? void 0 : _d.style) || "normal",
                        decoration: ((_e = cleanSymbol.font) === null || _e === void 0 ? void 0 : _e.decoration) || "none"
                    });
                }
                // Preserve existing halo settings or set defaults only if they don't exist
                if (cleanSymbol.haloColor === null && cleanSymbol.haloSize === null) {
                    // Only set default halo if none exists
                    cleanSymbol.haloColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([255, 255, 255, 1]);
                    cleanSymbol.haloSize = 2;
                }
                if (!cleanSymbol.horizontalAlignment) {
                    cleanSymbol.horizontalAlignment = "center";
                }
                if (!cleanSymbol.verticalAlignment) {
                    cleanSymbol.verticalAlignment = "middle";
                }
                // Ensure text content is preserved
                cleanSymbol.text = labelText;
                // Replace the symbol only if we made changes
                graphic.symbol = cleanSymbol;
                // Mark this graphic as processed
                this.processedMeasurementGraphics.add(graphicId);
                // Also set the flag on the graphic itself as a backup
                if (!graphic.attributes)
                    graphic.attributes = {};
                graphic.attributes._styleFixed = true;
                //console.log(`Applied minimal clean symbol to measurement label with ID: ${graphicId}`);
                return true;
            }
            catch (error) {
                console.error('Error processing measurement label:', error);
                return false;
            }
        };
        this.verifyLayerState = () => {
            if (!this.props.graphicsLayer)
                return;
            // Count actual drawings (exclude measurement labels)
            const layerGraphics = this.props.graphicsLayer.graphics.toArray();
            const actualDrawings = layerGraphics.filter(g => {
                var _a, _b;
                return !((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) &&
                    !((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.hideFromList);
            });
            const measurementLabels = layerGraphics.filter(g => { var _a; return (_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel; });
            //console.log(`📈 Layer verification:`);
            //console.log(`   - Drawings in state: ${this.state.drawings.length}`);
            //console.log(`   - Actual drawings in layer: ${actualDrawings.length}`);
            //console.log(`   - Measurement labels in layer: ${measurementLabels.length}`);
            //console.log(`   - Total graphics in layer: ${layerGraphics.length}`);
            // If there's a mismatch, force a refresh
            if (actualDrawings.length !== this.state.drawings.length) {
                console.warn(`⚠️ State mismatch detected! Forcing refresh...`);
                this.refreshDrawingsFromLayer();
            }
            else {
                //console.log(`✅ Layer state verified - everything matches`);
            }
        };
        this.removeMeasurementLabels = (graphic) => {
            var _a, _b, _c;
            if (!graphic || !this.props.graphicsLayer)
                return;
            //console.log(`🧹 Starting measurement cleanup for:`, graphic.attributes?.name);
            try {
                const graphicUniqueId = (_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId;
                let removedCount = 0;
                // 🔧 NEW: Remove attached buffer FIRST
                if (graphic.bufferGraphic) {
                    //console.log(`🗑️ Removing attached buffer for graphic ${graphicUniqueId}`);
                    this.props.graphicsLayer.remove(graphic.bufferGraphic);
                    graphic.bufferGraphic = null;
                    removedCount++;
                }
                // Clear buffer settings
                if (graphic.bufferSettings) {
                    graphic.bufferSettings = null;
                }
                // Get all graphics from the layer
                const allGraphics = this.props.graphicsLayer.graphics.toArray();
                // Find measurement labels that belong to this specific graphic
                const labelsToRemove = allGraphics.filter(g => {
                    var _a, _b, _c;
                    const gAsExtended = g;
                    // Check if this is a measurement label
                    if (!((_a = gAsExtended.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel))
                        return false;
                    // Check various ways this label might be linked to our graphic
                    return (
                    // Direct reference to the graphic object
                    gAsExtended.measureParent === graphic ||
                        // Parent ID matches
                        (graphicUniqueId && ((_b = gAsExtended.attributes) === null || _b === void 0 ? void 0 : _b.parentGraphicId) === graphicUniqueId) ||
                        // Measure graphic reference
                        ((_c = gAsExtended.measure) === null || _c === void 0 ? void 0 : _c.graphic) === graphic);
                });
                //console.log(`🔍 Found ${labelsToRemove.length} measurement labels to remove`);
                // Remove each identified label
                labelsToRemove.forEach(label => {
                    try {
                        this.props.graphicsLayer.remove(label);
                        removedCount++;
                        //console.log(`🗑️ Removed measurement label`);
                    }
                    catch (err) {
                        console.error(`❌ Error removing measurement label:`, err);
                    }
                });
                // Also clean up direct references stored in the graphic
                if ((_b = graphic.measure) === null || _b === void 0 ? void 0 : _b.graphic) {
                    try {
                        this.props.graphicsLayer.remove(graphic.measure.graphic);
                        removedCount++;
                        //console.log(`🗑️ Removed direct measure graphic`);
                    }
                    catch (err) {
                        console.error(`❌ Error removing direct measure graphic:`, err);
                    }
                }
                // Clean up segment labels from attributes
                if (((_c = graphic.attributes) === null || _c === void 0 ? void 0 : _c.relatedSegmentLabels) && Array.isArray(graphic.attributes.relatedSegmentLabels)) {
                    graphic.attributes.relatedSegmentLabels.forEach(segmentLabel => {
                        if (segmentLabel) {
                            try {
                                this.props.graphicsLayer.remove(segmentLabel);
                                removedCount++;
                                //console.log(`🗑️ Removed segment label`);
                            }
                            catch (err) {
                                console.error(`❌ Error removing segment label:`, err);
                            }
                        }
                    });
                }
                //console.log(`✅ Measurement and buffer cleanup completed. Removed ${removedCount} graphics for:`, graphic.attributes?.name);
            }
            catch (error) {
                console.error('❌ Error in measurement cleanup:', error);
            }
        };
        this.associateMeasurementLabel = (parentGraphic, measurementLabel) => {
            var _a;
            if (!parentGraphic || !measurementLabel)
                return;
            // Ensure the measurement label has proper references to its parent
            if (!measurementLabel.attributes) {
                measurementLabel.attributes = {};
            }
            // Store multiple references to ensure we can find this label later
            measurementLabel.attributes.isMeasurementLabel = true;
            measurementLabel.attributes.parentGraphicId = (_a = parentGraphic.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId;
            measurementLabel.measureParent = parentGraphic;
            // Also store the reference in the parent graphic for easier cleanup
            if (!parentGraphic.attributes) {
                parentGraphic.attributes = {};
            }
            if (!parentGraphic.attributes.relatedMeasurementLabels) {
                parentGraphic.attributes.relatedMeasurementLabels = [];
            }
            parentGraphic.attributes.relatedMeasurementLabels.push(measurementLabel);
            //console.log(`🔗 Associated measurement label with parent graphic:`, parentGraphic.attributes?.name);
        };
        this.cleanupMeasurementLabelsForGraphic = (graphic) => {
            if (!graphic || !this.props.graphicsLayer)
                return;
            try {
                //console.log(`Starting aggressive cleanup for graphic: ${graphic.attributes?.name || 'unnamed'}`);
                //console.log(`Graphic uniqueId: ${graphic.attributes?.uniqueId}`);
                // CRITICAL: Cancel SketchViewModel FIRST and clear all selections
                if (this.sketchViewModel) {
                    this.sketchViewModel.cancel();
                    // Also clear any updateGraphics collection
                    if (this.sketchViewModel.updateGraphics) {
                        this.sketchViewModel.updateGraphics.removeAll();
                    }
                }
                // Clear any UI selection state
                this.setState({
                    selectedGraphicIndex: null,
                    symbolEditingIndex: null
                });
                // Add delay to ensure SketchViewModel operations complete
                setTimeout(() => {
                    this.performAggressiveCleanup(graphic);
                }, 100);
            }
            catch (error) {
                console.error('Error in cleanup initiation:', error);
            }
        };
        this.performActualCleanup = (graphic) => {
            var _a, _b;
            if (!graphic || !this.props.graphicsLayer)
                return;
            try {
                //console.log(`Performing actual cleanup for: ${graphic.attributes?.name || 'unnamed'}`);
                // Method 1: Remove the main measurement label if it exists
                if ((_a = graphic.measure) === null || _a === void 0 ? void 0 : _a.graphic) {
                    //console.log('Removing main measurement graphic');
                    this.props.graphicsLayer.remove(graphic.measure.graphic);
                    // Clear the reference
                    graphic.measure = null;
                }
                // Method 2: Remove segment labels if they exist
                if (((_b = graphic.attributes) === null || _b === void 0 ? void 0 : _b.relatedSegmentLabels) && Array.isArray(graphic.attributes.relatedSegmentLabels)) {
                    //console.log(`Removing ${graphic.attributes.relatedSegmentLabels.length} segment labels`);
                    graphic.attributes.relatedSegmentLabels.forEach(segmentLabel => {
                        if (segmentLabel) {
                            this.props.graphicsLayer.remove(segmentLabel);
                        }
                    });
                    // Clear the array
                    graphic.attributes.relatedSegmentLabels = [];
                }
                // Method 3: Search for orphaned measurement labels that might reference this graphic
                const allGraphics = this.props.graphicsLayer.graphics.toArray();
                const orphanedMeasurements = allGraphics.filter(g => {
                    var _a, _b, _c;
                    const extendedG = g;
                    return (((_a = extendedG.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) &&
                        (extendedG.measureParent === graphic ||
                            ((_b = extendedG.attributes) === null || _b === void 0 ? void 0 : _b.parentId) === ((_c = graphic.attributes) === null || _c === void 0 ? void 0 : _c.uniqueId)));
                });
                if (orphanedMeasurements.length > 0) {
                    //console.log(`Removing ${orphanedMeasurements.length} orphaned measurement labels`);
                    orphanedMeasurements.forEach(orphan => {
                        this.props.graphicsLayer.remove(orphan);
                    });
                }
                //console.log('Actual cleanup completed');
                // Force a map refresh after cleanup
                setTimeout(() => {
                    this.forceMapRefresh();
                }, 100);
            }
            catch (error) {
                console.error('Error in actual cleanup:', error);
            }
        };
        // Fixed version with proper TypeScript types:
        this.convertToGeographic = (point) => {
            try {
                // If already in geographic coordinates, return as-is
                if (point.spatialReference && (point.spatialReference.wkid === 4326 ||
                    point.spatialReference.latestWkid === 4326)) {
                    return point;
                }
                // Create a new point in WGS84 (Geographic)
                const geographicSR = {
                    wkid: 4326
                };
                // If we have access to geometryEngineAsync, use it for projection
                if (typeof esri_geometry_geometryEngineAsync__WEBPACK_IMPORTED_MODULE_12__["default"] !== 'undefined') {
                    // Use webMercatorUtils for coordinate conversion instead
                    try {
                        // Import webMercatorUtils if available
                        const webMercatorUtils = __webpack_require__(/*! esri/geometry/support/webMercatorUtils */ "esri/geometry/support/webMercatorUtils");
                        if (webMercatorUtils && webMercatorUtils.webMercatorToGeographic) {
                            return webMercatorUtils.webMercatorToGeographic(point);
                        }
                    }
                    catch (e) {
                        // Fall through to manual conversion
                    }
                }
                // Fallback: if point has longitude/latitude properties, use those
                if (point.longitude !== undefined && point.latitude !== undefined) {
                    return point;
                }
                // Last resort: assume Web Mercator and convert manually
                if (point.spatialReference && (point.spatialReference.wkid === 3857 ||
                    point.spatialReference.latestWkid === 3857)) {
                    const lon = (point.x / 20037508.34) * 180;
                    const lat = (Math.atan(Math.exp((point.y / 20037508.34) * Math.PI)) * 360 / Math.PI) - 90;
                    return {
                        x: lon,
                        y: lat,
                        longitude: lon,
                        latitude: lat,
                        spatialReference: geographicSR
                    };
                }
                // If we can't convert, return the original point but log a warning
                console.warn('Could not convert point to geographic coordinates:', point);
                return point;
            }
            catch (error) {
                console.error('Error converting point to geographic:', error);
                return point;
            }
        };
        this.convertCoordinateToGeographic = (x, y) => {
            var _a, _b;
            try {
                // Get the spatial reference from the map view
                const mapSR = (_b = (_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) === null || _b === void 0 ? void 0 : _b.spatialReference;
                // If already in geographic coordinates
                if (mapSR && (mapSR.wkid === 4326 || mapSR.latestWkid === 4326)) {
                    return { longitude: x, latitude: y };
                }
                // If Web Mercator, convert manually
                if (mapSR && (mapSR.wkid === 3857 || mapSR.latestWkid === 3857)) {
                    const lon = (x / 20037508.34) * 180;
                    const lat = (Math.atan(Math.exp((y / 20037508.34) * Math.PI)) * 360 / Math.PI) - 90;
                    return { longitude: lon, latitude: lat };
                }
                // For other coordinate systems, assume they're already in the correct format
                // This is a fallback that may need adjustment based on your specific use case
                return { longitude: x, latitude: y };
            }
            catch (error) {
                console.error('Error converting coordinate to geographic:', error);
                return { longitude: x, latitude: y };
            }
        };
        // Alternative approach using a simpler coordinate conversion method:
        this.simpleCoordinateConversion = (geometry) => {
            if (!geometry)
                return null;
            try {
                switch (geometry.type) {
                    case 'point':
                        const point = geometry;
                        // Check if we have longitude/latitude directly
                        if (point.longitude !== undefined && point.latitude !== undefined) {
                            return {
                                type: 'Point',
                                coordinates: [point.longitude, point.latitude]
                            };
                        }
                        // Convert Web Mercator to Geographic if needed
                        let lon = point.x;
                        let lat = point.y;
                        if (point.spatialReference && point.spatialReference.wkid === 3857) {
                            lon = (point.x / 20037508.34) * 180;
                            lat = (Math.atan(Math.exp((point.y / 20037508.34) * Math.PI)) * 360 / Math.PI) - 90;
                        }
                        return {
                            type: 'Point',
                            coordinates: [lon, lat]
                        };
                    case 'polyline':
                        const polyline = geometry;
                        const paths = polyline.paths.map(path => path.map(coord => {
                            let lon = coord[0];
                            let lat = coord[1];
                            // Convert if Web Mercator
                            if (polyline.spatialReference && polyline.spatialReference.wkid === 3857) {
                                lon = (coord[0] / 20037508.34) * 180;
                                lat = (Math.atan(Math.exp((coord[1] / 20037508.34) * Math.PI)) * 360 / Math.PI) - 90;
                            }
                            return [lon, lat];
                        }));
                        return {
                            type: paths.length > 1 ? 'MultiLineString' : 'LineString',
                            coordinates: paths.length > 1 ? paths : paths[0]
                        };
                    case 'polygon':
                        const polygon = geometry;
                        const rings = polygon.rings.map(ring => ring.map(coord => {
                            let lon = coord[0];
                            let lat = coord[1];
                            // Convert if Web Mercator
                            if (polygon.spatialReference && polygon.spatialReference.wkid === 3857) {
                                lon = (coord[0] / 20037508.34) * 180;
                                lat = (Math.atan(Math.exp((coord[1] / 20037508.34) * Math.PI)) * 360 / Math.PI) - 90;
                            }
                            return [lon, lat];
                        }));
                        return {
                            type: 'Polygon',
                            coordinates: rings
                        };
                    case 'extent':
                        const extent = geometry;
                        let xmin = extent.xmin;
                        let ymin = extent.ymin;
                        let xmax = extent.xmax;
                        let ymax = extent.ymax;
                        // Convert if Web Mercator
                        if (extent.spatialReference && extent.spatialReference.wkid === 3857) {
                            xmin = (extent.xmin / 20037508.34) * 180;
                            ymin = (Math.atan(Math.exp((extent.ymin / 20037508.34) * Math.PI)) * 360 / Math.PI) - 90;
                            xmax = (extent.xmax / 20037508.34) * 180;
                            ymax = (Math.atan(Math.exp((extent.ymax / 20037508.34) * Math.PI)) * 360 / Math.PI) - 90;
                        }
                        const coords = [[
                                [xmin, ymin],
                                [xmax, ymin],
                                [xmax, ymax],
                                [xmin, ymax],
                                [xmin, ymin] // Close the ring
                            ]];
                        return {
                            type: 'Polygon',
                            coordinates: coords
                        };
                    default:
                        console.warn(`Unsupported geometry type: ${geometry.type}`);
                        return null;
                }
            }
            catch (error) {
                console.error('Error converting geometry to GeoJSON:', error);
                return null;
            }
        };
        // Replace the convertToGeoJSONGeometry method with this simpler version:
        this.convertToGeoJSONGeometry = (geometry) => {
            return this.simpleCoordinateConversion(geometry);
        };
        this.convertSymbolToStandardProperties = (symbol) => {
            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t;
            if (!symbol)
                return {};
            const properties = {};
            try {
                switch (symbol.type) {
                    case 'simple-marker':
                        const marker = symbol;
                        properties.marker_color = ((_a = marker.color) === null || _a === void 0 ? void 0 : _a.toHex()) || '#000000';
                        properties.marker_size = marker.size || 12;
                        properties.marker_symbol = marker.style || 'circle';
                        if (marker.outline) {
                            properties.stroke = ((_b = marker.outline.color) === null || _b === void 0 ? void 0 : _b.toHex()) || '#000000';
                            properties.stroke_width = marker.outline.width || 1;
                        }
                        break;
                    case 'simple-line':
                        const line = symbol;
                        properties.stroke = ((_c = line.color) === null || _c === void 0 ? void 0 : _c.toHex()) || '#000000';
                        properties.stroke_width = line.width || 1;
                        properties.stroke_opacity = ((_d = line.color) === null || _d === void 0 ? void 0 : _d.a) || 1;
                        break;
                    case 'simple-fill':
                        const fill = symbol;
                        properties.fill = ((_e = fill.color) === null || _e === void 0 ? void 0 : _e.toHex()) || '#000000';
                        properties.fill_opacity = ((_f = fill.color) === null || _f === void 0 ? void 0 : _f.a) || 1;
                        if (fill.outline) {
                            properties.stroke = ((_g = fill.outline.color) === null || _g === void 0 ? void 0 : _g.toHex()) || '#000000';
                            properties.stroke_width = fill.outline.width || 1;
                        }
                        break;
                    case 'text':
                        const text = symbol;
                        properties.text = text.text || '';
                        properties.text_color = ((_h = text.color) === null || _h === void 0 ? void 0 : _h.toHex()) || '#000000';
                        properties.text_size = ((_j = text.font) === null || _j === void 0 ? void 0 : _j.size) || 12;
                        properties.text_font = ((_k = text.font) === null || _k === void 0 ? void 0 : _k.family) || 'Arial';
                        // Preserve font style customizations
                        if (((_l = text.font) === null || _l === void 0 ? void 0 : _l.weight) && text.font.weight !== 'normal') {
                            properties.text_weight = text.font.weight;
                        }
                        if (((_m = text.font) === null || _m === void 0 ? void 0 : _m.style) && text.font.style !== 'normal') {
                            properties.text_style = text.font.style;
                        }
                        if (((_o = text.font) === null || _o === void 0 ? void 0 : _o.decoration) && text.font.decoration !== 'none') {
                            properties.text_decoration = text.font.decoration;
                        }
                        // Preserve text alignment
                        properties.text_align = text.horizontalAlignment || 'center';
                        properties.text_baseline = text.verticalAlignment || 'middle';
                        // Preserve rotation
                        if (text.angle) {
                            properties.text_rotation = text.angle;
                        }
                        // Preserve text opacity (alpha)
                        properties.text_opacity = (_q = (_p = text.color) === null || _p === void 0 ? void 0 : _p.a) !== null && _q !== void 0 ? _q : 1;
                        // Preserve halo settings if any
                        const haloSize = text.haloSize;
                        if (haloSize !== null && haloSize !== undefined) {
                            properties.text_halo_size = haloSize;
                            if (haloSize > 0 && text.haloColor) {
                                properties.text_halo_color = ((_s = (_r = text.haloColor).toHex) === null || _s === void 0 ? void 0 : _s.call(_r)) || '#FFFFFF';
                                properties.text_halo_opacity = (_t = text.haloColor.a) !== null && _t !== void 0 ? _t : 1;
                            }
                        }
                        break;
                }
            }
            catch (error) {
                console.error('Error converting symbol properties:', error);
            }
            return properties;
        };
        // Add debugging to see what's happening in the conversion process
        this.generateCompatibleExportData = (drawingsToExport) => __awaiter(this, void 0, void 0, function* () {
            //console.log('Starting export with', drawingsToExport.length, 'drawings');
            var _a, _b, _c, _d, _e, _f, _g, _h, _j;
            const geoJSONFeatures = [];
            // Helper: ensure we always have a stable ID to round-trip
            const getId = (g) => {
                var _a, _b;
                return ((_a = g === null || g === void 0 ? void 0 : g.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId)
                    || ((_b = g === null || g === void 0 ? void 0 : g.attributes) === null || _b === void 0 ? void 0 : _b.id)
                    || `exp_${Date.now()}_${Math.random().toString(36).slice(2, 10)}`;
            };
            // Helper: extract full text symbol styling (doesn't rely solely on convertSymbolToStandardProperties)
            const extractTextSymbolProps = (sym) => {
                var _a;
                if (!sym || sym.type !== 'text')
                    return {};
                const ts = sym;
                // Font fields
                const font = ts.font || {};
                const out = {
                    text: (_a = ts.text) !== null && _a !== void 0 ? _a : '',
                    text_color: (ts.color && typeof ts.color.toHex === 'function')
                        ? ts.color.toHex()
                        : '#000000',
                    text_opacity: (ts.color && typeof ts.color.a === 'number')
                        ? ts.color.a
                        : 1,
                    text_size: typeof font.size === 'number' ? font.size : 12,
                    text_font: font.family || 'Arial',
                    text_weight: font.weight || 'normal',
                    text_style: font.style || 'normal',
                    text_decoration: font.decoration || 'none',
                    text_align: ts.horizontalAlignment || 'center',
                    text_baseline: ts.verticalAlignment || 'middle',
                    text_rotation: typeof ts.angle === 'number' ? ts.angle : 0
                };
                // Halo (optional)
                if (typeof ts.haloSize === 'number') {
                    out.text_halo_size = ts.haloSize;
                    if (ts.haloSize > 0 && ts.haloColor) {
                        out.text_halo_color = (typeof ts.haloColor.toHex === 'function')
                            ? ts.haloColor.toHex()
                            : '#FFFFFF';
                        out.text_halo_opacity = typeof ts.haloColor.a === 'number'
                            ? ts.haloColor.a
                            : 1;
                    }
                }
                return out;
            };
            // Helper: write one feature to array
            const pushFeature = (geometry, properties) => {
                geoJSONFeatures.push({
                    type: 'Feature',
                    geometry,
                    properties
                });
            };
            // Helper: add the main drawing as a feature
            const exportDrawing = (graphic, index) => __awaiter(this, void 0, void 0, function* () {
                var _a, _b, _c;
                const geoJSONGeometry = yield this.convertToStandardGeoJSON(graphic.geometry);
                //console.log(`Converted geometry for drawing ${index}:`, geoJSONGeometry);
                if (!geoJSONGeometry) {
                    console.warn(`Failed to convert geometry for drawing ${index}`);
                    return;
                }
                const baseProps = {
                    id: getId(graphic),
                    name: ((_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.name) || `Drawing ${index + 1}`,
                    description: `${this.getDrawingTypeLabel(graphic)} drawing`,
                    type: this.getDrawingTypeLabel(graphic),
                    created: ((_b = graphic.attributes) === null || _b === void 0 ? void 0 : _b.createdDate)
                        ? new Date(graphic.attributes.createdDate).toISOString()
                        : null
                };
                // Core symbol props
                const symbolProps = this.convertSymbolToStandardProperties(graphic.symbol) || {};
                Object.assign(baseProps, symbolProps);
                // If it's a text symbol, ensure we fully capture style
                if (((_c = graphic.symbol) === null || _c === void 0 ? void 0 : _c.type) === 'text') {
                    Object.assign(baseProps, extractTextSymbolProps(graphic.symbol));
                }
                // Buffer metadata (if present/enabled)
                if (graphic.bufferSettings && graphic.bufferSettings.enabled) {
                    baseProps.bufferDistance = graphic.bufferSettings.distance;
                    baseProps.bufferUnit = graphic.bufferSettings.unit;
                    if (typeof graphic.bufferSettings.opacity === 'number') {
                        baseProps.bufferOpacity = graphic.bufferSettings.opacity; // optional, but useful
                    }
                }
                pushFeature(geoJSONGeometry, baseProps);
            });
            // Helper: export one measurement label as its own GeoJSON feature
            const exportMeasurementLabel = (labelGraphic, parentGraphic, iLabel) => __awaiter(this, void 0, void 0, function* () {
                var _a, _b, _c, _d, _e, _f;
                if (!(labelGraphic === null || labelGraphic === void 0 ? void 0 : labelGraphic.geometry))
                    return;
                const geom = yield this.convertToStandardGeoJSON(labelGraphic.geometry);
                if (!geom)
                    return;
                const labelId = getId(labelGraphic);
                const parentId = getId(parentGraphic);
                const props = {
                    id: labelId,
                    name: ((_a = labelGraphic.attributes) === null || _a === void 0 ? void 0 : _a.name) || 'Measurement Label',
                    description: 'Measurement label',
                    type: 'Text',
                    created: ((_b = labelGraphic.attributes) === null || _b === void 0 ? void 0 : _b.createdDate)
                        ? new Date(labelGraphic.attributes.createdDate).toISOString()
                        : null,
                    // Critical flags so restored labels behave as measurement labels
                    isMeasurementLabel: true,
                    hideFromList: true,
                    parentGraphicId: parentId
                };
                // Units & measurement meta (if available)
                if ((_c = labelGraphic.attributes) === null || _c === void 0 ? void 0 : _c.measurementType) {
                    props.measurementType = labelGraphic.attributes.measurementType;
                }
                if ((_d = labelGraphic.attributes) === null || _d === void 0 ? void 0 : _d.lengthUnit) {
                    props.lengthUnit = labelGraphic.attributes.lengthUnit;
                }
                if ((_e = labelGraphic.attributes) === null || _e === void 0 ? void 0 : _e.areaUnit) {
                    props.areaUnit = labelGraphic.attributes.areaUnit;
                }
                // Base symbol props + complete text styling
                const symProps = this.convertSymbolToStandardProperties(labelGraphic.symbol) || {};
                Object.assign(props, symProps);
                if (((_f = labelGraphic.symbol) === null || _f === void 0 ? void 0 : _f.type) === 'text') {
                    Object.assign(props, extractTextSymbolProps(labelGraphic.symbol));
                }
                pushFeature(geom, props);
            });
            // Walk each drawing and export it + its labels
            for (let index = 0; index < drawingsToExport.length; index++) {
                const graphic = drawingsToExport[index];
                // console.log(`Processing graphic ${index}:`, {
                //   hasGraphic: !!graphic,
                //   hasGeometry: !!graphic?.geometry,
                //   geometryType: graphic?.geometry?.type
                // });
                if (!graphic || !graphic.geometry) {
                    console.warn(`Skipping graphic ${index}: missing graphic or geometry`);
                    continue;
                }
                // 1) Export the base drawing
                yield exportDrawing(graphic, index);
                // 2) Export any related measurement labels (main + per-segment)
                //    Your code elsewhere uses flags/collections like isMeasurementLabel/hideFromList
                //    and relatedSegmentLabels; we inspect those here.
                const labels = [];
                // Primary label (if managed via parent.measure.graphic)
                if (((_a = graphic.measure) === null || _a === void 0 ? void 0 : _a.graphic) && ((_b = graphic.measure.graphic.attributes) === null || _b === void 0 ? void 0 : _b.isMeasurementLabel)) {
                    labels.push(graphic.measure.graphic);
                }
                // Any additional/segment labels the parent tracks
                const segs = (_c = graphic.attributes) === null || _c === void 0 ? void 0 : _c.relatedSegmentLabels;
                if (Array.isArray(segs) && segs.length) {
                    for (const s of segs) {
                        if ((_d = s === null || s === void 0 ? void 0 : s.attributes) === null || _d === void 0 ? void 0 : _d.isMeasurementLabel)
                            labels.push(s);
                    }
                }
                // Extra safety: scan the layer for labels referencing this parent by id
                const parentId = getId(graphic);
                try {
                    const layer = this.props.graphicsLayer;
                    const all = (_g = (_f = (_e = layer === null || layer === void 0 ? void 0 : layer.graphics) === null || _e === void 0 ? void 0 : _e.toArray) === null || _f === void 0 ? void 0 : _f.call(_e)) !== null && _g !== void 0 ? _g : [];
                    for (const g of all) {
                        if (((_h = g === null || g === void 0 ? void 0 : g.attributes) === null || _h === void 0 ? void 0 : _h.isMeasurementLabel) && ((_j = g === null || g === void 0 ? void 0 : g.attributes) === null || _j === void 0 ? void 0 : _j.parentGraphicId) === parentId) {
                            if (!labels.includes(g))
                                labels.push(g);
                        }
                    }
                }
                catch (_k) {
                    // no-op
                }
                // Export deduped labels
                const seen = new Set();
                for (let i = 0; i < labels.length; i++) {
                    const lg = labels[i];
                    const lid = getId(lg);
                    if (seen.has(lid))
                        continue;
                    seen.add(lid);
                    try {
                        yield exportMeasurementLabel(lg, graphic, i);
                    }
                    catch (e) {
                        console.warn('Failed exporting measurement label', e);
                    }
                }
            }
            //console.log('Final features array:', geoJSONFeatures);
            return {
                geoJSONFormat: {
                    type: 'FeatureCollection',
                    features: geoJSONFeatures
                }
            };
        });
        // Convert coordinates to WGS84 (longitude/latitude)
        this.getWGS84Coordinates = (x, y) => {
            var _a, _b;
            const mapSR = (_b = (_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) === null || _b === void 0 ? void 0 : _b.spatialReference;
            // console.log('🔍 Converting coordinates:', {
            //   originalX: x,
            //   originalY: y,
            //   mapSR: mapSR?.wkid
            // });
            // If already in WGS84 (geographic coordinates)
            if (!mapSR || mapSR.wkid === 4326) {
                const result = {
                    lon: Number(x.toFixed(8)),
                    lat: Number(y.toFixed(8))
                };
                //console.log('🔍 Already WGS84:', result);
                return result;
            }
            // Convert from Web Mercator (most common)
            if (mapSR.wkid === 3857 || mapSR.wkid === 102100) {
                const lon = (x / 20037508.34) * 180;
                const lat = (Math.atan(Math.exp((y / 20037508.34) * Math.PI)) * 360 / Math.PI) - 90;
                const result = {
                    lon: Number(lon.toFixed(8)),
                    lat: Number(lat.toFixed(8))
                };
                //console.log('🔍 Converted from Web Mercator:', result);
                return result;
            }
            // For other coordinate systems, assume they need no conversion
            const result = {
                lon: Number(x.toFixed(8)),
                lat: Number(y.toFixed(8))
            };
            //console.log('🔍 Using original coordinates (unknown SR):', result);
            return result;
        };
        // Validate that coordinates are within valid WGS84 bounds
        this.isValidCoordinate = (lon, lat) => {
            return !isNaN(lon) && !isNaN(lat) &&
                lon >= -180 && lon <= 180 &&
                lat >= -90 && lat <= 90;
        };
        // Convert symbol properties to standard GeoJSON-friendly properties
        this.determineEsriGeometryType = (graphics) => {
            // Determine the predominant geometry type for Esri format
            const typeCounts = graphics.reduce((acc, graphic) => {
                var _a;
                const type = (_a = graphic.geometry) === null || _a === void 0 ? void 0 : _a.type;
                if (type) {
                    acc[type] = (acc[type] || 0) + 1;
                }
                return acc;
            }, {});
            const dominantType = Object.keys(typeCounts).reduce((a, b) => typeCounts[a] > typeCounts[b] ? a : b);
            switch (dominantType) {
                case 'point': return 'esriGeometryPoint';
                case 'polyline': return 'esriGeometryPolyline';
                case 'polygon':
                case 'extent': return 'esriGeometryPolygon';
                default: return 'esriGeometryPoint';
            }
        };
        this.getGraphicId = (graphic) => {
            var _a, _b, _c, _d, _e;
            // Try to use existing unique identifiers first
            if ((_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId) {
                return graphic.attributes.uniqueId;
            }
            if ((_b = graphic.attributes) === null || _b === void 0 ? void 0 : _b.objectId) {
                return `obj_${graphic.attributes.objectId}`;
            }
            // Fall back to generating an ID based on graphic properties
            const geometryType = ((_c = graphic.geometry) === null || _c === void 0 ? void 0 : _c.type) || 'unknown';
            const symbolType = ((_d = graphic.symbol) === null || _d === void 0 ? void 0 : _d.type) || 'unknown';
            const text = ((_e = graphic.symbol) === null || _e === void 0 ? void 0 : _e.text) || '';
            const timestamp = Date.now();
            const random = Math.floor(Math.random() * 10000);
            return `${geometryType}_${symbolType}_${text.substring(0, 10)}_${timestamp}_${random}`;
        };
        this.performFinalMeasurementCleanup = (deletedGraphic) => {
            if (!this.props.graphicsLayer)
                return;
            try {
                const allGraphics = this.props.graphicsLayer.graphics.toArray();
                const measurementLabels = allGraphics.filter(g => {
                    var _a;
                    const extG = g;
                    return (_a = extG.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel;
                });
                //console.log(`Final cleanup check: Found ${measurementLabels.length} measurement labels`);
                // ONLY remove measurement labels that are specifically orphaned by this deletion
                const orphanedLabels = measurementLabels.filter(label => {
                    var _a, _b;
                    const extLabel = label;
                    const parent = extLabel.measureParent;
                    const parentId = (_a = extLabel.attributes) === null || _a === void 0 ? void 0 : _a.parentId;
                    const deletedGraphicId = (_b = deletedGraphic.attributes) === null || _b === void 0 ? void 0 : _b.uniqueId;
                    // Only consider it orphaned if it was specifically linked to the deleted graphic
                    if (parent === deletedGraphic) {
                        return true; // Direct parent reference to deleted graphic
                    }
                    if (parentId && deletedGraphicId && parentId === deletedGraphicId) {
                        return true; // Parent ID matches deleted graphic's ID
                    }
                    // DO NOT remove labels that don't have a clear connection to the deleted graphic
                    return false;
                });
                if (orphanedLabels.length > 0) {
                    //console.log(`Removing ${orphanedLabels.length} labels that were specifically orphaned by this deletion`);
                    orphanedLabels.forEach(label => {
                        //console.log(`  - Removing orphaned label: "${label.attributes?.name || 'unnamed'}"`);
                        this.props.graphicsLayer.remove(label);
                    });
                }
                else {
                    //console.log('No specifically orphaned labels found');
                }
            }
            catch (error) {
                console.error('Error in final measurement cleanup:', error);
            }
        };
        this.createBufferSymbolFromParent = (parentGraphic) => {
            var _a, _b, _c;
            const geomType = (_a = parentGraphic.geometry) === null || _a === void 0 ? void 0 : _a.type;
            const parentSymbol = parentGraphic.symbol;
            // 🔧 CRITICAL: Use saved opacity from buffer settings, fallback to 50%
            const savedOpacity = (_b = parentGraphic.bufferSettings) === null || _b === void 0 ? void 0 : _b.opacity;
            const opacityToUse = savedOpacity !== undefined ? savedOpacity : 50;
            const opacityMultiplier = opacityToUse / 100;
            let fillColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([0, 0, 0, 0.15 * opacityMultiplier]);
            let outlineColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([0, 0, 0, 0.6 * opacityMultiplier]);
            try {
                if (geomType === 'polygon' && parentSymbol) {
                    const fillSym = parentSymbol;
                    if (fillSym === null || fillSym === void 0 ? void 0 : fillSym.color) {
                        const rgba = fillSym.color.toRgba ? fillSym.color.toRgba() : [0, 0, 0, 1];
                        fillColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([rgba[0], rgba[1], rgba[2], Math.min(rgba[3] * opacityMultiplier, 1.0)]);
                        outlineColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([rgba[0], rgba[1], rgba[2], Math.min(rgba[3] * opacityMultiplier, 1.0)]);
                    }
                    if ((_c = fillSym === null || fillSym === void 0 ? void 0 : fillSym.outline) === null || _c === void 0 ? void 0 : _c.color) {
                        const rgba = fillSym.outline.color.toRgba ? fillSym.outline.color.toRgba() : [0, 0, 0, 1];
                        outlineColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([rgba[0], rgba[1], rgba[2], Math.min(rgba[3] * opacityMultiplier, 1.0)]);
                    }
                }
                else if (geomType === 'polyline' && parentSymbol) {
                    const lineSym = parentSymbol;
                    if (lineSym === null || lineSym === void 0 ? void 0 : lineSym.color) {
                        const rgba = lineSym.color.toRgba ? lineSym.color.toRgba() : [0, 0, 0, 1];
                        fillColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([rgba[0], rgba[1], rgba[2], Math.min(rgba[3] * 0.6 * opacityMultiplier, 1.0)]);
                        outlineColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([rgba[0], rgba[1], rgba[2], Math.min(rgba[3] * opacityMultiplier, 1.0)]);
                    }
                }
                else if (geomType === 'point' && parentSymbol) {
                    const markerSym = parentSymbol;
                    if (markerSym === null || markerSym === void 0 ? void 0 : markerSym.color) {
                        const rgba = markerSym.color.toRgba ? markerSym.color.toRgba() : [0, 0, 0, 1];
                        fillColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([rgba[0], rgba[1], rgba[2], Math.min(rgba[3] * 0.6 * opacityMultiplier, 1.0)]);
                        outlineColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([rgba[0], rgba[1], rgba[2], Math.min(rgba[3] * opacityMultiplier, 1.0)]);
                    }
                }
            }
            catch (error) {
                console.warn('Error processing parent colors:', error);
            }
            //console.log(`🎨 MyDrawingsPanel: Creating buffer symbol with ${opacityToUse}% opacity`);
            return new esri_symbols_SimpleFillSymbol__WEBPACK_IMPORTED_MODULE_8__["default"]({
                color: fillColor,
                outline: new esri_symbols_SimpleLineSymbol__WEBPACK_IMPORTED_MODULE_7__["default"]({
                    color: outlineColor,
                    width: 1.5,
                    style: 'dash'
                })
            });
        };
        this.completeDeletion = () => {
            try {
                // ... deletion completed ...
                // **MODIFIED:** Re-enable measurement system if it was enabled before
                if (this.props.onMeasurementSystemControl && this._measurementWasEnabled) {
                    this.props.onMeasurementSystemControl(true);
                }
                this._isDeletingGraphic = false;
                this.forceMapRefresh();
                // ... logging ...
            }
            catch (error) {
                console.error('❌ Error completing deletion:', error);
                this._isDeletingGraphic = false;
                // **MODIFIED:** Only re-enable measurements on error if originally on
                if (this.props.onMeasurementSystemControl && this._measurementWasEnabled) {
                    this.props.onMeasurementSystemControl(true);
                }
            }
        };
        this.finishDeletion = (graphicToDelete, index) => {
            try {
                //console.log(`Finishing deletion of: ${graphicToDelete.attributes?.name || 'unnamed'}`);
                // Mark that we're about to update the graphics layer
                this.ignoreNextGraphicsUpdate = true;
                // Remove the main graphic from the layer
                this.props.graphicsLayer.remove(graphicToDelete);
                // AGGRESSIVE: Remove any measurement labels created during the deletion process
                setTimeout(() => {
                    this.performFinalMeasurementCleanup(graphicToDelete);
                }, 50);
                // Update state
                const updatedDrawings = [...this.state.drawings];
                updatedDrawings.splice(index, 1);
                const newSelected = new Set();
                this.state.selectedGraphics.forEach(selectedIndex => {
                    if (selectedIndex < index) {
                        newSelected.add(selectedIndex);
                    }
                    else if (selectedIndex > index) {
                        newSelected.add(selectedIndex - 1);
                    }
                });
                this.setState({
                    drawings: updatedDrawings,
                    selectedGraphicIndex: null,
                    selectedGraphics: newSelected,
                    symbolEditingIndex: null
                }, () => {
                    // Save to localStorage
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                    // Notify parent
                    if (this.props.onDrawingsUpdate) {
                        this.props.onDrawingsUpdate(updatedDrawings);
                    }
                    // Final cleanup and re-enable measurements
                    setTimeout(() => {
                        this.completeDeletion();
                    }, 300);
                });
                //console.log('Deletion process completed');
            }
            catch (error) {
                console.error('Error finishing deletion:', error);
                this.isDeletingGraphics = false; // Reset flag on error
                this.showLocalAlert('Error completing deletion', 'error');
                this.refreshDrawingsFromLayer();
            }
        };
        this.performAggressiveCleanup = (graphic) => {
            var _a, _b, _c, _d;
            if (!graphic || !this.props.graphicsLayer)
                return;
            try {
                //console.log(`🗑️ PRIORITY: Removing attached buffer FIRST for: ${graphic.attributes?.name || 'unnamed'}`);
                // 🔧 CRITICAL: Remove attached buffer FIRST, before anything else
                if (graphic.bufferGraphic) {
                    //console.log(`🗑️ Removing attached buffer for graphic ${graphic.attributes?.uniqueId}`);
                    this.props.graphicsLayer.remove(graphic.bufferGraphic);
                    graphic.bufferGraphic = null;
                }
                // Clear buffer settings immediately
                if (graphic.bufferSettings) {
                    graphic.bufferSettings = null;
                }
                // Remove geometry watchers for this graphic to prevent further buffer updates
                const parentId = (_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId;
                if (parentId && this._positionWatchers) {
                    Object.keys(this._positionWatchers).forEach(key => {
                        if (key.includes(parentId)) {
                            try {
                                this._positionWatchers[key].remove();
                                delete this._positionWatchers[key];
                                //console.log(`✅ Removed geometry watcher: ${key}`);
                            }
                            catch (error) {
                                console.warn('Error removing geometry watcher:', error);
                            }
                        }
                    });
                }
                const graphicUniqueId = (_b = graphic.attributes) === null || _b === void 0 ? void 0 : _b.uniqueId;
                const allGraphics = this.props.graphicsLayer.graphics.toArray();
                // Remove by direct reference (measurement labels)
                if ((_c = graphic.measure) === null || _c === void 0 ? void 0 : _c.graphic) {
                    //console.log('🗑️ Removing main measurement graphic by direct reference');
                    this.props.graphicsLayer.remove(graphic.measure.graphic);
                    graphic.measure = null;
                }
                // Remove segment labels by direct reference
                if (((_d = graphic.attributes) === null || _d === void 0 ? void 0 : _d.relatedSegmentLabels) && Array.isArray(graphic.attributes.relatedSegmentLabels)) {
                    //console.log(`🗑️ Removing ${graphic.attributes.relatedSegmentLabels.length} segment labels by direct reference`);
                    graphic.attributes.relatedSegmentLabels.forEach(segmentLabel => {
                        if (segmentLabel) {
                            this.props.graphicsLayer.remove(segmentLabel);
                        }
                    });
                    graphic.attributes.relatedSegmentLabels = [];
                }
                // Find and remove measurement labels related to this graphic
                const measurementLabelsToRemove = [];
                allGraphics.forEach(g => {
                    var _a, _b, _c, _d, _e, _f, _g;
                    const extendedG = g;
                    if ((_a = extendedG.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) {
                        if (extendedG.measureParent === graphic ||
                            (graphicUniqueId && ((_b = extendedG.attributes) === null || _b === void 0 ? void 0 : _b.parentId) === graphicUniqueId) ||
                            ((_c = graphic.measure) === null || _c === void 0 ? void 0 : _c.graphic) === extendedG ||
                            ((_e = (_d = graphic.attributes) === null || _d === void 0 ? void 0 : _d.relatedSegmentLabels) === null || _e === void 0 ? void 0 : _e.includes(extendedG)) ||
                            (graphicUniqueId && ((_g = (_f = extendedG.measureParent) === null || _f === void 0 ? void 0 : _f.attributes) === null || _g === void 0 ? void 0 : _g.uniqueId) === graphicUniqueId)) {
                            measurementLabelsToRemove.push(extendedG);
                        }
                    }
                });
                if (measurementLabelsToRemove.length > 0) {
                    //console.log(`🗑️ Removing ${measurementLabelsToRemove.length} measurement labels SPECIFICALLY related to this graphic`);
                    measurementLabelsToRemove.forEach(label => {
                        this.props.graphicsLayer.remove(label);
                    });
                }
                // 🔧 NEW: Also clean up any orphaned buffers that might reference this graphic
                const orphanedBuffers = allGraphics.filter(g => {
                    var _a, _b, _c, _d;
                    const extG = g;
                    return (((_a = extG.attributes) === null || _a === void 0 ? void 0 : _a.isBuffer) || ((_b = extG.attributes) === null || _b === void 0 ? void 0 : _b.isPreviewBuffer)) &&
                        (((_c = extG.attributes) === null || _c === void 0 ? void 0 : _c.parentId) === graphicUniqueId ||
                            ((_d = extG.attributes) === null || _d === void 0 ? void 0 : _d.sourceGraphicId) === graphicUniqueId);
                });
                if (orphanedBuffers.length > 0) {
                    //console.log(`🗑️ Removing ${orphanedBuffers.length} orphaned buffers that reference this graphic`);
                    orphanedBuffers.forEach(buffer => {
                        this.props.graphicsLayer.remove(buffer);
                    });
                }
                this.forceMapRefresh();
                //console.log('✅ Selective cleanup completed with comprehensive buffer removal');
            }
            catch (error) {
                console.error('❌ Error in selective cleanup:', error);
            }
        };
        this.isSuspiciousMeasurementLabel = (label, targetGraphic) => {
            if (!label.symbol || label.symbol.type !== 'text')
                return false;
            try {
                const labelText = label.symbol.text || '';
                const labelGeometry = label.geometry;
                const targetGeometry = targetGraphic.geometry;
                // Check if text looks like a measurement
                const measurementKeywords = ['area:', 'length:', 'perimeter:', 'radius:', 'total:', 'm²', 'ft²', 'km²', 'mi²', 'km', 'mi', 'ft', 'm'];
                const hasMetricContent = measurementKeywords.some(keyword => labelText.toLowerCase().includes(keyword.toLowerCase()));
                if (!hasMetricContent)
                    return false;
                // Check proximity - if label is very close to the graphic, it's probably related
                if (labelGeometry && targetGeometry && labelGeometry.extent && targetGeometry.extent) {
                    const labelCenter = labelGeometry.extent.center;
                    const targetCenter = targetGeometry.extent.center;
                    if (labelCenter && targetCenter) {
                        const distance = Math.sqrt(Math.pow(labelCenter.x - targetCenter.x, 2) +
                            Math.pow(labelCenter.y - targetCenter.y, 2));
                        // If within reasonable distance and has measurement content, consider it suspicious
                        const maxDistance = Math.max(targetGeometry.extent.width, targetGeometry.extent.height) * 2;
                        if (distance < maxDistance) {
                            //console.log(`Suspicious label found within ${distance} units of target (max: ${maxDistance})`);
                            return true;
                        }
                    }
                }
                return false;
            }
            catch (error) {
                console.error('Error checking suspicious label:', error);
                return false;
            }
        };
        this._isDeletingGraphic = false;
        // Ensure a halo exists for a point/text graphic
        this.ensurePointTextOverlay = (g) => {
            var _a;
            if (!g || !this.props.graphicsLayer) {
                //console.log('ensurePointTextOverlay: missing graphic or layer');
                return;
            }
            if (!g.geometry || g.geometry.type !== "point") {
                //console.log('ensurePointTextOverlay: not a point geometry');
                return;
            }
            const layer = this.props.graphicsLayer;
            // If halo exists: sync geometry & bring to front
            if (g._selectionOverlay) {
                //console.log('ensurePointTextOverlay: updating existing overlay');
                try {
                    g._selectionOverlay.geometry = g.geometry;
                }
                catch (e) {
                    console.warn('Error updating overlay geometry:', e);
                }
                this.bringOverlayToFront(g._selectionOverlay);
                return;
            }
            //console.log('ensurePointTextOverlay: creating new overlay for', g.attributes?.name);
            // Build halo symbol (square for text, circle for markers)
            const isText = ((_a = g.symbol) === null || _a === void 0 ? void 0 : _a.type) === "text";
            const overlaySymbol = new esri_symbols_SimpleMarkerSymbol__WEBPACK_IMPORTED_MODULE_6__["default"]({
                style: isText ? "square" : "circle",
                size: isText ? 26 : 22,
                color: [0, 0, 0, 0], // transparent fill
                outline: { color: [255, 128, 0, 1], width: 2 } // orange outline
            });
            const overlay = new esri_Graphic__WEBPACK_IMPORTED_MODULE_4__["default"]({
                geometry: g.geometry,
                symbol: overlaySymbol,
                attributes: {
                    hideFromList: true,
                    isMeasurementLabel: false,
                    isSelectionOverlay: true
                }
            });
            try {
                layer.add(overlay);
                g._selectionOverlay = overlay;
                //console.log('ensurePointTextOverlay: successfully created and added overlay');
            }
            catch (error) {
                console.error('ensurePointTextOverlay: error creating overlay:', error);
            }
        };
        this.continueDeleteGraphic = (index, graphicToDelete) => {
            var _a, _b;
            try {
                //console.log(`➡️ Continuing deletion after SketchViewModel cancel`);
                // 🔧 STEP 1: Remove attached buffer IMMEDIATELY (before anything else)
                if (graphicToDelete.bufferGraphic) {
                    //console.log(`🗑️ PRIORITY: Removing attached buffer first`);
                    this.props.graphicsLayer.remove(graphicToDelete.bufferGraphic);
                    graphicToDelete.bufferGraphic = null;
                }
                // Clear buffer settings
                if (graphicToDelete.bufferSettings) {
                    graphicToDelete.bufferSettings = null;
                }
                // 🔧 STEP 2: Remove geometry watchers to prevent buffer recreation
                const parentId = (_a = graphicToDelete.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId;
                if (parentId && this._positionWatchers) {
                    Object.keys(this._positionWatchers).forEach(key => {
                        if (key.includes(parentId)) {
                            try {
                                this._positionWatchers[key].remove();
                                delete this._positionWatchers[key];
                                //console.log(`✅ Removed geometry watcher: ${key}`);
                            }
                            catch (error) {
                                console.warn('Error removing geometry watcher:', error);
                            }
                        }
                    });
                }
                // STEP 3: Clean up measurement labels
                //console.log(`🧹 Cleaning up measurement labels for graphic`);
                this.removeMeasurementLabels(graphicToDelete);
                // STEP 4: Find and remove ONLY the specific graphic from the layer
                const uniqueId = (_b = graphicToDelete.attributes) === null || _b === void 0 ? void 0 : _b.uniqueId;
                if (uniqueId) {
                    //console.log(`🔍 Looking for graphic with uniqueId: ${uniqueId}`);
                    // Find the exact graphic in the layer by uniqueId
                    const layerGraphics = this.props.graphicsLayer.graphics.toArray();
                    const targetGraphic = layerGraphics.find(g => {
                        var _a, _b, _c, _d, _e;
                        return ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId) === uniqueId &&
                            !((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.isMeasurementLabel) &&
                            !((_c = g.attributes) === null || _c === void 0 ? void 0 : _c.hideFromList) &&
                            !((_d = g.attributes) === null || _d === void 0 ? void 0 : _d.isBuffer) && // Make sure we don't accidentally target a buffer
                            !((_e = g.attributes) === null || _e === void 0 ? void 0 : _e.isPreviewBuffer);
                    });
                    if (targetGraphic) {
                        //console.log(`✅ Found target graphic in layer, removing it`);
                        // Mark that we're about to update the graphics layer
                        this.ignoreNextGraphicsUpdate = true;
                        // Remove ONLY the target graphic
                        this.props.graphicsLayer.remove(targetGraphic);
                        //console.log(`🗑️ Removed graphic from layer`);
                    }
                    else {
                        console.warn(`⚠️ Could not find graphic with uniqueId ${uniqueId} in layer`);
                    }
                }
                else {
                    console.warn(`⚠️ Graphic has no uniqueId, using fallback removal`);
                    // Fallback: remove by reference (less reliable)
                    this.ignoreNextGraphicsUpdate = true;
                    this.props.graphicsLayer.remove(graphicToDelete);
                }
                // STEP 5: Perform aggressive cleanup for any remaining related graphics
                if (uniqueId) {
                    setTimeout(() => {
                        this.performAggressiveMeasurementCleanup(uniqueId);
                    }, 200);
                }
                // STEP 6: Update state manually for immediate feedback
                const updatedDrawings = [...this.state.drawings];
                updatedDrawings.splice(index, 1);
                // STEP 7: Update selected graphics
                const newSelected = new Set();
                this.state.selectedGraphics.forEach(selectedIndex => {
                    if (selectedIndex < index) {
                        newSelected.add(selectedIndex);
                    }
                    else if (selectedIndex > index) {
                        newSelected.add(selectedIndex - 1);
                    }
                });
                // STEP 8: Update state and clear selections
                this.setState({
                    drawings: updatedDrawings,
                    selectedGraphicIndex: null,
                    selectedGraphics: newSelected,
                    symbolEditingIndex: null // Also clear any symbol editing
                }, () => {
                    //console.log(`📊 Updated state - ${updatedDrawings.length} drawings remaining`);
                    // Save to localStorage if consent granted
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                    // Notify parent if needed
                    if (this.props.onDrawingsUpdate) {
                        this.props.onDrawingsUpdate(updatedDrawings);
                    }
                    // Clear deletion flag
                    this._isDeletingGraphic = false;
                    // Verify the layer state after a longer delay to allow cleanup to complete
                    setTimeout(() => {
                        this.verifyLayerState();
                    }, 500);
                });
                //console.log(`✅ Deletion completed successfully with buffer-first approach`);
            }
            catch (error) {
                console.error('❌ Error during deletion continuation:', error);
                this._isDeletingGraphic = false;
                this.showLocalAlert('Error deleting drawing', 'error');
                this.refreshDrawingsFromLayer();
            }
        };
        this.restoreSketchViewModelSelection = (graphic) => {
            if (!this.sketchViewModel || !graphic)
                return;
            try {
                // Small delay to ensure layer operations complete
                setTimeout(() => {
                    if (this.sketchViewModel && !this._isDeletingGraphic) {
                        this.sketchViewModel.update([graphic]);
                    }
                }, 100);
            }
            catch (error) {
                console.warn('Could not restore SketchViewModel selection:', error);
            }
        };
        // Remove halo for a single graphic by index
        this.removePointTextOverlayByIndex = (index) => {
            var _a;
            if (index == null)
                return;
            const g = (_a = this.state.drawings) === null || _a === void 0 ? void 0 : _a[index];
            this.removePointTextOverlay(g);
        };
        // Remove halos for all currently selected items (multi + single)
        this.removeAllSelectionOverlays = () => {
            const set = this.state.selectedGraphics;
            if (set === null || set === void 0 ? void 0 : set.size)
                set.forEach(idx => this.removePointTextOverlayByIndex(idx));
            this.removePointTextOverlayByIndex(this.state.selectedGraphicIndex);
        };
        this.bringOverlayToFront = (overlay) => {
            if (!overlay || !this.props.graphicsLayer)
                return;
            try {
                this.props.graphicsLayer.remove(overlay);
                this.props.graphicsLayer.add(overlay); // last-in draws on top
            }
            catch (_a) { }
        };
        // Helper: remove halo overlay if present
        this.removePointTextOverlay = (g) => {
            if (!g || !this.props.graphicsLayer)
                return;
            if (g._selectionOverlay) {
                try {
                    this.props.graphicsLayer.remove(g._selectionOverlay);
                }
                catch (_a) { }
                g._selectionOverlay = null;
            }
        };
        this.performAggressiveMeasurementCleanup = (deletedGraphicId) => {
            if (!this.props.graphicsLayer)
                return;
            try {
                //console.log(`🧹 Performing aggressive measurement cleanup for graphic: ${deletedGraphicId}`);
                const allGraphics = this.props.graphicsLayer.graphics.toArray();
                let removedCount = 0;
                // Find all measurement labels that might be orphaned
                const potentialOrphans = allGraphics.filter(g => {
                    var _a;
                    const extG = g;
                    return (_a = extG.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel;
                });
                //console.log(`🔍 Found ${potentialOrphans.length} total measurement labels in layer`);
                // For each measurement label, check if its parent still exists
                potentialOrphans.forEach(label => {
                    var _a, _b;
                    const extLabel = label;
                    const parentId = (_a = extLabel.attributes) === null || _a === void 0 ? void 0 : _a.parentId;
                    let shouldRemove = false;
                    // Check if this label belongs to the deleted graphic
                    if (parentId === deletedGraphicId) {
                        //console.log(`🎯 Found orphaned label with parentId: ${parentId}`);
                        shouldRemove = true;
                    }
                    else if (parentId) {
                        // Check if the parent still exists in the layer
                        const parentExists = allGraphics.some(g => {
                            var _a, _b;
                            return ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId) === parentId &&
                                !((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.isMeasurementLabel);
                        });
                        if (!parentExists) {
                            //console.log(`🎯 Found orphaned label - parent ${parentId} no longer exists`);
                            shouldRemove = true;
                        }
                    }
                    else {
                        // Label has no parentId - check if it has a measureParent reference
                        if (extLabel.measureParent) {
                            const parentUniqueId = (_b = extLabel.measureParent.attributes) === null || _b === void 0 ? void 0 : _b.uniqueId;
                            if (parentUniqueId === deletedGraphicId) {
                                //console.log(`🎯 Found orphaned label via measureParent reference`);
                                shouldRemove = true;
                            }
                            else {
                                // Check if measureParent still exists in layer
                                const parentExists = allGraphics.some(g => {
                                    var _a, _b;
                                    return ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId) === parentUniqueId &&
                                        !((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.isMeasurementLabel);
                                });
                                if (!parentExists) {
                                    //console.log(`🎯 Found orphaned label - measureParent no longer exists`);
                                    shouldRemove = true;
                                }
                            }
                        }
                        else {
                            // Label has no parent reference at all - it's likely orphaned
                            //console.log(`🎯 Found label with no parent reference - likely orphaned`);
                            shouldRemove = true;
                        }
                    }
                    if (shouldRemove) {
                        try {
                            this.props.graphicsLayer.remove(label);
                            removedCount++;
                            //console.log(`🗑️ Removed orphaned measurement label`);
                        }
                        catch (err) {
                            console.warn('❌ Failed to remove orphaned label:', err);
                        }
                    }
                });
                if (removedCount > 0) {
                    //console.log(`✅ Aggressive cleanup completed - removed ${removedCount} orphaned measurement labels`);
                }
                else {
                    //console.log(`✅ Aggressive cleanup completed - no orphaned labels found`);
                }
                // Force a final map refresh to ensure everything is clean
                setTimeout(() => {
                    this.forceMapRefresh();
                }, 100);
            }
            catch (error) {
                console.error('❌ Error in aggressive measurement cleanup:', error);
            }
        };
        this.measureRef = null; // Reference to measurement component
        this._measurementUpdateTimeout = null; // Timeout for debouncing measurement updates
        this._saveToStorageTimeout = null; // Debounce storage saves
        this._isUpdatingMeasurements = false; // Prevent concurrent updates
        this._measurementUpdateQueue = new Set(); // Queue graphics for updates
        this._processingMeasurements = false; // Prevent recursive processing
        this.updateAttachedBuffer = (parentGraphic) => __awaiter(this, void 0, void 0, function* () {
            if (!parentGraphic.bufferGraphic || !parentGraphic.bufferSettings || !this.props.graphicsLayer) {
                return;
            }
            try {
                const { distance, unit } = parentGraphic.bufferSettings;
                //console.log(`🔄 Creating new buffer geometry for ${parentGraphic.attributes?.uniqueId}`);
                // Create new buffer geometry
                const newBufferGeometry = yield this.createBufferGeometry(parentGraphic.geometry, distance, unit);
                if (newBufferGeometry) {
                    // Update the buffer graphic's geometry immediately
                    parentGraphic.bufferGraphic.geometry = newBufferGeometry;
                    // Force layer refresh to ensure visual update
                    this.props.graphicsLayer.remove(parentGraphic.bufferGraphic);
                    this.props.graphicsLayer.add(parentGraphic.bufferGraphic);
                    //console.log(`✅ Buffer geometry updated and refreshed for graphic ${parentGraphic.attributes?.uniqueId}`);
                }
            }
            catch (error) {
                console.error('❌ Error updating attached buffer:', error);
            }
        });
        this.ensureBufferWatchersForSelectedGraphic = (graphic) => {
            var _a;
            // If the graphic has buffer settings, ensure geometry watcher is active
            if (graphic.bufferSettings && graphic.bufferSettings.enabled && graphic.bufferGraphic) {
                const parentId = (_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId;
                if (parentId) {
                    //console.log(`🔧 MyDrawingsPanel: Ensuring buffer watcher for selected graphic: ${parentId}`);
                    // Set up geometry watcher for real-time buffer updates
                    const existingWatcher = this._positionWatchers[parentId + '_buffer'];
                    if (existingWatcher) {
                        existingWatcher.remove();
                    }
                    // Create a geometry watcher specifically for buffer updates
                    this._positionWatchers[parentId + '_buffer'] = graphic.watch('geometry', (newGeometry) => __awaiter(this, void 0, void 0, function* () {
                        //console.log(`🔄 MyDrawingsPanel: Geometry changed, updating buffer for ${parentId}`);
                        if (graphic.bufferGraphic && graphic.bufferSettings) {
                            try {
                                // Update buffer immediately
                                yield this.updateAttachedBuffer(graphic);
                            }
                            catch (error) {
                                console.error('❌ Error updating buffer from MyDrawingsPanel:', error);
                            }
                        }
                    }));
                }
            }
        };
        this.createBufferGeometry = (geometry, distance, unit) => __awaiter(this, void 0, void 0, function* () {
            var _a, _b, _c;
            try {
                const view = (_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view;
                if (!view)
                    return null;
                const linearUnit = unit;
                let bufferResult = null;
                if (((_b = view.spatialReference) === null || _b === void 0 ? void 0 : _b.isGeographic) || ((_c = view.spatialReference) === null || _c === void 0 ? void 0 : _c.isWebMercator)) {
                    bufferResult = yield esri_geometry_geometryEngineAsync__WEBPACK_IMPORTED_MODULE_12__["default"].geodesicBuffer(geometry, distance, linearUnit);
                }
                else {
                    bufferResult = yield esri_geometry_geometryEngineAsync__WEBPACK_IMPORTED_MODULE_12__["default"].buffer(geometry, distance, linearUnit, true);
                }
                if (!bufferResult) {
                    console.warn('Buffer operation returned null');
                    return null;
                }
                if (Array.isArray(bufferResult)) {
                    if (bufferResult.length === 0) {
                        console.warn('Buffer operation returned empty array');
                        return null;
                    }
                    return bufferResult[0];
                }
                return bufferResult;
            }
            catch (error) {
                console.error('Error creating buffer geometry:', error);
                return null;
            }
        });
        this._geometryWatchTimeouts = {}; // Debounce geometry changes
        this.performActualSave = () => {
            if (this.props.allowLocalStorage === false || this.state.consentGranted !== true)
                return;
            try {
                // Get ALL graphics from the layer (including measurement labels and buffers)
                const currentGraphics = this.props.graphicsLayer.graphics.toArray();
                // Separate main drawings from buffers and measurement labels
                const mainDrawings = currentGraphics.filter(g => {
                    var _a, _b, _c, _d, _e;
                    return !((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) &&
                        !((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.hideFromList) &&
                        !((_c = g.attributes) === null || _c === void 0 ? void 0 : _c.isPreviewBuffer) &&
                        !((_d = g.attributes) === null || _d === void 0 ? void 0 : _d.isBuffer) && // Exclude buffer graphics from main drawings
                        !((_e = g.attributes) === null || _e === void 0 ? void 0 : _e.isBufferDrawing);
                });
                const measurementLabels = currentGraphics.filter(g => {
                    var _a, _b;
                    return ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) &&
                        !((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.isPreviewBuffer);
                });
                // Don't save standalone buffer graphics since they'll be recreated from parent settings
                // Instead, save buffer settings with parent graphics
                // Prepare main drawings for storage with buffer settings
                const drawingsToSave = mainDrawings.map((graphic) => {
                    const extendedGraphic = asExtendedGraphic(graphic);
                    const json = graphic.toJSON();
                    // Ensure each graphic has a uniqueId
                    if (!json.attributes) {
                        json.attributes = {};
                    }
                    if (!json.attributes.uniqueId) {
                        const uniqueId = `restored_${Date.now()}_${Math.floor(Math.random() * 10000)}`;
                        json.attributes.uniqueId = uniqueId;
                    }
                    if (!json.attributes.createdDate) {
                        json.attributes.createdDate = Date.now();
                    }
                    // 🔧 CRITICAL: Save buffer settings INCLUDING OPACITY if this graphic has an attached buffer
                    if (extendedGraphic.bufferSettings) {
                        json.attributes.bufferSettings = {
                            distance: extendedGraphic.bufferSettings.distance,
                            unit: extendedGraphic.bufferSettings.unit,
                            enabled: extendedGraphic.bufferSettings.enabled,
                            opacity: extendedGraphic.bufferSettings.opacity // 🚨 CRITICAL: Include opacity in save
                        };
                        //console.log(`💾 MyDrawingsPanel: Saving buffer settings for graphic ${json.attributes.uniqueId}:`, json.attributes.bufferSettings);
                    }
                    return json;
                });
                // Prepare measurement labels for storage
                // In performActualSave() method, update the measurement labels section:
                // Prepare measurement labels for storage WITH customization data
                const measurementLabelsToSave = measurementLabels.map((label) => {
                    var _a, _b, _c, _d, _e, _f, _g, _h;
                    const extendedLabel = asExtendedGraphic(label);
                    const json = label.toJSON();
                    if (!json.attributes) {
                        json.attributes = {};
                    }
                    // Store the parent graphic's uniqueId for restoration
                    if ((_b = (_a = extendedLabel.measureParent) === null || _a === void 0 ? void 0 : _a.attributes) === null || _b === void 0 ? void 0 : _b.uniqueId) {
                        json.attributes.parentGraphicId = extendedLabel.measureParent.attributes.uniqueId;
                    }
                    // Ensure measurement label flags are preserved
                    json.attributes.isMeasurementLabel = true;
                    json.attributes.hideFromList = true;
                    // CRITICAL: Save customization flags and custom position data
                    if ((_c = extendedLabel.attributes) === null || _c === void 0 ? void 0 : _c.customized) {
                        json.attributes.customized = true;
                        json.attributes.lastModified = extendedLabel.attributes.lastModified;
                    }
                    if (((_d = extendedLabel.attributes) === null || _d === void 0 ? void 0 : _d.hasCustomPosition) && ((_e = extendedLabel.attributes) === null || _e === void 0 ? void 0 : _e.customPosition)) {
                        json.attributes.hasCustomPosition = true;
                        json.attributes.customPosition = extendedLabel.attributes.customPosition;
                    }
                    // Save measurement type
                    if ((_f = extendedLabel.attributes) === null || _f === void 0 ? void 0 : _f.measurementType) {
                        json.attributes.measurementType = extendedLabel.attributes.measurementType;
                    }
                    // Save measurement units
                    if ((_g = extendedLabel.attributes) === null || _g === void 0 ? void 0 : _g.lengthUnit) {
                        json.attributes.lengthUnit = extendedLabel.attributes.lengthUnit;
                    }
                    if ((_h = extendedLabel.attributes) === null || _h === void 0 ? void 0 : _h.areaUnit) {
                        json.attributes.areaUnit = extendedLabel.attributes.areaUnit;
                    }
                    return json;
                });
                // Update version to 1.4
                const allGraphicsToSave = {
                    drawings: drawingsToSave,
                    measurementLabels: measurementLabelsToSave,
                    version: "1.4" // Updated version to support measurement customization
                };
                const storageKey = this.localStorageKey;
                // Save asynchronously when the browser is idle
                const saveFn = () => {
                    try {
                        const stringified = JSON.stringify(allGraphicsToSave);
                        localStorage.setItem(storageKey, stringified);
                        //console.log(`✅ Successfully saved ${drawingsToSave.length} drawing(s) with buffer settings and ${measurementLabelsToSave.length} measurement label(s) to localStorage`);
                    }
                    catch (stringifyError) {
                        console.error(`❌ Failed to stringify graphics for localStorage`, stringifyError);
                        this.showLocalAlert('Error saving drawings (stringify failed)', 'error');
                    }
                };
                // Use requestIdleCallback for better performance, fallback to setTimeout
                if ('requestIdleCallback' in window) {
                    window.requestIdleCallback(saveFn, { timeout: 5000 });
                }
                else {
                    setTimeout(saveFn, 0);
                }
            }
            catch (err) {
                console.error(`❌ Error preparing drawings for localStorage`, err);
                this.showLocalAlert('Error saving drawings', 'error');
            }
        };
        this.debouncedMeasurementUpdate = (graphic, delay = 500) => {
            var _a;
            if (!graphic || !((_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId))
                return;
            // CRITICAL: Prevent loops by checking if we're already updating measurements
            if (this._isUpdatingMeasurements) {
                //console.log(`⏭️ Skipping measurement update - already in progress`);
                return;
            }
            const graphicId = graphic.attributes.uniqueId;
            // Clear any existing timeout for this graphic
            if (this._geometryWatchTimeouts[graphicId]) {
                clearTimeout(this._geometryWatchTimeouts[graphicId]);
            }
            // Set a new timeout
            this._geometryWatchTimeouts[graphicId] = setTimeout(() => {
                this.performSingleMeasurementUpdate(graphic);
                delete this._geometryWatchTimeouts[graphicId];
            }, delay);
        };
        this.performSingleMeasurementUpdate = (graphic) => {
            var _a, _b;
            if (!graphic || !((_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) || this._isUpdatingMeasurements) {
                return;
            }
            // CRITICAL: Set flag to prevent re-entry
            this._isUpdatingMeasurements = true;
            const graphicId = ((_b = graphic.attributes) === null || _b === void 0 ? void 0 : _b.uniqueId) || 'unknown';
            try {
                //console.log(`📐 Updating measurements for: ${graphic.attributes?.name || graphicId}`);
                // Call the measurement update but wrap it to handle any errors
                this.measureRef.current.updateMeasurementsForGraphic(graphic);
            }
            catch (error) {
                console.warn(`❌ Could not update measurements for ${graphicId}:`, error);
            }
            finally {
                // CRITICAL: Always clear the flag, even on error
                setTimeout(() => {
                    this._isUpdatingMeasurements = false;
                }, 100); // Small delay to ensure measurement system has time to complete
            }
        };
        this.cleanupOrphanedMeasurementLabels = () => {
            if (!this.props.graphicsLayer)
                return;
            //console.log('🧹 Starting automatic cleanup of orphaned measurement labels and buffers');
            try {
                const allGraphics = this.props.graphicsLayer.graphics.toArray();
                // Separate different types of graphics
                const actualDrawings = allGraphics.filter(g => {
                    var _a, _b, _c, _d;
                    const extG = g;
                    return !((_a = extG.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) &&
                        !((_b = extG.attributes) === null || _b === void 0 ? void 0 : _b.hideFromList) &&
                        !((_c = extG.attributes) === null || _c === void 0 ? void 0 : _c.isBuffer) &&
                        !((_d = extG.attributes) === null || _d === void 0 ? void 0 : _d.isPreviewBuffer); // Also exclude preview buffers
                });
                const measurementLabels = allGraphics.filter(g => {
                    var _a, _b;
                    const extG = g;
                    return ((_a = extG.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) && !((_b = extG.attributes) === null || _b === void 0 ? void 0 : _b.isBuffer);
                });
                // 🔧 ENHANCED: Include ALL buffer types in cleanup
                const bufferGraphics = allGraphics.filter(g => {
                    var _a, _b;
                    const extG = g;
                    return ((_a = extG.attributes) === null || _a === void 0 ? void 0 : _a.isBuffer) ||
                        ((_b = extG.attributes) === null || _b === void 0 ? void 0 : _b.isPreviewBuffer) ||
                        extG.isBufferDrawing; // Legacy buffer drawings
                });
                //console.log(`Found ${actualDrawings.length} drawings, ${measurementLabels.length} measurement labels, ${bufferGraphics.length} buffers`);
                // Create a set of valid parent IDs from actual drawings
                const validParentIds = new Set(actualDrawings
                    .map(drawing => { var _a; return (_a = drawing.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId; })
                    .filter(id => id));
                // Find orphaned measurement labels
                const orphanedLabels = measurementLabels.filter(label => {
                    var _a, _b, _c;
                    const parentId = ((_a = label.attributes) === null || _a === void 0 ? void 0 : _a.parentGraphicId) ||
                        ((_c = (_b = label.measureParent) === null || _b === void 0 ? void 0 : _b.attributes) === null || _c === void 0 ? void 0 : _c.uniqueId);
                    return !parentId || !validParentIds.has(parentId);
                });
                // 🔧 ENHANCED: Find orphaned buffers using multiple checks
                const orphanedBuffers = bufferGraphics.filter(buffer => {
                    var _a, _b;
                    // Check parentId (for attached buffers)
                    const parentId = (_a = buffer.attributes) === null || _a === void 0 ? void 0 : _a.parentId;
                    if (parentId && !validParentIds.has(parentId)) {
                        return true;
                    }
                    // Check sourceGraphicId (for legacy buffer drawings)
                    const sourceId = buffer.sourceGraphicId || ((_b = buffer.attributes) === null || _b === void 0 ? void 0 : _b.sourceGraphicId);
                    if (sourceId && !validParentIds.has(sourceId)) {
                        return true;
                    }
                    // If no parent reference at all, it's likely orphaned
                    if (!parentId && !sourceId) {
                        return true;
                    }
                    return false;
                });
                // Clean up orphaned items
                if (orphanedLabels.length > 0) {
                    //console.log(`🗑️ Auto-removing ${orphanedLabels.length} orphaned measurement labels`);
                    orphanedLabels.forEach(label => {
                        this.props.graphicsLayer.remove(label);
                    });
                }
                if (orphanedBuffers.length > 0) {
                    //console.log(`🗑️ Auto-removing ${orphanedBuffers.length} orphaned buffer graphics`);
                    orphanedBuffers.forEach(buffer => {
                        this.props.graphicsLayer.remove(buffer);
                    });
                }
                if (orphanedLabels.length === 0 && orphanedBuffers.length === 0) {
                    //console.log('✅ No orphaned graphics found');
                }
                else {
                    // Force a map refresh after cleanup
                    this.forceMapRefresh();
                    //console.log(`✅ Auto-cleanup completed - removed ${orphanedLabels.length} labels and ${orphanedBuffers.length} buffers`);
                }
            }
            catch (error) {
                console.error('❌ Error during automatic orphaned graphics cleanup:', error);
            }
        };
        this.cleanupLocalStorageMeasurements = () => {
            if (this.props.allowLocalStorage === false || this.state.consentGranted !== true)
                return;
            try {
                const storageKey = this.localStorageKey;
                const savedData = localStorage.getItem(storageKey);
                if (!savedData)
                    return;
                const parsedData = JSON.parse(savedData);
                // Handle new format with drawings and measurementLabels
                if (parsedData.version === "1.1" && parsedData.drawings && parsedData.measurementLabels) {
                    const drawings = parsedData.drawings || [];
                    const measurementLabels = parsedData.measurementLabels || [];
                    // Create set of valid parent IDs from drawings
                    const validParentIds = new Set(drawings
                        .map(drawing => { var _a; return (_a = drawing.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId; })
                        .filter(id => id));
                    // Filter out orphaned measurement labels
                    const cleanedMeasurementLabels = measurementLabels.filter(label => {
                        var _a;
                        const parentId = (_a = label.attributes) === null || _a === void 0 ? void 0 : _a.parentGraphicId;
                        return parentId && validParentIds.has(parentId);
                    });
                    if (cleanedMeasurementLabels.length !== measurementLabels.length) {
                        //console.log(`🧹 Auto-cleaning localStorage: ${measurementLabels.length} -> ${cleanedMeasurementLabels.length} measurement labels`);
                        // Update localStorage with cleaned data
                        const cleanedData = Object.assign(Object.assign({}, parsedData), { measurementLabels: cleanedMeasurementLabels });
                        localStorage.setItem(storageKey, JSON.stringify(cleanedData));
                        //console.log('✅ localStorage auto-cleaned successfully');
                    }
                }
            }
            catch (error) {
                console.error('❌ Error auto-cleaning localStorage measurements:', error);
            }
        };
        this.safeSketchViewModelUpdate = (graphics) => {
            if (!this.sketchViewModel || !graphics || graphics.length === 0) {
                return Promise.resolve();
            }
            try {
                // Validate graphics before updating
                const validGraphics = graphics.filter(graphic => {
                    return graphic &&
                        graphic.geometry &&
                        graphic.symbol &&
                        !graphic.destroyed &&
                        graphic.layer === this.props.graphicsLayer;
                });
                if (validGraphics.length === 0) {
                    return Promise.resolve();
                }
                // Create the update operation with error handling
                const updatePromise = this.sketchViewModel.update(validGraphics);
                // Handle the promise to prevent uncaught errors
                if (updatePromise && typeof updatePromise.catch === 'function') {
                    return updatePromise.catch(error => {
                        console.warn('SketchViewModel update error (handled):', error);
                        // Don't re-throw, just handle silently
                        return Promise.resolve();
                    });
                }
                return Promise.resolve();
            }
            catch (error) {
                console.warn('SketchViewModel update error (caught):', error);
                return Promise.resolve();
            }
        };
        this.recreateAttachedBuffer = (parentGraphic_1, ...args_1) => __awaiter(this, [parentGraphic_1, ...args_1], void 0, function* (parentGraphic, restored = true) {
            var _a, _b, _c, _d, _e;
            if (!parentGraphic.bufferSettings || !this.props.graphicsLayer) {
                //console.log(`❌ Cannot recreate buffer - missing settings or layer`);
                return;
            }
            const { distance, unit, enabled, opacity } = parentGraphic.bufferSettings;
            if (!enabled) {
                //console.log(`⏭️ Buffer disabled for graphic ${parentGraphic.attributes?.uniqueId}`);
                return;
            }
            // 🔧 CRITICAL: Use the saved opacity from buffer settings, fallback to 50% only if undefined
            const savedOpacity = opacity !== undefined ? opacity : 50;
            try {
                //console.log(`🔄 Recreating buffer for graphic ${parentGraphic.attributes?.uniqueId} with ${savedOpacity}% opacity (restored: ${restored})`);
                const bufferGeometry = yield this.createBufferGeometry(parentGraphic.geometry, distance, unit);
                if (!bufferGeometry) {
                    console.warn(`❌ Failed to recreate buffer geometry for graphic ${(_a = parentGraphic.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId}`);
                    return;
                }
                // 🔧 CRITICAL: Update buffer settings to include the saved opacity BEFORE creating the symbol
                parentGraphic.bufferSettings = {
                    distance: distance,
                    unit: unit,
                    enabled: enabled,
                    opacity: savedOpacity // Ensure this is set before creating the symbol
                };
                // Create buffer symbol using parent graphic's colors AND saved opacity
                const bufferSymbol = this.createBufferSymbolFromParent(parentGraphic);
                const bufferGraphic = new esri_Graphic__WEBPACK_IMPORTED_MODULE_4__["default"]({
                    geometry: bufferGeometry,
                    symbol: bufferSymbol,
                    attributes: {
                        uniqueId: `buffer_${(_b = parentGraphic.attributes) === null || _b === void 0 ? void 0 : _b.uniqueId}_${Date.now()}`,
                        name: `${((_c = parentGraphic.attributes) === null || _c === void 0 ? void 0 : _c.name) || 'Drawing'} Buffer`,
                        parentId: (_d = parentGraphic.attributes) === null || _d === void 0 ? void 0 : _d.uniqueId,
                        isBuffer: true,
                        hideFromList: true,
                        isMeasurementLabel: false,
                        bufferDistance: distance,
                        bufferUnit: unit
                    }
                });
                const extendedBufferGraphic = asExtendedGraphic(bufferGraphic);
                extendedBufferGraphic.isBufferDrawing = true;
                extendedBufferGraphic.sourceGraphicId = (_e = parentGraphic.attributes) === null || _e === void 0 ? void 0 : _e.uniqueId;
                parentGraphic.bufferGraphic = extendedBufferGraphic;
                const parentIndex = this.props.graphicsLayer.graphics.indexOf(parentGraphic);
                if (parentIndex >= 0) {
                    this.props.graphicsLayer.graphics.add(extendedBufferGraphic, parentIndex);
                }
                else {
                    this.props.graphicsLayer.add(extendedBufferGraphic);
                }
                //console.log(`✅ Successfully recreated attached buffer for graphic ${parentGraphic.attributes?.uniqueId} with ${savedOpacity}% opacity`);
            }
            catch (error) {
                console.error('❌ Error recreating attached buffer:', error);
            }
        });
        this.setupInteractionManager = () => {
            var _a;
            if (!((_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view))
                return;
            try {
                // Store original quality setting
                const view = this.props.jimuMapView.view;
                if (view.qualityProfile !== undefined) {
                    this._originalQuality = view.qualityProfile;
                }
                // More efficient interaction handling
                const startInteraction = () => {
                    if (!this._isInteracting) {
                        this._isInteracting = true;
                        // Lower quality during interaction
                        if (view.qualityProfile !== undefined) {
                            view.qualityProfile = "low";
                        }
                        // Hide measurement graphics during interaction
                        if (this.props.graphicsLayer) {
                            this.props.graphicsLayer.graphics.forEach((g) => {
                                var _a, _b;
                                if (((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) || ((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.hideDuringInteraction)) {
                                    g.visible = false;
                                }
                            });
                        }
                    }
                };
                // Debounced end interaction with longer delay
                const endInteraction = this.debounce(() => {
                    if (this._isInteracting) {
                        this._isInteracting = false;
                        // Restore original quality
                        if (view.qualityProfile !== undefined) {
                            view.qualityProfile = this._originalQuality;
                        }
                        // Show hidden graphics
                        if (this.props.graphicsLayer) {
                            this.props.graphicsLayer.graphics.forEach((g) => {
                                var _a, _b;
                                if (((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) || ((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.hideDuringInteraction)) {
                                    g.visible = true;
                                }
                            });
                        }
                        // Force a refresh after a short delay
                        setTimeout(() => this.forceMapRefresh(), 250);
                    }
                }, 300); // Longer debounce for smoother transitions
                // Register all interaction events
                this.props.jimuMapView.view.on("drag", startInteraction);
                this.props.jimuMapView.view.on("drag", ["end"], endInteraction);
                this.props.jimuMapView.view.on("mouse-wheel", startInteraction);
                this.props.jimuMapView.view.on("mouse-wheel", endInteraction);
                this.props.jimuMapView.view.on("key-down", (event) => {
                    const navKeys = ["+", "-", "_", "=", "ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"];
                    if (navKeys.includes(event.key)) {
                        startInteraction();
                    }
                });
                this.props.jimuMapView.view.on("key-up", endInteraction);
            }
            catch (err) {
                console.warn("Could not setup interaction manager:", err);
            }
        };
        // Track when user starts interacting
        this.handleInteractionStart = () => {
            var _a;
            this._isInteracting = true;
            try {
                const view = (_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view;
                // Lower rendering quality for smoother interaction
                if ((view === null || view === void 0 ? void 0 : view.qualityProfile) !== undefined) {
                    view.qualityProfile = "low";
                }
                // Optionally hide graphics like labels during interaction
                if (this.props.graphicsLayer) {
                    this.props.graphicsLayer.graphics.forEach((g) => {
                        var _a, _b;
                        if (((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) || ((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.hideDuringInteraction)) {
                            g.visible = false;
                        }
                    });
                }
            }
            catch (err) {
                console.warn("Error in interaction start handler:", err);
            }
        };
        this.ensureUniqueName = (name) => {
            if (!name)
                return `Drawing_${Date.now()}`;
            // Check if this name already exists in our drawings
            const lowerCaseName = name.toLowerCase();
            const existingNames = this.state.drawings.map(d => { var _a; return (((_a = d.attributes) === null || _a === void 0 ? void 0 : _a.name) || '').toLowerCase(); });
            // If name doesn't exist, return as is
            if (!existingNames.includes(lowerCaseName)) {
                return name;
            }
            // Add a counter to make name unique
            let counter = 1;
            let newName = `${name} (${counter})`;
            let lowerCaseNewName = newName.toLowerCase();
            // Keep incrementing counter until we find a unique name
            while (existingNames.includes(lowerCaseNewName)) {
                counter++;
                newName = `${name} (${counter})`;
                lowerCaseNewName = newName.toLowerCase();
            }
            return newName;
        };
        // Track when user stops interacting
        this.handleInteractionEnd = () => {
            var _a;
            this._isInteracting = false;
            try {
                const view = (_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view;
                // Restore rendering quality
                if ((view === null || view === void 0 ? void 0 : view.qualityProfile) !== undefined && this._originalQuality) {
                    view.qualityProfile = this._originalQuality;
                }
                // Restore hidden graphics
                if (this.props.graphicsLayer) {
                    this.props.graphicsLayer.graphics.forEach((g) => {
                        var _a, _b;
                        if (((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) || ((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.hideDuringInteraction)) {
                            g.visible = true;
                        }
                    });
                }
                const refresh = () => this.forceMapRefresh();
                // Defer refresh until idle or next frame
                if ('requestIdleCallback' in window) {
                    window.requestIdleCallback(refresh);
                }
                else {
                    requestAnimationFrame(refresh);
                }
            }
            catch (err) {
                console.warn("Error in interaction end handler:", err);
            }
        };
        this.refreshGraphicDisplay = (graphic) => {
            var _a;
            if (!graphic)
                return;
            try {
                // First try direct visibility toggle for this specific graphic
                this.ensureGraphicVisibility(graphic);
                // If we have a valid graphic index, update our internal state
                const uniqueId = (_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId;
                if (uniqueId && this._drawingMap.has(uniqueId)) {
                    const index = this._drawingMap.get(uniqueId);
                    if (index !== undefined) {
                        // Update state for this specific graphic
                        const updatedDrawings = [...this.state.drawings];
                        updatedDrawings[index] = graphic;
                        this.setState({ drawings: updatedDrawings });
                    }
                }
            }
            catch (err) {
                console.error("Error refreshing graphic display:", err);
                // Fall back to the traditional refresh as a last resort
                // But don't do it if we're interacting to avoid excessive refreshes
                if (!this._isInteracting) {
                    this.forceMapRefresh();
                }
            }
        };
        this.forceMapRefresh = () => {
            var _a;
            if (!((_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view))
                return;
            try {
                // Abort any ongoing navigation
                if (this._goToController) {
                    this._goToController.abort();
                    this._goToController = null;
                }
                // Create a new controller
                const controller = new AbortController();
                this._goToController = controller;
                // Get current center and scale
                const view = this.props.jimuMapView.view;
                const currentCenter = view.center.clone();
                const currentScale = view.scale;
                // Option 1: Stationary refresh (no motion)
                view.goTo({
                    target: currentCenter,
                    scale: currentScale
                }, {
                    animate: false,
                    duration: 0,
                    signal: controller.signal
                }).catch(err => {
                    if (err.name !== 'AbortError' && err.name !== 'view:goto-interrupted') {
                        console.error('Map refresh error:', err);
                    }
                });
                // Option 2: Alternative approach - use updateExtent
                // view.extent = view.extent.clone();
            }
            catch (err) {
                console.error("Error refreshing map:", err);
            }
        };
        this.ensureGraphicVisibility = (graphic) => {
            if (!graphic || !this.props.graphicsLayer)
                return;
            try {
                // Store original visibility
                const wasVisible = graphic.visible !== false;
                // Toggle visibility to force a redraw of just this graphic
                // This is much lighter than refreshing the whole map
                graphic.visible = false;
                // Use setTimeout instead of requestAnimationFrame for broader compatibility
                setTimeout(() => {
                    if (graphic && !graphic.destroyed) {
                        // Restore original visibility
                        graphic.visible = wasVisible;
                    }
                }, 0);
            }
            catch (err) {
                console.error("Error ensuring graphic visibility:", err);
            }
        };
        this.handleLoadExistingDrawings = () => {
            // Set a timestamp to mark that we've shown the prompt in this page session
            MyDrawingsPanel._drawingsLoadChoiceTimestamp = new Date().getTime();
            //console.log('User chose to load existing drawings - choice recorded for this page session');
            this.setState({ showLoadPrompt: false }, () => {
                // Load drawings from localStorage and initialize components
                this.loadFromLocalStorage();
                this.initializeComponents();
            });
        };
        this.handleStartFresh = () => {
            // Set a timestamp to mark that we've shown the prompt in this page session
            MyDrawingsPanel._drawingsLoadChoiceTimestamp = new Date().getTime();
            //console.log('User chose to delete all and start new - choice recorded for this page session');
            // Remove existing drawings from localStorage
            if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                try {
                    localStorage.removeItem(this.localStorageKey);
                    //console.log(`Cleared existing drawings from localStorage key: ${this.localStorageKey}`);
                }
                catch (err) {
                    console.error(`Error clearing drawings from localStorage:`, err);
                }
            }
            // Initialize with empty drawing layer
            this.setState({
                showLoadPrompt: false,
                hasExistingDrawings: false
            }, this.initializeComponents);
        };
        // Call this in your initializeComponents method
        this.setupMapQualityManager = () => {
            var _a;
            if (!((_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view))
                return;
            try {
                // Use type assertion or conditional check
                const view = this.props.jimuMapView.view; // Type assertion
                // Store original quality setting
                if (view.qualityProfile !== undefined) {
                    this._originalQuality = view.qualityProfile;
                }
                // Rest of your code remains the same
                view.on("drag", ["start"], () => this.lowerMapQuality());
                view.on("drag", ["end"], () => this.restoreMapQuality());
                // etc...
            }
            catch (err) {
                console.warn("Could not setup map quality manager:", err);
            }
        };
        // Lower map quality during interactions to reduce texture warnings
        this.lowerMapQuality = () => {
            var _a;
            if (!((_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view))
                return;
            try {
                // Type assertion approach
                const view = this.props.jimuMapView.view;
                // Lower quality during interaction
                if (view.qualityProfile !== undefined) {
                    view.qualityProfile = "low";
                }
            }
            catch (err) {
                console.warn("Could not lower map quality:", err);
            }
        };
        this.restoreMapQuality = () => {
            var _a;
            if (!((_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view))
                return;
            try {
                // Type assertion approach
                const view = this.props.jimuMapView.view;
                // Restore original quality
                if (view.qualityProfile !== undefined) {
                    view.qualityProfile = this._originalQuality;
                }
            }
            catch (err) {
                console.warn("Could not restore map quality:", err);
            }
        };
        // Utility debounce function
        this.debounce = (func, wait) => {
            let timeout;
            return (...args) => {
                clearTimeout(timeout);
                timeout = setTimeout(() => func(...args), wait);
            };
        };
        this.resetSessionChoice = () => {
            sessionStorage.removeItem('drawingsLoadChoiceMade');
            //console.log('Load choice session flag has been reset');
        };
        this.checkExistingDrawings = () => {
            const currentTime = new Date().getTime();
            // Check if we've shown this prompt recently in this specific page load
            if (MyDrawingsPanel._drawingsLoadChoiceTimestamp > 0) {
                //console.log('Load choice was already made in this page session - skipping prompt');
                return false;
            }
            if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                try {
                    // Get saved data without immediately loading it
                    const savedData = localStorage.getItem(this.localStorageKey);
                    if (savedData) {
                        const parsedData = JSON.parse(savedData);
                        // Handle both old format (array) and new format (object with drawings)
                        let drawingsData = [];
                        if (Array.isArray(parsedData)) {
                            // Old format - just drawings
                            drawingsData = parsedData;
                        }
                        else if (parsedData.drawings) {
                            // New format - includes measurement labels
                            drawingsData = parsedData.drawings || [];
                        }
                        // Check if we have valid data with drawings
                        if (Array.isArray(drawingsData) && drawingsData.length > 0) {
                            // We have existing drawings, so we should show the load prompt
                            this.setState({
                                hasExistingDrawings: true,
                                showLoadPrompt: true
                            });
                            //console.log(`Found ${drawingsData.length} existing drawing(s) in localStorage - showing prompt`);
                            return true;
                        }
                    }
                }
                catch (err) {
                    console.error(`Error checking for existing drawings in localStorage:`, err);
                }
            }
            return false;
        };
        this.handleDrawingSelectAndScroll = (graphic, index) => {
            var _a;
            try {
                // stop any nav/edit
                if (this._goToController) {
                    this._goToController.abort();
                    this._goToController = null;
                }
                try {
                    (_a = this.sketchViewModel) === null || _a === void 0 ? void 0 : _a.cancel();
                }
                catch (_b) { }
                // 🔑 capture previous selection BEFORE changing state
                const prevIndex = this.state.selectedGraphicIndex;
                // remove halo from the previously selected point/text (if any)
                this.removePointTextOverlayByIndex(prevIndex);
                // now set the new selection
                this.setState({ selectedGraphicIndex: index });
                // scroll into view
                const item = document.getElementById(`drawing-item-${index}`);
                if (item)
                    item.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                // defer highlight a touch for UI smoothness
                setTimeout(() => {
                    var _a, _b;
                    if (!this._isInteracting) {
                        this.highlightGraphic(graphic, index);
                        (_b = (_a = this.props).onDrawingSelect) === null || _b === void 0 ? void 0 : _b.call(_a, graphic, index);
                    }
                }, 100);
            }
            catch (err) {
                console.error('Error in handleDrawingSelectAndScroll:', err);
                this.showLocalAlert('Error selecting drawing from map', 'error');
            }
        };
        this.initializeComponents = () => {
            //console.log('🚀 initializeComponents called');
            // console.log('📊 Props check:', {
            //   hasJimuMapView: !!this.props.jimuMapView,
            //   hasGraphicsLayer: !!this.props.graphicsLayer,
            //   consentGranted: this.state.consentGranted
            // });
            if (!this.props.jimuMapView || !this.props.graphicsLayer) {
                //console.log('❌ Missing required props, exiting');
                return;
            }
            // Create SketchViewModel with proper error handling
            try {
                this.sketchViewModel = new esri_widgets_Sketch_SketchViewModel__WEBPACK_IMPORTED_MODULE_5__["default"]({
                    view: this.props.jimuMapView.view,
                    layer: this.props.graphicsLayer
                });
                this.internalSketchVM = true;
                //console.log('✅ SketchViewModel created successfully');
            }
            catch (error) {
                console.error('Error creating SketchViewModel:', error);
                return;
            }
            //console.log('🔧 Starting initialization managers...');
            // Initialize managers/watchers you already had
            this.setupInteractionManager();
            //console.log('✅ setupInteractionManager completed');
            this.fixMeasurementLabelStyles();
            //console.log('✅ fixMeasurementLabelStyles completed');
            this.setupGraphicsWatcher();
            //console.log('✅ setupGraphicsWatcher completed');
            this.refreshDrawingsFromLayer();
            //console.log('✅ refreshDrawingsFromLayer completed');
            if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                this.loadFromLocalStorage();
                //console.log('✅ loadFromLocalStorage completed');
            }
            //console.log('🗺️ Building drawing map...');
            // Fast lookup map
            const rebuildDrawingMap = () => {
                this._drawingMap.clear();
                this.state.drawings.forEach((drawing, idx) => {
                    var _a;
                    const id = (_a = drawing.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId;
                    if (id)
                        this._drawingMap.set(id, idx);
                });
            };
            rebuildDrawingMap();
            //console.log('✅ Drawing map built');
            this._afterRefreshDrawings = () => {
                rebuildDrawingMap();
                this.forceMapRefresh();
            };
            this.scheduleDrawingsSyncCheck();
            //console.log('✅ Sync check scheduled');
            //console.log('🎯 Setting up SketchViewModel event handler...');
            // --- SketchViewModel update handler ---
            this.sketchViewModel.on("update", (event) => {
                var _a, _b, _c, _d;
                try {
                    if (event.state === "active" && event.graphics.length > 0) {
                        // Filter selectable graphics
                        const selectable = event.graphics.filter((gra) => {
                            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
                            return !((_a = gra.attributes) === null || _a === void 0 ? void 0 : _a.isBuffer) &&
                                !((_b = gra.attributes) === null || _b === void 0 ? void 0 : _b.isBufferDrawing) &&
                                !((_c = gra.attributes) === null || _c === void 0 ? void 0 : _c.isPreviewBuffer) &&
                                !((_d = gra.attributes) === null || _d === void 0 ? void 0 : _d.isMeasurementLabel) &&
                                !((_e = gra.attributes) === null || _e === void 0 ? void 0 : _e.hideFromList) &&
                                !((_g = (_f = gra.attributes) === null || _f === void 0 ? void 0 : _f.uniqueId) === null || _g === void 0 ? void 0 : _g.startsWith('buffer_')) &&
                                !(((_h = gra.geometry) === null || _h === void 0 ? void 0 : _h.type) === 'point' &&
                                    ((_j = gra.symbol) === null || _j === void 0 ? void 0 : _j.type) === 'text' &&
                                    ((_k = gra.attributes) === null || _k === void 0 ? void 0 : _k.isMeasurementLabel));
                        });
                        if (!selectable.length)
                            return;
                        const selectedGraphic = selectable[0];
                        // Ensure halo during active edit for point/text and keep it in sync
                        if (((_a = selectedGraphic.geometry) === null || _a === void 0 ? void 0 : _a.type) === 'point') {
                            this.ensurePointTextOverlay(selectedGraphic);
                            if (selectedGraphic._selectionOverlay) {
                                try {
                                    selectedGraphic._selectionOverlay.geometry = selectedGraphic.geometry;
                                }
                                catch (_e) { }
                            }
                        }
                        // Reflect selection in the list/state
                        const uid = (_b = selectedGraphic.attributes) === null || _b === void 0 ? void 0 : _b.uniqueId;
                        if (uid && this._drawingMap.has(uid)) {
                            const index = this._drawingMap.get(uid);
                            document.querySelectorAll('.drawing-item').forEach(el => el.classList.remove('selected-drawing'));
                            const item = document.getElementById(`drawing-item-${index}`);
                            if (item) {
                                item.classList.add('selected-drawing');
                                item.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                            }
                            this.setState({
                                selectedGraphicIndex: index,
                                selectedGraphics: new Set([index])
                            });
                            (_d = (_c = this.props).onDrawingSelect) === null || _d === void 0 ? void 0 : _d.call(_c, selectedGraphic, index);
                        }
                    }
                    if (event.state === "complete" && event.graphics.length > 0) {
                        setTimeout(() => {
                            this.ignoreNextGraphicsUpdate = true;
                            this.refreshDrawingsFromLayer();
                            if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                                this.saveToLocalStorage();
                            }
                        }, 50);
                    }
                    if (event.state === "complete") {
                        if (this._goToController) {
                            this._goToController.abort();
                            this._goToController = null;
                        }
                    }
                }
                catch (error) {
                    console.warn('SketchViewModel event handler error:', error);
                }
            });
            //console.log('✅ SketchViewModel event handler registered');
            //console.log('🎯 Setting up graphics watchers...');
            // Graphics collection watchers
            const graphicsWatchHandle = this.props.graphicsLayer.graphics.watch("length", (n, o) => {
                if (n > o)
                    setTimeout(() => this.forceMapRefresh(), 100);
            });
            this._graphicsWatchHandles.push(graphicsWatchHandle);
            this.props.graphicsLayer.graphics.on("change", (evt) => {
                if (evt.added && evt.added.length > 0) {
                    setTimeout(() => this.forceMapRefresh(), 100);
                }
            });
            //console.log('✅ Graphics watchers set up');
            // REMOVED: Duplicate map click handler that was interfering with the Widget's click handler
            // The Widget's activeViewChangeHandler already has the map click handler that integrates with this panel
            //console.log('🔄 Rebuilding final drawing map...');
            // Rebuild drawing map after initial load and after refreshes
            this._drawingMap.clear();
            this.state.drawings.forEach((drawing, idx) => {
                var _a;
                const id = (_a = drawing.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId;
                if (id)
                    this._drawingMap.set(id, idx);
            });
            this._afterRefreshDrawings = () => {
                this._drawingMap.clear();
                this.state.drawings.forEach((drawing, idx) => {
                    var _a;
                    const id = (_a = drawing.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId;
                    if (id)
                        this._drawingMap.set(id, idx);
                });
                if (this.state.drawings.length > 0 && !this._isInteracting) {
                    setTimeout(() => this.forceMapRefresh(), 100);
                }
            };
            //console.log('✅ Final drawing map built');
            //console.log('⏰ Starting map click sync...');
            // Start map click sync
            this.mapClickSync();
            //console.log('✅ Map click sync started');
            //console.log('🏁 initializeComponents completed successfully');
        };
        this.mapClickSync = () => {
            var _a, _b, _c;
            // Only run if enabled
            if (!this._mapClickSyncEnabled || !this.props.jimuMapView || !this.props.graphicsLayer)
                return;
            // Get currently selected graphics from the SketchViewModel
            const selectedGraphics = ((_b = (_a = this.sketchViewModel) === null || _a === void 0 ? void 0 : _a.updateGraphics) === null || _b === void 0 ? void 0 : _b.toArray()) || [];
            if (selectedGraphics.length > 0) {
                // Get the first selected graphic
                const selectedGraphic = selectedGraphics[0];
                if ((_c = selectedGraphic.attributes) === null || _c === void 0 ? void 0 : _c.uniqueId) {
                    const uniqueId = selectedGraphic.attributes.uniqueId;
                    // Look up the index in our map
                    if (this._drawingMap.has(uniqueId)) {
                        const index = this._drawingMap.get(uniqueId);
                        // Only update if selection has changed and index is defined
                        if (index !== undefined && this.state.selectedGraphicIndex !== index) {
                            //console.log(`Map sync found different selection: ${index}`);
                            // Update UI immediately
                            document.querySelectorAll('.drawing-item').forEach(item => {
                                item.classList.remove('selected-drawing');
                            });
                            const item = document.getElementById(`drawing-item-${index}`);
                            if (item) {
                                item.classList.add('selected-drawing');
                                item.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                            }
                            // Update state
                            this.setState({
                                selectedGraphicIndex: index
                                // MODIFIED: Remove this line to preserve multiple selections
                                // selectedGraphics: new Set([index])
                            });
                            // Notify parent
                            if (this.props.onDrawingSelect) {
                                this.props.onDrawingSelect(selectedGraphic, index);
                            }
                        }
                    }
                }
            }
            // Schedule next sync
            setTimeout(this.mapClickSync, 500);
        };
        this.setupGraphicsWatcher = () => {
            if (!this.props.graphicsLayer)
                return;
            // Watch for changes to the graphics collection
            const watchHandle = this.props.graphicsLayer.graphics.on("change", (event) => {
                // Skip if we triggered this change ourselves
                if (this.ignoreNextGraphicsUpdate) {
                    this.ignoreNextGraphicsUpdate = false;
                    return;
                }
                // Refresh drawings from the layer
                this.refreshDrawingsFromLayer();
            });
            this.setState({ graphicsWatchHandle: watchHandle });
        };
        this.refreshDrawingsFromLayer = () => {
            if (!this.props.graphicsLayer)
                return;
            // Get all graphics from the layer
            const allGraphics = this.props.graphicsLayer.graphics.toArray();
            // Filter to include main drawings ONLY, exclude ALL buffer types
            const filteredGraphics = allGraphics.filter(g => {
                var _a, _b, _c, _d, _e, _f, _g;
                // Exclude measurement labels
                if ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel)
                    return false;
                // Exclude preview buffer graphics (temporary visualizations)
                if ((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.isPreviewBuffer)
                    return false;
                // Exclude graphics marked as hidden from list
                if ((_c = g.attributes) === null || _c === void 0 ? void 0 : _c.hideFromList)
                    return false;
                // 🔧 NEW: Exclude ALL buffer graphics (both attached and standalone)
                if ((_d = g.attributes) === null || _d === void 0 ? void 0 : _d.isBuffer)
                    return false;
                // Exclude text graphics that are measurement labels
                if (((_e = g.geometry) === null || _e === void 0 ? void 0 : _e.type) === 'point' &&
                    ((_f = g.symbol) === null || _f === void 0 ? void 0 : _f.type) === 'text' &&
                    ((_g = g.attributes) === null || _g === void 0 ? void 0 : _g.isMeasurementLabel))
                    return false;
                // ONLY include main drawings (no buffers)
                return true;
            });
            // Sort and update state...
            const sortedGraphics = this.sortGraphicsArray(filteredGraphics);
            this.setState({
                drawings: sortedGraphics,
                selectedGraphics: new Set(),
                symbolEditingIndex: null
            }, () => {
                if (this.props.onDrawingsUpdate) {
                    this.props.onDrawingsUpdate(sortedGraphics);
                }
                if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                    this.saveToLocalStorage();
                }
                if (typeof this._afterRefreshDrawings === 'function') {
                    this._afterRefreshDrawings();
                }
            });
        };
        this.verifyDrawingsSync = () => {
            if (!this.props.graphicsLayer)
                return;
            // Count actual visible graphics (excluding measurement labels)
            const visibleGraphics = this.props.graphicsLayer.graphics.filter(g => {
                var _a, _b;
                return !((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) &&
                    !((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.hideFromList);
            }).length;
            // Compare with drawings array
            if (visibleGraphics !== this.state.drawings.length) {
                console.warn(`Drawing sync issue detected: ${visibleGraphics} visible graphics vs ${this.state.drawings.length} drawings in state`);
                // Force refresh if mismatch detected
                this.forceMapRefresh();
            }
            else {
                //console.log(`Drawings sync verified: ${visibleGraphics} visible graphics match ${this.state.drawings.length} drawings in state`);
            }
        };
        this.scheduleDrawingsSyncCheck = () => {
            // Check sync 1 second after initialization
            setTimeout(() => {
                this.verifyDrawingsSync();
                // Additional check after 3 seconds to catch any lagging issues
                setTimeout(() => {
                    this.verifyDrawingsSync();
                }, 3000);
            }, 1000);
        };
        this.sortGraphicsArray = (graphics) => {
            const { sortOption } = this.state;
            return [...graphics].sort((a, b) => {
                var _a, _b, _c, _d, _e, _f, _g, _h;
                if (sortOption === 'name') {
                    const nameA = (((_a = a.attributes) === null || _a === void 0 ? void 0 : _a.name) || '').toLowerCase();
                    const nameB = (((_b = b.attributes) === null || _b === void 0 ? void 0 : _b.name) || '').toLowerCase();
                    return nameA.localeCompare(nameB);
                }
                else if (sortOption === 'type') {
                    const typeA = (((_c = a.attributes) === null || _c === void 0 ? void 0 : _c.geometryType) || ((_d = a.geometry) === null || _d === void 0 ? void 0 : _d.type) || '').toLowerCase();
                    const typeB = (((_e = b.attributes) === null || _e === void 0 ? void 0 : _e.geometryType) || ((_f = b.geometry) === null || _f === void 0 ? void 0 : _f.type) || '').toLowerCase();
                    return typeA.localeCompare(typeB);
                }
                else if (sortOption === 'created') {
                    const createdA = ((_g = a.attributes) === null || _g === void 0 ? void 0 : _g.createdDate) ? Number(a.attributes.createdDate) : 0;
                    const createdB = ((_h = b.attributes) === null || _h === void 0 ? void 0 : _h.createdDate) ? Number(b.attributes.createdDate) : 0;
                    return createdB - createdA; // Newest first
                }
                return 0;
            });
        };
        this.handleConsentYes = () => {
            localStorage.setItem('drawingConsentGranted', 'true');
            this.setState({ consentGranted: true, showStorageDisclaimer: true });
        };
        this.handleDrawingSelect = (inGraphic) => {
            var _a, _b, _c, _d, _e, _f;
            if (!inGraphic || !inGraphic.geometry || !this.sketchViewModel)
                return;
            const graphic = inGraphic;
            //console.log('handleDrawingSelect called for:', graphic.geometry?.type, graphic.attributes?.name);
            // Are we in multi-select? (selectedGraphics holds all selected indices)
            const multiSet = this.state.selectedGraphics;
            // Treat multi as 2+ items, not 1+
            const isMulti = !!multiSet && multiSet.size > 1;
            // 1) Clear previous overlay more reliably
            if (!isMulti) {
                // Find and remove any existing overlays from other graphics
                this.state.drawings.forEach((drawing) => {
                    const extDrawing = drawing;
                    if (extDrawing._selectionOverlay && extDrawing !== graphic) {
                        this.removePointTextOverlay(extDrawing);
                    }
                });
            }
            // 2) Cancel any active sketch interaction
            try {
                this.sketchViewModel.cancel();
            }
            catch (_g) { }
            // 3) Normalize unsupported polyline symbols
            if (graphic.geometry.type === 'polyline' && ((_a = graphic.symbol) === null || _a === void 0 ? void 0 : _a.type) !== 'simple-line') {
                const symbolColor = ((_b = graphic.symbol) === null || _b === void 0 ? void 0 : _b.color) || [0, 0, 0, 1];
                const symbolWidth = ((_c = graphic.symbol) === null || _c === void 0 ? void 0 : _c.width) || 2;
                const symbolStyle = ((_d = graphic.symbol) === null || _d === void 0 ? void 0 : _d.style) || 'solid';
                graphic.symbol = new esri_symbols_SimpleLineSymbol__WEBPACK_IMPORTED_MODULE_7__["default"]({ color: symbolColor, width: symbolWidth, style: symbolStyle });
            }
            const isPoint = graphic.geometry.type === 'point';
            const symbolType = (_e = graphic.symbol) === null || _e === void 0 ? void 0 : _e.type;
            const isText = isPoint && symbolType === 'text';
            const isPictureMarker = isPoint && symbolType === 'picture-marker';
            //console.log('Graphic details - isPoint:', isPoint, 'symbolType:', symbolType, 'isText:', isText);
            const commonOptions = {
                enableRotation: true,
                enableScaling: true,
                enableZ: false,
                multipleSelectionEnabled: false
            };
            const pointOptions = {
                tool: 'transform',
                toggleToolOnClick: false,
                enableRotation: true,
                enableScaling: isText || isPictureMarker,
                enableZ: false,
                multipleSelectionEnabled: false
            };
            // 4) Apply selection/update to the clicked graphic
            try {
                //console.log('Applying SketchViewModel selection...');
                this.sketchViewModel.update([graphic], isPoint ? pointOptions : commonOptions);
            }
            catch (error) {
                console.warn('Error updating SketchViewModel for selection:', error);
                try {
                    this.sketchViewModel.update([graphic]);
                }
                catch (fallbackError) {
                    console.warn('Fallback SketchViewModel update also failed:', fallbackError);
                }
            }
            // 5) Ensure halos for all selected items in multi-select, plus this one
            try {
                if (isPoint) {
                    //console.log('Setting timeout to create overlay for point graphic...');
                    // Use setTimeout to ensure SketchViewModel operations complete first
                    setTimeout(() => {
                        //console.log('Timeout executing - creating overlay now');
                        this.ensurePointTextOverlay(graphic);
                        // ADDITIONAL: Force a check after even more time
                        setTimeout(() => {
                            //console.log('Double-check: Does graphic have overlay?', !!graphic._selectionOverlay);
                            if (!graphic._selectionOverlay) {
                                //console.log('No overlay found - trying again');
                                this.ensurePointTextOverlay(graphic);
                            }
                        }, 200);
                    }, 150); // Increased delay
                }
                if (isMulti) {
                    // Ensure halo exists for each currently selected point/text
                    multiSet.forEach(idx => {
                        var _a, _b;
                        const g = (_a = this.state.drawings) === null || _a === void 0 ? void 0 : _a[idx];
                        if (g && ((_b = g.geometry) === null || _b === void 0 ? void 0 : _b.type) === 'point') {
                            setTimeout(() => {
                                this.ensurePointTextOverlay(g);
                            }, 150);
                        }
                    });
                }
                else {
                    // Single-select mode → only the current graphic should have a halo
                    // (we already removed previous above)
                }
            }
            catch (e) {
                console.warn('Selection overlay management failed:', e);
            }
            // 6) Persist position changes & keep halo in sync while moving
            const graphicKey = ((_f = graphic.attributes) === null || _f === void 0 ? void 0 : _f.uniqueId) || `temp_${Date.now()}`;
            if (this._positionWatchers && this._positionWatchers[graphicKey]) {
                this._positionWatchers[graphicKey].remove();
                delete this._positionWatchers[graphicKey];
            }
            if (!this._positionWatchers)
                this._positionWatchers = {};
            this._positionWatchers[graphicKey] = graphic.watch('geometry', (newGeometry) => {
                if (isPoint && graphic._selectionOverlay) {
                    try {
                        graphic._selectionOverlay.geometry = newGeometry;
                    }
                    catch (_a) { }
                }
                clearTimeout(this._savePositionTimeout);
                this._savePositionTimeout = setTimeout(() => {
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                }, 500);
            });
        };
        this.handleListItemClick = (graphic, index) => {
            var _a, _b, _c, _d;
            // Check consent
            if (this.state.consentGranted !== true) {
                this.showLocalAlert('My Drawings feature requires local storage permission', 'warning');
                return;
            }
            // Ensure attributes / uniqueId
            try {
                if (!graphic.attributes)
                    graphic.attributes = {};
                if (!graphic.attributes.uniqueId) {
                    graphic.attributes.uniqueId = `auto_${Date.now()}_${Math.random().toString(36).slice(2, 8)}`;
                }
            }
            catch (e) {
                console.warn('Panel: could not ensure uniqueId on graphic:', e);
            }
            // If already selected, just re-apply selection
            if (this.state.selectedGraphicIndex === index) {
                (_b = (_a = this.props).onClearSelectionOverlays) === null || _b === void 0 ? void 0 : _b.call(_a);
                // Wrap in try-catch for safety
                Promise.resolve(typeof this.props.onDrawingSelect === 'function'
                    ? this.props.onDrawingSelect(graphic, index)
                    : (_d = (_c = this).handleDrawingSelect) === null || _d === void 0 ? void 0 : _d.call(_c, graphic, index)).catch(error => {
                    // Silently handle SketchViewModel errors
                    if ((error === null || error === void 0 ? void 0 : error.name) !== 'AbortError') {
                        console.warn('Re-selection encountered an issue (non-critical):', error);
                    }
                });
                return;
            }
            // Abort any ongoing navigation
            if (this._goToController) {
                this._goToController.abort();
                this._goToController = null;
            }
            // Update React state
            this.setState({ selectedGraphicIndex: index });
            // Initialize symbol editor state
            this.openSymbolEditor(index);
            // Apply selection + navigate (with error handling)
            this.highlightGraphic(graphic, index).catch(error => {
                console.warn('Highlight graphic failed (non-critical):', error);
            });
        };
        this.highlightGraphic = (graphic, index) => __awaiter(this, void 0, void 0, function* () {
            var _a, _b, _c, _d, _e;
            if (!graphic || !this.props.jimuMapView || this.state.consentGranted !== true)
                return;
            try {
                // 1) Abort any ongoing navigation
                if (this._goToController) {
                    this._goToController.abort();
                    this._goToController = null;
                }
                // 2) Ensure uniqueId
                try {
                    if (!graphic.attributes)
                        graphic.attributes = {};
                    if (!graphic.attributes.uniqueId) {
                        graphic.attributes.uniqueId = `auto_${Date.now()}_${Math.random().toString(36).slice(2, 8)}`;
                    }
                }
                catch (e) {
                    console.warn('Panel: ensure uniqueId in highlightGraphic failed:', e);
                }
                // 3) Clear existing halos first
                (_b = (_a = this.props).onClearSelectionOverlays) === null || _b === void 0 ? void 0 : _b.call(_a);
                // 4) Delegate selection to widget with error handling wrapper
                if (typeof this.props.onDrawingSelect === 'function') {
                    try {
                        yield this.props.onDrawingSelect(graphic, index);
                    }
                    catch (error) {
                        // Catch SketchViewModel errors without blocking the rest of the function
                        if ((error === null || error === void 0 ? void 0 : error.name) !== 'AbortError' && (error === null || error === void 0 ? void 0 : error.name) !== 'view:goto-interrupted') {
                            console.warn('Selection update encountered an issue (non-critical):', error);
                        }
                        // Continue with navigation even if selection failed
                    }
                }
                // 5) Always notify parent (if different callback)
                (_d = (_c = this.props).onDrawingSelect) === null || _d === void 0 ? void 0 : _d.call(_c, graphic, index);
                // 6) Skip navigation if no geometry
                if (!graphic.geometry)
                    return;
                // 7) Wait for view to be ready
                yield this.props.jimuMapView.view.when();
                // 8) Build navigation target
                const controller = new AbortController();
                this._goToController = controller;
                let target = graphic.geometry;
                let scale;
                if (graphic.geometry.type !== 'point') {
                    if ('centroid' in graphic.geometry) {
                        target = graphic.geometry.centroid;
                    }
                    else if ((_e = graphic.geometry.extent) === null || _e === void 0 ? void 0 : _e.center) {
                        target = graphic.geometry.extent.center;
                    }
                }
                if (graphic.geometry.extent) {
                    const extentWidth = graphic.geometry.extent.width;
                    scale = extentWidth * 5;
                    scale = Math.max(500, Math.min(50000, scale));
                }
                else {
                    scale = 2000;
                }
                // 9) Execute navigation (catches internally)
                this.props.jimuMapView.view.goTo({ target, scale }, { animate: false, duration: 0, signal: controller.signal }).catch(err => {
                    if ((err === null || err === void 0 ? void 0 : err.name) !== 'AbortError' && (err === null || err === void 0 ? void 0 : err.name) !== 'view:goto-interrupted') {
                        console.error('Navigation error:', err);
                    }
                });
            }
            catch (error) {
                // Catch any other unexpected errors
                console.error('Error highlighting graphic (panel):', error);
            }
        });
        this.handleConsentNo = () => {
            // Set localStorage value to 'false' to remember user's choice
            localStorage.setItem('drawingConsentGranted', 'false');
            // Delete any existing stored drawings
            localStorage.removeItem(this.localStorageKey);
            // Set state to false but don't close the panel, just show the permission denied UI
            this.setState({ consentGranted: false });
        };
        this.handleDrawingsUpdate = (drawings) => {
            var _a;
            try {
                //console.log(`📊 handleDrawingsUpdate called with ${drawings.length} drawings`);
                // Notify parent component about the drawings update
                if (this.props.onDrawingsUpdate) {
                    this.props.onDrawingsUpdate(drawings);
                }
                // Batch measurement updates with longer delays to prevent loops
                if (((_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) && !this._processingMeasurements) {
                    this._processingMeasurements = true;
                    //console.log('🔄 Scheduling batched measurement refresh for updated drawings');
                    // Process drawings in smaller batches with delays
                    const batchSize = 2; // Process 2 drawings at a time
                    const processBatch = (startIndex) => {
                        const endIndex = Math.min(startIndex + batchSize, drawings.length);
                        const batch = drawings.slice(startIndex, endIndex);
                        batch.forEach((drawing, localIndex) => {
                            const globalIndex = startIndex + localIndex;
                            if (drawing && drawing.geometry) {
                                // Stagger each measurement update with increasing delays
                                setTimeout(() => {
                                    this.performSingleMeasurementUpdate(drawing);
                                }, globalIndex * 300); // 300ms delay between each drawing
                            }
                        });
                        // Process next batch if there are more drawings
                        if (endIndex < drawings.length) {
                            setTimeout(() => {
                                processBatch(endIndex);
                            }, batchSize * 300 + 200); // Extra delay between batches
                        }
                        else {
                            // All batches processed
                            setTimeout(() => {
                                this._processingMeasurements = false;
                                //console.log('✅ Completed batched measurement processing');
                            }, batchSize * 300 + 500);
                        }
                    };
                    // Start processing the first batch
                    setTimeout(() => {
                        processBatch(0);
                    }, 1000); // Initial delay before starting
                }
                else {
                    //console.log('📏 Measurement updates skipped - system busy or no measurement system available');
                }
                // Debounced save to localStorage
                this.saveToLocalStorage();
            }
            catch (error) {
                console.error('❌ Error in handleDrawingsUpdate:', error);
                this._processingMeasurements = false; // Reset flag on error
                this.showLocalAlert('Error updating drawings', 'error');
            }
        };
        this.loadFromLocalStorage = () => {
            if (this.props.allowLocalStorage === false || this.state.consentGranted !== true)
                return;
            // Clean up localStorage first
            this.cleanupLocalStorageMeasurements();
            const storageKey = this.localStorageKey;
            //console.log(`📂 Loading drawings from localStorage key: ${storageKey}`);
            const savedData = localStorage.getItem(storageKey);
            if (!savedData) {
                //console.log(`📂 No saved drawings found for key: ${storageKey}`);
                return;
            }
            const runRestore = () => {
                try {
                    const parsedData = JSON.parse(savedData);
                    // Handle old format (array), v1.1, v1.2, v1.3, and new v1.4 format with measurement customization
                    let drawingsData = [];
                    let measurementLabelsData = [];
                    if (Array.isArray(parsedData)) {
                        drawingsData = parsedData;
                        //console.log('📂 Loading data in old format (drawings only)');
                    }
                    else if (parsedData.version === "1.1" && parsedData.drawings) {
                        drawingsData = parsedData.drawings || [];
                        measurementLabelsData = parsedData.measurementLabels || [];
                        //console.log('📂 Loading data in v1.1 format (drawings + measurement labels)');
                    }
                    else if (parsedData.version === "1.2" && parsedData.drawings) {
                        drawingsData = parsedData.drawings || [];
                        measurementLabelsData = parsedData.measurementLabels || [];
                        //console.log('📂 Loading data in v1.2 format (drawings + measurement labels + buffer drawings)');
                    }
                    else if (parsedData.version === "1.3" && parsedData.drawings) {
                        drawingsData = parsedData.drawings || [];
                        measurementLabelsData = parsedData.measurementLabels || [];
                        //console.log('📂 Loading data in v1.3 format (drawings + measurement labels + buffer settings)');
                    }
                    else if (parsedData.version === "1.4" && parsedData.drawings) {
                        drawingsData = parsedData.drawings || [];
                        measurementLabelsData = parsedData.measurementLabels || [];
                        //console.log('📂 Loading data in v1.4 format (drawings + measurement labels + buffer settings + measurement customization)');
                    }
                    else {
                        console.warn(`⚠️ Invalid data format in localStorage for key: ${storageKey}`);
                        return;
                    }
                    if (this.props.graphicsLayer && this.props.graphicsLayer.graphics.length === 0) {
                        this.props.graphicsLayer.removeAll();
                        this.ignoreNextGraphicsUpdate = true;
                        let loadedDrawingsCount = 0;
                        let loadedBufferDrawingsCount = 0;
                        let loadedLabelsCount = 0;
                        let loadedBuffersCount = 0;
                        let loadedCustomizedLabelsCount = 0;
                        const restoredGraphics = new Map();
                        // First, restore main drawings (including permanent buffer drawings and buffer settings)
                        drawingsData.forEach((item, index) => {
                            var _a, _b;
                            try {
                                const graphic = asExtendedGraphic(esri_Graphic__WEBPACK_IMPORTED_MODULE_4__["default"].fromJSON(item));
                                if (!graphic.attributes) {
                                    graphic.attributes = {};
                                }
                                if (!graphic.attributes.uniqueId) {
                                    graphic.attributes.uniqueId = `restored_${Date.now()}_${index}`;
                                }
                                // Handle v1.2 format: Restore buffer drawing attributes if present (legacy permanent buffers)
                                if ((_a = item.attributes) === null || _a === void 0 ? void 0 : _a.isBufferDrawing) {
                                    graphic.isBufferDrawing = true;
                                    graphic.sourceGraphicId = item.attributes.sourceGraphicId;
                                    // Ensure buffer drawing attributes are preserved
                                    graphic.attributes.isBufferDrawing = true;
                                    graphic.attributes.sourceGraphicId = item.attributes.sourceGraphicId;
                                    graphic.attributes.bufferDistance = item.attributes.bufferDistance;
                                    graphic.attributes.bufferUnit = item.attributes.bufferUnit;
                                    loadedBufferDrawingsCount++;
                                }
                                // CRITICAL: Restore buffer settings WITH opacity (v1.3+ format)
                                else if ((_b = item.attributes) === null || _b === void 0 ? void 0 : _b.bufferSettings) {
                                    graphic.bufferSettings = {
                                        distance: item.attributes.bufferSettings.distance,
                                        unit: item.attributes.bufferSettings.unit,
                                        enabled: item.attributes.bufferSettings.enabled,
                                        opacity: item.attributes.bufferSettings.opacity // Include opacity restoration
                                    };
                                    // Log what opacity was restored for debugging
                                    //console.log(`📥 MyDrawingsPanel: Restored buffer settings for graphic ${graphic.attributes.uniqueId}:`, graphic.bufferSettings);
                                    if (graphic.bufferSettings.enabled) {
                                        loadedBuffersCount++;
                                    }
                                    else {
                                        loadedDrawingsCount++;
                                    }
                                }
                                else {
                                    loadedDrawingsCount++;
                                }
                                this.props.graphicsLayer.add(graphic);
                                restoredGraphics.set(graphic.attributes.uniqueId, graphic);
                            }
                            catch (err) {
                                console.warn(`⚠️ Error restoring graphic at index ${index} from localStorage:`, err);
                            }
                        });
                        // Then, restore measurement labels and re-establish relationships WITH customization support
                        measurementLabelsData.forEach((item, index) => {
                            var _a, _b, _c, _d, _e, _f;
                            try {
                                const labelGraphic = asExtendedGraphic(esri_Graphic__WEBPACK_IMPORTED_MODULE_4__["default"].fromJSON(item));
                                if (!labelGraphic.attributes) {
                                    labelGraphic.attributes = {};
                                }
                                // Ensure measurement label flags are set
                                labelGraphic.attributes.isMeasurementLabel = true;
                                labelGraphic.attributes.hideFromList = true;
                                // CRITICAL: Restore customization flags and custom position (v1.4+ format)
                                if ((_a = item.attributes) === null || _a === void 0 ? void 0 : _a.customized) {
                                    labelGraphic.attributes.customized = true;
                                    labelGraphic.attributes.lastModified = item.attributes.lastModified;
                                    loadedCustomizedLabelsCount++;
                                    //console.log(`📥 Restored customized measurement label: ${labelGraphic.attributes?.name || 'unnamed'}`);
                                }
                                if (((_b = item.attributes) === null || _b === void 0 ? void 0 : _b.hasCustomPosition) && ((_c = item.attributes) === null || _c === void 0 ? void 0 : _c.customPosition)) {
                                    labelGraphic.attributes.hasCustomPosition = true;
                                    labelGraphic.attributes.customPosition = item.attributes.customPosition;
                                    //console.log(`📥 Restored custom position for measurement label at: ${item.attributes.customPosition.x}, ${item.attributes.customPosition.y}`);
                                }
                                // Restore measurement type if present
                                if ((_d = item.attributes) === null || _d === void 0 ? void 0 : _d.measurementType) {
                                    labelGraphic.attributes.measurementType = item.attributes.measurementType;
                                }
                                // Restore any other measurement-specific attributes
                                if ((_e = item.attributes) === null || _e === void 0 ? void 0 : _e.lengthUnit) {
                                    labelGraphic.attributes.lengthUnit = item.attributes.lengthUnit;
                                }
                                if ((_f = item.attributes) === null || _f === void 0 ? void 0 : _f.areaUnit) {
                                    labelGraphic.attributes.areaUnit = item.attributes.areaUnit;
                                }
                                // Find the parent graphic and re-establish the relationship
                                const parentGraphicId = labelGraphic.attributes.parentGraphicId;
                                if (parentGraphicId && restoredGraphics.has(parentGraphicId)) {
                                    const parentGraphic = restoredGraphics.get(parentGraphicId);
                                    // Re-establish the parent-child relationship
                                    labelGraphic.measureParent = parentGraphic;
                                    // Set up the measure property on the parent
                                    if (!parentGraphic.measure) {
                                        parentGraphic.measure = {
                                            graphic: labelGraphic,
                                            lengthUnit: labelGraphic.attributes.lengthUnit,
                                            areaUnit: labelGraphic.attributes.areaUnit
                                        };
                                    }
                                    // Add to related measurement labels if needed
                                    if (!parentGraphic.attributes.relatedMeasurementLabels) {
                                        parentGraphic.attributes.relatedMeasurementLabels = [];
                                    }
                                    parentGraphic.attributes.relatedMeasurementLabels.push(labelGraphic);
                                    // Add to related segment labels if this is a segment measurement
                                    if (labelGraphic.attributes.measurementType === 'segment') {
                                        if (!parentGraphic.attributes.relatedSegmentLabels) {
                                            parentGraphic.attributes.relatedSegmentLabels = [];
                                        }
                                        parentGraphic.attributes.relatedSegmentLabels.push(labelGraphic);
                                    }
                                    this.props.graphicsLayer.add(labelGraphic);
                                    loadedLabelsCount++;
                                }
                                else {
                                    console.warn(`⚠️ Auto-skipping orphaned measurement label at index ${index} - no valid parent found`);
                                }
                            }
                            catch (err) {
                                console.warn(`⚠️ Error restoring measurement label at index ${index} from localStorage:`, err);
                            }
                        });
                        // Finally, recreate attached buffers for graphics that had them (v1.3+ format)
                        setTimeout(() => {
                            restoredGraphics.forEach((graphic, uniqueId) => {
                                if (graphic.bufferSettings && graphic.bufferSettings.enabled) {
                                    // Enhanced: Log the opacity being restored for debugging
                                    const opacityInfo = graphic.bufferSettings.opacity !== undefined ?
                                        `with ${graphic.bufferSettings.opacity}% opacity` :
                                        'with default opacity';
                                    //console.log(`📥 MyDrawingsPanel: Restoring buffer for graphic ${uniqueId} ${opacityInfo}`);
                                    //console.log(`📥 MyDrawingsPanel: Full buffer settings:`, JSON.stringify(graphic.bufferSettings, null, 2));
                                    // Pass restored=true to indicate this is a restoration
                                    this.recreateAttachedBuffer(graphic, true);
                                }
                            });
                            const totalLoaded = loadedDrawingsCount + loadedBufferDrawingsCount;
                            if (totalLoaded > 0) {
                                this.refreshDrawingsFromLayer();
                                let successMessage = `✅ Successfully loaded ${loadedDrawingsCount} drawing(s)`;
                                if (loadedBufferDrawingsCount > 0) {
                                    successMessage += `, ${loadedBufferDrawingsCount} buffer drawing(s)`;
                                }
                                if (loadedLabelsCount > 0) {
                                    successMessage += `, ${loadedLabelsCount} measurement label(s)`;
                                }
                                if (loadedCustomizedLabelsCount > 0) {
                                    successMessage += ` (${loadedCustomizedLabelsCount} customized)`;
                                }
                                if (loadedBuffersCount > 0) {
                                    successMessage += `, and recreated ${loadedBuffersCount} attached buffer(s)`;
                                }
                                successMessage += ` from key: ${storageKey}`;
                                //console.log(successMessage);
                                // Trigger measurement refresh after loading
                                setTimeout(() => {
                                    //console.log('📏 Triggering measurement refresh after loading from localStorage');
                                    this.handleDrawingsUpdate(this.state.drawings);
                                }, 500);
                                // Additional cleanup after loading
                                setTimeout(() => {
                                    //console.log('🧹 Running automatic cleanup after loading');
                                    this.cleanupOrphanedMeasurementLabels();
                                }, 1000);
                            }
                            else {
                                //console.log(`📂 No valid drawings loaded from key: ${storageKey}`);
                            }
                        }, 200);
                    }
                    else {
                        //console.log(`📂 Graphics layer is not empty; skipping load from key: ${storageKey}`);
                    }
                }
                catch (err) {
                    console.error(`❌ Error parsing drawings from localStorage key: ${storageKey}`, err);
                    this.showLocalAlert('Error loading saved drawings', 'error');
                }
            };
            // Defer restore until idle if possible
            if ('requestIdleCallback' in window) {
                window.requestIdleCallback(runRestore);
            }
            else {
                setTimeout(runRestore, 0);
            }
        };
        this.saveToLocalStorage = () => {
            if (this.props.allowLocalStorage === false || this.state.consentGranted !== true)
                return;
            // Clear any existing timeout to debounce rapid calls
            if (this._saveToStorageTimeout) {
                clearTimeout(this._saveToStorageTimeout);
            }
            // Debounce the save operation - only save after 2 seconds of inactivity
            this._saveToStorageTimeout = setTimeout(() => {
                this.performActualSave();
            }, 2000);
        };
        this.showLocalAlert = (message, type) => {
            // If parent provided a showAlert function, use it
            if (this.props.showAlert) {
                this.props.showAlert(message, type);
                return;
            }
            // Otherwise, use internal state
            this.setState({ alertMessage: message, alertType: type, showAlert: true });
            setTimeout(() => this.setState({ showAlert: false }), 3000);
        };
        this.updateSymbolWithoutClosing = (symbol, index) => {
            var _a, _b, _c, _d;
            const drawings = [...this.state.drawings];
            // Defensive check
            if (!drawings[index]) {
                console.warn(`Drawing not found at index ${index}`);
                return;
            }
            const g = drawings[index];
            try {
                // Ensure SketchViewModel exists and targets the SAME GraphicsLayer
                const view = this.props.view || this.props.mapView;
                const layer = this.props.graphicsLayer;
                if (view && layer) {
                    if (!this.sketchViewModel) {
                        this.sketchViewModel = new esri_widgets_Sketch_SketchViewModel__WEBPACK_IMPORTED_MODULE_5__["default"]({
                            view,
                            layer,
                            defaultUpdateOptions: { enableScaling: true, enableRotation: true }
                        });
                    }
                    else if (this.sketchViewModel.layer !== layer) {
                        this.sketchViewModel.layer = layer;
                    }
                    // Hard reset any stale state so update() will reliably attach handles
                    this.sketchViewModel.cancel();
                }
                // --- Preserve existing arrow marker for polylines so we can restore it after color/style changes ---
                let preservedArrowMarker = null;
                let needsArrowColorUpdate = false;
                if (((_a = g.geometry) === null || _a === void 0 ? void 0 : _a.type) === 'polyline' && ((_b = g.symbol) === null || _b === void 0 ? void 0 : _b.type) === 'simple-line') {
                    const orig = g.symbol;
                    preservedArrowMarker = orig.marker || null;
                    if (preservedArrowMarker)
                        needsArrowColorUpdate = true;
                }
                // --- END preserve ---
                // Handle polyline: enforce SimpleLineSymbol
                if (((_c = g.geometry) === null || _c === void 0 ? void 0 : _c.type) === 'polyline') {
                    if (!symbol || symbol.type !== 'simple-line') {
                        symbol = new esri_symbols_SimpleLineSymbol__WEBPACK_IMPORTED_MODULE_7__["default"]({
                            color: (symbol === null || symbol === void 0 ? void 0 : symbol.color) || [0, 0, 0, 1],
                            width: (symbol === null || symbol === void 0 ? void 0 : symbol.width) || 2,
                            style: (symbol === null || symbol === void 0 ? void 0 : symbol.style) || 'solid'
                        });
                    }
                    else {
                        symbol = symbol.clone();
                    }
                    // Restore arrow marker (and sync its color to the line color)
                    if (preservedArrowMarker) {
                        try {
                            const updatedMarker = JSON.parse(JSON.stringify(preservedArrowMarker));
                            if (needsArrowColorUpdate)
                                updatedMarker.color = symbol === null || symbol === void 0 ? void 0 : symbol.color;
                            symbol.marker = updatedMarker;
                        }
                        catch (_e) {
                            symbol.marker = {
                                type: preservedArrowMarker.type,
                                style: preservedArrowMarker.style,
                                placement: preservedArrowMarker.placement,
                                color: needsArrowColorUpdate ? symbol === null || symbol === void 0 ? void 0 : symbol.color : preservedArrowMarker.color
                            };
                        }
                    }
                }
                else {
                    // For other types, ensure we're working with a clone
                    if (symbol) {
                        symbol = symbol.clone();
                    }
                }
                // Handle text: ensure TextSymbol has required props
                if ((symbol === null || symbol === void 0 ? void 0 : symbol.type) === 'text') {
                    const textSymbol = symbol;
                    if (!textSymbol.color) {
                        textSymbol.color = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([0, 0, 0, 1]);
                    }
                    if (!textSymbol.font) {
                        textSymbol.font = new esri_symbols_Font__WEBPACK_IMPORTED_MODULE_11__["default"]({ size: 12 });
                    }
                    else {
                        // Ensure required font fields exist with a new Font object
                        textSymbol.font = new esri_symbols_Font__WEBPACK_IMPORTED_MODULE_11__["default"]({
                            family: textSymbol.font.family || 'Arial',
                            size: textSymbol.font.size || 12,
                            style: textSymbol.font.style || 'normal',
                            weight: textSymbol.font.weight || 'normal',
                            decoration: textSymbol.font.decoration || 'none'
                        });
                    }
                    if (!textSymbol.text) {
                        textSymbol.text = ((_d = g.attributes) === null || _d === void 0 ? void 0 : _d.name) || 'Label';
                    }
                    symbol = textSymbol;
                }
                // Apply the symbol IN PLACE (keeps instance ties)
                this.ignoreNextGraphicsUpdate = true;
                g.symbol = symbol;
                drawings[index] = g;
                // Force a visual refresh of the layer record (brief remove/add), then re-select
                if (layer) {
                    layer.remove(g);
                    layer.add(g);
                }
                const reselect = () => {
                    if (this.sketchViewModel) {
                        try {
                            this.sketchViewModel.update([g], {
                                tool: 'transform', // shows blue handles reliably
                                enableRotation: true,
                                enableScaling: true
                            });
                        }
                        catch (e) {
                            console.warn('SketchViewModel.update failed to reselect graphic:', e);
                        }
                    }
                };
                // Try immediately and again on next frame (covers race after remove/add)
                reselect();
                if (typeof requestAnimationFrame !== 'undefined') {
                    requestAnimationFrame(reselect);
                }
                else {
                    setTimeout(reselect, 0);
                }
                // Update state and persist to localStorage
                this.setState({ drawings }, () => {
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                    if (this.props.onDrawingsUpdate) {
                        this.props.onDrawingsUpdate(drawings);
                    }
                });
            }
            catch (err) {
                console.error('Error updating symbol:', err);
                this.showLocalAlert('Error updating symbol', 'error');
            }
        };
        this.isSupportedSymbol = (symbol, geometryType) => {
            if (!symbol)
                return false;
            // Always consider polylines as supported, regardless of symbol type
            if (geometryType === 'polyline') {
                return true; // Allow all polyline symbols
            }
            if (geometryType === 'point') {
                return symbol.type && ['simple-marker', 'picture-marker', 'text'].includes(symbol.type);
            }
            if (geometryType === 'polygon') {
                return symbol.type === 'simple-fill';
            }
            return false;
        };
        this.ensureMapViewReady = () => __awaiter(this, void 0, void 0, function* () {
            var _a;
            if (!((_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view))
                return false;
            try {
                // Ensure view is ready
                yield this.props.jimuMapView.view.when();
                // Also ensure layer view for graphics layer is ready
                if (this.props.graphicsLayer) {
                    yield this.props.jimuMapView.view.whenLayerView(this.props.graphicsLayer);
                }
                return true;
            }
            catch (err) {
                console.warn("Error ensuring map view ready:", err);
                return false;
            }
        });
        // Methods for confirmation dialog handling
        this.openConfirmDialog = (message, type, action, itemIndex = -1) => {
            this.setState({
                confirmDialogOpen: true,
                confirmDialogMessage: message,
                confirmDialogAction: action,
                confirmDialogType: type,
                confirmDialogItemIndex: itemIndex >= 0 ? itemIndex : null
            });
        };
        this.closeConfirmDialog = () => {
            this.setState({
                confirmDialogOpen: false,
                confirmDialogAction: null,
                confirmDialogItemIndex: null
            });
        };
        this.executeConfirmAction = () => {
            // Execute the stored action
            if (this.state.confirmDialogAction) {
                this.state.confirmDialogAction();
            }
            // Close the dialog
            this.closeConfirmDialog();
        };
        this.handleCopyDrawing = (index, event) => {
            var _a;
            // Check consent
            if (this.state.consentGranted !== true) {
                this.showLocalAlert('My Drawings feature requires local storage permission', 'warning');
                return;
            }
            // Stop event propagation if provided
            if (event) {
                event.stopPropagation();
            }
            try {
                // Get the graphic to copy
                const graphicToCopy = this.state.drawings[index];
                if (!graphicToCopy)
                    return;
                // Clone the graphic
                const graphicJson = graphicToCopy.toJSON();
                const newGraphic = esri_Graphic__WEBPACK_IMPORTED_MODULE_4__["default"].fromJSON(graphicJson);
                // Modify attributes for the new copy
                if (!newGraphic.attributes) {
                    newGraphic.attributes = {};
                }
                // Generate new uniqueId
                newGraphic.attributes.uniqueId = `copy_${Date.now()}_${Math.floor(Math.random() * 1000)}`;
                // Update the name to indicate it's a copy
                const originalName = ((_a = graphicToCopy.attributes) === null || _a === void 0 ? void 0 : _a.name) || `Drawing ${index + 1}`;
                newGraphic.attributes.name = `Copy of ${originalName}`;
                // Update creation date to now
                newGraphic.attributes.createdDate = Date.now();
                // Mark that we're about to update the graphics layer
                this.ignoreNextGraphicsUpdate = true;
                // Add to the graphics layer
                this.props.graphicsLayer.add(newGraphic);
                // Refresh drawings from layer to update the UI
                this.refreshDrawingsFromLayer();
                // FIXED: Use the new handleDrawingsUpdate method with proper state access
                setTimeout(() => {
                    //console.log('📋 Graphic copied, triggering measurement refresh');
                    // Get the updated drawings from state after refresh
                    // Note: We need to access the updated state, so we'll use a callback approach
                    this.setState((prevState) => {
                        // Trigger the measurement update with the current drawings
                        this.handleDrawingsUpdate(prevState.drawings);
                        return prevState; // Don't actually change state, just use the callback to access current state
                    });
                }, 200);
            }
            catch (error) {
                console.error('❌ Error copying graphic:', error);
                this.showLocalAlert('Error copying drawing', 'error');
            }
        };
        this.handleDeleteGraphic = (index, event) => {
            // Check consent
            if (this.state.consentGranted !== true) {
                this.showLocalAlert('My Drawings feature requires local storage permission', 'warning');
                return;
            }
            // Stop event propagation if provided
            if (event) {
                event.stopPropagation();
            }
            // CRITICAL: Cancel any active SketchViewModel operations IMMEDIATELY
            if (this.sketchViewModel) {
                //console.log(`🛑 Canceling SketchViewModel before deletion`);
                this.sketchViewModel.cancel();
            }
            // Set deletion flag to prevent interference
            this._isDeletingGraphic = true;
            // If confirmation is required, show the custom confirmation dialog
            if (this.props.confirmOnDelete !== false) {
                const deleteAction = () => {
                    this.performDeleteGraphic(index);
                };
                this.openConfirmDialog('Are you sure you want to delete this drawing?', 'delete', deleteAction, index);
            }
            else {
                // If no confirmation needed, delete directly
                this.performDeleteGraphic(index);
            }
        };
        this.fixMeasurementLabelStyles = () => {
            if (!this.props.graphicsLayer)
                return;
            // COMPLETELY DISABLE if already run once
            if (this.measurementStylesInitialized) {
                //console.log("Measurement styling disabled - already initialized");
                return;
            }
            //console.log("Running measurement label styling ONCE ONLY");
            // Process existing measurement labels ONCE and ONLY ONCE
            const existingGraphics = this.props.graphicsLayer.graphics.toArray();
            let processedCount = 0;
            existingGraphics.forEach(graphic => {
                // Only process measurement labels that haven't been fixed yet AND need fixing
                if (graphic &&
                    graphic.attributes &&
                    graphic.attributes.isMeasurementLabel &&
                    graphic.symbol &&
                    graphic.symbol.type === 'text' &&
                    !graphic.attributes._styleFixed) {
                    const existingSymbol = graphic.symbol;
                    // Check if symbol already has proper styling - if so, don't modify it
                    if (existingSymbol.color &&
                        existingSymbol.font &&
                        existingSymbol.haloColor !== undefined &&
                        existingSymbol.haloSize !== undefined) {
                        // Mark as processed but don't change the symbol
                        if (!graphic.attributes)
                            graphic.attributes = {};
                        graphic.attributes._styleFixed = true;
                        processedCount++;
                        return;
                    }
                    // Only apply clean symbol if it's missing essential properties
                    const labelText = graphic.symbol.text;
                    // Create a minimal clean symbol preserving existing properties
                    const cleanSymbol = existingSymbol.clone();
                    // Only set missing properties
                    if (!cleanSymbol.text)
                        cleanSymbol.text = labelText;
                    if (!cleanSymbol.color)
                        cleanSymbol.color = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([0, 0, 0, 1]);
                    if (!cleanSymbol.font) {
                        cleanSymbol.font = new esri_symbols_Font__WEBPACK_IMPORTED_MODULE_11__["default"]({
                            family: "Arial",
                            size: 12,
                            weight: "normal",
                            style: "normal",
                            decoration: "none"
                        });
                    }
                    // Only set halo if it doesn't exist
                    if (cleanSymbol.haloColor === null && cleanSymbol.haloSize === null) {
                        cleanSymbol.haloColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([255, 255, 255, 1]);
                        cleanSymbol.haloSize = 2;
                    }
                    if (!cleanSymbol.horizontalAlignment)
                        cleanSymbol.horizontalAlignment = "center";
                    if (!cleanSymbol.verticalAlignment)
                        cleanSymbol.verticalAlignment = "middle";
                    // Replace the symbol
                    graphic.symbol = cleanSymbol;
                    // Mark this graphic as fixed so we NEVER process it again
                    if (!graphic.attributes)
                        graphic.attributes = {};
                    graphic.attributes._styleFixed = true;
                    processedCount++;
                }
            });
            //console.log(`Processed ${processedCount} measurement labels - WILL NEVER RUN AGAIN`);
            // Mark as initialized so we NEVER run this again
            this.measurementStylesInitialized = true;
            //console.log("Measurement label auto-styling permanently disabled");
        };
        this.disableMeasurementLabelStyles = () => {
            //console.log("Measurement label styling completely disabled");
            // Do nothing - let measurement labels keep their original styles
        };
        // Modified handleClearAllClick method
        this.handleClearAllClick = () => {
            // Check consent
            if (this.state.consentGranted !== true) {
                this.showLocalAlert('My Drawings feature requires local storage permission', 'warning');
                return;
            }
            // If confirmation is required, show the custom confirmation dialog
            if (this.props.confirmOnDelete !== false) {
                const clearAllAction = () => {
                    this.performClearAll();
                };
                this.openConfirmDialog('Are you sure you want to delete ALL drawings?', 'clearAll', clearAllAction);
            }
            else {
                // If no confirmation needed, clear all directly
                this.performClearAll();
            }
        };
        this.performClearAll = () => {
            //console.log(`🗑️ Starting clear all operation for ${this.state.drawings.length} drawings`);
            // ✅ Capture original measurement state (proxy = any measurement labels present)
            this._measurementWasEnabled = false;
            try {
                if (this.props.graphicsLayer) {
                    const graphics = this.props.graphicsLayer.graphics.toArray();
                    this._measurementWasEnabled = graphics.some(g => { var _a; return ((_a = g === null || g === void 0 ? void 0 : g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) === true; });
                }
            }
            catch (e) {
                console.warn('Could not infer measurement state from layer; defaulting to off.', e);
                this._measurementWasEnabled = false;
            }
            // 🔄 Temporarily disable measurements during bulk deletion
            if (this.props.onMeasurementSystemControl) {
                //console.log('🛑 Temporarily disabling measurements for bulk deletion');
                this.props.onMeasurementSystemControl(false);
            }
            // Set deletion flag to prevent interference
            this._isDeletingGraphic = true;
            try {
                // STEP 1: Force cancel any SketchViewModel operations
                if (this.sketchViewModel) {
                    //console.log(`🛑 Canceling SketchViewModel before clearing all`);
                    this.sketchViewModel.cancel();
                }
                // STEP 2: Clean up measurement labels for all drawings BEFORE clearing
                //console.log(`🧹 Cleaning up measurement labels for all drawings`);
                this.state.drawings.forEach(graphic => {
                    //console.log(`🧹 Cleaning measurements for: ${graphic.attributes?.name || 'unnamed'}`);
                    this.removeMeasurementLabels(graphic);
                });
                // STEP 3: Mark that we're about to update the graphics layer
                this.ignoreNextGraphicsUpdate = true;
                // STEP 4: Remove all graphics from the layer
                //console.log(`🗑️ Removing all graphics from layer`);
                this.props.graphicsLayer.removeAll();
                // STEP 5: AUTOMATIC CLEANUP after clearing all
                setTimeout(() => {
                    //console.log(`🧹 Running automatic orphan cleanup after clear all`);
                    this.cleanupOrphanedMeasurementLabels();
                }, 200);
                // STEP 6: Update state
                this.setState({
                    drawings: [],
                    selectedGraphicIndex: null,
                    selectedGraphics: new Set(),
                    symbolEditingIndex: null
                }, () => {
                    //console.log(`✅ State cleared - all drawings removed`);
                    // Save to localStorage if consent granted
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                    // Notify parent if needed
                    if (this.props.onDrawingsUpdate) {
                        this.props.onDrawingsUpdate([]);
                    }
                    // ✅ Re-enable measurements ONLY if they were originally enabled
                    if (this.props.onMeasurementSystemControl && this._measurementWasEnabled) {
                        //console.log('🟢 Restoring measurement system (was originally ON)');
                        this.props.onMeasurementSystemControl(true);
                    }
                    // Clear deletion flag
                    this._isDeletingGraphic = false;
                    // STEP 7: Final verification
                    setTimeout(() => {
                        this.verifyLayerState();
                        // Final cleanup to ensure everything is clean
                        this.cleanupOrphanedMeasurementLabels();
                    }, 500);
                });
                //console.log(`✅ Clear all operation completed successfully`);
            }
            catch (error) {
                console.error('❌ Error clearing graphics:', error);
                this._isDeletingGraphic = false; // Always clear the flag
                // ✅ Restore measurement system ONLY if it was originally enabled
                if (this.props.onMeasurementSystemControl && this._measurementWasEnabled) {
                    this.props.onMeasurementSystemControl(true);
                }
                this.showLocalAlert('Error clearing drawings', 'error');
                // Refresh from layer to ensure state is consistent
                //console.log(`🔄 Refreshing from layer due to error`);
                this.refreshDrawingsFromLayer();
            }
        };
        // Methods for import dialog handling
        this.handleImport = (e) => {
            var _a;
            // Check consent
            if (this.state.consentGranted !== true) {
                this.showLocalAlert('My Drawings feature requires local storage permission', 'warning');
                return;
            }
            const file = (_a = e.target.files) === null || _a === void 0 ? void 0 : _a[0];
            if (!file)
                return;
            // Check file extension for user feedback
            const fileName = file.name.toLowerCase();
            const isValidFile = fileName.endsWith('.json') || fileName.endsWith('.geojson');
            if (!isValidFile) {
                this.showLocalAlert('Please select a JSON or GeoJSON file', 'error');
                e.target.value = '';
                return;
            }
            const reader = new FileReader();
            reader.onload = (evt) => {
                var _a;
                try {
                    const content = (_a = evt.target) === null || _a === void 0 ? void 0 : _a.result;
                    // Validate it's JSON first before showing dialog
                    JSON.parse(content); // This will throw if invalid
                    // Store the file content in state and open the dialog
                    this.setState({
                        importFile: file,
                        importFileContent: content,
                        importDialogOpen: true
                    });
                }
                catch (err) {
                    console.error('Error parsing file:', err);
                    if (fileName.endsWith('.geojson')) {
                        this.showLocalAlert('Invalid GeoJSON file format', 'error');
                    }
                    else {
                        this.showLocalAlert('Invalid JSON file format', 'error');
                    }
                    // Clear the file input
                    e.target.value = '';
                }
            };
            reader.onerror = () => {
                this.showLocalAlert('Error reading file', 'error');
                // Clear the file input
                e.target.value = '';
            };
            reader.readAsText(file);
            // Clear the file input after reading starts
            e.target.value = '';
        };
        this.closeImportDialog = () => {
            this.setState({
                importDialogOpen: false,
                importFile: null,
                importFileContent: null
            });
        };
        // Handle replacing all existing drawings
        this.handleImportReplace = () => {
            this.processImport(true);
        };
        // Handle adding to existing drawings
        this.handleImportAdd = () => {
            this.processImport(false);
        };
        // Process GeoJSON imports
        // === MyDrawingsPanel.tsx ===
        this.processGeoJSONImport = (content, replace) => __awaiter(this, void 0, void 0, function* () {
            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;
            try {
                const geoJSON = JSON.parse(content);
                //console.log('Processing GeoJSON import:', geoJSON);
                if (!geoJSON.features || !Array.isArray(geoJSON.features)) {
                    this.showLocalAlert('Invalid GeoJSON: no features array found', 'error');
                    this.closeImportDialog();
                    return;
                }
                // Optionally clear existing graphics
                this.ignoreNextGraphicsUpdate = true;
                if (replace) {
                    this.props.graphicsLayer.removeAll();
                }
                let successCount = 0;
                let errorCount = 0;
                // --- 1) Separate main drawings from measurement labels (by our export flags) ---
                const allFeatures = geoJSON.features;
                const mainFeatures = allFeatures.filter(f => { var _a; return !((_a = f === null || f === void 0 ? void 0 : f.properties) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel); });
                const labelFeatures = allFeatures.filter(f => { var _a; return (_a = f === null || f === void 0 ? void 0 : f.properties) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel; });
                // --- 2) Import main drawings first, track them by unique id for linking ---
                const parentById = new Map();
                for (let i = 0; i < mainFeatures.length; i++) {
                    try {
                        const g = yield this.convertGeoJSONFeatureToGraphic(mainFeatures[i], i);
                        if (g) {
                            this.props.graphicsLayer.add(g);
                            successCount++;
                            // Record parent by the unique id we assigned during import
                            const pid = (_a = g.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId;
                            if (pid)
                                parentById.set(pid, g);
                        }
                        else {
                            errorCount++;
                        }
                    }
                    catch (err) {
                        console.warn(`Error importing base feature ${i}:`, err);
                        errorCount++;
                    }
                }
                // --- 3) Import measurement labels and link them to parents ---
                // Your measurement code expects:
                //  - attributes.isMeasurementLabel === true
                //  - attributes.hideFromList === true (keeps labels out of list)
                //  - attributes.parentGraphicId === parent's uniqueId
                //  - For segment labels: attributes.measurementType === 'segment'
                // Then it uses these relationships to enable editing. :contentReference[oaicite:2]{index=2} (isMeasurementLabel, relatedSegmentLabels)
                const pendingOrphans = [];
                for (let j = 0; j < labelFeatures.length; j++) {
                    try {
                        const f = labelFeatures[j];
                        const labelGraphic = yield this.convertGeoJSONFeatureToGraphic(f, j + mainFeatures.length);
                        if (!labelGraphic) {
                            errorCount++;
                            continue;
                        }
                        const parentId = (_b = labelGraphic.attributes) === null || _b === void 0 ? void 0 : _b.parentGraphicId;
                        const parentGraphic = parentId ? parentById.get(parentId) : undefined;
                        if (parentGraphic) {
                            // Establish the parent ↔ label linkages expected by measurement logic
                            labelGraphic.measureParent = parentGraphic;
                            // Single "main" measurement label for a parent
                            if (!parentGraphic.measure && ((_c = labelGraphic.attributes) === null || _c === void 0 ? void 0 : _c.measurementType) !== 'segment') {
                                parentGraphic.measure = {
                                    graphic: labelGraphic,
                                    lengthUnit: (_d = labelGraphic.attributes) === null || _d === void 0 ? void 0 : _d.lengthUnit,
                                    areaUnit: (_e = labelGraphic.attributes) === null || _e === void 0 ? void 0 : _e.areaUnit
                                };
                            }
                            // Track all labels for the parent so downstream tools can find them
                            if (!parentGraphic.attributes)
                                parentGraphic.attributes = {};
                            if (!parentGraphic.attributes.relatedMeasurementLabels) {
                                parentGraphic.attributes.relatedMeasurementLabels = [];
                            }
                            parentGraphic.attributes.relatedMeasurementLabels.push(labelGraphic);
                            // Segment labels set
                            if (((_f = labelGraphic.attributes) === null || _f === void 0 ? void 0 : _f.measurementType) === 'segment') {
                                if (!parentGraphic.attributes.relatedSegmentLabels) {
                                    parentGraphic.attributes.relatedSegmentLabels = [];
                                }
                                parentGraphic.attributes.relatedSegmentLabels.push(labelGraphic);
                            }
                            this.props.graphicsLayer.add(labelGraphic);
                            successCount++;
                        }
                        else {
                            // Parent not found (e.g., missing, filtered out): add later via proximity fallback
                            pendingOrphans.push(labelGraphic);
                        }
                    }
                    catch (err) {
                        console.warn(`Error importing label feature ${j}:`, err);
                        errorCount++;
                    }
                }
                // --- 4) Best-effort fallback: if any labels didn't have a parentGraphicId match, 
                // try to associate them by proximity to nearest non-text graphic so they remain editable. ---
                if (pendingOrphans.length > 0) {
                    try {
                        const allImported = (_j = (_h = (_g = this.props.graphicsLayer.graphics) === null || _g === void 0 ? void 0 : _g.toArray) === null || _h === void 0 ? void 0 : _h.call(_g)) !== null && _j !== void 0 ? _j : [];
                        const parentsOnly = allImported.filter(g => { var _a; return (g === null || g === void 0 ? void 0 : g.geometry) && ((_a = g === null || g === void 0 ? void 0 : g.symbol) === null || _a === void 0 ? void 0 : _a.type) !== 'text'; });
                        for (const orphan of pendingOrphans) {
                            let closest = null;
                            let closestDist = Infinity;
                            const lp = orphan.geometry;
                            if (!lp)
                                continue;
                            for (const cand of parentsOnly) {
                                const cGeom = cand.geometry;
                                const center = (((_k = cGeom === null || cGeom === void 0 ? void 0 : cGeom.extent) === null || _k === void 0 ? void 0 : _k.center) || cGeom);
                                if (!center)
                                    continue;
                                const dx = lp.x - center.x;
                                const dy = lp.y - center.y;
                                const dist = Math.sqrt(dx * dx + dy * dy);
                                if (dist < closestDist) {
                                    closestDist = dist;
                                    closest = cand;
                                }
                            }
                            if (closest) {
                                orphan.measureParent = closest;
                                if (!closest.attributes)
                                    closest.attributes = {};
                                if (!closest.attributes.relatedMeasurementLabels) {
                                    closest.attributes.relatedMeasurementLabels = [];
                                }
                                closest.attributes.relatedMeasurementLabels.push(orphan);
                                if (((_l = orphan.attributes) === null || _l === void 0 ? void 0 : _l.measurementType) === 'segment') {
                                    if (!closest.attributes.relatedSegmentLabels) {
                                        closest.attributes.relatedSegmentLabels = [];
                                    }
                                    closest.attributes.relatedSegmentLabels.push(orphan);
                                }
                                else if (!closest.measure) {
                                    closest.measure = {
                                        graphic: orphan,
                                        lengthUnit: (_m = orphan.attributes) === null || _m === void 0 ? void 0 : _m.lengthUnit,
                                        areaUnit: (_o = orphan.attributes) === null || _o === void 0 ? void 0 : _o.areaUnit
                                    };
                                }
                                this.props.graphicsLayer.add(orphan);
                                successCount++;
                            }
                            else {
                                // As a last resort, add the label (still editable as text, but not linked)
                                this.props.graphicsLayer.add(orphan);
                                successCount++;
                                console.warn('Imported label without a resolvable parent; added unlinked.');
                            }
                        }
                    }
                    catch (e) {
                        console.warn('Proximity fallback linking failed:', e);
                    }
                }
                // --- 5) Refresh UI / state after a short delay so layer mutations settle ---
                setTimeout(() => {
                    try {
                        this.refreshDrawingsFromLayer();
                    }
                    catch (e) {
                        console.warn('refreshDrawingsFromLayer failed:', e);
                    }
                    if (successCount > 0) {
                        const message = `Successfully imported ${successCount} item(s) from GeoJSON${errorCount > 0 ? ` (${errorCount} errors)` : ''}`;
                        //console.log(message);
                        // Intentionally not showing a toast as per your comment
                        // this.showLocalAlert(message, 'success');
                    }
                }, 300);
            }
            catch (error) {
                console.error('Error processing GeoJSON import:', error);
                this.showLocalAlert('Error importing GeoJSON file', 'error');
            }
            this.closeImportDialog();
        });
        // Convert GeoJSON feature back to ArcGIS graphic
        // === MyDrawingsPanel.tsx ===
        this.convertGeoJSONFeatureToGraphic = (feature, index) => __awaiter(this, void 0, void 0, function* () {
            try {
                if (!(feature === null || feature === void 0 ? void 0 : feature.geometry) || !(feature === null || feature === void 0 ? void 0 : feature.properties)) {
                    console.warn(`Feature ${index} missing geometry or properties`);
                    return null;
                }
                // 1) Geometry
                const arcgisGeometry = yield this.convertGeoJSONGeometryToArcGIS(feature.geometry);
                if (!arcgisGeometry) {
                    console.warn(`Failed to convert geometry for feature ${index}`);
                    return null;
                }
                // 2) Symbol
                let symbol;
                let textString = null; // Store text content for use in attributes
                // Helper: build TextSymbol with full styling support
                const buildTextSymbol = () => {
                    var _a, _b;
                    // Base text & font
                    textString =
                        (_b = (_a = feature.properties.text) !== null && _a !== void 0 ? _a : feature.properties.textContent) !== null && _b !== void 0 ? _b : 'Text';
                    // Text color + opacity (alpha)
                    const textColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"](feature.properties.text_color || '#000000');
                    if (typeof feature.properties.text_opacity === 'number') {
                        // Expecting 0..1; clamp just in case
                        const a = Math.max(0, Math.min(1, feature.properties.text_opacity));
                        textColor.a = a;
                    }
                    const font = new esri_symbols_Font__WEBPACK_IMPORTED_MODULE_11__["default"]({
                        size: feature.properties.text_size || 12,
                        family: feature.properties.text_font || 'Arial',
                        weight: feature.properties.text_weight || 'normal',
                        style: feature.properties.text_style || 'normal',
                        decoration: feature.properties.text_decoration || 'none'
                    });
                    // Alignment & rotation
                    const horizontalAlignment = feature.properties.text_align || 'center';
                    const verticalAlignment = feature.properties.text_baseline || 'middle';
                    const angle = typeof feature.properties.text_rotation === 'number'
                        ? feature.properties.text_rotation
                        : 0;
                    // Halo (optional)
                    let haloColor = undefined;
                    let haloSize = undefined;
                    if (typeof feature.properties.text_halo_size === 'number') {
                        const hs = feature.properties.text_halo_size;
                        if (hs > 0) {
                            haloSize = hs;
                            const hc = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"](feature.properties.text_halo_color || '#FFFFFF');
                            if (typeof feature.properties.text_halo_opacity === 'number') {
                                hc.a = Math.max(0, Math.min(1, feature.properties.text_halo_opacity));
                            }
                            haloColor = hc;
                        }
                        else {
                            // Explicitly no halo when size is 0
                            haloSize = 0;
                            haloColor = undefined;
                        }
                    }
                    else if (feature.properties.isMeasurementLabel) {
                        // Sensible default for measurement labels if none provided
                        haloSize = 2;
                        haloColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([255, 255, 255, 1]);
                    }
                    return new esri_symbols_TextSymbol__WEBPACK_IMPORTED_MODULE_9__["default"]({
                        text: textString,
                        color: textColor,
                        font,
                        horizontalAlignment,
                        verticalAlignment,
                        angle,
                        haloColor,
                        haloSize
                    });
                };
                const isTextLike = !!feature.properties.text ||
                    !!feature.properties.textContent ||
                    feature.properties.type === 'Text';
                if (isTextLike) {
                    symbol = buildTextSymbol();
                }
                else {
                    // Fall back to your geometry-appropriate symbol builder
                    symbol = this.createSymbolFromGeoJSONProperties(feature.properties, feature.geometry.type);
                }
                // 3) Attributes (incl. measurement + buffer metadata)
                // ✅ FIX: For text graphics, use the actual text content as the name
                const defaultName = isTextLike && textString
                    ? textString
                    : (feature.properties.name || `Imported Drawing ${index + 1}`);
                // ✅ FIX: Handle created date properly - ensure it's a valid timestamp
                let createdDate = Date.now(); // Default to now
                if (feature.properties.created) {
                    // If it's already a number, use it
                    if (typeof feature.properties.created === 'number') {
                        createdDate = feature.properties.created;
                    }
                    // If it's a string, try to parse it
                    else if (typeof feature.properties.created === 'string') {
                        const parsed = Date.parse(feature.properties.created);
                        if (!isNaN(parsed)) {
                            createdDate = parsed;
                        }
                    }
                }
                const attributes = {
                    uniqueId: feature.properties.id || `imported_geojson_${Date.now()}_${index}`,
                    name: defaultName,
                    createdDate: createdDate, // Now guaranteed to be a valid timestamp
                    geometryType: feature.geometry.type
                };
                // Ensure unique name if not replacing
                attributes.name = this.ensureUniqueName(attributes.name);
                // Measurement label flags & metadata (so editing can recognize them)
                if (feature.properties.isMeasurementLabel) {
                    attributes.isMeasurementLabel = true;
                    attributes.hideFromList = true; // keep it out of "My Drawings" lists
                    if (feature.properties.parentGraphicId) {
                        attributes.parentGraphicId = feature.properties.parentGraphicId;
                    }
                    if (feature.properties.measurementType) {
                        attributes.measurementType = feature.properties.measurementType;
                    }
                    if (feature.properties.lengthUnit) {
                        attributes.lengthUnit = feature.properties.lengthUnit;
                    }
                    if (feature.properties.areaUnit) {
                        attributes.areaUnit = feature.properties.areaUnit;
                    }
                    // Optional: tag as text drawMode to aid downstream logic
                    attributes.drawMode = 'text';
                }
                // Buffer settings (round-trip)
                if (feature.properties.bufferDistance && feature.properties.bufferUnit) {
                    const bufferSettings = {
                        distance: feature.properties.bufferDistance,
                        unit: feature.properties.bufferUnit,
                        enabled: true,
                        opacity: typeof feature.properties.bufferOpacity === 'number'
                            ? feature.properties.bufferOpacity
                            : 50
                    };
                    attributes.bufferSettings = bufferSettings;
                }
                // 4) Build the Graphic
                const graphic = new esri_Graphic__WEBPACK_IMPORTED_MODULE_4__["default"]({
                    geometry: arcgisGeometry,
                    symbol: symbol,
                    attributes
                });
                // Mirror buffer settings on the graphic object if present
                if (attributes.bufferSettings) {
                    graphic.bufferSettings = attributes.bufferSettings;
                }
                return graphic;
            }
            catch (error) {
                console.error(`Error converting GeoJSON feature ${index}:`, error);
                return null;
            }
        });
        // Convert GeoJSON geometry to ArcGIS geometry
        this.convertGeoJSONGeometryToArcGIS = (geoJsonGeometry) => __awaiter(this, void 0, void 0, function* () {
            var _a, _b;
            try {
                const currentSR = ((_b = (_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) === null || _b === void 0 ? void 0 : _b.spatialReference) || new esri_geometry_SpatialReference__WEBPACK_IMPORTED_MODULE_16__["default"]({ wkid: 4326 });
                // First convert the GeoJSON coordinates to a temporary WGS84 geometry
                let wgs84Geometry;
                const wgs84SR = new esri_geometry_SpatialReference__WEBPACK_IMPORTED_MODULE_16__["default"]({ wkid: 4326 });
                switch (geoJsonGeometry.type) {
                    case 'Point':
                        const coords = geoJsonGeometry.coordinates;
                        wgs84Geometry = new esri_geometry_Point__WEBPACK_IMPORTED_MODULE_13__["default"]({
                            longitude: coords[0],
                            latitude: coords[1],
                            spatialReference: wgs84SR
                        });
                        break;
                    case 'LineString':
                        wgs84Geometry = {
                            type: 'polyline',
                            paths: [geoJsonGeometry.coordinates],
                            spatialReference: wgs84SR
                        };
                        break;
                    case 'MultiLineString':
                        wgs84Geometry = {
                            type: 'polyline',
                            paths: geoJsonGeometry.coordinates,
                            spatialReference: wgs84SR
                        };
                        break;
                    case 'Polygon':
                        wgs84Geometry = {
                            type: 'polygon',
                            rings: geoJsonGeometry.coordinates,
                            spatialReference: wgs84SR
                        };
                        break;
                    default:
                        console.warn(`Unsupported GeoJSON geometry type: ${geoJsonGeometry.type}`);
                        return null;
                }
                // If the map is in WGS84, return the geometry as-is
                if (currentSR.wkid === 4326) {
                    return wgs84Geometry;
                }
                // Project from WGS84 to the current map spatial reference
                return yield this.projectGeometryFromWGS84(wgs84Geometry, currentSR);
            }
            catch (error) {
                console.error('Error converting GeoJSON geometry:', error);
                return null;
            }
        });
        // Helper method to convert from WGS84 back to map projection
        this.convertFromWGS84ToMapProjection = (lon, lat) => {
            var _a, _b;
            const mapSR = (_b = (_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) === null || _b === void 0 ? void 0 : _b.spatialReference;
            if (!mapSR || mapSR.wkid === 4326) {
                return { x: lon, y: lat };
            }
            // Convert from WGS84 to Web Mercator
            if (mapSR.wkid === 3857 || mapSR.wkid === 102100) {
                const x = lon * 20037508.34 / 180;
                const y = Math.log(Math.tan((90 + lat) * Math.PI / 360)) / (Math.PI / 180) * 20037508.34 / 180;
                return { x, y };
            }
            // For other coordinate systems, this is a rough approximation
            // In a production environment, you'd want to use proper projection libraries
            if (mapSR.wkid >= 32601 && mapSR.wkid <= 32660) {
                // UTM North - very rough approximation
                const zone = mapSR.wkid - 32600;
                const centralMeridian = (zone - 1) * 6 - 180 + 3;
                const x = 500000 + (lon - centralMeridian) * 111320;
                const y = lat * 110540;
                return { x, y };
            }
            // For State Plane and other systems, assume direct conversion
            // This is not accurate but prevents import failures
            return { x: lon, y: lat };
        };
        // Create ArcGIS symbol from GeoJSON properties
        this.createSymbolFromGeoJSONProperties = (properties, geometryType) => {
            try {
                switch (geometryType) {
                    case 'Point':
                        // Ensure marker style is valid
                        const markerStyle = properties.marker_symbol || 'circle';
                        const validMarkerStyles = ['circle', 'square', 'cross', 'x', 'diamond', 'triangle', 'path'];
                        const finalMarkerStyle = validMarkerStyles.includes(markerStyle) ? markerStyle : 'circle';
                        return new esri_symbols_SimpleMarkerSymbol__WEBPACK_IMPORTED_MODULE_6__["default"]({
                            style: finalMarkerStyle,
                            size: properties.marker_size || 12,
                            color: new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"](properties.marker_color || '#000000'),
                            outline: properties.stroke ? new esri_symbols_SimpleLineSymbol__WEBPACK_IMPORTED_MODULE_7__["default"]({
                                color: new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"](properties.stroke || '#000000'),
                                width: properties.stroke_width || 1
                            }) : undefined
                        });
                    case 'LineString':
                    case 'MultiLineString':
                        return new esri_symbols_SimpleLineSymbol__WEBPACK_IMPORTED_MODULE_7__["default"]({
                            style: 'solid',
                            color: new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"](properties.stroke || '#000000'),
                            width: properties.stroke_width || 2
                        });
                    case 'Polygon':
                        const fillColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"](properties.fill || '#000000');
                        if (properties.fill_opacity !== undefined) {
                            fillColor.a = properties.fill_opacity;
                        }
                        return new esri_symbols_SimpleFillSymbol__WEBPACK_IMPORTED_MODULE_8__["default"]({
                            style: 'solid',
                            color: fillColor,
                            outline: new esri_symbols_SimpleLineSymbol__WEBPACK_IMPORTED_MODULE_7__["default"]({
                                color: new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"](properties.stroke || '#000000'),
                                width: properties.stroke_width || 1
                            })
                        });
                    default:
                        // Default point symbol
                        return new esri_symbols_SimpleMarkerSymbol__WEBPACK_IMPORTED_MODULE_6__["default"]({
                            style: 'circle',
                            size: 8,
                            color: new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]('#FF0000')
                        });
                }
            }
            catch (error) {
                console.error('Error creating symbol from properties:', error);
                // Return a default symbol
                return new esri_symbols_SimpleMarkerSymbol__WEBPACK_IMPORTED_MODULE_6__["default"]({
                    style: 'circle',
                    size: 8,
                    color: new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]('#FF0000')
                });
            }
        };
        // Process legacy JSON imports (existing functionality)
        this.processLegacyImport = (content, replace) => {
            try {
                const parsedData = JSON.parse(content);
                //console.log('Processing legacy import:', parsedData);
                // Handle old format (array), v1.1, v1.2, and v1.3 formats
                let drawingsData = [];
                let measurementLabelsData = [];
                if (Array.isArray(parsedData)) {
                    drawingsData = parsedData;
                }
                else if (parsedData.drawings) {
                    drawingsData = parsedData.drawings || [];
                    measurementLabelsData = parsedData.measurementLabels || [];
                }
                if (replace) {
                    this.props.graphicsLayer.removeAll();
                }
                this.ignoreNextGraphicsUpdate = true;
                let loadedDrawingsCount = 0;
                let loadedLabelsCount = 0;
                let loadedBuffersCount = 0;
                const restoredGraphics = new Map();
                // Restore main drawings (existing logic)
                drawingsData.forEach((item, index) => {
                    var _a;
                    try {
                        const graphic = asExtendedGraphic(esri_Graphic__WEBPACK_IMPORTED_MODULE_4__["default"].fromJSON(item));
                        if (!graphic.attributes) {
                            graphic.attributes = {};
                        }
                        if (!graphic.attributes.uniqueId) {
                            graphic.attributes.uniqueId = `imported_${Date.now()}_${index}`;
                        }
                        // Ensure name is unique
                        if (!replace) {
                            graphic.attributes.name = this.ensureUniqueName(graphic.attributes.name || `Drawing ${index + 1}`);
                        }
                        // Restore buffer settings if present
                        if ((_a = item.attributes) === null || _a === void 0 ? void 0 : _a.bufferSettings) {
                            graphic.bufferSettings = {
                                distance: item.attributes.bufferSettings.distance,
                                unit: item.attributes.bufferSettings.unit,
                                enabled: item.attributes.bufferSettings.enabled,
                                opacity: item.attributes.bufferSettings.opacity
                            };
                            if (graphic.bufferSettings.enabled) {
                                loadedBuffersCount++;
                            }
                            else {
                                loadedDrawingsCount++;
                            }
                        }
                        else {
                            loadedDrawingsCount++;
                        }
                        this.props.graphicsLayer.add(graphic);
                        restoredGraphics.set(graphic.attributes.uniqueId, graphic);
                    }
                    catch (err) {
                        console.warn(`Error restoring graphic at index ${index}:`, err);
                    }
                });
                // Restore measurement labels (existing logic)
                measurementLabelsData.forEach((item, index) => {
                    try {
                        const labelGraphic = asExtendedGraphic(esri_Graphic__WEBPACK_IMPORTED_MODULE_4__["default"].fromJSON(item));
                        if (!labelGraphic.attributes) {
                            labelGraphic.attributes = {};
                        }
                        labelGraphic.attributes.isMeasurementLabel = true;
                        labelGraphic.attributes.hideFromList = true;
                        const parentGraphicId = labelGraphic.attributes.parentGraphicId;
                        if (parentGraphicId && restoredGraphics.has(parentGraphicId)) {
                            const parentGraphic = restoredGraphics.get(parentGraphicId);
                            labelGraphic.measureParent = parentGraphic;
                            if (!parentGraphic.measure) {
                                parentGraphic.measure = {
                                    graphic: labelGraphic,
                                    lengthUnit: labelGraphic.attributes.lengthUnit,
                                    areaUnit: labelGraphic.attributes.areaUnit
                                };
                            }
                            this.props.graphicsLayer.add(labelGraphic);
                            loadedLabelsCount++;
                        }
                    }
                    catch (err) {
                        console.warn(`Error restoring measurement label at index ${index}:`, err);
                    }
                });
                // Recreate attached buffers
                setTimeout(() => {
                    restoredGraphics.forEach((graphic, uniqueId) => {
                        if (graphic.bufferSettings && graphic.bufferSettings.enabled) {
                            this.recreateAttachedBuffer(graphic, true);
                        }
                    });
                    const totalLoaded = loadedDrawingsCount;
                    if (totalLoaded > 0) {
                        this.refreshDrawingsFromLayer();
                        let successMessage = `Successfully imported ${loadedDrawingsCount} drawing(s)`;
                        if (loadedLabelsCount > 0) {
                            successMessage += ` with ${loadedLabelsCount} measurement label(s)`;
                        }
                        if (loadedBuffersCount > 0) {
                            successMessage += ` and ${loadedBuffersCount} buffer(s)`;
                        }
                        //console.log(successMessage);
                    }
                }, 200);
            }
            catch (error) {
                console.error('Error processing legacy import:', error);
                this.showLocalAlert('Error importing legacy JSON file', 'error');
            }
            this.closeImportDialog();
        };
        // Process the import with or without replacement
        this.processImport = (replace) => {
            const { importFileContent } = this.state;
            if (!importFileContent) {
                this.closeImportDialog();
                return;
            }
            try {
                const format = this.detectImportFormat(importFileContent);
                //console.log(`Detected import format: ${format}`);
                if (format === 'geojson') {
                    this.processGeoJSONImport(importFileContent, replace);
                }
                else if (format === 'legacy') {
                    this.processLegacyImport(importFileContent, replace);
                }
                else {
                    console.error('Unknown file format');
                    this.showLocalAlert('Unsupported file format. Please use GeoJSON or the original JSON format.', 'error');
                    this.closeImportDialog();
                    return;
                }
            }
            catch (err) {
                console.error('Error processing import:', err);
                this.showLocalAlert('Error processing import file', 'error');
                this.closeImportDialog();
            }
        };
        this.handleExport = () => __awaiter(this, void 0, void 0, function* () {
            if (this.state.consentGranted !== true) {
                this.showLocalAlert('My Drawings feature requires local storage permission', 'warning');
                return;
            }
            if (this.state.drawings.length === 0) {
                this.showLocalAlert('No drawings to export', 'warning');
                return;
            }
            try {
                //console.log('Starting export process');
                const exportData = yield this.generateCompatibleExportData(this.state.drawings);
                //console.log('Export data generated:', exportData);
                const jsonString = JSON.stringify(exportData.geoJSONFormat, null, 2);
                const blob = new Blob([jsonString], { type: 'application/geo+json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'myDrawings.geojson';
                document.body.appendChild(a);
                a.click();
                setTimeout(() => {
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 100);
                //console.log(`Successfully exported ${this.state.drawings.length} drawings as GeoJSON`);
            }
            catch (error) {
                console.error('Error exporting drawings:', error);
                this.showLocalAlert('Error exporting drawings', 'error');
            }
        });
        // Toggle selection for a specific drawing
        this.handleToggleSelect = (index, event) => {
            // Stop propagation to prevent triggering the list item click
            event.stopPropagation();
            // Cancel any active SketchViewModel operation
            if (this.sketchViewModel) {
                this.sketchViewModel.cancel();
            }
            const { selectedGraphics } = this.state;
            const newSelected = new Set(selectedGraphics);
            if (newSelected.has(index)) {
                newSelected.delete(index);
            }
            else {
                newSelected.add(index);
            }
            // Update the checkbox selection state
            this.setState({ selectedGraphics: newSelected });
            // ADDED: If this is the only selected item, also set it as the selectedGraphicIndex for editing
            if (newSelected.size === 1 && newSelected.has(index)) {
                this.setState({ selectedGraphicIndex: index });
            }
        };
        // Select/deselect all drawings
        this.handleToggleSelectAll = () => {
            const { drawings, selectedGraphics } = this.state;
            // If all are selected, clear the selection
            if (selectedGraphics.size === drawings.length) {
                this.setState({
                    selectedGraphics: new Set(),
                    symbolEditingIndex: null
                });
            }
            else {
                // Otherwise, select all
                const allIndices = new Set(drawings.map((_, index) => index));
                this.setState({ selectedGraphics: allIndices });
            }
        };
        // Export a single drawing
        this.handleExportSingle = (index, event) => __awaiter(this, void 0, void 0, function* () {
            var _a;
            event.stopPropagation();
            if (this.state.consentGranted !== true) {
                this.showLocalAlert('My Drawings feature requires local storage permission', 'warning');
                return;
            }
            const graphic = this.state.drawings[index];
            if (!graphic)
                return;
            try {
                const exportData = yield this.generateCompatibleExportData([graphic]);
                const jsonString = JSON.stringify(exportData.geoJSONFormat, null, 2);
                const fileName = ((_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.name)
                    ? `${graphic.attributes.name.replace(/\s+/g, '_')}.geojson`
                    : `drawing_${index + 1}.geojson`;
                const blob = new Blob([jsonString], { type: 'application/geo+json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = fileName;
                document.body.appendChild(a);
                a.click();
                setTimeout(() => {
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 100);
                //console.log(`Successfully exported single drawing "${fileName}" as GeoJSON`);
            }
            catch (error) {
                console.error('Error exporting single drawing:', error);
                this.showLocalAlert('Error exporting single drawing', 'error');
            }
        });
        // 🔧 ENHANCED: Export selected drawings with buffer settings support
        this.handleExportSelected = () => __awaiter(this, void 0, void 0, function* () {
            if (this.state.consentGranted !== true) {
                this.showLocalAlert('My Drawings feature requires local storage permission', 'warning');
                return;
            }
            const { drawings, selectedGraphics } = this.state;
            if (selectedGraphics.size === 0) {
                this.showLocalAlert('No drawings selected', 'warning');
                return;
            }
            try {
                const selectedDrawings = Array.from(selectedGraphics).map(index => drawings[index]);
                const exportData = yield this.generateCompatibleExportData(selectedDrawings);
                const jsonString = JSON.stringify(exportData.geoJSONFormat, null, 2);
                const blob = new Blob([jsonString], { type: 'application/geo+json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `selected_drawings_${new Date().toISOString().split('T')[0]}.geojson`;
                document.body.appendChild(a);
                a.click();
                setTimeout(() => {
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 100);
                //console.log(`Successfully exported ${selectedGraphics.size} selected drawings as GeoJSON`);
            }
            catch (error) {
                console.error('Error exporting selected drawings:', error);
                this.showLocalAlert('Error exporting selected drawings', 'error');
            }
        });
        // Delete selected drawings
        this.handleDeleteSelected = () => {
            // Check consent
            if (this.state.consentGranted !== true) {
                this.showLocalAlert('My Drawings feature requires local storage permission', 'warning');
                return;
            }
            const { selectedGraphics } = this.state;
            if (selectedGraphics.size === 0) {
                this.showLocalAlert('No drawings selected', 'warning');
                return;
            }
            // If confirmation is required, show custom dialog
            if (this.props.confirmOnDelete !== false) {
                const deleteAction = () => {
                    this.performDeleteSelected();
                };
                this.openConfirmDialog(`Are you sure you want to delete ${selectedGraphics.size} selected drawing(s)?`, 'delete', deleteAction);
            }
            else {
                // If no confirmation needed, delete directly
                this.performDeleteSelected();
            }
        };
        this.ingestDrawings = (incoming) => {
            // You can normalize if needed; here we just replace the list
            this.setState({
                drawings: Array.isArray(incoming) ? [...incoming] : [],
                selectedGraphicIndex: null,
                selectedGraphics: new Set(),
                symbolEditingIndex: null
            });
        };
        // MyDrawingsPanel.tsx — REPLACE the whole method with this version
        this.performDeleteGraphic = (index) => {
            //console.log(`🗑️ Starting deletion of graphic at index ${index}`);
            var _a;
            // ✅ Capture original measurement state (proxy = any measurement labels present)
            this._measurementWasEnabled = false;
            try {
                if (this.props.graphicsLayer) {
                    const graphics = this.props.graphicsLayer.graphics.toArray();
                    this._measurementWasEnabled = graphics.some(g => { var _a; return ((_a = g === null || g === void 0 ? void 0 : g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) === true; });
                }
            }
            catch (e) {
                console.warn('Could not infer measurement state from layer; defaulting to off.', e);
                this._measurementWasEnabled = false;
            }
            // 🔒 Temporarily disable measurements during deletion to prevent interference
            if (this.props.onMeasurementSystemControl) {
                //console.log('🛑 Temporarily disabling measurements for deletion');
                this.props.onMeasurementSystemControl(false);
            }
            // 🚩 Flag: deletion in progress (prevents listeners from reacting to our own changes)
            this._isDeletingGraphic = true;
            this.ignoreNextGraphicsUpdate = true;
            // 🎯 Target graphic
            const graphicToDelete = this.state.drawings[index];
            if (!graphicToDelete) {
                console.error(`❌ No graphic found at index ${index}`);
                this._isDeletingGraphic = false;
                this.ignoreNextGraphicsUpdate = false;
                // 🔁 Restore measurements ONLY if they were originally enabled
                if (this.props.onMeasurementSystemControl && this._measurementWasEnabled) {
                    this.props.onMeasurementSystemControl(true);
                }
                return;
            }
            //console.log(`🎯 Target graphic:`, graphicToDelete.attributes?.name || `Drawing ${index + 1}`);
            try {
                // STEP 0: Proactively clear measurement artifacts on the target
                // (removes total/area/radius/segment labels & internal refs to avoid ghosts/races)
                try {
                    this.removeMeasurementLabels(graphicToDelete);
                }
                catch (cleanErr) {
                    console.warn('⚠️ Failed pre-clean of measurement labels before delete:', cleanErr);
                }
                // STEP 1: Ensure SketchViewModel isn't touching this graphic
                if (this.sketchViewModel) {
                    //console.log(`🛑 Force canceling SketchViewModel operations`);
                    const isBeingEdited = (_a = this.sketchViewModel.updateGraphics) === null || _a === void 0 ? void 0 : _a.some(g => { var _a, _b; return ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId) === ((_b = graphicToDelete.attributes) === null || _b === void 0 ? void 0 : _b.uniqueId); });
                    // Always cancel to flush any latent edit handles
                    this.sketchViewModel.cancel();
                    // Clear any selection/editing state in our UI to prevent re-selection
                    this.setState({ selectedGraphicIndex: null, symbolEditingIndex: null });
                    // Wait a beat to allow SVM to fully release references
                    setTimeout(() => {
                        // Continue with actual deletion once SVM is settled
                        this.continueDeleteGraphic(index, graphicToDelete);
                    }, isBeingEdited ? 300 : 100);
                    return; // exit; we'll resume in continueDeleteGraphic
                }
                // No SVM active → proceed immediately
                this.continueDeleteGraphic(index, graphicToDelete);
            }
            catch (error) {
                console.error('❌ Error starting deletion:', error);
                // Always clear flags on failure paths
                this._isDeletingGraphic = false;
                this.ignoreNextGraphicsUpdate = false;
                // 🔁 Restore measurement system ONLY if it was originally enabled
                if (this.props.onMeasurementSystemControl && this._measurementWasEnabled) {
                    this.props.onMeasurementSystemControl(true);
                }
                this.showLocalAlert('Error deleting drawing', 'error');
            }
        };
        this.performDeleteSelected = () => {
            var _a;
            const { drawings, selectedGraphics } = this.state;
            if (selectedGraphics.size === 0)
                return;
            //console.log(`🗑️ Starting deletion of ${selectedGraphics.size} selected graphics`);
            // Set deletion flag to prevent interference
            this._isDeletingGraphic = true;
            try {
                // STEP 1: Force cancel any SketchViewModel operations
                if (this.sketchViewModel) {
                    //console.log(`🛑 Canceling SketchViewModel before bulk deletion`);
                    this.sketchViewModel.cancel();
                }
                // STEP 2: Clean up measurement labels for all selected drawings FIRST
                const selectedIndices = Array.from(selectedGraphics);
                //console.log(`🧹 Cleaning up measurement labels for ${selectedIndices.length} graphics`);
                selectedIndices.forEach(index => {
                    const graphic = drawings[index];
                    if (graphic) {
                        //console.log(`🧹 Cleaning measurements for: ${graphic.attributes?.name || `Drawing ${index + 1}`}`);
                        this.removeMeasurementLabels(graphic);
                    }
                });
                // STEP 3: Remove the actual drawing graphics from the layer
                // Sort indices in descending order to avoid index shifting issues
                const sortedIndices = selectedIndices.sort((a, b) => b - a);
                //console.log(`🗑️ Removing ${sortedIndices.length} graphics from layer`);
                // Mark that we're about to update the graphics layer
                this.ignoreNextGraphicsUpdate = true;
                for (const index of sortedIndices) {
                    const graphic = drawings[index];
                    if (!graphic)
                        continue;
                    const uniqueId = (_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId;
                    //console.log(`🗑️ Removing graphic: ${graphic.attributes?.name || `Drawing ${index + 1}`} (${uniqueId})`);
                    if (uniqueId) {
                        // Find the exact graphic in the layer by uniqueId (more reliable)
                        const layerGraphics = this.props.graphicsLayer.graphics.toArray();
                        const targetGraphic = layerGraphics.find(g => {
                            var _a, _b, _c;
                            return ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId) === uniqueId &&
                                !((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.isMeasurementLabel) &&
                                !((_c = g.attributes) === null || _c === void 0 ? void 0 : _c.hideFromList);
                        });
                        if (targetGraphic) {
                            this.props.graphicsLayer.remove(targetGraphic);
                            //console.log(`✅ Removed graphic with uniqueId: ${uniqueId}`);
                        }
                        else {
                            console.warn(`⚠️ Could not find graphic with uniqueId ${uniqueId} in layer`);
                            // Fallback: try to remove by reference
                            if (this.props.graphicsLayer.graphics.includes(graphic)) {
                                this.props.graphicsLayer.remove(graphic);
                                //console.log(`✅ Removed graphic by reference fallback`);
                            }
                        }
                    }
                    else {
                        // No uniqueId, use direct reference removal
                        if (this.props.graphicsLayer.graphics.includes(graphic)) {
                            this.props.graphicsLayer.remove(graphic);
                            //console.log(`✅ Removed graphic by direct reference`);
                        }
                    }
                }
                // STEP 4: AUTOMATIC CLEANUP after bulk deletion
                setTimeout(() => {
                    //console.log(`🧹 Running automatic orphan cleanup after bulk deletion`);
                    this.cleanupOrphanedMeasurementLabels();
                }, 300);
                // STEP 5: Update state
                const updatedDrawings = drawings.filter((_, index) => !selectedGraphics.has(index));
                //console.log(`📊 Updating state: ${drawings.length} -> ${updatedDrawings.length} drawings`);
                this.setState({
                    drawings: updatedDrawings,
                    selectedGraphics: new Set(),
                    symbolEditingIndex: null,
                    selectedGraphicIndex: null
                }, () => {
                    //console.log(`✅ State updated - ${updatedDrawings.length} drawings remaining`);
                    // Save to localStorage if consent granted
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                    // Notify parent if needed
                    if (this.props.onDrawingsUpdate) {
                        this.props.onDrawingsUpdate(updatedDrawings);
                    }
                    // Clear deletion flag
                    this._isDeletingGraphic = false;
                    // STEP 6: Final verification and cleanup
                    setTimeout(() => {
                        this.verifyLayerState();
                        // Run final cleanup to ensure everything is clean
                        this.cleanupOrphanedMeasurementLabels();
                    }, 500);
                });
                //console.log(`✅ Bulk deletion completed successfully`);
            }
            catch (error) {
                console.error('❌ Error deleting selected graphics:', error);
                this._isDeletingGraphic = false; // Always clear the flag
                this.showLocalAlert('Error deleting selected drawings', 'error');
                // Refresh from layer to ensure state is consistent
                //console.log(`🔄 Refreshing from layer due to error`);
                this.refreshDrawingsFromLayer();
            }
        };
        this.handleSortOptionChange = (e) => {
            // Check consent
            if (this.state.consentGranted !== true) {
                this.showLocalAlert('My Drawings feature requires local storage permission', 'warning');
                return;
            }
            const sortOption = e.target.value;
            this.setState({ sortOption }, () => {
                // Sort the current drawings
                const sortedDrawings = this.sortGraphicsArray(this.state.drawings);
                this.setState({ drawings: sortedDrawings });
            });
        };
        this.startEditing = (index, event) => {
            // Check consent
            if (this.state.consentGranted !== true) {
                this.showLocalAlert('My Drawings feature requires local storage permission', 'warning');
                return;
            }
            // Stop event propagation if provided
            if (event) {
                event.stopPropagation();
            }
            this.setState({ editingGraphicIndex: index });
        };
        this.handleNameChange = (index, newName) => {
            // Debugging: Log input value to see if spaces are present
            //console.log('handleNameChange received:', newName, 'contains spaces:', newName.includes(' '));
            // Check consent
            if (this.state.consentGranted !== true)
                return;
            const updatedDrawings = [...this.state.drawings];
            const graphic = updatedDrawings[index];
            if (!graphic)
                return;
            // Ensure attributes object
            if (!graphic.attributes) {
                graphic.attributes = {};
            }
            // Update name attribute - add more debugging
            graphic.attributes.name = newName;
            //console.log('Set attributes.name to:', graphic.attributes.name);
            // REMOVED: Do not automatically update text symbol content when renaming
            // This allows users to have meaningful reference names that differ from displayed text
            // if (graphic.symbol?.type === 'text') {
            //     const textSymbol = graphic.symbol as TextSymbol;
            //     textSymbol.text = newName;
            //     //console.log('Updated text symbol to:', textSymbol.text);
            // }
            // Optional: reapply the graphic to the layer to reflect name change
            this.ignoreNextGraphicsUpdate = true;
            this.props.graphicsLayer.remove(graphic);
            this.props.graphicsLayer.add(graphic);
            // Update state and persist
            this.setState({ drawings: updatedDrawings }, () => {
                var _a, _b;
                // Confirm value in the updated state
                const confirmedValue = (_b = (_a = this.state.drawings[index]) === null || _a === void 0 ? void 0 : _a.attributes) === null || _b === void 0 ? void 0 : _b.name;
                //console.log('Name in state after update:', confirmedValue);
                if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                    this.saveToLocalStorage();
                }
            });
        };
        this.saveNameEdit = () => {
            // Check consent
            if (this.state.consentGranted !== true || this.state.editingGraphicIndex === null) {
                if (this.state.consentGranted !== true) {
                    this.showLocalAlert('My Drawings feature requires local storage permission', 'warning');
                }
                return;
            }
            try {
                // Get the updated graphic
                const graphic = this.state.drawings[this.state.editingGraphicIndex];
                if (!graphic)
                    return;
                // Mark that we're about to update the graphics layer
                this.ignoreNextGraphicsUpdate = true;
                // Update the graphic in the layer (remove and re-add to ensure update)
                this.props.graphicsLayer.remove(graphic);
                this.props.graphicsLayer.add(graphic);
                // Exit editing mode
                this.setState({ editingGraphicIndex: null }, () => {
                    // Save to localStorage if consent granted
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                });
                // Don't show alert - silently update
                // this.showLocalAlert('Name updated', 'success');
            }
            catch (error) {
                console.error('Error saving name edit:', error);
                // We'll still show an error if something goes wrong
                this.showLocalAlert('Error updating name', 'error');
                // Exit editing mode
                this.setState({ editingGraphicIndex: null });
            }
        };
        this.cancelNameEdit = () => {
            this.setState({ editingGraphicIndex: null });
        };
        this.getDrawingTypeLabel = (graphic) => {
            var _a, _b, _c, _d, _e;
            // Try to get the draw mode from attributes
            let drawMode = (_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.drawMode;
            // If not found, try to get geometry type
            if (!drawMode) {
                const geomTypeAttr = (_b = graphic.attributes) === null || _b === void 0 ? void 0 : _b.geometryType;
                if (['circle', 'rectangle', 'text'].includes(geomTypeAttr)) {
                    drawMode = geomTypeAttr;
                }
                // Check if it's a text symbol
                else if (((_c = graphic.geometry) === null || _c === void 0 ? void 0 : _c.type) === 'point' &&
                    ((_d = graphic.symbol) === null || _d === void 0 ? void 0 : _d.type) === 'text') {
                    drawMode = 'text';
                }
                // Otherwise, determine from geometry
                else {
                    drawMode = (_e = graphic.geometry) === null || _e === void 0 ? void 0 : _e.type;
                }
            }
            // Convert technical names to user-friendly labels
            switch (drawMode) {
                case 'point':
                    return 'Point';
                case 'polyline':
                    return 'Line';
                case 'polygon':
                    return 'Polygon';
                case 'rectangle':
                case 'extent':
                    return 'Rectangle';
                case 'circle':
                    return 'Circle';
                case 'text':
                    return 'Text';
                default:
                    return (drawMode === null || drawMode === void 0 ? void 0 : drawMode.charAt(0).toUpperCase()) + (drawMode === null || drawMode === void 0 ? void 0 : drawMode.slice(1)) || 'Unknown';
            }
        };
        this.formatCreatedDate = (dateValue) => {
            if (!dateValue)
                return '';
            const date = new Date(Number(dateValue));
            return date.toLocaleDateString(undefined, {
                year: 'numeric',
                month: 'short',
                day: 'numeric'
            });
        };
        this.openSymbolEditor = (index, event) => {
            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
            if (this.state.consentGranted !== true) {
                this.showLocalAlert('My Drawings feature requires local storage permission', 'warning');
                return;
            }
            if (event)
                event.stopPropagation();
            const graphic = this.state.drawings[index];
            if (!graphic) {
                console.warn(`No drawing found at index ${index}`);
                return;
            }
            // CRITICAL FIX: Store current segment label state BEFORE canceling SketchViewModel
            const graphicHadSegmentLabels = ((_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.relatedSegmentLabels) &&
                graphic.attributes.relatedSegmentLabels.length > 0;
            // Cancel the current SketchViewModel operation before changing the graphic in state
            if (this.sketchViewModel) {
                this.sketchViewModel.cancel();
            }
            // CRITICAL FIX: If the graphic had segment labels, preserve them after cancel
            // The cancel operation may have cleared them, so we need to ensure they persist
            if (graphicHadSegmentLabels && ((_b = this.measureRef) === null || _b === void 0 ? void 0 : _b.current)) {
                // Small delay to let cancel complete, then restore segments
                setTimeout(() => {
                    var _a, _b;
                    // Force measurement system to recreate segments if they were removed
                    if (((_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) &&
                        (!((_b = graphic.attributes) === null || _b === void 0 ? void 0 : _b.relatedSegmentLabels) ||
                            graphic.attributes.relatedSegmentLabels.length === 0)) {
                        this.measureRef.current.updateMeasurementsForGraphic(graphic);
                    }
                }, 100);
            }
            // Specifically for text symbols, initialize additional text editing state
            if (((_c = graphic.symbol) === null || _c === void 0 ? void 0 : _c.type) === 'text') {
                const textSymbol = graphic.symbol;
                // Get symbol color as rgba string for the color picker
                const symbolColor = textSymbol.color ?
                    this.convertColorToRgba(textSymbol.color) : 'rgba(0,0,0,1)';
                // Get halo color and settings
                const haloEnabled = textSymbol.haloSize !== null && textSymbol.haloSize > 0;
                const haloColor = textSymbol.haloColor ?
                    this.convertColorToRgba(textSymbol.haloColor) : 'rgba(255,255,255,1)';
                const haloSize = textSymbol.haloSize || 1;
                // Get text alignment states
                const horizontalAlignment = textSymbol.horizontalAlignment || 'center';
                const verticalAlignment = textSymbol.verticalAlignment || 'middle';
                // Get font style settings - ensure we're getting the correct values
                const fontWeight = ((_d = textSymbol.font) === null || _d === void 0 ? void 0 : _d.weight) || 'normal';
                const fontStyle = ((_e = textSymbol.font) === null || _e === void 0 ? void 0 : _e.style) || 'normal';
                const fontDecoration = ((_f = textSymbol.font) === null || _f === void 0 ? void 0 : _f.decoration) || 'none';
                const fontSize = ((_g = textSymbol.font) === null || _g === void 0 ? void 0 : _g.size) || 12;
                const fontRotation = textSymbol.angle || 0;
                // Check if styling is active - be very explicit to ensure we set correct states
                const isBold = fontWeight === 'bold';
                const isItalic = fontStyle === 'italic';
                const isUnderline = fontDecoration === 'underline';
                // Update state with all text properties
                this.setState({
                    symbolEditingIndex: index,
                    textValue: textSymbol.text || '',
                    // Text properties
                    fontColor: symbolColor,
                    fontSize: fontSize,
                    fontFamily: ((_h = textSymbol.font) === null || _h === void 0 ? void 0 : _h.family) || 'Arial',
                    fontRotation: fontRotation,
                    // Opacity values (from alpha channel)
                    fontOpacity: ((_j = textSymbol.color) === null || _j === void 0 ? void 0 : _j.a) || 1,
                    // Halo settings
                    fontHaloEnabled: haloEnabled,
                    fontHaloColor: haloColor,
                    fontHaloSize: haloSize,
                    fontHaloOpacity: ((_k = textSymbol.haloColor) === null || _k === void 0 ? void 0 : _k.a) || 1,
                    // Alignment settings
                    horizontalAlignment: horizontalAlignment,
                    verticalAlignment: verticalAlignment,
                    // Font style settings
                    fontWeight: fontWeight,
                    fontStyle: fontStyle,
                    fontDecoration: fontDecoration,
                    // Button active states - be very explicit
                    hAlignLeftActive: horizontalAlignment === 'left',
                    hAlignCenterActive: horizontalAlignment === 'center',
                    hAlignRightActive: horizontalAlignment === 'right',
                    vAlignBaseActive: verticalAlignment === 'baseline',
                    vAlignTopActive: verticalAlignment === 'top',
                    vAlignMidActive: verticalAlignment === 'middle',
                    vAlignBotActive: verticalAlignment === 'bottom',
                    fsBoldActive: isBold,
                    fsItalicActive: isItalic,
                    fsUnderlineActive: isUnderline,
                    // Also add these boolean state values for the actual styling
                    isBold: isBold,
                    isItalic: isItalic,
                    isUnderline: isUnderline
                });
            }
            else {
                // For non-text symbols, just open the standard symbol editor
                this.setState({
                    symbolEditingIndex: index,
                    textValue: ''
                });
            }
        };
        this.applyTextChangesExplicitly = (index) => {
            var _a, _b;
            const graphic = this.state.drawings[index];
            if (!graphic || !graphic.symbol || graphic.symbol.type !== 'text')
                return;
            try {
                // Clone the original symbol
                const originalSymbol = graphic.symbol;
                const textSymbol = originalSymbol.clone();
                // Clone and apply font settings
                const currentFont = ((_a = textSymbol.font) === null || _a === void 0 ? void 0 : _a.clone()) || new esri_symbols_Font__WEBPACK_IMPORTED_MODULE_11__["default"]();
                currentFont.family = this.state.fontFamily || 'Arial';
                currentFont.size = this.state.fontSize || 12;
                currentFont.weight = this.state.isBold ? 'bold' : 'normal';
                currentFont.style = this.state.isItalic ? 'italic' : 'normal';
                currentFont.decoration = this.state.isUnderline ? 'underline' : 'none';
                textSymbol.font = currentFont;
                // Update other text properties
                textSymbol.text = this.state.textValue;
                textSymbol.color = this.hexToRgba(this.rgbaToHex(this.state.fontColor), this.state.fontOpacity);
                textSymbol.horizontalAlignment = this.state.horizontalAlignment || 'center';
                textSymbol.verticalAlignment = this.state.verticalAlignment || 'middle';
                textSymbol.angle = (_b = this.state.fontRotation) !== null && _b !== void 0 ? _b : 0;
                // Halo settings
                if (this.state.fontHaloEnabled) {
                    textSymbol.haloSize = this.state.fontHaloSize;
                    textSymbol.haloColor = this.hexToRgba(this.rgbaToHex(this.state.fontHaloColor), this.state.fontHaloOpacity);
                }
                else {
                    textSymbol.haloSize = 0;
                    textSymbol.haloColor = null;
                }
                // Clone and update the graphic
                const updatedGraphic = graphic.clone();
                updatedGraphic.symbol = textSymbol;
                // Replace graphic in layer
                this.ignoreNextGraphicsUpdate = true;
                this.props.graphicsLayer.remove(graphic);
                setTimeout(() => {
                    var _a, _b;
                    this.props.graphicsLayer.add(updatedGraphic);
                    // Nudge the view to force refresh
                    if ((_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) {
                        const currentCenter = this.props.jimuMapView.view.center.clone();
                        this.props.jimuMapView.view.goTo(currentCenter, { duration: 0 });
                    }
                    // Re-enable editing
                    if ((_b = this.sketchViewModel) === null || _b === void 0 ? void 0 : _b.updateGraphics) {
                        this.sketchViewModel.cancel();
                        setTimeout(() => {
                            this.sketchViewModel.update([updatedGraphic]);
                        }, 50);
                    }
                    // Persist to local storage
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                    // Clear editor state and close style editor
                    this.setState({
                        symbolEditingIndex: null,
                        selectedGraphicIndex: null,
                        selectedGraphics: new Set()
                    });
                    //console.log('Changes applied successfully, map updated, and editor closed');
                }, 50);
            }
            catch (error) {
                console.error('Error applying text changes:', error);
                this.showLocalAlert('Error applying changes', 'error');
                this.setState({
                    symbolEditingIndex: null,
                    selectedGraphicIndex: null,
                    selectedGraphics: new Set()
                });
            }
        };
        // Helper method to convert ArcGIS Color to RGBA string
        this.convertColorToRgba = (color) => {
            if (!color)
                return 'rgba(0,0,0,1)';
            // Use toRgba() if available
            if (typeof color.toRgba === 'function') {
                const rgba = color.toRgba();
                return `rgba(${rgba[0]},${rgba[1]},${rgba[2]},${rgba[3]})`;
            }
            // Fallback in case toRgba is not available
            return `rgba(${color.r || 0},${color.g || 0},${color.b || 0},${color.a || 1})`;
        };
        // Convert rgba string to hex color
        this.rgbaToHex = (rgba) => {
            // Handle potential errors with rgba format
            if (!rgba || typeof rgba !== 'string') {
                return '#000000'; // Default to black
            }
            // Extract RGBA values
            const match = rgba.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);
            if (!match) {
                return '#000000'; // Default to black if format doesn't match
            }
            // Convert to hex
            const r = parseInt(match[1], 10).toString(16).padStart(2, '0');
            const g = parseInt(match[2], 10).toString(16).padStart(2, '0');
            const b = parseInt(match[3], 10).toString(16).padStart(2, '0');
            return `#${r}${g}${b}`;
        };
        // Convert hex color to rgba
        this.hexToRgba = (hex, alpha = 1) => {
            // Remove # if present
            hex = hex.replace('#', '');
            // Parse the hex values
            const r = parseInt(hex.substring(0, 2), 16);
            const g = parseInt(hex.substring(2, 4), 16);
            const b = parseInt(hex.substring(4, 6), 16);
            // Create RGBA color object
            return new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([r, g, b, alpha]);
        };
        this.applyTextChanges = (originalGraphic) => {
            if (!originalGraphic || !this.props.graphicsLayer)
                return;
            try {
                // Create a clone of the graphic to avoid modifying shared references
                const graphic = originalGraphic.clone();
                // Apply the changes immediately to the map
                this.ignoreNextGraphicsUpdate = true;
                // First remove and then re-add the graphic to ensure the changes are visible
                this.props.graphicsLayer.remove(originalGraphic);
                this.props.graphicsLayer.add(graphic);
                // If we're in edit mode with SketchViewModel, update it too
                if (this.sketchViewModel && this.sketchViewModel.updateGraphics) {
                    const isBeingEdited = this.sketchViewModel.updateGraphics.some(g => { var _a, _b; return ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId) === ((_b = graphic.attributes) === null || _b === void 0 ? void 0 : _b.uniqueId); });
                    if (isBeingEdited) {
                        // Cancel current edit operation and restart with updated graphic
                        this.sketchViewModel.cancel();
                        this.sketchViewModel.update([graphic]);
                    }
                }
                return graphic; // Return the new graphic for potential further use
            }
            catch (error) {
                console.error('Error applying text changes:', error);
                this.showLocalAlert('Error updating text', 'error');
                return null;
            }
        };
        // Update each method to call applyTextChanges after modifying the text symbol
        this.updateTextValue = (value, index) => {
            const drawings = [...this.state.drawings];
            const originalGraphic = drawings[index];
            if (!originalGraphic || !originalGraphic.symbol || originalGraphic.symbol.type !== 'text')
                return;
            try {
                // Clone the graphic and symbol
                const graphic = originalGraphic.clone();
                const textSymbol = graphic.symbol.clone();
                // Update the text symbol and attributes
                textSymbol.text = value;
                if (!graphic.attributes) {
                    graphic.attributes = {};
                }
                graphic.attributes.name = value;
                // Apply the updated symbol to the graphic
                graphic.symbol = textSymbol;
                // Update in the layer
                this.ignoreNextGraphicsUpdate = true;
                this.props.graphicsLayer.remove(originalGraphic);
                this.props.graphicsLayer.add(graphic);
                // Update in state
                drawings[index] = graphic;
                // Update component state and persist
                this.setState({ drawings, textValue: value }, () => {
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                    // 🔄 FIXED: Call parent's onDrawingsUpdate prop
                    //console.log('📝 MyDrawingsPanel: Text updated, triggering measurement refresh');
                    if (this.props.onDrawingsUpdate) {
                        this.props.onDrawingsUpdate(drawings);
                    }
                });
            }
            catch (error) {
                console.error('Error updating text value:', error);
                this.showLocalAlert('Error updating text', 'error');
            }
        };
        this.updateFontSize = (size, index) => {
            const drawings = [...this.state.drawings];
            const originalGraphic = drawings[index];
            if (!originalGraphic || !originalGraphic.symbol || originalGraphic.symbol.type !== 'text')
                return;
            try {
                // Clone the graphic and symbol
                const graphic = originalGraphic.clone();
                const textSymbol = graphic.symbol.clone();
                // Create a new Font object with updated size
                const font = textSymbol.font ? textSymbol.font.clone() : new esri_symbols_Font__WEBPACK_IMPORTED_MODULE_11__["default"]({});
                font.size = size;
                // Assign the new font to the symbol
                textSymbol.font = font;
                // Apply the updated symbol to the graphic
                graphic.symbol = textSymbol;
                // Update in the layer
                this.ignoreNextGraphicsUpdate = true;
                this.props.graphicsLayer.remove(originalGraphic);
                this.props.graphicsLayer.add(graphic);
                // Update in state
                drawings[index] = graphic;
                // Update state and persist
                this.setState({
                    drawings,
                    fontSize: size
                }, () => {
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                    // 🔄 FIXED: Call parent's onDrawingsUpdate prop to trigger measurement refresh
                    //console.log('📏 MyDrawingsPanel: Font size updated, triggering measurement refresh');
                    if (this.props.onDrawingsUpdate) {
                        this.props.onDrawingsUpdate(drawings);
                    }
                });
            }
            catch (error) {
                console.error('Error updating font size:', error);
                this.showLocalAlert('Error updating text size', 'error');
            }
        };
        this.updateFontFamily = (family, index) => {
            const drawings = [...this.state.drawings];
            const originalGraphic = drawings[index];
            if (!originalGraphic || !originalGraphic.symbol || originalGraphic.symbol.type !== 'text')
                return;
            try {
                // Clone the graphic and symbol
                const graphic = originalGraphic.clone();
                const textSymbol = graphic.symbol.clone();
                // Create a new Font object with updated family
                const font = textSymbol.font ? textSymbol.font.clone() : new esri_symbols_Font__WEBPACK_IMPORTED_MODULE_11__["default"]({});
                font.family = family;
                // Assign the new font to the symbol
                textSymbol.font = font;
                // Apply the updated symbol to the graphic
                graphic.symbol = textSymbol;
                // Update in the layer
                this.ignoreNextGraphicsUpdate = true;
                this.props.graphicsLayer.remove(originalGraphic);
                this.props.graphicsLayer.add(graphic);
                // Update in state
                drawings[index] = graphic;
                // Update state and persist
                this.setState({
                    drawings,
                    fontFamily: family
                }, () => {
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                });
            }
            catch (error) {
                console.error('Error updating font family:', error);
                this.showLocalAlert('Error updating text font', 'error');
            }
        };
        this.updateFontColor = (color, index) => {
            const drawings = [...this.state.drawings];
            const originalGraphic = drawings[index];
            if (!originalGraphic || !originalGraphic.symbol || originalGraphic.symbol.type !== 'text')
                return;
            try {
                // Clone the graphic and symbol
                const graphic = originalGraphic.clone();
                const textSymbol = graphic.symbol.clone();
                // Create a new Color object to ensure no shared references
                textSymbol.color = color.clone ? color.clone() : new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"](color.toRgba ? color.toRgba() : color);
                // Apply the updated symbol to the graphic
                graphic.symbol = textSymbol;
                // Update in the layer
                this.ignoreNextGraphicsUpdate = true;
                this.props.graphicsLayer.remove(originalGraphic);
                this.props.graphicsLayer.add(graphic);
                // Update in state
                drawings[index] = graphic;
                // Convert the color to rgba string for state
                const rgba = `rgba(${color.r},${color.g},${color.b},${color.a})`;
                // Update state and persist
                this.setState({
                    drawings,
                    fontColor: rgba,
                    fontOpacity: color.a || 1
                }, () => {
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                });
            }
            catch (error) {
                console.error('Error updating font color:', error);
                this.showLocalAlert('Error updating text color', 'error');
            }
        };
        this.updateFontOpacity = (opacity, index) => {
            const drawings = [...this.state.drawings];
            const originalGraphic = drawings[index];
            if (!originalGraphic || !originalGraphic.symbol || originalGraphic.symbol.type !== 'text')
                return;
            try {
                // Clone the graphic and symbol
                const graphic = originalGraphic.clone();
                const textSymbol = graphic.symbol.clone();
                // Update opacity while preserving color
                if (textSymbol.color) {
                    // Create a new Color object with the updated opacity
                    const rgbaValues = textSymbol.color.toRgba ? textSymbol.color.toRgba() : [0, 0, 0, opacity];
                    rgbaValues[3] = opacity; // Set alpha value
                    textSymbol.color = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"](rgbaValues);
                }
                // Apply the updated symbol to the graphic
                graphic.symbol = textSymbol;
                // Update in the layer
                this.ignoreNextGraphicsUpdate = true;
                this.props.graphicsLayer.remove(originalGraphic);
                this.props.graphicsLayer.add(graphic);
                // Update in state
                drawings[index] = graphic;
                // Convert color for state
                const rgba = textSymbol.color ?
                    `rgba(${textSymbol.color.r},${textSymbol.color.g},${textSymbol.color.b},${opacity})` :
                    `rgba(0,0,0,${opacity})`;
                // Update state and persist
                this.setState({
                    drawings,
                    fontOpacity: opacity,
                    fontColor: rgba
                }, () => {
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                });
            }
            catch (error) {
                console.error('Error updating font opacity:', error);
                this.showLocalAlert('Error updating text opacity', 'error');
            }
        };
        this.updateFontRotation = (rotation, index) => {
            const drawings = [...this.state.drawings];
            const originalGraphic = drawings[index];
            if (!originalGraphic || !originalGraphic.symbol || originalGraphic.symbol.type !== 'text')
                return;
            try {
                // Clone the graphic and symbol
                const graphic = originalGraphic.clone();
                const textSymbol = graphic.symbol.clone();
                // Update rotation
                textSymbol.angle = rotation;
                // Apply the updated symbol to the graphic
                graphic.symbol = textSymbol;
                // Update in the layer
                this.ignoreNextGraphicsUpdate = true;
                this.props.graphicsLayer.remove(originalGraphic);
                this.props.graphicsLayer.add(graphic);
                // Update in state
                drawings[index] = graphic;
                // Update state and persist
                this.setState({
                    drawings,
                    fontRotation: rotation
                }, () => {
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                });
            }
            catch (error) {
                console.error('Error updating font rotation:', error);
                this.showLocalAlert('Error updating text rotation', 'error');
            }
        };
        // Font style methods (bold, italic, underline)
        this.toggleFontStyle = (styleType, index) => {
            const drawings = [...this.state.drawings];
            const originalGraphic = drawings[index];
            if (!originalGraphic || !originalGraphic.symbol || originalGraphic.symbol.type !== 'text')
                return;
            try {
                // Clone the graphic and symbol
                const graphic = originalGraphic.clone();
                const textSymbol = graphic.symbol.clone();
                // Create a new Font object to avoid modifying shared references
                const font = textSymbol.font ? textSymbol.font.clone() : new esri_symbols_Font__WEBPACK_IMPORTED_MODULE_11__["default"]({});
                // Update the font style based on the styleType
                switch (styleType) {
                    case 'bold':
                        const isBold = font.weight !== 'bold';
                        font.weight = isBold ? 'bold' : 'normal';
                        this.setState({
                            fsBoldActive: isBold,
                            isBold: isBold
                        });
                        break;
                    case 'italic':
                        const isItalic = font.style !== 'italic';
                        font.style = isItalic ? 'italic' : 'normal';
                        this.setState({
                            fsItalicActive: isItalic,
                            isItalic: isItalic
                        });
                        break;
                    case 'underline':
                        const isUnderline = font.decoration !== 'underline';
                        font.decoration = isUnderline ? 'underline' : 'none';
                        this.setState({
                            fsUnderlineActive: isUnderline,
                            isUnderline: isUnderline
                        });
                        break;
                }
                // Assign the new font to the symbol
                textSymbol.font = font;
                // Apply the updated symbol to the graphic
                graphic.symbol = textSymbol;
                // Update in the layer
                this.ignoreNextGraphicsUpdate = true;
                this.props.graphicsLayer.remove(originalGraphic);
                this.props.graphicsLayer.add(graphic);
                // Update in state
                drawings[index] = graphic;
                // Update state and persist
                this.setState({ drawings }, () => {
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                });
            }
            catch (error) {
                console.error('Error updating font style:', error);
                this.showLocalAlert('Error updating text style', 'error');
            }
        };
        // Horizontal alignment method
        this.updateHorizontalAlignment = (alignment, index) => {
            //console.log(`Updating horizontal alignment to ${alignment} for drawing at index ${index}`);
            // Validate inputs
            if (index === undefined || index === null) {
                console.error('Invalid index provided to updateHorizontalAlignment');
                return;
            }
            // Get a copy of the drawings array
            const drawings = [...this.state.drawings];
            // Check if the graphic exists at the given index
            if (!drawings[index]) {
                console.error(`No drawing found at index ${index}`);
                return;
            }
            const originalGraphic = drawings[index];
            // Validate the graphic has a text symbol
            if (!originalGraphic || !originalGraphic.symbol || originalGraphic.symbol.type !== 'text') {
                console.error('Cannot update horizontal alignment: graphic has no text symbol');
                return;
            }
            try {
                // Clone the graphic and symbol
                const graphic = originalGraphic.clone();
                const textSymbol = graphic.symbol.clone();
                // Log current state before changes
                //console.log('Current symbol state:', {
                //     horizontalAlignment: textSymbol.horizontalAlignment,
                //     text: textSymbol.text,
                //     hasSymbol: !!textSymbol
                // });
                // Update horizontal alignment
                textSymbol.horizontalAlignment = alignment;
                // Apply the updated symbol to the graphic
                graphic.symbol = textSymbol;
                // Update in the layer
                this.ignoreNextGraphicsUpdate = true;
                this.props.graphicsLayer.remove(originalGraphic);
                this.props.graphicsLayer.add(graphic);
                // Update in state
                drawings[index] = graphic;
                // Update state with new alignment and button states
                this.setState({
                    drawings,
                    horizontalAlignment: alignment,
                    hAlignLeftActive: alignment === 'left',
                    hAlignCenterActive: alignment === 'center',
                    hAlignRightActive: alignment === 'right'
                }, () => {
                    // Log updated state
                    //console.log('Horizontal alignment updated successfully:', {
                    //     alignment,
                    //     buttonStates: {
                    //         left: this.state.hAlignLeftActive,
                    //         center: this.state.hAlignCenterActive,
                    //         right: this.state.hAlignRightActive
                    //     }
                    // });
                    // Save to localStorage if enabled and consent granted
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                });
            }
            catch (error) {
                console.error('Error updating horizontal alignment:', error);
                this.showLocalAlert('Error updating text alignment', 'error');
            }
        };
        // Vertical alignment method
        this.updateVerticalAlignment = (alignment, index) => {
            //console.log(`Updating vertical alignment to ${alignment} for drawing at index ${index}`);
            // Validate inputs
            if (index === undefined || index === null) {
                console.error('Invalid index provided to updateVerticalAlignment');
                return;
            }
            // Get a copy of the drawings array
            const drawings = [...this.state.drawings];
            // Check if the graphic exists at the given index
            if (!drawings[index]) {
                console.error(`No drawing found at index ${index}`);
                return;
            }
            const originalGraphic = drawings[index];
            // Validate the graphic has a text symbol
            if (!originalGraphic || !originalGraphic.symbol || originalGraphic.symbol.type !== 'text') {
                console.error('Cannot update vertical alignment: graphic has no text symbol');
                return;
            }
            try {
                // Clone the graphic and symbol
                const graphic = originalGraphic.clone();
                const textSymbol = graphic.symbol.clone();
                // Log current state before changes
                //console.log('Current symbol state:', {
                //     verticalAlignment: textSymbol.verticalAlignment,
                //     text: textSymbol.text,
                //     hasSymbol: !!textSymbol
                // });
                // Update vertical alignment
                textSymbol.verticalAlignment = alignment;
                // Apply the updated symbol to the graphic
                graphic.symbol = textSymbol;
                // Update in the layer
                this.ignoreNextGraphicsUpdate = true;
                this.props.graphicsLayer.remove(originalGraphic);
                this.props.graphicsLayer.add(graphic);
                // Update in state
                drawings[index] = graphic;
                // Update state with new alignment and button states
                this.setState({
                    drawings,
                    verticalAlignment: alignment,
                    vAlignBaseActive: alignment === 'baseline',
                    vAlignTopActive: alignment === 'top',
                    vAlignMidActive: alignment === 'middle',
                    vAlignBotActive: alignment === 'bottom'
                }, () => {
                    /*
                        // Log updated state
                        //console.log('Vertical alignment updated successfully:', {
                            alignment,
                            buttonStates: {
                                baseline: this.state.vAlignBaseActive,
                                top: this.state.vAlignTopActive,
                                middle: this.state.vAlignMidActive,
                                bottom: this.state.vAlignBotActive
                            }
                        });
                    */
                    // Save to localStorage if enabled and consent granted
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                });
            }
            catch (error) {
                console.error('Error updating vertical alignment:', error);
                this.showLocalAlert('Error updating text alignment', 'error');
            }
        };
        // Halo methods
        this.toggleHaloEnabled = (enabled, index) => {
            const drawings = [...this.state.drawings];
            const originalGraphic = drawings[index];
            if (!originalGraphic || !originalGraphic.symbol || originalGraphic.symbol.type !== 'text')
                return;
            try {
                // Clone the graphic and symbol
                const graphic = originalGraphic.clone();
                const textSymbol = graphic.symbol.clone();
                if (enabled) {
                    // Enable halo with default values if not set
                    textSymbol.haloSize = this.state.fontHaloSize || 1;
                    // Create a new Color object for halo
                    const haloColor = this.state.fontHaloColor || 'rgba(255,255,255,1)';
                    const colorMatch = haloColor.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);
                    if (colorMatch) {
                        const r = parseInt(colorMatch[1], 10);
                        const g = parseInt(colorMatch[2], 10);
                        const b = parseInt(colorMatch[3], 10);
                        const a = colorMatch[4] ? parseFloat(colorMatch[4]) : 1;
                        textSymbol.haloColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([r, g, b, a]);
                    }
                    else {
                        textSymbol.haloColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([255, 255, 255, 1]);
                    }
                }
                else {
                    // Disable halo
                    textSymbol.haloSize = 0;
                    textSymbol.haloColor = null;
                }
                // Apply the updated symbol to the graphic
                graphic.symbol = textSymbol;
                // Update in the layer
                this.ignoreNextGraphicsUpdate = true;
                this.props.graphicsLayer.remove(originalGraphic);
                this.props.graphicsLayer.add(graphic);
                // Update in state
                drawings[index] = graphic;
                // Update state and persist - remove fontHalo since it's not in your state interface
                this.setState({
                    drawings,
                    fontHaloEnabled: enabled
                    // Remove fontHalo property since it's not in your state type
                }, () => {
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                });
            }
            catch (error) {
                console.error('Error toggling halo:', error);
                this.showLocalAlert('Error updating text halo', 'error');
            }
        };
        this.updateHaloSize = (size, index) => {
            const drawings = [...this.state.drawings];
            const graphic = drawings[index];
            if (!graphic || !graphic.symbol || graphic.symbol.type !== 'text')
                return;
            const textSymbol = graphic.symbol;
            // Update halo size
            textSymbol.haloSize = size;
            // Ensure halo color is set if size is set
            if (size > 0 && !textSymbol.haloColor) {
                textSymbol.haloColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([255, 255, 255, 1]);
            }
            // Apply changes immediately
            this.applyTextChanges(graphic);
            // Update state
            this.setState({
                drawings,
                fontHaloSize: size,
                fontHaloEnabled: size > 0
            }, () => {
                if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                    this.saveToLocalStorage();
                }
            });
        };
        this.updateHaloColor = (color, index) => {
            const drawings = [...this.state.drawings];
            const graphic = drawings[index];
            if (!graphic || !graphic.symbol || graphic.symbol.type !== 'text')
                return;
            const textSymbol = graphic.symbol;
            // Update halo color
            textSymbol.haloColor = color;
            // Ensure halo size is set if color is set
            if (!textSymbol.haloSize || textSymbol.haloSize <= 0) {
                textSymbol.haloSize = 1;
            }
            // Apply changes immediately
            this.applyTextChanges(graphic);
            // Convert color for state
            const rgba = `rgba(${color.r},${color.g},${color.b},${color.a})`;
            // Update state
            this.setState({
                drawings,
                fontHaloColor: rgba,
                fontHaloOpacity: color.a || 1,
                fontHaloEnabled: true
            }, () => {
                if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                    this.saveToLocalStorage();
                }
            });
        };
        this.updateHaloOpacity = (opacity, index) => {
            const drawings = [...this.state.drawings];
            const originalGraphic = drawings[index];
            if (!originalGraphic || !originalGraphic.symbol || originalGraphic.symbol.type !== 'text')
                return;
            try {
                // Clone the graphic and symbol
                const graphic = originalGraphic.clone();
                const textSymbol = graphic.symbol.clone();
                // Update opacity while preserving halo color
                if (textSymbol.haloColor) {
                    // Create a new Color object with the updated opacity
                    const rgbaValues = textSymbol.haloColor.toRgba ? textSymbol.haloColor.toRgba() : [255, 255, 255, opacity];
                    rgbaValues[3] = opacity; // Set alpha value
                    textSymbol.haloColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"](rgbaValues);
                }
                else if (this.state.fontHaloEnabled) {
                    // Create a new halo color if not present but enabled
                    textSymbol.haloColor = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([255, 255, 255, opacity]);
                }
                // Apply the updated symbol to the graphic
                graphic.symbol = textSymbol;
                // Update in the layer
                this.ignoreNextGraphicsUpdate = true;
                this.props.graphicsLayer.remove(originalGraphic);
                this.props.graphicsLayer.add(graphic);
                // Update in state
                drawings[index] = graphic;
                // Convert color for state
                const rgba = textSymbol.haloColor ?
                    `rgba(${textSymbol.haloColor.r},${textSymbol.haloColor.g},${textSymbol.haloColor.b},${opacity})` :
                    `rgba(255,255,255,${opacity})`;
                // Update state and persist - removed fontHalo property to fix TypeScript error
                this.setState({
                    drawings,
                    fontHaloOpacity: opacity,
                    fontHaloColor: rgba
                    // Removed fontHalo property which is causing TS error
                }, () => {
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                });
            }
            catch (error) {
                console.error('Error updating halo opacity:', error);
                this.showLocalAlert('Error updating text halo opacity', 'error');
            }
        };
        this.closeSymbolEditor = () => {
            this.setState({ symbolEditingIndex: null });
        };
        this.updateSymbol = (symbol, index) => {
            var _a, _b;
            // Cancel any active SketchViewModel operation
            if (this.sketchViewModel) {
                this.sketchViewModel.cancel();
            }
            const drawings = [...this.state.drawings];
            // Validate drawing index
            if (!drawings[index]) {
                console.warn(`No drawing found at index ${index} in updateSymbol`);
                return;
            }
            const originalGraphic = drawings[index];
            try {
                // Create a clone of the graphic to avoid modifying shared references
                const graphic = originalGraphic.clone();
                // Clone the incoming symbol if it exists
                let finalSymbol = symbol ? symbol.clone() : null;
                // Handle polyline: enforce SimpleLineSymbol
                if (((_a = graphic.geometry) === null || _a === void 0 ? void 0 : _a.type) === 'polyline') {
                    if (!finalSymbol || finalSymbol.type !== 'simple-line') {
                        finalSymbol = new esri_symbols_SimpleLineSymbol__WEBPACK_IMPORTED_MODULE_7__["default"]({
                            color: (finalSymbol === null || finalSymbol === void 0 ? void 0 : finalSymbol.color) || [0, 0, 0, 1],
                            width: (finalSymbol === null || finalSymbol === void 0 ? void 0 : finalSymbol.width) || 2,
                            style: (finalSymbol === null || finalSymbol === void 0 ? void 0 : finalSymbol.style) || 'solid'
                        });
                    }
                }
                // Handle text: ensure TextSymbol has required props
                if ((finalSymbol === null || finalSymbol === void 0 ? void 0 : finalSymbol.type) === 'text') {
                    const textSymbol = finalSymbol;
                    if (!textSymbol.color) {
                        textSymbol.color = new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]([0, 0, 0, 1]);
                    }
                    if (!textSymbol.font) {
                        textSymbol.font = new esri_symbols_Font__WEBPACK_IMPORTED_MODULE_11__["default"]({ size: 12 });
                    }
                    else {
                        // Ensure required font fields exist with a new Font object
                        textSymbol.font = new esri_symbols_Font__WEBPACK_IMPORTED_MODULE_11__["default"]({
                            family: textSymbol.font.family || 'Arial',
                            size: textSymbol.font.size || 12,
                            style: textSymbol.font.style || 'normal',
                            weight: textSymbol.font.weight || 'normal',
                            decoration: textSymbol.font.decoration || 'none'
                        });
                    }
                    if (!textSymbol.text) {
                        textSymbol.text = ((_b = graphic.attributes) === null || _b === void 0 ? void 0 : _b.name) || 'Label';
                    }
                    finalSymbol = textSymbol;
                }
                // Assign the final symbol to the graphic clone
                graphic.symbol = finalSymbol;
                // Update the array in state
                drawings[index] = graphic;
                // Update the graphics layer without triggering a watch event
                this.ignoreNextGraphicsUpdate = true;
                this.props.graphicsLayer.remove(originalGraphic);
                this.props.graphicsLayer.add(graphic);
                // Update state and persist to localStorage
                this.setState({ drawings }, () => {
                    if ((this.props.allowLocalStorage !== false) && this.state.consentGranted === true) {
                        this.saveToLocalStorage();
                    }
                });
            }
            catch (err) {
                console.error('Failed to update symbol:', err);
                this.showLocalAlert('Error updating symbol', 'error');
            }
        };
        // Build a unique, stable storage key for this app (origin + pathname)
        const fullUrl = `${window.location.origin}${window.location.pathname}`;
        const baseKey = btoa(fullUrl).replace(/[^a-zA-Z0-9]/g, '_');
        // If a key is provided via props, sanitize it; otherwise use the derived one
        const providedKey = this.props.localStorageKey
            ? String(this.props.localStorageKey).replace(/[^a-zA-Z0-9_-]/g, '_')
            : null;
        this.localStorageKey = providedKey !== null && providedKey !== void 0 ? providedKey : `drawings_${baseKey}`;
        // NEW: per-session flag so the restore prompt shows only once per page load
        this.sessionPromptKey = `drawings_prompt_shown_${baseKey}`;
        // Read consent flag (guard against storage errors)
        let consentGranted = null;
        try {
            const consentValue = localStorage.getItem('drawingConsentGranted');
            consentGranted = consentValue === 'true' ? true
                : consentValue === 'false' ? false
                    : null;
        }
        catch (_a) {
            consentGranted = null;
        }
        // Detect if we have saved drawings for this key (for restore prompt)
        let hasExistingDrawings = false;
        try {
            hasExistingDrawings = !!localStorage.getItem(this.localStorageKey);
        }
        catch (_b) {
            hasExistingDrawings = false;
        }
        // Has the prompt been shown already in THIS browser session?
        let promptAlreadyShown = false;
        try {
            promptAlreadyShown = sessionStorage.getItem(this.sessionPromptKey) === '1';
        }
        catch (_c) {
            promptAlreadyShown = false;
        }
        // Show the prompt only once per session (and only if there are drawings and consent isn't explicitly denied)
        const showLoadPrompt = !promptAlreadyShown && hasExistingDrawings && consentGranted !== false;
        // Mark as shown immediately so remounts (tab switches) won't re-trigger it
        if (showLoadPrompt) {
            try {
                sessionStorage.setItem(this.sessionPromptKey, '1');
            }
            catch (_d) { }
        }
        this.state = {
            drawings: [],
            selectedGraphicIndex: null,
            sortOption: 'name',
            editingGraphicIndex: null,
            alertMessage: '',
            alertType: 'info',
            showAlert: false,
            consentGranted,
            graphicsWatchHandle: null,
            // Confirmation dialog
            confirmDialogOpen: false,
            confirmDialogAction: null,
            confirmDialogMessage: '',
            confirmDialogType: 'delete',
            confirmDialogItemIndex: null,
            // Import dialog
            importDialogOpen: false,
            importFile: null,
            importFileContent: null,
            // Selection
            selectedGraphics: new Set(),
            symbolEditingIndex: null,
            showStorageDisclaimer: false,
            // Text input
            textValue: '',
            // Text symbol style properties
            fontColor: 'rgba(0,0,0,1)',
            fontSize: 12,
            fontFamily: 'Arial',
            fontOpacity: 1,
            fontRotation: 0,
            // Text alignment
            horizontalAlignment: 'center',
            verticalAlignment: 'middle',
            // Alignment button states
            hAlignLeftActive: false,
            hAlignCenterActive: true,
            hAlignRightActive: false,
            vAlignBaseActive: false,
            vAlignTopActive: false,
            vAlignMidActive: true,
            vAlignBotActive: false,
            // Font style button states
            fsBoldActive: false,
            fsItalicActive: false,
            fsUnderlineActive: false,
            // Font style values
            fontWeight: 'normal',
            fontStyle: 'normal',
            fontDecoration: 'none',
            isBold: false,
            isItalic: false,
            isUnderline: false,
            // Halo properties
            fontHaloEnabled: false,
            fontHaloColor: 'rgba(255,255,255,1)',
            fontHaloSize: 1,
            fontHaloOpacity: 1,
            // TextSymbol object (used by the editor)
            currentTextSymbol: new esri_symbols_TextSymbol__WEBPACK_IMPORTED_MODULE_9__["default"]({
                verticalAlignment: 'middle',
                font: { family: 'Arial', size: 12, style: 'normal', weight: 'normal', decoration: 'none' },
                text: 'Text',
                color: new esri_Color__WEBPACK_IMPORTED_MODULE_10__["default"]('rgba(0,0,0,1)'),
                haloColor: null,
                haloSize: 0,
                angle: 0
            }),
            // Restore prompt (now truly once per session)
            showLoadPrompt,
            hasExistingDrawings
        };
        // Holder for goTo navigation cancels
        this._goToController = null;
    }
    componentDidMount() {
        // Initialize components if consent is already granted (true)
        if (this.state.consentGranted === true && this.props.jimuMapView && this.props.graphicsLayer) {
            // Check for existing drawings first, but only if choice wasn't already made
            if (MyDrawingsPanel._drawingsLoadChoiceTimestamp > 0 || !this.checkExistingDrawings()) {
                // If choice was already made or no existing drawings, initialize normally
                this.initializeComponents();
            }
        }
    }
    componentDidUpdate(prevProps, prevState) {
        // If consent changed from null to true, check for existing drawings first
        if (prevState.consentGranted !== true && this.state.consentGranted === true) {
            if (this.props.jimuMapView && this.props.graphicsLayer) {
                // Check if choice was already made in this page session
                if (MyDrawingsPanel._drawingsLoadChoiceTimestamp > 0 || !this.checkExistingDrawings()) {
                    // If choice was already made or no existing drawings, initialize normally
                    this.initializeComponents();
                }
            }
        }
        // Check if the graphics layer or map view changed (only if consent is granted)
        if (this.state.consentGranted === true && !this.state.showLoadPrompt) {
            if (prevProps.graphicsLayer !== this.props.graphicsLayer && this.props.graphicsLayer) {
                // Remove previous watch handle if it exists
                if (this.state.graphicsWatchHandle) {
                    this.state.graphicsWatchHandle.remove();
                }
                this.setupGraphicsWatcher();
                this.refreshDrawingsFromLayer();
            }
            if (prevProps.jimuMapView !== this.props.jimuMapView && this.props.jimuMapView) {
                this.initializeComponents();
            }
        }
        // ✅ Enable or disable map popups based on tab activity
        //if (prevProps.isActiveTab !== this.props.isActiveTab && this.props.jimuMapView?.view) {
        //this.props.jimuMapView.view.popupEnabled = !this.props.isActiveTab;
        //}
    }
    componentWillUnmount() {
        var _a;
        // Clear measurement update flag
        this._isUpdatingMeasurements = false;
        // Clean up save timeout
        if (this._saveToStorageTimeout) {
            clearTimeout(this._saveToStorageTimeout);
            this._saveToStorageTimeout = null;
        }
        // Clean up measurement update timeout
        if (this._measurementUpdateTimeout) {
            clearTimeout(this._measurementUpdateTimeout);
            this._measurementUpdateTimeout = null;
        }
        // Clear geometry watch timeouts
        if (this._geometryWatchTimeouts) {
            Object.values(this._geometryWatchTimeouts).forEach(timeout => {
                if (timeout)
                    clearTimeout(timeout);
            });
            this._geometryWatchTimeouts = {};
        }
        // Stop the map click sync process
        this._mapClickSyncEnabled = false;
        // Clean up measurement style watcher
        if (this._measurementStyleWatcher) {
            this._measurementStyleWatcher.remove();
            this._measurementStyleWatcher = null;
        }
        // Reset the measurement styles initialization flag
        this.measurementStylesInitialized = false;
        // Clean up watch handle
        if (this.state.graphicsWatchHandle) {
            this.state.graphicsWatchHandle.remove();
        }
        // Clean up position watchers
        if (this._positionWatchers) {
            Object.values(this._positionWatchers).forEach(watcher => {
                if (watcher)
                    watcher.remove();
            });
            this._positionWatchers = {};
        }
        // Clean up graphics watch handles
        if (this._graphicsWatchHandles) {
            this._graphicsWatchHandles.forEach(handle => {
                if (handle)
                    handle.remove();
            });
            this._graphicsWatchHandles = [];
        }
        // Clear any pending timeouts
        if (this._savePositionTimeout) {
            clearTimeout(this._savePositionTimeout);
            this._savePositionTimeout = null;
        }
        // Clean up AbortController for goTo operations
        if (this._goToController) {
            this._goToController.abort();
            this._goToController = null;
        }
        // Clean up SketchViewModel ONLY if we created it internally
        if (this.sketchViewModel && this.internalSketchVM) {
            this.sketchViewModel.destroy();
        }
        // 🔑 Cancel any active sketch session
        try {
            (_a = this.sketchViewModel) === null || _a === void 0 ? void 0 : _a.cancel();
        }
        catch (_b) { }
        // 🔑 Remove all selection halos from point/text graphics
        if (typeof this.removeAllSelectionOverlays === 'function') {
            this.removeAllSelectionOverlays();
        }
        // Optionally re-enable popups when unmounting the component
        // if (this.props.jimuMapView?.view) {
        //   this.props.jimuMapView.view.popupEnabled = true;
        // }
    }
    render() {
        const { drawings, selectedGraphicIndex, sortOption, editingGraphicIndex, alertMessage, alertType, showAlert, consentGranted, confirmDialogOpen, confirmDialogMessage, confirmDialogType, importDialogOpen, importFile, selectedGraphics } = this.state;
        const verticalMap = {
            top: { label: 'Top', stateKey: 'vAlignTopActive' },
            middle: { label: 'Middle', stateKey: 'vAlignMidActive' },
            bottom: { label: 'Bottom', stateKey: 'vAlignBotActive' },
            baseline: { label: 'Base', stateKey: 'vAlignBaseActive' }
        };
        // Custom styles to override any gray backgrounds
        const whiteBackgroundStyle = {
            backgroundColor: '#fff',
            boxShadow: 'none'
        };
        const storageDisclaimerContent = ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "p-4 text-center", role: "dialog", "aria-modal": "true", "aria-labelledby": "storageDisclaimerTitle", "aria-describedby": "storageDisclaimerDescription", style: { backgroundColor: '#fff' }, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { id: "storageDisclaimerTitle", className: "mb-3", tabIndex: -1, children: "Important Notice" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { id: "storageDisclaimerDescription", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Your drawings are saved in your web browser using local storage. This means they're only available on this device and in this browser." }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "If you clear your browser data, switch to a different browser or computer, or if the application receives an update, your drawings may be lost." }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { children: ["To keep your work safe, please use the ", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Import" }), " and ", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Export" }), " buttons to back up and restore your drawings."] })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { type: "primary", title: "Acknowledge this notice and continue", "aria-label": "Acknowledge disclaimer and continue to My Drawings panel", onClick: () => this.setState({ showStorageDisclaimer: false }, () => {
                        this.initializeComponents();
                        setTimeout(() => {
                            var _a;
                            (_a = document.getElementById('drawingPanelHeader')) === null || _a === void 0 ? void 0 : _a.focus();
                        }, 100);
                    }), children: "Continue" })] }));
        // Header style with !important to override any external styles
        const headerStyle = {
            backgroundColor: '#fff !important',
            boxShadow: 'none'
        };
        // Add button styling to make them equal width
        const customCss = `
  /* Force white background on potentially gray elements */
  .my-drawings-panel,
  .my-drawings-panel h5,
  .my-drawings-panel .border-bottom,
  .my-drawings-panel > div,
  .my-drawings-panel > div > div {
      background-color: #fff !important;
  }

  .my-drawings-panel .drawing-list-container {
      overflow-y: auto !important;
  }

  /* Target panel headers that might be getting styled by the framework */
  .panel-title, 
  .panel-heading,
  .widget-title,
  .widget-heading,
  .widget-header {
      background-color: #fff !important;
  }

  /* Style the main panel header specifically */
  .my-drawings {
      background-color: #fff !important;
  }

  /* SCROLLING IMPROVEMENTS */
  .my-drawings-panel {
      display: flex !important;
      flex-direction: column !important;
      height: 100% !important;
      overflow: hidden !important;
  }

  .accessible-tooltip-wrapper {
    position: relative !important;
    display: inline-block !important;
  }

  .accessible-tooltip-wrapper:hover .accessible-tooltip,
  .accessible-tooltip-wrapper:focus-within .accessible-tooltip {
      visibility: visible !important;
      opacity: 1 !important;
  }

  .accessible-tooltip-wrapper .accessible-tooltip {
      visibility: hidden !important;
      opacity: 0 !important;
      position: absolute !important;
      z-index: 1000 !important;
      background-color: rgba(0, 0, 0, 0.75) !important;
      color: white !important;
      text-align: center !important;
      padding: 5px 10px !important;
      border-radius: 4px !important;
      font-size: 12px !important;
      white-space: nowrap !important;
      pointer-events: none !important;
      transition: opacity 0.2s, visibility 0.2s !important;
  }

  /* Position the tooltip */
  .accessible-tooltip-wrapper .accessible-tooltip[data-placement="top"] {
      bottom: 100% !important;
      left: 50% !important;
      transform: translateX(-50%) translateY(-6px) !important;
  }

  .accessible-tooltip-wrapper .accessible-tooltip[data-placement="bottom"] {
      top: 100% !important;
      left: 50% !important;
      transform: translateX(-50%) translateY(6px) !important;
  }

  .accessible-tooltip-wrapper .accessible-tooltip[data-placement="left"] {
      right: 100% !important;
      top: 50% !important;
      transform: translateY(-50%) translateX(-6px) !important;
  }

  .accessible-tooltip-wrapper .accessible-tooltip[data-placement="right"] {
      left: 100% !important;
      top: 50% !important;
      transform: translateY(-50%) translateX(6px) !important;
  }

  /* Add arrows */
  .accessible-tooltip-wrapper .accessible-tooltip::after {
      content: "" !important;
      position: absolute !important;
      border-width: 5px !important;
      border-style: solid !important;
      border-color: transparent !important;
  }

  .accessible-tooltip-wrapper .accessible-tooltip[data-placement="top"]::after {
      bottom: -10px !important;
      left: 50% !important;
      margin-left: -5px !important;
      border-color: rgba(0, 0, 0, 0.75) transparent transparent transparent !important;
  }

  .accessible-tooltip-wrapper .accessible-tooltip[data-placement="bottom"]::after {
      top: -10px !important;
      left: 50% !important;
      margin-left: -5px !important;
      border-color: transparent transparent rgba(0, 0, 0, 0.75) transparent !important;
  }

  .accessible-tooltip-wrapper .accessible-tooltip[data-placement="left"]::after {
      top: 50% !important;
      right: -10px !important;
      margin-top: -5px !important;
      border-color: transparent transparent transparent rgba(0, 0, 0, 0.75) !important;
  }

  .accessible-tooltip-wrapper .accessible-tooltip[data-placement="right"]::after {
      top: 50% !important;
      left: -10px !important;
      margin-top: -5px !important;
      border-color: transparent rgba(0, 0, 0, 0.75) transparent transparent !important;
  }

  /* Main scrollable container */
  .my-drawings-panel .flex-grow-1,
  .my-drawings-panel .drawing-list-container {
      overflow-y: auto !important;
      flex: 1 1 auto !important;
      height: auto !important;
      max-height: 100% !important;
  }

  /* Ensure the top controls don't shrink */
  .my-drawings-panel .border-bottom {
      flex-shrink: 0 !important;
  }

  /* ======= IMPROVED DRAWING ITEM STYLING ======= */

  /* Drawing item container styling */
  .drawing-item {
      position: relative;
      border: 1px solid #e0e0e0;
      border-radius: 6px;
      overflow: hidden;
      box-sizing: border-box;
      width: 100%;
      margin-bottom: 8px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
      transition: all 0.2s ease;
  }

  /* Hover effect for drawing items */
  .drawing-item:hover {
      border-color: #c0c0c0;
      box-shadow: 0 2px 5px rgba(0,0,0,0.08);
  }

  /* Selected item styling */
  .drawing-item.selected-drawing {
      background-color: #f0f7ff !important;
      border-color: #3b82f6 !important;
      border-width: 2px !important;
      border-style: solid !important;
      box-shadow: 0 2px 4px rgba(59, 130, 246, 0.15) !important;
      position: relative;
      z-index: 1;
      transition: background-color 0.2s, border-color 0.25s;
  }

  /* Add a left accent bar for selected items */
  .drawing-item.selected-drawing::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 4px;
      background-color: #3b82f6;
      border-top-left-radius: 3px;
      border-bottom-left-radius: 3px;
  }

  /* Truncate text labels to prevent overflow */
  .drawing-item .font-weight-bold,
  .drawing-item .text-muted {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
  }

  /* ======= IMPROVED BUTTON STYLING ======= */

  /* Contain buttons in a proper grid layout */
  .drawing-item .d-flex.flex-column {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 6px;
  }

  /* OPTIMIZED COMPACT BUTTON LAYOUT FOR 4 BUTTONS */
  .drawing-item .button-container {
      display: flex !important;
      flex-wrap: wrap !important;
      gap: 2px !important;
      width: 100% !important;
      margin-top: 8px !important;
  }

  /* Individual button styling - optimized for 4 buttons */
  .drawing-item .btn {
      flex: 1 !important;
      min-width: 65px !important;
      padding: 4px 5px !important;
      font-size: 11px !important;
      white-space: nowrap !important;
      text-align: center !important;
      justify-content: center !important;
      display: flex !important;
      align-items: center !important;
      transition: all 0.2s !important;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;
      margin: 0 !important;
  }

  /* Ensure icons have consistent spacing */
  .drawing-item .btn i {
      margin-right: 3px !important;
      font-size: 10px !important;
  }

  /* Button hover effect */
  .drawing-item .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      z-index: 1;
  }

  /* Ensure button action happens on click */
  .drawing-item .btn:active {
      transform: translateY(1px);
      box-shadow: 0 1px 1px rgba(0,0,0,0.1);
  }

  /* Button colors */
  .drawing-item .btn-danger {
      background-color: #f8d7da;
      border-color: #f5c6cb;
      color: #721c24;
  }

  .drawing-item .btn-danger:hover {
      background-color: #f1c1c7;
      border-color: #efb0b9;
  }

  /* Extra compact styling for wider screens - allow to fit 4 buttons */
  @media (min-width: 651px) {
      .drawing-item .button-container {
          gap: 3px !important;
      }
  
      .drawing-item .btn {
          min-width: 70px !important;
          padding: 4px 6px !important;
          font-size: 12px !important;
      }
  
      .drawing-item .btn i {
          margin-right: 3px !important;
          font-size: 11px !important;
      }
  }

  /* ======= TEXT STYLE EDITOR IMPROVEMENTS ======= */

  /* Text editor container */
  .text-editor {
      padding: 12px;
      border-radius: 6px;
      background-color: #f9f9f9 !important;
      border: 1px solid #e0e0e0;
      margin-top: 8px;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
      width: 100%;
      overflow: hidden;
  }

  /* Form groups within text editor */
  .text-editor .form-group {
      margin-bottom: 12px;
      padding-bottom: 12px;
      border-bottom: 1px solid rgba(0,0,0,0.05);
  }

  .text-editor .form-group:last-child {
      margin-bottom: 0;
      padding-bottom: 0;
      border-bottom: none;
  }

  /* Form controls */
  .text-editor input,
  .text-editor select,
  .text-editor .form-control {
      max-width: 100%;
      width: 100%;
  }

  .text-editor input[type="text"],
  .text-editor input[type="number"] {
      text-overflow: ellipsis;
  }

  /* Form labels */
  .text-editor label {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 100%;
      font-size: 12px;
      margin-bottom: 4px;
  }

  /* Color picker and number inputs */
  .text-editor input[type="color"] {
      height: 32px;
      width: 32px;
      padding: 0;
      min-width: 32px;
  }

  .text-editor input[type="number"] {
      max-width: 80px;
  }

  /* Range sliders */
  .text-editor input[type="range"] {
      height: 6px;
      background: #e0e0e0;
      border-radius: 3px;
      width: 100%;
  }

  /* Text style button controls */
  .text-editor .text-style-btn {
      min-width: 40px !important;
      height: 40px !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      position: relative !important;
      margin: 0 2px;
  }

  /* Active buttons style */
  .text-editor .btn-primary.text-style-btn::after {
      content: '';
      position: absolute;
      bottom: 3px;
      left: 30%;
      width: 40%;
      height: 2px;
      background-color: white;
  }

  /* ALIGNMENT BUTTON IMPROVEMENTS */
  .text-alignment-btn {
      min-width: 0 !important; 
      flex: 1 !important;
      display: flex !important;
      flex-direction: column !important;
      align-items: center !important;
      padding: 6px 4px !important;
      margin: 0 2px !important;
      overflow: hidden !important;
  }

  .text-alignment-btn .alignment-label {
      font-size: 12px !important;
      font-weight: normal !important;
      margin-bottom: 2px !important;
      white-space: nowrap !important;
      overflow: hidden !important;
      text-overflow: ellipsis !important;
      width: 100% !important;
      text-align: center !important;
  }

  .text-alignment-btn .alignment-icon {
      font-size: 8px !important;
      opacity: 0.8 !important;
  }

  .text-alignment-btn.active .alignment-label {
      font-weight: bold !important;
  }

  /* Horizontal alignment specific styles */
  .horizontal-alignment-controls {
      display: flex !important;
      justify-content: space-between !important;
      margin-bottom: 12px !important;
      width: 100% !important;
  }

  .horizontal-alignment-controls .btn-group {
      width: 100% !important;
      display: flex !important;
      gap: 2% !important;
  }

  /* Vertical alignment specific styles */
  .vertical-alignment-controls {
      display: flex !important;
      justify-content: space-between !important;
      margin-bottom: 12px !important;
      width: 100% !important;
  }

  .vertical-alignment-controls .btn-group {
      width: 100% !important;
      display: flex !important;
      gap: 2% !important;
  }

  /* Alignment buttons */
  .btn-sm.alignment-button {
      flex: 1 !important;
      min-width: 0 !important;
      overflow: hidden !important;
      text-overflow: ellipsis !important;
      white-space: nowrap !important;
      font-size: 12px !important;
      padding: 4px 2px !important;
  }

  /* Improved visual indicators for alignment states */
  .alignment-label-container {
      display: flex !important;
      flex-direction: column !important;
      align-items: center !important;
  }

  /* Button group improvements */
  .alignment-btn-group {
      display: flex !important;
      width: 100% !important;
      justify-content: space-between !important;
      gap: 2% !important;
  }

  /* Apply button styling */
  .text-editor .btn-primary {
      width: 100%;
      margin-top: 12px;
      font-weight: bold;
  }

/* ======= IMPROVED RESPONSIVE TOOLBAR STYLING ======= */

/* Enhanced responsive toolbar styling */
.my-drawings-panel .top-controls {
    display: flex !important;
    flex-direction: column !important;
    padding: 8px 8px !important;
    border-bottom: 1px solid #e0e0e0 !important;
    background-color: #fff !important;
    gap: 6px !important;
    margin-bottom: 8px !important;
}

/* First line container with sort, select all, and delete all */
.my-drawings-panel .toolbar-first-line {
    display: flex !important;
    flex-wrap: wrap !important;
    align-items: center !important;
    gap: 6px !important;
    width: 100% !important;
    margin-bottom: 6px !important;
}

/* Sort dropdown container - flexible width */
.my-drawings-panel .sort-wrapper {
    display: flex !important;
    align-items: center !important;
    gap: 6px !important;
    flex: 1 1 auto !important;
    min-width: 150px !important;
}

.my-drawings-panel .sort-label {
    font-size: 12px !important;
    margin: 0 !important;
    white-space: nowrap !important;
    color: #555 !important;
    flex-shrink: 0 !important;
}

.my-drawings-panel .sort-select {
    font-size: 12px !important;
    height: 28px !important;
    min-width: 80px !important;
    padding: 2px 6px !important;
    border-radius: 4px !important;
    border: 1px solid #ccc !important;
    flex: 1 1 auto !important;
}

/* Override Bootstrap's form-control padding */
.my-drawings-panel .form-control-sm.sort-select {
    padding: 2px 6px !important;
    height: 28px !important;
}

/* Select All button styling - CENTERED TEXT */
.my-drawings-panel .select-all-btn {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    gap: 4px !important;
    padding: 5px 8px !important;
    font-size: 12px !important;
    white-space: nowrap !important;
    transition: all 0.15s ease !important;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05) !important;
    flex: 0 0 auto !important;
    min-width: fit-content !important;
}

.my-drawings-panel .select-all-btn i {
    margin-right: 4px !important;
    font-size: 12px !important;
    flex-shrink: 0 !important;
}

.my-drawings-panel .select-all-btn:hover:not(:disabled) {
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0,0,0,0.15) !important;
}

.my-drawings-panel .select-all-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* When all items are selected, make it primary (blue) */
.my-drawings-panel .select-all-btn.btn-primary {
    background-color: #007bff !important;
    border-color: #007bff !important;
    color: white !important;
}

.my-drawings-panel .select-all-btn.btn-primary:hover:not(:disabled) {
    background-color: #0056b3 !important;
    border-color: #0056b3 !important;
}

/* Delete All button styling - CENTERED TEXT */
.my-drawings-panel .delete-all-btn {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    gap: 4px !important;
    padding: 5px 8px !important;
    font-size: 12px !important;
    white-space: nowrap !important;
    transition: all 0.15s ease !important;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05) !important;
    flex: 0 0 auto !important;
    min-width: fit-content !important;
}

.my-drawings-panel .delete-all-btn i {
    margin-right: 4px !important;
    font-size: 12px !important;
    flex-shrink: 0 !important;
}

.my-drawings-panel .delete-all-btn:hover:not(:disabled) {
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(220, 53, 69, 0.3) !important;
}

.my-drawings-panel .delete-all-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Second line: Action buttons - EQUAL WIDTH & CENTERED */
.my-drawings-panel .action-buttons-wrapper {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 6px !important;
    width: 100% !important;
}

/* Action button styling - EQUAL WIDTH and CENTERED TEXT */
.my-drawings-panel .action-btn {
    flex: 1 1 calc(25% - 5px) !important;
    min-width: 90px !important;
    padding: 5px 8px !important;
    font-size: 12px !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    transition: all 0.15s ease !important;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05) !important;
}

.my-drawings-panel .action-btn i {
    margin-right: 4px !important;
    font-size: 12px !important;
    flex-shrink: 0 !important;
}

/* Responsive behavior for extremely narrow screens */
@media (max-width: 350px) {
    .drawing-item .button-container {
        flex-direction: column !important;
    }

    .drawing-item .btn {
        width: 100% !important;
        margin-bottom: 4px !important;
    }

    .text-editor .d-flex {
        flex-wrap: wrap;
    }

    .my-drawings-panel .toolbar-first-line {
        flex-direction: column !important;
        align-items: stretch !important;
        gap: 8px !important;
    }

    .my-drawings-panel .sort-wrapper,
    .my-drawings-panel .select-all-btn,
    .my-drawings-panel .delete-all-btn {
        width: 100% !important;
        flex: 1 1 100% !important;
    }

    .my-drawings-panel .select-all-btn,
    .my-drawings-panel .delete-all-btn {
        justify-content: center !important;
    }

    .my-drawings-panel .sort-select {
        flex-grow: 1 !important;
        width: 100% !important;
    }

    /* Stack action buttons vertically - FULL WIDTH */
    .my-drawings-panel .action-buttons-wrapper {
        display: flex !important;
        flex-direction: column !important;
        gap: 6px !important;
    }

    .my-drawings-panel .action-btn {
        width: 100% !important;
        flex: 1 1 100% !important;
        min-width: 100% !important;
        justify-content: center !important;
    }
}

/* Responsive behavior for narrow screens - 2 BUTTONS PER ROW */
@media (min-width: 351px) and (max-width: 500px) {
    .drawing-item .button-container {
        gap: 2px !important;
    }

    .drawing-item .btn {
        padding: 3px 2px !important;
        font-size: 10px !important;
        min-width: 50px !important;
    }

    .drawing-item .btn i {
        margin-right: 2px !important;
        font-size: 9px !important;
    }

    .my-drawings-panel .sort-wrapper {
        flex: 1 1 100% !important;
        min-width: 100% !important;
    }

    .my-drawings-panel .select-all-btn,
    .my-drawings-panel .delete-all-btn {
        flex: 1 1 calc(50% - 3px) !important;
    }

    /* 2 EQUAL-WIDTH action buttons per row */
    .my-drawings-panel .action-btn {
        flex: 1 1 calc(50% - 3px) !important;
        min-width: calc(50% - 3px) !important;
        padding: 5px 6px !important;
        font-size: 11px !important;
        justify-content: center !important;
    }

    .my-drawings-panel .action-btn i {
        margin-right: 3px !important;
        font-size: 10px !important;
    }
}

/* Medium screens - 2 BUTTONS PER ROW expanding to 4 */
@media (min-width: 501px) and (max-width: 650px) {
    .drawing-item .button-container {
        gap: 2px !important;
    }

    .drawing-item .btn {
        padding: 4px 3px !important;
        font-size: 11px !important;
        min-width: 60px !important;
    }

    .drawing-item .btn i {
        margin-right: 2px !important;
    }

    .my-drawings-panel .sort-wrapper {
        min-width: 140px !important;
    }

    /* 2-4 EQUAL-WIDTH buttons per row */
    .my-drawings-panel .action-btn {
        flex: 1 1 calc(50% - 3px) !important;
        min-width: 110px !important;
        padding: 5px 7px !important;
        font-size: 11px !important;
        justify-content: center !important;
    }
}

/* Large screens - 4 EQUAL-WIDTH BUTTONS IN ONE ROW */
@media (min-width: 651px) {
    .drawing-item .button-container {
        gap: 3px !important;
    }

    .drawing-item .btn {
        min-width: 70px !important;
        padding: 4px 6px !important;
        font-size: 12px !important;
    }

    .drawing-item .btn i {
        margin-right: 3px !important;
        font-size: 11px !important;
    }

    .my-drawings-panel .sort-wrapper {
        min-width: 150px !important;
        flex: 1 1 auto !important;
        max-width: 300px !important;
    }

    /* 4 EQUAL-WIDTH buttons in one row */
    .my-drawings-panel .action-btn {
        flex: 1 1 calc(25% - 5px) !important;
        min-width: 0 !important;
        padding: 5px 8px !important;
        font-size: 12px !important;
        justify-content: center !important;
    }

    .my-drawings-panel .action-btn i {
        margin-right: 4px !important;
        font-size: 11px !important;
    }
}

  /* ======= SCROLLBAR STYLING ======= */

  /* Firefox scrollbar */
  .px-3 {
      scrollbar-width: thin;
      scrollbar-color: rgba(0,0,0,0.2) transparent;
  }

  /* Chrome/Safari scrollbar */
  .px-3::-webkit-scrollbar {
      width: 6px;
  }

  .px-3::-webkit-scrollbar-track {
      background: transparent;
  }

  .px-3::-webkit-scrollbar-thumb {
      background-color: rgba(0,0,0,0.2);
      border-radius: 3px;
  }

  /* Prevent text overflow in all text elements */
  .text-truncate {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 100%;
  }
`;
        // Custom confirmation dialog for delete/clear
        const confirmationDialog = confirmDialogOpen && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "confirmation-dialog-overlay", role: "dialog", "aria-modal": "true", "aria-labelledby": "confirmationDialogTitle", "aria-describedby": "confirmationDialogMessage", style: {
                position: 'absolute',
                top: 0,
                left: 0,
                right: 0,
                bottom: 0,
                backgroundColor: 'rgba(0, 0, 0, 0.5)',
                zIndex: 1000,
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center'
            }, children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "confirmation-dialog", style: {
                    backgroundColor: 'white',
                    padding: '20px',
                    borderRadius: '4px',
                    width: '80%',
                    maxWidth: '300px',
                    boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)'
                }, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "confirmation-dialog-header mb-3", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h5", { id: "confirmationDialogTitle", tabIndex: -1, className: "m-0", children: ["Confirm ", confirmDialogType === 'delete' ? 'Delete' : 'Clear All'] }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "confirmation-dialog-body mb-3", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { id: "confirmationDialogMessage", className: "m-0", children: confirmDialogMessage }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "confirmation-dialog-footer d-flex justify-content-end", role: "group", "aria-label": "Confirmation options", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: "sm", className: "mr-2", onClick: this.closeConfirmDialog, title: "Cancel and close the dialog", "aria-label": "Cancel", children: "Cancel" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: "sm", type: "danger", onClick: this.executeConfirmAction, title: "Confirm and proceed", "aria-label": "Confirm and proceed", children: "OK" })] })] }) }));
        // Import confirmation dialog
        const importDialog = importDialogOpen && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "confirmation-dialog-overlay", role: "dialog", "aria-modal": "true", "aria-labelledby": "importDialogTitle", "aria-describedby": "importDialogDescription", style: {
                position: 'absolute',
                top: 0,
                left: 0,
                right: 0,
                bottom: 0,
                backgroundColor: 'rgba(0, 0, 0, 0.5)',
                zIndex: 1000,
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center'
            }, children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "confirmation-dialog", style: {
                    backgroundColor: 'white',
                    padding: '20px',
                    borderRadius: '4px',
                    width: '80%',
                    maxWidth: '300px',
                    boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)'
                }, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "confirmation-dialog-header mb-3", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { id: "importDialogTitle", tabIndex: -1, className: "m-0", children: "Import Drawings" }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { id: "importDialogDescription", className: "confirmation-dialog-body mb-3", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "m-0", children: importFile && `File: ${importFile.name}` }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "mt-2 mb-0", children: "Would you like to replace existing drawings or add to them?" })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "confirmation-dialog-footer d-flex justify-content-between", role: "group", "aria-label": "Import action options", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: "sm", onClick: this.closeImportDialog, title: "Cancel import and close dialog", "aria-label": "Cancel import", children: "Cancel" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: "sm", className: "mr-2", onClick: this.handleImportAdd, title: "Add imported drawings to existing ones", "aria-label": "Add drawings", children: "Add" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: "sm", type: "danger", onClick: this.handleImportReplace, title: "Replace existing drawings with imported file", "aria-label": "Replace drawings", children: "Replace" })] })] })] }) }));
        // Content for when local storage permission is denied
        const permissionDeniedContent = ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "my-drawings-panel p-3", role: "dialog", "aria-modal": "true", "aria-labelledby": "permissionDeniedTitle", "aria-describedby": "permissionDeniedDescription", style: { backgroundColor: '#fff', height: '100%', boxShadow: 'none' }, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "text-center mb-4", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { id: "permissionDeniedTitle", tabIndex: -1, children: "My Drawings Feature Unavailable" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { id: "permissionDeniedDescription", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "This feature requires local storage permission to save your drawings." }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mt-4", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { type: "primary", onClick: this.handleConsentYes, title: "Enable local storage to use the My Drawings feature", "aria-label": "Allow local storage permission to enable My Drawings feature", children: "Allow Local Storage Permission" }) })] }), showAlert && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { role: "alert", "aria-live": "assertive", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Alert, { className: `edraw-alert edraw-alert-${alertType}`, withIcon: true, open: true, type: alertType, text: alertMessage }) }))] }));
        // Only show consent prompt if consent status is undecided (null)
        const showConsentPrompt = consentGranted === null;
        // Consent prompt content
        const consentPromptContent = ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "consent-banner border p-3 mb-2 text-center", role: "dialog", "aria-modal": "true", "aria-labelledby": "consentPromptTitle", "aria-describedby": "consentPromptDescription", style: { backgroundColor: '#fff', height: '100%', boxShadow: 'none' }, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { id: "consentPromptTitle", className: "mb-3", tabIndex: -1, children: "Storage Permission Required" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { id: "consentPromptDescription", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "mb-3", children: "To use the My Drawings panel, you must allow saving drawings in your browser's local storage." }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "mb-3", children: "This allows your drawings to be remembered when you return to this page later." })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "d-flex justify-content-center mt-3", role: "group", "aria-label": "Consent choices", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { type: "primary", size: "sm", className: "mr-3", onClick: this.handleConsentYes, title: "Allow saving drawings to your browser", "aria-label": "Allow saving drawings to your browser", children: "Allow Local Storage" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { type: "danger", size: "sm", onClick: this.handleConsentNo, title: "Do not allow saving drawings to your browser", "aria-label": "Do not allow saving drawings to your browser", children: "Don't Allow" })] })] }));
        const loadPromptContent = ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "p-4 text-center", role: "dialog", "aria-modal": "true", "aria-labelledby": "loadPromptTitle", "aria-describedby": "loadPromptDescription", style: { backgroundColor: '#fff', height: '100%' }, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { id: "loadPromptTitle", className: "mb-3", tabIndex: -1, children: "Existing Drawings Found" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { id: "loadPromptDescription", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "You have drawings saved from a previous session." }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Would you like to load your existing drawings or delete all and start new?" })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "d-flex justify-content-center mt-4 gap-3", role: "group", "aria-label": "Load options", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { type: "primary", onClick: this.handleLoadExistingDrawings, className: "mr-3", title: "Load your previously saved drawings", "aria-label": "Load previously saved drawings", children: "Load Existing Drawings" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { type: "danger", onClick: this.handleStartFresh, title: "Delete all saved drawings and start fresh", "aria-label": "Delete all saved drawings and start fresh", children: "Delete All and Start New" })] })] }));
        const mainPanelContent = ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "my-drawings-panel p-2", style: { backgroundColor: '#fff' }, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "top-controls", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "toolbar-first-line", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "sort-wrapper", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "sort-label", id: "sort-drawings-label", htmlFor: "sort-select", title: "Sort drawings by different criteria", children: "Sort By:" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { id: "sort-select", value: sortOption, onChange: this.handleSortOptionChange, className: "sort-select", "aria-labelledby": "sort-drawings-label", title: "Sort drawings by name, type, or creation date", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "name", children: "Name (A \u2192 Z)" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "type", children: "Type (A \u2192 Z)" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "created", children: "Created (Newest First)" })] })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: "sm", type: selectedGraphics.size === drawings.length && drawings.length > 0 ? "primary" : "default", onClick: this.handleToggleSelectAll, disabled: drawings.length === 0, className: "select-all-btn", "aria-label": selectedGraphics.size === drawings.length && drawings.length > 0 ? "Deselect all drawings" : "Select all drawings", title: selectedGraphics.size === drawings.length && drawings.length > 0 ? "Deselect all drawings" : "Select all drawings", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { style: { display: 'flex', alignItems: 'center', justifyContent: 'center', width: '100%' }, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("i", { className: `fas ${selectedGraphics.size === drawings.length && drawings.length > 0 ? 'fa-check-square' : 'fa-square'}`, "aria-hidden": "true", style: { marginRight: '4px' } }), selectedGraphics.size === drawings.length && drawings.length > 0 ? 'Deselect All' : 'Select All'] }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: "sm", type: "danger", onClick: this.handleClearAllClick, disabled: drawings.length === 0, className: "delete-all-btn", "aria-label": "Delete all drawings", title: "Delete all drawings", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { style: { display: 'flex', alignItems: 'center', justifyContent: 'center', width: '100%' }, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("i", { className: "fas fa-trash-alt", "aria-hidden": "true", style: { marginRight: '4px' } }), "Delete All"] }) })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "toolbar-second-line", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-buttons-wrapper", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: "sm", onClick: () => document.getElementById('import-file').click(), className: "action-btn", "aria-label": "Import drawings from file", title: "Import drawings from file", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("i", { className: "fas fa-file-import", "aria-hidden": "true" }), " Import"] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: "sm", onClick: this.handleExport, disabled: drawings.length === 0, className: "action-btn", "aria-label": "Export all drawings", title: "Export all drawings", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("i", { className: "fas fa-file-export", "aria-hidden": "true" }), " Export All"] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: "sm", onClick: this.handleExportSelected, disabled: selectedGraphics.size === 0, className: "action-btn", "aria-label": "Export selected drawings", title: "Export selected drawings", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("i", { className: "fas fa-file-download", "aria-hidden": "true" }), " Export Selected"] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: "sm", type: "danger", onClick: this.handleDeleteSelected, disabled: selectedGraphics.size === 0, className: "action-btn", "aria-label": "Delete selected drawings", title: "Delete selected drawings", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("i", { className: "fas fa-trash-alt", "aria-hidden": "true" }), " Delete Selected"] })] }) })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "px-3 drawing-list", style: {
                        height: '500px',
                        overflowY: 'scroll',
                        backgroundColor: '#fff'
                    }, role: "list", "aria-label": "Drawings list", children: drawings.length === 0 ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "text-center p-3 border rounded", style: { backgroundColor: '#fff' }, children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "mb-0", children: "No drawings available. Create a drawing in the Add Drawing tab." }) })) : (drawings.map((graphic, index) => {
                        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r;
                        return ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { id: `drawing-item-${index}`, className: `drawing-item border p-2 mb-2 rounded ${selectedGraphicIndex === index ? 'selected-drawing' : ''}`, onClick: () => this.handleListItemClick(graphic, index), role: "listitem", "aria-selected": selectedGraphicIndex === index, tabIndex: 0, onKeyDown: (e) => {
                                if (e.key === 'Enter' || e.key === ' ') {
                                    e.preventDefault();
                                    this.handleListItemClick(graphic, index);
                                }
                            }, children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "d-flex", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { style: { flex: 1, minWidth: 0 }, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'd-flex', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "d-flex align-items-start mr-3 mt-1 cursor-pointer", onClick: (e) => e.stopPropagation(), children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", className: "form-check-input mr-2 mt-1", checked: selectedGraphics.has(index), onClick: (e) => this.handleToggleSelect(index, e), "aria-label": `Select drawing: ${((_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.name) || `Drawing ${index + 1}`}`, title: `Select ${((_b = graphic.attributes) === null || _b === void 0 ? void 0 : _b.name) || `Drawing ${index + 1}`}`, id: `checkbox-drawing-${index}` }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "sr-only", children: ["Select ", ((_c = graphic.attributes) === null || _c === void 0 ? void 0 : _c.name) || `Drawing ${index + 1}`] })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: editingGraphicIndex === index ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", onClick: (e) => e.stopPropagation(), children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { htmlFor: `edit-name-input-${index}`, className: "sr-only", children: "Edit drawing name" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { id: `edit-name-input-${index}`, type: "text", className: "form-control mb-2 drawing-name-input", value: ((_d = graphic.attributes) === null || _d === void 0 ? void 0 : _d.name) || '', onChange: (e) => {
                                                                    // Preserve the value exactly as typed, including spaces
                                                                    const inputValue = e.target.value;
                                                                    this.handleNameChange(index, inputValue);
                                                                }, onBlur: this.saveNameEdit, onKeyDown: (e) => {
                                                                    // Prevent event from bubbling up to parent elements that might interfere
                                                                    e.stopPropagation();
                                                                    if (e.key === 'Enter') {
                                                                        this.saveNameEdit();
                                                                    }
                                                                }, autoFocus: true, onClick: (e) => e.stopPropagation(), 
                                                                // Disable any browser features that might interfere with spaces
                                                                spellCheck: "false", autoComplete: "off", autoCorrect: "off", "aria-label": "Edit drawing name", title: "Edit drawing name", 
                                                                // Add inline styles to ensure spaces are preserved
                                                                style: {
                                                                    whiteSpace: 'pre-wrap',
                                                                    wordBreak: 'normal',
                                                                    wordSpacing: 'normal',
                                                                    textTransform: 'none'
                                                                } }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "d-flex mt-1", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: "sm", className: "mr-2", onClick: (e) => {
                                                                            e.stopPropagation();
                                                                            this.saveNameEdit();
                                                                        }, title: "Save name", "aria-label": "Save drawing name", children: "Save" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: "sm", onClick: (e) => {
                                                                            e.stopPropagation();
                                                                            this.cancelNameEdit();
                                                                        }, title: "Cancel editing", "aria-label": "Cancel name editing", children: "Cancel" })] })] })) : ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "font-weight-bold text-truncate", children: ((_e = graphic.attributes) === null || _e === void 0 ? void 0 : _e.name) || `Drawing ${index + 1}` }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "text-muted small mb-2 text-truncate", children: ["Type: ", this.getDrawingTypeLabel(graphic), ((_f = graphic.attributes) === null || _f === void 0 ? void 0 : _f.createdDate) && ` • Created: ${this.formatCreatedDate(graphic.attributes.createdDate)}`] })] })) })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "button-container drawToolbarDiv", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: "sm", onClick: (e) => {
                                                        e.stopPropagation();
                                                        this.handleCopyDrawing(index, e);
                                                    }, className: "btn-light", "aria-label": `Copy ${((_g = graphic.attributes) === null || _g === void 0 ? void 0 : _g.name) || `Drawing ${index + 1}`}`, title: "Create a copy of this drawing", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("i", { className: "fas fa-copy", "aria-hidden": "true" }), " Copy"] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: "sm", onClick: (e) => {
                                                        e.stopPropagation();
                                                        this.startEditing(index, e);
                                                    }, className: "btn-light", "aria-label": `Rename ${((_h = graphic.attributes) === null || _h === void 0 ? void 0 : _h.name) || `Drawing ${index + 1}`}`, title: "Rename this drawing", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("i", { className: "fas fa-pencil-alt", "aria-hidden": "true" }), " Rename"] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: "sm", onClick: (e) => {
                                                        e.stopPropagation();
                                                        this.handleExportSingle(index, e);
                                                    }, className: "btn-light", "aria-label": `Download ${((_j = graphic.attributes) === null || _j === void 0 ? void 0 : _j.name) || `Drawing ${index + 1}`}`, title: "Download this drawing as a file", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("i", { className: "fas fa-download", "aria-hidden": "true" }), " Download"] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: "sm", type: "danger", onClick: (e) => {
                                                        e.stopPropagation();
                                                        this.handleDeleteGraphic(index, e);
                                                    }, "aria-label": `Delete ${((_k = graphic.attributes) === null || _k === void 0 ? void 0 : _k.name) || `Drawing ${index + 1}`}`, title: "Delete this drawing", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("i", { className: "fas fa-trash-alt", "aria-hidden": "true" }), " Delete"] })] }), selectedGraphicIndex === index && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mt-3 border", onClick: (e) => e.stopPropagation(), role: "region", "aria-label": "Style editor", children: this.isSupportedSymbol(graphic.symbol, (_l = graphic.geometry) === null || _l === void 0 ? void 0 : _l.type) ? (((_m = graphic.symbol) === null || _m === void 0 ? void 0 : _m.type) === 'text' ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [graphic && ((_o = graphic.symbol) === null || _o === void 0 ? void 0 : _o.type) === 'text' && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {})), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_TextStyleEditor__WEBPACK_IMPORTED_MODULE_14__.TextStyleEditor, { currentTextSymbol: this.state.currentTextSymbol, graphic: graphic, updateSymbol: (sym) => this.updateSymbolWithoutClosing(sym, index), show: true, onClose: () => {
                                                            this.setState({ selectedGraphicIndex: null, selectedGraphics: new Set() });
                                                        } })] })) : ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_3__.SymbolSelector, { symbol: graphic.symbol, jimuSymbolType: ((_p = graphic.geometry) === null || _p === void 0 ? void 0 : _p.type) === 'point'
                                                    ? jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_3__.JimuSymbolType.Point
                                                    : ((_q = graphic.geometry) === null || _q === void 0 ? void 0 : _q.type) === 'polyline'
                                                        ? jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_3__.JimuSymbolType.Polyline
                                                        : jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_3__.JimuSymbolType.Polygon, onPointSymbolChanged: (sym) => this.updateSymbolWithoutClosing(sym, index), onPolylineSymbolChanged: (sym) => this.updateSymbolWithoutClosing(sym, index), onPolygonSymbolChanged: (sym) => this.updateSymbolWithoutClosing(sym, index) }))) : ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "text-muted", children: "This symbol type is not supported for style editing." })) }))] }) }) }, `drawing-${((_r = graphic.attributes) === null || _r === void 0 ? void 0 : _r.uniqueId) || index}`));
                    })) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "file", id: "import-file", accept: ".json,.geojson,application/json,application/geo+json", onChange: this.handleImport, style: { display: 'none' } })] }));
        return ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "my-drawings-panel p-2", style: Object.assign({ height: '100%', display: 'flex', flexDirection: 'column', overflow: 'hidden' }, whiteBackgroundStyle), children: [showAlert && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { role: "alert", "aria-live": "assertive", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Alert, { className: `edraw-alert edraw-alert-${alertType}`, withIcon: true, open: true, type: alertType, text: alertMessage }) })), confirmationDialog && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { role: "dialog", "aria-modal": "true", "aria-labelledby": "confirmationDialogTitle", "aria-describedby": "confirmationDialogDescription", children: confirmationDialog })), importDialog && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { role: "dialog", "aria-modal": "true", "aria-labelledby": "importDialogTitle", "aria-describedby": "importDialogDescription", children: importDialog })), showConsentPrompt ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: consentPromptContent })) : consentGranted === false ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: permissionDeniedContent })) : this.state.showLoadPrompt ? (
                /* 3. Then load prompt - THIS IS NOW IN THE CORRECT ORDER */
                (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: loadPromptContent })) : this.state.showStorageDisclaimer ? (
                /* 2. Then storage disclaimer */
                (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "p-4 text-center", style: { backgroundColor: '#fff' }, role: "region", "aria-labelledby": "storageDisclaimerTitle", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { id: "storageDisclaimerTitle", className: "mb-3", tabIndex: -1, children: "Important Notice" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { id: "storageDisclaimerDescription", children: "Your drawings are saved in your web browser using local storage. This means they're only available on this device and in this browser." }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "If you clear your browser data, switch to a different browser or computer, or if the application receives an update, your drawings may be lost." }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { children: ["To keep your work safe, please use the ", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Import" }), " and ", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Export" }), " buttons to back up and restore your drawings."] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { type: "primary", title: "Acknowledge this notice and continue", "aria-label": "Continue to drawing panel", onClick: () => this.setState({ showStorageDisclaimer: false }, () => {
                                this.initializeComponents();
                                setTimeout(() => {
                                    const el = document.getElementById('drawingPanelHeader');
                                    el === null || el === void 0 ? void 0 : el.focus();
                                }, 100); // Ensure DOM is ready
                            }), children: "Continue" })] })) : (
                /* 4. Finally the main panel */
                (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { role: "region", "aria-labelledby": "drawingPanelHeader", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { id: "drawingPanelHeader", tabIndex: -1, className: "sr-only", children: "Drawing Panel" }), mainPanelContent] })), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { dangerouslySetInnerHTML: { __html: customCss } })] }));
    }
}
MyDrawingsPanel._drawingsLoadChoiceTimestamp = 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyDrawingsPanel);


/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/components/SnappingControls.tsx":
/*!*******************************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/components/SnappingControls.tsx ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SnappingControls: () => (/* binding */ SnappingControls)
/* harmony export */ });
/* harmony import */ var _emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/react/jsx-runtime */ "@emotion/react/jsx-runtime");
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var esri_views_interactive_snapping_FeatureSnappingLayerSource__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! esri/views/interactive/snapping/FeatureSnappingLayerSource */ "esri/views/interactive/snapping/FeatureSnappingLayerSource");
/* harmony import */ var esri_layers_FeatureLayer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! esri/layers/FeatureLayer */ "esri/layers/FeatureLayer");
/* harmony import */ var esri_core_Collection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! esri/core/Collection */ "esri/core/Collection");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};






const SnappingControls = (props) => {
    const [enabled, setEnabled] = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useState(false);
    const [snapSourcesCount, setSnapSourcesCount] = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useState(0);
    const [error, setError] = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useState(null);
    const [isLoading, setIsLoading] = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useState(false);
    const processedLayerKeys = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useRef(new Set());
    const isSnappableLayer = (layer) => {
        var _a;
        if (!(layer === null || layer === void 0 ? void 0 : layer.visible))
            return false;
        const snappableTypes = ['feature', 'graphics', 'csv', 'geojson', 'wfs'];
        return snappableTypes.includes(((_a = layer === null || layer === void 0 ? void 0 : layer.type) === null || _a === void 0 ? void 0 : _a.toLowerCase()) || '');
    };
    const addSnappingSource = (layer, snapSources, key) => {
        if (processedLayerKeys.current.has(key))
            return;
        try {
            const source = new esri_views_interactive_snapping_FeatureSnappingLayerSource__WEBPACK_IMPORTED_MODULE_3__["default"]({ layer, enabled: true });
            snapSources.push(source);
            processedLayerKeys.current.add(key);
        }
        catch (err) {
            console.warn(`Failed to add snapping source for ${key}: ${err.message}`);
        }
    };
    const recurseLayers = (layer_1, snapSources_1, ...args_1) => __awaiter(void 0, [layer_1, snapSources_1, ...args_1], void 0, function* (layer, snapSources, depth = 0) {
        if (!layer || depth > 10 || !layer.visible)
            return;
        const key = layer.id || layer.url || `${layer.title}-${depth}`;
        if (isSnappableLayer(layer)) {
            addSnappingSource(layer, snapSources, key);
        }
        if ((layer === null || layer === void 0 ? void 0 : layer.url) && (layer === null || layer === void 0 ? void 0 : layer.type) === 'sublayer' && (layer === null || layer === void 0 ? void 0 : layer.layerType) === 'Feature Layer') {
            const urlKey = `url:${layer.url}`;
            if (!processedLayerKeys.current.has(urlKey)) {
                try {
                    const featureLayer = new esri_layers_FeatureLayer__WEBPACK_IMPORTED_MODULE_4__["default"]({ url: layer.url, visible: true, outFields: ['*'] });
                    yield featureLayer.load();
                    addSnappingSource(featureLayer, snapSources, urlKey);
                }
                catch (err) {
                    console.warn(`❌ Could not load feature layer from URL ${layer.url}: ${err.message}`);
                }
            }
        }
        const sublayerCollections = [
            layer.sublayers,
            layer.allSublayers,
            layer.layers,
            layer.subLayers,
            layer.layerInfos
        ];
        for (const coll of sublayerCollections) {
            if (coll === null || coll === void 0 ? void 0 : coll.items) {
                for (const sub of coll.items)
                    yield recurseLayers(sub, snapSources, depth + 1);
            }
            else if (Array.isArray(coll)) {
                for (const sub of coll)
                    yield recurseLayers(sub, snapSources, depth + 1);
            }
        }
    });
    const configureSnapping = () => __awaiter(void 0, void 0, void 0, function* () {
        var _a;
        setIsLoading(true);
        setError(null);
        processedLayerKeys.current.clear();
        const view = (_a = props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view;
        const sketchVM = props.sketchViewModel;
        if (!view) {
            setError('Map view is not available.');
            setIsLoading(false);
            return;
        }
        if (!sketchVM) {
            setError('SketchViewModel is not available.');
            setIsLoading(false);
            return;
        }
        try {
            const snapSources = [];
            const allLayers = view.map.allLayers.toArray();
            yield Promise.all(allLayers
                .filter((l) => l.load && !l.loaded)
                .map((l) => l.load().catch(() => { })));
            for (const layer of allLayers) {
                yield recurseLayers(layer, snapSources);
            }
            const options = {
                enabled: true,
                featureEnabled: true,
                selfEnabled: true,
                distance: 15,
                featureSources: new esri_core_Collection__WEBPACK_IMPORTED_MODULE_5__["default"](snapSources)
            };
            sketchVM.snappingOptions = options;
            view.snappingOptions = options;
            setSnapSourcesCount(snapSources.length);
            if (snapSources.length === 0) {
                setError('No visible snappable layers found.');
            }
        }
        catch (err) {
            console.error('Error configuring snapping:', err);
            setError(`Snapping failed: ${err.message}`);
        }
        finally {
            setIsLoading(false);
        }
    });
    const handleToggle = () => {
        const newState = !enabled;
        setEnabled(newState);
    };
    jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.useEffect(() => {
        var _a, _b;
        if (enabled && ((_a = props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) && props.sketchViewModel) {
            configureSnapping();
        }
        // Added Jeff
        if (!enabled && ((_b = props.jimuMapView) === null || _b === void 0 ? void 0 : _b.view) && props.sketchViewModel) {
            props.sketchViewModel.snappingOptions.enabled = false;
        }
        //End Jeff Add
    }, [enabled, props.jimuMapView, props.sketchViewModel]);
    //Jeff changed div className from w-100 to drawToolbarDiv, CollapsableCheckbox classname to w-100, make label text responsive
    return ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'drawToolbarDiv', children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.CollapsableCheckbox, { label: enabled ? 'Disable Snapping' : 'Enable Snapping', checked: enabled, onCheckedChange: handleToggle, disableActionForUnchecked: true, openForCheck: true, closeForUncheck: true, className: 'w-100', children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'ml-3 my-1', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ul", { className: 'text-dark m-0 pl-3 small', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li", { children: ["Hold ", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Ctrl" }), " (Windows) or ", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Cmd" }), " (Mac) to temporarily disable snapping."] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Snap to feature vertices, edges, and intersections while drawing." })] }), isLoading && (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: 'text-info my-1', children: "Configuring snapping..." }), error && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Alert, { type: 'warning', className: 'mt-2', withIcon: true, text: error, closable: true }))] }) }) }));
};


/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/components/TextStyleEditor.tsx":
/*!******************************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/components/TextStyleEditor.tsx ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextStyleEditor: () => (/* binding */ TextStyleEditor)
/* harmony export */ });
/* harmony import */ var _emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/react/jsx-runtime */ "@emotion/react/jsx-runtime");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_ui_basic_color_picker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui/basic/color-picker */ "jimu-ui/basic/color-picker");
/* harmony import */ var esri_Color__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! esri/Color */ "@arcgis/core/Color");
/* harmony import */ var _assets_bold_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../assets/bold.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/bold.svg");
/* harmony import */ var _assets_bold_svg__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_assets_bold_svg__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _assets_italic_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../assets/italic.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/italic.svg");
/* harmony import */ var _assets_italic_svg__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_assets_italic_svg__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _assets_underline_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../assets/underline.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/underline.svg");
/* harmony import */ var _assets_underline_svg__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_assets_underline_svg__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var jimu_icons_svg_outlined_editor_text_left_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! jimu-icons/svg/outlined/editor/text-left.svg */ "./jimu-icons/svg/outlined/editor/text-left.svg");
/* harmony import */ var jimu_icons_svg_outlined_editor_text_left_svg__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(jimu_icons_svg_outlined_editor_text_left_svg__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var jimu_icons_svg_outlined_editor_text_center_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! jimu-icons/svg/outlined/editor/text-center.svg */ "./jimu-icons/svg/outlined/editor/text-center.svg");
/* harmony import */ var jimu_icons_svg_outlined_editor_text_center_svg__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(jimu_icons_svg_outlined_editor_text_center_svg__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var jimu_icons_svg_outlined_editor_text_right_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! jimu-icons/svg/outlined/editor/text-right.svg */ "./jimu-icons/svg/outlined/editor/text-right.svg");
/* harmony import */ var jimu_icons_svg_outlined_editor_text_right_svg__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(jimu_icons_svg_outlined_editor_text_right_svg__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _assets_text_align_v_t_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../assets/text-align-v-t.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/text-align-v-t.svg");
/* harmony import */ var _assets_text_align_v_t_svg__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_assets_text_align_v_t_svg__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _assets_text_align_v_m_svg__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../assets/text-align-v-m.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/text-align-v-m.svg");
/* harmony import */ var _assets_text_align_v_m_svg__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_assets_text_align_v_m_svg__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _assets_text_align_v_b_svg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../assets/text-align-v-b.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/text-align-v-b.svg");
/* harmony import */ var _assets_text_align_v_b_svg__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_assets_text_align_v_b_svg__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _assets_text_align_v_base_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../assets/text-align-v-base.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/text-align-v-base.svg");
/* harmony import */ var _assets_text_align_v_base_svg__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_assets_text_align_v_base_svg__WEBPACK_IMPORTED_MODULE_14__);















/**
 * TextStyleEditor component with specialized handling to:
 * 1. Directly update only the properties that change
 * 2. Properly inherit text content from the map
 * 3. Allow spaces in the Label Text field
 * 4. Preserve all styling properties between editing sessions
 */
const TextStyleEditor = ({ currentTextSymbol, updateSymbol, show, onClose, graphic }) => {
    // Add a ref to store the original display text from the map
    const originalDisplayTextRef = react__WEBPACK_IMPORTED_MODULE_1__["default"].useRef('');
    // Direct reference to the current symbol (no cloning)
    const [symbol, setSymbol] = react__WEBPACK_IMPORTED_MODULE_1__["default"].useState(null);
    // Track if any changes were made
    const [hasChanges, setHasChanges] = react__WEBPACK_IMPORTED_MODULE_1__["default"].useState(false);
    // UI state - separate from the actual symbol properties
    const [text, setText] = react__WEBPACK_IMPORTED_MODULE_1__["default"].useState('');
    const [fontSize, setFontSize] = react__WEBPACK_IMPORTED_MODULE_1__["default"].useState(12);
    const [fontColor, setFontColor] = react__WEBPACK_IMPORTED_MODULE_1__["default"].useState('#000000');
    const [fontFamily, setFontFamily] = react__WEBPACK_IMPORTED_MODULE_1__["default"].useState('Arial');
    const [fontWeight, setFontWeight] = react__WEBPACK_IMPORTED_MODULE_1__["default"].useState('normal');
    const [fontStyle, setFontStyle] = react__WEBPACK_IMPORTED_MODULE_1__["default"].useState('normal');
    const [fontDecoration, setFontDecoration] = react__WEBPACK_IMPORTED_MODULE_1__["default"].useState('none');
    const [fontRotation, setFontRotation] = react__WEBPACK_IMPORTED_MODULE_1__["default"].useState(0);
    const [horizontalAlignment, setHorizontalAlignment] = react__WEBPACK_IMPORTED_MODULE_1__["default"].useState('center');
    const [verticalAlignment, setVerticalAlignment] = react__WEBPACK_IMPORTED_MODULE_1__["default"].useState('middle');
    // Enhanced DOM text search function with listener capability
    const findTextInDOM = () => {
        var _a, _b, _c, _d, _e;
        if (typeof document === 'undefined')
            return null;
        try {
            // Setup MutationObserver to watch for DOM changes that might indicate text updates
            // This helps detect changes even after initial loading
            if (!window._textChangeObserver) {
                const observer = new MutationObserver((mutations) => {
                    for (const mutation of mutations) {
                        if (mutation.type === 'childList' || mutation.type === 'characterData') {
                            const target = mutation.target;
                            // Check if this is related to text graphics
                            if (target.classList &&
                                (target.classList.contains('esri-text-symbol') ||
                                    target.tagName.toLowerCase() === 'text' ||
                                    target.tagName.toLowerCase() === 'tspan')) {
                                const text = target.textContent;
                                if (text &&
                                    text.trim() !== '' &&
                                    text.trim().toLowerCase() !== 'text') {
                                    // Store the observed text for later use
                                    window._lastTextChangeValue = text.trim();
                                }
                            }
                        }
                    }
                });
                // Observe the entire document for text changes
                observer.observe(document.body, {
                    childList: true,
                    characterData: true,
                    subtree: true
                });
                window._textChangeObserver = observer;
            }
            // First check if we have a recently observed text change
            if (window._lastTextChangeValue &&
                window._lastTextChangeValue.trim() !== '' &&
                window._lastTextChangeValue.trim().toLowerCase() !== 'text') {
                return window._lastTextChangeValue;
            }
            // Then check for any "selected" or "active" text on the map
            // ESRI specific selections - look for visual selection indicators
            const selectionHandles = document.querySelectorAll('.esri-view .esri-feature-table__selection-indicator, ' +
                '.esri-view .esri-feature__selection-indicator, ' +
                '.esri-view .esri-selection-handle, ' +
                '.esri-view .esri-editor__selection-handle, ' +
                '.esri-view .esri-view-surface-selection, ' +
                '.esri-view [class*="selection"], ' +
                '.esri-view [class*="selected"]');
            if (selectionHandles.length > 0) {
                // If we find selection handles, look for the closest text element
                for (let i = 0; i < selectionHandles.length; i++) {
                    const handle = selectionHandles[i];
                    // Check if the handle itself contains text
                    if (handle.textContent &&
                        handle.textContent.trim() !== '' &&
                        handle.textContent.trim().toLowerCase() !== 'text') {
                        return handle.textContent.trim();
                    }
                    // Look for nearby text elements (siblings or parents)
                    let currentNode = handle;
                    while (currentNode && currentNode.parentNode) {
                        // Check siblings
                        const siblings = Array.from(currentNode.parentNode.childNodes);
                        for (const sibling of siblings) {
                            if (sibling !== currentNode &&
                                sibling.textContent &&
                                sibling.textContent.trim() !== '' &&
                                sibling.textContent.trim().toLowerCase() !== 'text') {
                                return sibling.textContent.trim();
                            }
                        }
                        // Move up to parent
                        currentNode = currentNode.parentNode;
                        // If parent has text content, use it
                        if (currentNode.textContent &&
                            currentNode.textContent.trim() !== '' &&
                            currentNode.textContent.trim().toLowerCase() !== 'text') {
                            // Check if parent is a text element itself
                            if (currentNode.nodeName === 'text' ||
                                currentNode.nodeName === 'tspan' ||
                                ((_a = currentNode.classList) === null || _a === void 0 ? void 0 : _a.contains('esri-text-symbol'))) {
                                return currentNode.textContent.trim();
                            }
                        }
                    }
                }
            }
            // Check if there's a cursor/caret on the map (usually indicates text editing)
            const cursorElements = document.querySelectorAll('.esri-view .esri-text-editing-cursor, ' +
                '.esri-view .esri-caret, ' +
                '.esri-view [class*="cursor"], ' +
                '.esri-view [class*="caret"]');
            if (cursorElements.length > 0) {
                for (const cursor of cursorElements) {
                    // Check for parent text element
                    let parent = cursor.parentElement;
                    while (parent) {
                        if (parent.nodeName === 'text' ||
                            parent.nodeName === 'tspan' ||
                            ((_b = parent.classList) === null || _b === void 0 ? void 0 : _b.contains('esri-text-symbol'))) {
                            if (parent.textContent &&
                                parent.textContent.trim() !== '' &&
                                parent.textContent.trim().toLowerCase() !== 'text') {
                                return parent.textContent.trim();
                            }
                        }
                        parent = parent.parentElement;
                    }
                }
            }
            // Directly look for SVG text elements
            // Start with any that might have been recently added or modified
            const allTextElements = Array.from(document.querySelectorAll('.esri-view svg text, .esri-view svg tspan'));
            // Sort by any timestamp or data attribute that might indicate recency
            const sortedElements = allTextElements.sort((a, b) => {
                const aTime = parseInt(a.getAttribute('data-timestamp') || '0', 10);
                const bTime = parseInt(b.getAttribute('data-timestamp') || '0', 10);
                return bTime - aTime; // Most recent first
            });
            // Process sorted elements (most recent first)
            for (const elem of sortedElements) {
                const textContent = elem.textContent;
                // Skip empty or default text
                if (!textContent ||
                    textContent.trim() === '' ||
                    textContent.trim().toLowerCase() === 'text' ||
                    textContent.includes('NaN')) {
                    continue;
                }
                // Skip if element or parent has a system class (like esri-basemap-layer)
                let parent = elem.parentElement;
                let isSystemLabel = false;
                while (parent && parent.classList) {
                    if (parent.classList.contains('esri-basemap-layer') ||
                        parent.classList.contains('esri-legend') ||
                        parent.classList.contains('esri-attribution') ||
                        parent.classList.contains('esri-scale-bar') ||
                        parent.classList.contains('esri-ui') ||
                        parent.classList.contains('esri-widget')) {
                        isSystemLabel = true;
                        break;
                    }
                    parent = parent.parentElement;
                }
                if (!isSystemLabel) {
                    return textContent.trim();
                }
            }
            // Check for ESRI text symbols specifically
            const textSymbols = document.querySelectorAll('.esri-view .esri-text-symbol, ' +
                '.esri-view .esri-text-graphic, ' +
                '.esri-view .esri-graphic-text');
            for (const symbol of textSymbols) {
                if (symbol.textContent &&
                    symbol.textContent.trim() !== '' &&
                    symbol.textContent.trim().toLowerCase() !== 'text') {
                    return symbol.textContent.trim();
                }
            }
            // Check for recent input in text fields
            // This might catch text that was entered but not yet applied to the map
            const textInputs = document.querySelectorAll('input[type="text"], textarea');
            for (const input of textInputs) {
                const inputElem = input;
                if (inputElem.value &&
                    inputElem.value.trim() !== '' &&
                    inputElem.value.trim().toLowerCase() !== 'text') {
                    // Check if this is likely related to map text
                    const isTextLabel = ((_c = inputElem.id) === null || _c === void 0 ? void 0 : _c.toLowerCase().includes('text')) ||
                        ((_d = inputElem.name) === null || _d === void 0 ? void 0 : _d.toLowerCase().includes('text')) ||
                        inputElem.className.toLowerCase().includes('text') ||
                        ((_e = inputElem.placeholder) === null || _e === void 0 ? void 0 : _e.toLowerCase().includes('text')) ||
                        inputElem.closest('[class*="text-editor"]') ||
                        inputElem.closest('[class*="label-editor"]');
                    if (isTextLabel) {
                        return inputElem.value.trim();
                    }
                }
            }
            // Look for any popup content that might contain text
            const popupContents = document.querySelectorAll('.esri-popup__content');
            for (const popup of popupContents) {
                if (popup.textContent &&
                    popup.textContent.trim() !== '' &&
                    popup.textContent.trim().toLowerCase() !== 'text') {
                    return popup.textContent.trim();
                }
            }
        }
        catch (error) {
            // Error handling without logging
        }
        return null;
    };
    // Add helper function to find text in object with advanced type handling
    const findTextInObject = (obj, path = '') => {
        if (!obj)
            return null;
        // Skip null and undefined
        if (obj === null || obj === undefined)
            return null;
        // First check if this is a TextSymbol with a text property
        if (obj.declaredClass === 'esri.symbols.TextSymbol' && obj.text) {
            // Skip default values
            if (obj.text.trim().toLowerCase() !== 'text' && obj.text.trim() !== '') {
                return { text: obj.text, path: `${path}.text` };
            }
        }
        // Check for common text properties on the object
        const textProps = [
            'text', 'label', 'value', 'displayValue', 'displayText', 'textString',
            'content', 'description', 'name', 'title', 'innerHTML', 'textContent',
            'innerText', 'labelText', 'caption', 'heading'
        ];
        for (const prop of textProps) {
            if (obj[prop] !== undefined && obj[prop] !== null) {
                // Convert to string if needed
                const propValue = typeof obj[prop] === 'string' ?
                    obj[prop] : String(obj[prop]);
                // Skip default values
                if (propValue.trim().toLowerCase() !== 'text' && propValue.trim() !== '') {
                    return { text: propValue, path: `${path}.${prop}` };
                }
            }
        }
        // Check graphics properties
        if (obj.graphic && typeof obj.graphic === 'object') {
            const graphicResult = findTextInObject(obj.graphic, `${path}.graphic`);
            if (graphicResult)
                return graphicResult;
        }
        // Check attributes
        if (obj.attributes && typeof obj.attributes === 'object') {
            // First check for common text attribute names
            const textAttrs = [
                'name', 'label', 'text', 'description', 'title', 'displayName', 'display',
                'caption', 'value', 'content', 'textString', 'NAME', 'LABEL', 'TEXT',
                'DESCRIPTION', 'TITLE', 'DISPLAY_NAME', 'DISPLAY'
            ];
            for (const attr of textAttrs) {
                if (obj.attributes[attr] !== undefined && obj.attributes[attr] !== null) {
                    // Convert to string if needed
                    const attrValue = typeof obj.attributes[attr] === 'string' ?
                        obj.attributes[attr] : String(obj.attributes[attr]);
                    // Skip default or empty values
                    if (attrValue.trim().toLowerCase() !== 'text' && attrValue.trim() !== '') {
                        return { text: attrValue, path: `${path}.attributes.${attr}` };
                    }
                }
            }
            // Then check all attributes for anything text-like
            for (const key in obj.attributes) {
                if (obj.attributes[key] !== undefined && obj.attributes[key] !== null) {
                    if (typeof obj.attributes[key] === 'string' ||
                        typeof obj.attributes[key] === 'number') {
                        const attrValue = String(obj.attributes[key]);
                        // Skip default or empty values
                        if (attrValue.trim().toLowerCase() !== 'text' &&
                            attrValue.trim() !== '') {
                            return { text: attrValue, path: `${path}.attributes.${key}` };
                        }
                    }
                }
            }
        }
        // Check symbol
        if (obj.symbol && typeof obj.symbol === 'object') {
            const symbolResult = findTextInObject(obj.symbol, `${path}.symbol`);
            if (symbolResult)
                return symbolResult;
        }
        // Check properties that could contain text content
        // These might be DOM-like properties or custom properties
        if (obj.textContent && typeof obj.textContent === 'string' &&
            obj.textContent.trim() !== '' &&
            obj.textContent.trim().toLowerCase() !== 'text') {
            return { text: obj.textContent, path: `${path}.textContent` };
        }
        if (obj.innerText && typeof obj.innerText === 'string' &&
            obj.innerText.trim() !== '' &&
            obj.innerText.trim().toLowerCase() !== 'text') {
            return { text: obj.innerText, path: `${path}.innerText` };
        }
        if (obj.innerHTML && typeof obj.innerHTML === 'string' &&
            obj.innerHTML.trim() !== '' &&
            obj.innerHTML.trim().toLowerCase() !== 'text') {
            // Strip any HTML tags for cleaner text
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = obj.innerHTML;
            const textOnly = tempDiv.textContent || tempDiv.innerText || '';
            if (textOnly.trim() !== '' && textOnly.trim().toLowerCase() !== 'text') {
                return { text: textOnly, path: `${path}.innerHTML` };
            }
        }
        // Check properties that start with underscore (ESRI often uses these)
        for (const key in obj) {
            // Skip non-enumerable properties and functions
            if (!Object.prototype.propertyIsEnumerable.call(obj, key) ||
                typeof obj[key] === 'function')
                continue;
            // Check string properties that start with underscore
            if (key.startsWith('_') &&
                (typeof obj[key] === 'string' || typeof obj[key] === 'number')) {
                const keyValue = String(obj[key]);
                // Skip default or empty values
                if (keyValue.trim().toLowerCase() !== 'text' &&
                    keyValue.trim() !== '') {
                    return { text: keyValue, path: `${path}.${key}` };
                }
            }
            // Recursively check objects with underscore prefix that might contain text
            if (key.startsWith('_') &&
                typeof obj[key] === 'object' &&
                obj[key] !== null &&
                !Array.isArray(obj[key])) {
                const result = findTextInObject(obj[key], `${path}.${key}`);
                if (result)
                    return result;
            }
        }
        // Look for properties that might contain text items inside collections
        const collectionProps = ['items', 'graphics', 'features', 'elements', '_items', '_graphics'];
        for (const prop of collectionProps) {
            if (obj[prop] && Array.isArray(obj[prop]) && obj[prop].length > 0) {
                // Process in reverse order (latest items first)
                for (let i = obj[prop].length - 1; i >= 0; i--) {
                    const item = obj[prop][i];
                    if (item) {
                        const itemResult = findTextInObject(item, `${path}.${prop}[${i}]`);
                        if (itemResult)
                            return itemResult;
                    }
                }
            }
        }
        return null;
    };
    // Add a more exhaustive approach to check for text in ArcGIS/ESRI data structures
    const findTextInEsriObjects = () => {
        var _a, _b, _c, _d;
        if (typeof window === 'undefined')
            return null;
        try {
            // Check for all possible ESRI-specific global objects that might contain our text
            // 1. Check for any specific text editing state
            if (window.textBeingEdited) {
                return window.textBeingEdited;
            }
            // 2. Try to directly access the latest text element from the ESRI framework
            // This is a direct approach to get the text that was just added to the map
            if (window._textElementJustAdded ||
                window._lastAddedTextContent ||
                window._recentlyAddedText) {
                const directText = window._textElementJustAdded ||
                    window._lastAddedTextContent ||
                    window._recentlyAddedText;
                if (directText &&
                    typeof directText === 'string' &&
                    directText.trim() !== '' &&
                    directText.trim().toLowerCase() !== 'text') {
                    return directText;
                }
            }
            // Look for any newly added text elements in the DOM
            // Checking for elements that have been recently added (within last few seconds)
            if (typeof document !== 'undefined') {
                const now = Date.now();
                const recentThreshold = 5000; // 5 seconds
                // Check for elements with a data-timestamp attribute
                const recentTextElements = document.querySelectorAll('.esri-text-symbol[data-timestamp]');
                for (let i = 0; i < recentTextElements.length; i++) {
                    const elem = recentTextElements[i];
                    const timestamp = parseInt(elem.getAttribute('data-timestamp') || '0', 10);
                    // If element was added recently
                    if ((now - timestamp) < recentThreshold) {
                        const textContent = elem.textContent;
                        if (textContent &&
                            textContent.trim() !== '' &&
                            textContent.trim().toLowerCase() !== 'text') {
                            return textContent;
                        }
                    }
                }
                // Look for text elements that have been added recently (no timestamp)
                // We can check elements that have specific classes or properties that indicate they're new
                const possiblyNewElements = document.querySelectorAll('.esri-text-symbol.esri-view__animation-delay, ' +
                    '.esri-text-symbol.esri-effect, ' +
                    '.esri-text-symbol:not([data-processed]), ' +
                    '.esri-view text:not([data-processed]), ' +
                    '.esri-view tspan:not([data-processed])');
                for (let i = 0; i < possiblyNewElements.length; i++) {
                    const elem = possiblyNewElements[i];
                    const textContent = elem.textContent;
                    if (textContent &&
                        textContent.trim() !== '' &&
                        textContent.trim().toLowerCase() !== 'text') {
                        // Mark as processed to avoid re-processing
                        elem.setAttribute('data-processed', 'true');
                        return textContent;
                    }
                }
            }
            // 3. Check active map view
            let activeView = null;
            let activeMap = null;
            // Experience Builder specific
            if (window.jimuMapView) {
                activeView = window.jimuMapView.view;
                activeMap = activeView === null || activeView === void 0 ? void 0 : activeView.map;
            }
            // ArcGIS JS API specific
            if (!activeView) {
                if (window.activeView) {
                    activeView = window.activeView;
                    activeMap = activeView === null || activeView === void 0 ? void 0 : activeView.map;
                }
                else if (window.view) {
                    activeView = window.view;
                    activeMap = activeView === null || activeView === void 0 ? void 0 : activeView.map;
                }
                else if (window.map) {
                    activeMap = window.map;
                    // For ArcGIS JS 3.x
                    if (activeMap.infoWindow) {
                        const content = activeMap.infoWindow.getContent();
                        if (typeof content === 'string' &&
                            content.trim() !== '' &&
                            content.trim().toLowerCase() !== 'text') {
                            return content;
                        }
                    }
                }
            }
            // 4. Check Direct ArcGIS API references for text elements
            // This targets newly created text elements that might not be fully integrated yet
            if (window.view && window.view._stage &&
                window.view._stage.graphics &&
                window.view._stage.graphics._items) {
                const graphicsItems = window.view._stage.graphics._items;
                // Look for the most recently added text graphics
                for (let i = graphicsItems.length - 1; i >= 0; i--) {
                    const g = graphicsItems[i];
                    if (g && g.symbol && g.symbol.text &&
                        g.symbol.text.trim() !== '' &&
                        g.symbol.text.trim().toLowerCase() !== 'text') {
                        return g.symbol.text;
                    }
                }
            }
            // 5. Check for active drawing tools or sketch widgets
            if (window.sketch || window.activeSketch ||
                window.drawingTool || window.activeDrawingTool) {
                const sketch = window.sketch ||
                    window.activeSketch ||
                    window.drawingTool ||
                    window.activeDrawingTool;
                if (sketch) {
                    // Check for active/current sketch
                    if (sketch.viewModel && sketch.viewModel.activeTool === 'text') {
                        if (sketch.viewModel.textSymbol &&
                            sketch.viewModel.textSymbol.text &&
                            sketch.viewModel.textSymbol.text.trim() !== '' &&
                            sketch.viewModel.textSymbol.text.trim().toLowerCase() !== 'text') {
                            return sketch.viewModel.textSymbol.text;
                        }
                    }
                    // Check for the graphic being created
                    if (sketch.viewModel && sketch.viewModel.graphic) {
                        const graphic = sketch.viewModel.graphic;
                        if (graphic.symbol &&
                            graphic.symbol.text &&
                            graphic.symbol.text.trim() !== '' &&
                            graphic.symbol.text.trim().toLowerCase() !== 'text') {
                            return graphic.symbol.text;
                        }
                    }
                }
            }
            // 6. Check selected/active features in the view
            if (activeView) {
                // Check if popup is open with a selected feature
                if (activeView.popup && activeView.popup.visible) {
                    // Try to get text from popup title or content
                    const popupTitle = activeView.popup.title;
                    if (typeof popupTitle === 'string' &&
                        popupTitle.trim() !== '' &&
                        popupTitle.trim().toLowerCase() !== 'text') {
                        return popupTitle;
                    }
                    const popupContent = activeView.popup.content;
                    if (typeof popupContent === 'string' &&
                        popupContent.trim() !== '' &&
                        popupContent.trim().toLowerCase() !== 'text') {
                        return popupContent;
                    }
                    // Check selected feature
                    if (activeView.popup.selectedFeature) {
                        const feature = activeView.popup.selectedFeature;
                        // Check for text symbols on the feature
                        if (feature.symbol && feature.symbol.declaredClass === 'esri.symbols.TextSymbol') {
                            if (feature.symbol.text &&
                                feature.symbol.text.trim() !== '' &&
                                feature.symbol.text.trim().toLowerCase() !== 'text') {
                                return feature.symbol.text;
                            }
                        }
                        // Check for text in attributes - common in ArcGIS
                        if (feature.attributes) {
                            const textFields = ['NAME', 'name', 'LABEL', 'label', 'TEXT', 'text',
                                'DESCRIPTION', 'description', 'TITLE', 'title',
                                'DISPLAY_NAME', 'display_name', 'DISPLAYNAME', 'displayname',
                                'DISPLAY', 'display'];
                            for (const field of textFields) {
                                if (feature.attributes[field] &&
                                    feature.attributes[field].toString().trim() !== '' &&
                                    feature.attributes[field].toString().trim().toLowerCase() !== 'text') {
                                    return feature.attributes[field].toString();
                                }
                            }
                            // Last resort: Check for any text-like attribute
                            for (const key in feature.attributes) {
                                if (typeof feature.attributes[key] === 'string' &&
                                    feature.attributes[key].trim() !== '' &&
                                    feature.attributes[key].trim().toLowerCase() !== 'text') {
                                    return feature.attributes[key];
                                }
                            }
                        }
                    }
                }
                // 7. Check for selected or highlighted graphics
                if (activeView.graphics && activeView.graphics.items && activeView.graphics.items.length > 0) {
                    // First look for selected graphics
                    let selectedGraphics = activeView.graphics.items.filter((g) => g.selected);
                    // If no selected property found, look for _selected or selected attribute
                    if (!selectedGraphics.length) {
                        selectedGraphics = activeView.graphics.items.filter((g) => { var _a; return g._selected || ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.selected); });
                    }
                    // Process selected graphics if found
                    for (const g of selectedGraphics) {
                        // Check for text symbol
                        if (g.symbol && g.symbol.declaredClass === 'esri.symbols.TextSymbol') {
                            if (g.symbol.text &&
                                g.symbol.text.trim() !== '' &&
                                g.symbol.text.trim().toLowerCase() !== 'text') {
                                return g.symbol.text;
                            }
                        }
                        // Check attributes
                        if (g.attributes) {
                            for (const key in g.attributes) {
                                if (typeof g.attributes[key] === 'string' &&
                                    g.attributes[key].trim() !== '' &&
                                    g.attributes[key].trim().toLowerCase() !== 'text') {
                                    return g.attributes[key];
                                }
                            }
                        }
                        // Check for text property directly
                        if (g.text &&
                            g.text.trim() !== '' &&
                            g.text.trim().toLowerCase() !== 'text') {
                            return g.text;
                        }
                    }
                    // Look for most recently added graphics (they're likely to be what we're editing)
                    const allGraphics = Array.from(activeView.graphics.items);
                    // Sort by any timestamp or creation property if available
                    const sortedGraphics = allGraphics.sort((a, b) => {
                        const aTime = a._creationTime || a.timestamp || a._timestamp || 0;
                        const bTime = b._creationTime || b.timestamp || b._timestamp || 0;
                        return bTime - aTime; // Most recent first
                    });
                    // First check only text graphics (most likely what we want)
                    const textGraphics = sortedGraphics
                        .filter((g) => g.symbol && g.symbol.declaredClass === 'esri.symbols.TextSymbol');
                    for (const g of textGraphics) {
                        if (g.symbol.text &&
                            g.symbol.text.trim() !== '' &&
                            g.symbol.text.trim().toLowerCase() !== 'text') {
                            return g.symbol.text;
                        }
                    }
                    // If no text graphics found, check all graphics for any text content
                    for (const g of sortedGraphics) {
                        // Check direct text property
                        if (g.text &&
                            g.text.trim() !== '' &&
                            g.text.trim().toLowerCase() !== 'text') {
                            return g.text;
                        }
                        // Check attributes for text
                        if (g.attributes) {
                            for (const key in g.attributes) {
                                if (typeof g.attributes[key] === 'string' &&
                                    g.attributes[key].trim() !== '' &&
                                    g.attributes[key].trim().toLowerCase() !== 'text') {
                                    return g.attributes[key];
                                }
                            }
                        }
                    }
                }
                // 8. Check for any other graphics collections in the view
                // Some ESRI implementations have other collections
                const graphicsCollections = [
                    activeView._graphicsCollection,
                    activeView.graphicsCollection,
                    activeView.layerCollection,
                    activeView.graphics,
                    (_a = activeView._layers) === null || _a === void 0 ? void 0 : _a.items
                ];
                for (const collection of graphicsCollections) {
                    if (!collection)
                        continue;
                    const items = collection.items || collection._items || collection;
                    if (!items || !items.length)
                        continue;
                    // Try to find text graphics in reverse order (most recent first)
                    for (let i = items.length - 1; i >= 0; i--) {
                        const g = items[i];
                        if (!g)
                            continue;
                        // Check for symbol with text
                        if (g.symbol && g.symbol.text &&
                            g.symbol.text.trim() !== '' &&
                            g.symbol.text.trim().toLowerCase() !== 'text') {
                            return g.symbol.text;
                        }
                        // Check direct text property
                        if (g.text &&
                            g.text.trim() !== '' &&
                            g.text.trim().toLowerCase() !== 'text') {
                            return g.text;
                        }
                    }
                }
            }
            // 9. Check if there's an editor widget active with a feature being edited
            let editorWidget = null;
            // Experience Builder specific editor widget
            if (window.activeEditorWidget) {
                editorWidget = window.activeEditorWidget;
            }
            else if (window.editor) {
                editorWidget = window.editor;
            }
            else if (activeView && activeView.ui && activeView.ui.components) {
                // Try to find editor widget in UI components
                for (const component of activeView.ui.components) {
                    if (component.widget &&
                        (component.widget.declaredClass === 'esri.widgets.Editor' ||
                            component.widget.declaredClass === 'esri.widgets.TextEditor')) {
                        editorWidget = component.widget;
                        break;
                    }
                }
            }
            if (editorWidget) {
                // Check if there's a viewModel with active feature
                if (editorWidget.viewModel) {
                    const vm = editorWidget.viewModel;
                    // Check editor state for active features
                    const feature = vm.activeFeature || vm.editFeature || vm.editingFeature ||
                        vm.feature || vm.currentFeature;
                    if (feature) {
                        // Check for text in feature
                        if (feature.symbol && feature.symbol.declaredClass === 'esri.symbols.TextSymbol') {
                            if (feature.symbol.text &&
                                feature.symbol.text.trim() !== '' &&
                                feature.symbol.text.trim().toLowerCase() !== 'text') {
                                return feature.symbol.text;
                            }
                        }
                        // Check attributes
                        if (feature.attributes) {
                            for (const key in feature.attributes) {
                                if (typeof feature.attributes[key] === 'string' &&
                                    feature.attributes[key].trim() !== '' &&
                                    feature.attributes[key].trim().toLowerCase() !== 'text') {
                                    return feature.attributes[key];
                                }
                            }
                        }
                        // Check direct text property
                        if (feature.text &&
                            feature.text.trim() !== '' &&
                            feature.text.trim().toLowerCase() !== 'text') {
                            return feature.text;
                        }
                    }
                    // Check if editor is in specific modes that might contain text
                    if (vm.state === 'editing' || vm.state === 'creating') {
                        const activeTemplate = vm.activeTemplate || vm.template;
                        if (activeTemplate) {
                            if (activeTemplate.label &&
                                activeTemplate.label.trim() !== '' &&
                                activeTemplate.label.trim().toLowerCase() !== 'text') {
                                return activeTemplate.label;
                            }
                            if (activeTemplate.description &&
                                activeTemplate.description.trim() !== '' &&
                                activeTemplate.description.trim().toLowerCase() !== 'text') {
                                return activeTemplate.description;
                            }
                        }
                    }
                }
            }
            // 10. Experience Builder specific: check widget state
            if (window.widgetState && window.widgetState.textContent) {
                return window.widgetState.textContent;
            }
            // 11. Try to capture from recent events - a more dynamic approach
            if (typeof document !== 'undefined') {
                // Setup event listeners for text input
                // Watch for paste events, keydown events, etc.
                let recentText = '';
                // Look for input elements that might contain the text
                const textInputs = document.querySelectorAll('input[type="text"], textarea');
                for (let i = 0; i < textInputs.length; i++) {
                    const input = textInputs[i];
                    if (input.value &&
                        input.value.trim() !== '' &&
                        input.value.trim().toLowerCase() !== 'text') {
                        // Check if this input is related to map labels or text
                        const isTextLabel = ((_b = input.id) === null || _b === void 0 ? void 0 : _b.toLowerCase().includes('text')) ||
                            ((_c = input.name) === null || _c === void 0 ? void 0 : _c.toLowerCase().includes('text')) ||
                            ((_d = input.placeholder) === null || _d === void 0 ? void 0 : _d.toLowerCase().includes('text')) ||
                            input.className.toLowerCase().includes('text');
                        if (isTextLabel) {
                            recentText = input.value;
                            break;
                        }
                    }
                }
                if (recentText) {
                    return recentText;
                }
            }
        }
        catch (error) {
            // Error handling without logging
        }
        return null;
    };
    // Try to capture the map text directly when opened - with a retry mechanism
    react__WEBPACK_IMPORTED_MODULE_1__["default"].useEffect(() => {
        if (!show)
            return;
        // Add a retry mechanism to handle cases where the map might not be fully rendered
        const attemptToFindText = (attempt = 0, maxAttempts = 3) => {
            var _a, _b, _c, _d, _e, _f, _g;
            // Only run this effect when the editor is shown
            try {
                // Try to find the displayed text on the map first using DOM
                const domText = findTextInDOM();
                if (domText) {
                    setText(domText);
                    originalDisplayTextRef.current = domText;
                    if (currentTextSymbol) {
                        currentTextSymbol.text = domText;
                    }
                    return true; // Success
                }
                // Fallback to searching in graphic/symbol objects
                // Check global variables for selected text
                if (typeof window !== 'undefined') {
                    // ESRI specific: Check for selected text in the current view
                    if ((_d = (_c = (_b = (_a = window.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) === null || _b === void 0 ? void 0 : _b.popup) === null || _c === void 0 ? void 0 : _c.selectedFeature) === null || _d === void 0 ? void 0 : _d.attributes) {
                        const attributes = window.jimuMapView.view.popup.selectedFeature.attributes;
                        // Check for common text fields in the attributes
                        const textFields = ['name', 'label', 'text', 'description', 'title', 'display_name', 'displayname'];
                        for (const field of textFields) {
                            if (attributes[field] &&
                                attributes[field].trim() !== '' &&
                                attributes[field].trim().toLowerCase() !== 'text') {
                                setText(attributes[field]);
                                originalDisplayTextRef.current = attributes[field];
                                if (currentTextSymbol) {
                                    currentTextSymbol.text = attributes[field];
                                }
                                return true; // Success
                            }
                        }
                    }
                    // Check for any explicit selections or active text elements
                    if (window.selectedGraphicText) {
                        const selectedText = window.selectedGraphicText;
                        if (selectedText &&
                            selectedText.trim() !== '' &&
                            selectedText.trim().toLowerCase() !== 'text') {
                            setText(selectedText);
                            originalDisplayTextRef.current = selectedText;
                            if (currentTextSymbol) {
                                currentTextSymbol.text = selectedText;
                            }
                            return true; // Success
                        }
                    }
                    // Check if there's a jimuMapView with active/selected graphics
                    if ((_g = (_f = (_e = window.jimuMapView) === null || _e === void 0 ? void 0 : _e.view) === null || _f === void 0 ? void 0 : _f.graphics) === null || _g === void 0 ? void 0 : _g.items) {
                        const view = window.jimuMapView.view;
                        // First check the currently selected graphic directly
                        if (view.popup && view.popup.selectedFeature) {
                            const selectedFeature = view.popup.selectedFeature;
                            if (selectedFeature.symbol &&
                                selectedFeature.symbol.text &&
                                selectedFeature.symbol.text.trim() !== '' &&
                                selectedFeature.symbol.text.trim().toLowerCase() !== 'text') {
                                setText(selectedFeature.symbol.text);
                                originalDisplayTextRef.current = selectedFeature.symbol.text;
                                if (currentTextSymbol) {
                                    currentTextSymbol.text = selectedFeature.symbol.text;
                                }
                                return true; // Success
                            }
                            const featureTextResult = findTextInObject(selectedFeature, 'view.popup.selectedFeature');
                            if (featureTextResult === null || featureTextResult === void 0 ? void 0 : featureTextResult.text) {
                                setText(featureTextResult.text);
                                originalDisplayTextRef.current = featureTextResult.text;
                                if (currentTextSymbol) {
                                    currentTextSymbol.text = featureTextResult.text;
                                }
                                return true; // Success
                            }
                        }
                        // Look for selected graphics
                        const selectedGraphics = view.graphics.items.filter((g) => g.selected);
                        for (const g of selectedGraphics) {
                            const gTextResult = findTextInObject(g, 'view.graphics.selected');
                            if (gTextResult === null || gTextResult === void 0 ? void 0 : gTextResult.text) {
                                setText(gTextResult.text);
                                originalDisplayTextRef.current = gTextResult.text;
                                if (currentTextSymbol) {
                                    currentTextSymbol.text = gTextResult.text;
                                }
                                return true; // Success
                            }
                        }
                        // If no selected graphics found with text, check all graphics
                        for (const g of view.graphics.items) {
                            const gTextResult = findTextInObject(g, 'view.graphics');
                            if (gTextResult === null || gTextResult === void 0 ? void 0 : gTextResult.text) {
                                setText(gTextResult.text);
                                originalDisplayTextRef.current = gTextResult.text;
                                if (currentTextSymbol) {
                                    currentTextSymbol.text = gTextResult.text;
                                }
                                return true; // Success
                            }
                        }
                    }
                    // ArcGIS JavaScript API specific: check for active editor widget
                    if (window.activeEditorWidget && window.activeEditorWidget.viewModel) {
                        const editorVM = window.activeEditorWidget.viewModel;
                        // Check if there's an active feature being edited
                        if (editorVM.activeFeature || editorVM.editFeature) {
                            const feature = editorVM.activeFeature || editorVM.editFeature;
                            if (feature) {
                                const featureTextResult = findTextInObject(feature, 'editorVM.feature');
                                if (featureTextResult === null || featureTextResult === void 0 ? void 0 : featureTextResult.text) {
                                    setText(featureTextResult.text);
                                    originalDisplayTextRef.current = featureTextResult.text;
                                    if (currentTextSymbol) {
                                        currentTextSymbol.text = featureTextResult.text;
                                    }
                                    return true; // Success
                                }
                            }
                        }
                        // Check editor states that might contain the text
                        if (editorVM.state && editorVM.state === "editing") {
                            const editingFeature = editorVM.editingFeature || editorVM.editFeature;
                            if (editingFeature) {
                                const featureTextResult = findTextInObject(editingFeature, 'editorVM.editingFeature');
                                if (featureTextResult === null || featureTextResult === void 0 ? void 0 : featureTextResult.text) {
                                    setText(featureTextResult.text);
                                    originalDisplayTextRef.current = featureTextResult.text;
                                    if (currentTextSymbol) {
                                        currentTextSymbol.text = featureTextResult.text;
                                    }
                                    return true; // Success
                                }
                            }
                        }
                    }
                }
                return false; // No text found
            }
            catch (error) {
                // Error handling without logging
                return false;
            }
        };
        // Try immediately
        const found = attemptToFindText();
        if (found)
            return;
        // If not found, retry after a short delay to allow for rendering
        const delayedSearch = setTimeout(() => {
            const foundOnRetry = attemptToFindText(1);
            if (!foundOnRetry) {
                // One last attempt with longer delay
                setTimeout(() => attemptToFindText(2), 500);
            }
        }, 100);
        // Cleanup
        return () => clearTimeout(delayedSearch);
    }, [show, currentTextSymbol]);
    // Initialize when shown or symbol changes
    react__WEBPACK_IMPORTED_MODULE_1__["default"].useEffect(() => {
        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
        if (!currentTextSymbol || !show)
            return;
        try {
            // Store reference to the symbol
            setSymbol(currentTextSymbol);
            setHasChanges(false);
            // Get initial text using multiple strategies
            // First check DOM for visible text
            const domText = findTextInDOM();
            // Then check ESRI specific objects
            const esriText = findTextInEsriObjects();
            // Start with the original text from the symbol
            let textContent = (_b = (_a = graphic === null || graphic === void 0 ? void 0 : graphic.symbol) === null || _a === void 0 ? void 0 : _a.text) !== null && _b !== void 0 ? _b : currentTextSymbol.text;
            // Is this a default or empty text value?
            const isDefaultText = !textContent ||
                textContent.trim().toLowerCase() === 'text' ||
                textContent.trim() === '';
            // If we found text in the DOM, prioritize that
            if (domText && domText.trim().toLowerCase() !== 'text') {
                textContent = domText;
            }
            // Otherwise check ESRI objects
            else if (esriText && esriText.trim().toLowerCase() !== 'text') {
                textContent = esriText;
            }
            // Otherwise if we have default text, try to find something better
            else if (isDefaultText) {
                // Fallback 1: Search graphic
                if (graphic) {
                    const graphicTextResult = findTextInObject(graphic, 'graphic');
                    if (graphicTextResult === null || graphicTextResult === void 0 ? void 0 : graphicTextResult.text) {
                        textContent = graphicTextResult.text;
                    }
                }
                // Fallback 2: Search symbol object
                if ((!textContent || textContent.trim() === '') && currentTextSymbol) {
                    const symbolTextResult = findTextInObject(currentTextSymbol, 'symbol');
                    if ((symbolTextResult === null || symbolTextResult === void 0 ? void 0 : symbolTextResult.text) && symbolTextResult.path !== 'symbol.text') {
                        textContent = symbolTextResult.text;
                    }
                }
                // Fallback 3: Search window context
                if ((!textContent || textContent.trim() === '') && typeof window !== 'undefined') {
                    if (window.selectedGraphicText) {
                        textContent = window.selectedGraphicText;
                    }
                }
            }
            // Final fallback to empty string
            textContent = textContent || '';
            originalDisplayTextRef.current = textContent;
            // Sync back to symbol if needed
            if (textContent !== currentTextSymbol.text) {
                currentTextSymbol.text = textContent;
            }
            // Set the UI state
            setText(textContent);
            if (currentTextSymbol.font) {
                setFontSize((_c = currentTextSymbol.font.size) !== null && _c !== void 0 ? _c : 12);
                setFontFamily((_d = currentTextSymbol.font.family) !== null && _d !== void 0 ? _d : 'Arial');
                setFontWeight((_e = currentTextSymbol.font.weight) !== null && _e !== void 0 ? _e : 'normal');
                setFontStyle((_f = currentTextSymbol.font.style) !== null && _f !== void 0 ? _f : 'normal');
                setFontDecoration((_g = currentTextSymbol.font.decoration) !== null && _g !== void 0 ? _g : 'none');
            }
            if (currentTextSymbol.color) {
                const colorCss = currentTextSymbol.color.toCss
                    ? currentTextSymbol.color.toCss(true)
                    : '#000000';
                setFontColor(colorCss);
            }
            else {
                setFontColor('#000000');
            }
            setFontRotation((_h = currentTextSymbol.angle) !== null && _h !== void 0 ? _h : 0);
            setHorizontalAlignment(((_j = currentTextSymbol.horizontalAlignment) !== null && _j !== void 0 ? _j : 'center'));
            setVerticalAlignment(((_k = currentTextSymbol.verticalAlignment) !== null && _k !== void 0 ? _k : 'middle'));
            // If we still have default text, retry after a short delay
            if (textContent.trim() === '' || textContent.trim().toLowerCase() === 'text') {
                setTimeout(() => {
                    // Try DOM again after render
                    const retryDomText = findTextInDOM();
                    if (retryDomText && retryDomText.trim().toLowerCase() !== 'text') {
                        setText(retryDomText);
                        originalDisplayTextRef.current = retryDomText;
                        if (currentTextSymbol) {
                            currentTextSymbol.text = retryDomText;
                            setHasChanges(true);
                        }
                    }
                    else {
                        // Try ESRI objects again
                        const retryEsriText = findTextInEsriObjects();
                        if (retryEsriText && retryEsriText.trim().toLowerCase() !== 'text') {
                            setText(retryEsriText);
                            originalDisplayTextRef.current = retryEsriText;
                            if (currentTextSymbol) {
                                currentTextSymbol.text = retryEsriText;
                                setHasChanges(true);
                            }
                        }
                    }
                }, 300);
            }
        }
        catch (error) {
            // Error handling without logging
        }
    }, [currentTextSymbol, show, graphic]);
    // DIRECT PROPERTY UPDATE FUNCTIONS
    // These update the actual symbol immediately when a property changes
    const updateText = (newText) => {
        if (!symbol)
            return;
        // Update UI state - make sure to preserve spaces
        setText(newText);
        // Directly update the symbol
        try {
            // Make sure the text property is updated on the symbol directly
            // and ensure spaces are preserved
            symbol.text = newText;
            // Also update the original display text reference
            originalDisplayTextRef.current = newText;
            // Try to update the text in any global variables or selected graphics
            // This is a bit of a hack, but might help update text in the Experience Builder environment
            if (typeof window !== 'undefined') {
                if (window.selectedGraphicText !== undefined) {
                    window.selectedGraphicText = newText;
                }
                if (window.jimuMapView && window.jimuMapView.view) {
                    const view = window.jimuMapView.view;
                    if (view.graphics && view.graphics.items) {
                        const selectedGraphics = view.graphics.items.filter((g) => g.selected);
                        for (const g of selectedGraphics) {
                            if (g.text !== undefined) {
                                g.text = newText;
                            }
                            if (g.attributes && g.attributes.text !== undefined) {
                                g.attributes.text = newText;
                            }
                            if (g.symbol && g.symbol.text !== undefined) {
                                g.symbol.text = newText;
                            }
                        }
                    }
                }
            }
            setHasChanges(true);
        }
        catch (e) {
            // Error handling without logging
        }
    };
    const updateFontSize = (newSize) => {
        if (!symbol || !symbol.font)
            return;
        // Update UI state
        setFontSize(newSize);
        // Directly update the symbol
        try {
            const font = symbol.font.clone();
            font.size = newSize;
            symbol.font = font;
            setHasChanges(true);
        }
        catch (e) {
            // Error handling without logging
        }
    };
    const updateFontColor = (newColor) => {
        if (!symbol)
            return;
        // Update UI state
        setFontColor(newColor);
        // Directly update the symbol
        try {
            symbol.color = new esri_Color__WEBPACK_IMPORTED_MODULE_4__["default"](newColor);
            setHasChanges(true);
        }
        catch (e) {
            // Error handling without logging
        }
    };
    const updateFontFamily = (newFamily) => {
        if (!symbol || !symbol.font)
            return;
        // Update UI state
        setFontFamily(newFamily);
        // Directly update the symbol
        try {
            const font = symbol.font.clone();
            font.family = newFamily;
            symbol.font = font;
            setHasChanges(true);
        }
        catch (e) {
            // Error handling without logging
        }
    };
    const updateFontWeight = (newWeight) => {
        if (!symbol || !symbol.font)
            return;
        // Update UI state
        setFontWeight(newWeight);
        // Directly update the symbol
        try {
            const font = symbol.font.clone();
            font.weight = newWeight;
            symbol.font = font;
            setHasChanges(true);
        }
        catch (e) {
            // Error handling without logging
        }
    };
    const updateFontStyle = (newStyle) => {
        if (!symbol || !symbol.font)
            return;
        // Update UI state
        setFontStyle(newStyle);
        // Directly update the symbol
        try {
            const font = symbol.font.clone();
            font.style = newStyle;
            symbol.font = font;
            setHasChanges(true);
        }
        catch (e) {
            // Error handling without logging
        }
    };
    const updateFontDecoration = (newDecoration) => {
        if (!symbol || !symbol.font)
            return;
        // Update UI state
        setFontDecoration(newDecoration);
        // Directly update the symbol
        try {
            const font = symbol.font.clone();
            font.decoration = newDecoration;
            symbol.font = font;
            setHasChanges(true);
        }
        catch (e) {
            // Error handling without logging
        }
    };
    const updateFontRotation = (newRotation) => {
        if (!symbol)
            return;
        // Update UI state
        setFontRotation(newRotation);
        // Directly update the symbol
        try {
            symbol.angle = newRotation;
            setHasChanges(true);
        }
        catch (e) {
            // Error handling without logging
        }
    };
    const updateHorizontalAlignment = (newAlignment) => {
        if (!symbol)
            return;
        // Update UI state
        setHorizontalAlignment(newAlignment);
        // Directly update the symbol
        try {
            symbol.horizontalAlignment = newAlignment;
            setHasChanges(true);
        }
        catch (e) {
            // Error handling without logging
        }
    };
    const updateVerticalAlignment = (newAlignment) => {
        if (!symbol)
            return;
        // Update UI state
        setVerticalAlignment(newAlignment);
        // Directly update the symbol
        try {
            symbol.verticalAlignment = newAlignment;
            setHasChanges(true);
        }
        catch (e) {
            // Error handling without logging
        }
    };
    const handleApply = () => {
        if (!symbol)
            return;
        try {
            // If no changes were made, just close
            if (!hasChanges) {
                onClose();
                return;
            }
            // The symbol has already been updated with each property change
            // Here we just need to let the parent component know
            // Make one final check to ensure text is synchronized
            if (originalDisplayTextRef.current && symbol.text !== originalDisplayTextRef.current) {
                symbol.text = originalDisplayTextRef.current;
            }
            // Call the parent's update function
            updateSymbol(symbol);
            onClose();
        }
        catch (error) {
            // Error handling without logging
        }
    };
    if (!show)
        return null;
    return ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "text-style-editor p-3", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: "font-weight-semibold", children: "Label Text" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.TextInput, { className: "mb-2", value: text, onChange: e => updateText(e.target.value), onAcceptValue: value => updateText(value), onKeyDown: e => {
                    // Make sure pressing space works correctly
                    if (e.key === ' ') {
                        // Prevent default in case there's any special handling of space
                        e.preventDefault();
                        // Update the text with a space added
                        updateText(text + ' ');
                    }
                }, "aria-label": "Edit label text" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: "font-weight-semibold", children: "Font Size" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.NumericInput, { className: "mb-2", value: fontSize, min: 1, max: 120, onChange: updateFontSize, "aria-label": "Font size" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: "font-weight-semibold", children: "Font Color" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_basic_color_picker__WEBPACK_IMPORTED_MODULE_3__.ColorPicker, { color: fontColor, onChange: updateFontColor, className: "mb-2", "aria-label": "Font color picker" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: "font-weight-semibold", children: "Font Family" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Select, { value: fontFamily, onChange: e => updateFontFamily(e.target.value), className: "mb-2", "aria-label": "Font family", children: [
                    'Arial',
                    'Avenir Next',
                    'Josefin Slab',
                    'Merriweather',
                    'Montserrat',
                    'Noto Sans',
                    'Noto Serif',
                    'Open Sans',
                    'Playfair Display',
                    'Roboto',
                    'Ubuntu'
                ].map(f => ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Option, { value: f, style: { fontFamily: f }, children: f }, f))) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: "font-weight-semibold", children: "Font Style" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.AdvancedButtonGroup, { className: "mb-2 d-flex", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { icon: true, active: fontWeight === 'bold', onClick: () => updateFontWeight(fontWeight === 'bold' ? 'normal' : 'bold'), title: "Bold", "aria-label": "Bold", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, { icon: (_assets_bold_svg__WEBPACK_IMPORTED_MODULE_5___default()) }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { icon: true, active: fontStyle === 'italic', onClick: () => updateFontStyle(fontStyle === 'italic' ? 'normal' : 'italic'), title: "Italic", "aria-label": "Italic", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, { icon: (_assets_italic_svg__WEBPACK_IMPORTED_MODULE_6___default()) }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { icon: true, active: fontDecoration === 'underline', onClick: () => updateFontDecoration(fontDecoration === 'underline' ? 'none' : 'underline'), title: "Underline", "aria-label": "Underline", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, { icon: (_assets_underline_svg__WEBPACK_IMPORTED_MODULE_7___default()) }) })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: "font-weight-semibold", children: "Horizontal Alignment" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.AdvancedButtonGroup, { className: "mb-2 d-flex", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { icon: true, active: horizontalAlignment === 'left', onClick: () => updateHorizontalAlignment('left'), title: "Align Left", "aria-label": "Align Left", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, { icon: (jimu_icons_svg_outlined_editor_text_left_svg__WEBPACK_IMPORTED_MODULE_8___default()) }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { icon: true, active: horizontalAlignment === 'center', onClick: () => updateHorizontalAlignment('center'), title: "Align Center", "aria-label": "Align Center", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, { icon: (jimu_icons_svg_outlined_editor_text_center_svg__WEBPACK_IMPORTED_MODULE_9___default()) }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { icon: true, active: horizontalAlignment === 'right', onClick: () => updateHorizontalAlignment('right'), title: "Align Right", "aria-label": "Align Right", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, { icon: (jimu_icons_svg_outlined_editor_text_right_svg__WEBPACK_IMPORTED_MODULE_10___default()) }) })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: "font-weight-semibold", children: "Vertical Alignment" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.AdvancedButtonGroup, { className: "mb-3 d-flex", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { icon: true, active: verticalAlignment === 'top', onClick: () => updateVerticalAlignment('top'), title: "Align Top", "aria-label": "Align Top", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, { icon: (_assets_text_align_v_t_svg__WEBPACK_IMPORTED_MODULE_11___default()) }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { icon: true, active: verticalAlignment === 'middle', onClick: () => updateVerticalAlignment('middle'), title: "Align Middle", "aria-label": "Align Middle", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, { icon: (_assets_text_align_v_m_svg__WEBPACK_IMPORTED_MODULE_12___default()) }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { icon: true, active: verticalAlignment === 'bottom', onClick: () => updateVerticalAlignment('bottom'), title: "Align Bottom", "aria-label": "Align Bottom", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, { icon: (_assets_text_align_v_b_svg__WEBPACK_IMPORTED_MODULE_13___default()) }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { icon: true, active: verticalAlignment === 'baseline', onClick: () => updateVerticalAlignment('baseline'), title: "Align Baseline", "aria-label": "Align Baseline", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, { icon: (_assets_text_align_v_base_svg__WEBPACK_IMPORTED_MODULE_14___default()) }) })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: "font-weight-semibold", children: "Rotation" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.NumericInput, { className: "mb-3", value: fontRotation, min: -360, max: 360, onChange: updateFontRotation, "aria-label": "Rotation angle" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { onClick: handleApply, type: "primary", className: "w-100", title: "Apply changes and close", "aria-label": "Apply and close", children: "Apply and Close" })] }));
};


/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/components/measure.tsx":
/*!**********************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/components/measure.tsx ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/react/jsx-runtime */ "@emotion/react/jsx-runtime");
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_ui_basic_color_picker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui/basic/color-picker */ "jimu-ui/basic/color-picker");
/* harmony import */ var esri_Graphic__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! esri/Graphic */ "esri/Graphic");
/* harmony import */ var esri_geometry_Point__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! esri/geometry/Point */ "esri/geometry/Point");
/* harmony import */ var esri_geometry_Polyline__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! esri/geometry/Polyline */ "esri/geometry/Polyline");
/* harmony import */ var esri_geometry_SpatialReference__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! esri/geometry/SpatialReference */ "esri/geometry/SpatialReference");
/* harmony import */ var esri_geometry_operators_projectOperator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! esri/geometry/operators/projectOperator */ "esri/geometry/operators/projectOperator");
/* harmony import */ var esri_geometry_operators_geodeticAreaOperator__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! esri/geometry/operators/geodeticAreaOperator */ "esri/geometry/operators/geodeticAreaOperator");
/* harmony import */ var esri_geometry_operators_geodeticLengthOperator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! esri/geometry/operators/geodeticLengthOperator */ "esri/geometry/operators/geodeticLengthOperator");
/* harmony import */ var esri_geometry_operators_areaOperator__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! esri/geometry/operators/areaOperator */ "esri/geometry/operators/areaOperator");
/* harmony import */ var esri_geometry_operators_lengthOperator__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! esri/geometry/operators/lengthOperator */ "esri/geometry/operators/lengthOperator");
/* harmony import */ var esri_Color__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! esri/Color */ "@arcgis/core/Color");
/* harmony import */ var _arcgis_core_symbols_TextSymbol__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @arcgis/core/symbols/TextSymbol */ "esri/symbols/TextSymbol");
/* harmony import */ var esri_symbols_SimpleMarkerSymbol__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! esri/symbols/SimpleMarkerSymbol */ "esri/symbols/SimpleMarkerSymbol");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
















// Import React hooks properly
const { useState, useEffect, useRef, useImperativeHandle, forwardRef } = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React;
// Proper forwardRef structure
const Measure = forwardRef((props, ref) => {
    var _a, _b, _c;
    const drawLayer = props.drawLayer;
    const currentTextSymbol = props.currentTextSymbol;
    const sketchViewModel = props.sketchViewModel;
    const currentTool = props.currentTool;
    const showTextPreview = props.showTextPreview;
    // Map view reference for forcing refreshes
    let currentMapView = null;
    // All useRef calls moved to the top level of the component
    const measureEnabledRef = useRef(false);
    const editableMeasurementsRef = useRef(false);
    // 🔧 NEW: Store listeners in refs for immediate synchronous access
    const updateListenerRef = useRef(null);
    const createListenerRef = useRef(null);
    const removalListenerRef = useRef(null);
    // 🔧 NEW: Guard against CollapsableCheckbox firing onCheckedChange during mount
    const isInitialMount = useRef(true);
    const settingsRef = useRef({
        distanceUnit: null,
        areaUnit: null,
        segmentsOn: false,
        lengthOn: true,
        areaOn: true,
        perimeterOn: true,
        radiusOn: true,
        pointRound: 5,
        otherRound: 2,
        rotateSegments: true
    });
    // Concurrency protection
    const processingQueue = useRef(new Set());
    const measurementLock = useRef(false);
    // Move debounce function to top to avoid hoisting issues
    const debounce = (func, wait) => {
        let timeout;
        return function executedFunction(...args) {
            const later = () => {
                clearTimeout(timeout);
                func(...args);
            };
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
        };
    };
    const isTextSymbol = (symbol) => {
        return symbol &&
            typeof symbol === 'object' &&
            symbol.type === 'text' &&
            typeof symbol.text === 'string';
    };
    //Built-in units
    const defaultAreaUnits = [
        { unit: 'square-kilometers', label: props.nls('squareKilometers') || 'Square Kilometers', abbreviation: 'km²', conversion: 0.000001 },
        { unit: 'square-miles', label: props.nls('squareMiles') || 'Square Miles', abbreviation: 'mi²', conversion: 3.86102e-7 },
        { unit: 'acres', label: props.nls('acres') || 'Acres', abbreviation: 'ac', conversion: 0.000247105 },
        { unit: 'hectares', label: props.nls('hectares') || 'Hectares', abbreviation: 'ha', conversion: 0.0001 },
        { unit: 'square-meters', label: props.nls('squareMeters') || 'Square Meters', abbreviation: 'm²', conversion: 1 },
        { unit: 'square-feet', label: props.nls('squareFeet') || 'Square Feet', abbreviation: 'ft²', conversion: 10.7639 },
        { unit: 'square-yards', label: props.nls('squareYards') || 'Square Yards', abbreviation: 'yd²', conversion: 1.19599 }
    ];
    const defaultDistanceUnits = [
        { unit: 'kilometers', label: props.nls('kilometers') || 'Kilometers', abbreviation: 'km', conversion: 0.001 },
        { unit: 'miles', label: props.nls('miles') || 'Miles', abbreviation: 'mi', conversion: 0.000621371 },
        { unit: 'meters', label: props.nls('meters') || 'Meters', abbreviation: 'm', conversion: 1 },
        { unit: 'nautical-miles', label: props.nls('nauticals') || 'Nautical Miles', abbreviation: 'NM', conversion: 0.000539957 },
        { unit: 'feet', label: props.nls('feet') || 'Feet', abbreviation: 'ft', conversion: 3.28084 },
        { unit: 'yards', label: props.nls('yards') || 'Yards', abbreviation: 'yd', conversion: 1.09361 }
    ];
    //combine built-in and user defined units
    const distanceUnits = [...defaultDistanceUnits, ...props.config.userDistances];
    const areaUnits = [...defaultAreaUnits, ...props.config.userAreas];
    // NOW the state variables can use distanceUnits and areaUnits
    const [distanceUnit, setDistanceUnit] = useState(distanceUnits[props.config.defaultDistance] || distanceUnits[0]);
    const [areaUnit, setAreaUnit] = useState(areaUnits[props.config.defaultArea] || areaUnits[0]);
    const [availableDistanceUnits, setAvailableDistanceUnits] = useState(distanceUnits);
    const [availableAreaUnits, setAvailableAreaUnits] = useState(areaUnits);
    const [measureEnabled, setMeasureEnabledState] = useState(false);
    const setMeasureEnabled = (value) => {
        //console.log('🔧 setMeasureEnabled called:', value, 'Stack trace:', new Error().stack);
        setMeasureEnabledState(value);
    };
    const [updateListener, setUpdateListener] = useState(null);
    const [createListener, setCreateListener] = useState(null);
    const [removalListener, setRemovalListener] = useState(null);
    const [xy, setXy] = useState(false);
    const [latLong, setLatLong] = useState(true);
    const [wkid, setWkid] = useState(false);
    const [lengthOn, setLengthOn] = useState(true);
    const [areaOn, setAreaOn] = useState(true);
    const [perimeterOn, setPerimeterOn] = useState(true);
    const [radiusOn, setRadiusOn] = useState(true);
    const [segmentsOn, setSegmentsOn] = useState(false);
    const [rotateSegments, setRotateSegments] = useState(true);
    const [currentGraphic, setCurrentGraphic] = useState(null);
    const [toolType, setToolType] = useState(currentTool);
    const [tooltips, setTooltips] = useState(false);
    const [pointRound, setPointRound] = useState(5);
    const [otherRound, setOtherRound] = useState(2);
    // Track processed graphics to prevent duplicate labels
    const [processedGraphics, setProcessedGraphics] = useState(new Set());
    // Processing state tracking
    const [isProcessingMeasurements, setIsProcessingMeasurements] = useState(false);
    const [activeEvents, setActiveEvents] = useState(new Set());
    // Minimal throttling only for complete events, not active
    const [completeTimeouts, setCompleteTimeouts] = useState(new Map());
    const COMPLETE_THROTTLE_DELAY = 100;
    // Watch for external graphic changes (from MyDrawingsPanel)
    const [layerWatcher, setLayerWatcher] = useState(null);
    // Measurement label editing states
    const [editableMeasurements, setEditableMeasurements] = useState(false);
    const [selectedMeasurementLabel, setSelectedMeasurementLabel] = useState(null);
    const [measurementTextSymbol, setMeasurementTextSymbol] = useState(null);
    const [measurementClickListener, setMeasurementClickListener] = useState(null);
    // Text editing states for measurement labels
    const [measurementFontColor, setMeasurementFontColor] = useState('rgba(0,0,0,1)');
    const [measurementFontSize, setMeasurementFontSize] = useState(14);
    const [measurementFontRotation, setMeasurementFontRotation] = useState(0);
    const [measurementHaloEnabled, setMeasurementHaloEnabled] = useState(true);
    const [measurementHaloColor, setMeasurementHaloColor] = useState('rgba(255,255,255,1)');
    const [measurementHaloSize, setMeasurementHaloSize] = useState(2);
    // Add these three functions to handle font formatting for measurement labels
    const updateMeasurementFontWeight = (bold) => {
        //console.log('Updating font weight to:', bold ? 'bold' : 'normal');
        if (measurementTextSymbol && selectedMeasurementLabel) {
            // Update the symbol immediately and synchronously
            const updatedSymbol = measurementTextSymbol.clone();
            updatedSymbol.font = updatedSymbol.font.clone();
            updatedSymbol.font.weight = bold ? 'bold' : 'normal';
            // Update state
            setMeasurementTextSymbol(updatedSymbol);
            // Apply changes immediately using the updated symbol
            applyMeasurementTextChangesWithSymbol(updatedSymbol);
        }
    };
    const updateMeasurementFontStyle = (italic) => {
        //console.log('Updating font style to:', italic ? 'italic' : 'normal');
        if (measurementTextSymbol && selectedMeasurementLabel) {
            // Update the symbol immediately and synchronously
            const updatedSymbol = measurementTextSymbol.clone();
            updatedSymbol.font = updatedSymbol.font.clone();
            updatedSymbol.font.style = italic ? 'italic' : 'normal';
            // Update state
            setMeasurementTextSymbol(updatedSymbol);
            // Apply changes immediately using the updated symbol
            applyMeasurementTextChangesWithSymbol(updatedSymbol);
        }
    };
    const updateMeasurementFontDecoration = (underline) => {
        //console.log('Updating font decoration to:', underline ? 'underline' : 'none');
        if (measurementTextSymbol && selectedMeasurementLabel) {
            // Update the symbol immediately and synchronously
            const updatedSymbol = measurementTextSymbol.clone();
            updatedSymbol.font = updatedSymbol.font.clone();
            updatedSymbol.font.decoration = underline ? 'underline' : 'none';
            // Update state
            setMeasurementTextSymbol(updatedSymbol);
            // Apply changes immediately using the updated symbol
            applyMeasurementTextChangesWithSymbol(updatedSymbol);
        }
    };
    const applyMeasurementTextChangesWithSymbol = (symbolToApply) => {
        // console.log('applyMeasurementTextChangesWithSymbol called:', {
        //   hasSelectedLabel: !!selectedMeasurementLabel,
        //   hasSymbolParam: !!symbolToApply,
        //   hasTextSymbol: !!measurementTextSymbol,
        //   hasDrawLayer: !!drawLayer
        // });
        if (!selectedMeasurementLabel) {
            //console.log('Missing selected label for text changes');
            return;
        }
        // Use the provided symbol or fall back to the state symbol
        const symbolSource = symbolToApply || measurementTextSymbol;
        if (!symbolSource) {
            //console.log('Missing symbol source for text changes');
            return;
        }
        try {
            // Preserve the original measurement text
            const originalText = selectedMeasurementLabel.symbol.text;
            // Create a completely new symbol using the provided symbol as the source
            const updatedSymbol = new _arcgis_core_symbols_TextSymbol__WEBPACK_IMPORTED_MODULE_14__["default"]({
                text: originalText,
                color: symbolSource.color, // Use provided symbol's color
                font: {
                    size: symbolSource.font.size, // Use provided symbol's font size
                    weight: symbolSource.font.weight, // Use provided symbol's weight
                    style: symbolSource.font.style, // Use provided symbol's style  
                    decoration: symbolSource.font.decoration, // Use provided symbol's decoration
                    family: symbolSource.font.family || 'Arial'
                },
                angle: symbolSource.angle, // Use provided symbol's angle
                // FIXED: Use halo properties from the provided symbol instead of React state
                haloColor: symbolSource.haloColor, // Use symbol's halo color
                haloSize: symbolSource.haloSize, // Use symbol's halo size
                verticalAlignment: symbolSource.verticalAlignment,
                horizontalAlignment: symbolSource.horizontalAlignment,
                xoffset: symbolSource.xoffset,
                yoffset: symbolSource.yoffset,
                backgroundColor: symbolSource.backgroundColor
            });
            // console.log('🔄 Applying symbol changes:', {
            //   originalText,
            //   color: updatedSymbol.color,
            //   fontSize: updatedSymbol.font.size,
            //   fontWeight: updatedSymbol.font.weight,
            //   fontStyle: updatedSymbol.font.style,
            //   fontDecoration: updatedSymbol.font.decoration,
            //   angle: updatedSymbol.angle,
            //   haloSize: updatedSymbol.haloSize,
            //   haloColor: updatedSymbol.haloColor
            // });
            // Apply the updated symbol
            selectedMeasurementLabel.symbol = updatedSymbol;
            // Mark as customized
            if (!selectedMeasurementLabel.attributes)
                selectedMeasurementLabel.attributes = {};
            selectedMeasurementLabel.attributes.customized = true;
            selectedMeasurementLabel.attributes.lastModified = Date.now();
            // Force refresh strategies (same as before)
            try {
                selectedMeasurementLabel.visible = false;
                setTimeout(() => {
                    if (selectedMeasurementLabel) {
                        selectedMeasurementLabel.visible = true;
                    }
                }, 50);
            }
            catch (e) {
                console.warn('Visibility toggle refresh failed:', e);
            }
            // Layer refresh
            if (drawLayer && typeof drawLayer.refresh === 'function') {
                try {
                    drawLayer.refresh();
                    //console.log('Layer refresh completed');
                }
                catch (e) {
                    console.warn('Layer refresh failed:', e);
                }
            }
            // Remove and re-add strategy
            if (drawLayer && selectedMeasurementLabel.layer === drawLayer) {
                try {
                    const wasVisible = selectedMeasurementLabel.visible;
                    const currentGeometry = selectedMeasurementLabel.geometry;
                    drawLayer.remove(selectedMeasurementLabel);
                    selectedMeasurementLabel.visible = wasVisible;
                    selectedMeasurementLabel.geometry = currentGeometry;
                    drawLayer.add(selectedMeasurementLabel);
                    //console.log('Refreshed graphic via remove/add');
                }
                catch (refreshError) {
                    console.warn('Remove/add refresh failed:', refreshError);
                }
            }
            // Force view redraw
            if (currentMapView) {
                try {
                    if (typeof currentMapView.redraw === 'function') {
                        currentMapView.redraw();
                        //console.log('Map view redraw completed');
                    }
                }
                catch (redrawError) {
                    console.warn('Map redraw failed:', redrawError);
                }
            }
            //console.log('✅ Applied text changes to measurement label - marked as customized');
        }
        catch (error) {
            console.error('❌ Error applying measurement text changes:', error);
        }
    };
    // NEW: Drag functionality states
    const [isDraggingLabel, setIsDraggingLabel] = useState(false);
    const [dragStartPoint, setDragStartPoint] = useState(null);
    const [dragMoveListener, setDragMoveListener] = useState(null);
    const [dragEndListener, setDragEndListener] = useState(null);
    const [labelBeingDragged, setLabelBeingDragged] = useState(null);
    const isDraggingRef = useRef(false);
    const labelBeingDraggedRef = useRef(null);
    // Helper function to check if segments should be created
    const shouldCreateSegments = (geometry) => {
        // Segments must be explicitly enabled
        if (!segmentsOn)
            return false;
        // Only polylines and polygons support segments
        if (geometry.type !== 'polyline' && geometry.type !== 'polygon') {
            return false;
        }
        // For polylines: only create segments if there are multiple segments (more than 2 points)
        if (geometry.type === 'polyline') {
            const polyline = geometry;
            if (!polyline.paths || polyline.paths.length === 0)
                return false;
            // Check if any path has more than 2 points (meaning multiple segments)
            const hasMultipleSegments = polyline.paths.some(path => path.length > 2);
            return hasMultipleSegments;
        }
        // For polygons: check if it's a circle first (circles never get segments)
        if (geometry.type === 'polygon') {
            const polygon = geometry;
            // No rings means no segments
            if (!polygon.rings || polygon.rings.length === 0 || !polygon.rings[0]) {
                return false;
            }
            // Circles are represented as polygons with exactly 61 points - never add segments to circles
            const isCircle = polygon.rings[0].length === 61;
            if (isCircle) {
                return false;
            }
            // All other polygons can have segments when enabled
            return true;
        }
        // Default: no segments
        return false;
    };
    // More permissive helper function to identify measurement labels
    const isMeasurementLabel = (graphic) => {
        var _a, _b, _c, _d;
        if (!graphic)
            return false;
        // Primary check: explicit measurement label markers
        if (((_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) ||
            ((_b = graphic.attributes) === null || _b === void 0 ? void 0 : _b.hideFromList) ||
            ((_c = graphic.attributes) === null || _c === void 0 ? void 0 : _c.measurementType)) {
            return true;
        }
        // Check if it has a measureParent (indicates it's a segment label)
        if (graphic.measureParent) {
            return true;
        }
        // Enhanced pattern checking for restored labels
        if (((_d = graphic.symbol) === null || _d === void 0 ? void 0 : _d.type) === 'text') {
            const text = graphic.symbol.text;
            // More comprehensive measurement patterns
            const measurementPatterns = [
                /\d+(\.\d+)?\s*(km|mi|m|ft|yd|km²|mi²|ac|ha|m²|ft²|yd²)/,
                /Area:|Perimeter:|Radius:|Total:/,
                /Lat:|Lon:|X:|Y:/,
                /^[\d,]+(\.\d+)?\s*(km|mi|m|ft|yd)$/
            ];
            return measurementPatterns.some(pattern => pattern.test(text));
        }
        return false;
    };
    const identifyAndMarkRestoredMeasurementLabels = () => {
        if (!drawLayer || !isLayerBasicallyValid())
            return;
        const allGraphics = drawLayer.graphics.toArray();
        allGraphics.forEach(graphic => {
            var _a, _b, _c, _d, _e, _f;
            // Skip if already properly identified
            if ((_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel)
                return;
            // Check if this looks like a measurement label
            if (((_b = graphic.symbol) === null || _b === void 0 ? void 0 : _b.type) === 'text') {
                const text = graphic.symbol.text;
                const hasMeasurementPattern = /(\d+(\.\d+)?\s*(km|mi|m|ft|yd|km²|mi²|ac|ha|m²|ft²|yd²))|Area:|Perimeter:|Radius:|Total:|Lat:|Lon:|X:|Y:/.test(text);
                if (hasMeasurementPattern) {
                    // Mark as measurement label
                    if (!graphic.attributes)
                        graphic.attributes = {};
                    graphic.attributes.isMeasurementLabel = true;
                    graphic.attributes.hideFromList = true;
                    graphic.attributes.drawMode = 'text';
                    // Try to find parent graphic by proximity or attributes
                    const parentGraphic = findParentGraphicForLabel(graphic, allGraphics);
                    if (parentGraphic) {
                        graphic.attributes.parentGraphicId = (_c = parentGraphic.attributes) === null || _c === void 0 ? void 0 : _c.uniqueId;
                        graphic.measureParent = parentGraphic;
                        // Associate with parent
                        if (!parentGraphic.measure && !((_d = graphic.attributes.measurementType) === null || _d === void 0 ? void 0 : _d.includes('segment'))) {
                            parentGraphic.measure = {
                                graphic: graphic,
                                lengthUnit: ((_e = graphic.attributes) === null || _e === void 0 ? void 0 : _e.lengthUnit) || 'meters',
                                areaUnit: ((_f = graphic.attributes) === null || _f === void 0 ? void 0 : _f.areaUnit) || 'square-meters'
                            };
                        }
                    }
                    //console.log('Identified and marked restored measurement label:', text.substring(0, 30));
                }
            }
        });
    };
    const findParentGraphicForLabel = (labelGraphic, allGraphics) => {
        var _a;
        // First try to find by stored parentGraphicId
        if ((_a = labelGraphic.attributes) === null || _a === void 0 ? void 0 : _a.parentGraphicId) {
            const parentById = allGraphics.find(g => { var _a; return ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId) === labelGraphic.attributes.parentGraphicId; });
            if (parentById)
                return parentById;
        }
        // Fallback: find by proximity (closest non-text graphic)
        const labelPoint = labelGraphic.geometry;
        if (!labelPoint)
            return null;
        let closestGraphic = null;
        let closestDistance = Infinity;
        allGraphics.forEach(graphic => {
            var _a, _b;
            if (graphic === labelGraphic)
                return;
            if (((_a = graphic.symbol) === null || _a === void 0 ? void 0 : _a.type) === 'text')
                return;
            if (!graphic.geometry)
                return;
            const graphicCenter = ((_b = graphic.geometry.extent) === null || _b === void 0 ? void 0 : _b.center) || graphic.geometry;
            if (graphicCenter) {
                const distance = Math.sqrt(Math.pow(labelPoint.x - graphicCenter.x, 2) +
                    Math.pow(labelPoint.y - graphicCenter.y, 2));
                if (distance < closestDistance) {
                    closestDistance = distance;
                    closestGraphic = graphic;
                }
            }
        });
        return closestGraphic;
    };
    // More permissive helper function to identify actual user drawings
    const isActualDrawing = (graphic) => {
        var _a;
        if (!graphic || !graphic.geometry)
            return false;
        // Skip measurement labels first
        if (isMeasurementLabel(graphic))
            return false;
        // Must have supported geometry type
        const supportedTypes = ['polyline', 'polygon', 'point'];
        if (!supportedTypes.includes(graphic.geometry.type))
            return false;
        // LESS RESTRICTIVE: Accept graphics unless they're clearly temporary/system generated
        const name = ((_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.name) || '';
        // Only reject graphics with very specific patterns that indicate they're temporary
        const isSystemGenerated = name.includes('_temp_') ||
            name.includes('_system_') ||
            /^temp_\d+$/.test(name) ||
            /^system_\d+$/.test(name);
        // Accept all others, including empty names and short names
        return !isSystemGenerated;
    };
    // Helper to identify graphics that should have measurements
    const shouldHaveMeasurement = (graphic) => {
        if (!graphic || !measureEnabledRef.current)
            return false;
        return isActualDrawing(graphic) &&
            !isMeasurementLabel(graphic) &&
            !graphic.measure; // Doesn't already have a measurement
    };
    // Debounced update function
    const debouncedUpdateMeasurements = useRef(debounce((graphic) => {
        if (!isProcessingMeasurements && measureEnabledRef.current) {
            _addMeasurement(graphic, null, true);
        }
    }, 200));
    // Helper function to validate if the layer is in a good state for strict operations
    const isLayerValid = () => {
        // Basic existence check
        if (!drawLayer) {
            return false;
        }
        // Check if it's an object with required methods
        try {
            // More permissive - only check for essential methods
            return typeof drawLayer === 'object' &&
                typeof drawLayer.add === 'function' &&
                typeof drawLayer.remove === 'function' &&
                drawLayer.graphics !== undefined &&
                drawLayer.graphics !== null;
        }
        catch (err) {
            console.warn('Layer validation error:', err);
            return false;
        }
    };
    // Add a more permissive validation for basic operations
    const isLayerBasicallyValid = () => {
        return drawLayer &&
            typeof drawLayer === 'object' &&
            typeof drawLayer.add === 'function';
    };
    // Safe removal with multiple strategies
    const safeLayerRemove = (graphic) => {
        if (!drawLayer || !graphic)
            return false;
        try {
            // Strategy 1: Use remove method if available
            if (typeof drawLayer.remove === 'function') {
                drawLayer.remove(graphic);
                return true;
            }
            // Strategy 2: Use graphics.remove if available
            if (drawLayer.graphics && typeof drawLayer.graphics.remove === 'function') {
                drawLayer.graphics.remove(graphic);
                return true;
            }
            return false;
        }
        catch (error) {
            console.warn('Error removing graphic from layer:', error);
            return false;
        }
    };
    // Safe containment check with fallbacks
    const safeLayerContains = (graphic) => {
        if (!drawLayer || !graphic)
            return false;
        try {
            // Primary check: use graphics.includes if available
            if (drawLayer.graphics && typeof drawLayer.graphics.includes === 'function') {
                return drawLayer.graphics.includes(graphic);
            }
            // Fallback: use contains method if available
            if (typeof drawLayer.contains === 'function') {
                return drawLayer.contains(graphic);
            }
            // Another fallback: check graphics items array
            if (drawLayer.graphics && Array.isArray(drawLayer.graphics.items)) {
                return drawLayer.graphics.items.includes(graphic);
            }
            // Final fallback: iterate through graphics
            if (drawLayer.graphics && drawLayer.graphics.toArray) {
                const allGraphics = drawLayer.graphics.toArray();
                return allGraphics.includes(graphic);
            }
            return false;
        }
        catch (error) {
            console.warn('Error checking if layer contains graphic:', error);
            return false;
        }
    };
    // Helper function to get the correct coordinate arrays based on geometry type
    const getCoordinateArrays = (geometry) => {
        if (geometry.type === 'polyline') {
            const polyline = geometry;
            return polyline.paths || [];
        }
        else if (geometry.type === 'polygon') {
            const polygon = geometry;
            return polygon.rings || [];
        }
        return [];
    };
    // Generate unique ID for graphics to prevent duplicate processing
    const getGraphicId = (graphic) => {
        var _a, _b, _c;
        if ((_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId) {
            return graphic.attributes.uniqueId;
        }
        // Generate a simple ID based on geometry and timestamp
        const geomType = ((_b = graphic.geometry) === null || _b === void 0 ? void 0 : _b.type) || 'unknown';
        const coords = ((_c = graphic.geometry) === null || _c === void 0 ? void 0 : _c.extent) ?
            `${graphic.geometry.extent.xmin}_${graphic.geometry.extent.ymin}` :
            'nocoords';
        return `${geomType}_${coords}_${Date.now()}`;
    };
    // Drag functionality methods
    const setupLabelDragHandlers = (labelGraphic) => {
        var _a;
        if (!currentMapView || !labelGraphic || !editableMeasurements)
            return;
        // Create drag handle overlay (visual indicator that label can be moved)
        const dragHandleSymbol = new esri_symbols_SimpleMarkerSymbol__WEBPACK_IMPORTED_MODULE_15__["default"]({
            style: 'circle',
            size: 12,
            color: [0, 150, 255, 0.3], // Light blue
            outline: {
                color: [0, 150, 255, 0.8],
                width: 2,
                style: 'solid'
            }
        });
        // Remove existing drag handle if it exists
        if (labelGraphic._dragHandle) {
            try {
                drawLayer.remove(labelGraphic._dragHandle);
            }
            catch (e) { }
            labelGraphic._dragHandle = null;
        }
        const dragHandle = new esri_Graphic__WEBPACK_IMPORTED_MODULE_4__["default"]({
            geometry: labelGraphic.geometry,
            symbol: dragHandleSymbol,
            attributes: {
                isDragHandle: true,
                parentLabelId: ((_a = labelGraphic.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId) || 'unknown'
            }
        });
        try {
            drawLayer.add(dragHandle);
            labelGraphic._dragHandle = dragHandle;
            //console.log('Added drag handle for measurement label');
        }
        catch (error) {
            console.error('Error creating drag handle:', error);
        }
    };
    const removeLabelDragHandlers = (labelGraphic) => {
        if (labelGraphic === null || labelGraphic === void 0 ? void 0 : labelGraphic._dragHandle) {
            try {
                drawLayer.remove(labelGraphic._dragHandle);
            }
            catch (e) { }
            labelGraphic._dragHandle = null;
        }
    };
    let activeDragMoveListener = null;
    let activeDragEndListener = null;
    const startLabelDrag = (labelGraphic, screenPoint) => {
        if (!currentMapView || !labelGraphic) {
            //console.log('❌ Cannot start drag - missing mapView or graphic');
            return;
        }
        if (isDraggingRef.current) {
            //console.log('⚠️ Drag already in progress');
            return;
        }
        //console.log('🚀 Starting label drag for:', labelGraphic.attributes?.name);
        // Set drag refs immediately (synchronous)
        isDraggingRef.current = true;
        labelBeingDraggedRef.current = labelGraphic;
        // Also update state for UI
        setIsDraggingLabel(true);
        setLabelBeingDragged(labelGraphic);
        setDragStartPoint(screenPoint);
        // Disable basic navigation
        try {
            currentMapView.navigation.mouseWheelZoomEnabled = false;
            currentMapView.navigation.browserTouchPanEnabled = false;
            //console.log('✅ Disabled basic map navigation');
        }
        catch (error) {
            console.error('❌ Error disabling map navigation:', error);
        }
        // Set cursor
        try {
            const container = currentMapView.container;
            if (container) {
                container.style.cursor = 'move';
                //console.log('✅ Set cursor to move');
            }
        }
        catch (error) {
            console.error('❌ Error setting cursor:', error);
        }
        // Set up event listeners - CRITICAL: Store references immediately in module variables
        try {
            // Clean up any existing listeners first
            if (activeDragMoveListener) {
                activeDragMoveListener.remove();
                activeDragMoveListener = null;
            }
            if (activeDragEndListener) {
                activeDragEndListener.remove();
                activeDragEndListener = null;
            }
            activeDragMoveListener = currentMapView.on('pointer-move', (event) => {
                handleLabelDragMoveRef(event);
            });
            activeDragEndListener = currentMapView.on('pointer-up', (event) => {
                handleLabelDragEndRef(event);
            });
            //console.log('✅ Drag event listeners set up successfully');
        }
        catch (error) {
            console.error('❌ Error setting up drag listeners:', error);
            // Reset state if listener setup fails
            isDraggingRef.current = false;
            labelBeingDraggedRef.current = null;
            setIsDraggingLabel(false);
            setLabelBeingDragged(null);
        }
    };
    const handleLabelDragMoveRef = (event) => {
        //console.log('🎯 handleLabelDragMoveRef called');
        if (!isDraggingRef.current || !labelBeingDraggedRef.current || !currentMapView) {
            // console.log('❌ Drag move conditions not met:', {
            //   isDragging: isDraggingRef.current,
            //   hasLabel: !!labelBeingDraggedRef.current,
            //   hasMapView: !!currentMapView
            // });
            return;
        }
        //console.log('✅ Processing drag move - mouse at:', event.x, event.y);
        try {
            const mapPoint = currentMapView.toMap({ x: event.x, y: event.y });
            if (mapPoint && labelBeingDraggedRef.current) {
                //console.log('📍 Moving label to map coords:', mapPoint.x.toFixed(2), mapPoint.y.toFixed(2));
                labelBeingDraggedRef.current.geometry = mapPoint;
                if (labelBeingDraggedRef.current._dragHandle) {
                    labelBeingDraggedRef.current._dragHandle.geometry = mapPoint;
                }
                if (labelBeingDraggedRef.current._selectionOverlay) {
                    labelBeingDraggedRef.current._selectionOverlay.geometry = mapPoint;
                }
                // Mark as custom position
                if (!labelBeingDraggedRef.current.attributes) {
                    labelBeingDraggedRef.current.attributes = {};
                }
                labelBeingDraggedRef.current.attributes.hasCustomPosition = true;
                labelBeingDraggedRef.current.attributes.lastMoved = Date.now();
            }
        }
        catch (error) {
            console.error('❌ Error during label drag move:', error);
        }
    };
    // True only for measurement labels/overlays/handles
    const isMeasurementOnlyGraphic = (g) => { var _a, _b; return !!(((_a = g === null || g === void 0 ? void 0 : g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) || ((_b = g === null || g === void 0 ? void 0 : g.attributes) === null || _b === void 0 ? void 0 : _b.isDragHandle) || (g === null || g === void 0 ? void 0 : g._selectionOverlay) || (g === null || g === void 0 ? void 0 : g.measureParent)); };
    const handleLabelDragEndRef = (event) => {
        //console.log('🏁 handleLabelDragEndRef called');
        if (!isDraggingRef.current || !labelBeingDraggedRef.current) {
            //console.log('⚠️ No active drag to end');
            return;
        }
        //console.log('🎯 Processing drag end for:', labelBeingDraggedRef.current.attributes?.name);
        const draggedLabel = labelBeingDraggedRef.current;
        if (event && event.stopPropagation) {
            event.stopPropagation();
        }
        if (event && event.preventDefault) {
            event.preventDefault();
        }
        try {
            // Remove listeners
            if (activeDragMoveListener) {
                activeDragMoveListener.remove();
                activeDragMoveListener = null;
            }
            if (activeDragEndListener) {
                activeDragEndListener.remove();
                activeDragEndListener = null;
            }
            if (dragMoveListener) {
                dragMoveListener.remove();
                setDragMoveListener(null);
            }
            if (dragEndListener) {
                dragEndListener.remove();
                setDragEndListener(null);
            }
            // Re-enable navigation
            if (currentMapView) {
                currentMapView.navigation.mouseWheelZoomEnabled = true;
                currentMapView.navigation.browserTouchPanEnabled = true;
                const container = currentMapView.container;
                if (container) {
                    container.style.cursor = 'default';
                }
            }
            // Mark as customized
            if (draggedLabel.attributes && draggedLabel.geometry) {
                const labelPoint = draggedLabel.geometry;
                draggedLabel.attributes.customized = true;
                draggedLabel.attributes.lastModified = Date.now();
                draggedLabel.attributes.hasCustomPosition = true;
                draggedLabel.attributes.customPosition = {
                    x: labelPoint.x,
                    y: labelPoint.y,
                    spatialReference: labelPoint.spatialReference
                };
                draggedLabel.attributes.lastMoved = Date.now();
            }
            // ✨ NEW: Clean up ALL measurement overlays after drag completes
            setTimeout(() => {
                cleanupAllMeasurementOverlays();
            }, 100);
        }
        catch (error) {
            console.error('❌ Error ending label drag:', error);
        }
        finally {
            isDraggingRef.current = false;
            labelBeingDraggedRef.current = null;
            setIsDraggingLabel(false);
            setLabelBeingDragged(null);
            setDragStartPoint(null);
            setTimeout(() => {
                if (draggedLabel && editableMeasurementsRef.current) {
                    handleMeasurementLabelSelection(draggedLabel);
                }
            }, 250);
        }
    };
    const handleLabelDragMove = (event) => {
        //console.log('🎯 handleLabelDragMove called');
        if (!isDraggingLabel || !labelBeingDragged || !currentMapView) {
            // console.log('❌ Drag move conditions not met:', {
            //   isDragging: isDraggingLabel,
            //   hasLabel: !!labelBeingDragged,
            //   hasMapView: !!currentMapView
            // });
            return;
        }
        //console.log('📍 Processing drag move - mouse at:', event.x, event.y);
        try {
            // Convert screen coordinates to map coordinates
            const mapPoint = currentMapView.toMap({
                x: event.x,
                y: event.y
            });
            if (mapPoint && labelBeingDragged) {
                //console.log('✅ Moving label to map coords:', mapPoint.x.toFixed(2), mapPoint.y.toFixed(2));
                // Update label position
                labelBeingDragged.geometry = mapPoint;
                // Update overlay positions if they exist
                if (labelBeingDragged._dragHandle) {
                    labelBeingDragged._dragHandle.geometry = mapPoint;
                }
                if (labelBeingDragged._selectionOverlay) {
                    labelBeingDragged._selectionOverlay.geometry = mapPoint;
                }
                // Mark as having custom position
                if (!labelBeingDragged.attributes) {
                    labelBeingDragged.attributes = {};
                }
                labelBeingDragged.attributes.hasCustomPosition = true;
                labelBeingDragged.attributes.customPosition = {
                    x: mapPoint.x,
                    y: mapPoint.y,
                    spatialReference: mapPoint.spatialReference
                };
                labelBeingDragged.attributes.lastMoved = Date.now();
            }
        }
        catch (error) {
            console.error('❌ Error during label drag move:', error);
        }
    };
    const handleLabelDragEnd = (event) => {
        //console.log('🏁 handleLabelDragEnd called');
        if (!isDraggingLabel || !labelBeingDragged) {
            //console.log('⚠️ No active drag to end');
            return;
        }
        //console.log('🎯 Processing drag end for:', labelBeingDragged.attributes?.name);
        try {
            // Re-enable map navigation
            if (currentMapView) {
                currentMapView.navigation.mouseWheelZoomEnabled = true;
                currentMapView.navigation.browserTouchPanEnabled = true;
                const container = currentMapView.container;
                if (container) {
                    container.style.cursor = 'default';
                    //console.log('✅ Reset cursor to default');
                }
                //console.log('✅ Restored map navigation');
            }
            // Clean up event listeners
            if (dragMoveListener) {
                dragMoveListener.remove();
                setDragMoveListener(null);
                //console.log('✅ Removed move listener');
            }
            if (dragEndListener) {
                dragEndListener.remove();
                setDragEndListener(null);
                //console.log('✅ Removed end listener');
            }
            // Mark the label as customized
            if (labelBeingDragged.attributes) {
                labelBeingDragged.attributes.customized = true;
                labelBeingDragged.attributes.lastModified = Date.now();
            }
            //console.log('✅ Label moved to new position');
        }
        catch (error) {
            console.error('❌ Error ending label drag:', error);
        }
        finally {
            // Reset drag state
            setIsDraggingLabel(false);
            setLabelBeingDragged(null);
            setDragStartPoint(null);
            //console.log('🏁 Drag state reset complete');
        }
    };
    // Respect custom position when updating measurements
    const respectCustomPosition = (labelGraphic, defaultLabelPoint) => {
        var _a, _b;
        // If the label has a custom position, use it instead of the calculated position
        if (((_a = labelGraphic.attributes) === null || _a === void 0 ? void 0 : _a.hasCustomPosition) && ((_b = labelGraphic.attributes) === null || _b === void 0 ? void 0 : _b.customPosition)) {
            try {
                const customPos = labelGraphic.attributes.customPosition;
                const customPoint = new esri_geometry_Point__WEBPACK_IMPORTED_MODULE_5__["default"]({
                    x: customPos.x,
                    y: customPos.y,
                    spatialReference: customPos.spatialReference
                });
                //console.log('Using custom position for measurement label');
                return customPoint;
            }
            catch (error) {
                console.warn('Error loading custom position, falling back to default:', error);
                // Clear invalid custom position
                labelGraphic.attributes.hasCustomPosition = false;
                labelGraphic.attributes.customPosition = null;
            }
        }
        return defaultLabelPoint;
    };
    const cleanupAllMeasurementOverlays = () => {
        if (!drawLayer || !isLayerBasicallyValid())
            return;
        try {
            const allGraphics = drawLayer.graphics.toArray();
            // Find all measurement-related overlays and handles
            const measurementOverlays = allGraphics.filter(g => {
                var _a, _b, _c;
                return ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isSelectionOverlay) && ((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.isMeasurementOverlay) ||
                    ((_c = g.attributes) === null || _c === void 0 ? void 0 : _c.isDragHandle);
            });
            // Remove them
            measurementOverlays.forEach(overlay => {
                try {
                    drawLayer.remove(overlay);
                }
                catch (e) {
                    console.warn('Error removing measurement overlay:', e);
                }
            });
            // Also clear references on measurement labels
            allGraphics.forEach(g => {
                if (isMeasurementLabel(g)) {
                    if (g._selectionOverlay) {
                        g._selectionOverlay = null;
                    }
                    if (g._dragHandle) {
                        g._dragHandle = null;
                    }
                }
            });
            //console.log(`Cleaned up ${measurementOverlays.length} measurement overlays`);
        }
        catch (error) {
            console.error('Error in cleanupAllMeasurementOverlays:', error);
        }
    };
    const enhancedMeasurementLabelClickHandler = (event) => __awaiter(void 0, void 0, void 0, function* () {
        //console.log('Measurement click handler triggered');
        // Check tool state first
        if (currentTool && currentTool !== '' && currentTool !== 'text') {
            //console.log('Drawing tool active - bypassing measurement handler:', currentTool);
            return;
        }
        const isEditingEnabled = editableMeasurementsRef.current;
        //console.log('Editing enabled:', isEditingEnabled);
        if (!isEditingEnabled || !currentMapView) {
            //console.log('Editing disabled or no map view');
            return;
        }
        try {
            //console.log('Performing hit test for measurement labels...');
            // Use a more defensive hit test that doesn't rely on layer view
            const hitTestResult = yield currentMapView.hitTest(event, {
            // Don't specify include/exclude to avoid layer view issues
            });
            //console.log('Hit test results:', hitTestResult.results.length);
            // Filter results to find measurement labels
            const measurementResults = hitTestResult.results.filter(result => {
                var _a;
                if (!result || !('graphic' in result) || !result.graphic)
                    return false;
                const graphic = result.graphic;
                // More defensive measurement label identification
                if (!graphic.symbol || graphic.symbol.type !== 'text')
                    return false;
                // Check for measurement patterns without relying on layer membership
                const text = graphic.symbol.text || '';
                const hasMeasurementPattern = /(\d+(\.\d+)?\s*(km|mi|m|ft|yd|km²|mi²|ac|ha|m²|ft²|yd²))|Area:|Perimeter:|Radius:|Total:|Lat:|Lon:|X:|Y:/.test(text);
                return hasMeasurementPattern || ((_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel);
            });
            //console.log('Found measurement results:', measurementResults.length);
            if (measurementResults.length > 0) {
                //console.log('Processing measurement label click');
                const result = measurementResults[0];
                const clickedGraphic = result.graphic;
                handleMeasurementLabelSelection(clickedGraphic);
            }
            else {
                //console.log('No measurement labels found - clearing selection');
                cleanupMeasurementLabelSelection();
            }
        }
        catch (error) {
            console.error('Error in measurement label click handler:', error);
        }
    });
    // Automatically select measurement label for the currently selected graphic
    const autoSelectCurrentGraphicMeasurementLabel = () => {
        var _a, _b;
        // Try to get currently selected graphic from various sources
        let selectedGraphic = null;
        // Method 1: From sketchViewModel updateGraphics
        if (((_a = sketchViewModel === null || sketchViewModel === void 0 ? void 0 : sketchViewModel.updateGraphics) === null || _a === void 0 ? void 0 : _a.length) > 0) {
            selectedGraphic = sketchViewModel.updateGraphics.getItemAt(0);
        }
        // Method 2: From currentGraphic state
        if (!selectedGraphic && currentGraphic) {
            selectedGraphic = currentGraphic;
        }
        // Method 3: Try to find a recently selected graphic in the layer
        if (!selectedGraphic && drawLayer) {
            // Look for graphics that might be selected (this is implementation-specific)
            const allGraphics = drawLayer.graphics.toArray();
            const drawingGraphics = allGraphics.filter(g => isActualDrawing(g) && !isMeasurementLabel(g));
            // If there's only one drawing, select it
            if (drawingGraphics.length === 1) {
                selectedGraphic = drawingGraphics[0];
            }
        }
        if (selectedGraphic && ((_b = selectedGraphic.measure) === null || _b === void 0 ? void 0 : _b.graphic)) {
            //console.log('Auto-selecting measurement label for current graphic');
            handleMeasurementLabelSelection(selectedGraphic.measure.graphic);
        }
        else if (selectedGraphic) {
            //console.log('Selected graphic found but no measurement label available');
        }
        else {
            //console.log('No graphic currently selected for measurement label editing');
        }
    };
    const toggleMeasurementEditing = (e) => {
        var _a;
        const newEditingState = e;
        //console.log('Toggling measurement editing from', editableMeasurements, 'to', newEditingState);
        if (!drawLayer) {
            console.error('DrawLayer is null - cannot set up measurement editing');
            return;
        }
        // When DISABLING measurement editing - cleanup FIRST before state changes
        if (!newEditingState) {
            // STEP 1: Clean up all measurement overlays and selections
            cleanupMeasurementLabelSelection();
            // STEP 2: Re-enable SketchViewModel
            if (sketchViewModel && sketchViewModel.view) {
                try {
                    sketchViewModel.updateOnGraphicClick = true;
                    //console.log('Re-enabled SketchViewModel after measurement editing');
                }
                catch (error) {
                    console.warn('Error re-enabling SketchViewModel:', error);
                }
            }
            // STEP 3: Force cursor reset
            let mapView = currentMapView;
            if (!mapView && (sketchViewModel === null || sketchViewModel === void 0 ? void 0 : sketchViewModel.view)) {
                mapView = sketchViewModel.view;
            }
            if (!mapView && ((_a = props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view)) {
                mapView = props.jimuMapView.view;
            }
            if (mapView === null || mapView === void 0 ? void 0 : mapView.container) {
                mapView.container.style.cursor = 'default';
                //console.log('Force reset cursor on disable');
            }
            // STEP 4: Reset drag refs if they exist
            if (isDraggingRef) {
                isDraggingRef.current = false;
            }
            if (labelBeingDraggedRef) {
                labelBeingDraggedRef.current = null;
            }
            // STEP 5: Clean up any remaining event listeners
            if (dragMoveListener) {
                dragMoveListener.remove();
                setDragMoveListener(null);
            }
            if (dragEndListener) {
                dragEndListener.remove();
                setDragEndListener(null);
            }
        }
        // When ENABLING measurement editing
        if (newEditingState && sketchViewModel && sketchViewModel.view) {
            try {
                // Cancel any active operations first
                if (sketchViewModel.state === 'active' && sketchViewModel.activeTool) {
                    sketchViewModel.cancel();
                    //console.log('Cancelled active SketchViewModel operations for measurement editing');
                }
                // CRITICAL: Disable SketchViewModel completely during measurement editing
                sketchViewModel.updateOnGraphicClick = false;
                //console.log('Disabled SketchViewModel for measurement editing');
            }
            catch (error) {
                console.warn('Error disabling SketchViewModel:', error);
            }
        }
        // Update state - the useEffect will handle the actual setup/cleanup
        setEditableMeasurements(newEditingState);
    };
    // Set up click listener for measurement labels
    const setupEnhancedMeasurementLabelClickListener = () => {
        if (!currentMapView) {
            console.error('Cannot setup click listener - currentMapView is null');
            return;
        }
        if (!sketchViewModel || !sketchViewModel.view) {
            console.error('Cannot setup click listener - SketchViewModel not ready');
            return;
        }
        // CRITICAL FIX: Don't try to access layer view at all during setup
        // This prevents the LayerLayerViewInfo error
        //console.log('Setting up measurement label click listener WITHOUT layer view access');
        // Remove existing listener first
        removeMeasurementLabelClickListener();
        // Set up the click listener without any layer view operations
        try {
            const clickListener = currentMapView.on('immediate-click', enhancedMeasurementLabelClickHandler);
            setMeasurementClickListener(clickListener);
            //console.log('Measurement click listener set up successfully');
        }
        catch (error) {
            console.error('Error setting up click listener:', error);
        }
    };
    // Remove measurement label click listener
    const removeMeasurementLabelClickListener = () => {
        if (measurementClickListener) {
            measurementClickListener.remove();
            setMeasurementClickListener(null);
        }
    };
    const handleMeasurementLabelSelection = (labelGraphic) => {
        var _a, _b;
        if (!editableMeasurements)
            return;
        try {
            // More permissive check for text symbols - handle restored labels
            const isTextSymbol = ((_a = labelGraphic.symbol) === null || _a === void 0 ? void 0 : _a.type) === 'text';
            if (!isTextSymbol) {
                //console.log('Selected graphic is not a text symbol');
                return;
            }
            // Cast to TextSymbol since we've verified the type
            const textSymbol = labelGraphic.symbol;
            // If not already marked as measurement label, check if it looks like one
            if (!((_b = labelGraphic.attributes) === null || _b === void 0 ? void 0 : _b.isMeasurementLabel)) {
                const text = textSymbol.text || '';
                const hasMeasurementPattern = /(\d+(\.\d+)?\s*(km|mi|m|ft|yd|km²|mi²|ac|ha|m²|ft²|yd²))|Area:|Perimeter:|Radius:|Total:|Lat:|Lon:|X:|Y:/.test(text);
                if (!hasMeasurementPattern) {
                    //console.log('Selected text graphic does not appear to be a measurement label:', text.substring(0, 30));
                    return;
                }
                // Mark it now for future reference - this handles restored labels
                if (!labelGraphic.attributes)
                    labelGraphic.attributes = {};
                labelGraphic.attributes.isMeasurementLabel = true;
                labelGraphic.attributes.hideFromList = true;
                labelGraphic.attributes.drawMode = 'text';
                // Try to identify measurement type from content
                if (text.includes('Area:') || text.includes('Perimeter:') || text.includes('Radius:')) {
                    labelGraphic.attributes.measurementType = 'main';
                }
                else if (text.includes('Total:')) {
                    labelGraphic.attributes.measurementType = 'main';
                }
                else if (text.includes('Lat:') || text.includes('Lon:') || text.includes('X:') || text.includes('Y:')) {
                    labelGraphic.attributes.measurementType = 'coordinate';
                }
                else if (/^\d+(\.\d+)?\s*(km|mi|m|ft|yd)$/.test(text.trim())) {
                    labelGraphic.attributes.measurementType = 'segment';
                }
                else {
                    labelGraphic.attributes.measurementType = 'main';
                }
                // console.log('Identified and marked restored measurement label:', {
                //   text: text.substring(0, 30),
                //   type: labelGraphic.attributes.measurementType
                // });
            }
            // Clear previous selection
            cleanupMeasurementLabelSelection();
            // Set new selection
            setSelectedMeasurementLabel(labelGraphic);
            // Initialize text symbol from selected label - use the cast symbol
            const currentSymbol = textSymbol;
            setMeasurementTextSymbol(currentSymbol.clone());
            // console.log('🔍 Reading symbol properties for UI sync:', {
            //   color: currentSymbol.color,
            //   fontSize: currentSymbol.font.size,
            //   fontWeight: currentSymbol.font.weight,
            //   fontStyle: currentSymbol.font.style,
            //   fontDecoration: currentSymbol.font.decoration,
            //   angle: currentSymbol.angle,
            //   haloSize: currentSymbol.haloSize,
            //   haloColor: currentSymbol.haloColor
            // });
            // ENHANCED: More thorough state synchronization from actual symbol
            setMeasurementFontColor(convertSymbolColorToColorPickerValue(currentSymbol.color));
            setMeasurementFontSize(currentSymbol.font.size || 14);
            setMeasurementFontRotation(currentSymbol.angle || 0);
            // FIXED: Proper halo state detection
            const hasHalo = !!(currentSymbol.haloSize && currentSymbol.haloSize > 0);
            setMeasurementHaloEnabled(hasHalo);
            if (currentSymbol.haloColor) {
                setMeasurementHaloColor(convertSymbolColorToColorPickerValue(currentSymbol.haloColor));
            }
            else {
                setMeasurementHaloColor('rgba(255,255,255,1)'); // Default white halo
            }
            setMeasurementHaloSize(currentSymbol.haloSize || 2);
            // console.log('✅ UI state synchronized:', {
            //   fontColor: convertSymbolColorToColorPickerValue(currentSymbol.color),
            //   fontSize: currentSymbol.font.size || 14,
            //   fontRotation: currentSymbol.angle || 0,
            //   haloEnabled: hasHalo,
            //   haloColor: currentSymbol.haloColor ? convertSymbolColorToColorPickerValue(currentSymbol.haloColor) : 'rgba(255,255,255,1)',
            //   haloSize: currentSymbol.haloSize || 2
            // });
            // Create selection overlay
            createMeasurementLabelOverlay(labelGraphic);
            // Set up drag handlers
            setupLabelDragHandlers(labelGraphic);
            //console.log('Selected measurement label for editing and movement');
        }
        catch (error) {
            console.error('Error selecting measurement label:', error);
        }
    };
    // Create selection overlay for measurement label
    const createMeasurementLabelOverlay = (labelGraphic) => {
        var _a;
        if (!drawLayer || !labelGraphic.geometry)
            return;
        // Remove existing overlay
        if (labelGraphic._selectionOverlay) {
            try {
                drawLayer.remove(labelGraphic._selectionOverlay);
            }
            catch (e) { }
            labelGraphic._selectionOverlay = null;
        }
        const overlaySymbol = new esri_symbols_SimpleMarkerSymbol__WEBPACK_IMPORTED_MODULE_15__["default"]({
            style: 'diamond',
            size: 24,
            color: [255, 165, 0, 0.2], // Orange overlay for measurement labels
            outline: {
                color: [255, 165, 0, 0.8],
                width: 2,
                style: 'dash'
            }
        });
        const overlay = new esri_Graphic__WEBPACK_IMPORTED_MODULE_4__["default"]({
            geometry: labelGraphic.geometry,
            symbol: overlaySymbol,
            attributes: {
                isSelectionOverlay: true,
                isMeasurementOverlay: true,
                parentGraphicId: ((_a = labelGraphic.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId) || 'measurement_overlay'
            }
        });
        try {
            drawLayer.add(overlay);
            labelGraphic._selectionOverlay = overlay;
        }
        catch (error) {
            console.error('Error creating measurement label overlay:', error);
        }
    };
    const cleanupMeasurementLabelSelection = () => {
        if (selectedMeasurementLabel) {
            // Remove selection overlay
            if (selectedMeasurementLabel._selectionOverlay) {
                try {
                    drawLayer.remove(selectedMeasurementLabel._selectionOverlay);
                }
                catch (err) {
                    console.warn('Error removing overlay:', err);
                }
                selectedMeasurementLabel._selectionOverlay = null;
            }
            // Remove drag handlers
            removeLabelDragHandlers(selectedMeasurementLabel);
            // Clear React state
            setSelectedMeasurementLabel(null);
            setMeasurementTextSymbol(null);
        }
        // Clean up any ongoing drag operation
        if (isDraggingLabel) {
            handleLabelDragEnd(null);
        }
        // **ADD THIS**: Force cleanup of ALL measurement overlays when disabling
        if (drawLayer && isLayerBasicallyValid()) {
            try {
                const allGraphics = drawLayer.graphics.toArray();
                const measurementOverlays = allGraphics.filter(g => { var _a, _b; return ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isSelectionOverlay) && ((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.isMeasurementOverlay); });
                measurementOverlays.forEach(overlay => {
                    try {
                        drawLayer.remove(overlay);
                    }
                    catch (e) {
                        console.warn('Error removing orphaned overlay:', e);
                    }
                });
                // Also clear any _selectionOverlay references on measurement labels
                allGraphics.forEach(g => {
                    if (isMeasurementLabel(g) && g._selectionOverlay) {
                        g._selectionOverlay = null;
                    }
                });
                //console.log(`Cleaned up ${measurementOverlays.length} measurement overlays`);
            }
            catch (error) {
                console.error('Error in comprehensive overlay cleanup:', error);
            }
        }
    };
    // Apply text changes to selected measurement label
    const applyMeasurementTextChanges = () => {
        applyMeasurementTextChangesWithSymbol(measurementTextSymbol);
    };
    // Reset measurement label to default
    const resetMeasurementLabelToDefault = () => {
        var _a;
        if (!selectedMeasurementLabel)
            return;
        try {
            // Find parent graphic and regenerate measurement
            const parentGraphicId = (_a = selectedMeasurementLabel.attributes) === null || _a === void 0 ? void 0 : _a.parentGraphicId;
            if (parentGraphicId && drawLayer) {
                const parentGraphic = drawLayer.graphics.find((g) => { var _a; return ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId) === parentGraphicId; });
                if (parentGraphic) {
                    // Force regenerate the measurement
                    _addMeasurement(parentGraphic, null, true);
                    cleanupMeasurementLabelSelection();
                }
            }
        }
        catch (error) {
            console.error('Error resetting measurement label:', error);
        }
    };
    // Reset label position to default calculated position
    const resetLabelPosition = () => {
        var _a, _b;
        if (!selectedMeasurementLabel || !selectedMeasurementLabel.measureParent)
            return;
        try {
            // Clear custom position flags
            selectedMeasurementLabel.attributes.hasCustomPosition = false;
            selectedMeasurementLabel.attributes.customPosition = null;
            const parentGraphic = selectedMeasurementLabel.measureParent;
            let defaultLabelPoint;
            // FIXED: Check if this is a segment label
            const isSegmentLabel = ((_a = selectedMeasurementLabel.attributes) === null || _a === void 0 ? void 0 : _a.measurementType) === 'segment';
            if (isSegmentLabel) {
                // For segment labels, we need to find the specific segment's midpoint
                // This requires storing segment info when the label was created
                const segmentInfo = (_b = selectedMeasurementLabel.attributes) === null || _b === void 0 ? void 0 : _b.segmentInfo;
                if (segmentInfo && segmentInfo.point1 && segmentInfo.point2) {
                    // Calculate midpoint of the specific segment
                    defaultLabelPoint = _getSegmentMidpoint(segmentInfo.point1, segmentInfo.point2, parentGraphic.geometry);
                }
                else {
                    // Fallback if segment info not available
                    defaultLabelPoint = _getLabelPoint(parentGraphic.geometry);
                }
            }
            else {
                // For main labels, use the standard label point calculation
                defaultLabelPoint = _getLabelPoint(parentGraphic.geometry);
            }
            if (defaultLabelPoint) {
                // Move label back to default position
                selectedMeasurementLabel.geometry = defaultLabelPoint;
                // Update drag handle position if it exists
                if (selectedMeasurementLabel._dragHandle) {
                    selectedMeasurementLabel._dragHandle.geometry = defaultLabelPoint;
                }
                // Update selection overlay position if it exists
                if (selectedMeasurementLabel._selectionOverlay) {
                    selectedMeasurementLabel._selectionOverlay.geometry = defaultLabelPoint;
                }
                //console.log('Reset measurement label to default position');
            }
        }
        catch (error) {
            console.error('Error resetting label position:', error);
        }
    };
    // Helper function to convert symbol color to color picker value
    const convertSymbolColorToColorPickerValue = (color) => {
        if (color && color.toRgba) {
            const rgbaClr = color.toRgba();
            return `rgba(${rgbaClr[0]},${rgbaClr[1]},${rgbaClr[2]},${rgbaClr[3]})`;
        }
        return 'rgba(0,0,0,1)';
    };
    const updateMeasurementHalo = (enabled, color, size) => {
        //console.log('Updating halo - enabled:', enabled, 'color:', color, 'size:', size);
        if (!measurementTextSymbol || !selectedMeasurementLabel) {
            //console.log('Missing required objects for halo update');
            return;
        }
        // Calculate the actual values to use (prioritize parameters over current state)
        const actualEnabled = enabled;
        const actualColor = color !== undefined ? color : measurementHaloColor;
        const actualSize = size !== undefined ? size : measurementHaloSize;
        // Update state variables for UI consistency
        setMeasurementHaloEnabled(actualEnabled);
        if (color !== undefined)
            setMeasurementHaloColor(color);
        if (size !== undefined)
            setMeasurementHaloSize(size);
        // Create updated symbol immediately and synchronously using actual values
        const updatedSymbol = measurementTextSymbol.clone();
        // Apply halo changes to the cloned symbol using actual values (not state)
        if (actualEnabled) {
            updatedSymbol.haloColor = new esri_Color__WEBPACK_IMPORTED_MODULE_13__["default"](actualColor);
            updatedSymbol.haloSize = actualSize;
        }
        else {
            updatedSymbol.haloColor = null;
            updatedSymbol.haloSize = null;
        }
        // Update the measurement text symbol state
        setMeasurementTextSymbol(updatedSymbol);
        // Apply changes immediately using the updated symbol
        applyMeasurementTextChangesWithSymbol(updatedSymbol);
    };
    const updateMeasurementFontColor = (colorValue) => {
        //console.log('Updating font color to:', colorValue);
        if (!measurementTextSymbol || !selectedMeasurementLabel) {
            //console.log('Missing required objects for color update');
            return;
        }
        // Update state for UI consistency
        setMeasurementFontColor(colorValue);
        // Create updated symbol immediately using the new color value
        const updatedSymbol = measurementTextSymbol.clone();
        updatedSymbol.color = new esri_Color__WEBPACK_IMPORTED_MODULE_13__["default"](colorValue);
        // Update symbol state
        setMeasurementTextSymbol(updatedSymbol);
        // Apply changes immediately using the updated symbol
        applyMeasurementTextChangesWithSymbol(updatedSymbol);
    };
    const updateMeasurementFontSize = (size) => {
        //console.log('Updating font size to:', size);
        if (!measurementTextSymbol || !selectedMeasurementLabel) {
            //console.log('Missing required objects for size update');
            return;
        }
        // Update state for UI consistency
        setMeasurementFontSize(size);
        // Create updated symbol immediately using the new size value
        const updatedSymbol = measurementTextSymbol.clone();
        updatedSymbol.font = updatedSymbol.font.clone();
        updatedSymbol.font.size = size; // Use parameter value directly
        // Update symbol state
        setMeasurementTextSymbol(updatedSymbol);
        // Apply changes immediately using the updated symbol
        applyMeasurementTextChangesWithSymbol(updatedSymbol);
    };
    const updateMeasurementFontRotation = (rotation) => {
        //console.log('Updating font rotation to:', rotation);
        if (!measurementTextSymbol || !selectedMeasurementLabel) {
            //console.log('Missing required objects for rotation update');
            return;
        }
        // Update state for UI consistency
        setMeasurementFontRotation(rotation);
        // Create updated symbol immediately using the new rotation value
        const updatedSymbol = measurementTextSymbol.clone();
        updatedSymbol.angle = rotation; // Use parameter value directly
        // Update symbol state
        setMeasurementTextSymbol(updatedSymbol);
        // Apply changes immediately using the updated symbol
        applyMeasurementTextChangesWithSymbol(updatedSymbol);
    };
    const _calculateAngle = (x1, y1, x2, y2) => {
        const dx = x2 - x1;
        const dy = y2 - y1;
        const angleRad = Math.atan2(dy, dx);
        let angleDeg = angleRad * -180 / Math.PI;
        if (angleDeg > 90 || angleDeg < -90) {
            angleDeg = (angleDeg + 180) % 360;
        }
        return angleDeg;
    };
    // Calculate the overall angle/direction of a polyline for main label rotation
    const _calculatePolylineAngle = (geometry) => {
        if (!geometry || !geometry.paths || geometry.paths.length === 0) {
            return null;
        }
        const path = geometry.paths[0]; // Use the first path
        if (!path || path.length < 2) {
            return null;
        }
        // For simple polylines, use the angle of the longest segment
        let longestSegmentLength = 0;
        let longestSegmentAngle = null;
        for (let i = 1; i < path.length; i++) {
            const point1 = path[i - 1];
            const point2 = path[i];
            // Calculate segment length
            const dx = point2[0] - point1[0];
            const dy = point2[1] - point1[1];
            const segmentLength = Math.sqrt(dx * dx + dy * dy);
            // If this is the longest segment so far, use its angle
            if (segmentLength > longestSegmentLength) {
                longestSegmentLength = segmentLength;
                longestSegmentAngle = _calculateAngle(point1[0], point1[1], point2[0], point2[1]);
            }
        }
        return longestSegmentAngle;
    };
    //finds where to place a label
    const _getLabelPoint = (geometry) => {
        var _a;
        if (!geometry)
            return null;
        // If already a point, return it directly
        if (geometry.type === 'point') {
            return new esri_geometry_Point__WEBPACK_IMPORTED_MODULE_5__["default"]({
                x: geometry.x,
                y: geometry.y,
                spatialReference: geometry.spatialReference
            });
        }
        // If the geometry supports centroid (e.g. Polygon), use it
        if ('centroid' in geometry && geometry.centroid) {
            return geometry.centroid;
        }
        // Fallback to extent center if available
        if ((_a = geometry.extent) === null || _a === void 0 ? void 0 : _a.center) {
            return geometry.extent.center;
        }
        console.warn('Unable to determine label point for geometry type:', geometry.type);
        return null;
    };
    // Helper function to get segment midpoint
    const _getSegmentMidpoint = (point1, point2, geometry) => {
        try {
            const midX = (point1[0] + point2[0]) / 2;
            const midY = (point1[1] + point2[1]) / 2;
            return new esri_geometry_Point__WEBPACK_IMPORTED_MODULE_5__["default"]({
                x: midX,
                y: midY,
                spatialReference: geometry.spatialReference
            });
        }
        catch (error) {
            console.error('Error calculating segment midpoint:', error);
            return null;
        }
    };
    // Helper function to force map refresh
    const forceMapRefresh = () => {
        if (!currentMapView)
            return;
        try {
            // Method 1: Use redraw method if available
            if (typeof currentMapView.redraw === 'function') {
                currentMapView.redraw();
            }
            // Method 2: Toggle layer visibility briefly
            if (drawLayer && drawLayer.visible !== undefined) {
                const wasVisible = drawLayer.visible;
                drawLayer.visible = false;
                requestAnimationFrame(() => {
                    if (drawLayer) {
                        drawLayer.visible = wasVisible;
                    }
                });
            }
            // Method 3: Force layer refresh if available
            if (drawLayer && typeof drawLayer.refresh === 'function') {
                drawLayer.refresh();
            }
        }
        catch (error) {
            console.warn('Error forcing map refresh:', error);
        }
    };
    // Function to ensure label visibility
    const ensureLabelVisibility = (labelGraphic) => {
        if (!labelGraphic || !drawLayer)
            return;
        try {
            // Force the label to be visible
            labelGraphic.visible = true;
            // Reorder the label to ensure it's on top
            if (drawLayer.graphics.includes(labelGraphic)) {
                drawLayer.remove(labelGraphic);
                drawLayer.add(labelGraphic);
            }
            // Force a refresh after a brief delay
            setTimeout(() => {
                forceMapRefresh();
            }, 100);
        }
        catch (error) {
            console.warn('Error ensuring label visibility:', error);
        }
    };
    // Minimal throttling only for complete events
    const throttledCompleteUpdate = (graphic) => {
        if (!graphic || !graphic.geometry || isMeasurementLabel(graphic))
            return;
        const graphicId = getGraphicId(graphic);
        // Clear any existing timeout for this graphic
        const existingTimeout = completeTimeouts.get(graphicId);
        if (existingTimeout) {
            clearTimeout(existingTimeout);
        }
        // Schedule update with minimal delay for complete events only
        const timeoutId = setTimeout(() => {
            _addMeasurement(graphic, null, true); // Force update
            setCompleteTimeouts(prev => {
                const newMap = new Map(prev);
                newMap.delete(graphicId);
                return newMap;
            });
        }, COMPLETE_THROTTLE_DELAY);
        setCompleteTimeouts(prev => new Map(prev).set(graphicId, timeoutId));
    };
    // Simple cleanup for complete timeouts only
    const cleanupCompleteThrottling = (graphic) => {
        if (!graphic)
            return;
        const graphicId = getGraphicId(graphic);
        // Clear timeout
        const existingTimeout = completeTimeouts.get(graphicId);
        if (existingTimeout) {
            clearTimeout(existingTimeout);
            setCompleteTimeouts(prev => {
                const newMap = new Map(prev);
                newMap.delete(graphicId);
                return newMap;
            });
        }
    };
    // Gate: only allow generation when toggle is ON and this is not a label itself
    const shouldGenerateMeasurements = (g) => !!measureEnabledRef.current && (!g || !isMeasurementLabel(g));
    // Best-effort cancel of queued work so nothing runs after we turn OFF
    const cancelPendingMeasurementWork = () => {
        var _a, _b;
        try {
            (_b = (_a = processingQueue.current) === null || _a === void 0 ? void 0 : _a.clear) === null || _b === void 0 ? void 0 : _b.call(_a);
        }
        catch (_c) { }
        try {
            // If your debounced fn exposes cancel() (lodash.debounce), call it:
            debouncedUpdateMeasurements.current = debounce((g) => {
                if (!shouldGenerateMeasurements(g))
                    return;
                _addMeasurement(g, null, false);
            }, 120);
        }
        catch (_d) { }
    };
    //calculate measurements and return a text value
    const _getMeasureText = (geometry, parentGraphic, customDistanceUnit = null, customAreaUnit = null, graphic = null) => {
        if (!geometry)
            return '';
        try {
            const currentDistanceUnit = customDistanceUnit || distanceUnit.unit;
            const currentAreaUnit = customAreaUnit || areaUnit.unit;
            switch (geometry.type) {
                case 'polyline': {
                    const length = _calculatePolylineLength(geometry);
                    const lengthUnitInfo = availableDistanceUnits.find(u => u.unit === currentDistanceUnit);
                    const lengthUnitLabel = lengthUnitInfo ? lengthUnitInfo.abbreviation : currentDistanceUnit;
                    let polylinePattern = lengthOn ? props.config.measurePolylineLabel || '{{length}} {{lengthUnit}}' : '';
                    if (shouldCreateSegments(geometry)) {
                        polylinePattern = 'Total: ' + polylinePattern;
                    }
                    if (parentGraphic) {
                        polylinePattern = props.config.measurePolylineLabel || '{{length}} {{lengthUnit}}';
                    }
                    return polylinePattern
                        .replace(/{{length}}/g, _round(length, otherRound).toLocaleString())
                        .replace(/{{lengthUnit}}/g, lengthUnitLabel);
                }
                case 'polygon': {
                    const area = _calculatePolygonArea(geometry);
                    const perimeter = _calculatePolygonPerimeter(geometry);
                    const areaUnitInfo = areaUnits.find(u => u.unit === currentAreaUnit);
                    const areaUnitLabel = areaUnitInfo ? areaUnitInfo.abbreviation : currentAreaUnit;
                    const perimeterUnitInfo = availableDistanceUnits.find(u => u.unit === currentDistanceUnit);
                    const perimeterUnitLabel = perimeterUnitInfo ? perimeterUnitInfo.abbreviation : currentDistanceUnit;
                    let defaultPattern = '';
                    if (areaOn && perimeterOn) {
                        defaultPattern = 'Area: {{area}} {{areaUnit}}\nPerimeter: {{length}} {{lengthUnit}}';
                    }
                    else if (areaOn) {
                        defaultPattern = 'Area: {{area}} {{areaUnit}}';
                    }
                    else if (perimeterOn) {
                        defaultPattern = 'Perimeter: {{length}} {{lengthUnit}}';
                    }
                    const polygonPattern = props.config.measurePolygonLabel || defaultPattern;
                    let result = polygonPattern
                        .replace(/{{area}}/g, _round(area, otherRound).toLocaleString())
                        .replace(/{{areaUnit}}/g, areaUnitLabel)
                        .replace(/{{length}}/g, _round(perimeter, otherRound).toLocaleString())
                        .replace(/{{lengthUnit}}/g, perimeterUnitLabel);
                    if (geometry.rings[0].length === 61 && radiusOn) {
                        const radius = Math.abs(perimeter / (2 * Math.PI)); // Ensure positive radius
                        result += `\nRadius: ${_round(radius, otherRound).toLocaleString()} ${perimeterUnitInfo.abbreviation}`;
                    }
                    return result;
                }
                default:
                    console.warn(`Unsupported geometry type for measurement: ${geometry.type}`);
                    return '';
            }
        }
        catch (error) {
            console.error('Error calculating measurement:', error);
            return 'Error calculating measurement';
        }
    };
    //find length of line
    const _calculatePolylineLength = (polyline) => {
        let totalLength = 0;
        try {
            if (polyline.spatialReference.isWGS84 || polyline.spatialReference.isWebMercator) {
                totalLength = esri_geometry_operators_geodeticLengthOperator__WEBPACK_IMPORTED_MODULE_10__["default"].execute(polyline, { unit: 'meters' });
            }
            else {
                totalLength = esri_geometry_operators_lengthOperator__WEBPACK_IMPORTED_MODULE_12__["default"].execute(polyline, { unit: 'meters' });
            }
            return _convertLength(Math.abs(totalLength), distanceUnit); // Ensure positive length
        }
        catch (error) {
            console.error('Error calculating polyline length:', error);
            return 0;
        }
    };
    //find perimeter
    const _calculatePolygonPerimeter = (polygon) => {
        let perimeter = 0;
        try {
            // Use proper typing for polygon
            const polygonGeometry = polygon;
            const rings = polygonGeometry.rings || [];
            for (let i = 0; i < rings.length; i++) {
                const pointArray = rings[i];
                for (let j = 1; j < pointArray.length; j++) {
                    const tempGraphic = makeTempLineGraphic(pointArray[j - 1], pointArray[j], polygon);
                    let segmentLength = 0;
                    if (polygon.spatialReference.isWGS84 || polygon.spatialReference.isWebMercator) {
                        segmentLength = esri_geometry_operators_geodeticLengthOperator__WEBPACK_IMPORTED_MODULE_10__["default"].execute(tempGraphic.geometry, { unit: 'meters' });
                    }
                    else {
                        segmentLength = esri_geometry_operators_lengthOperator__WEBPACK_IMPORTED_MODULE_12__["default"].execute(tempGraphic.geometry, { unit: 'meters' });
                    }
                    perimeter += Math.abs(segmentLength); // Ensure positive segment length
                }
            }
            return _convertLength(perimeter, distanceUnit);
        }
        catch (error) {
            console.error('Error calculating polygon perimeter:', error);
            return 0;
        }
    };
    //find area
    const _calculatePolygonArea = (polygon) => {
        let area = 0;
        try {
            if (polygon.spatialReference.isWGS84 || polygon.spatialReference.isWebMercator) {
                area = esri_geometry_operators_geodeticAreaOperator__WEBPACK_IMPORTED_MODULE_9__["default"].execute(polygon, { unit: 'square-meters' });
            }
            else {
                area = esri_geometry_operators_areaOperator__WEBPACK_IMPORTED_MODULE_11__["default"].execute(polygon, { unit: 'square-meters' });
            }
            return _convertArea(area, areaUnit);
        }
        catch (error) {
            console.error('Error calculating polygon area:', error);
            return 0;
        }
    };
    // convert length to desired unit
    const _convertLength = (length, unit) => {
        const factor = unit.conversion || 1;
        return length * factor;
    };
    //convert area to desired unit
    const _convertArea = (area, unit) => {
        const factor = unit.conversion || 1;
        return area * factor;
    };
    // Helper function to calculate segment length directly
    const _calculateSegmentLength = (point1, point2, geometry) => {
        try {
            const tempLine = new esri_geometry_Polyline__WEBPACK_IMPORTED_MODULE_6__["default"]({
                paths: [[point1, point2]],
                spatialReference: geometry.spatialReference
            });
            let segmentLength = 0;
            if (geometry.spatialReference.isWGS84 || geometry.spatialReference.isWebMercator) {
                segmentLength = esri_geometry_operators_geodeticLengthOperator__WEBPACK_IMPORTED_MODULE_10__["default"].execute(tempLine, { unit: 'meters' });
            }
            else {
                segmentLength = esri_geometry_operators_lengthOperator__WEBPACK_IMPORTED_MODULE_12__["default"].execute(tempLine, { unit: 'meters' });
            }
            return _convertLength(Math.abs(segmentLength), distanceUnit); // Ensure positive segment length
        }
        catch (error) {
            console.error('Error calculating segment length:', error);
            return 0;
        }
    };
    //round output to desired decimals and ensure no negative values
    const _round = (number, decimals = 0) => {
        return Number(Math.abs(number).toFixed(decimals));
    };
    //makes an invisible copy of a line segment for calculating distance and placing text
    const makeTempLineGraphic = (point1, point2, geometry) => {
        const tempLine = new esri_geometry_Polyline__WEBPACK_IMPORTED_MODULE_6__["default"]({
            paths: [[point1, point2]],
            spatialReference: geometry.spatialReference
        });
        const tempGraphic = new esri_Graphic__WEBPACK_IMPORTED_MODULE_4__["default"]({
            geometry: tempLine,
            symbol: {
                type: 'simple-line'
            },
            visible: false
        });
        return tempGraphic;
    };
    const ensureParentOnLayerAndVisible = (g) => __awaiter(void 0, void 0, void 0, function* () {
        try {
            if (!g)
                return;
            // Mark as drawing (helps other codepaths ignore it during label cleanups)
            g.attributes = g.attributes || {};
            g.attributes.isDrawing = true; // never set this on labels
            // Ensure it’s on the layer and visible
            if (!safeLayerContains(g))
                drawLayer.add(g);
            if (g.visible === false)
                g.visible = true;
            // Force a render turn before we add labels
            const v = sketchViewModel === null || sketchViewModel === void 0 ? void 0 : sketchViewModel.view;
            if (v && typeof v.whenLayerView === 'function') {
                try {
                    yield v.whenLayerView(drawLayer);
                }
                catch ( /* noop */_a) { /* noop */ }
            }
            yield new Promise(r => requestAnimationFrame(() => r(null)));
            // Try a soft refresh if available
            if (typeof drawLayer.refresh === 'function')
                drawLayer.refresh();
        }
        catch (e) {
            console.warn('Parent persistence failed:', e);
        }
    });
    const cleanExistingMeasurements = (graphic) => {
        var _a, _b, _c, _d;
        if (!graphic)
            return;
        // Never touch non-text parent drawings here
        // Only clear measurement references on the parent, and remove measurement-only graphics.
        if (!isLayerBasicallyValid()) {
            console.warn('DrawLayer not available for cleanup - clearing references only');
            if ((_a = graphic.measure) === null || _a === void 0 ? void 0 : _a.graphic)
                graphic.measure = null;
            if (Array.isArray((_b = graphic.attributes) === null || _b === void 0 ? void 0 : _b.relatedSegmentLabels))
                graphic.attributes.relatedSegmentLabels = [];
            return;
        }
        // Main measurement label
        if ((_c = graphic.measure) === null || _c === void 0 ? void 0 : _c.graphic) {
            try {
                const mg = graphic.measure.graphic;
                if (mg && isMeasurementOnlyGraphic(mg) && safeLayerContains(mg))
                    safeLayerRemove(mg);
            }
            catch (e) {
                console.warn('Failed to remove measurement label:', e);
            }
            finally {
                graphic.measure = null; // always clear reference
            }
        }
        // Segment labels
        if (Array.isArray((_d = graphic.attributes) === null || _d === void 0 ? void 0 : _d.relatedSegmentLabels)) {
            try {
                graphic.attributes.relatedSegmentLabels.forEach((seg) => {
                    if (seg && isMeasurementOnlyGraphic(seg)) {
                        try {
                            if (safeLayerContains(seg))
                                safeLayerRemove(seg);
                        }
                        catch (ee) {
                            console.warn('Failed to remove a segment label:', ee);
                        }
                    }
                });
            }
            finally {
                graphic.attributes.relatedSegmentLabels = [];
            }
        }
    };
    //removes existing measurements when graphic updates
    const removeMeasurementsOnUpdate = () => {
        if (!sketchViewModel || !sketchViewModel.view) {
            console.warn('SketchViewModel not available for removeMeasurementsOnUpdate');
            return;
        }
        const removalListener = sketchViewModel.on('update', (event) => {
            var _a, _b, _c;
            // Validate SketchViewModel at event start
            if (!sketchViewModel || !sketchViewModel.view) {
                console.warn('SketchViewModel not available during removal update');
                return;
            }
            if (!((_a = event === null || event === void 0 ? void 0 : event.graphics) === null || _a === void 0 ? void 0 : _a.length))
                return;
            const graphic = event.graphics[0];
            // Skip if measurement is still enabled or graphic is invalid
            if (!graphic || measureEnabled)
                return;
            // Use more permissive validation
            if (!isLayerBasicallyValid()) {
                console.warn('DrawLayer is not available for removal operations');
                return;
            }
            // Remove main measurement label with safe methods
            if ((_b = graphic.measure) === null || _b === void 0 ? void 0 : _b.graphic) {
                try {
                    if (safeLayerContains(graphic.measure.graphic)) {
                        safeLayerRemove(graphic.measure.graphic);
                    }
                }
                catch (err) {
                    console.warn('Failed to remove measurement graphic:', err);
                }
            }
            // Remove related segment labels with enhanced safety
            if (Array.isArray((_c = graphic.attributes) === null || _c === void 0 ? void 0 : _c.relatedSegmentLabels)) {
                try {
                    const segmentLabels = graphic.attributes.relatedSegmentLabels;
                    segmentLabels.forEach(label => {
                        if (label && safeLayerContains(label)) {
                            safeLayerRemove(label);
                        }
                    });
                    graphic.attributes.relatedSegmentLabels = [];
                }
                catch (err) {
                    console.warn('Failed to remove segment labels:', err);
                }
            }
        });
        setRemovalListener(removalListener);
    };
    const preserveCustomLabelProperties = (existingLabel, newSymbol) => {
        if (!existingLabel || !existingLabel.attributes || !existingLabel.attributes.customized) {
            return newSymbol;
        }
        // If the label was customized, preserve the custom properties
        const preservedSymbol = newSymbol.clone();
        const existingSymbol = existingLabel.symbol;
        if (isTextSymbol(existingSymbol) && isTextSymbol(preservedSymbol)) {
            // Preserve custom font properties
            preservedSymbol.color = existingSymbol.color;
            preservedSymbol.font.size = existingSymbol.font.size;
            preservedSymbol.angle = existingSymbol.angle;
            preservedSymbol.verticalAlignment = existingSymbol.verticalAlignment;
            preservedSymbol.xoffset = existingSymbol.xoffset;
            preservedSymbol.yoffset = existingSymbol.yoffset;
            // Preserve halo properties
            if (existingSymbol.haloSize) {
                preservedSymbol.haloSize = existingSymbol.haloSize;
                preservedSymbol.haloColor = existingSymbol.haloColor;
            }
            // Preserve background properties
            if (existingSymbol.backgroundColor) {
                preservedSymbol.backgroundColor = existingSymbol.backgroundColor;
            }
        }
        return preservedSymbol;
    };
    useEffect(() => {
        if (typeof props.measurementEnabled === 'boolean') {
            measureEnabledRef.current = props.measurementEnabled;
            setMeasureEnabled(props.measurementEnabled);
            if (!props.measurementEnabled && editableMeasurementsRef.current) {
                setEditableMeasurements(false);
            }
        }
    }, [props.measurementEnabled]);
    useEffect(() => {
        isInitialMount.current = false;
    }, []);
    // 🔧 NEW: Clean up ALL listeners on component unmount
    useEffect(() => {
        return () => {
            //console.log('🧹 Component unmounting - cleaning up all listeners');
            // Remove listeners via refs (synchronous)
            if (updateListenerRef.current) {
                try {
                    updateListenerRef.current.remove();
                }
                catch (_a) { }
                updateListenerRef.current = null;
            }
            if (createListenerRef.current) {
                try {
                    createListenerRef.current.remove();
                }
                catch (_b) { }
                createListenerRef.current = null;
            }
            // Also remove via state (defensive)
            if (updateListener) {
                try {
                    updateListener.remove();
                }
                catch (_c) { }
            }
            if (createListener) {
                try {
                    createListener.remove();
                }
                catch (_d) { }
            }
            // Reset the ref to false
            if (measureEnabledRef) {
                measureEnabledRef.current = false;
            }
        };
    }, []); // Empty deps = runs only on mount/unmount
    useImperativeHandle(ref, () => ({
        updateMeasurementsForGraphic: (graphic) => {
            if (!sketchViewModel || !sketchViewModel.view) {
                console.warn('SketchViewModel not available for updateMeasurementsForGraphic');
                return;
            }
            if (!drawLayer || !isLayerBasicallyValid()) {
                console.warn('DrawLayer not available for updateMeasurementsForGraphic');
                return;
            }
            if (measureEnabledRef.current && graphic && !isMeasurementLabel(graphic)) {
                debouncedUpdateMeasurements.current = debounce((g) => {
                    if (!shouldGenerateMeasurements(g))
                        return;
                    _addMeasurement(g, null, false);
                }, 120);
            }
        },
        isMeasurementEnabled: () => !!measureEnabledRef.current,
        setMeasurementEnabled: (enabled) => {
            const on = !!enabled;
            measureEnabledRef.current = on;
            if (!on) {
                // 🔧 IMMEDIATELY remove listeners using refs (synchronous)
                if (updateListenerRef.current) {
                    try {
                        updateListenerRef.current.remove();
                    }
                    catch (_a) { }
                    updateListenerRef.current = null;
                }
                if (createListenerRef.current) {
                    try {
                        createListenerRef.current.remove();
                    }
                    catch (_b) { }
                    createListenerRef.current = null;
                }
                // Also clean up state-based listeners (defensive)
                if (updateListener) {
                    try {
                        updateListener.remove();
                    }
                    catch (_c) { }
                    setUpdateListener(null);
                }
                if (createListener) {
                    try {
                        createListener.remove();
                    }
                    catch (_d) { }
                    setCreateListener(null);
                }
                // ensure edit mode is off but DO NOT remove existing labels
                if (editableMeasurementsRef.current)
                    setEditableMeasurements(false);
                // 🔒 absolutely stop any in-flight label creation
                cancelPendingMeasurementWork();
            }
            // Update state last (this will trigger useEffect but listeners already removed)
            setMeasureEnabled(on);
        },
        enableMeasurements: () => {
            if (!sketchViewModel || !sketchViewModel.view) {
                console.warn('SketchViewModel not ready - cannot enable measurements');
                return;
            }
            if (!drawLayer || !isLayerBasicallyValid()) {
                console.warn('DrawLayer not available - cannot enable measurements');
                return;
            }
            measureEnabledRef.current = true;
            setMeasureEnabled(true);
        },
        disableMeasurements: () => {
            measureEnabledRef.current = false;
            // 🔧 Remove listeners using refs first (synchronous)
            if (updateListenerRef.current) {
                try {
                    updateListenerRef.current.remove();
                }
                catch (_a) { }
                updateListenerRef.current = null;
            }
            if (createListenerRef.current) {
                try {
                    createListenerRef.current.remove();
                }
                catch (_b) { }
                createListenerRef.current = null;
            }
            setMeasureEnabled(false);
            if (editableMeasurementsRef.current)
                setEditableMeasurements(false);
            try {
                if (drawLayer && drawLayer.graphics) {
                    const all = drawLayer.graphics.toArray();
                    all.forEach(g => {
                        var _a, _b;
                        const isLabel = ((_a = g === null || g === void 0 ? void 0 : g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) || ((_b = g === null || g === void 0 ? void 0 : g.attributes) === null || _b === void 0 ? void 0 : _b.measurementType) || (g === null || g === void 0 ? void 0 : g.measureParent);
                        if (isLabel) {
                            try {
                                drawLayer.remove(g);
                            }
                            catch (_c) { }
                        }
                    });
                    all.forEach(g => {
                        var _a;
                        if (g && g.measure)
                            g.measure = null;
                        if ((_a = g === null || g === void 0 ? void 0 : g.attributes) === null || _a === void 0 ? void 0 : _a.relatedSegmentLabels)
                            g.attributes.relatedSegmentLabels = [];
                    });
                    if (typeof drawLayer.refresh === 'function') {
                        try {
                            drawLayer.refresh();
                        }
                        catch (_c) { }
                    }
                }
            }
            catch (err) {
                console.warn('Error removing measurement labels on disable:', err);
            }
        },
        disableMeasurementEditing: () => {
            if (editableMeasurementsRef.current)
                setEditableMeasurements(false);
        },
        refreshAllMeasurements: () => {
            if (!sketchViewModel || !sketchViewModel.view) {
                console.warn('SketchViewModel not available for refreshAllMeasurements');
                return;
            }
            if (!drawLayer || !isLayerBasicallyValid()) {
                console.warn('DrawLayer not available for refreshAllMeasurements');
                return;
            }
            if (!measureEnabledRef.current || isProcessingMeasurements) {
                console.warn('Cannot refresh measurements - disabled or currently processing');
                return;
            }
            const allGraphics = drawLayer.graphics.toArray();
            const drawingGraphics = allGraphics.filter(g => isActualDrawing(g) && !g.measure);
            drawingGraphics.forEach((graphic, index) => {
                setTimeout(() => {
                    if (measureEnabledRef.current && !processingQueue.current.has(getGraphicId(graphic))) {
                        _addMeasurement(graphic, null, true);
                    }
                }, index * 50);
            });
        },
        isBusy: () => isProcessingMeasurements || processingQueue.current.size > 0,
        isEditingMeasurements: () => editableMeasurementsRef.current,
        handleMeasurementLabelSelection: (labelGraphic) => {
            if (!editableMeasurementsRef.current) {
                console.warn('Measurement editing not enabled');
                return;
            }
            handleMeasurementLabelSelection(labelGraphic);
        },
        cleanupMeasurementLabelSelection: () => { cleanupMeasurementLabelSelection(); },
        autoSelectCurrentGraphicMeasurementLabel: () => { autoSelectCurrentGraphicMeasurementLabel(); },
        selectGraphicMeasurementLabel: (graphic) => {
            var _a;
            if (!editableMeasurementsRef.current) {
                console.warn('Measurement editing not enabled');
                return;
            }
            if ((_a = graphic === null || graphic === void 0 ? void 0 : graphic.measure) === null || _a === void 0 ? void 0 : _a.graphic) {
                handleMeasurementLabelSelection(graphic.measure.graphic);
            }
            else {
                console.warn('No measurement label found for provided graphic');
            }
        },
        startLabelDrag: (labelGraphic, screenPoint) => startLabelDrag(labelGraphic, screenPoint),
        stopLabelDrag: () => handleLabelDragEnd(null),
        resetLabelPosition: () => resetLabelPosition(),
        isDragging: () => isDraggingLabel
    }));
    // 1. Update refs when state changes (keep as-is but optimized)
    useEffect(() => {
        measureEnabledRef.current = measureEnabled;
        editableMeasurementsRef.current = editableMeasurements;
        settingsRef.current = {
            distanceUnit,
            areaUnit,
            segmentsOn,
            lengthOn,
            areaOn,
            perimeterOn,
            radiusOn,
            pointRound,
            otherRound,
            rotateSegments
        };
    }, [measureEnabled, editableMeasurements, distanceUnit, areaUnit, segmentsOn, lengthOn, areaOn, perimeterOn, radiusOn, pointRound, otherRound, rotateSegments]);
    // 2. SIMPLIFIED: Measurement editing setup with minimal delays
    // Alternative measurement editing setup with proper TypeScript handling
    // 2. COMPLETELY ISOLATED: Measurement editing setup that avoids SketchViewModel conflicts
    useEffect(() => {
        if (editableMeasurements) {
            if (sketchViewModel === null || sketchViewModel === void 0 ? void 0 : sketchViewModel.view) {
                //console.log('Setting up isolated measurement editing');
                currentMapView = sketchViewModel.view;
                // Clean up existing listener first
                if (measurementClickListener) {
                    measurementClickListener.remove();
                    setMeasurementClickListener(null);
                }
                // Use a much longer delay to completely avoid SketchViewModel conflicts
                setTimeout(() => {
                    if (!editableMeasurements)
                        return; // Check if still enabled
                    try {
                        // Use 'pointer-down' instead of 'click' to avoid SketchViewModel interference
                        const isolatedClickHandler = currentMapView.on('pointer-down', (event) => __awaiter(void 0, void 0, void 0, function* () {
                            try {
                                // Only process if no drawing tool is active
                                if (currentTool && currentTool !== '' && currentTool !== 'text') {
                                    return;
                                }
                                // Prevent event from reaching SketchViewModel
                                event.stopPropagation();
                                // Simple hit test without any layer constraints
                                const hitTest = yield currentMapView.hitTest({
                                    x: event.x,
                                    y: event.y
                                });
                                // Look for measurement labels
                                const measurementLabels = hitTest.results.filter(result => {
                                    var _a, _b;
                                    if (!result || !('graphic' in result))
                                        return false;
                                    const graphic = result.graphic;
                                    if (((_a = graphic === null || graphic === void 0 ? void 0 : graphic.symbol) === null || _a === void 0 ? void 0 : _a.type) !== 'text')
                                        return false;
                                    const text = graphic.symbol.text || '';
                                    return /(\d+(\.\d+)?\s*(km|mi|m|ft|yd|km²|mi²|ac|ha|m²|ft²|yd²))|Area:|Perimeter:|Radius:|Total:|Lat:|Lon:|X:|Y:/.test(text) ||
                                        ((_b = graphic.attributes) === null || _b === void 0 ? void 0 : _b.isMeasurementLabel);
                                });
                                if (measurementLabels.length > 0) {
                                    //console.log('Found measurement label via isolated handler');
                                    const graphicHit = measurementLabels[0];
                                    handleMeasurementLabelSelection(graphicHit.graphic);
                                }
                                else {
                                    // Clear selection when clicking elsewhere
                                    cleanupMeasurementLabelSelection();
                                }
                            }
                            catch (error) {
                                console.warn('Isolated measurement handler error:', error);
                            }
                        }));
                        setMeasurementClickListener(isolatedClickHandler);
                        //console.log('Isolated measurement handler set up successfully');
                    }
                    catch (setupError) {
                        console.error('Error setting up isolated measurement handler:', setupError);
                    }
                }, 1500); // Very long delay to avoid all SketchViewModel operations
            }
        }
        else {
            //console.log('Cleaning up measurement editing');
            if (measurementClickListener) {
                measurementClickListener.remove();
                setMeasurementClickListener(null);
            }
            cleanupMeasurementLabelSelection();
        }
    }, [editableMeasurements, sketchViewModel]);
    // 3. CONSOLIDATED: Handle drawing tool activation (remove duplicate)
    useEffect(() => {
        // Disable measurement editing when drawing tools become active
        if (editableMeasurements && currentTool && currentTool !== '' && currentTool !== 'text') {
            //console.log('Drawing tool activated via prop - disabling measurement editing:', currentTool);
            setEditableMeasurements(false);
            cleanupMeasurementLabelSelection();
            removeMeasurementLabelClickListener();
        }
        // Handle tool type changes for measurement settings
        if (currentTool === 'text') {
            setMeasureEnabled(false);
        }
        if (currentTool === 'extent') {
            setToolType('polygon');
        }
        else {
            setToolType(currentTool);
        }
    }, [currentTool, editableMeasurements]);
    // 4. Initialize map view when available
    useEffect(() => {
        const initializeMapView = () => __awaiter(void 0, void 0, void 0, function* () {
            var _a;
            let newMapView = null;
            if ((_a = props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) {
                newMapView = props.jimuMapView.view;
                //console.log('Map view set from jimuMapView prop');
            }
            else if (sketchViewModel === null || sketchViewModel === void 0 ? void 0 : sketchViewModel.view) {
                newMapView = sketchViewModel.view;
                //console.log('Map view set from sketchViewModel');
            }
            if (newMapView && newMapView !== currentMapView) {
                try {
                    // Wait for the view to be ready before proceeding
                    yield newMapView.when();
                    currentMapView = newMapView;
                    //console.log('currentMapView updated and ready');
                    // Only re-setup measurement editing if it was previously enabled
                    if (editableMeasurements && currentMapView && (sketchViewModel === null || sketchViewModel === void 0 ? void 0 : sketchViewModel.view)) {
                        //console.log('Re-setting up measurement editing after mapView sync');
                        removeMeasurementLabelClickListener();
                        // Add delay to prevent conflicts
                        setTimeout(() => {
                            if (editableMeasurements) {
                                setupEnhancedMeasurementLabelClickListener();
                            }
                        }, 300);
                    }
                }
                catch (error) {
                    console.error('Error initializing map view:', error);
                }
            }
        });
        initializeMapView();
    }, [props.jimuMapView, sketchViewModel, editableMeasurements]);
    // 5. Alternative map view initialization
    useEffect(() => {
        var _a;
        if ((_a = props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) {
            currentMapView = props.jimuMapView.view;
            //console.log('Map view initialized from jimuMapView prop');
        }
    }, [props.jimuMapView]);
    // 6. ENHANCED: SketchViewModel readiness and measurement system coordination
    useEffect(() => {
        // Early return if SketchViewModel isn't ready - don't warn, just defer
        if (!sketchViewModel || !sketchViewModel.view) {
            // If we have a sketchViewModel but no view, it might be loading
            if (sketchViewModel && !sketchViewModel.view) {
                //console.log('SketchViewModel exists but view not ready, deferring configuration...');
                // Set up a one-time listener to configure when view becomes available
                const viewReadyTimeout = setTimeout(() => {
                    if (sketchViewModel === null || sketchViewModel === void 0 ? void 0 : sketchViewModel.view) {
                        //console.log('SketchViewModel view became ready, configuring now...');
                        configureSketchViewModel();
                    }
                }, 500); // Check again in 500ms
                return () => clearTimeout(viewReadyTimeout);
            }
            return; // Silently defer if completely unavailable
        }
        //console.log('SketchViewModel ready for configuration');
        configureSketchViewModel();
        // Extracted configuration function for reuse
        function configureSketchViewModel() {
            if (!(sketchViewModel === null || sketchViewModel === void 0 ? void 0 : sketchViewModel.view))
                return;
            try {
                // Configure tooltips
                if (tooltips) {
                    sketchViewModel.tooltipOptions.enabled = true;
                }
                else {
                    sketchViewModel.tooltipOptions.enabled = false;
                }
                // Configure value options
                const foundUnit = defaultDistanceUnits.find(defaultUnit => defaultUnit.unit === distanceUnit.unit);
                const foundAreaUnit = defaultAreaUnits.find(defaultUnit => defaultUnit.unit === areaUnit.unit);
                sketchViewModel.valueOptions = {
                    displayUnits: {
                        length: (foundUnit === null || foundUnit === void 0 ? void 0 : foundUnit.unit) || 'meters',
                        area: (foundAreaUnit === null || foundAreaUnit === void 0 ? void 0 : foundAreaUnit.unit) || 'square-meters'
                    },
                    inputUnits: {
                        length: (foundUnit === null || foundUnit === void 0 ? void 0 : foundUnit.unit) || 'meters',
                        area: (foundAreaUnit === null || foundAreaUnit === void 0 ? void 0 : foundAreaUnit.unit) || 'square-meters'
                    }
                };
                //console.log('SketchViewModel configuration applied successfully');
            }
            catch (error) {
                console.warn('Error configuring SketchViewModel:', error);
            }
        }
    }, [sketchViewModel, sketchViewModel === null || sketchViewModel === void 0 ? void 0 : sketchViewModel.view, tooltips, distanceUnit.unit, areaUnit.unit]);
    // 7. ENHANCED: Measurement system lifecycle management
    useEffect(() => {
        // console.log('📊 Measurement lifecycle useEffect triggered:', {
        //   measureEnabled,
        //   measureEnabledRef: measureEnabledRef?.current,
        //   hasSketchViewModel: !!sketchViewModel,
        //   hasView: !!sketchViewModel?.view,
        //   updateListenerExists: !!updateListenerRef.current,
        //   createListenerExists: !!createListenerRef.current
        // });
        // Keep the ref in perfect sync immediately to avoid stale closures
        if (measureEnabledRef) {
            measureEnabledRef.current = measureEnabled;
            //console.log('🔄 Updated measureEnabledRef to:', measureEnabled);
        }
        if (measureEnabled) {
            //console.log('✅ Enabling measurements and setting up listeners');
            // Ensure operators are ready and wire live measurement listeners
            esri_geometry_operators_geodeticAreaOperator__WEBPACK_IMPORTED_MODULE_9__["default"].load();
            esri_geometry_operators_geodeticLengthOperator__WEBPACK_IMPORTED_MODULE_10__["default"].load();
            liveMeasure();
            // Clear any existing removal listener
            if (removalListener) {
                try {
                    removalListener.remove();
                }
                catch (_a) { }
                setRemovalListener(null);
            }
            //console.log('✅ Measurement listeners set up complete');
        }
        else {
            //console.log('❌ Disabling measurements and tearing down listeners');
            // Tear down measurement listeners
            // 🔧 Use refs for synchronous removal
            if (updateListenerRef.current) {
                //console.log('🗑️ Removing updateListener via ref');
                try {
                    updateListenerRef.current.remove();
                }
                catch (_b) { }
                updateListenerRef.current = null;
            }
            if (createListenerRef.current) {
                //console.log('🗑️ Removing createListener via ref');
                try {
                    createListenerRef.current.remove();
                }
                catch (_c) { }
                createListenerRef.current = null;
            }
            // Also clean up state listeners
            if (updateListener) {
                //console.log('🗑️ Removing updateListener via state');
                try {
                    updateListener.remove();
                }
                catch (_d) { }
                setUpdateListener(null);
            }
            if (createListener) {
                //console.log('🗑️ Removing createListener via state');
                try {
                    createListener.remove();
                }
                catch (_e) { }
                setCreateListener(null);
            }
            // Set up removal listener for when measurements are disabled
            if (sketchViewModel) {
                //console.log('🔧 Setting up removal listener');
                removeMeasurementsOnUpdate();
            }
            //console.log('❌ Measurement teardown complete');
        }
    }, [measureEnabled, sketchViewModel]);
    // 8. ENHANCED: Settings change handler (rebuild listeners when settings change)
    useEffect(() => {
        // Only rebuild if listeners exist (measurement is enabled)
        if (updateListener && createListener && measureEnabled) {
            //console.log('Measurement settings changed - rebuilding listeners');
            updateListener.remove();
            createListener.remove();
            liveMeasure();
        }
    }, [distanceUnit.unit, areaUnit.unit, wkid, latLong, xy, lengthOn, segmentsOn, areaOn, perimeterOn, radiusOn, pointRound, otherRound, rotateSegments, measureEnabled]);
    // 9. Handle text preview mode
    useEffect(() => {
        if (showTextPreview) {
            setMeasureEnabled(false);
        }
    }, [showTextPreview]);
    // 10. ENHANCED: Handle graphic selection and type detection
    useEffect(() => {
        // Primary: Use currentTool to set toolType when actively drawing
        if (currentTool && currentTool !== '') {
            let mappedType = currentTool;
            // Map drawing tool names to geometry types for measurement settings
            if (currentTool === 'extent') {
                mappedType = 'polygon';
            }
            else if (currentTool === 'freepolyline') {
                mappedType = 'polyline';
            }
            else if (currentTool === 'freepolygon') {
                mappedType = 'polygon';
            }
            // Only update if different to avoid unnecessary re-renders
            if (toolType !== mappedType) {
                setToolType(mappedType);
                //console.log('Tool type updated from currentTool:', currentTool, '→', mappedType);
            }
            return; // CRITICAL: Exit early to prevent currentGraphic from overriding
        }
        // Secondary: Handle SketchViewModel updateGraphics (when editing existing graphics)
        // Only use this when NO tool is active
        if ((sketchViewModel === null || sketchViewModel === void 0 ? void 0 : sketchViewModel.updateGraphics) && sketchViewModel.updateGraphics.length > 0) {
            const graphic = sketchViewModel.updateGraphics.items[0];
            if ((graphic === null || graphic === void 0 ? void 0 : graphic.visible) && (graphic === null || graphic === void 0 ? void 0 : graphic.geometry)) {
                const graphicType = graphic.geometry.type;
                let output = graphicType;
                if (graphicType === 'polygon') {
                    if (graphic.geometry.rings && graphic.geometry.rings[0] && graphic.geometry.rings[0].length === 61) {
                        output = 'circle';
                        setSegmentsOn(false);
                    }
                    else {
                        output = 'polygon';
                    }
                }
                if (toolType !== output) {
                    setToolType(output);
                    //console.log('Tool type updated from updateGraphics:', output);
                }
            }
        }
        // Tertiary: Handle currentGraphic changes (fallback)
        // Only when no tool is active and no updateGraphics
        else if ((currentGraphic === null || currentGraphic === void 0 ? void 0 : currentGraphic.visible) && (currentGraphic === null || currentGraphic === void 0 ? void 0 : currentGraphic.geometry)) {
            const graphicType = currentGraphic.geometry.type;
            let output = graphicType;
            if (graphicType === 'polygon') {
                if (currentGraphic.geometry.rings && currentGraphic.geometry.rings[0] && currentGraphic.geometry.rings[0].length === 61) {
                    output = 'circle';
                    setSegmentsOn(false);
                }
                else {
                    output = 'polygon';
                }
            }
            if (toolType !== output) {
                setToolType(output);
                //console.log('Tool type updated from currentGraphic:', output);
            }
        }
    }, [currentTool, (_a = sketchViewModel === null || sketchViewModel === void 0 ? void 0 : sketchViewModel.updateGraphics) === null || _a === void 0 ? void 0 : _a.length, currentGraphic, toolType]);
    // 11. Handle restored measurement labels
    useEffect(() => {
        if (drawLayer && drawLayer.graphics.length > 0) {
            // Give the layer a moment to settle after graphics are loaded
            const timeoutId = setTimeout(() => {
                identifyAndMarkRestoredMeasurementLabels();
            }, 500);
            return () => clearTimeout(timeoutId);
        }
    }, [(_b = drawLayer === null || drawLayer === void 0 ? void 0 : drawLayer.graphics) === null || _b === void 0 ? void 0 : _b.length]);
    // 12. ENHANCED: Cleanup and coordination when measurements disabled
    useEffect(() => {
        if (!measureEnabled && editableMeasurements) {
            //console.log('Measurements disabled - cleaning up editing mode');
            toggleMeasurementEditing(false); // Pass false to disable
        }
    }, [measureEnabled, editableMeasurements]);
    // 13. ENHANCED: Component cleanup on unmount
    useEffect(() => {
        return () => {
            //console.log('Cleaning up measurement component');
            // Clean up all pending timeouts
            completeTimeouts.forEach(timeoutId => {
                clearTimeout(timeoutId);
            });
            // Clean up layer watcher
            if (layerWatcher) {
                layerWatcher.remove();
            }
            // Reset processing states
            processingQueue.current.clear();
            measurementLock.current = false;
            // Clean up measurement editing
            cleanupMeasurementLabelSelection();
            removeMeasurementLabelClickListener();
            // Clean up measurement listeners
            if (updateListener) {
                try {
                    updateListener.remove();
                }
                catch (_a) { }
            }
            if (createListener) {
                try {
                    createListener.remove();
                }
                catch (_b) { }
            }
            if (removalListener) {
                try {
                    removalListener.remove();
                }
                catch (_c) { }
            }
        };
    }, []);
    // 14. Manages measurement editing mode lifecycle: sets up click handlers when enabled, cleans up listeners and orphaned visual overlays when disabled
    useEffect(() => {
        if (editableMeasurements) {
            // ... existing setup code ...
        }
        else {
            //console.log('Cleaning up measurement editing');
            if (measurementClickListener) {
                measurementClickListener.remove();
                setMeasurementClickListener(null);
            }
            cleanupMeasurementLabelSelection();
            // Clean up any orphaned overlays when disabling
            cleanupAllMeasurementOverlays();
        }
    }, [editableMeasurements, sketchViewModel]);
    // Optimized live measurement function - only updates main label, no segments
    const _addMeasurementLive = (graphic) => __awaiter(void 0, void 0, void 0, function* () {
        var _a, _b, _c, _d, _e;
        // Add SketchViewModel validation
        if (!sketchViewModel || !sketchViewModel.view) {
            console.warn('SketchViewModel not available for live measurements');
            return false;
        }
        // Safeguard - prevent processing measurement labels
        if (isMeasurementLabel(graphic)) {
            return false;
        }
        // Early validation checks
        if (!graphic || !graphic.geometry) {
            return false;
        }
        if (((_a = graphic.symbol) === null || _a === void 0 ? void 0 : _a.type) === 'text') {
            return true;
        }
        // Use more permissive validation for normal measurement operations
        if (!isLayerBasicallyValid()) {
            return false;
        }
        const geometry = graphic.geometry;
        const labelPoint = _getLabelPoint(geometry);
        if (!labelPoint) {
            return false;
        }
        const isPoint = geometry.type === 'point';
        let text;
        try {
            //for point graphics
            if (isPoint) {
                let xyCoords = '';
                let srWkid = '';
                if (xy) {
                    xyCoords = `X: ${labelPoint.x.toFixed(pointRound)} \nY: ${labelPoint.y.toFixed(pointRound)}`;
                    if (wkid) {
                        srWkid = '\nWKID: ' + ((_b = labelPoint.spatialReference) === null || _b === void 0 ? void 0 : _b.latestWkid) || (0) || 0;
                    }
                }
                let wgsCoords = '';
                try {
                    if (!esri_geometry_operators_projectOperator__WEBPACK_IMPORTED_MODULE_8__["default"].isLoaded()) {
                        yield esri_geometry_operators_projectOperator__WEBPACK_IMPORTED_MODULE_8__["default"].load();
                    }
                    const [projected] = esri_geometry_operators_projectOperator__WEBPACK_IMPORTED_MODULE_8__["default"].executeMany([labelPoint], esri_geometry_SpatialReference__WEBPACK_IMPORTED_MODULE_7__["default"].WGS84);
                    if (projected && latLong) {
                        wgsCoords = `\nLat: ${projected.y.toFixed(pointRound)}\nLon: ${projected.x.toFixed(pointRound)}`;
                        if (wkid) {
                            wgsCoords = wgsCoords + '\nWKID: 4326';
                        }
                    }
                }
                catch (err) {
                    console.warn('Projection to WGS84 failed:', err);
                }
                text = `${xyCoords}${srWkid}${wgsCoords}`;
            }
            else {
                //calculates measurements and returns text
                text = _getMeasureText(geometry, null);
            }
            if (!text || text.trim() === '') {
                return false;
            }
        }
        catch (error) {
            console.error('Error generating measurement text:', error);
            return false;
        }
        const existingMeasureGraphic = graphic.measure && graphic.measure.graphic ? graphic.measure.graphic : false;
        // Only update existing measurement or create new one - NO SEGMENT HANDLING during live updates
        if (existingMeasureGraphic) {
            try {
                // Simple update of existing label
                if (isTextSymbol(existingMeasureGraphic.symbol)) {
                    existingMeasureGraphic.symbol.text = text;
                }
                existingMeasureGraphic.attributes.name = text;
                // Use custom position if available, otherwise use calculated position
                const finalLabelPoint = respectCustomPosition(existingMeasureGraphic, labelPoint);
                existingMeasureGraphic.geometry = finalLabelPoint;
            }
            catch (error) {
                console.error('Error updating existing measurement:', error);
                return false;
            }
        }
        else {
            try {
                //copy textSymbol and insert measurement text
                const textSymbol = currentTextSymbol.clone();
                textSymbol.text = text;
                //if it's a point offset the text location
                if (isPoint) {
                    let lines = 0;
                    if (xy) {
                        lines = -1.5;
                        if (wkid) {
                            lines -= .75;
                        }
                    }
                    if (latLong) {
                        lines -= 1.5;
                        if (wkid) {
                            lines -= .75;
                        }
                    }
                    const fontOffset = textSymbol.font.size * lines;
                    textSymbol.yoffset = fontOffset;
                }
                //add halo if no halo
                if (!textSymbol.haloSize) {
                    textSymbol.haloSize = 2;
                    textSymbol.haloColor = 'white';
                }
                //make any background color transparent
                if (((_d = textSymbol.backgroundColor) === null || _d === void 0 ? void 0 : _d.a) > 0) {
                    textSymbol.backgroundColor.a = 0;
                }
                // Create label graphic
                const labelGraphic = new esri_Graphic__WEBPACK_IMPORTED_MODULE_4__["default"]({
                    geometry: labelPoint,
                    symbol: textSymbol,
                    visible: true,
                    attributes: {
                        name: text,
                        description: isPoint ? 'Coordinate Label' : 'Measurement Label',
                        isMeasurementLabel: true,
                        hideFromList: true,
                        drawMode: 'text',
                        lengthUnit: distanceUnit.unit,
                        areaUnit: areaUnit.unit,
                        parentGraphicId: (_e = graphic.attributes) === null || _e === void 0 ? void 0 : _e.uniqueId,
                        measurementType: isPoint ? 'coordinate' : 'main'
                    },
                });
                // Add to layer
                if (drawLayer && typeof drawLayer.add === 'function') {
                    labelGraphic.visible = true;
                    drawLayer.add(labelGraphic);
                    //associate label graphic with drawing
                    labelGraphic.measureParent = graphic;
                    graphic.measure = {
                        graphic: labelGraphic,
                        lengthUnit: distanceUnit.unit,
                        areaUnit: areaUnit.unit,
                    };
                }
            }
            catch (addErr) {
                console.error('Failed to add measurement label:', addErr);
                return false;
            }
        }
        // NO SEGMENT HANDLING during live updates - this eliminates flickering
        setCurrentGraphic(graphic);
        return true;
    });
    const _addMeasurement = (graphic_1, parent_1, ...args_1) => __awaiter(void 0, [graphic_1, parent_1, ...args_1], void 0, function* (graphic, parent, forceUpdate = false, angle = null) {
        // console.log('🔍 CREATE EVENT:', {
        //   state: event.state,
        //   measureEnabledRef: measureEnabledRef.current,
        //   measureEnabledState: measureEnabled,
        //   hasGraphic: !!event.graphic
        // });
        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6;
        if (!shouldGenerateMeasurements(graphic))
            return;
        // --------- Hard guards & readiness ---------
        if (!graphic || !graphic.geometry) {
            console.warn('Invalid graphic or geometry in _addMeasurement');
            return false;
        }
        // CRITICAL FIX: Don't process graphics that are being or have been deleted
        if (!graphic.layer || (graphic.layer && graphic.layer !== drawLayer)) {
            //console.log('⚠️ Graphic has been removed from layer, aborting measurement');
            return false;
        }
        // Skip measurement labels
        if (isMeasurementLabel(graphic) || ((_a = graphic.symbol) === null || _a === void 0 ? void 0 : _a.type) === 'text')
            return true;
        // View / layer must exist
        if (!sketchViewModel || !sketchViewModel.view) {
            console.warn('SketchViewModel not available for measurements');
            return false;
        }
        if (!isLayerBasicallyValid()) {
            console.warn('DrawLayer is not available for measurement processing');
            return false;
        }
        // Wait for stable ID for top-level (non-segment) work
        const hasUid = !!((_b = graphic.attributes) === null || _b === void 0 ? void 0 : _b.uniqueId);
        if (!parent && !hasUid) {
            // Defer exactly once to let widget assign uniqueId on create-complete
            if (!forceUpdate) {
                setTimeout(() => _addMeasurement(graphic, parent, true, angle), 180);
            }
            return false;
        }
        // --------- Concurrency controls ---------
        if (measurementLock.current && !forceUpdate && !parent)
            return false;
        const graphicId = getGraphicId(graphic);
        if (processingQueue.current.has(graphicId) && !forceUpdate)
            return false;
        processingQueue.current.add(graphicId);
        if (!parent && !forceUpdate) {
            measurementLock.current = true;
            setIsProcessingMeasurements(true);
        }
        try {
            const view = sketchViewModel.view;
            // --------- Ensure parent graphic is actually renderable ---------
            try {
                // mark explicitly as a real drawing (helps other codepaths ignore it in cleanup)
                graphic.attributes = graphic.attributes || {};
                graphic.attributes.isDrawing = true;
                // FIXED: More careful layer containment check
                const isOnLayer = drawLayer.graphics && drawLayer.graphics.includes && drawLayer.graphics.includes(graphic);
                // If the parent somehow got detached, re-add it - but be more careful
                if (!isOnLayer) {
                    //console.log('Re-adding graphic to layer for measurements');
                    try {
                        drawLayer.add(graphic);
                    }
                    catch (addError) {
                        console.warn('Could not re-add graphic to layer:', addError);
                        // If we can't add it, at least ensure it's visible where it is
                    }
                }
                // Make sure it's visible - but don't force if it was intentionally hidden
                if (graphic.visible === false) {
                    //console.log('Making graphic visible for measurements');
                    graphic.visible = true;
                }
                // Force a tiny render turn before adding labels - but don't await if it fails
                try {
                    yield view.whenLayerView(drawLayer);
                }
                catch (layerViewError) {
                    console.warn('Layer view not ready, proceeding anyway:', layerViewError);
                }
                yield new Promise((r) => requestAnimationFrame(() => r(null)));
            }
            catch (rehydrateErr) {
                console.warn('Failed to ensure parent graphic is visible/present:', rehydrateErr);
                // Don't return false here - continue with measurement creation even if rehydration failed
            }
            const geometry = graphic.geometry;
            const labelPoint = _getLabelPoint(geometry);
            if (!labelPoint) {
                console.warn('Could not determine label point for graphic');
                return false;
            }
            // Decide update semantics
            const alreadyProcessed = processedGraphics.has(graphicId);
            const isUpdate = !!(forceUpdate || (!parent && alreadyProcessed));
            // --------- Preserve customizations BEFORE cleanup ---------
            let preservedMainLabelProperties = null;
            const preservedSegmentLabelProperties = new Map();
            if (!parent && (isUpdate || !alreadyProcessed || forceUpdate)) {
                if (((_e = (_d = (_c = graphic.measure) === null || _c === void 0 ? void 0 : _c.graphic) === null || _d === void 0 ? void 0 : _d.attributes) === null || _e === void 0 ? void 0 : _e.customized) && ((_g = (_f = graphic.measure) === null || _f === void 0 ? void 0 : _f.graphic) === null || _g === void 0 ? void 0 : _g.symbol)) {
                    preservedMainLabelProperties = {
                        symbol: graphic.measure.graphic.symbol.clone(),
                        attributes: {
                            customized: graphic.measure.graphic.attributes.customized,
                            lastModified: graphic.measure.graphic.attributes.lastModified,
                            hasCustomPosition: graphic.measure.graphic.attributes.hasCustomPosition,
                            customPosition: graphic.measure.graphic.attributes.customPosition
                        }
                    };
                }
                if (Array.isArray((_h = graphic.attributes) === null || _h === void 0 ? void 0 : _h.relatedSegmentLabels)) {
                    graphic.attributes.relatedSegmentLabels.forEach((segmentLabel) => {
                        var _a;
                        if (((_a = segmentLabel === null || segmentLabel === void 0 ? void 0 : segmentLabel.attributes) === null || _a === void 0 ? void 0 : _a.customized) && (segmentLabel === null || segmentLabel === void 0 ? void 0 : segmentLabel.symbol) && (segmentLabel === null || segmentLabel === void 0 ? void 0 : segmentLabel.geometry)) {
                            const key = `${Math.round(segmentLabel.geometry.x)}_${Math.round(segmentLabel.geometry.y)}`;
                            preservedSegmentLabelProperties.set(key, {
                                symbol: segmentLabel.symbol.clone(),
                                attributes: {
                                    customized: segmentLabel.attributes.customized,
                                    lastModified: segmentLabel.attributes.lastModified,
                                    hasCustomPosition: segmentLabel.attributes.hasCustomPosition,
                                    customPosition: segmentLabel.attributes.customPosition
                                }
                            });
                        }
                    });
                }
                // Only clean measurements (labels) — never touch the drawing itself
                cleanExistingMeasurements(graphic);
                // Mark processed even in deferred forceUpdate to prevent double passes
                setProcessedGraphics((prev) => {
                    const next = new Set(prev);
                    next.add(graphicId);
                    return next;
                });
            }
            // --------- Build measurement text ---------
            let text;
            const isPoint = geometry.type === 'point';
            const isFreehandPolyline = ((_j = graphic.attributes) === null || _j === void 0 ? void 0 : _j.drawMode) === 'freepolyline' || currentTool === 'freepolyline' || toolType === 'freepolyline';
            try {
                if (isPoint) {
                    let xyCoords = '';
                    let srWkid = '';
                    if (xy) {
                        xyCoords = `X: ${labelPoint.x.toFixed(pointRound)} \nY: ${labelPoint.y.toFixed(pointRound)}`;
                        if (wkid) {
                            const wk = ((_k = labelPoint.spatialReference) === null || _k === void 0 ? void 0 : _k.latestWkid) || ((_l = labelPoint.spatialReference) === null || _l === void 0 ? void 0 : _l.wkid) || 'unknown';
                            srWkid = `\nWKID: ${wk}`;
                        }
                    }
                    let wgsCoords = '';
                    try {
                        if (!esri_geometry_operators_projectOperator__WEBPACK_IMPORTED_MODULE_8__["default"].isLoaded())
                            yield esri_geometry_operators_projectOperator__WEBPACK_IMPORTED_MODULE_8__["default"].load();
                        const [projected] = esri_geometry_operators_projectOperator__WEBPACK_IMPORTED_MODULE_8__["default"].executeMany([labelPoint], esri_geometry_SpatialReference__WEBPACK_IMPORTED_MODULE_7__["default"].WGS84);
                        if (projected && latLong) {
                            wgsCoords = `\nLat: ${projected.y.toFixed(pointRound)}\nLon: ${projected.x.toFixed(pointRound)}`;
                            if (wkid)
                                wgsCoords = `${wgsCoords}\nWKID: 4326`;
                        }
                    }
                    catch (projErr) {
                        console.warn('Projection to WGS84 failed:', projErr);
                    }
                    text = `${xyCoords}${srWkid}${wgsCoords}`;
                }
                else {
                    text = _getMeasureText(geometry, parent);
                }
                if (!text || text.trim() === '') {
                    console.warn('No measurement text generated for graphic');
                    return false;
                }
            }
            catch (buildErr) {
                console.error('Error generating measurement text:', buildErr);
                return false;
            }
            // --------- Update or create the label ---------
            const existingMeasureGraphic = ((_m = graphic.measure) === null || _m === void 0 ? void 0 : _m.graphic) || null;
            if (existingMeasureGraphic) {
                try {
                    if (isTextSymbol(existingMeasureGraphic.symbol)) {
                        if (preservedMainLabelProperties) {
                            const preserved = preservedMainLabelProperties.symbol.clone();
                            preserved.text = text;
                            existingMeasureGraphic.symbol = preserved;
                            existingMeasureGraphic.attributes.customized = !!preservedMainLabelProperties.attributes.customized;
                            existingMeasureGraphic.attributes.lastModified =
                                preservedMainLabelProperties.attributes.lastModified || Date.now();
                            existingMeasureGraphic.attributes.hasCustomPosition =
                                !!preservedMainLabelProperties.attributes.hasCustomPosition;
                            existingMeasureGraphic.attributes.customPosition =
                                preservedMainLabelProperties.attributes.customPosition || null;
                        }
                        else {
                            existingMeasureGraphic.symbol.text = text;
                        }
                    }
                    existingMeasureGraphic.attributes.name = text;
                    existingMeasureGraphic.geometry = respectCustomPosition(existingMeasureGraphic, labelPoint);
                    ensureLabelVisibility(existingMeasureGraphic);
                }
                catch (e) {
                    console.error('Error updating existing measurement:', e);
                    return false;
                }
            }
            else {
                try {
                    const textSymbol = currentTextSymbol.clone();
                    textSymbol.text = text;
                    if (preservedMainLabelProperties) {
                        const p = preservedMainLabelProperties.symbol;
                        textSymbol.color = p.color;
                        textSymbol.font = p.font;
                        textSymbol.angle = p.angle;
                        textSymbol.haloSize = p.haloSize;
                        textSymbol.haloColor = p.haloColor;
                        textSymbol.verticalAlignment = p.verticalAlignment;
                        textSymbol.xoffset = p.xoffset;
                        textSymbol.yoffset = p.yoffset;
                        if (p.backgroundColor)
                            textSymbol.backgroundColor = p.backgroundColor;
                    }
                    else {
                        if (angle !== null && rotateSegments) {
                            textSymbol.angle = angle;
                            textSymbol.verticalAlignment = 'bottom';
                            const distance = 4;
                            const angleRad = angle * Math.PI / 180;
                            const perpendicular = angleRad + Math.PI / 2;
                            textSymbol.yoffset = Math.sin(perpendicular) * distance;
                            textSymbol.xoffset = Math.cos(perpendicular) * distance * -1.5;
                        }
                        else if (geometry.type === 'polyline' &&
                            !parent &&
                            !isFreehandPolyline &&
                            !shouldCreateSegments(geometry) &&
                            rotateSegments) {
                            const isSingleSegment = geometry.paths && geometry.paths.length > 0 && geometry.paths[0] && geometry.paths[0].length === 2;
                            if (isSingleSegment) {
                                const polylineAngle = _calculatePolylineAngle(geometry);
                                if (polylineAngle !== null) {
                                    textSymbol.angle = polylineAngle;
                                    textSymbol.verticalAlignment = 'bottom';
                                    const distance = 12;
                                    const angleRad = polylineAngle * Math.PI / 180;
                                    const perpendicular = angleRad + Math.PI / 2;
                                    textSymbol.yoffset = Math.sin(perpendicular) * distance;
                                    textSymbol.xoffset = Math.cos(perpendicular) * distance * -1.5;
                                }
                            }
                        }
                        if (isPoint) {
                            let lines = 0;
                            if (xy) {
                                lines = -1.5;
                                if (wkid)
                                    lines -= 0.75;
                            }
                            if (latLong) {
                                lines -= 1.5;
                                if (wkid)
                                    lines -= 0.75;
                            }
                            textSymbol.yoffset = textSymbol.font.size * lines;
                        }
                        if (!textSymbol.haloSize) {
                            textSymbol.haloSize = 2;
                            textSymbol.haloColor = 'white';
                        }
                        if (((_o = textSymbol.backgroundColor) === null || _o === void 0 ? void 0 : _o.a) > 0)
                            textSymbol.backgroundColor.a = 0;
                    }
                    // Final label position (preserve if customized)
                    let finalLabelPoint = labelPoint;
                    if (((_p = preservedMainLabelProperties === null || preservedMainLabelProperties === void 0 ? void 0 : preservedMainLabelProperties.attributes) === null || _p === void 0 ? void 0 : _p.hasCustomPosition) &&
                        ((_q = preservedMainLabelProperties === null || preservedMainLabelProperties === void 0 ? void 0 : preservedMainLabelProperties.attributes) === null || _q === void 0 ? void 0 : _q.customPosition)) {
                        try {
                            const cp = preservedMainLabelProperties.attributes.customPosition;
                            finalLabelPoint = new esri_geometry_Point__WEBPACK_IMPORTED_MODULE_5__["default"]({ x: cp.x, y: cp.y, spatialReference: cp.spatialReference });
                        }
                        catch (e) {
                            console.warn('Error loading preserved custom position, using default:', e);
                        }
                    }
                    const labelGraphic = new esri_Graphic__WEBPACK_IMPORTED_MODULE_4__["default"]({
                        geometry: finalLabelPoint,
                        symbol: textSymbol,
                        visible: true,
                        attributes: {
                            name: text,
                            description: isPoint ? 'Coordinate Label' : 'Measurement Label',
                            isMeasurementLabel: true,
                            hideFromList: true,
                            drawMode: 'text',
                            lengthUnit: distanceUnit.unit,
                            areaUnit: areaUnit.unit,
                            parentGraphicId: (_r = graphic.attributes) === null || _r === void 0 ? void 0 : _r.uniqueId,
                            measurementType: isPoint ? 'coordinate' : (parent ? 'segment' : 'main'),
                            customized: !!((_s = preservedMainLabelProperties === null || preservedMainLabelProperties === void 0 ? void 0 : preservedMainLabelProperties.attributes) === null || _s === void 0 ? void 0 : _s.customized),
                            lastModified: ((_t = preservedMainLabelProperties === null || preservedMainLabelProperties === void 0 ? void 0 : preservedMainLabelProperties.attributes) === null || _t === void 0 ? void 0 : _t.lastModified) || null,
                            hasCustomPosition: !!((_u = preservedMainLabelProperties === null || preservedMainLabelProperties === void 0 ? void 0 : preservedMainLabelProperties.attributes) === null || _u === void 0 ? void 0 : _u.hasCustomPosition),
                            customPosition: ((_v = preservedMainLabelProperties === null || preservedMainLabelProperties === void 0 ? void 0 : preservedMainLabelProperties.attributes) === null || _v === void 0 ? void 0 : _v.customPosition) || null
                        }
                    });
                    drawLayer.add(labelGraphic);
                    labelGraphic.measureParent = graphic;
                    graphic.measure = { graphic: labelGraphic, lengthUnit: distanceUnit.unit, areaUnit: areaUnit.unit };
                    if (parent) {
                        if (parent.attributes.relatedSegmentLabels)
                            parent.attributes.relatedSegmentLabels.push(labelGraphic);
                        else
                            parent.attributes.relatedSegmentLabels = [labelGraphic];
                        labelGraphic.attributes.parentGraphicId = (_w = parent.attributes) === null || _w === void 0 ? void 0 : _w.uniqueId;
                        labelGraphic.measureParent = parent;
                    }
                    ensureLabelVisibility(labelGraphic);
                }
                catch (addErr) {
                    console.error('Failed to add measurement label:', addErr);
                    return false;
                }
            }
            // --------- Segment labels (direct creation) ---------
            if (!parent && shouldCreateSegments(geometry)) {
                try {
                    const coordinateArrays = getCoordinateArrays(geometry);
                    for (let i = 0; i < coordinateArrays.length; i++) {
                        const path = coordinateArrays[i];
                        for (let j = 1; j < path.length; j++) {
                            const segLen = _calculateSegmentLength(path[j - 1], path[j], geometry);
                            const segMid = _getSegmentMidpoint(path[j - 1], path[j], geometry);
                            if (!segMid || segLen <= 0)
                                continue;
                            const lengthUnitInfo = availableDistanceUnits.find((u) => u.unit === distanceUnit.unit);
                            const lengthUnitLabel = lengthUnitInfo ? lengthUnitInfo.abbreviation : distanceUnit.unit;
                            const segText = `${_round(segLen, otherRound).toLocaleString()} ${lengthUnitLabel}`;
                            const segAngle = _calculateAngle(path[j - 1][0], path[j - 1][1], path[j][0], path[j][1]);
                            let segSym = currentTextSymbol.clone();
                            segSym.text = segText;
                            const midpointKey = `${Math.round(segMid.x)}_${Math.round(segMid.y)}`;
                            const preserved = preservedSegmentLabelProperties.get(midpointKey);
                            let segFinalPoint = segMid;
                            if (preserved) {
                                const p = preserved.symbol;
                                segSym.color = p.color;
                                segSym.font = p.font;
                                segSym.angle = p.angle;
                                segSym.haloSize = p.haloSize;
                                segSym.haloColor = p.haloColor;
                                segSym.verticalAlignment = p.verticalAlignment;
                                segSym.xoffset = p.xoffset;
                                segSym.yoffset = p.yoffset;
                                if (p.backgroundColor)
                                    segSym.backgroundColor = p.backgroundColor;
                                if (((_x = preserved.attributes) === null || _x === void 0 ? void 0 : _x.hasCustomPosition) && ((_y = preserved.attributes) === null || _y === void 0 ? void 0 : _y.customPosition)) {
                                    try {
                                        const cp = preserved.attributes.customPosition;
                                        segFinalPoint = new esri_geometry_Point__WEBPACK_IMPORTED_MODULE_5__["default"]({ x: cp.x, y: cp.y, spatialReference: cp.spatialReference });
                                    }
                                    catch (e) {
                                        console.warn('Error loading preserved segment custom position, using default:', e);
                                    }
                                }
                            }
                            else if (rotateSegments &&
                                !(((_z = graphic.attributes) === null || _z === void 0 ? void 0 : _z.drawMode) === 'freepolyline' || currentTool === 'freepolyline' || toolType === 'freepolyline')) {
                                segSym.angle = segAngle;
                                segSym.verticalAlignment = 'bottom';
                                const distance = 4;
                                const ang = segAngle * Math.PI / 180;
                                const perp = ang + Math.PI / 2;
                                segSym.yoffset = Math.sin(perp) * distance;
                                segSym.xoffset = Math.cos(perp) * distance * -1.5;
                            }
                            if (!segSym.haloSize) {
                                segSym.haloSize = 2;
                                segSym.haloColor = 'white';
                            }
                            if (((_0 = segSym.backgroundColor) === null || _0 === void 0 ? void 0 : _0.a) > 0)
                                segSym.backgroundColor.a = 0;
                            const segLabel = new esri_Graphic__WEBPACK_IMPORTED_MODULE_4__["default"]({
                                geometry: segFinalPoint,
                                symbol: segSym,
                                visible: true,
                                attributes: {
                                    name: segText,
                                    description: 'Segment Label',
                                    isMeasurementLabel: true,
                                    hideFromList: true,
                                    drawMode: 'text',
                                    measurementType: 'segment',
                                    parentGraphicId: (_1 = graphic.attributes) === null || _1 === void 0 ? void 0 : _1.uniqueId,
                                    customized: !!((_2 = preserved === null || preserved === void 0 ? void 0 : preserved.attributes) === null || _2 === void 0 ? void 0 : _2.customized),
                                    lastModified: ((_3 = preserved === null || preserved === void 0 ? void 0 : preserved.attributes) === null || _3 === void 0 ? void 0 : _3.lastModified) || null,
                                    hasCustomPosition: !!((_4 = preserved === null || preserved === void 0 ? void 0 : preserved.attributes) === null || _4 === void 0 ? void 0 : _4.hasCustomPosition),
                                    customPosition: ((_5 = preserved === null || preserved === void 0 ? void 0 : preserved.attributes) === null || _5 === void 0 ? void 0 : _5.customPosition) || null,
                                    // FIXED: Store segment endpoints for proper reset functionality
                                    segmentInfo: ((_6 = preserved === null || preserved === void 0 ? void 0 : preserved.attributes) === null || _6 === void 0 ? void 0 : _6.segmentInfo) || {
                                        point1: path[j - 1],
                                        point2: path[j]
                                    }
                                }
                            });
                            drawLayer.add(segLabel);
                            segLabel.measureParent = graphic;
                            if (graphic.attributes.relatedSegmentLabels)
                                graphic.attributes.relatedSegmentLabels.push(segLabel);
                            else
                                graphic.attributes.relatedSegmentLabels = [segLabel];
                        }
                    }
                }
                catch (segErr) {
                    console.error('Error adding segment measurements:', segErr);
                }
            }
            // CRITICAL: Final sanity check to ensure the main graphic remains visible and on the layer
            try {
                // Double-check graphic visibility
                if (graphic.visible === false) {
                    //console.log('Restoring graphic visibility after measurement processing');
                    graphic.visible = true;
                }
                // Ensure it's still on the layer
                const isStillOnLayer = drawLayer.graphics && drawLayer.graphics.includes && drawLayer.graphics.includes(graphic);
                if (!isStillOnLayer) {
                    //console.log('Re-adding graphic to layer after measurement processing');
                    try {
                        drawLayer.add(graphic);
                    }
                    catch (finalAddError) {
                        console.warn('Final add attempt failed:', finalAddError);
                    }
                }
                // Try refresh methods
                if ('redraw' in view && typeof view.redraw === 'function') {
                    view.redraw();
                }
                else if ('refresh' in drawLayer && typeof drawLayer.refresh === 'function') {
                    drawLayer.refresh();
                }
            }
            catch (finalErr) {
                console.warn('Final sanity check failed, but continuing:', finalErr);
            }
            setCurrentGraphic(graphic);
            return true;
        }
        finally {
            processingQueue.current.delete(graphicId);
            if (!parent && !forceUpdate) {
                setTimeout(() => {
                    measurementLock.current = false;
                    setIsProcessingMeasurements(false);
                }, 100);
            }
        }
    });
    const liveMeasure = () => {
        // Silently defer if SketchViewModel isn't ready - don't warn, just return
        if (!sketchViewModel || !sketchViewModel.view) {
            //console.log('SketchViewModel not ready for measurement setup, deferring...');
            return;
        }
        //console.log('Setting up measurement listeners...');
        // 🔧 Remove existing listeners using refs first (synchronous)
        if (updateListenerRef.current) {
            try {
                updateListenerRef.current.remove();
            }
            catch ( /* no-op */_a) { /* no-op */ }
            updateListenerRef.current = null;
        }
        if (createListenerRef.current) {
            try {
                createListenerRef.current.remove();
            }
            catch ( /* no-op */_b) { /* no-op */ }
            createListenerRef.current = null;
        }
        // Also clean up state-based listeners (defensive)
        if (updateListener) {
            try {
                updateListener.remove();
            }
            catch ( /* no-op */_c) { /* no-op */ }
            setUpdateListener(null);
        }
        if (createListener) {
            try {
                createListener.remove();
            }
            catch ( /* no-op */_d) { /* no-op */ }
            setCreateListener(null);
        }
        // --- UPDATE listener (edit/move/reshape, etc.) ---
        const newUpdateListener = sketchViewModel.on('update', (event) => __awaiter(void 0, void 0, void 0, function* () {
            var _a;
            if (!sketchViewModel || !sketchViewModel.view || !isLayerBasicallyValid())
                return;
            const graphic = (_a = event.graphics) === null || _a === void 0 ? void 0 : _a[0];
            if (!graphic || isMeasurementLabel(graphic))
                return;
            // IMPORTANT: obey the *current* enabled state (ref), but still allow updates
            // to existing measured graphics (so their labels follow edits while enabled).
            if (!measureEnabledRef.current && !graphic.measure)
                return;
            const graphicId = getGraphicId(graphic);
            if (activeEvents.has(graphicId)) {
                //console.log('Skipping update - already processing:', graphicId);
                return;
            }
            setActiveEvents(prev => new Set(prev).add(graphicId));
            try {
                if (event.state === 'active') {
                    // Lightweight updates while actively editing
                    yield _addMeasurementLive(graphic);
                }
                else if (event.state === 'complete') {
                    // Heavier updates when edit completes
                    cleanupCompleteThrottling(graphic);
                    yield throttledCompleteUpdate(graphic);
                }
            }
            finally {
                setTimeout(() => {
                    setActiveEvents(prev => {
                        const next = new Set(prev);
                        next.delete(graphicId);
                        return next;
                    });
                }, 200);
            }
        }));
        // --- CREATE listener (new geometries) ---
        const newCreateListener = sketchViewModel.on('create', (event) => __awaiter(void 0, void 0, void 0, function* () {
            // console.log('🔍 CREATE EVENT:', {
            //   state: event.state,
            //   measureEnabledRef: measureEnabledRef.current,
            //   measureEnabledState: measureEnabled,
            //   hasGraphic: !!event.graphic
            // });
            if (!sketchViewModel || !sketchViewModel.view || !isLayerBasicallyValid()) {
                //console.log('❌ Skipping - SketchViewModel or layer not valid');
                return;
            }
            // CRITICAL: if measurements are disabled *right now*, do nothing
            if (!measureEnabledRef.current || event.state === 'cancel') {
                //console.log('❌ Skipping create - measureEnabledRef:', measureEnabledRef.current, 'state:', event.state);
                return;
            }
            const graphic = event.graphic;
            if (!graphic || isMeasurementLabel(graphic)) {
                //console.log('❌ Skipping - no graphic or is measurement label');
                return;
            }
            //console.log('✅ Proceeding with measurement creation for:', graphic.geometry?.type);
            const graphicId = getGraphicId(graphic);
            // Don't track active events for 'active' state - only for 'complete'
            if (event.state === 'complete') {
                if (activeEvents.has(graphicId)) {
                    //console.log('⚠️ Skipping create - already processing:', graphicId);
                    return;
                }
                setActiveEvents(prev => new Set(prev).add(graphicId));
            }
            try {
                if (event.state === 'active') {
                    //console.log('📊 Creating live measurement');
                    // Show live measurements during active drawing - but don't track in activeEvents
                    try {
                        yield _addMeasurementLive(graphic);
                    }
                    catch (error) {
                        console.warn('Error in live measurement during create:', error);
                    }
                }
                else if (event.state === 'complete') {
                    //console.log('✅ Create complete - scheduling final measurement');
                    // Add a small delay to ensure the graphic is fully processed by the widget first
                    setTimeout(() => {
                        //console.log('🔄 Processing final measurement for:', graphicId);
                        cleanupCompleteThrottling(graphic);
                        throttledCompleteUpdate(graphic);
                        // Ensure visibility after measurement processing
                        setTimeout(() => {
                            var _a;
                            if ((_a = graphic.measure) === null || _a === void 0 ? void 0 : _a.graphic) {
                                ensureLabelVisibility(graphic.measure.graphic);
                            }
                            // CRITICAL: Ensure the main graphic stays visible
                            if (graphic.visible === false) {
                                //console.log('🔄 Restoring graphic visibility after measurement processing');
                                graphic.visible = true;
                            }
                        }, 100);
                    }, 100); // Small delay to let widget finish its processing
                }
            }
            finally {
                // Only clean up activeEvents for complete state
                if (event.state === 'complete') {
                    setTimeout(() => {
                        setActiveEvents(prev => {
                            const next = new Set(prev);
                            next.delete(graphicId);
                            return next;
                        });
                    }, 200);
                }
            }
        }));
        // --- DELETE listener (clean up labels/segments) ---
        const newDeleteListener = sketchViewModel.on('delete', (event) => {
            var _a, _b, _c, _d;
            // DON'T check sketchViewModel here - we're already in its event handler!
            const graphic = (_a = event.graphics) === null || _a === void 0 ? void 0 : _a[0];
            if (!graphic)
                return;
            const graphicId = getGraphicId(graphic);
            // Remove from all tracking
            cleanupCompleteThrottling(graphic);
            setProcessedGraphics(prev => {
                const next = new Set(prev);
                next.delete(graphicId);
                return next;
            });
            setActiveEvents(prev => {
                const next = new Set(prev);
                next.delete(graphicId);
                return next;
            });
            // Clean up measurements - use more permissive layer check
            if (isLayerBasicallyValid()) {
                if (((_b = graphic.measure) === null || _b === void 0 ? void 0 : _b.graphic) && safeLayerContains(graphic.measure.graphic)) {
                    try {
                        safeLayerRemove(graphic.measure.graphic);
                        //console.log('✅ Removed measurement label for deleted graphic');
                    }
                    catch (err) {
                        console.warn("Couldn't remove measurement label:", err);
                    }
                }
                if (Array.isArray((_c = graphic.attributes) === null || _c === void 0 ? void 0 : _c.relatedSegmentLabels)) {
                    try {
                        graphic.attributes.relatedSegmentLabels.forEach(segmentLabel => {
                            if (segmentLabel && safeLayerContains(segmentLabel)) {
                                try {
                                    safeLayerRemove(segmentLabel);
                                }
                                catch (removeErr) {
                                    console.warn("Couldn't remove segment label:", removeErr);
                                }
                            }
                        });
                        graphic.attributes.relatedSegmentLabels = [];
                        //console.log('✅ Removed segment labels for deleted graphic');
                    }
                    catch (err) {
                        console.warn("Couldn't remove segment labels:", err);
                    }
                }
            }
            else {
                // Still clear references even if layer isn't valid
                //console.log('⚠️ Layer not valid, clearing references only');
                if (graphic.measure)
                    graphic.measure = null;
                if ((_d = graphic.attributes) === null || _d === void 0 ? void 0 : _d.relatedSegmentLabels)
                    graphic.attributes.relatedSegmentLabels = [];
            }
            console.log('🗑️ Graphic deletion cleanup complete:', graphicId);
        });
        // 🔧 Store in refs for synchronous access
        updateListenerRef.current = newUpdateListener;
        createListenerRef.current = newCreateListener;
        // Also store in state for useEffect cleanup
        setUpdateListener(newUpdateListener);
        setCreateListener(newCreateListener);
        //console.log('Measurement listeners set up successfully');
    };
    const renderEnhancedMeasurementEditingControls = () => {
        var _a, _b, _c, _d;
        if (props.isDrawingActive || !measureEnabled)
            return null;
        // NEW: Check if there are any actual drawings (exclude measurement labels and buffers)
        const hasDrawings = drawLayer && drawLayer.graphics &&
            drawLayer.graphics.toArray().some(g => {
                var _a, _b, _c, _d;
                return !((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) &&
                    !((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.isBuffer) &&
                    !((_c = g.attributes) === null || _c === void 0 ? void 0 : _c.isPreviewBuffer) &&
                    !((_d = g.attributes) === null || _d === void 0 ? void 0 : _d.hideFromList);
            });
        // Hide if no drawings OR if currently in drawing mode
        if (!hasDrawings || currentTool !== '') {
            return null;
        }
        return ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.CollapsableCheckbox, { label: 'Edit Measurement Labels', onCheckedChange: (e) => {
                // 🔧 Guard against spurious firing during mount/remount
                if (!isInitialMount.current) {
                    // console.log('🔧 User toggled measurement editing to:', e);
                    toggleMeasurementEditing(e);
                }
            }, checked: editableMeasurements, disableActionForUnchecked: true, openForCheck: true, closeForUncheck: true, className: 'w-100', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex flex-column', children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'ml-3 my-1', children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ul", { className: 'text-dark m-0 pl-3 small', children: [!selectedMeasurementLabel && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Click a measurement label to select it and begin editing" })), editableMeasurements && selectedMeasurementLabel && !isDraggingLabel && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { className: 'text-success', children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Label selected" }) })), isDraggingLabel && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { className: 'text-info', children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Dragging active - move mouse and click to place" }) }))] }) }) }), selectedMeasurementLabel &&
                    (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'ml-3 my-1', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'd-flex mb-1', style: { gap: '12px' }, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { style: { flex: '1' }, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h6", { className: 'mb-2', children: "Font" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'd-flex align-items-center justify-content-between mb-2', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: 'mb-0', style: { minWidth: '70px', fontSize: '12px' }, children: "Color:" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_basic_color_picker__WEBPACK_IMPORTED_MODULE_3__.ColorPicker, { color: measurementFontColor, onChange: updateMeasurementFontColor, width: 24, height: 24 })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'd-flex align-items-center justify-content-between mb-2', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: 'mb-0', style: { minWidth: '70px', fontSize: '12px' }, children: "Size:" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.NumericInput, { size: 'sm', value: measurementFontSize, onChange: updateMeasurementFontSize, min: 8, max: 48, step: 1, style: { width: '60px' } })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'd-flex align-items-center justify-content-between mb-2', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: 'mb-0', style: { minWidth: '70px', fontSize: '12px' }, children: "Rotation:" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.NumericInput, { size: 'sm', value: measurementFontRotation, onChange: updateMeasurementFontRotation, min: -180, max: 180, step: 5, style: { width: '60px' } })] })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { style: { flex: '1' }, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h6", { className: 'mb-2', children: "Halo" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'd-flex align-items-center justify-content-between mb-2', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: 'mb-0', style: { minWidth: '70px', fontSize: '12px' }, children: "Enable:" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Switch, { size: 'sm', checked: measurementHaloEnabled, onChange: (e) => updateMeasurementHalo(e.target.checked) })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'd-flex align-items-center justify-content-between mb-2', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: 'mb-0', style: {
                                                            minWidth: '70px',
                                                            fontSize: '12px',
                                                            opacity: measurementHaloEnabled ? 1 : 0.5
                                                        }, children: "Color:" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_basic_color_picker__WEBPACK_IMPORTED_MODULE_3__.ColorPicker, { color: measurementHaloColor, onChange: (color) => updateMeasurementHalo(true, color), width: 24, height: 24, disabled: !measurementHaloEnabled })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'd-flex align-items-center justify-content-between mb-2', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: 'mb-0', style: {
                                                            minWidth: '70px',
                                                            fontSize: '12px',
                                                            opacity: measurementHaloEnabled ? 1 : 0.5
                                                        }, children: "Size:" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.NumericInput, { size: 'sm', value: measurementHaloSize, onChange: (size) => updateMeasurementHalo(true, undefined, size), min: 1, max: 10, step: 1, style: { width: '60px' }, disabled: !measurementHaloEnabled })] })] })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'd-flex justify-content-between', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { centric: true, style: { minWidth: '70px', fontSize: '12px' }, children: ["Bold:", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Switch, { size: 'sm', checked: ((_a = measurementTextSymbol === null || measurementTextSymbol === void 0 ? void 0 : measurementTextSymbol.font) === null || _a === void 0 ? void 0 : _a.weight) === 'bold', onChange: (e) => updateMeasurementFontWeight(e.target.checked), className: 'ml-1' })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { centric: true, style: { minWidth: '70px', fontSize: '12px' }, children: ["Italic:", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Switch, { size: 'sm', checked: ((_b = measurementTextSymbol === null || measurementTextSymbol === void 0 ? void 0 : measurementTextSymbol.font) === null || _b === void 0 ? void 0 : _b.style) === 'italic', onChange: (e) => updateMeasurementFontStyle(e.target.checked), className: 'ml-1' })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { centric: true, style: { minWidth: '70px', fontSize: '12px' }, children: ["Underline:", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Switch, { size: 'sm', checked: ((_c = measurementTextSymbol === null || measurementTextSymbol === void 0 ? void 0 : measurementTextSymbol.font) === null || _c === void 0 ? void 0 : _c.decoration) === 'underline', onChange: (e) => updateMeasurementFontDecoration(e.target.checked), className: 'ml-1' })] })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.ButtonGroup, { block: true, variant: 'contained', size: 'sm', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { color: 'primary', onClick: () => {
                                            var _a;
                                            if (!currentMapView) {
                                                if (sketchViewModel === null || sketchViewModel === void 0 ? void 0 : sketchViewModel.view)
                                                    currentMapView = sketchViewModel.view;
                                                else if ((_a = props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view)
                                                    currentMapView = props.jimuMapView.view;
                                            }
                                            if (selectedMeasurementLabel && currentMapView) {
                                                startLabelDrag(selectedMeasurementLabel, null);
                                            }
                                        }, disabled: isDraggingLabel, title: 'Click to start moving this label', style: { margin: 0 }, children: isDraggingLabel ? 'Dragging...' : 'Move Label' }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { onClick: resetLabelPosition, title: 'Reset label to default calculated position', disabled: !((_d = selectedMeasurementLabel.attributes) === null || _d === void 0 ? void 0 : _d.hasCustomPosition), style: { margin: 0 }, variant: 'outlined', children: "Reset Position" })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Button, { size: 'sm', variant: 'contained', onClick: cleanupMeasurementLabelSelection, title: 'Clear selection and select a different graphic', block: true, style: { margin: 0 }, children: "Clear Selection" })] })] }));
    };
    return ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'drawToolbarDiv', children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex flex-column', children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "measure-toggle-stack", children: [showTextPreview ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {})) : ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [!editableMeasurements ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.CollapsableCheckbox, { label: ((_c = drawLayer === null || drawLayer === void 0 ? void 0 : drawLayer.graphics) === null || _c === void 0 ? void 0 : _c.length) < 1
                                    ? 'Enable Measurements'
                                    : measureEnabled
                                        ? 'Measurements [Adding Measurements]'
                                        : 'Measurements [Removing Measurements]', onCheckedChange: (e) => {
                                    //console.log('🔧 User toggled measurements:', e);
                                    setMeasureEnabled(e);
                                }, checked: measureEnabled, disableActionForUnchecked: true, openForCheck: true, closeForUncheck: true, className: 'w-100', children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'd-flex flex-column', children: [toolType === 'point' || toolType === '' || toolType === 'text' ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {})) : ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: 'drawToolbarDiv', children: ["Linear Units:", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Select, { title: 'Linear Units', onChange: (e) => setDistanceUnit(e.target.value), defaultValue: availableDistanceUnits[props.config.defaultDistance], children: availableDistanceUnits.map((unit, index) => ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Option, { value: unit, children: unit.label + ' (' + unit.abbreviation + ')' }, index))) })] })), toolType === 'point' || toolType === 'polyline' || toolType === 'freepolyline' || toolType === '' || toolType === 'text' ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {})) : ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { className: 'drawToolbarDiv', children: ["Area Units:", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Select, { title: 'Area Units', onChange: (e) => setAreaUnit(e.target.value), defaultValue: availableAreaUnits[props.config.defaultArea], children: availableAreaUnits.map((unit, index) => ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Option, { value: unit, children: unit.label + ' (' + unit.abbreviation + ')' }, index))) })] })), toolType === 'point' ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'd-flex justify-content-center', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { centric: true, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Checkbox, { className: 'mr-2 mt-2 mb-2 ml-4', checked: xy, onChange: () => setXy(!xy) }), "XY"] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { centric: true, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Checkbox, { className: 'mr-2 mt-2 mb-2 ml-4', checked: latLong, onChange: () => setLatLong(!latLong) }), "Lat/Long"] }), xy || latLong ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { centric: true, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Checkbox, { className: 'mr-2 mt-2 mb-2 ml-4', checked: wkid, onChange: () => setWkid(!wkid) }), "WKID"] })) : ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}))] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { centric: true, className: 'd-flex justify-content-center', children: ["Decimal Places:", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.NumericInput, { className: 'decimalInput ml-2', size: 'sm', max: 10, min: 0, step: 1, value: pointRound, onChange: (value) => setPointRound(value) })] })] })) : ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {})), toolType === 'polyline' || toolType === 'freepolyline' ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'd-flex justify-content-center', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { centric: true, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Checkbox, { className: 'mr-2 mt-2 mb-2 ml-4', checked: lengthOn, onChange: () => setLengthOn(!lengthOn) }), "Length"] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { centric: true, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Checkbox, { className: 'mr-2 mt-2 mb-2 ml-4', checked: segmentsOn, onChange: () => setSegmentsOn(!segmentsOn) }), "Line Segments"] })] }), segmentsOn && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex justify-content-center w-100', children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { centric: true, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Switch, { className: 'mr-2', checked: rotateSegments, onChange: () => setRotateSegments(!rotateSegments) }), "Rotate Line Segment Labels"] }) })), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { centric: true, className: 'd-flex justify-content-center', children: ["Decimal Places:", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.NumericInput, { className: 'decimalInput ml-2', size: 'sm', max: 10, min: 0, step: 1, value: otherRound, onChange: (value) => setOtherRound(value) })] }), toolType === 'freepolyline' ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Alert, { className: 'w-100', children: "Line Segments not recommended for freehand tools." })) : ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}))] })) : ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {})), toolType === 'polygon' || toolType === 'freepolygon' || toolType === 'circle' ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'd-flex justify-content-center', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { centric: true, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Checkbox, { className: 'mr-2 mt-2 mb-2 ml-4', checked: areaOn, onChange: () => setAreaOn(!areaOn) }), "Area"] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { centric: true, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Checkbox, { className: 'mr-2 mt-2 mb-2 ml-4', checked: perimeterOn, onChange: () => setPerimeterOn(!perimeterOn) }), "Perimeter"] }), toolType === 'circle' ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { centric: true, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Checkbox, { className: 'mr-2 mt-2 mb-2 ml-4', checked: radiusOn, onChange: () => setRadiusOn(!radiusOn) }), "Radius"] })) : ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {})), toolType === 'polygon' || toolType === 'freepolygon' ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { centric: true, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Checkbox, { className: 'mr-2 mt-2 mb-2 ml-4', checked: segmentsOn, onChange: () => setSegmentsOn(!segmentsOn) }), "Line Segments"] })) : ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}))] }), segmentsOn && (toolType === 'polygon' || toolType === 'freepolygon') && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex justify-content-center w-100', children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { centric: true, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Switch, { className: 'mr-2', checked: rotateSegments, onChange: () => setRotateSegments(!rotateSegments) }), "Rotate Line Segment Labels"] }) })), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Label, { centric: true, className: 'd-flex justify-content-center', children: ["Decimal Places:", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.NumericInput, { className: 'decimalInput ml-2', size: 'sm', max: 10, min: 0, step: 1, value: otherRound, onChange: (value) => setOtherRound(value) })] }), toolType === 'freepolygon' ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Alert, { className: 'w-100', children: "Line Segments not recommended for freehand tools." })) : ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}))] })) : ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}))] }) })) : (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}), renderEnhancedMeasurementEditingControls()] })), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.CollapsableCheckbox, { className: 'w-100', checked: tooltips, onCheckedChange: () => setTooltips(!tooltips), disableActionForUnchecked: true, openForCheck: true, closeForUncheck: true, label: tooltips ? 'Disable Tooltips' : 'Enable Tooltips', children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'ml-3 my-1', children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul", { className: 'text-dark m-0 pl-3 small', children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li", { children: ["Press ", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Tab" }), " to manually enter values."] }) }) }) })] }) }) }));
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Measure);


/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/lib/style.ts":
/*!************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/lib/style.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getStyle: () => (/* binding */ getStyle)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

function getStyle(theme, widgetConfig) {
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
  .drawToolbarDiv {
    margin: 8px;
  }

  .drawToolbarBottomDiv {
    display: flex;
    justify-content: center;
    padding-top: 12px;
  }

  .drawToolbarDiv button,
  .drawToolbarBottomDiv button {
    margin: 4px;
  }

  .drawToolbarDiv>button>Img.jimu-icon,
  .drawToolbarBottomDiv>button>Img.jimu-icon {
    margin: 0;
  }

  .jimu-btn.btn.btn-default.btn-sm.active img,
  .jimu-btn.btn.btn-primary.btn-sm img {
    filter: invert(1);
  }
  .jimu-draw-symbol-divide-line {
    border-right: 1px solid rgb(182, 182, 182);
    height: 26px;
  }
  .color-presenter {
    inset: 2px;
  }

  .symbol-wapper.outer-preview-btn {
    height: 26px;
    width: 26px;
  }
  `;
}


/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/translations/default.ts":
/*!***********************************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/translations/default.ts ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    _widgetLabel: 'Draw',
    drawPoint: 'Draw point',
    drawLine: 'Draw polyline',
    drawFreeLine: 'Draw freehand polyline',
    drawRectangle: 'Draw rectangle',
    drawPolygon: 'Draw polygon',
    drawFreePolygon: 'Draw freehand polygon',
    drawUndo: 'Undo',
    drawRedo: 'Redo',
    drawClear: 'Clear all graphics',
    drawClearSelected: 'Clear selected graphic',
    drawCircle: 'Draw circle',
    drawText: 'Draw text',
    preview: 'Preview',
    fontColor: 'Font color',
    fontSize: 'Font size',
    fontHaloSize: 'Font halo size',
    fontHaloColor: 'Font halo color',
    enableFontHalo: 'Enable font halo',
    fontHalo: 'Font halo',
    fontRotation: 'Font angle',
    fontVAbase: 'Font vertical align baseline',
    fontVAtop: 'Font vertical align top',
    fontVAbottom: 'Font vertical align bottom',
    fontVAmid: 'Font vertical align middle',
    fontBold: 'Bold',
    fontItalic: 'Italic',
    fontUnderline: 'Underline',
    fontHAleft: 'Font horizontal align left',
    fontHAcenter: 'Font horizontal align center',
    fontHAright: 'Font horizontal align right',
    kilometers: 'Kilometers',
    miles: 'Miles',
    meters: 'Meters',
    nauticals: 'Nautical Miles',
    feet: 'Feet',
    yards: 'Yards',
    squareKilometers: 'Square Kilometers',
    squareMiles: 'Square Miles',
    acres: 'Acres',
    hectares: 'Hectares',
    squareMeters: 'Square Meters',
    squareFeet: 'Square Feet',
    squareYards: 'Square Yards'
});


/***/ }),

/***/ "./your-extensions/widgets/draw-advanced/src/runtime/widget.css":
/*!**********************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/widget.css ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_node_modules_resolve_url_loader_index_js_ruleSet_1_rules_3_use_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_3_use_3_widget_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/resolve-url-loader/index.js??ruleSet[1].rules[3].use[2]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[3]!./widget.css */ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!./node_modules/resolve-url-loader/index.js??ruleSet[1].rules[3].use[2]!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[3]!./your-extensions/widgets/draw-advanced/src/runtime/widget.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_node_modules_resolve_url_loader_index_js_ruleSet_1_rules_3_use_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_3_use_3_widget_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_node_modules_resolve_url_loader_index_js_ruleSet_1_rules_3_use_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_3_use_3_widget_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_node_modules_resolve_url_loader_index_js_ruleSet_1_rules_3_use_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_3_use_3_widget_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_node_modules_resolve_url_loader_index_js_ruleSet_1_rules_3_use_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_3_use_3_widget_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "@arcgis/core/Color":
/*!*****************************!*\
  !*** external "esri/Color" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE__arcgis_core_Color__;

/***/ }),

/***/ "@emotion/react/jsx-runtime":
/*!************************************!*\
  !*** external "jimu-core/emotion" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE__emotion_react_jsx_runtime__;

/***/ }),

/***/ "esri/Graphic":
/*!*******************************!*\
  !*** external "esri/Graphic" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_Graphic__;

/***/ }),

/***/ "esri/core/Collection":
/*!***************************************!*\
  !*** external "esri/core/Collection" ***!
  \***************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_core_Collection__;

/***/ }),

/***/ "esri/geometry/Point":
/*!**************************************!*\
  !*** external "esri/geometry/Point" ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_geometry_Point__;

/***/ }),

/***/ "esri/geometry/Polyline":
/*!*****************************************!*\
  !*** external "esri/geometry/Polyline" ***!
  \*****************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_geometry_Polyline__;

/***/ }),

/***/ "esri/geometry/SpatialReference":
/*!*************************************************!*\
  !*** external "esri/geometry/SpatialReference" ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_geometry_SpatialReference__;

/***/ }),

/***/ "esri/geometry/geometryEngineAsync":
/*!****************************************************!*\
  !*** external "esri/geometry/geometryEngineAsync" ***!
  \****************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_geometry_geometryEngineAsync__;

/***/ }),

/***/ "esri/geometry/operators/areaOperator":
/*!*******************************************************!*\
  !*** external "esri/geometry/operators/areaOperator" ***!
  \*******************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_areaOperator__;

/***/ }),

/***/ "esri/geometry/operators/geodeticAreaOperator":
/*!***************************************************************!*\
  !*** external "esri/geometry/operators/geodeticAreaOperator" ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_geodeticAreaOperator__;

/***/ }),

/***/ "esri/geometry/operators/geodeticLengthOperator":
/*!*****************************************************************!*\
  !*** external "esri/geometry/operators/geodeticLengthOperator" ***!
  \*****************************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_geodeticLengthOperator__;

/***/ }),

/***/ "esri/geometry/operators/lengthOperator":
/*!*********************************************************!*\
  !*** external "esri/geometry/operators/lengthOperator" ***!
  \*********************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_lengthOperator__;

/***/ }),

/***/ "esri/geometry/operators/projectOperator":
/*!**********************************************************!*\
  !*** external "esri/geometry/operators/projectOperator" ***!
  \**********************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_geometry_operators_projectOperator__;

/***/ }),

/***/ "esri/geometry/projection":
/*!*******************************************!*\
  !*** external "esri/geometry/projection" ***!
  \*******************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_geometry_projection__;

/***/ }),

/***/ "esri/geometry/support/webMercatorUtils":
/*!*********************************************************!*\
  !*** external "esri/geometry/support/webMercatorUtils" ***!
  \*********************************************************/
/***/ ((module) => {

"use strict";
if(typeof __WEBPACK_EXTERNAL_MODULE_esri_geometry_support_webMercatorUtils__ === 'undefined') { var e = new Error("Cannot find module 'esri/geometry/support/webMercatorUtils'"); e.code = 'MODULE_NOT_FOUND'; throw e; }

module.exports = __WEBPACK_EXTERNAL_MODULE_esri_geometry_support_webMercatorUtils__;

/***/ }),

/***/ "esri/layers/FeatureLayer":
/*!*******************************************!*\
  !*** external "esri/layers/FeatureLayer" ***!
  \*******************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_layers_FeatureLayer__;

/***/ }),

/***/ "esri/layers/GraphicsLayer":
/*!********************************************!*\
  !*** external "esri/layers/GraphicsLayer" ***!
  \********************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_layers_GraphicsLayer__;

/***/ }),

/***/ "esri/symbols/Font":
/*!************************************!*\
  !*** external "esri/symbols/Font" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_symbols_Font__;

/***/ }),

/***/ "esri/symbols/SimpleFillSymbol":
/*!************************************************!*\
  !*** external "esri/symbols/SimpleFillSymbol" ***!
  \************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_symbols_SimpleFillSymbol__;

/***/ }),

/***/ "esri/symbols/SimpleLineSymbol":
/*!************************************************!*\
  !*** external "esri/symbols/SimpleLineSymbol" ***!
  \************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_symbols_SimpleLineSymbol__;

/***/ }),

/***/ "esri/symbols/SimpleMarkerSymbol":
/*!**************************************************!*\
  !*** external "esri/symbols/SimpleMarkerSymbol" ***!
  \**************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_symbols_SimpleMarkerSymbol__;

/***/ }),

/***/ "esri/symbols/TextSymbol":
/*!******************************************!*\
  !*** external "esri/symbols/TextSymbol" ***!
  \******************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_symbols_TextSymbol__;

/***/ }),

/***/ "esri/views/interactive/snapping/FeatureSnappingLayerSource":
/*!*****************************************************************************!*\
  !*** external "esri/views/interactive/snapping/FeatureSnappingLayerSource" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_views_interactive_snapping_FeatureSnappingLayerSource__;

/***/ }),

/***/ "esri/widgets/Sketch/SketchViewModel":
/*!******************************************************!*\
  !*** external "esri/widgets/Sketch/SketchViewModel" ***!
  \******************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_widgets_Sketch_SketchViewModel__;

/***/ }),

/***/ "jimu-arcgis":
/*!******************************!*\
  !*** external "jimu-arcgis" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__;

/***/ }),

/***/ "jimu-core":
/*!****************************!*\
  !*** external "jimu-core" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core__;

/***/ }),

/***/ "jimu-ui":
/*!**************************!*\
  !*** external "jimu-ui" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui__;

/***/ }),

/***/ "jimu-ui/advanced/map":
/*!***************************************!*\
  !*** external "jimu-ui/advanced/map" ***!
  \***************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_map__;

/***/ }),

/***/ "jimu-ui/advanced/setting-components":
/*!******************************************************!*\
  !*** external "jimu-ui/advanced/setting-components" ***!
  \******************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__;

/***/ }),

/***/ "jimu-ui/advanced/style-setting-components":
/*!************************************************************!*\
  !*** external "jimu-ui/advanced/style-setting-components" ***!
  \************************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_style_setting_components__;

/***/ }),

/***/ "jimu-ui/basic/color-picker":
/*!*********************************************!*\
  !*** external "jimu-ui/basic/color-picker" ***!
  \*********************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui_basic_color_picker__;

/***/ }),

/***/ "react":
/*!**********************************!*\
  !*** external "jimu-core/react" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_react__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry needs to be wrapped in an IIFE because it needs to be isolated against other entry modules.
(() => {
/*!******************************************!*\
  !*** ./jimu-core/lib/set-public-path.ts ***!
  \******************************************/
/**
 * Webpack will replace __webpack_public_path__ with __webpack_require__.p to set the public path dynamically.
 * The reason why we can't set the publicPath in webpack config is: we change the publicPath when download.
 * */
__webpack_require__.p = window.jimuConfig.baseUrl;

})();

// This entry needs to be wrapped in an IIFE because it needs to be in strict mode.
(() => {
"use strict";
/*!**********************************************************************!*\
  !*** ./your-extensions/widgets/draw-advanced/src/runtime/widget.tsx ***!
  \**********************************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ScrollableContainer: () => (/* binding */ ScrollableContainer),
/* harmony export */   __set_webpack_public_path__: () => (/* binding */ __set_webpack_public_path__),
/* harmony export */   "default": () => (/* binding */ Widget)
/* harmony export */ });
/* harmony import */ var _emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/react/jsx-runtime */ "@emotion/react/jsx-runtime");
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config */ "./your-extensions/widgets/draw-advanced/src/config.ts");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_icons_outlined_editor_trash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-icons/outlined/editor/trash */ "./jimu-icons/outlined/editor/trash.tsx");
/* harmony import */ var jimu_icons_outlined_directional_arrow_redo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jimu-icons/outlined/directional/arrow-redo */ "./jimu-icons/outlined/directional/arrow-redo.tsx");
/* harmony import */ var jimu_icons_outlined_directional_arrow_undo__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jimu-icons/outlined/directional/arrow-undo */ "./jimu-icons/outlined/directional/arrow-undo.tsx");
/* harmony import */ var jimu_icons_outlined_suggested_wrong__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! jimu-icons/outlined/suggested/wrong */ "./jimu-icons/outlined/suggested/wrong.tsx");
/* harmony import */ var jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! jimu-icons/outlined/editor/close */ "./jimu-icons/outlined/editor/close.tsx");
/* harmony import */ var jimu_icons_svg_outlined_application_setting_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! jimu-icons/svg/outlined/application/setting.svg */ "./jimu-icons/svg/outlined/application/setting.svg");
/* harmony import */ var jimu_icons_svg_outlined_application_setting_svg__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(jimu_icons_svg_outlined_application_setting_svg__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var _lib_style__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./lib/style */ "./your-extensions/widgets/draw-advanced/src/runtime/lib/style.ts");
/* harmony import */ var _translations_default__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./translations/default */ "./your-extensions/widgets/draw-advanced/src/runtime/translations/default.ts");
/* harmony import */ var esri_widgets_Sketch_SketchViewModel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! esri/widgets/Sketch/SketchViewModel */ "esri/widgets/Sketch/SketchViewModel");
/* harmony import */ var jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! jimu-ui/advanced/map */ "jimu-ui/advanced/map");
/* harmony import */ var jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! jimu-ui/advanced/style-setting-components */ "jimu-ui/advanced/style-setting-components");
/* harmony import */ var jimu_ui_basic_color_picker__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! jimu-ui/basic/color-picker */ "jimu-ui/basic/color-picker");
/* harmony import */ var _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @arcgis/core/Color */ "@arcgis/core/Color");
/* harmony import */ var esri_layers_GraphicsLayer__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! esri/layers/GraphicsLayer */ "esri/layers/GraphicsLayer");
/* harmony import */ var esri_Graphic__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! esri/Graphic */ "esri/Graphic");
/* harmony import */ var esri_symbols_TextSymbol__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! esri/symbols/TextSymbol */ "esri/symbols/TextSymbol");
/* harmony import */ var jimu_icons_svg_outlined_editor_text_left_svg__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! jimu-icons/svg/outlined/editor/text-left.svg */ "./jimu-icons/svg/outlined/editor/text-left.svg");
/* harmony import */ var jimu_icons_svg_outlined_editor_text_left_svg__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(jimu_icons_svg_outlined_editor_text_left_svg__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var jimu_icons_svg_outlined_editor_text_center_svg__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! jimu-icons/svg/outlined/editor/text-center.svg */ "./jimu-icons/svg/outlined/editor/text-center.svg");
/* harmony import */ var jimu_icons_svg_outlined_editor_text_center_svg__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(jimu_icons_svg_outlined_editor_text_center_svg__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var jimu_icons_svg_outlined_editor_text_right_svg__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! jimu-icons/svg/outlined/editor/text-right.svg */ "./jimu-icons/svg/outlined/editor/text-right.svg");
/* harmony import */ var jimu_icons_svg_outlined_editor_text_right_svg__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(jimu_icons_svg_outlined_editor_text_right_svg__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var _widget_css__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./widget.css */ "./your-extensions/widgets/draw-advanced/src/runtime/widget.css");
/* harmony import */ var _components_measure__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./components/measure */ "./your-extensions/widgets/draw-advanced/src/runtime/components/measure.tsx");
/* harmony import */ var _components_MyDrawingsPanel__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./components/MyDrawingsPanel */ "./your-extensions/widgets/draw-advanced/src/runtime/components/MyDrawingsPanel.tsx");
/* harmony import */ var _components_SnappingControls__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./components/SnappingControls */ "./your-extensions/widgets/draw-advanced/src/runtime/components/SnappingControls.tsx");
/* harmony import */ var _components_BufferControls__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./components/BufferControls */ "./your-extensions/widgets/draw-advanced/src/runtime/components/BufferControls.tsx");
/* harmony import */ var esri_symbols_SimpleLineSymbol__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! esri/symbols/SimpleLineSymbol */ "esri/symbols/SimpleLineSymbol");
/* harmony import */ var esri_symbols_SimpleFillSymbol__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! esri/symbols/SimpleFillSymbol */ "esri/symbols/SimpleFillSymbol");
/* harmony import */ var esri_symbols_SimpleMarkerSymbol__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! esri/symbols/SimpleMarkerSymbol */ "esri/symbols/SimpleMarkerSymbol");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};

/** @jsx jsx */
































const pinIcon = __webpack_require__(/*! ./assets/pin.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/pin.svg");
const curveIcon = __webpack_require__(/*! ./assets/curve.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/curve.svg");
const lineIcon = __webpack_require__(/*! ./assets/polygonal.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/polygonal.svg");
const rectIcon = __webpack_require__(/*! ./assets/rectangle.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/rectangle.svg");
const polyIcon = __webpack_require__(/*! ./assets/polygon.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/polygon.svg");
const freePolyIcon = __webpack_require__(/*! ./assets/irregular.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/irregular.svg");
const circleIcon = __webpack_require__(/*! ./assets/circle.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/circle.svg");
const textIcon = __webpack_require__(/*! ./assets/text.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/text.svg");
const vAlignTop = __webpack_require__(/*! ./assets/text-align-v-t.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/text-align-v-t.svg");
const vAlignBot = __webpack_require__(/*! ./assets/text-align-v-b.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/text-align-v-b.svg");
const vAlignMid = __webpack_require__(/*! ./assets/text-align-v-m.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/text-align-v-m.svg");
const vAlignBase = __webpack_require__(/*! ./assets/text-align-v-base.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/text-align-v-base.svg");
const fsBoldIcon = __webpack_require__(/*! ./assets/bold.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/bold.svg");
const fItalicIcon = __webpack_require__(/*! ./assets/italic.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/italic.svg");
const fUnderlineIcon = __webpack_require__(/*! ./assets/underline.svg */ "./your-extensions/widgets/draw-advanced/src/runtime/assets/underline.svg");
const ScrollableContainer = ({ children, className = '' }) => {
    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);
    const [showTopShadow, setShowTopShadow] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);
    const [showBottomShadow, setShowBottomShadow] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);
    const checkScroll = () => {
        if (!containerRef.current)
            return;
        const { scrollTop, scrollHeight, clientHeight } = containerRef.current;
        // Show top shadow if scrolled down
        setShowTopShadow(scrollTop > 10);
        // Show bottom shadow if there's more content below
        setShowBottomShadow(scrollTop + clientHeight < scrollHeight - 10);
    };
    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {
        const container = containerRef.current;
        if (!container)
            return;
        // Initial check
        checkScroll();
        // Add scroll listener
        container.addEventListener('scroll', checkScroll);
        // Add resize observer to handle dynamic content changes
        const resizeObserver = new ResizeObserver(() => {
            setTimeout(checkScroll, 100); // Delay to allow content to settle
        });
        resizeObserver.observe(container);
        return () => {
            container.removeEventListener('scroll', checkScroll);
            resizeObserver.disconnect();
        };
    }, []);
    return ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "scrollable-container-wrapper", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `scroll-shadow scroll-shadow-top ${showTopShadow ? 'visible' : ''}`, style: {
                    position: 'absolute',
                    top: 0,
                    left: 0,
                    right: 0,
                    height: '8px',
                    background: 'linear-gradient(to bottom, rgba(0,0,0,0.1), transparent)',
                    pointerEvents: 'none',
                    zIndex: 5,
                    opacity: showTopShadow ? 1 : 0,
                    transition: 'opacity 0.3s ease'
                } }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { ref: containerRef, className: `tab-content ${className}`, style: {
                    flex: 1,
                    overflowY: 'auto',
                    overflowX: 'hidden',
                    minHeight: 0,
                    position: 'relative'
                }, children: children }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `scroll-shadow scroll-shadow-bottom ${showBottomShadow ? 'visible' : ''}`, style: {
                    position: 'absolute',
                    bottom: 0,
                    left: 0,
                    right: 0,
                    height: '8px',
                    background: 'linear-gradient(to top, rgba(0,0,0,0.1), transparent)',
                    pointerEvents: 'none',
                    zIndex: 5,
                    opacity: showBottomShadow ? 1 : 0,
                    transition: 'opacity 0.3s ease'
                } })] }));
};
class Widget extends jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.PureComponent {
    renderSymbolSelectorSection() {
        const { currentSymbol, currentSymbolType, rotationMode } = this.state;
        return ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'mb-2', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h6", { className: 'drawToolbarDiv', children: "Change symbol style:" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "myss border", style: { width: '90%', margin: '0 auto' }, children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_15__.SymbolSelector, { symbol: currentSymbol, jimuSymbolType: currentSymbolType, btnSize: 'sm', onPopperToggle: this.onSymbolPopper, onPointSymbolChanged: this.onPointSymChanged, onPolygonSymbolChanged: this.onPolygonSymbolChanged, onPolylineSymbolChanged: this.onPolylineSymbolChanged, theme: this.props.theme }) }), rotationMode && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'drawToolbarDiv', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h6", { className: 'mt-2', children: "Rotate Point Symbol:" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'w-100 d-flex align-items-center', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.NumericInput, { size: 'sm', value: this.state.currentSymbol.angle, min: 0, max: 360, step: 0.1, onChange: (e) => this.handlePointRotation(e), className: 'mr-2 decimalInput' }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "0\u00B0" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Slider, { value: this.state.currentSymbol.angle, min: 0, max: 360, step: 0.1, onChange: (e) => this.handlePointRotation(e), className: 'mx-2 flex-grow-1' }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "360\u00B0" })] })] })), currentSymbolType === jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_15__.JimuSymbolType.Polyline && this.renderArrowControls()] }));
    }
    renderTextSymbolPreviewButton() {
        const { fontColor, fontSize, fontWeight, fontStyle, fontDecoration, fontRotation, fontHalo, currentTextSymbol } = this.state;
        // Convert Color object to CSS color string with proper type checking
        const backgroundColorString = currentTextSymbol.backgroundColor
            ? (typeof currentTextSymbol.backgroundColor === 'string'
                ? currentTextSymbol.backgroundColor
                : `rgba(${currentTextSymbol.backgroundColor.r}, ${currentTextSymbol.backgroundColor.g}, ${currentTextSymbol.backgroundColor.b}, ${currentTextSymbol.backgroundColor.a})`)
            : 'transparent';
        return ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'mb-2', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h6", { className: 'drawToolbarDiv', children: "Change text options:" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "myss", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "jimu-symbol-selector", style: { width: '90%', margin: '0 auto' }, children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { size: 'sm', type: 'default', onClick: this.showTextSymbolPopper, id: this.props.widgetId + '_btnTextSymbol', style: {
                                width: '100%',
                                height: '36px',
                                padding: '0',
                                backgroundColor: backgroundColorString
                            }, children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: 'icon-btn-sizer', children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "justify-content-center align-items-center symbol-wapper outer-preview-btn d-flex", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "w-100 h-100 justify-content-center d-flex align-items-center symbol-item text-symbol-item", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: 'text-symbol-span', style: {
                                                    color: fontColor,
                                                    fontSize: `${fontSize}px`,
                                                    fontWeight,
                                                    fontStyle,
                                                    fontFamily: currentTextSymbol.font.family,
                                                    textDecoration: fontDecoration,
                                                    zIndex: 100,
                                                    WebkitTransform: `rotate(${fontRotation}deg)`
                                                }, children: currentTextSymbol.text }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { style: {
                                                    color: fontColor,
                                                    fontSize: `${fontSize}px`,
                                                    WebkitTextStroke: fontHalo,
                                                    fontWeight,
                                                    fontStyle,
                                                    fontFamily: currentTextSymbol.font.family,
                                                    textDecoration: fontDecoration,
                                                    position: 'absolute',
                                                    WebkitTransform: `rotate(${fontRotation}deg)`
                                                }, children: currentTextSymbol.text })] }) }) }) }) }) })] }));
    }
    renderArrowControls() {
        const { arrowEnabled, arrowPosition } = this.state;
        return ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "arrow-controls mt-3", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "d-flex align-items-center drawToolbarDiv", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Label, { centric: true, children: ["Enable Arrows", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Switch, { className: "ml-2", checked: arrowEnabled, onChange: this.handleArrowToggle })] }) }), arrowEnabled && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "d-flex align-items-center mb-2 drawToolbarDiv", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Label, { centric: true, className: "mb-0", children: ["Arrow Position:", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.AdvancedButtonGroup, { className: 'ml-2', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { className: 'm-0', size: "sm", type: arrowPosition === 'start' ? 'primary' : 'secondary', active: arrowPosition === 'start', onClick: () => {
                                            //console.log('Arrow position button clicked: start');
                                            this.setState({ arrowPosition: 'start' }, () => {
                                                //console.log('Arrow position updated to:', this.state.arrowPosition);
                                                this.updateLineArrows();
                                            });
                                        }, children: "Start" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { className: 'm-0', size: "sm", type: arrowPosition === 'end' ? 'primary' : 'secondary', active: arrowPosition === 'end', onClick: () => {
                                            //console.log('Arrow position button clicked: end');
                                            this.setState({ arrowPosition: 'end' }, () => {
                                                //console.log('Arrow position updated to:', this.state.arrowPosition);
                                                this.updateLineArrows();
                                            });
                                        }, children: "End" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { className: 'm-0', size: "sm", type: arrowPosition === 'both' ? 'primary' : 'secondary', active: arrowPosition === 'both', onClick: () => {
                                            //console.log('Arrow position button clicked: both');
                                            this.setState({ arrowPosition: 'both' }, () => {
                                                //console.log('Arrow position updated to:', this.state.arrowPosition);
                                                this.updateLineArrows();
                                            });
                                        }, children: "Both" })] })] }) }))] }));
    }
    constructor(props) {
        var _a;
        super(props);
        this.textPreviewSpan = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.createRef();
        this.drawLayer = null;
        this.Graphic = null;
        this.measureRef = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.createRef();
        this._selectionEpoch = 0;
        this._measurementWasEnabled = false;
        this._measurementUpdateTimeout = null;
        this._activeMeasurementUpdateTimeout = null;
        this._positionWatchers = {};
        this.handleTabChange = (nextTab) => {
            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
            if (nextTab === 'mydrawings') {
                const drawings = this.snapshotDrawingsFromLayer();
                (_c = (_b = (_a = this.myDrawingsRef) === null || _a === void 0 ? void 0 : _a.current) === null || _b === void 0 ? void 0 : _b.ingestDrawings) === null || _c === void 0 ? void 0 : _c.call(_b, drawings);
                // Stop any active drawing so clicks on My Drawings won't complete a shape
                this.setDrawToolBtnState('');
                try {
                    (_d = this.sketchViewModel) === null || _d === void 0 ? void 0 : _d.cancel();
                }
                catch (_l) { }
                // Turn off edit mode only (keep existing measurement labels visible)
                (_g = (_f = (_e = this.measureRef) === null || _e === void 0 ? void 0 : _e.current) === null || _f === void 0 ? void 0 : _f.disableMeasurementEditing) === null || _g === void 0 ? void 0 : _g.call(_f);
                this.setState({ graphics: drawings, activeTab: 'mydrawings' });
                return;
            }
            // Back to Draw: FIRST disable measurements synchronously
            if ((_h = this.measureRef) === null || _h === void 0 ? void 0 : _h.current) {
                // Disable measurements IMMEDIATELY before any state changes
                (_k = (_j = this.measureRef.current).setMeasurementEnabled) === null || _k === void 0 ? void 0 : _k.call(_j, false);
            }
            // THEN clear drawing tool and update state
            this.setDrawToolBtnState('');
            this.setState({
                activeTab: nextTab,
                measurementCheckboxOn: false,
                // Clear all drawing tool states
                pointBtnActive: false,
                lineBtnActive: false,
                flineBtnActive: false,
                rectBtnActive: false,
                polygonBtnActive: false,
                fpolygonBtnActive: false,
                circleBtnActive: false,
                textBtnActive: false,
                currentTool: ''
            });
        };
        this.onMeasurementCheckboxChange = (checked) => {
            var _a, _b, _c;
            // Update your own UI state if you track it
            this.setState({ measurementCheckboxOn: checked });
            // Push state to Measure so ONLY the checkbox controls new label generation
            (_c = (_b = (_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) === null || _b === void 0 ? void 0 : _b.setMeasurementEnabled) === null || _c === void 0 ? void 0 : _c.call(_b, checked);
        };
        this._savePositionTimeout = null;
        this.snapshotDrawingsFromLayer = () => {
            if (!this.drawLayer || !this.drawLayer.graphics)
                return [];
            const all = this.drawLayer.graphics.toArray();
            // Exclude labels/overlays/buffers, keep real user drawings
            return all.filter((g) => {
                var _a, _b, _c, _d, _e;
                if ((_a = g === null || g === void 0 ? void 0 : g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel)
                    return false;
                if ((_b = g === null || g === void 0 ? void 0 : g.attributes) === null || _b === void 0 ? void 0 : _b.isSelectionOverlay)
                    return false;
                if (((_c = g === null || g === void 0 ? void 0 : g.attributes) === null || _c === void 0 ? void 0 : _c.isPreviewBuffer) || ((_d = g === null || g === void 0 ? void 0 : g.attributes) === null || _d === void 0 ? void 0 : _d.isBuffer) || ((_e = g === null || g === void 0 ? void 0 : g.attributes) === null || _e === void 0 ? void 0 : _e.isBufferDrawing))
                    return false;
                return !!(g === null || g === void 0 ? void 0 : g.geometry);
            });
        };
        this.myDrawingsRef = jimu_core__WEBPACK_IMPORTED_MODULE_1__.React.createRef();
        this._drawingMap = new Map();
        this.ensureBufferWatchersForSelectedGraphic = (graphic) => {
            var _a;
            // If the graphic has buffer settings, ensure geometry watcher is active
            if (graphic.bufferSettings && graphic.bufferSettings.enabled && graphic.bufferGraphic) {
                const parentId = (_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId;
                if (parentId) {
                    ////console.log(`🔧 Widget: Ensuring buffer watcher for selected graphic: ${parentId}`);
                    // Set up geometry watcher for real-time buffer updates
                    const watcherKey = parentId + '_widget_buffer';
                    const existingWatcher = this._positionWatchers[watcherKey];
                    if (existingWatcher) {
                        existingWatcher.remove();
                    }
                    // Create a geometry watcher specifically for buffer updates
                    this._positionWatchers[watcherKey] = graphic.watch('geometry', (newGeometry) => __awaiter(this, void 0, void 0, function* () {
                        //console.log(`🔄 Widget: Geometry changed, updating buffer for ${parentId}`);
                        if (graphic.bufferGraphic && graphic.bufferSettings) {
                            try {
                                // Update buffer immediately
                                yield this.updateAttachedBuffer(graphic);
                            }
                            catch (error) {
                                console.error('❌ Widget: Error updating buffer:', error);
                            }
                        }
                    }));
                }
            }
        };
        // Add this method to the Widget class
        this.ensurePointTextOverlayFromMap = (graphic) => {
            // console.log('🔶 ensurePointTextOverlayFromMap called with:', {
            //   hasGraphic: !!graphic,
            //   hasDrawLayer: !!this.drawLayer,
            //   geometryType: graphic?.geometry?.type,
            //   symbolType: graphic?.symbol?.type,
            //   graphicName: graphic?.attributes?.name
            // });
            var _a, _b, _c, _d;
            // Guards
            if (!graphic || !this.drawLayer) {
                //console.log('❌ ensurePointTextOverlayFromMap: missing graphic or layer');
                return;
            }
            if (!graphic.geometry || graphic.geometry.type !== 'point') {
                //console.log('❌ ensurePointTextOverlayFromMap: not a point geometry');
                return;
            }
            // Ensure attributes & uniqueId (used for overlay→parent linkage)
            try {
                if (!graphic.attributes)
                    graphic.attributes = {};
                if (!graphic.attributes.uniqueId) {
                    graphic.attributes.uniqueId = `auto_${Date.now()}_${Math.random().toString(36).slice(2, 8)}`;
                }
            }
            catch (e) {
                console.warn('ensurePointTextOverlayFromMap: could not ensure uniqueId:', e);
            }
            // SINGLE-SELECTION POLICY: clear ALL other overlays before creating this one
            try {
                const all = this.drawLayer.graphics.toArray();
                for (const g of all) {
                    if (g && ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isSelectionOverlay)) {
                        try {
                            this.drawLayer.remove(g);
                        }
                        catch (_e) { }
                    }
                    if (g && g._selectionOverlay && g !== graphic) {
                        try {
                            if (g._selectionOverlay.layer === this.drawLayer)
                                this.drawLayer.remove(g._selectionOverlay);
                        }
                        catch (_f) { }
                        g._selectionOverlay = null;
                    }
                }
            }
            catch (e) {
                console.warn('ensurePointTextOverlayFromMap: failed clearing prior overlays:', e);
            }
            // If this graphic already had an overlay, remove it so we can recreate cleanly
            if (graphic._selectionOverlay) {
                try {
                    if (graphic._selectionOverlay.layer === this.drawLayer) {
                        this.drawLayer.remove(graphic._selectionOverlay);
                    }
                }
                catch (_g) { }
                graphic._selectionOverlay = null;
            }
            // Build halo symbol (square for text, circle for markers); faint fill so hitTest can pick it
            const isText = ((_b = graphic.symbol) === null || _b === void 0 ? void 0 : _b.type) === 'text';
            const overlaySymbol = new esri_symbols_SimpleMarkerSymbol__WEBPACK_IMPORTED_MODULE_32__["default"]({
                style: isText ? 'square' : 'circle',
                size: isText ? 28 : 24,
                color: [255, 128, 0, 0.10], // faint orange fill (hit-testable)
                outline: { color: [255, 128, 0, 1], width: 2 }
            });
            const overlay = new esri_Graphic__WEBPACK_IMPORTED_MODULE_20__["default"]({
                geometry: graphic.geometry,
                symbol: overlaySymbol,
                attributes: {
                    hideFromList: true,
                    isMeasurementLabel: false,
                    isSelectionOverlay: true,
                    parentGraphicId: (_d = (_c = graphic.attributes) === null || _c === void 0 ? void 0 : _c.uniqueId) !== null && _d !== void 0 ? _d : null
                }
            });
            try {
                // Add + attach pointer on parent
                this.drawLayer.add(overlay);
                graphic._selectionOverlay = overlay;
                // Prefer top-of-layer order: remove→add now, then again next frame
                const bringToFront = () => {
                    try {
                        this.drawLayer.remove(overlay);
                    }
                    catch (_a) { }
                    this.drawLayer.add(overlay);
                };
                bringToFront();
                // Next macrotask (guards against SVM repaint on the same tick)
                setTimeout(() => {
                    try {
                        if (graphic._selectionOverlay && graphic._selectionOverlay.layer === this.drawLayer) {
                            bringToFront();
                        }
                    }
                    catch (e) {
                        console.warn('Overlay bring-to-front next-tick failed:', e);
                    }
                }, 0);
                // If zIndex is supported by your API version, push it up (harmless if unsupported)
                try {
                    overlay.zIndex = 99999;
                }
                catch (_h) { }
                // Final verification + prune any stray duplicate overlays that may have slipped in
                const overlays = this.drawLayer.graphics.toArray().filter((g) => { var _a; return (_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isSelectionOverlay; });
                if (overlays.length > 1) {
                    overlays.forEach((g) => { if (g !== overlay) {
                        try {
                            this.drawLayer.remove(g);
                        }
                        catch (_a) { }
                    } });
                }
                const overlayInLayer = this.drawLayer.graphics.toArray()
                    .some((g) => { var _a; return g === overlay || ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isSelectionOverlay); });
                console.log('🔍 Overlay present in layer:', overlayInLayer);
            }
            catch (error) {
                console.error('❌ Error creating overlay:', error);
            }
        };
        this.updateAttachedBuffer = (parentGraphic) => __awaiter(this, void 0, void 0, function* () {
            if (!this.drawLayer || !parentGraphic.bufferGraphic || !parentGraphic.bufferSettings)
                return;
            try {
                const { distance, unit, opacity } = parentGraphic.bufferSettings;
                //console.log(`🔄 Widget: Creating new buffer geometry for ${parentGraphic.attributes?.uniqueId} with ${opacity || 50}% opacity`);
                // Create new buffer geometry using async geometry engine
                const newBufferGeometry = yield this.createBufferGeometry(parentGraphic.geometry, distance, unit);
                if (newBufferGeometry) {
                    // Update the buffer graphic's geometry immediately
                    const bufferGraphic = parentGraphic.bufferGraphic;
                    // 🔧 ENHANCED: Also update the symbol to reflect any opacity changes
                    const updatedSymbol = this.createBufferSymbolWithOpacity(parentGraphic, opacity || 50);
                    bufferGraphic.symbol = updatedSymbol;
                    // Remove from layer
                    this.drawLayer.remove(bufferGraphic);
                    // Update geometry
                    bufferGraphic.geometry = newBufferGeometry;
                    // Re-add to layer at correct position
                    const parentIndex = this.drawLayer.graphics.indexOf(parentGraphic);
                    if (parentIndex >= 0) {
                        this.drawLayer.graphics.add(bufferGraphic, parentIndex);
                    }
                    else {
                        this.drawLayer.add(bufferGraphic);
                    }
                    //console.log(`✅ Widget: Buffer geometry updated and refreshed for graphic ${parentGraphic.attributes?.uniqueId} with ${opacity || 50}% opacity`);
                }
            }
            catch (error) {
                console.error('❌ Widget: Error updating attached buffer:', error);
            }
        });
        this.createBufferSymbolWithOpacity = (parentGraphic, opacity) => {
            var _a, _b, _c, _d;
            const geomType = (_a = parentGraphic.geometry) === null || _a === void 0 ? void 0 : _a.type;
            const parentSymbol = parentGraphic.symbol;
            const opacityMultiplier = opacity / 100;
            let fillColor = new _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_18__["default"]([0, 0, 0, 0.15 * opacityMultiplier]);
            let outlineColor = new _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_18__["default"]([0, 0, 0, 0.6 * opacityMultiplier]);
            let outlineWidth = 1.5;
            try {
                if (geomType === 'polygon' && parentSymbol) {
                    const fillSym = parentSymbol;
                    if (fillSym === null || fillSym === void 0 ? void 0 : fillSym.color) {
                        const rgba = fillSym.color.toRgba ? fillSym.color.toRgba() : [0, 0, 0, 1];
                        fillColor = new _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_18__["default"]([rgba[0], rgba[1], rgba[2], Math.min(rgba[3] * opacityMultiplier, 1.0)]);
                        outlineColor = new _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_18__["default"]([rgba[0], rgba[1], rgba[2], Math.min(rgba[3] * opacityMultiplier, 1.0)]);
                    }
                    if ((_b = fillSym === null || fillSym === void 0 ? void 0 : fillSym.outline) === null || _b === void 0 ? void 0 : _b.color) {
                        const rgba = fillSym.outline.color.toRgba ? fillSym.outline.color.toRgba() : [0, 0, 0, 1];
                        outlineColor = new _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_18__["default"]([rgba[0], rgba[1], rgba[2], Math.min(rgba[3] * opacityMultiplier, 1.0)]);
                        if ((_c = fillSym.outline) === null || _c === void 0 ? void 0 : _c.width) {
                            outlineWidth = fillSym.outline.width * 0.8;
                        }
                    }
                }
                else if (geomType === 'polyline' && parentSymbol) {
                    const lineSym = parentSymbol;
                    if (lineSym === null || lineSym === void 0 ? void 0 : lineSym.color) {
                        const rgba = lineSym.color.toRgba ? lineSym.color.toRgba() : [0, 0, 0, 1];
                        fillColor = new _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_18__["default"]([rgba[0], rgba[1], rgba[2], Math.min(rgba[3] * 0.6 * opacityMultiplier, 1.0)]);
                        outlineColor = new _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_18__["default"]([rgba[0], rgba[1], rgba[2], Math.min(rgba[3] * opacityMultiplier, 1.0)]);
                        if (lineSym.width) {
                            outlineWidth = lineSym.width * 0.8;
                        }
                    }
                }
                else if (geomType === 'point' && parentSymbol) {
                    const markerSym = parentSymbol;
                    if (markerSym === null || markerSym === void 0 ? void 0 : markerSym.color) {
                        const rgba = markerSym.color.toRgba ? markerSym.color.toRgba() : [0, 0, 0, 1];
                        fillColor = new _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_18__["default"]([rgba[0], rgba[1], rgba[2], Math.min(rgba[3] * 0.6 * opacityMultiplier, 1.0)]);
                        outlineColor = new _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_18__["default"]([rgba[0], rgba[1], rgba[2], Math.min(rgba[3] * opacityMultiplier, 1.0)]);
                        if ((_d = markerSym.outline) === null || _d === void 0 ? void 0 : _d.width) {
                            outlineWidth = markerSym.outline.width * 0.8;
                        }
                    }
                }
            }
            catch (error) {
                console.warn('Error processing colors:', error);
            }
            //console.log(`🎨 Widget: Creating buffer symbol with ${opacity}% opacity`);
            return new esri_symbols_SimpleFillSymbol__WEBPACK_IMPORTED_MODULE_31__["default"]({
                color: fillColor,
                outline: new esri_symbols_SimpleLineSymbol__WEBPACK_IMPORTED_MODULE_30__["default"]({
                    color: outlineColor,
                    width: outlineWidth,
                    style: 'dash'
                })
            });
        };
        this.createBufferGeometry = (geometry, distance, unit) => __awaiter(this, void 0, void 0, function* () {
            var _a, _b, _c;
            try {
                const view = (_a = this.state.currentJimuMapView) === null || _a === void 0 ? void 0 : _a.view;
                if (!view)
                    return null;
                const linearUnit = unit;
                let bufferResult = null;
                // Import geometry engine async for better performance
                const geometryEngineAsync = yield Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! esri/geometry/geometryEngineAsync */ "esri/geometry/geometryEngineAsync"));
                if (((_b = view.spatialReference) === null || _b === void 0 ? void 0 : _b.isGeographic) || ((_c = view.spatialReference) === null || _c === void 0 ? void 0 : _c.isWebMercator)) {
                    bufferResult = yield geometryEngineAsync.geodesicBuffer(geometry, distance, linearUnit);
                }
                else {
                    bufferResult = yield geometryEngineAsync.buffer(geometry, distance, linearUnit, true);
                }
                if (!bufferResult) {
                    console.warn('Widget: Buffer operation returned null');
                    return null;
                }
                if (Array.isArray(bufferResult)) {
                    if (bufferResult.length === 0) {
                        console.warn('Widget: Buffer operation returned empty array');
                        return null;
                    }
                    return bufferResult[0];
                }
                return bufferResult;
            }
            catch (error) {
                console.error('Widget: Error creating buffer geometry:', error);
                return null;
            }
        });
        this.createLineSymbolWithBuiltInArrows = (base, arrowPosition, arrowSize) => {
            // console.log('Creating SimpleLineSymbol with built-in arrows:', {
            //   baseColor: base.color,
            //   baseWidth: base.width,
            //   arrowPosition
            // });
            // Map arrow position to API placement values
            let placement;
            switch (arrowPosition) {
                case 'start':
                    placement = 'begin';
                    break;
                case 'end':
                    placement = 'end';
                    break;
                case 'both':
                    placement = 'begin-end';
                    break;
                default:
                    console.warn('Unknown arrow position:', arrowPosition, 'defaulting to end');
                    placement = 'end';
            }
            //console.log('Mapped placement:', placement);
            // Create SimpleLineSymbol with marker - arrows scale with line width
            const result = new esri_symbols_SimpleLineSymbol__WEBPACK_IMPORTED_MODULE_30__["default"]({
                color: base.color,
                style: base.style,
                width: base.width,
                marker: {
                    type: 'line-marker',
                    style: 'arrow',
                    placement: placement,
                    color: base.color
                }
            });
            //console.log('Created SimpleLineSymbol with arrows');
            return result;
        };
        this.updateLineArrows = () => {
            //console.log('Updating line arrows with built-in markers, enabled:', this.state.arrowEnabled);
            //console.log('Using arrow size:', this.state.arrowSize);
            var _a;
            // Validate SketchViewModel before proceeding
            if (!this.sketchViewModel || !this.sketchViewModel.view) {
                console.warn('SketchViewModel not available for updateLineArrows');
                return;
            }
            // Update existing graphics
            if (((_a = this.state.graphics) === null || _a === void 0 ? void 0 : _a.length) > 0) {
                this.state.graphics.forEach((gra) => {
                    var _a, _b;
                    if (((_a = gra.geometry) === null || _a === void 0 ? void 0 : _a.type) !== 'polyline')
                        return;
                    //console.log('Updating arrows for polyline:', gra.attributes?.uniqueId);
                    // Get clean base symbol (remove any existing marker)
                    let baseSymbol;
                    if (((_b = gra.symbol) === null || _b === void 0 ? void 0 : _b.type) === 'simple-line') {
                        baseSymbol = gra.symbol.clone();
                        delete baseSymbol.marker; // Remove existing marker
                    }
                    else {
                        // Fall back to SketchViewModel's default - with validation
                        if (!this.sketchViewModel.polylineSymbol) {
                            console.warn('SketchViewModel polylineSymbol not available');
                            return;
                        }
                        baseSymbol = this.sketchViewModel.polylineSymbol.clone();
                        delete baseSymbol.marker;
                    }
                    if (!baseSymbol || baseSymbol.type !== 'simple-line') {
                        console.warn('Could not find valid base line symbol');
                        return;
                    }
                    // Apply arrows or remove them - PASS CURRENT STATE VALUES DIRECTLY
                    if (this.state.arrowEnabled) {
                        try {
                            const arrowSymbol = this.createLineSymbolWithBuiltInArrows(baseSymbol, this.state.arrowPosition, this.state.arrowSize);
                            gra.symbol = arrowSymbol;
                            //console.log('Applied built-in arrows to graphic with size:', this.state.arrowSize);
                        }
                        catch (error) {
                            console.warn('Error applying arrows to graphic:', error);
                        }
                    }
                    else {
                        gra.symbol = baseSymbol; // Remove arrows, use base symbol
                        //console.log('Removed arrows from graphic');
                    }
                });
            }
            // Update the SketchViewModel symbol for new drawings - FIXED VERSION
            const svmBase = this.sketchViewModel.polylineSymbol;
            if (svmBase && svmBase.type === 'simple-line') {
                try {
                    // Create a completely clean base symbol without any marker properties
                    const cleanBase = new esri_symbols_SimpleLineSymbol__WEBPACK_IMPORTED_MODULE_30__["default"]({
                        color: svmBase.color,
                        width: svmBase.width,
                        style: svmBase.style
                        // Explicitly NOT copying the marker property
                    });
                    const updatedSymbol = this.state.arrowEnabled
                        ? this.createLineSymbolWithBuiltInArrows(cleanBase, this.state.arrowPosition, this.state.arrowSize)
                        : cleanBase;
                    this.sketchViewModel.polylineSymbol = updatedSymbol;
                    this.setState({ currentSymbol: updatedSymbol });
                    //console.log('Updated SketchViewModel polyline symbol - arrows enabled:', this.state.arrowEnabled);
                }
                catch (error) {
                    console.warn('Error updating SketchViewModel polyline symbol:', error);
                }
            }
        };
        this.handleArrowToggle = (e) => {
            const enabled = e.target.checked;
            //console.log('Arrow toggle changed:', enabled);
            this.setState({ arrowEnabled: enabled }, () => {
                //console.log('State updated, calling updateLineArrows');
                this.updateLineArrows();
            });
        };
        this.invalidatePendingOverlays = () => {
            // Bump epoch so any scheduled overlay tasks from previous selections are ignored
            this._selectionEpoch++;
        };
        this.clearAllSelectionOverlays = () => {
            if (!this.drawLayer)
                return;
            try {
                this.drawLayer.graphics.toArray().forEach((g) => {
                    if (g && g._selectionOverlay) {
                        try {
                            if (g._selectionOverlay.layer === this.drawLayer) {
                                this.drawLayer.remove(g._selectionOverlay);
                            }
                        }
                        catch (_a) { }
                        g._selectionOverlay = null;
                    }
                });
            }
            catch (_a) { }
        };
        this.removeAttachedBuffer = (parentGraphic) => {
            var _a;
            if (!this.drawLayer || !parentGraphic)
                return;
            const parentId = (_a = parentGraphic.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId;
            if (!parentId)
                return;
            //console.log(`🗑️ Widget: Removing attached buffer for graphic ${parentId}`);
            // Remove buffer graphic from layer
            if (parentGraphic.bufferGraphic) {
                this.drawLayer.remove(parentGraphic.bufferGraphic);
                parentGraphic.bufferGraphic = null;
                //console.log(`✅ Widget: Removed attached buffer graphic`);
            }
            // Clear buffer settings
            if (parentGraphic.bufferSettings) {
                parentGraphic.bufferSettings = null;
                //console.log(`✅ Widget: Cleared buffer settings`);
            }
            // Remove geometry watcher if it exists
            const watcherKey = parentId + '_widget_buffer';
            if (this._positionWatchers && this._positionWatchers[watcherKey]) {
                try {
                    this._positionWatchers[watcherKey].remove();
                    delete this._positionWatchers[watcherKey];
                    //console.log(`✅ Widget: Removed buffer geometry watcher`);
                }
                catch (error) {
                    console.warn('Widget: Error removing buffer geometry watcher:', error);
                }
            }
        };
        this.cleanupOrphanedBuffers = () => {
            if (!this.drawLayer)
                return;
            try {
                const allGraphics = this.drawLayer.graphics.toArray();
                // Get all buffer graphics (including preview buffers and attached buffers)
                const allBuffers = allGraphics.filter(g => {
                    var _a, _b, _c;
                    return ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isPreviewBuffer) ||
                        ((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.isBuffer) ||
                        ((_c = g.attributes) === null || _c === void 0 ? void 0 : _c.isBufferDrawing);
                });
                const measurementLabels = allGraphics.filter(g => { var _a; return (_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel; });
                // Get all main graphics (potential parents)
                const mainGraphics = allGraphics.filter(g => {
                    var _a, _b, _c, _d, _e;
                    return !((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isPreviewBuffer) &&
                        !((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.isBuffer) &&
                        !((_c = g.attributes) === null || _c === void 0 ? void 0 : _c.isMeasurementLabel) &&
                        !((_d = g.attributes) === null || _d === void 0 ? void 0 : _d.hideFromList) &&
                        !((_e = g.attributes) === null || _e === void 0 ? void 0 : _e.isBufferDrawing);
                });
                // Create set of valid parent IDs
                const validParentIds = new Set(mainGraphics
                    .map(g => { var _a; return (_a = g.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId; })
                    .filter(id => id));
                // Find orphaned buffers
                const orphanedBuffers = allBuffers.filter(buffer => {
                    var _a, _b;
                    const parentId = ((_a = buffer.attributes) === null || _a === void 0 ? void 0 : _a.parentId) ||
                        ((_b = buffer.attributes) === null || _b === void 0 ? void 0 : _b.sourceGraphicId);
                    return !parentId || !validParentIds.has(parentId);
                });
                // Find orphaned measurement labels
                const orphanedMeasurementLabels = measurementLabels.filter(label => {
                    var _a;
                    const parentId = (_a = label.attributes) === null || _a === void 0 ? void 0 : _a.parentGraphicId;
                    return !parentId || !validParentIds.has(parentId);
                });
                // Remove orphaned items
                if (orphanedBuffers.length > 0) {
                    //console.log(`Widget: Cleaning up ${orphanedBuffers.length} orphaned buffer graphics`);
                    orphanedBuffers.forEach(buffer => {
                        this.drawLayer.remove(buffer);
                    });
                }
                if (orphanedMeasurementLabels.length > 0) {
                    //console.log(`Widget: Cleaning up ${orphanedMeasurementLabels.length} orphaned measurement labels`);
                    orphanedMeasurementLabels.forEach(label => {
                        this.drawLayer.remove(label);
                    });
                }
                if (orphanedBuffers.length > 0 || orphanedMeasurementLabels.length > 0) {
                    //console.log(`✅ Widget: Buffer cleanup completed - removed ${orphanedBuffers.length} buffers and ${orphanedMeasurementLabels.length} labels`);
                }
            }
            catch (error) {
                console.error('❌ Widget: Error cleaning up orphaned graphics:', error);
            }
        };
        this.nls = (id) => {
            return this.props.intl ? this.props.intl.formatMessage({ id: id, defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_13__["default"][id] }) : id;
        };
        // Add this new method to handle save events
        this.handleSaveEvent = (event) => {
            //console.log('📦 Received save event from BufferControls');
            // Trigger the save to localStorage
            if (this.drawLayer) {
                const allDrawings = this.drawLayer.graphics.toArray();
                this.handleDrawingsUpdate(allDrawings);
            }
        };
        this.activeViewChangeHandler = (jimuMapView) => {
            // Attach to new map view or clear if null
            if (!jimuMapView) {
                if (this.sketchViewModel) {
                    try {
                        this.sketchViewModel.cancel();
                        this.sketchViewModel.destroy();
                    }
                    catch (error) {
                        console.warn('Error cleaning up SketchViewModel:', error);
                    }
                    this.sketchViewModel = null;
                }
                this.setState({ currentJimuMapView: null });
                return;
            }
            this.setState({ currentJimuMapView: jimuMapView });
            jimuMapView.whenJimuMapViewLoaded().then(() => __awaiter(this, void 0, void 0, function* () {
                const { map } = jimuMapView.view;
                const view = jimuMapView.view;
                if (!view || view.destroyed) {
                    console.warn('View is not valid for SketchViewModel initialization');
                    return;
                }
                // Store original popup state
                this.originalPopupEnabled = view.popupEnabled;
                //console.log('Stored original popup state:', this.originalPopupEnabled);
                // Check if widget is controlled by widget state
                const widgetState = this.props.state;
                const isWidgetControlled = widgetState !== undefined && widgetState !== null;
                // Only disable popups immediately if widget is controlled and opened, or if a drawing tool is active
                const isDrawingActive = this.state.pointBtnActive || this.state.lineBtnActive ||
                    this.state.flineBtnActive || this.state.rectBtnActive ||
                    this.state.polygonBtnActive || this.state.fpolygonBtnActive ||
                    this.state.circleBtnActive || this.state.textBtnActive;
                if ((isWidgetControlled && widgetState === jimu_core__WEBPACK_IMPORTED_MODULE_1__.WidgetState.Opened) || isDrawingActive) {
                    // Disable popups and interactions
                    view.popupEnabled = false;
                    if (view.popup && "autoCloseEnabled" in view.popup)
                        view.popup.autoCloseEnabled = false;
                    view.popup.visible = false;
                    view.highlightOptions = { color: [0, 0, 0, 0], fillOpacity: 0, haloOpacity: 0 };
                    //console.log('Disabled popups on widget initialization (controlled widget or drawing active)');
                }
                else {
                    // For uncontrolled widgets with no active drawing tools, leave popups enabled
                    //console.log('Leaving popups enabled on widget initialization (uncontrolled widget, no drawing active)');
                }
                // Clear existing highlights/effects
                view.map.layers.forEach(layer => {
                    view.whenLayerView(layer).then((layerView) => {
                        try {
                            if (layer.type === "feature") {
                                const flv = layerView;
                                if (typeof flv.highlight === "function") {
                                    const h = flv.highlight([]);
                                    h.remove();
                                    // Only disable highlight options if widget is controlled or drawing is active
                                    if ("highlightOptions" in flv && ((isWidgetControlled && widgetState === jimu_core__WEBPACK_IMPORTED_MODULE_1__.WidgetState.Opened) || isDrawingActive)) {
                                        flv.highlightOptions = { color: [0, 0, 0, 0], fillOpacity: 0, haloOpacity: 0 };
                                    }
                                    if (flv.hasOwnProperty("_highlightIds"))
                                        flv._highlightIds = {};
                                }
                            }
                            if ("featureEffect" in layerView)
                                layerView.featureEffect = null;
                            if ("filter" in layerView)
                                layerView.filter = null;
                            if (typeof layerView.refresh === "function")
                                layerView.refresh();
                        }
                        catch (err) {
                            console.warn(`Error clearing highlight for layer ${layer.title}:`, err);
                        }
                    }).catch(err => console.warn(`Could not get layerView for ${layer.title}:`, err));
                });
                if (this.state.widgetInit) {
                    this.creationMode = this.props.config.creationMode || _config__WEBPACK_IMPORTED_MODULE_3__.DrawMode.SINGLE;
                    const dLayer = map.findLayerById('DrawGL');
                    if (dLayer) {
                        this.drawLayer = dLayer;
                        if (this.drawLayer.graphics.length > 0)
                            this.setState({ drawGLLengthcheck: true });
                    }
                    else {
                        map.add(this.drawLayer);
                    }
                }
                this.drawLayer.graphics.watch('length', (len) => {
                    this.setState({ drawGLLengthcheck: len > 0 });
                });
                // Rebuild SketchViewModel cleanly with enhanced configuration
                if (this.sketchViewModel) {
                    try {
                        this.sketchViewModel.cancel();
                        this.sketchViewModel.destroy();
                    }
                    catch (error) {
                        console.warn('Error cleaning up existing SketchViewModel:', error);
                    }
                }
                try {
                    this.sketchViewModel = new esri_widgets_Sketch_SketchViewModel__WEBPACK_IMPORTED_MODULE_14__["default"]({
                        view,
                        updateOnGraphicClick: false, // CRITICAL: prevents SVM from intercepting measurement label clicks
                        layer: this.drawLayer,
                        defaultUpdateOptions: {
                            toggleToolOnClick: false // Prevents automatic tool switching
                        }
                    });
                    // Extra safeguard: ensure it stays off even if modified elsewhere
                    this.sketchViewModel.updateOnGraphicClick = false;
                    if (!this.sketchViewModel.view) {
                        console.error('SketchViewModel created without valid view');
                        return;
                    }
                    // Wait for SketchViewModel to be fully ready before proceeding
                    yield new Promise((resolve) => {
                        if (this.sketchViewModel.state === "ready") {
                            resolve();
                        }
                        else {
                            const handle = this.sketchViewModel.watch("state", (state) => {
                                if (state === "ready") {
                                    handle.remove();
                                    resolve();
                                }
                            });
                        }
                    });
                    this.sketchViewModel.on('create', this.svmGraCreate);
                    this.sketchViewModel.on('update', this.svmGraUpdate);
                    //console.log('✅ SketchViewModel fully initialized and ready');
                }
                catch (error) {
                    console.error('Error creating SketchViewModel:', error);
                    return;
                }
                // --- Helper Functions ----------------------------------------------------------
                // Remove ALL selection overlay graphics and null pointers on base graphics
                const clearAllSelectionOverlaysLocal = () => {
                    if (!this.drawLayer)
                        return;
                    try {
                        this.drawLayer.graphics.toArray().forEach((g) => {
                            if (g && g._selectionOverlay) {
                                try {
                                    if (g._selectionOverlay.layer === this.drawLayer) {
                                        this.drawLayer.remove(g._selectionOverlay);
                                    }
                                }
                                catch (_a) { }
                                g._selectionOverlay = null;
                            }
                        });
                    }
                    catch (e) {
                        console.warn('clearAllSelectionOverlaysLocal failed:', e);
                    }
                };
                // Enhanced measurement label detection
                const isMeasurementLabelGraphic = (graphic) => {
                    var _a, _b, _c;
                    if (!graphic || !graphic.symbol)
                        return false;
                    // Primary identification
                    if (((_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) === true)
                        return true;
                    if ((_b = graphic.attributes) === null || _b === void 0 ? void 0 : _b.measurementType)
                        return true;
                    if (((_c = graphic.attributes) === null || _c === void 0 ? void 0 : _c.hideFromList) && graphic.symbol.type === 'text')
                        return true;
                    // Pattern-based identification for restored labels
                    if (graphic.symbol.type === 'text') {
                        const text = graphic.symbol.text || '';
                        const measurementPatterns = [
                            /\d+(\.\d+)?\s*(km|mi|m|ft|yd|km²|mi²|ac|ha|m²|ft²|yd²)/,
                            /Area:|Perimeter:|Radius:|Total:|Lat:|Lon:|X:|Y:/
                        ];
                        return measurementPatterns.some(pattern => pattern.test(text));
                    }
                    return false;
                };
                // --- Event Handlers -----------------------------------------------------------
                // HIGH PRIORITY: immediate-click for measurement label interactions
                view.on("immediate-click", (event) => __awaiter(this, void 0, void 0, function* () {
                    var _a, _b, _c, _d, _e;
                    try {
                        //console.log('🔍 WIDGET: Immediate-click for measurement labels at:', event.x, event.y);
                        // Only handle measurement labels in this handler
                        if (!((_c = (_b = (_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) === null || _b === void 0 ? void 0 : _b.isEditingMeasurements) === null || _c === void 0 ? void 0 : _c.call(_b))) {
                            return; // Not in measurement editing mode
                        }
                        // Check if drawing tools are active - if so, skip measurement handling
                        const isDrawingActive = this.state.pointBtnActive || this.state.lineBtnActive ||
                            this.state.flineBtnActive || this.state.rectBtnActive ||
                            this.state.polygonBtnActive || this.state.fpolygonBtnActive ||
                            this.state.circleBtnActive || this.state.textBtnActive;
                        if (isDrawingActive) {
                            //console.log('🎨 Drawing tool active - skipping measurement label handling');
                            return;
                        }
                        // Enhanced hit test specifically for measurement labels
                        const hitTestResult = yield view.hitTest(event, {
                            include: [this.drawLayer]
                        });
                        // Enhanced measurement label detection
                        const measurementLabelHit = hitTestResult.results.find(result => {
                            if (!result || !('graphic' in result) || !result.graphic)
                                return false;
                            return isMeasurementLabelGraphic(result.graphic);
                        });
                        if (measurementLabelHit) {
                            //console.log('🏷️ Measurement label detected via immediate-click');
                            // Handle measurement label selection
                            (_e = (_d = this.measureRef.current) === null || _d === void 0 ? void 0 : _d.handleMeasurementLabelSelection) === null || _e === void 0 ? void 0 : _e.call(_d, measurementLabelHit.graphic);
                            return; // Don't let this fall through to normal click handler
                        }
                    }
                    catch (error) {
                        console.error('❌ Error in immediate-click measurement handler:', error);
                    }
                }));
                // STANDARD: click handler for drawing selection and general interactions
                view.on("click", (event) => __awaiter(this, void 0, void 0, function* () {
                    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t;
                    try {
                        //console.log('🔍 WIDGET: Standard click detected at:', event.x, event.y);
                        if (!this.sketchViewModel || !this.sketchViewModel.view) {
                            console.warn('SketchViewModel not available for click handling');
                            return;
                        }
                        // Check drawing state first to avoid conflicts
                        const isDrawingActive = this.state.pointBtnActive || this.state.lineBtnActive ||
                            this.state.flineBtnActive || this.state.rectBtnActive ||
                            this.state.polygonBtnActive || this.state.fpolygonBtnActive ||
                            this.state.circleBtnActive || this.state.textBtnActive;
                        // If drawing is active, skip entirely (let SketchViewModel handle)
                        if (isDrawingActive) {
                            //console.log('🎨 Drawing tool active - letting SketchViewModel handle click');
                            return;
                        }
                        // If measurement editing is active, clear selection when clicking non-measurement graphics
                        if ((_c = (_b = (_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) === null || _b === void 0 ? void 0 : _b.isEditingMeasurements) === null || _c === void 0 ? void 0 : _c.call(_b)) {
                            // Do a quick check to see if we hit a measurement label
                            const quickHitTest = yield view.hitTest(event, { include: [this.drawLayer] });
                            const hitMeasurementLabel = quickHitTest.results.some(result => {
                                if (!result || !('graphic' in result))
                                    return false;
                                return isMeasurementLabelGraphic(result.graphic);
                            });
                            if (!hitMeasurementLabel) {
                                // Clicked on non-measurement, clear measurement selection
                                (_e = (_d = this.measureRef.current) === null || _d === void 0 ? void 0 : _d.cleanupMeasurementLabelSelection) === null || _e === void 0 ? void 0 : _e.call(_d);
                                // Continue with normal selection logic below
                            }
                            else {
                                // This is a measurement label, but immediate-click should have handled it
                                // If it gets here, it means immediate-click didn't catch it, so we can handle it
                                const measurementLabelHit = quickHitTest.results.find(result => {
                                    if (!result || !('graphic' in result))
                                        return false;
                                    return isMeasurementLabelGraphic(result.graphic);
                                });
                                if (measurementLabelHit) {
                                    //console.log('🏷️ Measurement label caught by standard click (fallback)');
                                    (_g = (_f = this.measureRef.current) === null || _f === void 0 ? void 0 : _f.handleMeasurementLabelSelection) === null || _g === void 0 ? void 0 : _g.call(_f, measurementLabelHit.graphic);
                                    return;
                                }
                            }
                        }
                        //console.log('Performing hit test for drawing graphics');
                        // Enhanced hit testing for drawing graphics
                        let hitTestResult = yield view.hitTest(event, { include: [this.drawLayer] });
                        // Fallback hit testing if no results from layer-specific test
                        if (hitTestResult.results.length === 0) {
                            const allHitTest = yield view.hitTest(event);
                            const drawGraphics = (_l = (_k = (_j = (_h = this.drawLayer) === null || _h === void 0 ? void 0 : _h.graphics) === null || _j === void 0 ? void 0 : _j.toArray) === null || _k === void 0 ? void 0 : _k.call(_j)) !== null && _l !== void 0 ? _l : [];
                            const idSet = new Set(drawGraphics.map(g => { var _a; return (_a = g.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId; }).filter(Boolean));
                            const drawLayerResults = allHitTest.results.filter(result => {
                                var _a, _b, _c, _d, _e;
                                if (!result || !('graphic' in result) || !result.graphic)
                                    return false;
                                const g = result.graphic;
                                const onOurLayer = g.layer === this.drawLayer || ((_a = g.layer) === null || _a === void 0 ? void 0 : _a.id) === 'DrawGL' || ((_b = g.layer) === null || _b === void 0 ? void 0 : _b.id) === ((_c = this.drawLayer) === null || _c === void 0 ? void 0 : _c.id);
                                const isOverlay = !!((_d = g.attributes) === null || _d === void 0 ? void 0 : _d.isSelectionOverlay);
                                const hasKnownId = !!((_e = g.attributes) === null || _e === void 0 ? void 0 : _e.uniqueId) && idSet.has(g.attributes.uniqueId);
                                return onOurLayer || isOverlay || hasKnownId;
                            });
                            if (drawLayerResults.length > 0) {
                                hitTestResult = { results: drawLayerResults };
                            }
                        }
                        // Normalize overlay hits to parent graphics
                        const results = hitTestResult.results || [];
                        const normalizedResults = [];
                        for (const r of results) {
                            if (!r || !r.graphic)
                                continue;
                            const g = r.graphic;
                            // Convert overlay hits to parent graphic hits
                            if (((_m = g.attributes) === null || _m === void 0 ? void 0 : _m.isSelectionOverlay) && ((_o = g.attributes) === null || _o === void 0 ? void 0 : _o.parentGraphicId)) {
                                const parentId = g.attributes.parentGraphicId;
                                const parent = (_q = (_p = this.drawLayer) === null || _p === void 0 ? void 0 : _p.graphics) === null || _q === void 0 ? void 0 : _q.find((pg) => { var _a; return ((_a = pg.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId) === parentId; });
                                if (parent) {
                                    normalizedResults.push(Object.assign(Object.assign({}, r), { graphic: parent }));
                                    continue;
                                }
                            }
                            normalizedResults.push(r);
                        }
                        // Filter out measurement labels, buffers, and other non-selectable graphics
                        const selectableGraphicHits = normalizedResults.filter((result) => {
                            var _a, _b, _c, _d, _e, _f;
                            if (!result || !result.graphic || result.graphic.layer !== this.drawLayer)
                                return false;
                            const graphic = result.graphic;
                            // Exclude measurement labels
                            if (isMeasurementLabelGraphic(graphic))
                                return false;
                            // Exclude buffers
                            if (((_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.isPreviewBuffer) ||
                                ((_b = graphic.attributes) === null || _b === void 0 ? void 0 : _b.isBuffer) ||
                                ((_c = graphic.attributes) === null || _c === void 0 ? void 0 : _c.isBufferDrawing) ||
                                ((_e = (_d = graphic.attributes) === null || _d === void 0 ? void 0 : _d.uniqueId) === null || _e === void 0 ? void 0 : _e.startsWith('buffer_')))
                                return false;
                            // Exclude selection overlays
                            if ((_f = graphic.attributes) === null || _f === void 0 ? void 0 : _f.isSelectionOverlay)
                                return false;
                            return true;
                        });
                        // Process selectable graphic hits
                        if (selectableGraphicHits.length > 0) {
                            const clickedGraphic = selectableGraphicHits[0].graphic;
                            //console.log('✅ Selecting drawing graphic:', (clickedGraphic as any).attributes?.name);
                            // Invalidate any pending overlay schedules from previous selection
                            this._selectionEpoch++;
                            // Clear previous halos BEFORE selecting the new one
                            clearAllSelectionOverlaysLocal();
                            // Handle the selection
                            const uid = (_r = clickedGraphic.attributes) === null || _r === void 0 ? void 0 : _r.uniqueId;
                            const idx = uid && ((_s = this._drawingMap) === null || _s === void 0 ? void 0 : _s.has(uid)) ? this._drawingMap.get(uid) : -1;
                            this.handleDrawingSelect(clickedGraphic, idx);
                            // Sync list UI if index is known
                            if (uid && ((_t = this._drawingMap) === null || _t === void 0 ? void 0 : _t.has(uid))) {
                                const index = this._drawingMap.get(uid);
                                document.querySelectorAll('.drawing-item').forEach(item => item.classList.remove('selected-drawing'));
                                const item = document.getElementById(`drawing-item-${index}`);
                                if (item) {
                                    item.classList.add('selected-drawing');
                                    item.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                                }
                                this.setState({ selectedGraphicIndex: index, selectedGraphics: new Set([index]) });
                            }
                        }
                        else {
                            // Click away - clear all selections
                            //console.log('🔘 WIDGET: No selectable graphics hit - clearing selections');
                            try {
                                if (this.sketchViewModel && this.sketchViewModel.view) {
                                    this.sketchViewModel.cancel();
                                }
                            }
                            catch (error) {
                                console.warn('Error canceling SketchViewModel:', error);
                            }
                            // Invalidate any pending overlay schedules
                            this._selectionEpoch++;
                            // Clear halos and selection states
                            clearAllSelectionOverlaysLocal();
                            if (this.state.selectedGraphicIndex !== null) {
                                this.setState({ selectedGraphicIndex: null, selectedGraphics: new Set() });
                                document.querySelectorAll('.drawing-item').forEach(item => item.classList.remove('selected-drawing'));
                            }
                        }
                    }
                    catch (err) {
                        console.error("❌ Hit test error:", err);
                    }
                }));
                // Clean up orphaned buffers when graphics are removed
                this.drawLayer.graphics.on("change", (event) => {
                    if (event.removed && event.removed.length > 0) {
                        setTimeout(() => { this.cleanupOrphanedBuffers(); }, 100);
                    }
                });
                //console.log('✅ Enhanced event handlers configured successfully');
            })).catch(error => {
                console.error('❌ Error in activeViewChangeHandler:', error);
            });
        };
        this.handleMeasurementSystemControl = (enabled) => {
            var _a;
            if ((_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) {
                if (enabled) {
                    // Remove the complex delay logic - SketchViewModel is now properly initialized
                    if (this.sketchViewModel && this.sketchViewModel.view) {
                        // Check if drawing tools are active before enabling
                        const isDrawingActive = this.state.pointBtnActive || this.state.lineBtnActive ||
                            this.state.flineBtnActive || this.state.rectBtnActive ||
                            this.state.polygonBtnActive || this.state.fpolygonBtnActive ||
                            this.state.circleBtnActive || this.state.textBtnActive;
                        if (!isDrawingActive) {
                            this.measureRef.current.enableMeasurements();
                        }
                        else {
                            //console.log('Drawing tool active - measurement enable deferred');
                        }
                    }
                    else {
                        console.warn('SketchViewModel not ready for measurements');
                    }
                }
                else {
                    this.measureRef.current.disableMeasurements();
                }
            }
        };
        this.toggleDrawingsPanel = () => {
            this.setState({ showDrawingsPanel: !this.state.showDrawingsPanel });
        };
        this.clearSelectionOverlaysInDrawLayer = () => {
            if (!this.drawLayer)
                return;
            try {
                this.drawLayer.graphics.toArray().forEach(g => {
                    const ext = g;
                    if (ext._selectionOverlay) {
                        try {
                            this.drawLayer.remove(ext._selectionOverlay);
                        }
                        catch (_a) { }
                        ext._selectionOverlay = null;
                    }
                });
            }
            catch (e) {
                console.warn('Error clearing selection overlays:', e);
            }
        };
        this.handleDrawingSelect = (graphic, index) => {
            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;
            // Guard & skip buffers
            if (!graphic)
                return;
            if ((_a = graphic.attributes) === null || _a === void 0 ? void 0 : _a.isBuffer)
                return;
            // Validate SketchViewModel and view before proceeding
            if (!this.sketchViewModel || !this.sketchViewModel.view) {
                console.warn('SketchViewModel or view not ready for selection');
                return;
            }
            // Ensure attributes/uniqueId exist (used for overlay parent linkage & list sync)
            try {
                if (!graphic.attributes)
                    graphic.attributes = {};
                if (!graphic.attributes.uniqueId) {
                    graphic.attributes.uniqueId = `auto_${Date.now()}_${Math.random().toString(36).slice(2, 8)}`;
                }
            }
            catch (e) {
                console.warn('Could not ensure uniqueId on graphic:', e);
            }
            // Cancel any active operations before starting a new one
            try {
                this.sketchViewModel.cancel();
            }
            catch (error) {
                console.warn('Error canceling sketch operation:', error);
                return;
            }
            // Bump epoch to invalidate any pending overlay timeouts from prior selections
            const myEpoch = ++this._selectionEpoch;
            // --- SINGLE-SELECTION POLICY: clear ALL existing halos before selecting anew ---
            try {
                if (this.drawLayer) {
                    this.drawLayer.graphics.toArray().forEach((g) => {
                        if (g && g._selectionOverlay) {
                            try {
                                if (g._selectionOverlay.layer === this.drawLayer) {
                                    this.drawLayer.remove(g._selectionOverlay);
                                }
                            }
                            catch (_a) { }
                            g._selectionOverlay = null;
                        }
                    });
                }
            }
            catch (e) {
                console.warn('Failed clearing existing selection overlays:', e);
            }
            // Normalize unsupported polyline symbol types to SimpleLineSymbol
            if (((_b = graphic.geometry) === null || _b === void 0 ? void 0 : _b.type) === 'polyline' && ((_c = graphic.symbol) === null || _c === void 0 ? void 0 : _c.type) !== 'simple-line') {
                const symbolColor = ((_d = graphic.symbol) === null || _d === void 0 ? void 0 : _d.color) || [0, 0, 0, 1];
                const symbolWidth = ((_e = graphic.symbol) === null || _e === void 0 ? void 0 : _e.width) || 2;
                const symbolStyle = ((_f = graphic.symbol) === null || _f === void 0 ? void 0 : _f.style) || 'solid';
                graphic.symbol = new esri_symbols_SimpleLineSymbol__WEBPACK_IMPORTED_MODULE_30__["default"]({ color: symbolColor, width: symbolWidth, style: symbolStyle });
            }
            // Use our internal SketchVM to edit the graphic
            try {
                if (!this.sketchViewModel.view) {
                    console.warn('SketchViewModel view became invalid during selection');
                    return;
                }
                this.sketchViewModel.update([graphic]);
                // Update measurements when graphic is selected for editing
                // FIXED: Add SketchViewModel validation before updating measurements
                if ((_g = this.measureRef) === null || _g === void 0 ? void 0 : _g.current) {
                    // Check if SketchViewModel is available before attempting measurement update
                    if (this.sketchViewModel && this.sketchViewModel.view) {
                        // Also check if measurements are not currently processing
                        if (!this.measureRef.current.isBusy || !this.measureRef.current.isBusy()) {
                            this.measureRef.current.updateMeasurementsForGraphic(graphic);
                        }
                        else {
                            //console.log('Measurement system busy, deferring update');
                            setTimeout(() => {
                                var _a, _b;
                                if (((_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) && ((_b = this.sketchViewModel) === null || _b === void 0 ? void 0 : _b.view)) {
                                    this.measureRef.current.updateMeasurementsForGraphic(graphic);
                                }
                            }, 500);
                        }
                    }
                    else {
                        console.warn('SketchViewModel not ready for measurement update during selection');
                    }
                }
                // Auto-select measurement label if measurement editing is active
                if ((_k = (_j = (_h = this.measureRef) === null || _h === void 0 ? void 0 : _h.current) === null || _j === void 0 ? void 0 : _j.isEditingMeasurements) === null || _k === void 0 ? void 0 : _k.call(_j)) {
                    //console.log('Measurement editing active - auto-selecting measurement label for newly selected graphic');
                    // Use a small delay to ensure measurement updates are complete
                    setTimeout(() => {
                        var _a, _b;
                        if ((_b = (_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) === null || _b === void 0 ? void 0 : _b.selectGraphicMeasurementLabel) {
                            this.measureRef.current.selectGraphicMeasurementLabel(graphic);
                        }
                    }, 100);
                }
                // Set up buffer watcher for the selected graphic
                this.ensureBufferWatchersForSelectedGraphic(graphic);
                // ----- Overlay scheduling for point/text selections (epoch-guarded) -----
                const isPoint = ((_l = graphic.geometry) === null || _l === void 0 ? void 0 : _l.type) === 'point';
                const ext = graphic;
                // If selecting a non-point (line/polygon), ensure any prior overlay on THIS graphic is gone
                if (!isPoint && ext._selectionOverlay) {
                    try {
                        if (ext._selectionOverlay.layer === this.drawLayer)
                            this.drawLayer.remove(ext._selectionOverlay);
                    }
                    catch (_t) { }
                    ext._selectionOverlay = null;
                }
                if (isPoint) {
                    // Proactively clear stale pointer on this graphic (in case it somehow had one)
                    try {
                        if (ext._selectionOverlay) {
                            if (ext._selectionOverlay.layer === this.drawLayer)
                                this.drawLayer.remove(ext._selectionOverlay);
                            ext._selectionOverlay = null;
                        }
                    }
                    catch (e) {
                        console.warn('Overlay pre-clear on target failed:', e);
                        ext._selectionOverlay = null;
                    }
                    // Give SketchViewModel a tick to settle, then add halo; double-check shortly after.
                    setTimeout(() => {
                        if (myEpoch !== this._selectionEpoch)
                            return; // stale job
                        this.ensurePointTextOverlayFromMap(ext);
                        setTimeout(() => {
                            if (myEpoch !== this._selectionEpoch)
                                return; // stale job
                            if (!ext._selectionOverlay || ext._selectionOverlay.layer !== this.drawLayer) {
                                this.ensurePointTextOverlayFromMap(ext);
                            }
                            else {
                                // Keep geometry current & bring-to-front again for good measure
                                try {
                                    ext._selectionOverlay.geometry = ext.geometry;
                                    this.drawLayer.remove(ext._selectionOverlay);
                                    this.drawLayer.add(ext._selectionOverlay);
                                }
                                catch (_a) { }
                            }
                        }, 250);
                    }, 150);
                }
                // -----------------------------------------------------------------------
                // ----- Watchers for this graphic -----
                const graphicKey = (graphic.attributes && graphic.attributes.uniqueId) || `temp_${Date.now()}`;
                // Remove any existing watchers for this graphic if present
                if (this._positionWatchers) {
                    try {
                        if (this._positionWatchers[graphicKey]) {
                            (_o = (_m = this._positionWatchers[graphicKey]).remove) === null || _o === void 0 ? void 0 : _o.call(_m);
                            delete this._positionWatchers[graphicKey];
                        }
                        if (this._positionWatchers[graphicKey + '_symbol']) {
                            (_q = (_p = this._positionWatchers[graphicKey + '_symbol']).remove) === null || _q === void 0 ? void 0 : _q.call(_p);
                            delete this._positionWatchers[graphicKey + '_symbol'];
                        }
                        if (this._positionWatchers[graphicKey + '_attributes']) {
                            (_s = (_r = this._positionWatchers[graphicKey + '_attributes']).remove) === null || _s === void 0 ? void 0 : _s.call(_r);
                            delete this._positionWatchers[graphicKey + '_attributes'];
                        }
                    }
                    catch (e) {
                        console.warn('Error clearing prior watchers:', e);
                    }
                }
                else {
                    this._positionWatchers = {};
                }
                // Geometry watcher - FIXED: Add SketchViewModel validation
                this._positionWatchers[graphicKey] = graphic.watch('geometry', () => __awaiter(this, void 0, void 0, function* () {
                    var _a, _b;
                    // Debounced measurement update with SketchViewModel validation
                    if (((_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) && ((_b = this.sketchViewModel) === null || _b === void 0 ? void 0 : _b.view)) {
                        clearTimeout(this._measurementUpdateTimeout);
                        this._measurementUpdateTimeout = setTimeout(() => {
                            var _a, _b;
                            // Double-check SketchViewModel is still valid
                            if (((_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) && ((_b = this.sketchViewModel) === null || _b === void 0 ? void 0 : _b.view)) {
                                this.measureRef.current.updateMeasurementsForGraphic(graphic);
                            }
                        }, 300);
                    }
                    // Keep buffer synced if present
                    const extendedGraphic = graphic;
                    if (extendedGraphic.bufferGraphic && extendedGraphic.bufferSettings) {
                        try {
                            yield this.updateAttachedBuffer(extendedGraphic);
                        }
                        catch (error) {
                            console.error('❌ Widget: Error updating buffer:', error);
                        }
                    }
                    // Keep overlay geometry in sync if present (points only)
                    if (isPoint && graphic._selectionOverlay) {
                        try {
                            graphic._selectionOverlay.geometry = graphic.geometry;
                        }
                        catch (_c) { }
                    }
                }));
                // Symbol watcher - FIXED: Add SketchViewModel validation
                this._positionWatchers[graphicKey + '_symbol'] = graphic.watch('symbol', () => {
                    var _a, _b, _c;
                    if (((_a = graphic.geometry) === null || _a === void 0 ? void 0 : _a.type) === 'point' && ((_b = this.measureRef) === null || _b === void 0 ? void 0 : _b.current) && ((_c = this.sketchViewModel) === null || _c === void 0 ? void 0 : _c.view)) {
                        setTimeout(() => {
                            var _a, _b;
                            if (((_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) && ((_b = this.sketchViewModel) === null || _b === void 0 ? void 0 : _b.view)) {
                                this.measureRef.current.updateMeasurementsForGraphic(graphic);
                            }
                        }, 100);
                    }
                });
                // Attributes watcher - FIXED: Add SketchViewModel validation
                this._positionWatchers[graphicKey + '_attributes'] = graphic.watch('attributes', () => {
                    var _a, _b, _c;
                    if (((_a = graphic.symbol) === null || _a === void 0 ? void 0 : _a.type) === 'text' && ((_b = this.measureRef) === null || _b === void 0 ? void 0 : _b.current) && ((_c = this.sketchViewModel) === null || _c === void 0 ? void 0 : _c.view)) {
                        setTimeout(() => {
                            var _a, _b;
                            if (((_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) && ((_b = this.sketchViewModel) === null || _b === void 0 ? void 0 : _b.view)) {
                                this.measureRef.current.updateMeasurementsForGraphic(graphic);
                            }
                        }, 100);
                    }
                });
            }
            catch (error) {
                console.error('Error in handleDrawingSelect:', error);
            }
        };
        this.handleDrawingsUpdate = (updatedDrawings) => {
            // Filter to get only main drawings (exclude buffers and measurement labels)
            const mainDrawings = updatedDrawings.filter(g => {
                var _a, _b, _c;
                return !((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isBuffer) &&
                    !((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.isMeasurementLabel) &&
                    !((_c = g.attributes) === null || _c === void 0 ? void 0 : _c.hideFromList);
            });
            // Save to localStorage using the same method as MyDrawingsPanel
            this.saveDrawingsToLocalStorage(mainDrawings);
            //console.log(`Saved ${mainDrawings.length} drawings to localStorage`);
        };
        this.originalPopupEnabled = null;
        // Add this method to save drawings to localStorage
        this.saveDrawingsToLocalStorage = (drawings) => {
            try {
                // Use the same localStorage key format as MyDrawingsPanel
                const fullUrl = `${window.location.origin}${window.location.pathname}`;
                const baseKey = btoa(fullUrl).replace(/[^a-zA-Z0-9]/g, '_');
                const localStorageKey = `drawings_${baseKey}`;
                // Get all graphics from the layer
                const allGraphics = this.drawLayer.graphics.toArray();
                // Separate main drawings from measurement labels
                const mainDrawings = allGraphics.filter(g => {
                    var _a, _b, _c, _d, _e;
                    return !((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) &&
                        !((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.hideFromList) &&
                        !((_c = g.attributes) === null || _c === void 0 ? void 0 : _c.isPreviewBuffer) &&
                        !((_d = g.attributes) === null || _d === void 0 ? void 0 : _d.isBuffer) &&
                        !((_e = g.attributes) === null || _e === void 0 ? void 0 : _e.isBufferDrawing);
                });
                const measurementLabels = allGraphics.filter(g => {
                    var _a, _b;
                    return ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) &&
                        !((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.isPreviewBuffer);
                });
                // Prepare main drawings for storage with buffer settings
                const drawingsToSave = mainDrawings.map((graphic) => {
                    const extendedGraphic = graphic;
                    const json = graphic.toJSON();
                    // Ensure each graphic has a uniqueId
                    if (!json.attributes) {
                        json.attributes = {};
                    }
                    if (!json.attributes.uniqueId) {
                        const uniqueId = `saved_${Date.now()}_${Math.floor(Math.random() * 10000)}`;
                        json.attributes.uniqueId = uniqueId;
                    }
                    if (!json.attributes.createdDate) {
                        json.attributes.createdDate = Date.now();
                    }
                    // Save buffer settings if this graphic has an attached buffer
                    if (extendedGraphic.bufferSettings) {
                        json.attributes.bufferSettings = {
                            distance: extendedGraphic.bufferSettings.distance,
                            unit: extendedGraphic.bufferSettings.unit,
                            enabled: extendedGraphic.bufferSettings.enabled
                        };
                    }
                    return json;
                });
                // Prepare measurement labels for storage
                const measurementLabelsToSave = measurementLabels.map((label) => {
                    var _a, _b;
                    const extendedLabel = label;
                    const json = label.toJSON();
                    if (!json.attributes) {
                        json.attributes = {};
                    }
                    // Store the parent graphic's uniqueId for restoration
                    if ((_b = (_a = extendedLabel.measureParent) === null || _a === void 0 ? void 0 : _a.attributes) === null || _b === void 0 ? void 0 : _b.uniqueId) {
                        json.attributes.parentGraphicId = extendedLabel.measureParent.attributes.uniqueId;
                    }
                    // Ensure measurement label flags are preserved
                    json.attributes.isMeasurementLabel = true;
                    json.attributes.hideFromList = true;
                    return json;
                });
                // Combine drawings and measurement labels
                const allGraphicsToSave = {
                    drawings: drawingsToSave,
                    measurementLabels: measurementLabelsToSave,
                    version: "1.3"
                };
                // Save to localStorage
                const stringified = JSON.stringify(allGraphicsToSave);
                localStorage.setItem(localStorageKey, stringified);
                //console.log(`✅ Successfully saved ${drawingsToSave.length} drawing(s) and ${measurementLabelsToSave.length} measurement label(s) to localStorage`);
            }
            catch (error) {
                console.error(`❌ Error saving drawings to localStorage:`, error);
            }
        };
        this.showAlert = (message, type) => {
            //console.log(`${type}: ${message}`);
            alert(message);
        };
        this.svmGraCreate = (evt) => __awaiter(this, void 0, void 0, function* () {
            var _a, _b, _c, _d, _e, _f;
            try {
                // Basic validation
                if (!evt || !evt.graphic)
                    return;
                const g = evt.graphic;
                // ---- ACTIVE STATE: Show live measurements during drawing ----
                if (evt.state === 'active') {
                    // Update live measurements if the measurement system is enabled
                    if ((_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) {
                        try {
                            yield this.measureRef.current.updateMeasurementsForGraphic(g);
                        }
                        catch (error) {
                            console.warn('Error updating live measurements:', error);
                        }
                    }
                    return; // Exit early for active state
                }
                // ---- COMPLETE STATE: Finalize the drawing ----
                if (evt.state !== 'complete')
                    return;
                // ---- 1) Initialize base attributes immediately (before any async) ----
                g.attributes = g.attributes || {};
                if (!g.attributes.uniqueId) {
                    g.attributes.uniqueId = `g_${Date.now()}_${Math.random().toString(36).slice(2, 8)}`;
                }
                g.attributes.isDrawing = true; // important: prevents measurement cleanup from touching parents
                g.attributes.hideFromList = false; // ensure it shows in My Drawings
                g.attributes.drawMode = this.state.currentTool;
                g.attributes.createdDate = Date.now();
                // Name after current tool; index will be refined after we ensure layer presence
                g.attributes.name = `${this.state.currentTool} ${this.drawLayer.graphics.length + 1}`;
                // ---- 2) Ensure visibility and layer membership (prevents "exists but not shown") ----
                if (g.visible === false)
                    g.visible = true;
                // SketchViewModel normally adds it, but re-assert to be safe
                if (!((_c = (_b = this.drawLayer.graphics) === null || _b === void 0 ? void 0 : _b.includes) === null || _c === void 0 ? void 0 : _c.call(_b, g))) {
                    try {
                        this.drawLayer.add(g);
                    }
                    catch ( /* no-op */_g) { /* no-op */ }
                }
                // Give the layer a render turn (prevents race with measurement code)
                const v = (_d = this.sketchViewModel) === null || _d === void 0 ? void 0 : _d.view;
                if (v && typeof v.whenLayerView === 'function') {
                    try {
                        yield v.whenLayerView(this.drawLayer);
                    }
                    catch ( /* no-op */_h) { /* no-op */ }
                }
                yield new Promise(r => requestAnimationFrame(() => r(null)));
                // ---- 3) Apply arrows (if enabled) for polylines ----
                if (this.state.arrowEnabled &&
                    ((_e = g.geometry) === null || _e === void 0 ? void 0 : _e.type) === 'polyline' &&
                    ((_f = g.symbol) === null || _f === void 0 ? void 0 : _f.type) === 'simple-line') {
                    try {
                        const baseSymbol = g.symbol;
                        const arrowSymbol = this.createLineSymbolWithBuiltInArrows(baseSymbol, this.state.arrowPosition, this.state.arrowSize);
                        g.symbol = arrowSymbol;
                    }
                    catch (e) {
                        console.warn('Error applying arrows on create:', e);
                    }
                }
                // ---- 4) If text tool, ensure the text symbol is applied now ----
                if (this.state.currentTool === 'text') {
                    try {
                        g.symbol = this.state.currentTextSymbol.clone();
                    }
                    catch (e) {
                        console.warn('Failed to apply currentTextSymbol:', e);
                    }
                }
                // ---- 5) Update name using only real drawings (excludes buffers/labels) ----
                try {
                    const mainDrawings = this.drawLayer.graphics.toArray().filter(gg => {
                        var _a, _b, _c, _d;
                        return !((_a = gg.attributes) === null || _a === void 0 ? void 0 : _a.isBuffer) &&
                            !((_b = gg.attributes) === null || _b === void 0 ? void 0 : _b.isMeasurementLabel) &&
                            ((_c = gg.attributes) === null || _c === void 0 ? void 0 : _c.isDrawing) === true &&
                            ((_d = gg.attributes) === null || _d === void 0 ? void 0 : _d.hideFromList) !== true;
                    });
                    // Position in list is 1-based
                    const idx = Math.max(1, mainDrawings.indexOf(g) + 1);
                    g.attributes.name = `${this.state.currentTool} ${idx}`;
                }
                catch ( /* best effort */_j) { /* best effort */ }
                // ---- 6) Persist drawings (deferred a tick) ----
                setTimeout(() => {
                    var _a;
                    try {
                        if (this._drawingMap && ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.uniqueId)) {
                            const mainDrawings = this.drawLayer.graphics.toArray().filter(gg => {
                                var _a, _b, _c, _d;
                                return !((_a = gg.attributes) === null || _a === void 0 ? void 0 : _a.isBuffer) &&
                                    !((_b = gg.attributes) === null || _b === void 0 ? void 0 : _b.isMeasurementLabel) &&
                                    ((_c = gg.attributes) === null || _c === void 0 ? void 0 : _c.isDrawing) === true &&
                                    ((_d = gg.attributes) === null || _d === void 0 ? void 0 : _d.hideFromList) !== true;
                            });
                            this._drawingMap.set(g.attributes.uniqueId, Math.max(0, mainDrawings.indexOf(g)));
                        }
                        this.handleDrawingsUpdate(this.drawLayer.graphics.toArray());
                    }
                    catch (e) {
                        console.warn('Error saving drawings after create:', e);
                    }
                }, 100);
                // ---- 7) Handle creation mode ----
                if (this.creationMode === 'continuous') {
                    switch (this.state.currentTool) {
                        case 'extent':
                            this.sketchViewModel.create('rectangle');
                            break;
                        case 'freepolyline':
                            this.sketchViewModel.create('polyline', { mode: 'freehand' });
                            break;
                        case 'polyline':
                            this.sketchViewModel.create('polyline');
                            break;
                        case 'point':
                            this.sketchViewModel.create('point');
                            break;
                        case 'polygon':
                            this.sketchViewModel.create('polygon');
                            break;
                        case 'freepolygon':
                            this.sketchViewModel.create('polygon', { mode: 'freehand' });
                            break;
                        case 'circle':
                            this.sketchViewModel.create('circle');
                            break;
                        case 'text':
                            // already applied text symbol above; start a new one
                            this.sketchViewModel.create('point');
                            break;
                        default:
                            break;
                    }
                }
                else if (this.creationMode === 'single') {
                    // For single mode: if tool was text, we already set symbol; now exit draw mode
                    this.setDrawToolBtnState(null);
                }
                // ---- 8) Optional: light refresh to ensure visibility in edge cases ----
                requestAnimationFrame(() => {
                    try {
                        if (typeof this.drawLayer.refresh === 'function') {
                            this.drawLayer.refresh();
                        }
                    }
                    catch ( /* no-op */_a) { /* no-op */ }
                });
            }
            catch (err) {
                console.error('Error in svmGraCreate:', err);
            }
        });
        this.svmGraUpdate = (evt) => {
            var _a, _b, _c, _d;
            try {
                // Validate SketchViewModel and view before proceeding
                if (!this.sketchViewModel || !this.sketchViewModel.view) {
                    console.warn('SketchViewModel view not available in update');
                    return;
                }
                // Update undo/redo availability in state
                this.setState({
                    canUndo: this.sketchViewModel.canUndo(),
                    canRedo: this.sketchViewModel.canRedo()
                });
                if (evt.state === 'start') {
                    if (evt.graphics) {
                        // Filter out ALL buffer graphics and measurement labels from selection
                        const selectableGraphics = evt.graphics.filter((gra) => {
                            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
                            // Skip ALL buffer graphics (both attached and standalone)
                            if (((_a = gra.attributes) === null || _a === void 0 ? void 0 : _a.isBuffer) ||
                                ((_b = gra.attributes) === null || _b === void 0 ? void 0 : _b.isBufferDrawing) ||
                                ((_c = gra.attributes) === null || _c === void 0 ? void 0 : _c.isPreviewBuffer) ||
                                ((_e = (_d = gra.attributes) === null || _d === void 0 ? void 0 : _d.uniqueId) === null || _e === void 0 ? void 0 : _e.startsWith('buffer_'))) {
                                return false;
                            }
                            // Skip measurement labels
                            if ((_f = gra.attributes) === null || _f === void 0 ? void 0 : _f.isMeasurementLabel) {
                                return false;
                            }
                            // Skip hidden graphics
                            if ((_g = gra.attributes) === null || _g === void 0 ? void 0 : _g.hideFromList) {
                                return false;
                            }
                            // Additional safety check for text measurement labels
                            if (((_h = gra.geometry) === null || _h === void 0 ? void 0 : _h.type) === 'point' &&
                                ((_j = gra.symbol) === null || _j === void 0 ? void 0 : _j.type) === 'text' &&
                                ((_k = gra.attributes) === null || _k === void 0 ? void 0 : _k.isMeasurementLabel)) {
                                return false;
                            }
                            return true;
                        });
                        // If no selectable graphics remain, cancel the update
                        if (selectableGraphics.length === 0) {
                            try {
                                if (this.sketchViewModel && this.sketchViewModel.view) {
                                    this.sketchViewModel.cancel();
                                }
                            }
                            catch (error) {
                                console.warn('Error canceling SketchViewModel in svmGraUpdate:', error);
                            }
                            return;
                        }
                        // NEW: Ensure buffer watchers for selected graphics
                        selectableGraphics.forEach((graphic) => {
                            try {
                                this.ensureBufferWatchersForSelectedGraphic(graphic);
                            }
                            catch (error) {
                                console.warn('Error setting up buffer watcher:', error);
                            }
                        });
                        // Continue with only selectable graphics
                        selectableGraphics.forEach((gra) => {
                            var _a;
                            try {
                                if (gra.geometry.type === 'point' && gra.symbol.type === 'text') {
                                    // Handle text graphics...
                                    const cTextSym = gra.symbol.clone();
                                    let cState = {};
                                    cState['vTextAlign'] = cTextSym.verticalAlignment;
                                    cState['vAlignBaseBtnActive'] = cTextSym.verticalAlignment === 'baseline';
                                    cState['vAlignTopBtnActive'] = cTextSym.verticalAlignment === 'top';
                                    cState['vAlignMidBtnActive'] = cTextSym.verticalAlignment === 'middle';
                                    cState['vAlignBotBtnActive'] = cTextSym.verticalAlignment === 'bottom';
                                    cState['hTextAlign'] = cTextSym.horizontalAlignment;
                                    cState['hAlignLeftBtnActive'] = cTextSym.horizontalAlignment === 'left';
                                    cState['hAlignCenterBtnActive'] = cTextSym.horizontalAlignment === 'center';
                                    cState['hAlignRightBtnActive'] = cTextSym.horizontalAlignment === 'right';
                                    cState['fontRotation'] = cTextSym.angle;
                                    cState['showSymPreview'] = false;
                                    cState['showTextPreview'] = true;
                                    cState['currentSymbol'] = null;
                                    cState['currentSymbolType'] = null;
                                    cState['currentTextSymbol'] = cTextSym;
                                    cState['graphics'] = selectableGraphics;
                                    cState['clearBtnTitle'] = this.nls('drawClearSelected');
                                    cState['fontColor'] = this.convertSymbolColorToColorPickerValue(cTextSym.color);
                                    cState['fontOpacity'] = cTextSym.color.a;
                                    cState['fontSize'] = cTextSym.font.size;
                                    cState['textSymPreviewText'] = cTextSym.text;
                                    cState['fontHaloEnabled'] = cTextSym.haloSize !== null;
                                    if (cTextSym.haloColor) {
                                        cState['fontHaloOpacity'] = cTextSym.haloColor.a;
                                        cState['fontHaloColor'] = this.convertSymbolColorToColorPickerValue(cTextSym.haloColor);
                                        cState['fontHaloSize'] = cTextSym.haloSize;
                                        cState['fontHalo'] = cState['fontHaloSize'] + 'px ' + cState['fontHaloColor'];
                                    }
                                    else {
                                        cState['fontHaloOpacity'] = 1;
                                        cState['fontHalo'] = 'unset';
                                        cState['fontHaloColor'] = 'rgba(255,255,255,1)';
                                        cState['fontHaloSize'] = 1;
                                    }
                                    cState['fontWeight'] = cTextSym.font.weight;
                                    cState['fontDecoration'] = cTextSym.font.decoration;
                                    cState['fontStyle'] = cTextSym.font.style;
                                    cState['fsBoldBtnActive'] = cTextSym.font.weight !== 'normal';
                                    cState['fsItalicBtnActive'] = cTextSym.font.style !== 'normal';
                                    cState['fsUnderlineBtnActive'] = cTextSym.font.decoration !== 'none';
                                    cState['fontBackgroundColor'] = this.convertSymbolColorToColorPickerValue(cTextSym.backgroundColor);
                                    this.setState(cState);
                                }
                                else {
                                    // For non-text graphics, prepare state to show symbol preview settings
                                    // ADDITION: Preserve arrow settings for polylines during selection
                                    if (gra.geometry.type === 'polyline') {
                                        //console.log('Selected polyline - checking for arrows:', gra.attributes?.uniqueId);
                                        // Check if this polyline has arrows that need to be preserved
                                        if (((_a = gra.symbol) === null || _a === void 0 ? void 0 : _a.type) === 'simple-line') {
                                            const lineSymbol = gra.symbol;
                                            const hasArrows = !!lineSymbol.marker;
                                            if (hasArrows) {
                                                //console.log('Polyline has arrows - preserving arrow settings');
                                                // Don't override arrow settings for polylines that already have them
                                            }
                                            else if (this.state.arrowEnabled) {
                                                //console.log('Applying current arrow settings to selected polyline');
                                                // Apply current arrow settings to polylines without arrows
                                                try {
                                                    const arrowSymbol = this.createLineSymbolWithBuiltInArrows(lineSymbol, this.state.arrowPosition, this.state.arrowSize);
                                                    gra.symbol = arrowSymbol;
                                                }
                                                catch (error) {
                                                    console.warn('Error applying arrow settings:', error);
                                                }
                                            }
                                        }
                                    }
                                    if (gra.geometry.type === 'point') {
                                        this.setState({ rotationMode: true });
                                    }
                                    this.setState({
                                        showSymPreview: true,
                                        showTextPreview: false,
                                        currentSymbol: selectableGraphics[0].symbol,
                                        graphics: selectableGraphics,
                                        clearBtnTitle: this.nls('drawClearSelected')
                                    });
                                }
                            }
                            catch (error) {
                                console.warn('Error processing selectable graphic:', error);
                            }
                        });
                    }
                }
                else if (evt.state === 'active') {
                    // Handle active editing state
                    if (evt.graphics && evt.graphics.length > 0) {
                        const activeGraphic = evt.graphics[0];
                        // ADDITION: Preserve arrows during active editing
                        if (((_a = activeGraphic.geometry) === null || _a === void 0 ? void 0 : _a.type) === 'polyline' && this.state.arrowEnabled) {
                            // Check if the symbol has lost its arrows during editing
                            if (((_b = activeGraphic.symbol) === null || _b === void 0 ? void 0 : _b.type) === 'simple-line') {
                                const lineSymbol = activeGraphic.symbol;
                                const hasMarker = !!lineSymbol.marker;
                                if (!hasMarker) {
                                    //console.log('Reapplying arrows during active editing');
                                    try {
                                        const arrowSymbol = this.createLineSymbolWithBuiltInArrows(lineSymbol, this.state.arrowPosition, this.state.arrowSize);
                                        activeGraphic.symbol = arrowSymbol;
                                    }
                                    catch (error) {
                                        console.warn('Error reapplying arrows during active editing:', error);
                                    }
                                }
                            }
                        }
                    }
                }
                else if (evt.state === 'complete') {
                    // When editing is complete, reset states
                    this.setState({
                        graphics: null,
                        clearBtnTitle: this.nls('drawClear'),
                        rotationMode: false
                    });
                    // ADDITION: Ensure arrows are preserved after editing completion
                    if (evt.graphics && evt.graphics.length > 0) {
                        const completedGraphic = evt.graphics[0];
                        if (((_c = completedGraphic.geometry) === null || _c === void 0 ? void 0 : _c.type) === 'polyline' && this.state.arrowEnabled) {
                            if (((_d = completedGraphic.symbol) === null || _d === void 0 ? void 0 : _d.type) === 'simple-line') {
                                const lineSymbol = completedGraphic.symbol;
                                const hasMarker = !!lineSymbol.marker;
                                if (!hasMarker) {
                                    //console.log('Reapplying arrows after editing completion');
                                    try {
                                        const arrowSymbol = this.createLineSymbolWithBuiltInArrows(lineSymbol, this.state.arrowPosition, this.state.arrowSize);
                                        completedGraphic.symbol = arrowSymbol;
                                    }
                                    catch (error) {
                                        console.warn('Error reapplying arrows after editing completion:', error);
                                    }
                                }
                            }
                        }
                    }
                }
            }
            catch (error) {
                console.error('Error in svmGraUpdate:', error);
            }
        };
        this.onSymbolPopper = (evt) => {
            //workarounds for symbol selector styling issues
            if (evt) {
                if (this.state.currentSymbolType === jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_15__.JimuSymbolType.Polyline) {
                    let ddBtnCont = document.getElementsByClassName('dropdown-button-content')[0];
                    ddBtnCont.style.filter = 'invert(1)';
                }
                let ddBtn = document.getElementsByClassName('jimu-btn jimu-dropdown-button dropdown-button')[0];
                if (ddBtn) {
                    ddBtn.addEventListener('click', (evt) => {
                        setTimeout(() => {
                            let ddInner = document.getElementsByClassName('dropdown-menu--inner')[0];
                            if (ddInner) {
                                for (let i = 0; i < ddInner.children.length; i++) {
                                    let btn = ddInner.children[i];
                                    const imgs = btn.getElementsByTagName('img');
                                    for (let im = 0; im < imgs.length; im++) {
                                        imgs[im].style.filter = 'invert(1)';
                                    }
                                }
                            }
                        }, 20);
                    });
                }
                let unitSelectors = document.getElementsByClassName('style-setting--unit-selector');
                Array.from(unitSelectors).forEach((ele) => {
                    // Fix: Check if firstChild exists before accessing its style
                    if (ele.firstChild && ele.firstChild instanceof HTMLElement) {
                        ele.firstChild.style.padding = '0';
                    }
                });
                let popper = document.getElementsByClassName('content-container')[0].parentNode.parentElement;
                setTimeout(() => {
                    popper.style.zIndex = '1004';
                }, 5);
                let colorPickerBlocks = document.getElementsByClassName('color-picker-block');
                Array.from(colorPickerBlocks).forEach((ele) => {
                    ele.addEventListener('click', e => { this.onColorPickerToggle(e); });
                });
            }
        };
        this.onPointSymChanged = (evt) => {
            this.setState({
                currentSymbol: evt,
                currentSymbolType: jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_15__.JimuSymbolType.Point
            }, () => {
                this.sketchViewModel.pointSymbol = evt;
                if (this.state.graphics && this.state.graphics.length > 0) {
                    this.state.graphics.map((gra) => {
                        if (gra.geometry.type === 'point') {
                            gra.symbol = evt;
                        }
                    });
                }
            });
        };
        this.onPolygonSymbolChanged = (evt) => {
            this.setState({
                currentSymbol: evt,
                currentSymbolType: jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_15__.JimuSymbolType.Polygon
            }, () => {
                this.sketchViewModel.polygonSymbol = evt;
                if (this.state.graphics && this.state.graphics.length > 0) {
                    this.state.graphics.map((gra) => {
                        if (gra.geometry.type === 'polygon' || gra.geometry.type === 'extent') {
                            gra.symbol = evt;
                        }
                    });
                }
            });
        };
        this.onPolylineSymbolChanged = (evt) => {
            //console.log('Polyline symbol changed - preserving arrow settings:', evt);
            if (!evt || evt.type !== 'simple-line') {
                console.warn('Invalid symbol passed to onPolylineSymbolChanged');
                return;
            }
            // Clone and clean the symbol
            const cleanSymbol = evt.clone();
            delete cleanSymbol.marker; // Remove any existing marker
            let finalSymbol = cleanSymbol;
            // Apply arrows if enabled using current state values
            if (this.state.arrowEnabled) {
                // console.log('Arrows enabled, creating symbol with current settings:', {
                //   position: this.state.arrowPosition,
                //   size: this.state.arrowSize
                // });
                finalSymbol = this.createLineSymbolWithBuiltInArrows(cleanSymbol, this.state.arrowPosition, this.state.arrowSize);
            }
            this.setState({
                currentSymbol: finalSymbol,
                currentSymbolType: jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_15__.JimuSymbolType.Polyline
            }, () => {
                this.sketchViewModel.polylineSymbol = finalSymbol;
                if (this.state.graphics && this.state.graphics.length > 0) {
                    this.state.graphics.map((gra) => {
                        if (gra.geometry.type === 'polyline') {
                            gra.symbol = finalSymbol;
                        }
                    });
                }
            });
        };
        this.drawClearBtnClick = () => {
            if (!this.sketchViewModel || !this.sketchViewModel.view) {
                console.warn('SketchViewModel not available for clear operation');
                return;
            }
            try {
                if (this.state.graphics && this.state.graphics.length) {
                    // Remove any associated measurements, buffers, and attached buffers before deleting the drawing
                    this.state.graphics.forEach((gra) => {
                        var _a, _b, _c;
                        try {
                            const extendedGraphic = gra; // Type assertion for extended properties
                            // Remove measurement graphics
                            if ((_a = extendedGraphic.measure) === null || _a === void 0 ? void 0 : _a.graphic) {
                                this.drawLayer.remove(extendedGraphic.measure.graphic);
                            }
                            if ((_b = gra.attributes) === null || _b === void 0 ? void 0 : _b.relatedSegmentLabels) {
                                this.drawLayer.removeMany(gra.attributes.relatedSegmentLabels);
                            }
                            // 🔧 ENHANCED: Remove attached buffer graphics
                            if (extendedGraphic.bufferGraphic) {
                                //console.log(`🗑️ Widget: Removing attached buffer for selected graphic`);
                                this.drawLayer.remove(extendedGraphic.bufferGraphic);
                                extendedGraphic.bufferGraphic = null;
                            }
                            // Clear buffer settings
                            if (extendedGraphic.bufferSettings) {
                                extendedGraphic.bufferSettings = null;
                            }
                            // 🔧 NEW: Remove geometry watchers for this graphic
                            const parentId = (_c = gra.attributes) === null || _c === void 0 ? void 0 : _c.uniqueId;
                            if (parentId && this._positionWatchers) {
                                const watcherKey = parentId + '_widget_buffer';
                                if (this._positionWatchers[watcherKey]) {
                                    try {
                                        this._positionWatchers[watcherKey].remove();
                                        delete this._positionWatchers[watcherKey];
                                    }
                                    catch (error) {
                                        console.warn('Error removing geometry watcher during clear:', error);
                                    }
                                }
                            }
                        }
                        catch (error) {
                            console.warn('Error processing graphic during clear:', error);
                        }
                    });
                    // Now delete the drawing itself
                    try {
                        this.sketchViewModel.delete();
                    }
                    catch (error) {
                        console.error('Error deleting selected graphics:', error);
                    }
                    return;
                }
                // If clearing all graphics, also remove all buffers and clean up watchers
                const allGraphics = this.drawLayer.graphics.toArray();
                // 🔧 ENHANCED: Remove ALL buffer types when clearing all
                const allBuffers = allGraphics.filter(g => {
                    var _a, _b, _c;
                    return ((_a = g.attributes) === null || _a === void 0 ? void 0 : _a.isBuffer) ||
                        ((_b = g.attributes) === null || _b === void 0 ? void 0 : _b.isPreviewBuffer) ||
                        ((_c = g.attributes) === null || _c === void 0 ? void 0 : _c.isBufferDrawing);
                });
                if (allBuffers.length > 0) {
                    //console.log(`🗑️ Widget: Removing ${allBuffers.length} buffer graphics during clear all`);
                    allBuffers.forEach(buffer => {
                        try {
                            this.drawLayer.remove(buffer);
                        }
                        catch (error) {
                            console.warn('Error removing buffer graphic:', error);
                        }
                    });
                }
                // 🔧 NEW: Clean up ALL geometry watchers
                if (this._positionWatchers) {
                    Object.values(this._positionWatchers).forEach(watcher => {
                        if (watcher && typeof watcher.remove === 'function') {
                            try {
                                watcher.remove();
                            }
                            catch (error) {
                                console.warn('Error removing watcher during clear all:', error);
                            }
                        }
                    });
                    this._positionWatchers = {};
                    //console.log(`✅ Widget: Cleared all geometry watchers`);
                }
                // Clear the drawing layer
                try {
                    this.drawLayer.removeAll();
                }
                catch (error) {
                    console.warn('Error clearing draw layer:', error);
                }
                // BUGFIX: Removed this.sketchViewModel.cancel() to prevent button state mismatch
                // This was causing the draw tools to become inactive while buttons remained visually selected
                // Close the confirmation dialog
                this.setState({ confirmDelete: false });
                //console.log(`✅ Widget: Clear all completed with buffer cleanup`);
            }
            catch (error) {
                console.error('Error in drawClearBtnClick:', error);
                // Ensure confirmation dialog is closed even if there's an error
                this.setState({ confirmDelete: false });
            }
        };
        this.drawUndoBtnClick = () => {
            if (!this.sketchViewModel || !this.sketchViewModel.view) {
                console.warn('SketchViewModel not available for undo');
                return;
            }
            try {
                if (this.sketchViewModel.canUndo()) {
                    this.sketchViewModel.undo();
                }
                this.setState({
                    canUndo: this.sketchViewModel.canUndo(),
                    canRedo: this.sketchViewModel.canRedo()
                });
            }
            catch (error) {
                console.error('Error in drawUndoBtnClick:', error);
            }
        };
        this.drawRedoBtnClick = () => {
            if (!this.sketchViewModel || !this.sketchViewModel.view) {
                console.warn('SketchViewModel not available for redo');
                return;
            }
            try {
                if (this.sketchViewModel.canRedo()) {
                    this.sketchViewModel.redo();
                }
                this.setState({
                    canUndo: this.sketchViewModel.canUndo(),
                    canRedo: this.sketchViewModel.canRedo()
                });
            }
            catch (error) {
                console.error('Error in drawRedoBtnClick:', error);
            }
        };
        this.TextOnChange = (evt) => {
            let value = evt.currentTarget.value;
            let ts = this.state.currentTextSymbol;
            ts.text = value;
            this.setState({
                textSymPreviewText: value,
                currentTextSymbol: ts,
                textHasChanged: true
            }, () => { this.updateSelectedTextGras(); });
        };
        this.fontSizeOnChange = (size) => {
            let ts = this.state.currentTextSymbol;
            ts.font.size = size;
            this.setState({
                fontSize: size,
                currentTextSymbol: ts,
                textPreviewHeight: this.getRotatedTextHeight()
            }, () => { this.updateSelectedTextGras(); });
        };
        this.fontHaloSizeChange = (evt) => {
            let ts = this.state.currentTextSymbol;
            ts.haloSize = parseInt(evt);
            this.setState({
                fontHaloSize: parseInt(evt),
                currentTextSymbol: ts,
                fontHalo: this.state.fontHaloEnabled ? evt + "px " + this.state.fontHaloColor : 'unset'
            }, () => { this.updateSelectedTextGras(); });
        };
        this.updateTextColor = (evt) => {
            let ts = this.state.currentTextSymbol;
            ts.color = evt;
            this.setState({
                fontColor: this.convertSymbolColorToColorPickerValue(ts.color),
                fontOpacity: ts.color.a,
                currentTextSymbol: ts
            }, () => { this.updateSelectedTextGras(); });
        };
        this.updateFontHaloColor = (evt) => {
            let ts = this.state.currentTextSymbol;
            ts.haloColor = evt;
            this.setState({
                fontHaloColor: evt,
                currentTextSymbol: ts,
                fontHalo: this.state.fontHaloEnabled ? this.state.fontHaloSize + "px " + evt : 'unset'
            }, () => { this.updateSelectedTextGras(); });
        };
        this.updateBackgroundColor = (evt) => {
            const color = new _arcgis_core_Color__WEBPACK_IMPORTED_MODULE_18__["default"](evt);
            let ts = this.state.currentTextSymbol;
            ts.backgroundColor = color;
            this.setState({
                fontBackgroundColor: color,
                currentTextSymbol: ts
            }, () => { this.updateSelectedTextGras(); });
        };
        this.fontHaloChkChange = (evt) => {
            const target = evt.currentTarget;
            if (!target)
                return;
            let ts = this.state.currentTextSymbol;
            if (!target.checked) {
                ts.haloColor = null;
                ts.haloSize = null;
            }
            else {
                ts.haloColor = this.state.fontHaloColor;
                ts.haloSize = this.state.fontHaloSize;
            }
            this.setState({
                currentTextSymbol: ts,
                fontHaloEnabled: target.checked,
                fontHalo: target.checked ? this.state.fontHaloSize + "px " + this.state.fontHaloColor : 'unset'
            }, () => { this.updateSelectedTextGras(); });
        };
        this.onHTextAlignChange = (evt) => {
            let ts = this.state.currentTextSymbol;
            ts.horizontalAlignment = evt;
            this.setState({
                hTextAlign: evt,
                currentTextSymbol: ts
            }, () => { this.updateSelectedTextGras(); });
        };
        this.fontRotationChange = (evt) => {
            let ts = this.state.currentTextSymbol;
            ts.angle = evt;
            this.setState({
                fontRotation: evt,
                currentTextSymbol: ts,
                textPreviewHeight: this.getRotatedTextHeight()
            }, () => { this.updateSelectedTextGras(); });
        };
        this.onVertFontAlignChange = (evt, valign) => {
            let ts = this.state.currentTextSymbol;
            ts.verticalAlignment = valign;
            this.setState({
                vTextAlign: valign,
                vAlignBaseBtnActive: valign === 'baseline',
                vAlignTopBtnActive: valign === 'top',
                vAlignMidBtnActive: valign === 'middle',
                vAlignBotBtnActive: valign === 'bottom',
                currentTextSymbol: ts
            }, () => { this.updateSelectedTextGras(); });
            this.updateActiveBtnIcons();
        };
        this.updateActiveBtnIcons = () => {
            setTimeout(() => {
                let activeBtns = document.querySelectorAll('.btn-group>.icon-btn');
                Array.from(activeBtns).forEach((ele) => {
                    this.setImgElemFilter(ele, ele.classList.contains('active'));
                });
            }, 20);
        };
        this.setImgElemFilter = (ele, isActive) => {
            let img = ele.getElementsByTagName('img')[0];
            if (!img) {
                return;
            }
            if (img.getAttribute('style') && img.getAttribute('style').indexOf("filter:") > -1 && !isActive) {
                img.style.filter = '';
            }
            if ((!img.getAttribute('style') || img.style.filter == "") && isActive) {
                img.style.filter = 'invert(1)';
            }
        };
        this.onHorizFontAlignChange = (evt, halign) => {
            let ts = this.state.currentTextSymbol;
            ts.horizontalAlignment = halign;
            this.setState({
                hTextAlign: halign,
                hAlignLeftBtnActive: halign === 'left',
                hAlignCenterBtnActive: halign === 'center',
                hAlignRightBtnActive: halign === 'right',
                currentTextSymbol: ts
            }, () => { this.updateSelectedTextGras(); });
        };
        this.updateSelectedTextGras = () => {
            if (this.state.graphics && this.state.graphics.length > 0) {
                this.state.graphics.forEach((gra) => {
                    var _a;
                    if (gra.geometry.type === 'point' && gra.symbol.type === 'text') {
                        // Skip updating if this is a measurement label
                        if ((_a = gra.attributes) === null || _a === void 0 ? void 0 : _a.isMeasurementLabel) {
                            return; // Don't modify measurement labels' text symbol
                        }
                        // Apply the current text symbol for non-measurement labels
                        gra.symbol = this.state.currentTextSymbol;
                        // Clone the graphic to ensure we don't modify the original directly
                        const uGra = gra.clone();
                        // Remove and re-add the updated graphic to reflect changes
                        this.drawLayer.remove(gra);
                        this.drawLayer.add(uGra);
                        // Update the sketch view model with the new graphic
                        this.sketchViewModel.update(uGra);
                    }
                });
            }
        };
        this.getRotatedTextHeight = () => {
            let span, spanParent, rad = this.state.fontRotation * (Math.PI / 180);
            if (document.getElementsByClassName('text-symbol-span')[0]) {
                span = document.getElementsByClassName('text-symbol-span')[0];
            }
            ;
            if (document.getElementsByClassName('text-symbol-item')[0]) {
                spanParent = document.getElementsByClassName('text-symbol-item')[0];
            }
            ;
            if (span === undefined || span === null) {
                return 13;
            }
            return Math.abs(span.clientWidth * Math.sin(rad) + span.clientHeight * Math.cos(rad)) + 12;
        };
        this.onFontStyleChange = (evt, key) => {
            let cState = {};
            let ts = this.state.currentTextSymbol;
            if (key === 'bold') {
                if (!this.state.fsBoldBtnActive) {
                    ts.font.weight = 'bold';
                }
                else {
                    ts.font.weight = 'normal';
                }
                cState['fontWeight'] = ts.font.weight;
                cState['fsBoldBtnActive'] = !this.state.fsBoldBtnActive;
            }
            if (key === 'italic') {
                if (!this.state.fsItalicBtnActive) {
                    ts.font.style = 'italic';
                }
                else {
                    ts.font.style = 'normal';
                }
                cState['fontStyle'] = ts.font.style;
                cState['fsItalicBtnActive'] = !this.state.fsItalicBtnActive;
            }
            if (key === 'underline') {
                if (!this.state.fsUnderlineBtnActive) {
                    ts.font.decoration = 'underline';
                }
                else {
                    ts.font.decoration = 'none';
                }
                cState['fontDecoration'] = ts.font.decoration;
                cState['fsUnderlineBtnActive'] = !this.state.fsUnderlineBtnActive;
            }
            cState['currentTextSymbol'] = ts;
            this.setState(cState, () => { this.updateSelectedTextGras(); });
            this.updateActiveBtnIcons();
        };
        this.setDrawToolBtnState = (toolBtn) => {
            var _a, _b, _c, _d, _e;
            // ENHANCED: Clean measurement editing coordination before drawing tool activation
            if (toolBtn !== '' && ((_c = (_b = (_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) === null || _b === void 0 ? void 0 : _b.isEditingMeasurements) === null || _c === void 0 ? void 0 : _c.call(_b))) {
                //console.log('Drawing tool activating - cleaning up measurement editing');
                (_e = (_d = this.measureRef.current).cleanupMeasurementLabelSelection) === null || _e === void 0 ? void 0 : _e.call(_d);
                // Note: disableMeasurements() will be called automatically by the measurement component
                // when it detects currentTool prop change
            }
            // Validate SketchViewModel before proceeding with drawing tools
            if (toolBtn !== '' && (!this.sketchViewModel || !this.sketchViewModel.view)) {
                console.warn('SketchViewModel not available for drawing tool activation');
                return;
            }
            // Check if we're exiting all drawing tools for popup restoration
            const wasInDrawingMode = this.state.pointBtnActive || this.state.lineBtnActive ||
                this.state.flineBtnActive || this.state.rectBtnActive ||
                this.state.polygonBtnActive || this.state.fpolygonBtnActive ||
                this.state.circleBtnActive || this.state.textBtnActive;
            const willBeInDrawingMode = toolBtn !== '';
            // FIXED: Check if clicking the same active button to toggle it off
            const isTogglingOff = ((toolBtn === 'point' && this.state.pointBtnActive) ||
                (toolBtn === 'polyline' && this.state.lineBtnActive) ||
                (toolBtn === 'freepolyline' && this.state.flineBtnActive) ||
                (toolBtn === 'extent' && this.state.rectBtnActive) ||
                (toolBtn === 'polygon' && this.state.polygonBtnActive) ||
                (toolBtn === 'freepolygon' && this.state.fpolygonBtnActive) ||
                (toolBtn === 'circle' && this.state.circleBtnActive) ||
                (toolBtn === 'text' && this.state.textBtnActive));
            // If toggling off the active tool, treat it as exiting drawing mode
            if (isTogglingOff) {
                toolBtn = '';
            }
            // Initialize button state - all tools off by default
            let cState = {
                pointBtnActive: false,
                lineBtnActive: false,
                flineBtnActive: false,
                rectBtnActive: false,
                polygonBtnActive: false,
                fpolygonBtnActive: false,
                circleBtnActive: false,
                textBtnActive: false,
                currentTool: toolBtn
            };
            try {
                // Always cancel any existing operations first
                if (this.sketchViewModel) {
                    this.sketchViewModel.cancel();
                }
                switch (toolBtn) {
                    case 'point':
                        cState.currentSymbol = this.sketchViewModel.pointSymbol;
                        cState.currentSymbolType = jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_15__.JimuSymbolType.Point;
                        this.sketchViewModel.create("point");
                        cState.pointBtnActive = true;
                        break;
                    case 'polyline': {
                        let baseSymbol = this.sketchViewModel.polylineSymbol;
                        let finalSymbol = baseSymbol;
                        // Apply arrows if enabled
                        if (this.state.arrowEnabled && (baseSymbol === null || baseSymbol === void 0 ? void 0 : baseSymbol.type) === 'simple-line') {
                            try {
                                finalSymbol = this.createLineSymbolWithBuiltInArrows(baseSymbol, this.state.arrowPosition, this.state.arrowSize);
                            }
                            catch (error) {
                                console.warn('Error creating arrow symbol, using base symbol:', error);
                                finalSymbol = baseSymbol;
                            }
                        }
                        cState.currentSymbol = finalSymbol;
                        cState.currentSymbolType = jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_15__.JimuSymbolType.Polyline;
                        this.sketchViewModel.polylineSymbol = finalSymbol;
                        this.sketchViewModel.create("polyline");
                        cState.lineBtnActive = true;
                        break;
                    }
                    case 'freepolyline': {
                        let baseSymbol = this.sketchViewModel.polylineSymbol;
                        let finalSymbol = baseSymbol;
                        // Apply arrows if enabled
                        if (this.state.arrowEnabled && (baseSymbol === null || baseSymbol === void 0 ? void 0 : baseSymbol.type) === 'simple-line') {
                            try {
                                finalSymbol = this.createLineSymbolWithBuiltInArrows(baseSymbol, this.state.arrowPosition, this.state.arrowSize);
                            }
                            catch (error) {
                                console.warn('Error creating arrow symbol, using base symbol:', error);
                                finalSymbol = baseSymbol;
                            }
                        }
                        cState.currentSymbol = finalSymbol;
                        cState.currentSymbolType = jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_15__.JimuSymbolType.Polyline;
                        this.sketchViewModel.polylineSymbol = finalSymbol;
                        this.sketchViewModel.create("polyline", { mode: 'freehand' });
                        cState.flineBtnActive = true;
                        break;
                    }
                    case 'extent':
                        cState.currentSymbol = this.sketchViewModel.polygonSymbol;
                        cState.currentSymbolType = jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_15__.JimuSymbolType.Polygon;
                        this.sketchViewModel.create("rectangle");
                        cState.rectBtnActive = true;
                        break;
                    case 'polygon':
                        cState.currentSymbol = this.sketchViewModel.polygonSymbol;
                        cState.currentSymbolType = jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_15__.JimuSymbolType.Polygon;
                        this.sketchViewModel.create("polygon");
                        cState.polygonBtnActive = true;
                        break;
                    case 'freepolygon':
                        cState.currentSymbol = this.sketchViewModel.polygonSymbol;
                        cState.currentSymbolType = jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_15__.JimuSymbolType.Polygon;
                        this.sketchViewModel.create("polygon", { mode: 'freehand' });
                        cState.fpolygonBtnActive = true;
                        break;
                    case 'circle':
                        cState.currentSymbol = this.sketchViewModel.polygonSymbol;
                        cState.currentSymbolType = jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_15__.JimuSymbolType.Polygon;
                        this.sketchViewModel.create("circle");
                        cState.circleBtnActive = true;
                        break;
                    case 'text':
                        cState.currentSymbol = this.sketchViewModel.pointSymbol;
                        cState.currentSymbolType = jimu_ui_advanced_map__WEBPACK_IMPORTED_MODULE_15__.JimuSymbolType.Point;
                        this.sketchViewModel.create("point");
                        cState.textBtnActive = true;
                        break;
                    default:
                        // Exiting all drawing tools - cancel is already called above
                        break;
                }
            }
            catch (error) {
                console.error('Error in setDrawToolBtnState:', error);
                // Reset state on error to prevent UI inconsistencies
                cState = {
                    pointBtnActive: false,
                    lineBtnActive: false,
                    flineBtnActive: false,
                    rectBtnActive: false,
                    polygonBtnActive: false,
                    fpolygonBtnActive: false,
                    circleBtnActive: false,
                    textBtnActive: false,
                    currentTool: ''
                };
            }
            // Handle popup restoration for widgets not controlled by widget state
            if (this.state.currentJimuMapView) {
                const view = this.state.currentJimuMapView.view;
                const widgetState = this.props.state;
                const isWidgetControlled = widgetState !== undefined && widgetState !== null;
                if (!isWidgetControlled && view && this.originalPopupEnabled !== null) {
                    // Restore popups when exiting drawing mode if not controlled by widget state
                    if (wasInDrawingMode && !willBeInDrawingMode && !view.popupEnabled && this.originalPopupEnabled) {
                        view.popupEnabled = this.originalPopupEnabled;
                        //console.log('Restored popup state (uncontrolled widget, exiting drawing):', this.originalPopupEnabled);
                        if (view.popup && "autoCloseEnabled" in view.popup) {
                            view.popup.autoCloseEnabled = true;
                        }
                        // Restore highlight appearance
                        view.highlightOptions = {
                            color: [0, 255, 255, 1],
                            fillOpacity: 0.0,
                            haloOpacity: 0.8
                        };
                        // Restore layer-level highlight styling
                        view.map.layers.forEach(layer => {
                            view.whenLayerView(layer).then((layerView) => {
                                if (layer.type === "feature") {
                                    const featureLayerView = layerView;
                                    if ("highlightOptions" in featureLayerView) {
                                        featureLayerView.highlightOptions = {
                                            color: [0, 255, 255, 1],
                                            fillOpacity: 0.0,
                                            haloOpacity: 0.8
                                        };
                                    }
                                }
                            });
                        });
                    }
                    // Disable popups when entering drawing mode
                    else if (!wasInDrawingMode && willBeInDrawingMode && view.popupEnabled) {
                        // Store original state if not already stored
                        if (this.originalPopupEnabled === null) {
                            this.originalPopupEnabled = view.popupEnabled;
                            //console.log('Stored original popup state (uncontrolled widget):', this.originalPopupEnabled);
                        }
                        view.popupEnabled = false;
                        //console.log('Disabled popups (uncontrolled widget, entering drawing mode)');
                        if (view.popup && "autoCloseEnabled" in view.popup) {
                            view.popup.autoCloseEnabled = false;
                        }
                        view.popup.visible = false;
                        // Make highlights invisible
                        view.highlightOptions = {
                            color: [0, 0, 0, 0],
                            fillOpacity: 0,
                            haloOpacity: 0
                        };
                    }
                }
            }
            // Set preview states
            cState.showSymPreview = toolBtn !== 'text' && toolBtn !== '';
            cState.showTextPreview = toolBtn === 'text';
            // Apply state changes
            this.setState(cState);
        };
        this.handleSwitchToDrawings = () => {
            var _a, _b, _c;
            // Store measurement editing state before switching
            const wasMeasurementEditingEnabled = ((_c = (_b = (_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) === null || _b === void 0 ? void 0 : _b.isEditingMeasurements) === null || _c === void 0 ? void 0 : _c.call(_b)) || false;
            this.setDrawToolBtnState('');
            this.setState({ activeTab: 'mydrawings' }, () => {
                // Restore measurement editing state after tab switch if it was enabled
                if (wasMeasurementEditingEnabled) {
                    setTimeout(() => {
                        var _a;
                        if ((_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) {
                            // Re-enable measurement editing after tab switch
                            this.measureRef.current.enableMeasurements();
                        }
                    }, 250);
                }
            });
        };
        this.handleSwitchFromDrawings = () => {
            var _a, _b, _c;
            // Store measurement editing state before switching
            const wasMeasurementEditingEnabled = ((_c = (_b = (_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) === null || _b === void 0 ? void 0 : _b.isEditingMeasurements) === null || _c === void 0 ? void 0 : _c.call(_b)) || false;
            this.setDrawToolBtnState('');
            this.setState({ activeTab: 'draw' }, () => {
                // Restore measurement editing state after tab switch if it was enabled
                if (wasMeasurementEditingEnabled) {
                    setTimeout(() => {
                        var _a;
                        if ((_a = this.measureRef) === null || _a === void 0 ? void 0 : _a.current) {
                            // Re-enable measurement editing after tab switch
                            this.measureRef.current.enableMeasurements();
                        }
                    }, 250);
                }
            });
        };
        this.showTextSymbolPopper = (evt) => {
            // Prevent event bubbling and default behavior
            if (evt) {
                evt.preventDefault();
                evt.stopPropagation();
            }
            this.updateActiveBtnIcons();
            // Workaround for InputUnit styling issue
            setTimeout(() => {
                let unitSelectors = document.getElementsByClassName('style-setting--unit-selector');
                Array.from(unitSelectors).forEach((ele) => {
                    ele.firstChild.style.padding = '0';
                });
            }, 200);
            // Toggle the text preview popper state
            this.setState({ textPreviewisOpen: !this.state.textPreviewisOpen });
        };
        this.updateSymbolOpacity = (value) => {
            let ts = this.state.currentTextSymbol;
            ts.color.a = value;
            this.setState({
                fontOpacity: value,
                currentTextSymbol: ts,
                fontColor: this.convertSymbolColorToColorPickerValue(ts.color)
            }, () => { this.updateSelectedTextGras(); });
        };
        this.onOpacityInputChanged = (e) => {
            let ts = this.state.currentTextSymbol;
            ts.color.a = e.distance / 100;
            this.setState({
                fontOpacity: e.distance / 100,
                currentTextSymbol: ts,
                fontColor: this.convertSymbolColorToColorPickerValue(ts.color)
            }, () => { this.updateSelectedTextGras(); });
        };
        this.updateSymbolHaloOpacity = (value) => {
            let ts = this.state.currentTextSymbol;
            ts.haloColor.a = value;
            this.setState({
                fontHaloOpacity: value,
                currentTextSymbol: ts,
                fontHaloColor: this.convertSymbolColorToColorPickerValue(ts.haloColor),
                fontHalo: this.state.fontHaloEnabled ? this.state.fontHaloSize + "px " + this.convertSymbolColorToColorPickerValue(ts.haloColor) : 'unset'
            }, () => { this.updateSelectedTextGras(); });
        };
        this.onHaloOpacityInputChanged = (e) => {
            let ts = this.state.currentTextSymbol;
            ts.haloColor.a = e.distance / 100;
            this.setState({
                fontHaloOpacity: e.distance / 100,
                currentTextSymbol: ts,
                fontHaloColor: this.convertSymbolColorToColorPickerValue(ts.haloColor),
                fontHalo: this.state.fontHaloEnabled ? this.state.fontHaloSize + "px " + this.convertSymbolColorToColorPickerValue(ts.haloColor) : 'unset'
            }, () => { this.updateSelectedTextGras(); });
        };
        this.convertSymbolColorToColorPickerValue = (color) => {
            if (color) {
                const rgbaClr = color.toRgba();
                return `rgba(${rgbaClr[0]},${rgbaClr[1]},${rgbaClr[2]},${rgbaClr[3]})`;
            }
            return null;
        };
        this.onColorPickerToggle = (evt) => {
            //workaround for color picker style issue
            setTimeout(() => {
                let colorPicker = document.querySelectorAll('.color-picker-popper>.popper-box>.sketch-standard')[0];
                colorPicker.style.backgroundColor = 'unset';
            }, 200);
        };
        this.handlePointRotation = (e) => {
            const symbol = this.state.currentSymbol.clone();
            symbol.angle = e.target ? e.target.value : e;
            this.onPointSymChanged(symbol);
        };
        this.handleFontFamily = (e) => {
            const newFont = e.target.value;
            const cTextSym = this.state.currentTextSymbol.clone();
            cTextSym.font.family = newFont;
            // Update state and apply changes to any selected text graphics
            this.setState({
                currentTextSymbol: cTextSym
            }, () => {
                // Callback to ensure state is updated before applying to graphics
                this.updateSelectedTextGras();
            });
        };
        this.handleListMode = (e) => {
            const checked = e.target.checked;
            if (checked) {
                this.drawLayer.listMode = 'show';
            }
            else {
                this.drawLayer.listMode = 'hide';
            }
            this.setState({ listMode: this.drawLayer.listMode });
        };
        this.handleTitleChange = (e) => {
            const title = e.target.value;
            this.drawLayer.title = title;
            this.setState({ drawLayerTitle: title });
        };
        this.state = {
            currentJimuMapView: null,
            graphics: [],
            pointBtnActive: false,
            lineBtnActive: false,
            flineBtnActive: false,
            rectBtnActive: false,
            polygonBtnActive: false,
            fpolygonBtnActive: false,
            circleBtnActive: false,
            textBtnActive: false,
            showSymPreview: false,
            currentSymbol: null,
            currentSymbolType: null,
            currentTextSymbol: new esri_symbols_TextSymbol__WEBPACK_IMPORTED_MODULE_21__["default"]({
                verticalAlignment: 'middle',
                font: { family: 'Avenir Next LT Pro' },
                text: 'Text'
            }),
            undoBtnActive: false,
            redoBtnActive: false,
            clearBtnActive: false,
            drawGLLengthcheck: false,
            currentTool: '',
            clearBtnTitle: this.nls('drawClear'),
            canUndo: false,
            canRedo: false,
            showTextPreview: false,
            textSymPreviewText: 'Text',
            fontColor: 'rgba(0,0,0,1)',
            fontSize: `${(_a = new esri_symbols_TextSymbol__WEBPACK_IMPORTED_MODULE_21__["default"]().font.size) !== null && _a !== void 0 ? _a : 14}`,
            fontHaloSize: 1,
            fontHaloColor: 'rgba(255,255,255,1)',
            fontHaloEnabled: false,
            fontHalo: 'unset',
            fontWeight: 'normal',
            fontDecoration: 'none',
            fontStyle: 'normal',
            hTextAlign: jimu_ui__WEBPACK_IMPORTED_MODULE_4__.TextAlignValue.CENTER,
            vTextAlign: 'middle',
            fontRotation: 0,
            vAlignBaseBtnActive: false,
            vAlignTopBtnActive: false,
            vAlignMidBtnActive: true,
            vAlignBotBtnActive: false,
            textPreviewHeight: 25,
            hAlignLeftBtnActive: false,
            hAlignCenterBtnActive: true,
            hAlignRightBtnActive: false,
            fsBoldBtnActive: false,
            fsItalicBtnActive: false,
            fsUnderlineBtnActive: false,
            widgetInit: false,
            textPreviewisOpen: false,
            fontOpacity: 1,
            fontHaloOpacity: 1,
            textHasChanged: false,
            rotationMode: false,
            drawLayerTitle: this.props.config.title,
            listMode: this.props.config.listMode ? 'show' : 'hide',
            confirmDelete: false,
            fontBackgroundColor: 'rgba(0,0,0,0)',
            showDrawingsPanel: false, // Added BM
            selectedDrawingIndex: null, // Added BM
            activeTab: 'draw', // Added BM
            selectedGraphicIndex: null,
            selectedGraphics: new Set(),
            arrowEnabled: false,
            arrowPosition: 'end',
            arrowSize: 24,
            measurementCheckboxOn: false
        };
        this.creationMode = this.props.config.creationMode || _config__WEBPACK_IMPORTED_MODULE_3__.DrawMode.SINGLE;
    }
    componentDidMount() {
        this.setState({ widgetInit: true });
        this.drawLayer = new esri_layers_GraphicsLayer__WEBPACK_IMPORTED_MODULE_19__["default"]({
            id: 'DrawGL',
            listMode: this.props.config.listMode ? 'show' : 'hide',
            title: this.props.config.title
        });
        // Initialize drawing map for graphic tracking
        this._drawingMap = new Map();
        // Listen for save events from BufferControls
        window.addEventListener('saveDrawingsToStorage', this.handleSaveEvent);
    }
    componentDidUpdate(prevProps, prevState) {
        if (this.state.currentJimuMapView) {
            const widgetState = this.props.state;
            const view = this.state.currentJimuMapView.view;
            if (widgetState === jimu_core__WEBPACK_IMPORTED_MODULE_1__.WidgetState.Closed && this.sketchViewModel) {
                // Properly cancel any active operations
                this.sketchViewModel.cancel();
                this.sketchViewModel.updateOnGraphicClick = false;
                // Clear any active drawing states to prevent interference with map interactions
                this.setDrawToolBtnState(null);
                // Restore original popup state
                if (view) {
                    // Only restore if we have the original value
                    if (this.originalPopupEnabled !== null) {
                        view.popupEnabled = this.originalPopupEnabled;
                        //console.log('Restored popup state to:', this.originalPopupEnabled);
                    }
                    if (view.popup && "autoCloseEnabled" in view.popup) {
                        view.popup.autoCloseEnabled = true;
                    }
                    // Restore highlight appearance
                    view.highlightOptions = {
                        color: [0, 255, 255, 1],
                        fillOpacity: 0.0,
                        haloOpacity: 0.8
                    };
                    // Restore layer-level highlight styling
                    view.map.layers.forEach(layer => {
                        view.whenLayerView(layer).then((layerView) => {
                            if (layer.type === "feature") {
                                const featureLayerView = layerView;
                                if ("highlightOptions" in featureLayerView) {
                                    featureLayerView.highlightOptions = {
                                        color: [0, 255, 255, 1],
                                        fillOpacity: 0.0,
                                        haloOpacity: 0.8
                                    };
                                }
                            }
                        });
                    });
                    // Clear widget graphics but preserve draw layer
                    const allGraphics = view.graphics.toArray();
                    const graphicsToRemove = allGraphics.filter(graphic => graphic.layer !== this.drawLayer);
                    view.graphics.removeMany(graphicsToRemove);
                }
                if (this.props.config.turnOffOnClose) {
                    this.setDrawToolBtnState(null);
                }
            }
            else if (widgetState === jimu_core__WEBPACK_IMPORTED_MODULE_1__.WidgetState.Opened && this.sketchViewModel) {
                this.sketchViewModel.updateOnGraphicClick = true;
                // Disable interactions when widget opens
                if (view) {
                    // Store original state only if not already stored
                    if (this.originalPopupEnabled === null) {
                        this.originalPopupEnabled = view.popupEnabled;
                        //console.log('Stored original popup state:', this.originalPopupEnabled);
                    }
                    // Disable popups and interactions
                    view.popupEnabled = false;
                    if (view.popup && "autoCloseEnabled" in view.popup) {
                        view.popup.autoCloseEnabled = false;
                    }
                    view.popup.visible = false;
                    // Make highlights invisible
                    view.highlightOptions = {
                        color: [0, 0, 0, 0],
                        fillOpacity: 0,
                        haloOpacity: 0
                    };
                }
            }
            // Backup check for widgets without state management (used outside widget controller)
            if (view && this.originalPopupEnabled !== null) {
                // Check if widget state is undefined/null (not managed by controller)
                const isWidgetControlled = widgetState !== undefined && widgetState !== null;
                if (!isWidgetControlled) {
                    // For uncontrolled widgets, restore popups when not in drawing mode
                    const isDrawingActive = this.state.pointBtnActive || this.state.lineBtnActive ||
                        this.state.flineBtnActive || this.state.rectBtnActive ||
                        this.state.polygonBtnActive || this.state.fpolygonBtnActive ||
                        this.state.circleBtnActive || this.state.textBtnActive;
                    // Check if drawing state changed from active to inactive
                    const wasDrawingActive = prevState.pointBtnActive || prevState.lineBtnActive ||
                        prevState.flineBtnActive || prevState.rectBtnActive ||
                        prevState.polygonBtnActive || prevState.fpolygonBtnActive ||
                        prevState.circleBtnActive || prevState.textBtnActive;
                    // Restore popups when exiting drawing mode
                    if (wasDrawingActive && !isDrawingActive && !view.popupEnabled && this.originalPopupEnabled) {
                        view.popupEnabled = this.originalPopupEnabled;
                        //console.log('Restored popup state (uncontrolled widget):', this.originalPopupEnabled);
                        if (view.popup && "autoCloseEnabled" in view.popup) {
                            view.popup.autoCloseEnabled = true;
                        }
                        // Restore highlight appearance
                        view.highlightOptions = {
                            color: [0, 255, 255, 1],
                            fillOpacity: 0.0,
                            haloOpacity: 0.8
                        };
                    }
                    // Disable popups when entering drawing mode
                    else if (!wasDrawingActive && isDrawingActive && view.popupEnabled) {
                        view.popupEnabled = false;
                        //console.log('Disabled popups (uncontrolled widget, entering drawing mode)');
                        if (view.popup && "autoCloseEnabled" in view.popup) {
                            view.popup.autoCloseEnabled = false;
                        }
                        view.popup.visible = false;
                        // Make highlights invisible
                        view.highlightOptions = {
                            color: [0, 0, 0, 0],
                            fillOpacity: 0,
                            haloOpacity: 0
                        };
                    }
                }
            }
        }
        // Set titles for color picker inputs
        if (document.getElementsByClassName('fontcolorpicker')[0]) {
            document.getElementsByClassName('fontcolorpicker')[0].title = this.nls('fontColor');
        }
        if (document.getElementsByClassName('fontrotationinput')[0]) {
            document.getElementsByClassName('fontrotationinput')[0].title = this.nls('fontRotation');
        }
        if (document.getElementsByClassName('fontsizeinput')[0]) {
            document.getElementsByClassName('fontsizeinput')[0].title = this.nls('fontSize');
        }
        if (document.getElementsByClassName('fonthalocolorpicker')[0]) {
            document.getElementsByClassName('fonthalocolorpicker')[0].title = this.nls('fontHaloColor');
        }
        if (document.getElementsByClassName('fonthalosizeinput')[0]) {
            document.getElementsByClassName('fonthalosizeinput')[0].title = this.nls('fontHaloSize');
        }
    }
    componentWillUnmount() {
        var _a, _b;
        // Clean up measurement update timeouts
        if (this._measurementUpdateTimeout) {
            clearTimeout(this._measurementUpdateTimeout);
            this._measurementUpdateTimeout = null;
        }
        if (this._activeMeasurementUpdateTimeout) {
            clearTimeout(this._activeMeasurementUpdateTimeout);
            this._activeMeasurementUpdateTimeout = null;
        }
        if (this._savePositionTimeout) {
            clearTimeout(this._savePositionTimeout);
            this._savePositionTimeout = null;
        }
        // Clean up position watchers
        if (this._positionWatchers) {
            Object.values(this._positionWatchers).forEach(watcher => {
                if (watcher && typeof watcher.remove === 'function') {
                    try {
                        watcher.remove();
                    }
                    catch (error) {
                        console.warn('Error removing position watcher:', error);
                    }
                }
            });
            this._positionWatchers = {};
        }
        // Remove save event listener
        window.removeEventListener('saveDrawingsToStorage', this.handleSaveEvent);
        // Always restore original popup state if we have it stored
        if (((_b = (_a = this.state) === null || _a === void 0 ? void 0 : _a.currentJimuMapView) === null || _b === void 0 ? void 0 : _b.view) && this.originalPopupEnabled !== null) {
            const view = this.state.currentJimuMapView.view;
            try {
                // Restore popup functionality
                view.popupEnabled = this.originalPopupEnabled;
                //console.log('componentWillUnmount: Restored popup state to:', this.originalPopupEnabled);
                if (view.popup && "autoCloseEnabled" in view.popup) {
                    view.popup.autoCloseEnabled = true;
                }
                // Restore highlight options to default
                view.highlightOptions = {
                    color: [0, 255, 255, 1],
                    fillOpacity: 0.0,
                    haloOpacity: 0.8
                };
                // Restore layer-level highlight styling
                view.map.layers.forEach(layer => {
                    view.whenLayerView(layer).then((layerView) => {
                        if (layer.type === "feature") {
                            const featureLayerView = layerView;
                            if ("highlightOptions" in featureLayerView) {
                                featureLayerView.highlightOptions = {
                                    color: [0, 255, 255, 1],
                                    fillOpacity: 0.0,
                                    haloOpacity: 0.8
                                };
                            }
                        }
                    }).catch(err => {
                        console.warn(`Could not restore highlight options for layer ${layer.title}:`, err);
                    });
                });
                // Clear any widget graphics but preserve draw layer
                const allGraphics = view.graphics.toArray();
                const graphicsToRemove = allGraphics.filter(graphic => graphic.layer !== this.drawLayer);
                if (graphicsToRemove.length > 0) {
                    view.graphics.removeMany(graphicsToRemove);
                }
            }
            catch (error) {
                console.warn('Error restoring view state during unmount:', error);
            }
            // Reset the stored value after restoration
            this.originalPopupEnabled = null;
        }
        // Clean up SketchViewModel
        if (this.sketchViewModel) {
            try {
                this.sketchViewModel.cancel();
                this.sketchViewModel.destroy();
            }
            catch (error) {
                console.warn('Error cleaning up SketchViewModel:', error);
            }
            this.sketchViewModel = null;
        }
        // Clean up draw layer
        if (this.drawLayer) {
            try {
                this.drawLayer.removeAll();
            }
            catch (error) {
                console.warn('Error clearing draw layer:', error);
            }
            this.drawLayer = null;
        }
    }
    renderMyDrawingsTab() {
        return ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "my-drawings-tab-container p-3", children: this.drawLayer && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_MyDrawingsPanel__WEBPACK_IMPORTED_MODULE_27__.MyDrawingsPanel, { ref: this.myDrawingsRef, graphicsLayer: this.drawLayer, jimuMapView: this.state.currentJimuMapView, drawings: this.drawLayer.graphics.toArray(), allowLocalStorage: true, confirmOnDelete: true, onDrawingSelect: this.handleDrawingSelect, onDrawingsUpdate: this.handleDrawingsUpdate, showAlert: this.showAlert, isActiveTab: this.state.activeTab === 'mydrawings', onClearSelectionOverlays: this.clearSelectionOverlaysInDrawLayer })) }));
    }
    renderDrawPanel() {
        var _a;
        const { config } = this.props;
        const { showSymPreview, showTextPreview, drawGLLengthcheck, canRedo, canUndo, fontColor, fontSize, fontHaloEnabled, fontHaloColor, fontHaloSize, textSymPreviewText, currentSymbol, undoBtnActive, redoBtnActive, clearBtnActive, clearBtnTitle, pointBtnActive, lineBtnActive, flineBtnActive, rectBtnActive, polygonBtnActive, fpolygonBtnActive, circleBtnActive, textBtnActive, fontHalo, fontWeight, fontDecoration, fontStyle, fontRotation, vAlignBaseBtnActive, vAlignBotBtnActive, vAlignMidBtnActive, vAlignTopBtnActive, textPreviewHeight, hAlignLeftBtnActive, hAlignCenterBtnActive, hAlignRightBtnActive, fsBoldBtnActive, fsItalicBtnActive, fsUnderlineBtnActive, currentSymbolType, textPreviewisOpen, fontOpacity, fontHaloOpacity, textHasChanged } = this.state;
        const isDrawingActive = pointBtnActive || lineBtnActive || flineBtnActive ||
            rectBtnActive || polygonBtnActive || fpolygonBtnActive || circleBtnActive || textBtnActive;
        return ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "draw-panel-content", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mode-message text-center mb-3", children: !isDrawingActive ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: ((_a = this.drawLayer) === null || _a === void 0 ? void 0 : _a.graphics.length) > 0 ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { children: "Edit Mode" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h6", { children: "Select a Drawing Style to enter Drawing Mode." })] })) : ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { children: "No Drawings Yet" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h6", { children: "Select a Drawing Style to get started." })] })) })) : ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { children: "Drawing Mode" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h6", { children: "Click the Active Drawing Style Button to Exit Drawing Mode and Activate Editing Mode." })] })) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "drawing-tools-section mb-3", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "d-flex justify-content-center", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "drawToolbarDiv d-flex flex-column", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "buttonRow", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { size: "sm", type: "default", color: pointBtnActive ? 'primary' : 'default', active: pointBtnActive, onClick: () => this.setDrawToolBtnState('point'), title: this.nls('drawPoint'), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Icon, { icon: pinIcon }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { size: "sm", type: "default", color: lineBtnActive ? 'primary' : 'default', active: lineBtnActive, onClick: () => this.setDrawToolBtnState('polyline'), title: this.nls('drawLine'), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Icon, { icon: lineIcon }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { size: "sm", type: "default", color: flineBtnActive ? 'primary' : 'default', active: flineBtnActive, onClick: () => this.setDrawToolBtnState('freepolyline'), title: this.nls('drawFreeLine'), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Icon, { icon: curveIcon }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { size: "sm", type: "default", color: textBtnActive ? 'primary' : 'default', active: textBtnActive, onClick: () => this.setDrawToolBtnState('text'), title: this.nls('drawText'), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Icon, { icon: textIcon }) })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "buttonRow", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { size: "sm", type: "default", color: rectBtnActive ? 'primary' : 'default', active: rectBtnActive, onClick: () => this.setDrawToolBtnState('extent'), title: this.nls('drawRectangle'), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Icon, { icon: rectIcon }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { size: "sm", type: "default", color: polygonBtnActive ? 'primary' : 'default', active: polygonBtnActive, onClick: () => this.setDrawToolBtnState('polygon'), title: this.nls('drawPolygon'), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Icon, { icon: polyIcon }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { size: "sm", type: "default", color: fpolygonBtnActive ? 'primary' : 'default', active: fpolygonBtnActive, onClick: () => this.setDrawToolBtnState('freepolygon'), title: this.nls('drawFreePolygon'), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Icon, { icon: freePolyIcon }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { size: "sm", type: "default", color: circleBtnActive ? 'primary' : 'default', active: circleBtnActive, onClick: () => this.setDrawToolBtnState('circle'), title: this.nls('drawCircle'), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Icon, { icon: circleIcon }) })] })] }) }) }), showSymPreview && this.sketchViewModel && this.renderSymbolSelectorSection(), showTextPreview && this.renderTextSymbolPreviewButton(), textPreviewisOpen && this.renderTextPopper(), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "main-checkbox-stack", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_measure__WEBPACK_IMPORTED_MODULE_26__["default"], { ref: this.measureRef, nls: this.nls, config: config, drawLayer: this.drawLayer, currentTextSymbol: this.state.currentTextSymbol, sketchViewModel: this.sketchViewModel, currentTool: this.state.currentTool, showTextPreview: this.state.showTextPreview, currentSymbol: this.state.currentSymbol, isDrawingActive: isDrawingActive }, `measure-${this.state.activeTab}`), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_SnappingControls__WEBPACK_IMPORTED_MODULE_28__.SnappingControls, { jimuMapView: this.state.currentJimuMapView, sketchViewModel: this.sketchViewModel }), !textBtnActive && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_BufferControls__WEBPACK_IMPORTED_MODULE_29__.BufferControls, { sketchViewModel: this.sketchViewModel, jimuMapView: this.state.currentJimuMapView }))] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'd-flex flex-column justify-content-between', style: { height: '150px' }, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "drawToolbarBottomDiv", children: [(canUndo || canRedo) && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "d-flex gap-2", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { size: "sm", type: "secondary", active: undoBtnActive, onClick: this.drawUndoBtnClick, title: this.nls('drawUndo'), disabled: !canUndo, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_directional_arrow_undo__WEBPACK_IMPORTED_MODULE_7__.ArrowUndoOutlined, {}), " Undo"] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { size: "sm", type: "secondary", active: redoBtnActive, onClick: this.drawRedoBtnClick, title: this.nls('drawRedo'), disabled: !canRedo, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_directional_arrow_redo__WEBPACK_IMPORTED_MODULE_6__.ArrowRedoOutlined, {}), " Redo"] })] })), this.state.clearBtnTitle === this.nls('drawClear') ? (this.state.confirmDelete ? ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "d-flex gap-2", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { size: "sm", type: "danger", active: clearBtnActive, onClick: this.drawClearBtnClick, title: clearBtnTitle, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_trash__WEBPACK_IMPORTED_MODULE_5__.TrashOutlined, {}), " ", clearBtnTitle] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { size: "sm", type: "secondary", active: clearBtnActive, onClick: () => this.setState({ confirmDelete: false }), title: "Cancel", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_suggested_wrong__WEBPACK_IMPORTED_MODULE_8__.WrongOutlined, {}), " Cancel"] })] })) : ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { size: "sm", type: "secondary", active: clearBtnActive, onClick: () => this.setState({ confirmDelete: true }), title: clearBtnTitle, disabled: !drawGLLengthcheck, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_trash__WEBPACK_IMPORTED_MODULE_5__.TrashOutlined, {}), " ", clearBtnTitle] }))) : ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { size: "sm", type: "danger", active: clearBtnActive, onClick: this.drawClearBtnClick, title: clearBtnTitle, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_trash__WEBPACK_IMPORTED_MODULE_5__.TrashOutlined, {}), " ", clearBtnTitle] }))] }), (this.props.config.changeListMode || this.props.config.changeTitle) && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "drawToolbarDiv", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.CollapsablePanel, { label: "Draw Layer Settings", leftIcon: (jimu_icons_svg_outlined_application_setting_svg__WEBPACK_IMPORTED_MODULE_10___default()), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Label, { className: "w-100", children: ["Draw Layer Title:", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.TextInput, { defaultValue: this.props.config.title, onChange: (e) => this.handleTitleChange(e), type: "text", allowClear: true, required: true })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Label, { centric: true, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Checkbox, { checked: this.state.listMode === 'show', onClick: (e) => this.handleListMode(e), className: "mr-2 mt-2 mb-2 ml-4" }), "Show In Map Layer List"] })] }) }) }))] })] }));
    }
    // Add the missing renderTextPopper method
    renderTextPopper() {
        // Convert backgroundColor to string for style prop
        const backgroundColorString = this.state.fontBackgroundColor
            ? (typeof this.state.fontBackgroundColor === 'string'
                ? this.state.fontBackgroundColor
                : `rgba(${this.state.fontBackgroundColor.r}, ${this.state.fontBackgroundColor.g}, ${this.state.fontBackgroundColor.b}, ${this.state.fontBackgroundColor.a})`)
            : 'transparent';
        return ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Popper, { open: this.state.textPreviewisOpen, reference: this.props.widgetId + '_btnTextSymbol', placement: 'bottom', showArrow: true, zIndex: 1002, toggle: this.showTextSymbolPopper, children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'p-3 d-flex', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "w-100 d-flex mt-2 mb-3", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "justify-content-start d-flex align-items-center mr-4 pl-2", children: this.nls('preview') }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "justify-content-center d-flex mt-1 mb-1 ml-3", style: {
                                            height: `${this.state.textPreviewHeight}px`,
                                            maxHeight: '220px',
                                            backgroundColor: backgroundColorString
                                        }, children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "w-100 h-100 justify-content-center d-flex align-items-center symbol-item text-symbol-item", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: 'text-symbol-span', style: {
                                                            color: `${this.state.fontColor}`,
                                                            fontSize: `${this.state.fontSize}px`,
                                                            fontWeight: this.state.fontWeight === 'normal' ? 'normal' : 'bold',
                                                            fontStyle: this.state.fontStyle,
                                                            fontFamily: this.state.currentTextSymbol.font.family,
                                                            textDecoration: this.state.fontDecoration,
                                                            zIndex: 100,
                                                            WebkitTransform: `rotate(${this.state.fontRotation}deg)`,
                                                            MozTransition: `rotate(${this.state.fontRotation}deg)`,
                                                            filter: `progid:DXImageTransform.Microsoft.BasicImage(rotation=${this.state.fontRotation})`
                                                        }, children: this.state.textSymPreviewText }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { style: {
                                                            color: `${this.state.fontColor}`,
                                                            fontSize: `${this.state.fontSize}px`,
                                                            WebkitTextStroke: `${this.state.fontHalo}`,
                                                            fontWeight: this.state.fontWeight === 'normal' ? 'normal' : 'bold',
                                                            fontStyle: this.state.fontStyle,
                                                            fontFamily: this.state.currentTextSymbol.font.family,
                                                            textDecoration: this.state.fontDecoration,
                                                            position: 'absolute',
                                                            WebkitTransform: `rotate(${this.state.fontRotation}deg)`,
                                                            MozTransition: `rotate(${this.state.fontRotation}deg)`,
                                                            filter: `progid:DXImageTransform.Microsoft.BasicImage(rotation=${this.state.fontRotation})`
                                                        }, children: this.state.textSymPreviewText })] }) }) })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "w-100", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 d-flex justify-content-between align-items-center pb-2', children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.TextInput, { className: 'w-100', size: 'sm', title: this.nls('drawText'), onChange: e => this.TextOnChange(e), placeholder: 'Your Text Here', value: this.state.textHasChanged ? this.state.textSymPreviewText : '', style: { fontFamily: this.state.currentTextSymbol.font.family } }) }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'w-100 d-flex', children: ["Font:", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Select, { size: 'sm', onChange: (e) => this.handleFontFamily(e), className: 'ml-2', value: this.state.currentTextSymbol.font.family, children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Option, { value: 'Alegreya', style: { fontFamily: 'Alegreya' }, children: "Alegreya" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Option, { value: 'Arial', style: { fontFamily: 'Arial' }, children: "Arial" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Option, { value: 'Avenir Next LT Pro', style: { fontFamily: 'Avenir Next LT Pro' }, children: "Avenir Next" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Option, { value: 'Josefin Slab', style: { fontFamily: 'Josefin Slab' }, children: "Josefin Slab" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Option, { value: 'Merriweather', style: { fontFamily: 'Merriweather' }, children: "Merriweather" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Option, { value: 'Montserrat', style: { fontFamily: 'Montserrat' }, children: "Montserrat" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Option, { value: 'Noto Sans', style: { fontFamily: 'Noto Sans' }, children: "Noto Sans" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Option, { value: 'Noto Serif', style: { fontFamily: 'Noto Serif' }, children: "Noto Serif" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Option, { value: 'Playfair Display', style: { fontFamily: 'Playfair Display' }, children: "Playfair Display" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Option, { value: 'Roboto', style: { fontFamily: 'Roboto' }, children: "Roboto" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Option, { value: 'Ubuntu', style: { fontFamily: 'Ubuntu' }, children: "Ubuntu" })] })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "w-100", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'w-100 d-flex justify-content-between align-items-center mb-2', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_basic_color_picker__WEBPACK_IMPORTED_MODULE_17__.ColorPicker, { className: "fontcolorpicker", title: this.nls('fontColor'), style: { padding: '0' }, width: 26, height: 26, color: this.state.fontColor ? this.state.fontColor : 'rgba(0,0,0,1)', onChange: this.updateTextColor, onClick: e => { this.onColorPickerToggle(e); } }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.NumericInput, { size: 'sm', onChange: this.fontSizeOnChange, value: this.state.fontSize, className: "fontsizeinput", style: { width: '5rem' }, showHandlers: true, min: 1, max: 120 }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { borderRight: '1px solid rgb(182, 182, 182)', height: '26px' } }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.AdvancedButtonGroup, { children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { icon: true, size: 'sm', active: this.state.fsBoldBtnActive, onClick: (evt) => { this.onFontStyleChange(evt, 'bold'); }, title: this.nls('fontBold'), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Icon, { icon: fsBoldIcon, size: 'm' }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { icon: true, size: 'sm', active: this.state.fsItalicBtnActive, onClick: (evt) => { this.onFontStyleChange(evt, 'italic'); }, title: this.nls('fontItalic'), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Icon, { icon: fItalicIcon, size: 'm' }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { icon: true, size: 'sm', active: this.state.fsUnderlineBtnActive, onClick: (evt) => { this.onFontStyleChange(evt, 'underline'); }, title: this.nls('fontUnderline'), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Icon, { icon: fUnderlineIcon, width: 12 }) })] })] }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Label, { children: ["Opacity:", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'w-100 d-flex justify-content-between align-items-center mb-2 border', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Slider, { size: 'default', value: this.state.fontOpacity, min: 0, max: 1, step: 0.1, hideThumb: false, className: 'mr-2', style: { width: 'calc(100% - 80px)' }, title: `${this.props.intl.formatMessage({
                                                    id: 'drawToolOpacity',
                                                    defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_4__.defaultMessages.drawToolOpacity
                                                })}: ${100 * this.state.fontOpacity}%`, onChange: (e) => this.updateSymbolOpacity(e.currentTarget.value) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_16__.InputUnit, { value: `${100 * this.state.fontOpacity}%`, className: 'input-unit', onChange: (e) => this.onOpacityInputChanged(e), style: { width: '70px' } })] })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "w-100", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'w-100 d-flex justify-content-around align-items-center mb-2', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Text Rotation:" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.NumericInput, { size: 'sm', onChange: this.fontRotationChange, value: this.state.fontRotation, className: "fontrotationinput", style: { width: '80px' }, showHandlers: true, min: -360, max: 360 })] }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "w-100", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'w-100 d-flex justify-content-between align-items-center mb-2', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.AdvancedButtonGroup, { children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { icon: true, size: 'sm', active: this.state.hAlignLeftBtnActive, onClick: (evt) => { this.onHorizFontAlignChange(evt, 'left'); }, title: this.nls('fontHAleft'), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Icon, { icon: (jimu_icons_svg_outlined_editor_text_left_svg__WEBPACK_IMPORTED_MODULE_22___default()), size: 'm' }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { icon: true, size: 'sm', active: this.state.hAlignCenterBtnActive, onClick: (evt) => { this.onHorizFontAlignChange(evt, 'center'); }, title: this.nls('fontHAcenter'), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Icon, { icon: (jimu_icons_svg_outlined_editor_text_center_svg__WEBPACK_IMPORTED_MODULE_23___default()), size: 'm' }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { icon: true, size: 'sm', active: this.state.hAlignRightBtnActive, onClick: (evt) => { this.onHorizFontAlignChange(evt, 'right'); }, title: this.nls('fontHAright'), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Icon, { icon: (jimu_icons_svg_outlined_editor_text_right_svg__WEBPACK_IMPORTED_MODULE_24___default()), size: 'm' }) })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { borderRight: '1px solid rgb(182, 182, 182)', height: '26px' } }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.AdvancedButtonGroup, { children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { icon: true, size: 'sm', active: this.state.vAlignBaseBtnActive, onClick: (evt) => { this.onVertFontAlignChange(evt, 'baseline'); }, title: this.nls('fontVAbase'), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Icon, { icon: vAlignBase, currentColor: true }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { icon: true, size: 'sm', active: this.state.vAlignTopBtnActive, onClick: (evt) => { this.onVertFontAlignChange(evt, 'top'); }, title: this.nls('fontVAtop'), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Icon, { icon: vAlignTop }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { icon: true, size: 'sm', active: this.state.vAlignMidBtnActive, onClick: (evt) => { this.onVertFontAlignChange(evt, 'middle'); }, title: this.nls('fontVAmid'), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Icon, { icon: vAlignMid }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { icon: true, size: 'sm', active: this.state.vAlignBotBtnActive, onClick: (evt) => { this.onVertFontAlignChange(evt, 'bottom'); }, title: this.nls('fontVAbottom'), children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Icon, { icon: vAlignBot }) })] })] }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Label, { centric: true, children: ["Background Color:", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_basic_color_picker__WEBPACK_IMPORTED_MODULE_17__.ColorPicker, { className: 'mr-4 ml-2', style: { padding: '0' }, width: 26, height: 26, type: 'icon-only', icon: this.state.fontBackgroundColor === 'rgba(0,0,0,0)' ?
                                            (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_9__.CloseOutlined, { title: 'No Background Color' }) :
                                            (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { title: 'Background Color', style: { backgroundColor: backgroundColorString, height: '100%', width: '100%' } }), color: this.state.fontBackgroundColor ? backgroundColorString : "#000000", onClick: e => { this.onColorPickerToggle(e); }, onChange: this.updateBackgroundColor })] })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'ml-2', children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'border p-2 mb-2', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h6", { children: "Text Halo Options" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "w-100", children: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'w-100 d-flex justify-content-between align-items-center mb-2', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Label, { centric: true, children: [this.state.fontHaloEnabled ? 'Disable' : 'Enable', (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Switch, { title: this.nls('enableFontHalo'), className: "mr-4 ml-2", onChange: this.fontHaloChkChange, checked: this.state.fontHaloEnabled })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_basic_color_picker__WEBPACK_IMPORTED_MODULE_17__.ColorPicker, { className: 'mr-4 fonthalocolorpicker', style: { padding: '0' }, width: 26, height: 26, color: this.state.fontHaloColor ? this.state.fontHaloColor : '#000000', onClick: e => { this.onColorPickerToggle(e); }, onChange: this.updateFontHaloColor, disabled: !this.state.fontHaloEnabled }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.NumericInput, { size: 'sm', onChange: e => this.fontHaloSizeChange(e), value: this.state.fontHaloSize, disabled: !this.state.fontHaloEnabled, className: "fonthalosizeinput", style: { width: '80px' }, showHandlers: true, min: 1, max: 20 })] }) }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Label, { children: ["Opacity:", (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: 'w-100 d-flex justify-content-between align-items-center mb-2 border', children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.Slider, { size: 'default', value: this.state.fontHaloOpacity, min: 0, max: 1, step: 0.1, hideThumb: false, className: 'mr-2', style: { width: 'calc(100% - 80px)' }, title: `${this.nls('fontHalo')} ${this.props.intl.formatMessage({
                                                        id: 'drawToolOpacity',
                                                        defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_4__.defaultMessages.drawToolOpacity
                                                    })}: ${100 * this.state.fontHaloOpacity}%`, onChange: (e) => {
                                                        if (this.state.fontHaloEnabled) {
                                                            this.updateSymbolHaloOpacity(e.currentTarget.value);
                                                        }
                                                    } }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_16__.InputUnit, { value: `${100 * this.state.fontHaloOpacity}%`, className: 'input-unit', onChange: (e) => this.onHaloOpacityInputChanged(e), style: { width: '70px' }, disabled: !this.state.fontHaloEnabled })] })] })] }) })] }) }));
    }
    render() {
        const { config } = this.props;
        const { fontColor, fontSize, fontHalo, fontRotation, fontWeight, fontStyle, fontDecoration, fontHaloColor, fontHaloEnabled, fontHaloSize, textSymPreviewText, textPreviewHeight, currentSymbol, currentSymbolType, fontOpacity, fontHaloOpacity, textHasChanged, undoBtnActive, redoBtnActive, clearBtnActive, clearBtnTitle, canUndo, canRedo, showSymPreview, showTextPreview, textPreviewisOpen, drawGLLengthcheck, rotationMode, pointBtnActive, lineBtnActive, flineBtnActive, rectBtnActive, polygonBtnActive, fpolygonBtnActive, circleBtnActive, textBtnActive, vAlignBaseBtnActive, vAlignTopBtnActive, vAlignMidBtnActive, vAlignBotBtnActive, hAlignLeftBtnActive, hAlignCenterBtnActive, hAlignRightBtnActive, fsBoldBtnActive, fsItalicBtnActive, fsUnderlineBtnActive, activeTab, measurementCheckboxOn } = this.state;
        return ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "widget-draw jimu-widget", css: (0,_lib_style__WEBPACK_IMPORTED_MODULE_12__.getStyle)(this.props.theme, config), children: [this.props.useMapWidgetIds && this.props.useMapWidgetIds.length === 1 && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_arcgis__WEBPACK_IMPORTED_MODULE_11__.JimuMapViewComponent, { useMapWidgetId: this.props.useMapWidgetIds[0], onActiveViewChange: this.activeViewChangeHandler })), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-header", children: [(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `tab-button ${activeTab === 'draw' ? 'active' : ''}`, onClick: () => this.handleTabChange('draw'), children: "Draw" }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `tab-button ${activeTab === 'mydrawings' ? 'active' : ''}`, onClick: () => this.handleTabChange('mydrawings'), children: "My Drawings" })] }), (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-content", children: [activeTab === 'draw' && ((0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "draw-tab-content", children: this.renderDrawPanel() }, "draw-tab")), activeTab === 'mydrawings' && this.renderMyDrawingsTab()] })] }));
    }
}
function __set_webpack_public_path__(url) { __webpack_require__.p = url; }

})();

/******/ 	return __webpack_exports__;
/******/ })()

			);
		}
	};
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9kcmF3LWFkdmFuY2VkL2Rpc3QvcnVudGltZS93aWRnZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNkM7QUFFa0I7QUFFeEQsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLEtBQXdCLEVBQUUsRUFBRTtJQUM1RCxNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsR0FBRztJQUN0QixNQUFNLEVBQUUsU0FBUyxLQUFnQixLQUFLLEVBQWhCLE1BQU0sVUFBSyxLQUFLLEVBQWhDLGFBQXdCLENBQVE7SUFFdEMsTUFBTSxPQUFPLEdBQUcscURBQVUsQ0FBQywrQkFBK0IsRUFBRSxTQUFTLENBQUM7SUFDdEUsSUFBSSxDQUFDLEdBQUc7UUFBRSxPQUFPLHVGQUFLLFNBQVMsRUFBRSxPQUFPLElBQU0sTUFBYSxFQUFJO0lBQy9ELE9BQU8sZ0VBQUMsR0FBRyxrQkFBQyxTQUFTLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxpRkFBRyxJQUFNLE1BQU0sRUFBSTtBQUMxRCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1g0QztBQUVrQjtBQUV4RCxNQUFNLGlCQUFpQixHQUFHLENBQUMsS0FBd0IsRUFBRSxFQUFFO0lBQzVELE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxHQUFHO0lBQ3RCLE1BQU0sRUFBRSxTQUFTLEtBQWdCLEtBQUssRUFBaEIsTUFBTSxVQUFLLEtBQUssRUFBaEMsYUFBd0Is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QTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLE9BQU8sc0lBQXNJLFlBQVksV0FBVyxXQUFXLEtBQUssV0FBVyxNQUFNLEtBQUssV0FBVyxNQUFNLEtBQUssV0FBVyxXQUFXLE1BQU0sS0FBSyxXQUFXLFVBQVUsTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFdBQVcsTUFBTSxLQUFLLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsTUFBTSxXQUFXLFdBQVcsV0FBVyxLQUFLLFVBQVUsV0FBVyxVQUFVLFdBQVcsTUFBTSxVQUFVLEtBQUssVUFBVSxVQUFVLFdBQVcsV0FBVyxVQUFVLFdBQVcscUJBQXFCLE1BQU0sS0FBSyxVQUFVLFdBQVcsV0FBVyxVQUFVLFdBQVcsVUFBVSxXQUFXLFdBQVcsV0FBVyxNQUFNLEtBQUssV0FBVyxNQUFNLEtBQUssV0FBVyxXQUFXLFdBQVcsVUFBVSxNQUFNLFdBQVcsS0FBSyxVQUFVLFdBQVcsV0FBVyxVQUFVLFdBQVcsV0FBVyxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssV0FBVyxXQUFXLE1BQU0sS0FBSyxXQUFXLFdBQVcsTUFBTSxLQUFLLFdBQVcsTUFBTSxXQUFXLFdBQVcsV0FBVyxNQUFNLFVBQVUsV0FBVyxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssV0FBVyxVQUFVLE1BQU0sS0FBSyxVQUFVLFVBQVUsV0FBVyxNQUFNLEtBQUssVUFBVSxNQUFNLFdBQVcsV0FBVyxXQUFXLFdBQVcsS0FBSyxVQUFVLFdBQVcscUJBQXFCLE1BQU0sV0FBVyxLQUFLLFVBQVUsV0FBVyxxQkFBcUIsTUFBTSxXQUFXLE1BQU0sV0FBVyxNQUFNLFdBQVcsV0FBVyxXQUFXLFdBQVcsS0FBSyxXQUFXLFdBQVcsTUFBTSxXQUFXLEtBQUssV0FBVyxNQUFNLFdBQVcsS0FBSyxXQUFXLFdBQVcsV0FBVyxXQUFXLE1BQU0sV0FBVyxLQUFLLFdBQVcsV0FBVyxXQUFXLFdBQVcsVUFBVSxXQUFXLFdBQVcsV0FBVyxNQUFNLEtBQUssVUFBVSxNQUFNLFdBQVcsS0FBSyxXQUFXLE1BQU0sS0FBSyxXQUFXLE1BQU0sY0FBYyxXQUFXLFdBQVcsTUFBTSxXQUFXLFFBQVEsV0FBVyxXQUFXLE1BQU0sT0FBTyxzQkFBc0IsTUFBTSxXQUFXLEtBQUssVUFBVSxXQUFXLFVBQVUsV0FBVyxNQUFNLEtBQUssV0FBVyxNQUFNLFdBQVcsV0FBVyxXQUFXLEtBQUssVUFBVSxNQUFNLEtBQUssV0FBVyxXQUFXLE1BQU0sV0FBVyxLQUFLLFVBQVUsVUFBVSxzQkFBc0IsTUFBTSxXQUFXLFdBQVcsV0FBVyxLQUFLLE1BQU0sVUFBVSxLQUFLLEtBQUssV0FBVyxXQUFXLEtBQUssS0FBSyxVQUFVLEtBQUssS0FBSyxXQUFXLFdBQVcsS0FBSyxLQUFLLFVBQVUsS0FBSyxLQUFLLFdBQVcsS0FBSyxLQUFLLFVBQVUsV0FBVyxLQUFLLEtBQUssS0FBSyxNQUFNLFVBQVUsS0FBSyxNQUFNLFdBQVcsV0FBVyxLQUFLLE1BQU0sV0FBVyxLQUFLLDZHQUE2Ryxv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QUFFLEdBQUcsWUFBWSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDakMsSUFBSSxHQUFHLElBQUksMERBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBRSxDQUFDLENBQUMsQ0FBQyxtQ0FBSSxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDakUsR0FBRyxHQUFHLElBQUksMERBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBRSxDQUFDLENBQUMsQ0FBQyxtQ0FBSSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUMxRCxJQUFJLENBQUMsQ0FBQyxLQUFLO29CQUFFLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ3RELENBQUM7aUJBQU0sSUFBSSxLQUFLLEtBQUssT0FBTyxJQUFJLGFBQU0sQ0FBQyxNQUFNLDBDQUFFLElBQUksTUFBSyxlQUFlLEVBQUUsQ0FBQztnQkFDdEUsTUFBTSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQW1DLENBQUM7Z0JBQ3JELE1BQU0sRUFBRSxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ2pDLElBQUksR0FBRyxJQUFJLDBEQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLFFBQUUsQ0FBQyxDQUFDLENBQUMsbUNBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JB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LENBQ04sRUFFQSxTQUFTLEtBQUssWUFBWSxJQUFJLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxJQUNwRCxJQUNELENBQ04sQ0FBQztJQUNILENBQUM7Q0FDRDtBQUVPLFNBQVMsMkJBQTJCLENBQUMsR0FBRyxJQUFJLHFCQUF1QixHQUFHLEdBQUcsRUFBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvYXJyb3ctcmVkby50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvYXJyb3ctdW5kby50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL2Nsb3NlLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvdHJhc2gudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL3N1Z2dlc3RlZC93cm9uZy50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2FwcGxpY2F0aW9uL3NldHRpbmcuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9hcnJvdy1yZWRvLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZGlyZWN0aW9uYWwvYXJyb3ctdW5kby5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci9jbG9zZS5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci90ZXh0LWNlbnRlci5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci90ZXh0LWxlZnQuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvdGV4dC1yaWdodC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci90cmFzaC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL3N1Z2dlc3RlZC93cm9uZy5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2RyYXctYWR2YW5jZWQvc3JjL3J1bnRpbWUvd2lkZ2V0LmNzcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvZHJhdy1hZHZhbmNlZC9zcmMvY29uZmlnLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9kcmF3LWFkdmFuY2VkL3NyYy9ydW50aW1lL2Fzc2V0cy9ib2xkLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvZHJhdy1hZHZhbmNlZC9zcmMvcnVudGltZS9hc3NldHMvY2lyY2xlLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvZHJhdy1hZHZhbmNlZC9zcmMvcnVudGltZS9hc3NldHMvY3VydmUuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9kcmF3LWFkdmFuY2VkL3NyYy9ydW50aW1lL2Fzc2V0cy9pcnJlZ3VsYXIuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9kcmF3LWFkdmFuY2VkL3NyYy9ydW50aW1lL2Fzc2V0cy9pdGFsaWMuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9kcmF3LWFkdmFuY2VkL3NyYy9ydW50aW1lL2Fzc2V0cy9waW4uc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9kcmF3LWFkdmFuY2VkL3NyYy9ydW50aW1lL2Fzc2V0cy9wb2x5Z29uLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvZHJhdy1hZHZhbmNlZC9zcmMvcnVudGltZS9hc3NldHMvcG9seWdvbmFsLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvZHJhdy1hZHZhbmNlZC9zcmMvcnVudGltZS9hc3NldHMvcmVjdGFuZ2xlLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvZHJhdy1hZHZhbmNlZC9zcmMvcnVudGltZS9hc3NldHMvdGV4dC1hbGlnbi12LWIuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9kcmF3LWFkdmFuY2VkL3NyYy9ydW50aW1lL2Fzc2V0cy90ZXh0LWFsaWduLXYtYmFzZS5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2RyYXctYWR2YW5jZWQvc3JjL3J1bnRpbWUvYXNzZXRzL3RleHQtYWxpZ24tdi1tLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvZHJhdy1hZHZhbmNlZC9zcmMvcnVudGltZS9hc3NldHMvdGV4dC1hbGlnbi12LXQuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9kcmF3LWFkdmFuY2VkL3NyYy9ydW50aW1lL2Fzc2V0cy90ZXh0LnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvZHJhdy1hZHZhbmNlZC9zcmMvcnVudGltZS9hc3NldHMvdW5kZXJsaW5lLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvZHJhdy1hZHZhbmNlZC9zcmMvcnVudGltZS9jb21wb25lbnRzL0J1ZmZlckNvbnRyb2xzLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvZHJhdy1hZHZhbmNlZC9zcmMvcnVudGltZS9jb21wb25lbnRzL015RHJhd2luZ3NQYW5lbC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2RyYXctYWR2YW5jZWQvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9TbmFwcGluZ0NvbnRyb2xzLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvZHJhdy1hZHZhbmNlZC9zcmMvcnVudGltZS9jb21wb25lbnRzL1RleHRTdHlsZUVkaXRvci50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2RyYXctYWR2YW5jZWQvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9tZWFzdXJlLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvZHJhdy1hZHZhbmNlZC9zcmMvcnVudGltZS9saWIvc3R5bGUudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2RyYXctYWR2YW5jZWQvc3JjL3J1bnRpbWUvdHJhbnNsYXRpb25zL2RlZmF1bHQudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2RyYXctYWR2YW5jZWQvc3JjL3J1bnRpbWUvd2lkZ2V0LmNzcz9iNGY5Iiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiZXNyaS9Db2xvclwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS1jb3JlL2Vtb3Rpb25cIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImVzcmkvR3JhcGhpY1wiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiZXNyaS9jb3JlL0NvbGxlY3Rpb25cIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImVzcmkvZ2VvbWV0cnkvUG9pbnRcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImVzcmkvZ2VvbWV0cnkvUG9seWxpbmVcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImVzcmkvZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZVwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiZXNyaS9nZW9tZXRyeS9nZW9tZXRyeUVuZ2luZUFzeW5jXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJlc3JpL2dlb21ldHJ5L29wZXJhdG9ycy9hcmVhT3BlcmF0b3JcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImVzcmkvZ2VvbWV0cnkvb3BlcmF0b3JzL2dlb2RldGljQXJlYU9wZXJhdG9yXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJlc3JpL2dlb21ldHJ5L29wZXJhdG9ycy9nZW9kZXRpY0xlbmd0aE9wZXJhdG9yXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJlc3JpL2dlb21ldHJ5L29wZXJhdG9ycy9sZW5ndGhPcGVyYXRvclwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiZXNyaS9nZW9tZXRyeS9vcGVyYXRvcnMvcHJvamVjdE9wZXJhdG9yXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJlc3JpL2dlb21ldHJ5L3Byb2plY3Rpb25cIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImVzcmkvZ2VvbWV0cnkvc3VwcG9ydC93ZWJNZXJjYXRvclV0aWxzXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJlc3JpL2xheWVycy9GZWF0dXJlTGF5ZXJcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImVzcmkvbGF5ZXJzL0dyYXBoaWNzTGF5ZXJcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImVzcmkvc3ltYm9scy9Gb250XCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJlc3JpL3N5bWJvbHMvU2ltcGxlRmlsbFN5bWJvbFwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiZXNyaS9zeW1ib2xzL1NpbXBsZUxpbmVTeW1ib2xcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImVzcmkvc3ltYm9scy9TaW1wbGVNYXJrZXJTeW1ib2xcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImVzcmkvc3ltYm9scy9UZXh0U3ltYm9sXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJlc3JpL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL0ZlYXR1cmVTbmFwcGluZ0xheWVyU291cmNlXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJlc3JpL3dpZGdldHMvU2tldGNoL1NrZXRjaFZpZXdNb2RlbFwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS1hcmNnaXNcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtY29yZVwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS11aVwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS11aS9hZHZhbmNlZC9tYXBcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtdWkvYWR2YW5jZWQvc2V0dGluZy1jb21wb25lbnRzXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJqaW11LXVpL2FkdmFuY2VkL3N0eWxlLXNldHRpbmctY29tcG9uZW50c1wiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS11aS9iYXNpYy9jb2xvci1waWNrZXJcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtY29yZS9yZWFjdFwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvbm9uY2UiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtY29yZS9saWIvc2V0LXB1YmxpYy1wYXRoLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9kcmF3LWFkdmFuY2VkL3NyYy9ydW50aW1lL3dpZGdldC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB0eXBlIHsgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9hcnJvdy1yZWRvLnN2ZydcclxuXHJcbmV4cG9ydCBjb25zdCBBcnJvd1JlZG9PdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcclxuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXHJcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcclxuXHJcbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxyXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxyXG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB0eXBlIHsgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9hcnJvdy11bmRvLnN2ZydcclxuXHJcbmV4cG9ydCBjb25zdCBBcnJvd1VuZG9PdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcclxuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXHJcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcclxuXHJcbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxyXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxyXG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB0eXBlIHsgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9lZGl0b3IvY2xvc2Uuc3ZnJ1xyXG5cclxuZXhwb3J0IGNvbnN0IENsb3NlT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XHJcbiAgY29uc3QgU1ZHID0gd2luZG93LlNWR1xyXG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXHJcblxyXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcclxuICBpZiAoIVNWRykgcmV0dXJuIDxzdmcgY2xhc3NOYW1lPXtjbGFzc2VzfSB7Li4ub3RoZXJzIGFzIGFueX0gLz5cclxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgdHlwZSB7IFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvZWRpdG9yL3RyYXNoLnN2ZydcclxuXHJcbmV4cG9ydCBjb25zdCBUcmFzaE91dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xyXG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcclxuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xyXG5cclxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXHJcbiAgaWYgKCFTVkcpIHJldHVybiA8c3ZnIGNsYXNzTmFtZT17Y2xhc3Nlc30gey4uLm90aGVycyBhcyBhbnl9IC8+XHJcbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHR5cGUgeyBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL3N1Z2dlc3RlZC93cm9uZy5zdmcnXHJcblxyXG5leHBvcnQgY29uc3QgV3JvbmdPdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcclxuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXHJcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcclxuXHJcbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxyXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxyXG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XHJcbn1cclxuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTkuNDM4Ljk5NGMuMjEzIDAgLjM5Ny4xNDYuNDQuMzVxLjIyNyAxLjA4NC4zMTYgMS44NTIuNTYyLjI0MiAxLjA0OC41OTlsMS43MjgtLjY3NmEuNDU1LjQ1NSAwIDAgMSAuNTU2LjE4OGwxLjQyIDIuMzk0YS40My40MyAwIDAgMS0uMDkxLjU0NyAyMiAyMiAwIDAgMS0xLjQ5IDEuMTk0cS4wMy4yNy4wMy41NTIgMCAuMzItLjAzOC42M2wxLjQ2NSAxLjEyYS40My40MyAwIDAgMSAuMTExLjU2M2wtMS40MiAyLjM5NGEuNDU0LjQ1NCAwIDAgMS0uNTMuMTk3IDIzIDIzIDAgMCAxLTEuODA3LS42NnEtLjQ5LjM1LTEuMDU1LjU4NmwtLjI2MyAxLjc5NGEuNDQ2LjQ0NiAwIDAgMS0uNDQ1LjM3Nkg2LjU3NGEuNDQ2LjQ0NiAwIDAgMS0uNDQtLjM1IDIxIDIxIDAgMCAxLS4zMTctMS44NTMgNS4zIDUuMyAwIDAgMS0xLjA0Ny0uNTk4bC0xLjcyOC42NzVhLjQ1NS40NTUgMCAwIDEtLjU1Ni0uMTg3bC0xLjQyLTIuMzk1YS40My40MyAwIDAgMSAuMDkxLS41NDZxLjg1LS43MzUgMS40OS0xLjE5NGE1LjE2NyA1LjE2NyAwIDAgMSAuMDA4LTEuMTgzTDEuMTkgNi4yNDNhLjQzLjQzIDAgMCAxLS4xMTItLjU2MmwxLjQyLTIuMzk1YS40NTUuNDU1IDAgMCAxIC41MzEtLjE5NnExLjA3OC4zNSAxLjgwNy42NmMuMzI0LS4yMzMuNjc5LS40MyAxLjA1Ni0uNTg3bC4yNjItMS43OTRBLjQ0Ni40NDYgMCAwIDEgNi42Ljk5NHptLS4zNjUgMUg2Ljk4NWwtLjI4IDEuODY2LS40NjcuMTlxLS4zNTMuMTQ0LS42NzIuMzRsLS4yMDcuMTM2LS40Mi4yOTMtLjQ3Ni0uMTk3cS0uNDkyLS4yMDUtMS4xNjktLjQzM2wtLjIyMS0uMDc0LTEuMDQ1IDEuNzE5TDMuNTkgNi45OTlsLS4wNi40NzlhNCA0IDAgMCAwLS4wMjEuODE2bC4wMTQuMTQ0LjA1OC40OTItLjQxOS4yOTRxLS40MzMuMzA0LS45NzkuNzQ2bC0uMTc3LjE0NSAxLjA0MyAxLjcyIDEuODQ1LS43MDMuNDA2LjI5cS4zMDcuMjE5LjY0NS4zODRsLjIyOC4xMDMuNDc0LjE5OS4wNTkuNDlxLjA2LjUwNy4xOSAxLjE3N2wuMDQzLjIxOWgyLjA4OGwuMjgyLTEuODY3LjQ2Ni0uMTlxLjM1NC0uMTQ0LjY3Mi0uMzRsLjIwNy0uMTM2LjQxOS0uMjkzLjQ3Ni4xOThxLjQ5NS4yMDQgMS4xNy40MzNsLjIyLjA3MiAxLjA0NC0xLjcxOC0xLjU2LTEuMTY1LjA2LS40NzlhNCA0IDAgMCAwIC4wMi0uODE1bC0uMDEzLS4xNDQtLjA2LS40OTIuNDItLjI5NWExOCAxOCAwIDAgMCAuOTgtLjc0NmwuMTc2LS4xNDYtMS4wNDMtMS43Mi0xLjg0NC43MDUtLjQwNi0uMjlhNC41IDQuNSAwIDAgMC0uNjQ2LS4zODVsLS4yMjgtLjEwMy0uNDc0LS4xOTktLjA1OC0uNDlxLS4wNDktLjQwNS0uMTQtLjkxNnptLTEuMDY3IDNhMyAzIDAgMSAxIDAgNiAzIDMgMCAwIDEgMC02bTAgMWEyIDIgMCAxIDAgMCA0IDIgMiAwIDAgMCAwLTRcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTguNDU0IDEwLjI2OGEuODc1Ljg3NSAwIDAgMCAxLjM2NC43MjVsLjA4Ny0uMDY3IDQuNzk2LTQuMTk2YS44NzUuODc1IDAgMCAwIC4wNzgtMS4yNGwtLjA3OC0uMDc3LTQuNzk2LTQuMTk3YS44NzUuODc1IDAgMCAwLTEuNDQ1LjU1N2wtLjAwNi4xMDJ2MS43OHEtNy4zMTcuNjE2LTcuNDMyIDguMjc3TDEgMTIuMzc0di42NGwuMDA2LjM1cS4wMDYuMTg2LjAxNi4zOTZsLjAzNC41MDNjLjA4OS41MjUuNDMzLjc1Ny44Mi43MzYuMzA1LS4wMTguNTMyLS4zMDIuNjA3LS42bC4xMDMtLjM5OC4xMDktLjM4OHEuMTgzLS42My4zMjQtLjkwMWMxLjA5LTIuMTAzIDIuNzA2LTMuMjcyIDQuNDM1LTMuNjc2cS40OTYtLjExNSAxLS4xNDh6TTIgMTIuNTRhMyAzIDAgMCAxIC4xMzEtLjI5YzEuNDUyLTIuOCAzLjgtNC4xOTggNi4yNTctNC4zNmwxLjA2Ni0uMDcxdjIuMTcybDQuNDgxLTMuOTJMOS40NTQgMi4xNWwtLjAwMSAyLjQyMy0uOTE2LjA3OGMtMi4yNjguMTkxLTMuODM2LjkxNC00Ljg1NSAyLjA1LTEuMDI2IDEuMTQyLTEuNjI0IDIuODQzLTEuNjYgNS4yNDZ2LjAxN0wyIDEyLjM5OHptLS40ODcgMS42MTV2LS4wMDN6XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk03LjU0NyAzLjY1NHYtMS43OGwtLjAwNy0uMTAxYS44NzUuODc1IDAgMCAwLTEuNDQ1LS41NTdMMS4yOTkgNS40MTNsLS4wNzguMDc3YS44NzUuODc1IDAgMCAwIC4wNzggMS4yNGw0Ljc5NiA0LjE5Ni4wODcuMDY3YS44NzUuODc1IDAgMCAwIDEuMzY0LS43MjZWOC44ODlxLjUwNC4wMzMgMSAuMTQ4YzEuNzI5LjQwNCAzLjM0NSAxLjU3MyA0LjQzNSAzLjY3NnEuMTQuMjcyLjMyNS45bC4xMDguMzg5LjEwMy4zOTljLjA3NS4yOTcuMzAyLjU4MS42MDguNTk5LjM4Ni4wMjEuNzMtLjIxLjgyLS43MzZsLjAzMy0uNTAzcS4wMi0uNDIxLjAyMi0uNzQ1di0uNjQxbC0uMDIyLS40NDJxLS4xMTYtNy42Ni03LjQzMS04LjI3OE0xNCAxMi4zOThsLS4wMjEtLjQzNHYtLjAxN2MtLjAzNy0yLjQwMy0uNjM1LTQuMTA0LTEuNjYtNS4yNDYtMS4wMi0xLjEzNi0yLjU4OC0xLjg1OS00Ljg1Ni0yLjA1bC0uOTE2LS4wNzhWMi4xNUwyLjA2NCA2LjA3MWw0LjQ4MSAzLjkyVjcuODJsMS4wNjYuMDdjMi40NTcuMTYzIDQuODA1IDEuNTYxIDYuMjU3IDQuMzYycS4wNjcuMTMuMTMuMjg5em0uNDg3IDEuNzU4di0uMDAzelxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZD1cXFwibTguNzQ1IDggNi4xIDYuMWEuNTI3LjUyNyAwIDEgMS0uNzQ1Ljc0Nkw4IDguNzQ2bC02LjEgNi4xYS41MjcuNTI3IDAgMSAxLS43NDYtLjc0Nmw2LjEtNi4xLTYuMS02LjFhLjUyNy41MjcgMCAwIDEgLjc0Ni0uNzQ2bDYuMSA2LjEgNi4xLTYuMWEuNTI3LjUyNyAwIDAgMSAuNzQ2Ljc0NnpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk01LjUgM2EuNS41IDAgMCAwIDAgMWg1YS41LjUgMCAwIDAgMC0xem0wIDZhLjUuNSAwIDAgMCAwIDFoNWEuNS41IDAgMCAwIDAtMXpNMiA2LjVhLjUuNSAwIDAgMSAuNS0uNWgxMWEuNS41IDAgMCAxIDAgMWgtMTFhLjUuNSAwIDAgMS0uNS0uNW0uNSA1LjVhLjUuNSAwIDAgMCAwIDFoMTFhLjUuNSAwIDAgMCAwLTF6XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk05LjUgM2gtN2EuNS41IDAgMCAwIDAgMWg3YS41LjUgMCAwIDAgMC0xbS03IDNoOWEuNS41IDAgMCAxIDAgMWgtOWEuNS41IDAgMCAxIDAtMW02IDNoLTZhLjUuNSAwIDAgMCAwIDFoNmEuNS41IDAgMCAwIDAtMW01IDNoLTExYS41LjUgMCAwIDAgMCAxaDExYS41LjUgMCAwIDAgMC0xXFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk02LjUgM2EuNS41IDAgMCAwIDAgMWg3YS41LjUgMCAwIDAgMC0xem0xIDZhLjUuNSAwIDAgMCAwIDFoNmEuNS41IDAgMCAwIDAtMXpNNCA2LjVhLjUuNSAwIDAgMSAuNS0uNWg5YS41LjUgMCAwIDEgMCAxaC05YS41LjUgMCAwIDEtLjUtLjVNMi41IDEyYS41LjUgMCAwIDAgMCAxaDExYS41LjUgMCAwIDAgMC0xelxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZD1cXFwiTTYgNi41YS41LjUgMCAwIDEgMSAwdjZhLjUuNSAwIDAgMS0xIDB6TTkuNSA2YS41LjUgMCAwIDAtLjUuNXY2YS41LjUgMCAwIDAgMSAwdi02YS41LjUgMCAwIDAtLjUtLjVcXFwiPjwvcGF0aD48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk0xMSAwSDVhMSAxIDAgMCAwLTEgMXYySC41YS41LjUgMCAwIDAgMCAxaDEuNmwuODEgMTEuMWExIDEgMCAwIDAgLjk5NS45aDguMTlhMSAxIDAgMCAwIC45OTUtLjlMMTMuOSA0aDEuNmEuNS41IDAgMCAwIDAtMUgxMlYxYTEgMSAwIDAgMC0xLTFtMCAzVjFINXYyem0xLjg5NSAxaC05Ljc5bC44IDExaDguMTl6XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJNNCA0Ljc5NiA0Ljc5NiA0IDguMDIgNy4yMjRsMy4xODQtMy4xODQuNzk2Ljc5Nkw4LjgxNiA4LjAybDMuMTQ0IDMuMTQ0LS43OTYuNzk2TDguMDIgOC44MTYgNC44MzYgMTJsLS43OTYtLjc5Nkw3LjIyNCA4LjAyelxcXCI+PC9wYXRoPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwibTAgNCA0LTRoOGw0IDR2OGwtNCA0SDRsLTQtNHptMSAuNDE0TDQuNDE0IDFoNy4xNzJMMTUgNC40MTR2Ny4xNzJMMTEuNTg2IDE1SDQuNDE0TDEgMTEuNTg2elxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PC9zdmc+XCIiLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJAaW1wb3J0IHVybChodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUFsZWdyZXlhOml0YWwsd2dodEAwLDQwMC4uOTAwOzEsNDAwLi45MDAmZmFtaWx5PUpvc2VmaW4rU2xhYjppdGFsLHdnaHRAMCwxMDAuLjcwMDsxLDEwMC4uNzAwJmZhbWlseT1NZXJyaXdlYXRoZXI6aXRhbCxvcHN6LHdnaHRAMCwxOC4uMTQ0LDMwMC4uOTAwOzEsMTguLjE0NCwzMDAuLjkwMCZmYW1pbHk9TW9udHNlcnJhdDppdGFsLHdnaHRAMCwxMDAuLjkwMDsxLDEwMC4uOTAwJmZhbWlseT1Ob3RvK1NhbnM6aXRhbCx3Z2h0QDAsMTAwLi45MDA7MSwxMDAuLjkwMCZmYW1pbHk9Tm90bytTZXJpZjppdGFsLHdnaHRAMCwxMDAuLjkwMDsxLDEwMC4uOTAwJmZhbWlseT1QbGF5ZmFpcitEaXNwbGF5Oml0YWwsd2dodEAwLDQwMC4uOTAwOzEsNDAwLi45MDAmZmFtaWx5PVJvYm90bzppdGFsLHdnaHRAMCwxMDAuLjkwMDsxLDEwMC4uOTAwJmZhbWlseT1VYnVudHU6aXRhbCx3Z2h0QDAsMzAwOzAsNDAwOzAsNTAwOzAsNzAwOzEsMzAwOzEsNDAwOzEsNTAwOzEsNzAwJmRpc3BsYXk9c3dhcCk7XCJdKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgQGNoYXJzZXQgXCJVVEYtOFwiO1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbi8qIExFR0FDWSAvIEJBU0UgVVRJTElUSUVTICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuLmlubmVyLXBvcHBlciB7XG4gIHotaW5kZXg6IDIwMDIgIWltcG9ydGFudDtcbn1cblxuLmNvbG9yLXBpY2tlci1wb3BwZXIge1xuICB6LWluZGV4OiAyMDAyICFpbXBvcnRhbnQ7XG59XG5cbi5kcmF3VG9vbGJhckRpdiB7XG4gIHdpZHRoOiA5NSUgIWltcG9ydGFudDtcbiAgbWFyZ2luOiAwIGF1dG8gIWltcG9ydGFudDtcbn1cblxuLmJ1dHRvblJvdyB7XG4gIHdpZHRoOiBmaXQtY29udGVudDtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG5cbi5kZWNpbWFsSW5wdXQge1xuICB3aWR0aDogMTAwcHg7XG59XG5cbi50ZXh0LXN0eWxlLWVkaXRvciB7XG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbn1cblxuLnBjLWJ0biB7XG4gIG1pbi1oZWlnaHQ6IDM0cHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZmxleDogMSAxIDAgIWltcG9ydGFudDtcbiAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXAgIWltcG9ydGFudDtcbiAgb3ZlcmZsb3c6IGhpZGRlbiAhaW1wb3J0YW50O1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcyAhaW1wb3J0YW50O1xufVxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuLyogU0NST0xMQUJMRSBXSURHRVQgU1RSVUNUVVJFICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4ud2lkZ2V0LWRyYXcge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBoZWlnaHQ6IDEwMCU7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi8qIFRhYiBoZWFkZXIgKi9cbi50YWItaGVhZGVyIHtcbiAgZmxleC1zaHJpbms6IDA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjY2NjO1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xuICB6LWluZGV4OiAxMDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBtYXJnaW46IDA7IC8qIG5vIGV4dHJhIHNwYWNpbmcgKi9cbn1cblxuLnRhYi1idXR0b24ge1xuICBmbGV4OiAxO1xuICBwYWRkaW5nOiAwLjVyZW0gMXJlbTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGNvbG9yOiAjMDAzYTU1O1xuICBib3JkZXItYm90dG9tOiAycHggc29saWQgdHJhbnNwYXJlbnQ7XG4gIGJhY2tncm91bmQ6ICNmOGY5ZmE7XG4gIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG59XG5cbi50YWItYnV0dG9uOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U5ZWNlZjtcbn1cblxuLnRhYi1idXR0b24uYWN0aXZlIHtcbiAgYmFja2dyb3VuZDogI2ZmZjtcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICMwMDNhNTU7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGNvbG9yOiAjMDAzYTU1O1xufVxuXG4vKiBTY3JvbGxhYmxlIGNvbnRlbnQgKi9cbi50YWItY29udGVudCB7XG4gIGZsZXg6IDE7XG4gIG92ZXJmbG93LXk6IGF1dG87XG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgbWluLWhlaWdodDogMDtcbiAgc2Nyb2xsYmFyLXdpZHRoOiB0aGluO1xuICBzY3JvbGxiYXItY29sb3I6ICNjMWMxYzEgI2YxZjFmMTtcbn1cblxuLnRhYi1jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhciB7XG4gIHdpZHRoOiA2cHg7XG59XG5cbi50YWItY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xuICBiYWNrZ3JvdW5kOiAjZjFmMWYxO1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG59XG5cbi50YWItY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICBiYWNrZ3JvdW5kOiAjYzFjMWMxO1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG59XG5cbi50YWItY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIge1xuICBiYWNrZ3JvdW5kOiAjYThhOGE4O1xufVxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuLyogQ09OVEVOVCBDT05UQUlORVJTICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4uZHJhdy1wYW5lbC1jb250ZW50LFxuLm15LWRyYXdpbmdzLXRhYi1jb250YWluZXIge1xuICBwYWRkaW5nOiAxNnB4O1xuICBtaW4taGVpZ2h0OiBtaW4tY29udGVudDtcbn1cblxuLm1vZGUtbWVzc2FnZSB7XG4gIG1hcmdpbjogMDtcbn1cblxuLm1vZGUtbWVzc2FnZSBoNSB7XG4gIG1hcmdpbjogMC41cmVtIDAgMC4yNXJlbSAwO1xuICBjb2xvcjogIzAwM2E1NTtcbn1cblxuLm1vZGUtbWVzc2FnZSBoNiB7XG4gIG1hcmdpbjogMDtcbiAgY29sb3I6ICM2NjY7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG59XG5cbi5kcmF3aW5nLXRvb2xzLXNlY3Rpb24ge1xuICBtYXJnaW46IDA7XG59XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4vKiBNQUlOIENIRUNLQk9YIFNUQUNLUyDvv70gTk8gVkVSVElDQUwgU1BBQ0lORyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuLyogUGFyZW50IHN0YWNrIHRoYXQgaG9sZHM6IE1lYXN1cmUsIFNuYXBwaW5nLCBCdWZmZXIgKi9cbi5tYWluLWNoZWNrYm94LXN0YWNrIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiAwOyAvKiBhYnNvbHV0ZWx5IG5vIHNwYWNlIGJldHdlZW4gc2VjdGlvbnMgKi9cbn1cblxuLyogSW5uZXIgc3RhY2sgdGhhdCBob2xkczogRW5hYmxlIE1lYXN1cmVtZW50cyArIEVuYWJsZSBUb29sdGlwcyAoaW5zaWRlIE1lYXN1cmUpICovXG4ubWVhc3VyZS10b2dnbGUtc3RhY2sge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IDA7IC8qIGFic29sdXRlbHkgbm8gc3BhY2UgYmV0d2VlbiB0aGVzZSB0d28gYXMgd2VsbCAqL1xufVxuXG4vKiBNYWtlIHN1cmUgcGFuZWxzIHRoZW1zZWx2ZXMgZG9u77+9dCBjcmVhdGUgbWFyZ2lucyAqL1xuLm1haW4tY2hlY2tib3gtc3RhY2sgLmppbXUtY29sbGFwc2FibGUtcGFuZWwsXG4ubWVhc3VyZS10b2dnbGUtc3RhY2sgLmppbXUtY29sbGFwc2FibGUtcGFuZWwge1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbn1cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbi8qIENPTExBUFNJQkxFIFNFQ1RJT05TIO+/vSBSRVNFVCBBTEwgRVhUUkEgU1BBQ0lORyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4vKiBFYWNoIHdyYXBwZXIgYXJvdW5kIGEgY29sbGFwc2libGUgcGFuZWwgKi9cbi5jb2xsYXBzaWJsZS1zZWN0aW9uIHtcbiAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbn1cblxuLyogTmV2ZXIgYWRkIHNwYWNpbmcgYmV0d2VlbiBjb25zZWN1dGl2ZSBzZWN0aW9ucyAqL1xuLmNvbGxhcHNpYmxlLXNlY3Rpb24gKyAuY29sbGFwc2libGUtc2VjdGlvbiB7XG4gIG1hcmdpbi10b3A6IDAgIWltcG9ydGFudDtcbn1cblxuLyogUGFuZWwgc3R5bGluZyAoa2VwdCBtaW5pbWFsKTsgbm8gZXh0ZXJuYWwgbWFyZ2lucyAqL1xuLmNvbGxhcHNpYmxlLXNlY3Rpb24gLmppbXUtY29sbGFwc2FibGUtcGFuZWwge1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xufVxuXG4vKiBQYW5lbCBoZWFkZXIvYm9keSBpbnRlcm5hbCBwYWRkaW5nICh2aXN1YWwgY29tZm9ydCB3aXRob3V0IGV4dGVybmFsIGdhcHMpICovXG4uY29sbGFwc2libGUtc2VjdGlvbiAuamltdS1jb2xsYXBzYWJsZS1wYW5lbCA+IC5oZWFkZXIge1xuICBiYWNrZ3JvdW5kOiAjZjhmOWZhO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RlZTJlNjtcbiAgcGFkZGluZzogMTJweCAxNnB4O1xuICBmb250LXdlaWdodDogNTAwO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIG1pbi1oZWlnaHQ6IDQ0cHg7XG59XG5cbi5jb2xsYXBzaWJsZS1zZWN0aW9uIC5qaW11LWNvbGxhcHNhYmxlLXBhbmVsID4gLmJvZHkge1xuICBwYWRkaW5nOiAxNnB4O1xufVxuXG4vKiBOdWtlIGFueSBtYXJnaW5zIHRoYXQgbWlnaHQgYmUgaW50cm9kdWNlZCBieSBuZXN0ZWQgdXRpbGl0aWVzL2NvbXBvbmVudHMgKi9cbi5jb2xsYXBzaWJsZS1zZWN0aW9uID4gKiB7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xufVxuXG4uY29sbGFwc2libGUtc2VjdGlvbiA+IGRpdiB7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xufVxuXG4uY29sbGFwc2libGUtc2VjdGlvbiAubWItMSxcbi5jb2xsYXBzaWJsZS1zZWN0aW9uIC5tYi0yLFxuLmNvbGxhcHNpYmxlLXNlY3Rpb24gLm1iLTMsXG4uY29sbGFwc2libGUtc2VjdGlvbiAubXQtMSxcbi5jb2xsYXBzaWJsZS1zZWN0aW9uIC5tdC0yLFxuLmNvbGxhcHNpYmxlLXNlY3Rpb24gLm10LTMsXG4uY29sbGFwc2libGUtc2VjdGlvbiBbY2xhc3MqPW1hcmdpbl0sXG4uY29sbGFwc2libGUtc2VjdGlvbiBbY2xhc3MqPW1iLV0sXG4uY29sbGFwc2libGUtc2VjdGlvbiBbY2xhc3MqPW10LV0sXG4uY29sbGFwc2libGUtc2VjdGlvbiBbY2xhc3MqPW15LV0ge1xuICBtYXJnaW4tdG9wOiAwICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1ib3R0b206IDAgIWltcG9ydGFudDtcbn1cblxuLyogS25vd24gY29tcG9uZW50cyB0aGF0IHByZXZpb3VzbHkgYWRkZWQgc3BhY2luZyAqL1xuLm1lYXN1cmVtZW50LXNlY3Rpb24sXG4udG9vbHRpcC1jb250cm9scyxcbi5zbmFwcGluZy1jb250cm9scyxcbi5idWZmZXItY29udHJvbHMge1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xufVxuXG4ubWVhc3VyZW1lbnQtc2VjdGlvbiAuYm9keSxcbi5zbmFwcGluZy1jb250cm9scyAuYm9keSxcbi5idWZmZXItY29udHJvbHMgLmJvZHkge1xuICBwYWRkaW5nLWJvdHRvbTogMCAhaW1wb3J0YW50OyAvKiBlbnN1cmUgYm9kaWVzIGRvbid0IGV4dGVuZCBzcGFjaW5nICovXG59XG5cbi8qIEFycm93IGNvbnRyb2xzIO+/vSBrZWVwIHRpZ2h0ICovXG4uYXJyb3ctY29udHJvbHMge1xuICBwYWRkaW5nOiAwO1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItcmFkaXVzOiAwO1xufVxuXG4uYXJyb3ctY29udHJvbHMgLmRyYXdUb29sYmFyRGl2IHtcbiAgbWFyZ2luLWJvdHRvbTogMDtcbn1cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbi8qIFNZTUJPTCBTRUxFQ1RPUiAmIE1JU0MgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuLm15c3Mge1xuICBtYXJnaW46IDA7XG59XG5cbi5teXNzIC5ib3JkZXIge1xuICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2ICFpbXBvcnRhbnQ7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbn1cblxuLyogQm90dG9tIHRvb2xiYXIgKGxlYXZlIGRlZmF1bHQgc3BhY2luZyBpbnNpZGUgaWYgZGVzaXJlZCkgKi9cbi5kcmF3VG9vbGJhckJvdHRvbURpdiB7XG4gIG1hcmdpbjogMDtcbiAgZmxleC13cmFwOiB3cmFwO1xuICBwYWRkaW5nLXRvcDogOHB4OyAvKiBtaW5pbWFsIHNlcGFyYXRpb24gZnJvbSBjb250ZW50IGFib3ZlLCBpbnRlcm5hbCBvbmx5ICovXG59XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4vKiBSRVNQT05TSVZFIFRXRUFLUyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbkBtZWRpYSAobWF4LWhlaWdodDogNDAwcHgpIHtcbiAgLmRyYXctcGFuZWwtY29udGVudCxcbiAgLm15LWRyYXdpbmdzLXRhYi1jb250YWluZXIge1xuICAgIHBhZGRpbmc6IDhweDtcbiAgfVxuICAuY29sbGFwc2libGUtc2VjdGlvbiAuamltdS1jb2xsYXBzYWJsZS1wYW5lbCA+IC5oZWFkZXIge1xuICAgIHBhZGRpbmc6IDEwcHggMTJweDtcbiAgICBtaW4taGVpZ2h0OiA0MHB4O1xuICB9XG4gIC5jb2xsYXBzaWJsZS1zZWN0aW9uIC5qaW11LWNvbGxhcHNhYmxlLXBhbmVsID4gLmJvZHkge1xuICAgIHBhZGRpbmc6IDEycHg7XG4gIH1cbiAgLnRhYi1idXR0b24ge1xuICAgIHBhZGRpbmc6IDZweCAxMnB4O1xuICAgIGZvbnQtc2l6ZTogMC45cmVtO1xuICB9XG4gIC5tb2RlLW1lc3NhZ2UgaDUge1xuICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgfVxuICAubW9kZS1tZXNzYWdlIGg2IHtcbiAgICBmb250LXNpemU6IDAuODc1cmVtO1xuICB9XG4gIC5kcmF3VG9vbGJhckJvdHRvbURpdiB7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmctdG9wOiA4cHg7XG4gIH1cbn1cbkBtZWRpYSAobWF4LWhlaWdodDogMzAwcHgpIHtcbiAgLmRyYXctcGFuZWwtY29udGVudCxcbiAgLm15LWRyYXdpbmdzLXRhYi1jb250YWluZXIge1xuICAgIHBhZGRpbmc6IDZweDtcbiAgfVxuICAudGFiLWJ1dHRvbiB7XG4gICAgcGFkZGluZzogNHB4IDhweDtcbiAgICBmb250LXNpemU6IDAuOHJlbTtcbiAgfVxuICAuYnV0dG9uUm93IHtcbiAgICBtYXJnaW4tYm90dG9tOiAwO1xuICB9XG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9kcmF3LWFkdmFuY2VkL3NyYy9ydW50aW1lL3dpZGdldC5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUEsZ0JBQWdCO0FBRWhCLCtFQUFBO0FBQ0EsK0VBQUE7QUFDQSwrRUFBQTtBQUVBO0VBQ0ksd0JBQUE7QUFBSjs7QUFHQTtFQUNJLHdCQUFBO0FBQUo7O0FBR0E7RUFDSSxxQkFBQTtFQUNBLHlCQUFBO0FBQUo7O0FBR0E7RUFDSSxrQkFBQTtFQUNBLGNBQUE7QUFBSjs7QUFHQTtFQUNJLFlBQUE7QUFBSjs7QUFHQTtFQUNJLHFCQUFBO0FBQUo7O0FBR0E7RUFDSSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtFQUNBLDhCQUFBO0VBQ0EsMkJBQUE7RUFDQSxrQ0FB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QUE7SUFDQSxpQkFBQTtFQVROO0VBWUU7SUFDSSxlQUFBO0VBVk47RUFhRTtJQUNJLG1CQUFBO0VBWE47RUFjRTtJQUNJLFNBQUE7SUFDQSxnQkFBQTtFQVpOO0FBQ0Y7QUFlQTtFQUNJOztJQUVJLFlBQUE7RUFiTjtFQWdCRTtJQUNJLGdCQUFBO0lBQ0EsaUJBQUE7RUFkTjtFQWlCRTtJQUNJLGdCQUFBO0VBZk47QUFDRlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1BbGVncmV5YTppdGFsLHdnaHRAMCw0MDAuLjkwMDsxLDQwMC4uOTAwJmZhbWlseT1Kb3NlZmluK1NsYWI6aXRhbCx3Z2h0QDAsMTAwLi43MDA7MSwxMDAuLjcwMCZmYW1pbHk9TWVycml3ZWF0aGVyOml0YWwsb3Bzeix3Z2h0QDAsMTguLjE0NCwzMDAuLjkwMDsxLDE4Li4xNDQsMzAwLi45MDAmZmFtaWx5PU1vbnRzZXJyYXQ6aXRhbCx3Z2h0QDAsMTAwLi45MDA7MSwxMDAuLjkwMCZmYW1pbHk9Tm90bytTYW5zOml0YWwsd2dodEAwLDEwMC4uOTAwOzEsMTAwLi45MDAmZmFtaWx5PU5vdG8rU2VyaWY6aXRhbCx3Z2h0QDAsMTAwLi45MDA7MSwxMDAuLjkwMCZmYW1pbHk9UGxheWZhaXIrRGlzcGxheTppdGFsLHdnaHRAMCw0MDAuLjkwMDsxLDQwMC4uOTAwJmZhbWlseT1Sb2JvdG86aXRhbCx3Z2h0QDAsMTAwLi45MDA7MSwxMDAuLjkwMCZmYW1pbHk9VWJ1bnR1Oml0YWwsd2dodEAwLDMwMDswLDQwMDswLDUwMDswLDcwMDsxLDMwMDsxLDQwMDsxLDUwMDsxLDcwMCZkaXNwbGF5PXN3YXAnKTtcXHJcXG5cXHJcXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcclxcbi8qIExFR0FDWSAvIEJBU0UgVVRJTElUSUVTICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXFxyXFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXHJcXG5cXHJcXG4uaW5uZXItcG9wcGVyIHtcXHJcXG4gICAgei1pbmRleDogMjAwMiAhaW1wb3J0YW50O1xcclxcbn1cXHJcXG5cXHJcXG4uY29sb3ItcGlja2VyLXBvcHBlciB7XFxyXFxuICAgIHotaW5kZXg6IDIwMDIgIWltcG9ydGFudDtcXHJcXG59XFxyXFxuXFxyXFxuLmRyYXdUb29sYmFyRGl2IHtcXHJcXG4gICAgd2lkdGg6IDk1JSAhaW1wb3J0YW50O1xcclxcbiAgICBtYXJnaW46IDAgYXV0byAhaW1wb3J0YW50O1xcclxcbn1cXHJcXG5cXHJcXG4uYnV0dG9uUm93IHtcXHJcXG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xcclxcbiAgICBtYXJnaW46IDAgYXV0bztcXHJcXG59XFxyXFxuXFxyXFxuLmRlY2ltYWxJbnB1dCB7XFxyXFxuICAgIHdpZHRoOiAxMDBweDtcXHJcXG59XFxyXFxuXFxyXFxuLnRleHQtc3R5bGUtZWRpdG9yIHtcXHJcXG4gICAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xcclxcbn1cXHJcXG5cXHJcXG4ucGMtYnRuIHtcXHJcXG4gICAgbWluLWhlaWdodDogMzRweDtcXHJcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbiAgICBmbGV4OiAxIDEgMCAhaW1wb3J0YW50O1xcclxcbiAgICBtaW4td2lkdGg6IDAgIWltcG9ydGFudDtcXHJcXG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcCAhaW1wb3J0YW50O1xcclxcbiAgICBvdmVyZmxvdzogaGlkZGVuICFpbXBvcnRhbnQ7XFxyXFxuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzICFpbXBvcnRhbnQ7XFxyXFxufVxcclxcblxcclxcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxyXFxuLyogU0NST0xMQUJMRSBXSURHRVQgU1RSVUNUVVJFICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cXHJcXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcclxcblxcclxcbi53aWRnZXQtZHJhdyB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxuICAgIGhlaWdodDogMTAwJTtcXHJcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXHJcXG59XFxyXFxuXFxyXFxuLyogVGFiIGhlYWRlciAqL1xcclxcbi50YWItaGVhZGVyIHtcXHJcXG4gICAgZmxleC1zaHJpbms6IDA7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjY2NjO1xcclxcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xcclxcbiAgICB6LWluZGV4OiAxMDtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgICBtYXJnaW46IDA7IC8qIG5vIGV4dHJhIHNwYWNpbmcgKi9cXHJcXG59XFxyXFxuXFxyXFxuLnRhYi1idXR0b24ge1xcclxcbiAgICBmbGV4OiAxO1xcclxcbiAgICBwYWRkaW5nOiAwLjVyZW0gMXJlbTtcXHJcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XFxyXFxuICAgIGNvbG9yOiAjMDAzYTU1O1xcclxcbiAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgdHJhbnNwYXJlbnQ7XFxyXFxuICAgIGJhY2tncm91bmQ6ICNmOGY5ZmE7XFxyXFxuICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XFxyXFxufVxcclxcblxcclxcbiAgICAudGFiLWJ1dHRvbjpob3ZlciB7XFxyXFxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTllY2VmO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC50YWItYnV0dG9uLmFjdGl2ZSB7XFxyXFxuICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xcclxcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICMwMDNhNTU7XFxyXFxuICAgICAgICBmb250LXdlaWdodDogNjAwO1xcclxcbiAgICAgICAgY29sb3I6ICMwMDNhNTU7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4vKiBTY3JvbGxhYmxlIGNvbnRlbnQgKi9cXHJcXG4udGFiLWNvbnRlbnQge1xcclxcbiAgICBmbGV4OiAxO1xcclxcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xcclxcbiAgICBvdmVyZmxvdy14OiBoaWRkZW47XFxyXFxuICAgIG1pbi1oZWlnaHQ6IDA7XFxyXFxuICAgIHNjcm9sbGJhci13aWR0aDogdGhpbjtcXHJcXG4gICAgc2Nyb2xsYmFyLWNvbG9yOiAjYzFjMWMxICNmMWYxZjE7XFxyXFxufVxcclxcblxcclxcbiAgICAudGFiLWNvbnRlbnQ6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcXHJcXG4gICAgICAgIHdpZHRoOiA2cHg7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgLnRhYi1jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhci10cmFjayB7XFxyXFxuICAgICAgICBiYWNrZ3JvdW5kOiAjZjFmMWYxO1xcclxcbiAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC50YWItY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xcclxcbiAgICAgICAgYmFja2dyb3VuZDogI2MxYzFjMTtcXHJcXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAgICAgLnRhYi1jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlciB7XFxyXFxuICAgICAgICAgICAgYmFja2dyb3VuZDogI2E4YThhODtcXHJcXG4gICAgICAgIH1cXHJcXG5cXHJcXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcclxcbi8qIENPTlRFTlQgQ09OVEFJTkVSUyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXFxyXFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cXHJcXG5cXHJcXG4uZHJhdy1wYW5lbC1jb250ZW50LFxcclxcbi5teS1kcmF3aW5ncy10YWItY29udGFpbmVyIHtcXHJcXG4gICAgcGFkZGluZzogMTZweDtcXHJcXG4gICAgbWluLWhlaWdodDogbWluLWNvbnRlbnQ7XFxyXFxufVxcclxcblxcclxcbi5tb2RlLW1lc3NhZ2Uge1xcclxcbiAgICBtYXJnaW46IDA7XFxyXFxufVxcclxcblxcclxcbiAgICAubW9kZS1tZXNzYWdlIGg1IHtcXHJcXG4gICAgICAgIG1hcmdpbjogMC41cmVtIDAgMC4yNXJlbSAwO1xcclxcbiAgICAgICAgY29sb3I6ICMwMDNhNTU7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgLm1vZGUtbWVzc2FnZSBoNiB7XFxyXFxuICAgICAgICBtYXJnaW46IDA7XFxyXFxuICAgICAgICBjb2xvcjogIzY2NjtcXHJcXG4gICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4uZHJhd2luZy10b29scy1zZWN0aW9uIHtcXHJcXG4gICAgbWFyZ2luOiAwO1xcclxcbn1cXHJcXG5cXHJcXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcclxcbi8qIE1BSU4gQ0hFQ0tCT1ggU1RBQ0tTIO+/vSBOTyBWRVJUSUNBTCBTUEFDSU5HICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cXHJcXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcclxcblxcclxcbi8qIFBhcmVudCBzdGFjayB0aGF0IGhvbGRzOiBNZWFzdXJlLCBTbmFwcGluZywgQnVmZmVyICovXFxyXFxuLm1haW4tY2hlY2tib3gtc3RhY2sge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbiAgICBnYXA6IDA7IC8qIGFic29sdXRlbHkgbm8gc3BhY2UgYmV0d2VlbiBzZWN0aW9ucyAqL1xcclxcbn1cXHJcXG5cXHJcXG4vKiBJbm5lciBzdGFjayB0aGF0IGhvbGRzOiBFbmFibGUgTWVhc3VyZW1lbnRzICsgRW5hYmxlIFRvb2x0aXBzIChpbnNpZGUgTWVhc3VyZSkgKi9cXHJcXG4ubWVhc3VyZS10b2dnbGUtc3RhY2sge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbiAgICBnYXA6IDA7IC8qIGFic29sdXRlbHkgbm8gc3BhY2UgYmV0d2VlbiB0aGVzZSB0d28gYXMgd2VsbCAqL1xcclxcbn1cXHJcXG5cXHJcXG4gICAgLyogTWFrZSBzdXJlIHBhbmVscyB0aGVtc2VsdmVzIGRvbu+/vXQgY3JlYXRlIG1hcmdpbnMgKi9cXHJcXG4gICAgLm1haW4tY2hlY2tib3gtc3RhY2sgLmppbXUtY29sbGFwc2FibGUtcGFuZWwsXFxyXFxuICAgIC5tZWFzdXJlLXRvZ2dsZS1zdGFjayAuamltdS1jb2xsYXBzYWJsZS1wYW5lbCB7XFxyXFxuICAgICAgICBtYXJnaW46IDAgIWltcG9ydGFudDtcXHJcXG4gICAgfVxcclxcblxcclxcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxyXFxuLyogQ09MTEFQU0lCTEUgU0VDVElPTlMg77+9IFJFU0VUIEFMTCBFWFRSQSBTUEFDSU5HICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xcclxcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxyXFxuXFxyXFxuLyogRWFjaCB3cmFwcGVyIGFyb3VuZCBhIGNvbGxhcHNpYmxlIHBhbmVsICovXFxyXFxuLmNvbGxhcHNpYmxlLXNlY3Rpb24ge1xcclxcbiAgICBtYXJnaW46IDAgIWltcG9ydGFudDtcXHJcXG4gICAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xcclxcbn1cXHJcXG5cXHJcXG4gICAgLyogTmV2ZXIgYWRkIHNwYWNpbmcgYmV0d2VlbiBjb25zZWN1dGl2ZSBzZWN0aW9ucyAqL1xcclxcbiAgICAuY29sbGFwc2libGUtc2VjdGlvbiArIC5jb2xsYXBzaWJsZS1zZWN0aW9uIHtcXHJcXG4gICAgICAgIG1hcmdpbi10b3A6IDAgIWltcG9ydGFudDtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAvKiBQYW5lbCBzdHlsaW5nIChrZXB0IG1pbmltYWwpOyBubyBleHRlcm5hbCBtYXJnaW5zICovXFxyXFxuICAgIC5jb2xsYXBzaWJsZS1zZWN0aW9uIC5qaW11LWNvbGxhcHNhYmxlLXBhbmVsIHtcXHJcXG4gICAgICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1xcclxcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xcclxcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcXHJcXG4gICAgICAgIGJhY2tncm91bmQ6ICNmZmY7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgICAgIC8qIFBhbmVsIGhlYWRlci9ib2R5IGludGVybmFsIHBhZGRpbmcgKHZpc3VhbCBjb21mb3J0IHdpdGhvdXQgZXh0ZXJuYWwgZ2FwcykgKi9cXHJcXG4gICAgICAgIC5jb2xsYXBzaWJsZS1zZWN0aW9uIC5qaW11LWNvbGxhcHNhYmxlLXBhbmVsID4gLmhlYWRlciB7XFxyXFxuICAgICAgICAgICAgYmFja2dyb3VuZDogI2Y4ZjlmYTtcXHJcXG4gICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RlZTJlNjtcXHJcXG4gICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDE2cHg7XFxyXFxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcXHJcXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcclxcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDQ0cHg7XFxyXFxuICAgICAgICB9XFxyXFxuXFxyXFxuICAgICAgICAuY29sbGFwc2libGUtc2VjdGlvbiAuamltdS1jb2xsYXBzYWJsZS1wYW5lbCA+IC5ib2R5IHtcXHJcXG4gICAgICAgICAgICBwYWRkaW5nOiAxNnB4O1xcclxcbiAgICAgICAgfVxcclxcblxcclxcbiAgICAvKiBOdWtlIGFueSBtYXJnaW5zIHRoYXQgbWlnaHQgYmUgaW50cm9kdWNlZCBieSBuZXN0ZWQgdXRpbGl0aWVzL2NvbXBvbmVudHMgKi9cXHJcXG4gICAgLmNvbGxhcHNpYmxlLXNlY3Rpb24gPiAqIHtcXHJcXG4gICAgICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5jb2xsYXBzaWJsZS1zZWN0aW9uID4gZGl2IHtcXHJcXG4gICAgICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5jb2xsYXBzaWJsZS1zZWN0aW9uIC5tYi0xLFxcclxcbiAgICAuY29sbGFwc2libGUtc2VjdGlvbiAubWItMixcXHJcXG4gICAgLmNvbGxhcHNpYmxlLXNlY3Rpb24gLm1iLTMsXFxyXFxuICAgIC5jb2xsYXBzaWJsZS1zZWN0aW9uIC5tdC0xLFxcclxcbiAgICAuY29sbGFwc2libGUtc2VjdGlvbiAubXQtMixcXHJcXG4gICAgLmNvbGxhcHNpYmxlLXNlY3Rpb24gLm10LTMsXFxyXFxuICAgIC5jb2xsYXBzaWJsZS1zZWN0aW9uIFtjbGFzcyo9XFxcIm1hcmdpblxcXCJdLFxcclxcbiAgICAuY29sbGFwc2libGUtc2VjdGlvbiBbY2xhc3MqPVxcXCJtYi1cXFwiXSxcXHJcXG4gICAgLmNvbGxhcHNpYmxlLXNlY3Rpb24gW2NsYXNzKj1cXFwibXQtXFxcIl0sXFxyXFxuICAgIC5jb2xsYXBzaWJsZS1zZWN0aW9uIFtjbGFzcyo9XFxcIm15LVxcXCJdIHtcXHJcXG4gICAgICAgIG1hcmdpbi10b3A6IDAgIWltcG9ydGFudDtcXHJcXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDAgIWltcG9ydGFudDtcXHJcXG4gICAgfVxcclxcblxcclxcbi8qIEtub3duIGNvbXBvbmVudHMgdGhhdCBwcmV2aW91c2x5IGFkZGVkIHNwYWNpbmcgKi9cXHJcXG4ubWVhc3VyZW1lbnQtc2VjdGlvbixcXHJcXG4udG9vbHRpcC1jb250cm9scyxcXHJcXG4uc25hcHBpbmctY29udHJvbHMsXFxyXFxuLmJ1ZmZlci1jb250cm9scyB7XFxyXFxuICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1xcclxcbiAgICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XFxyXFxufVxcclxcblxcclxcbiAgICAubWVhc3VyZW1lbnQtc2VjdGlvbiAuYm9keSxcXHJcXG4gICAgLnNuYXBwaW5nLWNvbnRyb2xzIC5ib2R5LFxcclxcbiAgICAuYnVmZmVyLWNvbnRyb2xzIC5ib2R5IHtcXHJcXG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAwICFpbXBvcnRhbnQ7IC8qIGVuc3VyZSBib2RpZXMgZG9uJ3QgZXh0ZW5kIHNwYWNpbmcgKi9cXHJcXG4gICAgfVxcclxcblxcclxcbi8qIEFycm93IGNvbnRyb2xzIO+/vSBrZWVwIHRpZ2h0ICovXFxyXFxuLmFycm93LWNvbnRyb2xzIHtcXHJcXG4gICAgcGFkZGluZzogMDtcXHJcXG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XFxyXFxuICAgIGJvcmRlcjogbm9uZTtcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogMDtcXHJcXG59XFxyXFxuXFxyXFxuICAgIC5hcnJvdy1jb250cm9scyAuZHJhd1Rvb2xiYXJEaXYge1xcclxcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcXHJcXG4gICAgfVxcclxcblxcclxcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxyXFxuLyogU1lNQk9MIFNFTEVDVE9SICYgTUlTQyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cXHJcXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcclxcblxcclxcbi5teXNzIHtcXHJcXG4gICAgbWFyZ2luOiAwO1xcclxcbn1cXHJcXG5cXHJcXG4gICAgLm15c3MgLmJvcmRlciB7XFxyXFxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2ICFpbXBvcnRhbnQ7XFxyXFxuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4vKiBCb3R0b20gdG9vbGJhciAobGVhdmUgZGVmYXVsdCBzcGFjaW5nIGluc2lkZSBpZiBkZXNpcmVkKSAqL1xcclxcbi5kcmF3VG9vbGJhckJvdHRvbURpdiB7XFxyXFxuICAgIG1hcmdpbjogMDtcXHJcXG4gICAgZmxleC13cmFwOiB3cmFwO1xcclxcbiAgICBwYWRkaW5nLXRvcDogOHB4OyAvKiBtaW5pbWFsIHNlcGFyYXRpb24gZnJvbSBjb250ZW50IGFib3ZlLCBpbnRlcm5hbCBvbmx5ICovXFxyXFxufVxcclxcblxcclxcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXFxyXFxuLyogUkVTUE9OU0lWRSBUV0VBS1MgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cXHJcXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xcclxcblxcclxcbkBtZWRpYSAobWF4LWhlaWdodDogNDAwcHgpIHtcXHJcXG4gICAgLmRyYXctcGFuZWwtY29udGVudCxcXHJcXG4gICAgLm15LWRyYXdpbmdzLXRhYi1jb250YWluZXIge1xcclxcbiAgICAgICAgcGFkZGluZzogOHB4O1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5jb2xsYXBzaWJsZS1zZWN0aW9uIC5qaW11LWNvbGxhcHNhYmxlLXBhbmVsID4gLmhlYWRlciB7XFxyXFxuICAgICAgICBwYWRkaW5nOiAxMHB4IDEycHg7XFxyXFxuICAgICAgICBtaW4taGVpZ2h0OiA0MHB4O1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5jb2xsYXBzaWJsZS1zZWN0aW9uIC5qaW11LWNvbGxhcHNhYmxlLXBhbmVsID4gLmJvZHkge1xcclxcbiAgICAgICAgcGFkZGluZzogMTJweDtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAudGFiLWJ1dHRvbiB7XFxyXFxuICAgICAgICBwYWRkaW5nOiA2cHggMTJweDtcXHJcXG4gICAgICAgIGZvbnQtc2l6ZTogMC45cmVtO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5tb2RlLW1lc3NhZ2UgaDUge1xcclxcbiAgICAgICAgZm9udC1zaXplOiAxcmVtO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5tb2RlLW1lc3NhZ2UgaDYge1xcclxcbiAgICAgICAgZm9udC1zaXplOiAwLjg3NXJlbTtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAuZHJhd1Rvb2xiYXJCb3R0b21EaXYge1xcclxcbiAgICAgICAgbWFyZ2luOiAwO1xcclxcbiAgICAgICAgcGFkZGluZy10b3A6IDhweDtcXHJcXG4gICAgfVxcclxcbn1cXHJcXG5cXHJcXG5AbWVkaWEgKG1heC1oZWlnaHQ6IDMwMHB4KSB7XFxyXFxuICAgIC5kcmF3LXBhbmVsLWNvbnRlbnQsXFxyXFxuICAgIC5teS1kcmF3aW5ncy10YWItY29udGFpbmVyIHtcXHJcXG4gICAgICAgIHBhZGRpbmc6IDZweDtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAudGFiLWJ1dHRvbiB7XFxyXFxuICAgICAgICBwYWRkaW5nOiA0cHggOHB4O1xcclxcbiAgICAgICAgZm9udC1zaXplOiAwLjhyZW07XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgLmJ1dHRvblJvdyB7XFxyXFxuICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xcclxcbiAgICB9XFxyXFxufVxcclxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTtcblxuICAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTtcblxuICAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBcIlwiO1xuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cbiAgY3NzICs9IG9iai5jc3M7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH1cblxuICAvLyBGb3Igb2xkIElFXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7fSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCJpbXBvcnQgeyBJbW11dGFibGVPYmplY3QgfSBmcm9tICdzZWFtbGVzcy1pbW11dGFibGUnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb25maWcge1xyXG4gIGNyZWF0aW9uTW9kZTogRHJhd01vZGU7XHJcbiAgICB0dXJuT2ZmT25DbG9zZTogYm9vbGVhbjtcclxuICAgIGNoYW5nZVRpdGxlOiBib29sZWFuO1xyXG4gICAgZGlzdGFuY2VVbml0cz86IEFycmF5PHsgdW5pdDogc3RyaW5nIH0+IC8vIOKchSBGSVhFRFxyXG4gICAgYXJlYVVuaXRzPzogQXJyYXk8eyB1bml0OiBzdHJpbmcgfT4gLy8g4pyFIEZJWEVEXHJcbiAgICByYWRpdXNVbml0cz86IEFycmF5PHsgdW5pdDogc3RyaW5nIH0+IC8vIOKchSBGSVhFRFxyXG4gICAgbWVhc3VyZVBvaW50TGFiZWw/OiBzdHJpbmdcclxuICAgIG1lYXN1cmVQb2x5bGluZUxhYmVsPzogc3RyaW5nXHJcbiAgICBtZWFzdXJlUG9seWdvbkxhYmVsPzogc3RyaW5nXHJcbiAgICBtZWFzdXJlQ2lyY2xlTGFiZWw/OiBzdHJpbmdcclxuICAgIHRpdGxlOiBzdHJpbmdcclxuICAgIGxpc3RNb2RlOiBib29sZWFuXHJcbiAgICBjaGFuZ2VMaXN0TW9kZTogYm9vbGVhblxyXG4gICAgdXNlckRpc3RhbmNlczogW09iamVjdF1cclxuICAgIGRlZmF1bHREaXN0YW5jZTogbnVtYmVyXHJcbiAgICB1c2VyQXJlYXM6IFtPYmplY3RdXHJcbiAgICBkZWZhdWx0QXJlYTogbnVtYmVyXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIERyYXdNb2Rle1xyXG4gIFNJTkdMRSA9ICdzaW5nbGUnLFxyXG4gIENPTlRJTlVPVVMgPSAnY29udGludW91cycsXHJcbiAgVVBEQVRFID0gJ3VwZGF0ZSdcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgSU1Db25maWcgPSBJbW11dGFibGVPYmplY3Q8Q29uZmlnPjtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeE1pSWdhR1ZwWjJoMFBTSXhNaUlnZG1sbGQwSnZlRDBpTUNBd0lERXlJREV5SWlCbWFXeHNQU0p1YjI1bElqNE5DZ2s4Y0dGMGFDQm1hV3hzTFhKMWJHVTlJbVYyWlc1dlpHUWlJR05zYVhBdGNuVnNaVDBpWlhabGJtOWtaQ0lnWkQwaVRUa3VNakkwTERZdU5UTXpZekF1TWpVc01DNHhOeklzTUM0ME5UTXNNQzR6T0Rrc01DNDJNRGtzTUM0Mk5EaHpNQzR5TXpRc01DNDFOalFzTUM0eU16UXNNQzQ1TVRaak1Dd3dMalF5TWkwd0xqQTRPU3d3TGpjM09TMHdMakkyTml3eExqQTNEUW9KQ1dNdE1DNHhOemtzTUM0eU9URXRNQzQwTXpRc01DNDFNaTB3TGpjMk5pd3dMalk0T0dNdE1DNHpOVElzTUM0eE9DMHdMamMxTnl3d0xqTXdOeTB4TGpJeE5Td3dMak00TVdNdE1DNDBOaXd3TGpBM05DMHhMREF1TVRFeExURXVOakl4TERBdU1URXhTREV1T0RneVZqa3VPRGt4RFFvSkNXTXdMakV5TVMwd0xqQXhNaXd3TGpJM015MHdMakF5T1N3d0xqUTFOeTB3TGpBMU0zTXdMak14TXkwd0xqQTFNU3d3TGpNNE55MHdMakE0TW1Nd0xqRTBOUzB3TGpBMU9Td3dMakkwTXkwd0xqRXpOU3d3TGpJNU5pMHdMakl6Y3pBdU1EYzVMVEF1TWpJeExEQXVNRGM1TFRBdU16Y3pWak11TWprekRRb0pDV013TFRBdU1UUXhMVEF1TURJeExUQXVNalU0TFRBdU1EWTBMVEF1TXpVeVV6SXVPRGtzTWk0M05qWXNNaTQzTWpZc01pNDJPVFpETWk0Mk1EVXNNaTQyTkRVc01pNDBOalFzTWk0Mk1ETXNNaTR6TURRc01pNDFOMU15TGpBd015d3lMalV4TERFdU9EZ3lMREl1TkRreFZqSXVNRE0wYURRdU5URTNEUW9KQ1dNeExqRXpOeXd3TERFdU9UVTNMREF1TVRVMkxESXVORFl4TERBdU5EWTVjekF1TnpVMkxEQXVOemN6TERBdU56VTJMREV1TXpnell6QXNNQzR5T0RFdE1DNHdOVGNzTUM0MU1qZ3RNQzR4Tnl3d0xqYzBNVk01TGpFM01TdzFMakF5TkN3NExqazJMRFV1TVRnTkNna0pRemd1TnpZNUxEVXVNekkxTERndU5UUXNOUzQwTlN3NExqSTNOQ3cxTGpVMU5WTTNMamN5TkN3MUxqYzBPU3czTGpReE9TdzFMamd4T1ZZMUxqa3pRemN1TnpJMExEVXVPVFl4TERndU1EUXNOaTR3TWprc09DNHpOamdzTmk0eE16SlRPQzQ1T0RFc05pNHpOeXc1TGpJeU5DdzJMalV6TTNvTkNna0pJRTAzTGpNek55dzBMakF6TW1Nd0xUQXVORFl4TFRBdU1UTXRNQzQ0TWkwd0xqTTRPUzB4TGpBM09HTXRNQzR5TmpFdE1DNHlOVGd0TUM0Mk5TMHdMak00TnkweExqRTNMVEF1TXpnM1l5MHdMakEzTkN3d0xUQXVNVGN4TERBdU1EQXpMVEF1TWpnNUxEQXVNREE1RFFvSkNVTTFMak0yT1N3eUxqVTRNaXcxTGpJMk55d3lMalU0Tml3MUxqRTRNU3d5TGpVNWRqTXVNRGd5YURBdU16QTFZekF1TmpNekxEQXNNUzR4TFRBdU1UUTNMREV1TkMwd0xqUTBNbE0zTGpNek55dzBMalV6Tml3M0xqTXpOeXcwTGpBek1ub2dUVGN1TnpRM0xEZ3VNREkxRFFvSkNXTXdMVEF1TlRndE1DNHhOekl0TVM0d01qTXRNQzQxTVRZdE1TNHpNekpqTFRBdU16UTBMVEF1TXpFdE1DNDRNemd0TUM0ME5qUXRNUzQwT0RJdE1DNDBOalJqTFRBdU1EYzBMREF0TUM0eE56SXNNQzR3TURNdE1DNHlPVFVzTUM0d01EbFROUzR5TXprc05pNHlORGtzTlM0eE9ERXNOaTR5TlRJTkNna0pkak11TURRMll6QXVNRE0xTERBdU1UUTFMREF1TVRRMUxEQXVNalkzTERBdU16STRMREF1TXpZM1l6QXVNVGcwTERBdU1Td3dMalF3Tml3d0xqRTBPQ3d3TGpZMk9Dd3dMakUwT0dNd0xqUTJOU3d3TERBdU9EUXpMVEF1TVRVMkxERXVNVE0xTFRBdU5EWTVEUW9KQ1VNM0xqWXdNaXc1TGpBek1pdzNMamMwTnl3NExqVTVNaXczTGpjME55dzRMakF5TlhvaUlHWnBiR3c5SW1Kc1lXTnJJaTgrRFFvOEwzTjJaejROQ2c9PVwiIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUENFdExTQkhaVzVsY21GMFpXUWdZbmtnU1dOdlRXOXZiaTVwYnlBdExUNEtQSE4yWnlCMlpYSnphVzl1UFNJeExqRWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdkMmxrZEdnOUlqTXlJaUJvWldsbmFIUTlJak15SWlCMmFXVjNRbTk0UFNJd0lEQWdNeklnTXpJaVBnbzhkR2wwYkdVK1kybHlZMnhsUEM5MGFYUnNaVDRLUEhCaGRHZ2daRDBpVFRNeUlERTJZekFnT0M0NE16Y3ROeTR4TmpNZ01UWXRNVFlnTVRaekxURTJMVGN1TVRZekxURTJMVEUySURjdU1UWXpMVEUySURFMkxURTJJREUySURjdU1UWXpJREUySURFMmVpSStQQzl3WVhSb1BnbzhMM04yWno0S1wiIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUENFdExTQkhaVzVsY21GMFpXUWdZbmtnU1dOdlRXOXZiaTVwYnlBdExUNEtQSE4yWnlCMlpYSnphVzl1UFNJeExqRWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdkMmxrZEdnOUlqSTVJaUJvWldsbmFIUTlJak15SWlCMmFXVjNRbTk0UFNJd0lEQWdNamtnTXpJaVBnbzhkR2wwYkdVK1kzVnlkbVU4TDNScGRHeGxQZ284Y0dGMGFDQmtQU0pOTXk0ek5qZ2dNekV1TVRVNGFDMHpMak0yT0dNd0xqQTROQzB4TWk0d05ESWdOaTQwT0RRdE1UTXVPREV4SURFeUxqRXlOaTB4TlM0ek1qWWdOUzQ0T1RVdE1TNDJJREV4TGpVek55MHpMaklnTVRNdU1UTTNMVEUxTGpJME1td3pMak0yT0NBd0xqUXlNV010TVM0NU16Y2dNVFF1TWpNeUxUa3VOVEUySURFMkxqTXpOeTB4TlM0MU56a2dNVGd1TURJeExUVXVOalF5SURFdU5pMDVMallnTWk0Mk9UVXRPUzQyT0RRZ01USXVNVEkyZWlJK1BDOXdZWFJvUGdvOEwzTjJaejRLXCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQQ0V0TFNCSFpXNWxjbUYwWldRZ1lua2dTV052VFc5dmJpNXBieUF0TFQ0S1BITjJaeUIyWlhKemFXOXVQU0l4TGpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2QybGtkR2c5SWpNNElpQm9aV2xuYUhROUlqTXlJaUIyYVdWM1FtOTRQU0l3SURBZ016Z2dNeklpUGdvOGRHbDBiR1UrYVhKeVpXZDFiR0Z5UEM5MGFYUnNaVDRLUEhCaGRHZ2daRDBpVFRZdU1qTWdOaTR4T1ROakxUTXVNak0xSURNdU15QXpMamN3TkNBMExqZzFPU0F4TGpnNE9DQTVMalUxT0hNdE1URXVOalk1SURjdU9EWTJMVFl1TnpZeElERXpMalV5TVNBNExqTTROQzB6TGpFME5pQXhOQzQyTVRNdE1pNHhNamtnTlM0eE5qVWdOaTQyTURZZ01URXVNVEkxSURRdU16QTJZelV1T1RZdE1pNHpMVEl1TlRVMExURXdMakk1TmlBeExqQTNNQzB4TXk0d05EWnpNVEV1TURJeExUVXVNREl4SURrdU1UazVMVGd1TnpWakxURXVPREl5TFRNdU56STVMVFF1TkMweExqVXhNeTA0TGpZMk5TMHhMakE0TTNNdE1DNHpNak10T0M0MU55MDBMalU1TWkwNExqVTNMVE11TmpjeklESXVOekl6TFRjdU1qVTJJRFl1TmpZeExUY3VNemcxTFRNdU56WTRMVEV3TGpZeE9TMHdMalEyT0hvaVBqd3ZjR0YwYUQ0S1BDOXpkbWMrQ2c9PVwiIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEQ5NGJXd2dkbVZ5YzJsdmJqMGlNUzR3SWlCbGJtTnZaR2x1WnowaWRYUm1MVGdpUHo0TkNqd2hMUzBnUjJWdVpYSmhkRzl5T2lCQlpHOWlaU0JKYkd4MWMzUnlZWFJ2Y2lBeE5TNHdMakFzSUZOV1J5QkZlSEJ2Y25RZ1VHeDFaeTFKYmlBdUlGTldSeUJXWlhKemFXOXVPaUEyTGpBd0lFSjFhV3hrSURBcElDQXRMVDROQ2p3aFJFOURWRmxRUlNCemRtY2dVRlZDVEVsRElDSXRMeTlYTTBNdkwwUlVSQ0JUVmtjZ01TNHhMeTlGVGlJZ0ltaDBkSEE2THk5M2QzY3Vkek11YjNKbkwwZHlZWEJvYVdOekwxTldSeTh4TGpFdlJGUkVMM04yWnpFeExtUjBaQ0krRFFvOGMzWm5JSFpsY25OcGIyNDlJakV1TVNJZ2FXUTlJa3hoZVdWeVh6RWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdlRzFzYm5NNmVHeHBibXM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZlR3hwYm1zaUlIZzlJakJ3ZUNJZ2VUMGlNSEI0SWcwS0NTQjNhV1IwYUQwaU1USndlQ0lnYUdWcFoyaDBQU0l4TW5CNElpQjJhV1YzUW05NFBTSXdJREFnTVRJZ01USWlJR1Z1WVdKc1pTMWlZV05yWjNKdmRXNWtQU0p1WlhjZ01DQXdJREV5SURFeUlpQjRiV3c2YzNCaFkyVTlJbkJ5WlhObGNuWmxJajROQ2p4MGFYUnNaVDVpYjJ4a1BDOTBhWFJzWlQ0TkNqeGtaWE5qUGtOeVpXRjBaV1FnZDJsMGFDQlRhMlYwWTJndVBDOWtaWE5qUGcwS1BISmxZM1FnYVdROUlsSmxZM1JoYm1kc1pTSWdabWxzYkQwaWJtOXVaU0lnZDJsa2RHZzlJakV5SWlCb1pXbG5hSFE5SWpFeUlpOCtEUW84Wno0TkNnazhjR0YwYUNCa1BTSk5PQzQxTnpnc01pNHdNek5NT0M0ME9Td3lMalF5UXpndU16WTVMREl1TkRJMExEZ3VNakV4TERJdU5EUXhMRGd1TURFMkxESXVORGN6Y3kwd0xqTTBMREF1TURZeExUQXVORE0wTERBdU1EZzRRemN1TkRFNExESXVOakV4TERjdU16QXhMREl1TmpnNUxEY3VNak1zTWk0M09UVU5DZ2tKVXpjdU1UQTVMRE11TURFM0xEY3VNRGM0TERNdU1UUXpURFV1TmpZM0xEa3VNakU1UXpVdU5qVTVMRGt1TWpRMExEVXVOalV6TERrdU1qYzFMRFV1TmpRNUxEa3VNekV4VXpVdU5qUTBMRGt1TXpjM0xEVXVOalEwTERrdU5EQTBZekFzTUM0d09Td3dMakF5TERBdU1UWTJMREF1TURVNUxEQXVNakk1RFFvSkNWTTFMamd4TWl3NUxqYzFMRFV1T1RFekxEa3VOemszUXpVdU9UY3lMRGt1T0RJMExEWXVNVEF4TERrdU9EVTJMRFl1TXl3NUxqZzVOSE13TGpNME9Dd3dMakEyTERBdU5EUTFMREF1TURZM2JDMHdMakE0T0N3d0xqTTROMmd0TXk0M05Xd3dMakE0T0Mwd0xqTTROdzBLQ1Fsak1DNHhNRGt0TUM0d01EZ3NNQzR5TmpZdE1DNHdNaXd3TGpRMk9TMHdMakF6TlhNd0xqTTBPQzB3TGpBek9Td3dMalF6TkMwd0xqQTNRelF1TURVc09TNDRNREVzTkM0eE5qWXNPUzQzTWpZc05DNHlORFFzT1M0Mk0zTXdMakV6TVMwd0xqSXhNaXd3TGpFMU9DMHdMak0wT1EwS0NRbHNNUzQwTURZdE5pNHdPREpqTUM0d01EZ3RNQzR3TXpVc01DNHdNVFF0TUM0d055d3dMakF4T0Mwd0xqRXdOWE13TGpBd05pMHdMakEzTERBdU1EQTJMVEF1TVRBMVl6QXRNQzR3TnpndE1DNHdNVGN0TUM0eE5EWXRNQzR3TlMwd0xqSXdOVk0xTGpZM09Td3lMalkzTWl3MUxqVTNNeXd5TGpZeU5RMEtDUWxUTlM0ek1qUXNNaTQxTXpRc05TNHhORE1zTWk0ME9UTlROQzQ0TWpjc01pNDBNamdzTkM0M05ERXNNaTQwTW13d0xqQTRPQzB3TGpNNE4wZzRMalUzT0hvaUx6NE5Dand2Wno0TkNqd3ZjM1puUGcwS1wiIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEQ5NGJXd2dkbVZ5YzJsdmJqMGlNUzR3SWlCbGJtTnZaR2x1WnowaWRYUm1MVGdpUHo0TkNqd2hMUzBnUjJWdVpYSmhkRzl5T2lCQlpHOWlaU0JKYkd4MWMzUnlZWFJ2Y2lBeE5TNHdMakFzSUZOV1J5QkZlSEJ2Y25RZ1VHeDFaeTFKYmlBdUlGTldSeUJXWlhKemFXOXVPaUEyTGpBd0lFSjFhV3hrSURBcElDQXRMVDROQ2p3aFJFOURWRmxRUlNCemRtY2dVRlZDVEVsRElDSXRMeTlYTTBNdkwwUlVSQ0JUVmtjZ01TNHhMeTlGVGlJZ0ltaDBkSEE2THk5M2QzY3Vkek11YjNKbkwwZHlZWEJvYVdOekwxTldSeTh4TGpFdlJGUkVMM04yWnpFeExtUjBaQ0krRFFvOGMzWm5JSFpsY25OcGIyNDlJakV1TVNJZ2FXUTlJa3hoZVdWeVh6RWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdlRzFzYm5NNmVHeHBibXM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZlR3hwYm1zaUlIZzlJakJ3ZUNJZ2VUMGlNSEI0SWcwS0NTQjNhV1IwYUQwaU1UaHdlQ0lnYUdWcFoyaDBQU0l6TW5CNElpQjJhV1YzUW05NFBTSXdJREFnTVRnZ016SWlJR1Z1WVdKc1pTMWlZV05yWjNKdmRXNWtQU0p1WlhjZ01DQXdJREU0SURNeUlpQjRiV3c2YzNCaFkyVTlJbkJ5WlhObGNuWmxJajROQ2drOGRHbDBiR1UrY0dsdVBDOTBhWFJzWlQ0TkNnazhaeUJwWkQwaVUzUjViR1VpSUhOMGNtOXJaVDBpYm05dVpTSWdjM1J5YjJ0bExYZHBaSFJvUFNJeElpQm1hV3hzUFNKdWIyNWxJaUJtYVd4c0xYSjFiR1U5SW1WMlpXNXZaR1FpUGcwS0NRazhaeUJwWkQwaU1DMVZTUzFwWTI5dWN5SWdabWxzYkQwaUl6QXdNREF3TUNJZ1ptbHNiQzF5ZFd4bFBTSnViMjU2WlhKdklqNE5DZ2tKQ1R4d1lYUm9JR1E5SWswd0xEWXVNalUwUXpBc05pNHlOVFFzTUM0eE5EUXNNQ3c1TGpBMU1Td3dZemd1T1RBM0xEQXNPQzQzTWpjc05pNHlOVFFzT0M0M01qY3NOaTR5TlRSMk1UZ3VOakEwVERrdU1EVXhMRE15VERBc01qUXVPRFUzVmpZdU1qVTBlZzBLQ1FrSkNVMDRMamc0T1N3eE15NDNNVFJqTWk0NE5ERXNNQ3cxTGpFME5pMHlMakkxTVN3MUxqRTBOaTAxTGpBeU9WTXhNUzQzTXl3ekxqWTFOaXc0TGpnNE9Td3pMalkxTm1NdE1pNDRORElzTUMwMUxqRTBOaXd5TGpJMU1TMDFMakUwTml3MUxqQXlPUTBLQ1FrSkNWTTJMakEwTnl3eE15NDNNVFFzT0M0NE9Ea3NNVE11TnpFMGVpSXZQZzBLQ1FrOEwyYytEUW9KUEM5blBnMEtQQzl6ZG1jK0RRbz1cIiIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBDRXRMU0JIWlc1bGNtRjBaV1FnWW5rZ1NXTnZUVzl2Ymk1cGJ5QXRMVDRLUEhOMlp5QjJaWEp6YVc5dVBTSXhMakVpSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUlnZDJsa2RHZzlJak0ySWlCb1pXbG5hSFE5SWpNeUlpQjJhV1YzUW05NFBTSXdJREFnTXpZZ016SWlQZ284ZEdsMGJHVStjRzlzZVdkdmJqd3ZkR2wwYkdVK0NqeHdZWFJvSUdROUlrMHdJREV6TGpjeE5uWXhOeTQ1TkRKb016RXVOekl6ZGkwM0xqSXhPV3d0TVRBdU1UZzRMVEV3TGpFNE9DQXhOQzR5TlMweE5DNHlOV2d0TWpNdU56ZzFlaUkrUEM5d1lYUm9QZ284TDNOMlp6NEtcIiIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBDRXRMU0JIWlc1bGNtRjBaV1FnWW5rZ1NXTnZUVzl2Ymk1cGJ5QXRMVDRLUEhOMlp5QjJaWEp6YVc5dVBTSXhMakVpSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUlnZDJsa2RHZzlJak0wSWlCb1pXbG5hSFE5SWpNeUlpQjJhV1YzUW05NFBTSXdJREFnTXpRZ016SWlQZ284ZEdsMGJHVStjRzlzZVdkdmJtRnNQQzkwYVhSc1pUNEtQSEJoZEdnZ1pEMGlUVE11TWpnMElETXhMalkyTTJ3dE15NHlMVEV1TURFeElEY3VNVFU0TFRJeExqSXlNU0F4Tmk0eE5qZ2dNVEF1T0RZeklEWXVPVGc1TFRJd0xqQTBNaUF6TGpJZ01TNHhOemt0T0M0ME1qRWdNalF1TURnMExURTJMakUyT0MweE1DNDROak42SWo0OEwzQmhkR2crQ2p3dmMzWm5QZ289XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQQ0V0TFNCSFpXNWxjbUYwWldRZ1lua2dTV052VFc5dmJpNXBieUF0TFQ0S1BITjJaeUIyWlhKemFXOXVQU0l4TGpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2QybGtkR2c5SWpNeUlpQm9aV2xuYUhROUlqTXlJaUIyYVdWM1FtOTRQU0l3SURBZ016SWdNeklpUGdvOGRHbDBiR1UrY21WamRHRnVaMnhsUEM5MGFYUnNaVDRLUEhCaGRHZ2daRDBpVFRFdU5pQTJMalJvTWpndU9EZzVkakU0TGpjMU5tZ3RNamd1T0RnNWRpMHhPQzQzTlRaNklqNDhMM0JoZEdnK0Nqd3ZjM1puUGdvPVwiIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEQ5NGJXd2dkbVZ5YzJsdmJqMGlNUzR3SWlCbGJtTnZaR2x1WnowaWRYUm1MVGdpUHo0TkNqd2hMUzBnUjJWdVpYSmhkRzl5T2lCQlpHOWlaU0JKYkd4MWMzUnlZWFJ2Y2lBeE5TNHdMakFzSUZOV1J5QkZlSEJ2Y25RZ1VHeDFaeTFKYmlBdUlGTldSeUJXWlhKemFXOXVPaUEyTGpBd0lFSjFhV3hrSURBcElDQXRMVDROQ2p3aFJFOURWRmxRUlNCemRtY2dVRlZDVEVsRElDSXRMeTlYTTBNdkwwUlVSQ0JUVmtjZ01TNHhMeTlGVGlJZ0ltaDBkSEE2THk5M2QzY3Vkek11YjNKbkwwZHlZWEJvYVdOekwxTldSeTh4TGpFdlJGUkVMM04yWnpFeExtUjBaQ0krRFFvOGMzWm5JSFpsY25OcGIyNDlJakV1TVNJZ2FXUTlJa3hoZVdWeVh6RWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdlRzFzYm5NNmVHeHBibXM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZlR3hwYm1zaUlIZzlJakJ3ZUNJZ2VUMGlNSEI0SWcwS0NTQjNhV1IwYUQwaU1USndlQ0lnYUdWcFoyaDBQU0l4TW5CNElpQjJhV1YzUW05NFBTSXdJREFnTVRJZ01USWlJR1Z1WVdKc1pTMWlZV05yWjNKdmRXNWtQU0p1WlhjZ01DQXdJREV5SURFeUlpQjRiV3c2YzNCaFkyVTlJbkJ5WlhObGNuWmxJajROQ2p4MGFYUnNaVDVoYkdsbmJpMTJMV0k4TDNScGRHeGxQZzBLUEdSbGMyTStRM0psWVhSbFpDQjNhWFJvSUZOclpYUmphQzQ4TDJSbGMyTStEUW84Y21WamRDQnBaRDBpVW1WamRHRnVaMnhsSWlCbWFXeHNQU0p1YjI1bElpQjNhV1IwYUQwaU1USWlJR2hsYVdkb2REMGlNVElpTHo0TkNqeHdZWFJvSUdROUlrMHhNU3d4TVdNd0xqSTNOaXd3TERBdU5Td3dMakl5TkN3d0xqVXNNQzQxVXpFeExqSTNOaXd4TWl3eE1Td3hNa2d4WXkwd0xqSTNOaXd3TFRBdU5TMHdMakl5TkMwd0xqVXRNQzQxVXpBdU56STBMREV4TERFc01URklNVEY2SWk4K0RRbzhjR0YwYUNCa1BTSk5NVEFzTUdNd0xqSTNOaXd3TERBdU5Td3dMakl5TkN3d0xqVXNNQzQxVmpsc01DNDJMVEF1TnprNVl6QXVNVFEzTFRBdU1UazNMREF1TkRFeUxUQXVNalUwTERBdU5qSXpMVEF1TVRRNFRERXhMamdzT0M0eERRb0pZekF1TVRrMkxEQXVNVFE0TERBdU1qVTBMREF1TkRFeUxEQXVNVFEzTERBdU5qSXpUREV4TGprc09DNDRNREZzTFRFdU5Td3lZeTB3TGpFNExEQXVNalF0TUM0MU1qSXNNQzR5TmpRdE1DNDNNelFzTUM0d056Sk1PUzQyTERFd0xqZ3dNV3d0TVM0MUxUSU5DZ2xETnk0NU16VXNPQzQxT0N3M0xqazNPU3c0TGpJMk5pdzRMaklzT0M0eFl6QXVNVGsyTFRBdU1UUTJMREF1TkRZMkxUQXVNVEkzTERBdU5qUXNNQzR3TXpOTU9DNDVMRGd1TWpBeFREa3VOU3c1VmpBdU5VTTVMalVzTUM0eU1qUXNPUzQzTWpRc01Dd3hNQ3d3ZWlJdlBnMEtQR2MrRFFvSlBIQmhkR2dnWkQwaVRUQXVPU3c1TGpBM09Hd3lMamMwT1MwM0xqRTFOMmd4TGpBeU1VdzNMallzT1M0d056aElOaTQxTWpGTU5TNDJPRFVzTmk0NU1VZ3lMalk1TWt3eExqa3dOaXc1TGpBM09FZ3dMamw2SUUweUxqazJOU3cyTGpFek9XZ3lMalF5TjB3MExqWTBOU3cwTGpFMU9BMEtDUWxETkM0ME1UY3NNeTQxTlRZc05DNHlORGdzTXk0d05qRXNOQzR4TXpjc01pNDJOek5qTFRBdU1Ea3hMREF1TkRVNUxUQXVNaklzTUM0NU1UVXRNQzR6T0RZc01TNHpOamRNTWk0NU5qVXNOaTR4TXpsNklpOCtEUW84TDJjK0RRbzhaeUJrYVhOd2JHRjVQU0p1YjI1bElqNE5DZ2s4Y0dGMGFDQmthWE53YkdGNVBTSnBibXhwYm1VaUlHUTlJazA1TGpZc01DNDFNREZqTUM0eU56WXNNQ3d3TGpVc01DNHlNalFzTUM0MUxEQXVOWFl5TGpWc01DNDJMVEF1T0dNd0xqRTBOeTB3TGpFNU5pd3dMalF4TWkwd0xqSTFOQ3d3TGpZeU15MHdMakUwTjJ3d0xqQTNOeXd3TGpBME53MEtDUWxqTUM0eU1qSXNNQzR4TmpZc01DNHlOamNzTUM0ME56a3NNQzR4TURFc01DNDNiQzB4TGpVc01tTXRNQzR5TERBdU1qWTNMVEF1TmpBeExEQXVNalkzTFRBdU9EQXhMREJzTFRFdU5TMHlRemN1TlRNMExETXVNRGdzTnk0MU56a3NNaTQzTmpjc055NDRMREl1TmpBeERRb0pDWE13TGpVek5DMHdMakV5TVN3d0xqY3NNQzR4YkRBdU5pd3dMamgyTFRJdU5VTTVMakVzTUM0M01qVXNPUzR6TWpNc01DNDFNREVzT1M0MkxEQXVOVEF4ZWlJdlBnMEtDVHh3WVhSb0lHUnBjM0JzWVhrOUltbHViR2x1WlNJZ1pEMGlUVGt1TmpBeExERXhMamMzTTJNdE1DNHlOellzTUMwd0xqVXRNQzR5TWpVdE1DNDFMVEF1TlhZdE1pNDFiQzB3TGpZc01DNDNPVGxET0M0ek5UUXNPUzQzTnl3NExqQTRPU3c1TGpneU5pdzNMamczT0N3NUxqY3lNUTBLQ1FsTU55NDRNREVzT1M0Mk56SkROeTQxTnprc09TNDFNRGdzTnk0MU16UXNPUzR4T1RNc055NDNMRGd1T1RjemJERXVOUzB5WXpBdU1pMHdMakkyTml3d0xqWXdNUzB3TGpJMk5pd3dMamd3TVN3d2JERXVOU3d5WXpBdU1UWTFMREF1TWpJeExEQXVNVElzTUM0MU16VXRNQzR4TURFc01DNDJPVGtOQ2drSll5MHdMakl5TVN3d0xqRTJOaTB3TGpVek5Dd3dMakV5TVMwd0xqY3RNQzR4YkMwd0xqWXRNQzQzT1RsMk1pNDFRekV3TGpFd01Td3hNUzQxTkRrc09TNDROemNzTVRFdU56Y3pMRGt1TmpBeExERXhMamMzTTNvaUx6NE5DZ2tOQ2drSlBHeHBibVVnWkdsemNHeGhlVDBpYVc1c2FXNWxJaUJtYVd4c1BTSnViMjVsSWlCemRISnZhMlU5SWlNd01EQXdNREFpSUhOMGNtOXJaUzFzYVc1bFkyRndQU0p5YjNWdVpDSWdjM1J5YjJ0bExXMXBkR1Z5YkdsdGFYUTlJakV3SWlCNE1UMGlOeTQzTWpVaUlIa3hQU0kyTGpFME55SWdlREk5SWpFeExqUTNOU0lnZVRJOUlqWXVNVFEzSWk4K0RRbzhMMmMrRFFvOEwzTjJaejROQ2c9PVwiIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEQ5NGJXd2dkbVZ5YzJsdmJqMGlNUzR3SWlCbGJtTnZaR2x1WnowaWRYUm1MVGdpUHo0TkNqd2hMUzBnUjJWdVpYSmhkRzl5T2lCQlpHOWlaU0JKYkd4MWMzUnlZWFJ2Y2lBeE5TNHdMakFzSUZOV1J5QkZlSEJ2Y25RZ1VHeDFaeTFKYmlBdUlGTldSeUJXWlhKemFXOXVPaUEyTGpBd0lFSjFhV3hrSURBcElDQXRMVDROQ2p3aFJFOURWRmxRUlNCemRtY2dVRlZDVEVsRElDSXRMeTlYTTBNdkwwUlVSQ0JUVmtjZ01TNHhMeTlGVGlJZ0ltaDBkSEE2THk5M2QzY3Vkek11YjNKbkwwZHlZWEJvYVdOekwxTldSeTh4TGpFdlJGUkVMM04yWnpFeExtUjBaQ0krRFFvOGMzWm5JSFpsY25OcGIyNDlJakV1TVNJZ2FXUTlJa3hoZVdWeVh6RWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdlRzFzYm5NNmVHeHBibXM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZlR3hwYm1zaUlIZzlJakJ3ZUNJZ2VUMGlNSEI0SWcwS0NTQjNhV1IwYUQwaU1USndlQ0lnYUdWcFoyaDBQU0l4TW5CNElpQjJhV1YzUW05NFBTSXdJREFnTVRJZ01USWlJR1Z1WVdKc1pTMWlZV05yWjNKdmRXNWtQU0p1WlhjZ01DQXdJREV5SURFeUlpQjRiV3c2YzNCaFkyVTlJbkJ5WlhObGNuWmxJajROQ2p4MGFYUnNaVDVoYkdsbmJpMTJMV0k4TDNScGRHeGxQZzBLUEdSbGMyTStRM0psWVhSbFpDQjNhWFJvSUZOclpYUmphQzQ4TDJSbGMyTStEUW84Y21WamRDQnBaRDBpVW1WamRHRnVaMnhsSWlCbWFXeHNQU0p1YjI1bElpQjNhV1IwYUQwaU1USWlJR2hsYVdkb2REMGlNVElpTHo0TkNqeHdZWFJvSUdROUlrMHhNU3c1TGpFNE9HTXdMakkzTml3d0xEQXVOU3d3TGpJeU5Dd3dMalVzTUM0MWN5MHdMakl5TkN3d0xqVXRNQzQxTERBdU5VZ3hZeTB3TGpJM05pd3dMVEF1TlMwd0xqSXlOQzB3TGpVdE1DNDFjekF1TWpJMExUQXVOU3d3TGpVdE1DNDFTREV4ZWlJdlBnMEtQSEJoZEdnZ1pEMGlUVEV3TERBdU5ERTNZekF1TWpjMkxEQXNNQzQxTERBdU1UYzJMREF1TlN3d0xqTTVOSFkyTGpZNU1td3dMall0TUM0Mk1qbGpNQzR4TkRjdE1DNHhOVFVzTUM0ME1USXRNQzR4T1Rrc01DNDJNak10TUM0eE1UZE1NVEV1T0N3MkxqYzVNdzBLQ1dNd0xqRTVOaXd3TGpFeE55d3dMakkxTkN3d0xqTXlOU3d3TGpFME55d3dMalE1TVV3eE1TNDVMRGN1TXpRMmJDMHhMalVzTVM0MU56VmpMVEF1TVRnc01DNHhPRGd0TUM0MU1qSXNNQzR5TURjdE1DNDNNelFzTUM0d05UZE1PUzQyTERndU9USXhURGd1TVN3M0xqTTBOZzBLQ1VNM0xqa3pOU3czTGpFM01pdzNMamszT1N3Mkxqa3lOU3c0TGpJc05pNDNPVE5qTUM0eE9UWXRNQzR4TVRRc01DNDBOall0TUM0eExEQXVOalFzTUM0d01qWk1PQzQ1TERZdU9EY3piREF1Tml3d0xqWXlPVll3TGpneFF6a3VOU3d3TGpVNU15dzVMamN5TkN3d0xqUXhOeXd4TUN3d0xqUXhOM29pTHo0TkNqeG5QZzBLQ1R4d1lYUm9JR1E5SWswd0xqa3NPUzR3Tnpoc01pNDNORGt0Tnk0eE5UZG9NUzR3TWpGTU55NDJMRGt1TURjNFNEWXVOVEl4VERVdU5qZzFMRFl1T1RGSU1pNDJPVEpNTVM0NU1EWXNPUzR3TnpoSU1DNDVlaUJOTWk0NU5qVXNOaTR4TXpsb01pNDBNamRNTkM0Mk5EVXNOQzR4TlRnTkNna0pRelF1TkRFM0xETXVOVFUyTERRdU1qUTRMRE11TURZeExEUXVNVE0zTERJdU5qY3pZeTB3TGpBNU1Td3dMalExT1Mwd0xqSXlMREF1T1RFMUxUQXVNemcyTERFdU16WTNUREl1T1RZMUxEWXVNVE01ZWlJdlBnMEtQQzluUGcwS1BHY2daR2x6Y0d4aGVUMGlibTl1WlNJK0RRb0pQSEJoZEdnZ1pHbHpjR3hoZVQwaWFXNXNhVzVsSWlCa1BTSk5PUzQyTERBdU5UQXhZekF1TWpjMkxEQXNNQzQxTERBdU1qSTBMREF1TlN3d0xqVjJNaTQxYkRBdU5pMHdMamhqTUM0eE5EY3RNQzR4T1RZc01DNDBNVEl0TUM0eU5UUXNNQzQyTWpNdE1DNHhORGRzTUM0d056Y3NNQzR3TkRjTkNna0pZekF1TWpJeUxEQXVNVFkyTERBdU1qWTNMREF1TkRjNUxEQXVNVEF4TERBdU4yd3RNUzQxTERKakxUQXVNaXd3TGpJMk55MHdMall3TVN3d0xqSTJOeTB3TGpnd01Td3diQzB4TGpVdE1rTTNMalV6TkN3ekxqQTRMRGN1TlRjNUxESXVOelkzTERjdU9Dd3lMall3TVEwS0NRbHpNQzQxTXpRdE1DNHhNakVzTUM0M0xEQXVNV3d3TGpZc01DNDRkaTB5TGpWRE9TNHhMREF1TnpJMUxEa3VNekl6TERBdU5UQXhMRGt1Tml3d0xqVXdNWG9pTHo0TkNnazhjR0YwYUNCa2FYTndiR0Y1UFNKcGJteHBibVVpSUdROUlrMDVMall3TVN3eE1TNDNOek5qTFRBdU1qYzJMREF0TUM0MUxUQXVNakkxTFRBdU5TMHdMalYyTFRJdU5Xd3RNQzQyTERBdU56azVRemd1TXpVMExEa3VOemNzT0M0d09Ea3NPUzQ0TWpZc055NDROemdzT1M0M01qRU5DZ2tKVERjdU9EQXhMRGt1TmpjeVF6Y3VOVGM1TERrdU5UQTRMRGN1TlRNMExEa3VNVGt6TERjdU55dzRMamszTTJ3eExqVXRNbU13TGpJdE1DNHlOallzTUM0Mk1ERXRNQzR5TmpZc01DNDRNREVzTUd3eExqVXNNbU13TGpFMk5Td3dMakl5TVN3d0xqRXlMREF1TlRNMUxUQXVNVEF4TERBdU5qazVEUW9KQ1dNdE1DNHlNakVzTUM0eE5qWXRNQzQxTXpRc01DNHhNakV0TUM0M0xUQXVNV3d0TUM0MkxUQXVOems1ZGpJdU5VTXhNQzR4TURFc01URXVOVFE1TERrdU9EYzNMREV4TGpjM015dzVMall3TVN3eE1TNDNOek42SWk4K0RRb0pEUW9KQ1R4c2FXNWxJR1JwYzNCc1lYazlJbWx1YkdsdVpTSWdabWxzYkQwaWJtOXVaU0lnYzNSeWIydGxQU0lqTURBd01EQXdJaUJ6ZEhKdmEyVXRiR2x1WldOaGNEMGljbTkxYm1RaUlITjBjbTlyWlMxdGFYUmxjbXhwYldsMFBTSXhNQ0lnZURFOUlqY3VOekkxSWlCNU1UMGlOaTR4TkRjaUlIZ3lQU0l4TVM0ME56VWlJSGt5UFNJMkxqRTBOeUl2UGcwS1BDOW5QZzBLUEM5emRtYytEUW89XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpZFhSbUxUZ2lQejROQ2p3aExTMGdSMlZ1WlhKaGRHOXlPaUJCWkc5aVpTQkpiR3gxYzNSeVlYUnZjaUF4TlM0d0xqQXNJRk5XUnlCRmVIQnZjblFnVUd4MVp5MUpiaUF1SUZOV1J5QldaWEp6YVc5dU9pQTJMakF3SUVKMWFXeGtJREFwSUNBdExUNE5DandoUkU5RFZGbFFSU0J6ZG1jZ1VGVkNURWxESUNJdEx5OVhNME12TDBSVVJDQlRWa2NnTVM0eEx5OUZUaUlnSW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTDBkeVlYQm9hV056TDFOV1J5OHhMakV2UkZSRUwzTjJaekV4TG1SMFpDSStEUW84YzNabklIWmxjbk5wYjI0OUlqRXVNU0lnYVdROUlreGhlV1Z5WHpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpSUhnOUlqQndlQ0lnZVQwaU1IQjRJZzBLQ1NCM2FXUjBhRDBpTVRKd2VDSWdhR1ZwWjJoMFBTSXhNbkI0SWlCMmFXVjNRbTk0UFNJd0lEQWdNVElnTVRJaUlHVnVZV0pzWlMxaVlXTnJaM0p2ZFc1a1BTSnVaWGNnTUNBd0lERXlJREV5SWlCNGJXdzZjM0JoWTJVOUluQnlaWE5sY25abElqNE5DangwYVhSc1pUNWhiR2xuYmkxMkxXSThMM1JwZEd4bFBnMEtQR1JsYzJNK1EzSmxZWFJsWkNCM2FYUm9JRk5yWlhSamFDNDhMMlJsYzJNK0RRbzhjbVZqZENCcFpEMGlVbVZqZEdGdVoyeGxJaUJtYVd4c1BTSnViMjVsSWlCM2FXUjBhRDBpTVRJaUlHaGxhV2RvZEQwaU1USWlMejROQ2p4d1lYUm9JR1JwYzNCc1lYazlJbTV2Ym1VaUlHUTlJazB4TVN3eE1XTXdMakkzTml3d0xEQXVOU3d3TGpJeU5Dd3dMalVzTUM0MVV6RXhMakkzTml3eE1pd3hNU3d4TWtneFl5MHdMakkzTml3d0xUQXVOUzB3TGpJeU5DMHdMalV0TUM0MVV6QXVOekkwTERFeExERXNNVEZJTVRGNklpOCtEUW84Y0dGMGFDQmthWE53YkdGNVBTSnViMjVsSWlCa1BTSk5NVEFzTUdNd0xqSTNOaXd3TERBdU5Td3dMakl5TkN3d0xqVXNNQzQxVmpsc01DNDJMVEF1TnprNVl6QXVNVFEzTFRBdU1UazNMREF1TkRFeUxUQXVNalUwTERBdU5qSXpMVEF1TVRRNFRERXhMamdzT0M0eERRb0pZekF1TVRrMkxEQXVNVFE0TERBdU1qVTBMREF1TkRFeUxEQXVNVFEzTERBdU5qSXpUREV4TGprc09DNDRNREZzTFRFdU5Td3lZeTB3TGpFNExEQXVNalF0TUM0MU1qSXNNQzR5TmpRdE1DNDNNelFzTUM0d056Sk1PUzQyTERFd0xqZ3dNV3d0TVM0MUxUSU5DZ2xETnk0NU16VXNPQzQxT0N3M0xqazNPU3c0TGpJMk5pdzRMaklzT0M0eFl6QXVNVGsyTFRBdU1UUTJMREF1TkRZMkxUQXVNVEkzTERBdU5qUXNNQzR3TXpOTU9DNDVMRGd1TWpBeFREa3VOU3c1VmpBdU5VTTVMalVzTUM0eU1qUXNPUzQzTWpRc01Dd3hNQ3d3ZWlJdlBnMEtQR2MrRFFvSlBIQmhkR2dnWkQwaVRUQXVPU3c1TGpBM09Hd3lMamMwT1MwM0xqRTFOMmd4TGpBeU1VdzNMallzT1M0d056aElOaTQxTWpGTU5TNDJPRFVzTmk0NU1VZ3lMalk1TWt3eExqa3dOaXc1TGpBM09FZ3dMamw2SUUweUxqazJOU3cyTGpFek9XZ3lMalF5TjB3MExqWTBOU3cwTGpFMU9BMEtDUWxETkM0ME1UY3NNeTQxTlRZc05DNHlORGdzTXk0d05qRXNOQzR4TXpjc01pNDJOek5qTFRBdU1Ea3hMREF1TkRVNUxUQXVNaklzTUM0NU1UVXRNQzR6T0RZc01TNHpOamRNTWk0NU5qVXNOaTR4TXpsNklpOCtEUW84TDJjK0RRbzhaejROQ2drOGNHRjBhQ0JrUFNKTk9TNDJMREF1TlRBeFl6QXVNamMyTERBc01DNDFMREF1TWpJMExEQXVOU3d3TGpWMk1pNDFiREF1Tmkwd0xqaGpNQzR4TkRjdE1DNHhPVFlzTUM0ME1USXRNQzR5TlRRc01DNDJNak10TUM0eE5EZHNNQzR3Tnpjc01DNHdORGNOQ2drSll6QXVNakl5TERBdU1UWTJMREF1TWpZM0xEQXVORGM1TERBdU1UQXhMREF1TjJ3dE1TNDFMREpqTFRBdU1pd3dMakkyTnkwd0xqWXdNU3d3TGpJMk55MHdMamd3TVN3d2JDMHhMalV0TWtNM0xqVXpOQ3d6TGpBNExEY3VOVGM1TERJdU56WTNMRGN1T0N3eUxqWXdNUTBLQ1Fsek1DNDFNelF0TUM0eE1qRXNNQzQzTERBdU1Xd3dMallzTUM0NGRpMHlMalZET1M0eExEQXVOekkxTERrdU16SXpMREF1TlRBeExEa3VOaXd3TGpVd01Yb2lMejROQ2drOGNHRjBhQ0JrUFNKTk9TNDJNREVzTVRFdU56Y3pZeTB3TGpJM05pd3dMVEF1TlMwd0xqSXlOUzB3TGpVdE1DNDFkaTB5TGpWc0xUQXVOaXd3TGpjNU9VTTRMak0xTkN3NUxqYzNMRGd1TURnNUxEa3VPREkyTERjdU9EYzRMRGt1TnpJeFREY3VPREF4TERrdU5qY3lEUW9KQ1VNM0xqVTNPU3c1TGpVd09DdzNMalV6TkN3NUxqRTVNeXczTGpjc09DNDVOek5zTVM0MUxUSmpNQzR5TFRBdU1qWTJMREF1TmpBeExUQXVNalkyTERBdU9EQXhMREJzTVM0MUxESmpNQzR4TmpVc01DNHlNakVzTUM0eE1pd3dMalV6TlMwd0xqRXdNU3d3TGpZNU9RMEtDUWxqTFRBdU1qSXhMREF1TVRZMkxUQXVOVE0wTERBdU1USXhMVEF1Tnkwd0xqRnNMVEF1Tmkwd0xqYzVPWFl5TGpWRE1UQXVNVEF4TERFeExqVTBPU3c1TGpnM055d3hNUzQzTnpNc09TNDJNREVzTVRFdU56Y3plaUl2UGcwS0NUeHNhVzVsSUdacGJHdzlJbTV2Ym1VaUlITjBjbTlyWlQwaUl6QXdNREF3TUNJZ2MzUnliMnRsTFd4cGJtVmpZWEE5SW5KdmRXNWtJaUJ6ZEhKdmEyVXRiV2wwWlhKc2FXMXBkRDBpTVRBaUlIZ3hQU0kzTGpjeU5TSWdlVEU5SWpZdU1UUTNJaUI0TWowaU1URXVORGMxSWlCNU1qMGlOaTR4TkRjaUx6NE5Dand2Wno0TkNqd3ZjM1puUGcwS1wiIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEQ5NGJXd2dkbVZ5YzJsdmJqMGlNUzR3SWlCbGJtTnZaR2x1WnowaWRYUm1MVGdpUHo0TkNqd2hMUzBnUjJWdVpYSmhkRzl5T2lCQlpHOWlaU0JKYkd4MWMzUnlZWFJ2Y2lBeE5TNHdMakFzSUZOV1J5QkZlSEJ2Y25RZ1VHeDFaeTFKYmlBdUlGTldSeUJXWlhKemFXOXVPaUEyTGpBd0lFSjFhV3hrSURBcElDQXRMVDROQ2p3aFJFOURWRmxRUlNCemRtY2dVRlZDVEVsRElDSXRMeTlYTTBNdkwwUlVSQ0JUVmtjZ01TNHhMeTlGVGlJZ0ltaDBkSEE2THk5M2QzY3Vkek11YjNKbkwwZHlZWEJvYVdOekwxTldSeTh4TGpFdlJGUkVMM04yWnpFeExtUjBaQ0krRFFvOGMzWm5JSFpsY25OcGIyNDlJakV1TVNJZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlCNGJXeHVjenA0YkdsdWF6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNVGs1T1M5NGJHbHVheUlnZUQwaU1IQjRJaUI1UFNJd2NIZ2lJSGRwWkhSb1BTSXhNbkI0SWcwS0NTQm9aV2xuYUhROUlqRXljSGdpSUhacFpYZENiM2c5SWpBZ01DQXhNaUF4TWlJZ1pXNWhZbXhsTFdKaFkydG5jbTkxYm1ROUltNWxkeUF3SURBZ01USWdNVElpSUhodGJEcHpjR0ZqWlQwaWNISmxjMlZ5ZG1VaVBnMEtQR2NnYVdROUlreGhlV1Z5WHpFaVBnMEtDVHgwYVhSc1pUNWhiR2xuYmkxMkxYUThMM1JwZEd4bFBnMEtDVHhrWlhOalBrTnlaV0YwWldRZ2QybDBhQ0JUYTJWMFkyZ3VQQzlrWlhOalBnMEtDVHh5WldOMElHbGtQU0pTWldOMFlXNW5iR1VpSUdacGJHdzlJbTV2Ym1VaUlIZHBaSFJvUFNJeE1pSWdhR1ZwWjJoMFBTSXhNaUl2UGcwS0NUeHdZWFJvSUdROUlrMHhNU3d4WXpBdU1qYzJMREFzTUM0MUxUQXVNakkwTERBdU5TMHdMalZUTVRFdU1qYzJMREFzTVRFc01FZ3hRekF1TnpJMExEQXNNQzQxTERBdU1qSTBMREF1TlN3d0xqVlRNQzQzTWpRc01Td3hMREZJTVRGNklpOCtEUW9KUEhCaGRHZ2daRDBpVFRFd0xERXlZekF1TWpjMkxEQXNNQzQxTFRBdU1qSXpMREF1TlMwd0xqVldNMnd3TGpZc01DNDRZekF1TVRRM0xEQXVNVGsyTERBdU5ERXlMREF1TWpVMExEQXVOakl6TERBdU1UUTNUREV4TGpnc015NDVEUW9KQ1dNd0xqRTVOaTB3TGpFME55d3dMakkxTkMwd0xqUXhNU3d3TGpFME55MHdMall5TTB3eE1TNDVMRE11TW13dE1TNDFMVEpqTFRBdU1UZ3RNQzR5TkMwd0xqVXlNaTB3TGpJMk5DMHdMamN6TkMwd0xqQTNNa3c1TGpZc01TNHliQzB4TGpVc01nMEtDUWxETnk0NU16VXNNeTQwTWpFc055NDVOemtzTXk0M016UXNPQzR5TERNdU9XTXdMakU1Tml3d0xqRTBOeXd3TGpRMk5pd3dMakV5T0N3d0xqWTBMVEF1TURNelREZ3VPU3d6TGpoTU9TNDFMRE4yT0M0MVF6a3VOU3d4TVM0M056Y3NPUzQzTWpRc01USXNNVEFzTVRKNklpOCtEUW84TDJjK0RRbzhaeUJwWkQwaVRHRjVaWEpmTWlJK0RRb0pQR2MrRFFvSkNUeHdZWFJvSUdROUlrMHdMamtzT1M0d056aHNNaTQzTkRrdE55NHhOVGRvTVM0d01qRnNNaTQ1TWprc055NHhOVGRJTmk0MU1rdzFMalk0TlN3Mkxqa3hTREl1TmpreVRERXVPVEEyTERrdU1EYzRTREF1T1hvZ1RUSXVPVFkxTERZdU1UTTVhREl1TkRJM1REUXVOalExTERRdU1UVTNEUW9KQ1FsRE5DNDBNVGNzTXk0MU5UVXNOQzR5TkRnc015NHdOaXcwTGpFek55d3lMalkzTTBNMExqQTBOaXd6TGpFek1pd3pMamt4Tnl3ekxqVTROeXd6TGpjMU1TdzBMakEwVERJdU9UWTFMRFl1TVRNNWVpSXZQZzBLQ1R3dlp6NE5Dand2Wno0TkNqd3ZjM1puUGcwS1wiIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUENFdExTQkhaVzVsY21GMFpXUWdZbmtnU1dOdlRXOXZiaTVwYnlBdExUNEtQSE4yWnlCMlpYSnphVzl1UFNJeExqRWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdkMmxrZEdnOUlqTXlJaUJvWldsbmFIUTlJak15SWlCMmFXVjNRbTk0UFNJd0lEQWdNeklnTXpJaVBnbzhkR2wwYkdVK2RHVjRkRHd2ZEdsMGJHVStDanh3WVhSb0lHUTlJazAxTGpBeU1TQXpNbWd0TlM0d01qRnNNVFF1TURFMExUTXlhRFF1TVRBNGJERXpMamczTnlBek1tZ3ROUzR4TVROc0xUTXVNamczTFRjdU9EWTBhQzB4TlM0ek16aHNMVE11TWpReElEY3VPRFkwZWswNUxqZzJJREl3TGpJd00yZ3hNaTR3T1Rkc0xUWXVNREkyTFRFMUxqQXdOaTAyTGpBM01TQXhOUzR3TURaNklqNDhMM0JoZEdnK0Nqd3ZjM1puUGdvPVwiIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEQ5NGJXd2dkbVZ5YzJsdmJqMGlNUzR3SWlCbGJtTnZaR2x1WnowaWRYUm1MVGdpUHo0TkNqd2hMUzBnUjJWdVpYSmhkRzl5T2lCQlpHOWlaU0JKYkd4MWMzUnlZWFJ2Y2lBeE5TNHdMakFzSUZOV1J5QkZlSEJ2Y25RZ1VHeDFaeTFKYmlBdUlGTldSeUJXWlhKemFXOXVPaUEyTGpBd0lFSjFhV3hrSURBcElDQXRMVDROQ2p3aFJFOURWRmxRUlNCemRtY2dVRlZDVEVsRElDSXRMeTlYTTBNdkwwUlVSQ0JUVmtjZ01TNHhMeTlGVGlJZ0ltaDBkSEE2THk5M2QzY3Vkek11YjNKbkwwZHlZWEJvYVdOekwxTldSeTh4TGpFdlJGUkVMM04yWnpFeExtUjBaQ0krRFFvOGMzWm5JSFpsY25OcGIyNDlJakV1TVNJZ2FXUTlJa3hoZVdWeVh6RWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdlRzFzYm5NNmVHeHBibXM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZlR3hwYm1zaUlIZzlJakJ3ZUNJZ2VUMGlNSEI0SWcwS0NTQjNhV1IwYUQwaU1USndlQ0lnYUdWcFoyaDBQU0l4TW5CNElpQjJhV1YzUW05NFBTSXdJREFnTVRJZ01USWlJR1Z1WVdKc1pTMWlZV05yWjNKdmRXNWtQU0p1WlhjZ01DQXdJREV5SURFeUlpQjRiV3c2YzNCaFkyVTlJbkJ5WlhObGNuWmxJajROQ2p4MGFYUnNaVDVpYjJ4a1BDOTBhWFJzWlQ0TkNqeGtaWE5qUGtOeVpXRjBaV1FnZDJsMGFDQlRhMlYwWTJndVBDOWtaWE5qUGcwS1BISmxZM1FnYVdROUlsSmxZM1JoYm1kc1pTSWdabWxzYkQwaWJtOXVaU0lnZDJsa2RHZzlJakV5SWlCb1pXbG5hSFE5SWpFeUlpOCtEUW84Wno0TkNnazhjR0YwYUNCa1BTSk5NVEF1TlRVekxERXVOakF6WXkwd0xqRXdPU3d3TGpBd05DMHdMakkzTERBdU1ESTNMVEF1TkRnc01DNHdOMU01TGpZNE9Td3hMamM0TVN3NUxqVTFOeXd4TGpnMk4yTXRNQzR4TXpNc01DNHdPUzB3TGpJeU5Td3dMakkzTlMwd0xqSTNOU3d3TGpVMU53MEtDUWxUT1M0eU1EVXNNeTR3TkRnc09TNHlNRFVzTXk0ME5UVldOeTR3TjJNd0xEQXVORFl4TFRBdU1EazJMREF1T0RZeExUQXVNamczTERFdU1qQXhVemd1TkRjMUxEZ3VPRGt4TERndU1UWXlMRGt1TVRBNVF6Y3VPRFUwTERrdU16SXNOeTQxTWpjc09TNDBOekVzTnk0eE9EZ3NPUzQxTmpNTkNna0pRell1T0RRMExEa3VOalUwTERZdU5URTNMRGt1TnpBeExEWXVNakEwTERrdU56QXhZeTB3TGpVc01DMHdMamswTlMwd0xqQTJOaTB4TGpNek5pMHdMakU1TjFNMExqRTBPU3c1TGpFNU55d3pMamc0TkN3NExqazNOUTBLQ1FsRE15NDJNaklzT0M0M05USXNNeTQwTWpVc09DNDBPVFlzTXk0eU9USXNPQzR5TURsRE15NHhOaXczTGpreU1pd3pMakE1TXl3M0xqWXlNeXd6TGpBNU15dzNMak14TVZZeUxqTTVOR013TFRBdU1UTTNMVEF1TURJeUxUQXVNalV4TFRBdU1EWTNMVEF1TXpRekRRb0pDVk15TGpnNUxERXVPRGMxTERJdU56VXpMREV1TnprMlF6SXVOalUyTERFdU56UXlMREl1TlRNeExERXVOams0TERJdU16YzRMREV1TmpZMVV6SXVNVEF4TERFdU5qRXhMREl1TURBekxERXVOakF6VmpFdU1UZzNhRE11TkRZeWRqQXVOREUyRFFvSkNVTTFMak0xTml3eExqWXdOeXcxTGpJeE9Td3hMall5TlN3MUxqQTFOQ3d4TGpZMU5rTTBMamc0Tnl3eExqWTROeXcwTGpjMk5Td3hMamN4Tml3MExqWTROeXd4TGpjME5FTTBMalUxTkN3eExqYzVNU3cwTGpRMk5Td3hMamcyT1N3MExqUXlNU3d4TGprM09BMEtDUWxETkM0ek56VXNNaTR3T0Rjc05DNHpOVE1zTWk0eU1EWXNOQzR6TlRNc01pNHpNelYyTkM0MU9EbGpNQ3d3TGpJeU15d3dMakF5TkN3d0xqUTFOeXd3TGpBM05Dd3dMamN3TVdNd0xqQTBPQ3d3TGpJME5Dd3dMakUwTlN3d0xqUTNNU3d3TGpJNE9Td3dMalk0TWcwS0NRbGpNQzR4TlRJc01DNHlNVFVzTUM0ek5Ua3NNQzR6T1RFc01DNDJNakVzTUM0MU1qZHpNQzQyTWpFc01DNHlNRFVzTVM0d056Z3NNQzR5TURWak1DNDBNekVzTUN3d0xqYzVMVEF1TURZNExERXVNRGd6TFRBdU1qQTFZekF1TWpnNUxUQXVNVE0zTERBdU5USXRNQzR6TVRZc01DNDJPRGd0TUM0MU16a05DZ2tKWXpBdU1UWXRNQzR5TVRFc01DNHlOek10TUM0ME16SXNNQzR6TkMwd0xqWTJNbk13TGpFdE1DNDBOak1zTUM0eExUQXVOamszVmpNdU5USTVZekF0TUM0ME16TXRNQzR3TXpFdE1DNDNPRGd0TUM0d09UUXRNUzR3TmpNTkNna0pRemd1TkRZNUxESXVNVGt4TERndU16YzNMREl1TURFeExEZ3VNalUyTERFdU9USTFRemd1TVRFNUxERXVPREk0TERjdU9UTXlMREV1TnpVeExEY3VOamszTERFdU5qazNRemN1TkRVNUxERXVOalF5TERjdU1qYzVMREV1TmpFeExEY3VNVFUwTERFdU5qQXpWakV1TVRnM2FETXVNems0VmpFdU5qQXpEUW9KQ1hvaUx6NE5DZ2s4Y0dGMGFDQmtQU0pOTVM0MU55d3hNQzQ0TlRkMkxUQXVOVGt5YURrdU1EYzNkakF1TlRreVNERXVOVGQ2SWk4K0RRbzhMMmMrRFFvOEwzTjJaejROQ2c9PVwiIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IGpzeCB9IGZyb20gJ2ppbXUtY29yZSc7XHJcbmltcG9ydCB7IExhYmVsLCBOdW1lcmljSW5wdXQsIFNlbGVjdCwgT3B0aW9uLCBCdXR0b24gfSBmcm9tICdqaW11LXVpJztcclxuaW1wb3J0IHsgQ29sbGFwc2FibGVDaGVja2JveCB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvc2V0dGluZy1jb21wb25lbnRzJztcclxuaW1wb3J0IEdyYXBoaWNzTGF5ZXIgZnJvbSAnZXNyaS9sYXllcnMvR3JhcGhpY3NMYXllcic7XHJcbmltcG9ydCBHcmFwaGljIGZyb20gJ2VzcmkvR3JhcGhpYyc7XHJcbmltcG9ydCBnZW9tZXRyeUVuZ2luZUFzeW5jIGZyb20gJ2VzcmkvZ2VvbWV0cnkvZ2VvbWV0cnlFbmdpbmVBc3luYyc7XHJcbmltcG9ydCBTaW1wbGVGaWxsU3ltYm9sIGZyb20gJ0BhcmNnaXMvY29yZS9zeW1ib2xzL1NpbXBsZUZpbGxTeW1ib2wnO1xyXG5pbXBvcnQgU2ltcGxlTGluZVN5bWJvbCBmcm9tICdAYXJjZ2lzL2NvcmUvc3ltYm9scy9TaW1wbGVMaW5lU3ltYm9sJztcclxuaW1wb3J0IENvbG9yIGZyb20gJ0BhcmNnaXMvY29yZS9Db2xvcic7XHJcblxyXG5pbnRlcmZhY2UgRXh0ZW5kZWRHcmFwaGljIGV4dGVuZHMgX19lc3JpLkdyYXBoaWMge1xyXG4gICAgaXNCdWZmZXJEcmF3aW5nPzogYm9vbGVhbjtcclxuICAgIHNvdXJjZUdyYXBoaWNJZD86IHN0cmluZztcclxuICAgIGJ1ZmZlckdyYXBoaWM/OiBFeHRlbmRlZEdyYXBoaWMgfCBudWxsO1xyXG4gICAgYnVmZmVyU2V0dGluZ3M/OiB7XHJcbiAgICAgICAgZGlzdGFuY2U6IG51bWJlcjtcclxuICAgICAgICB1bml0OiBzdHJpbmc7XHJcbiAgICAgICAgZW5hYmxlZDogYm9vbGVhbjtcclxuICAgICAgICBvcGFjaXR5PzogbnVtYmVyO1xyXG4gICAgfSB8IG51bGw7XHJcbn1cclxuXHJcbmludGVyZmFjZSBCdWZmZXJDb250cm9sc1Byb3BzIHtcclxuICAgIGppbXVNYXBWaWV3OiBhbnk7XHJcbiAgICBza2V0Y2hWaWV3TW9kZWw6IF9fZXNyaS5Ta2V0Y2hWaWV3TW9kZWw7XHJcbn1cclxuXHJcbmNvbnN0IGFzRXh0ZW5kZWQgPSAoZzogX19lc3JpLkdyYXBoaWMpID0+IGcgYXMgRXh0ZW5kZWRHcmFwaGljO1xyXG5cclxuZXhwb3J0IGNvbnN0IEJ1ZmZlckNvbnRyb2xzOiBSZWFjdC5GQzxCdWZmZXJDb250cm9sc1Byb3BzPiA9ICh7IGppbXVNYXBWaWV3LCBza2V0Y2hWaWV3TW9kZWwgfSkgPT4ge1xyXG4gICAgLy8gT0ZGIGJ5IGRlZmF1bHRcclxuICAgIGNvbnN0IFtidWZmZXJFbmFibGVkLCBzZXRCdWZmZXJFbmFibGVkXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcclxuICAgIGNvbnN0IFtidWZmZXJEaXN0YW5jZSwgc2V0QnVmZmVyRGlzdGFuY2VdID0gdXNlU3RhdGU8bnVtYmVyPigxMDApO1xyXG4gICAgY29uc3QgW2J1ZmZlclVuaXQsIHNldEJ1ZmZlclVuaXRdID0gdXNlU3RhdGU8c3RyaW5nPignZmVldCcpO1xyXG4gICAgY29uc3QgW2J1ZmZlck9wYWNpdHksIHNldEJ1ZmZlck9wYWNpdHldID0gdXNlU3RhdGU8bnVtYmVyPig3NSk7XHJcblxyXG4gICAgY29uc3QgZ2VvbWV0cnlXYXRjaGVycyA9IHVzZVJlZjxNYXA8c3RyaW5nLCBfX2VzcmkuV2F0Y2hIYW5kbGU+PihuZXcgTWFwKCkpO1xyXG5cclxuICAgIC8vIC0tLSBwZXJzaXN0ZW5jZSAtLS1cclxuICAgIGNvbnN0IHNhdmVTZXR0aW5ncyA9IHVzZUNhbGxiYWNrKChwYXJ0aWFsPzogeyBlbmFibGVkPzogYm9vbGVhbjsgZGlzdGFuY2U/OiBudW1iZXI7IHVuaXQ/OiBzdHJpbmc7IG9wYWNpdHk/OiBudW1iZXIgfSkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvU2F2ZSA9IHtcclxuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGJ1ZmZlckVuYWJsZWQsXHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogYnVmZmVyRGlzdGFuY2UsXHJcbiAgICAgICAgICAgICAgICB1bml0OiBidWZmZXJVbml0LFxyXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogYnVmZmVyT3BhY2l0eSxcclxuICAgICAgICAgICAgICAgIC4uLnBhcnRpYWxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2J1ZmZlckNvbnRyb2xTZXR0aW5ncycsIEpTT04uc3RyaW5naWZ5KHRvU2F2ZSkpO1xyXG4gICAgICAgIH0gY2F0Y2ggeyAvKiBuby1vcCAqLyB9XHJcbiAgICB9LCBbYnVmZmVyRW5hYmxlZCwgYnVmZmVyRGlzdGFuY2UsIGJ1ZmZlclVuaXQsIGJ1ZmZlck9wYWNpdHldKTtcclxuXHJcbiAgICBjb25zdCBsb2FkU2V0dGluZ3MgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2J1ZmZlckNvbnRyb2xTZXR0aW5ncycpO1xyXG4gICAgICAgICAgICBpZiAoIXJhdykgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHJhdyk7XHJcblxyXG4gICAgICAgICAgICAvLyBBbHdheXMgc3RhcnQgd2l0aCBidWZmZXJzIGRpc2FibGVkLCByZWdhcmRsZXNzIG9mIHNhdmVkIHN0YXRlXHJcbiAgICAgICAgICAgIC8vIGlmICh0eXBlb2YgcGFyc2VkLmVuYWJsZWQgPT09ICdib29sZWFuJykgc2V0QnVmZmVyRW5hYmxlZChwYXJzZWQuZW5hYmxlZCk7IC8vIFJFTU9WRURcclxuXHJcbiAgICAgICAgICAgIC8vIExvYWQgb3RoZXIgdXNlciBwcmVmZXJlbmNlc1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcnNlZC5kaXN0YW5jZSA9PT0gJ251bWJlcicpIHNldEJ1ZmZlckRpc3RhbmNlKHBhcnNlZC5kaXN0YW5jZSk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyc2VkLnVuaXQgPT09ICdzdHJpbmcnKSBzZXRCdWZmZXJVbml0KHBhcnNlZC51bml0KTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJzZWQub3BhY2l0eSA9PT0gJ251bWJlcicpIHNldEJ1ZmZlck9wYWNpdHkocGFyc2VkLm9wYWNpdHkpO1xyXG4gICAgICAgIH0gY2F0Y2ggeyAvKiBuby1vcCAqLyB9XHJcbiAgICB9LCBbXSk7XHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHsgbG9hZFNldHRpbmdzKCk7IH0sIFtsb2FkU2V0dGluZ3NdKTtcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7IHNhdmVTZXR0aW5ncygpOyB9LCBbYnVmZmVyRW5hYmxlZCwgc2F2ZVNldHRpbmdzXSk7XHJcblxyXG4gICAgLy8gY2xlYW51cFxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBnZW9tZXRyeVdhdGNoZXJzLmN1cnJlbnQuZm9yRWFjaCh3ID0+IHsgdHJ5IHsgdy5yZW1vdmUoKTsgfSBjYXRjaCB7IH0gfSk7XHJcbiAgICAgICAgICAgIGdlb21ldHJ5V2F0Y2hlcnMuY3VycmVudC5jbGVhcigpO1xyXG4gICAgICAgIH07XHJcbiAgICB9LCBbXSk7XHJcblxyXG4gICAgLy8gLS0tIGhlbHBlcnMgLS0tXHJcbiAgICBjb25zdCBnZXREcmF3TGF5ZXIgPSB1c2VDYWxsYmFjaygoKTogR3JhcGhpY3NMYXllciB8IG51bGwgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZpZXcgPSBqaW11TWFwVmlldz8udmlldztcclxuICAgICAgICBpZiAoIXZpZXcpIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiB2aWV3Lm1hcC5maW5kTGF5ZXJCeUlkKCdEcmF3R0wnKSBhcyBHcmFwaGljc0xheWVyO1xyXG4gICAgfSwgW2ppbXVNYXBWaWV3XSk7XHJcblxyXG4gICAgY29uc3QgY29sb3JUb0FycmF5ID0gKGM6IGFueSk6IG51bWJlcltdID0+IHtcclxuICAgICAgICBpZiAoIWMpIHJldHVybiBbMCwgMCwgMCwgMV07XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYykpIHJldHVybiBjLmxlbmd0aCA+PSAzID8gYyA6IFswLCAwLCAwLCAxXTtcclxuICAgICAgICBpZiAodHlwZW9mIGMgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgaWYgKCdyJyBpbiBjICYmICdnJyBpbiBjICYmICdiJyBpbiBjKSByZXR1cm4gW2MuciA/PyAwLCBjLmcgPz8gMCwgYy5iID8/IDAsIGMuYSA/PyAxXTtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGMudG9SZ2JhID09PSAnZnVuY3Rpb24nKSB7IHRyeSB7IHJldHVybiBjLnRvUmdiYSgpOyB9IGNhdGNoIHsgcmV0dXJuIFswLCAwLCAwLCAxXTsgfSB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbMCwgMCwgMCwgMV07XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGdldFNlbGVjdGVkTWFpbkdyYXBoaWNzID0gdXNlQ2FsbGJhY2soKCk6IEV4dGVuZGVkR3JhcGhpY1tdID0+IHtcclxuICAgICAgICBjb25zdCBhcnIgPSBza2V0Y2hWaWV3TW9kZWw/LnVwZGF0ZUdyYXBoaWNzPy50b0FycmF5Py4oKSA/PyBbXTtcclxuICAgICAgICByZXR1cm4gYXJyLmZpbHRlcigoZzogX19lc3JpLkdyYXBoaWMpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYSA9IGcuYXR0cmlidXRlcyB8fCB7fTtcclxuICAgICAgICAgICAgaWYgKGEuaXNCdWZmZXIgfHwgYS5pc01lYXN1cmVtZW50TGFiZWwgfHwgYS5oaWRlRnJvbUxpc3QpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKGcuZ2VvbWV0cnk/LnR5cGUgPT09ICdwb2ludCcgJiYgZy5zeW1ib2w/LnR5cGUgPT09ICd0ZXh0JyAmJiBhLmlzTWVhc3VyZW1lbnRMYWJlbCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9KSBhcyBFeHRlbmRlZEdyYXBoaWNbXTtcclxuICAgIH0sIFtza2V0Y2hWaWV3TW9kZWxdKTtcclxuXHJcbiAgICAvLyAtLS0gZ2VvbWV0cnkvc3ltYm9sIC0tLVxyXG4gICAgY29uc3QgY3JlYXRlQnVmZmVyR2VvbWV0cnkgPSBhc3luYyAoZ2VvbWV0cnk6IF9fZXNyaS5HZW9tZXRyeSwgZGlzdGFuY2U6IG51bWJlciwgdW5pdDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdmlldyA9IGppbXVNYXBWaWV3Py52aWV3O1xyXG4gICAgICAgICAgICBpZiAoIXZpZXcpIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICBjb25zdCBnZSA9IGF3YWl0IGdlb21ldHJ5RW5naW5lQXN5bmM7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmVhclVuaXQgPSB1bml0IGFzIF9fZXNyaS5MaW5lYXJVbml0cztcclxuICAgICAgICAgICAgY29uc3QgcmVzID0gKHZpZXcuc3BhdGlhbFJlZmVyZW5jZT8uaXNHZW9ncmFwaGljIHx8IHZpZXcuc3BhdGlhbFJlZmVyZW5jZT8uaXNXZWJNZXJjYXRvcilcclxuICAgICAgICAgICAgICAgID8gYXdhaXQgZ2UuZ2VvZGVzaWNCdWZmZXIoZ2VvbWV0cnkgYXMgYW55LCBkaXN0YW5jZSwgbGluZWFyVW5pdClcclxuICAgICAgICAgICAgICAgIDogYXdhaXQgZ2UuYnVmZmVyKGdlb21ldHJ5IGFzIGFueSwgZGlzdGFuY2UsIGxpbmVhclVuaXQsIHRydWUpO1xyXG4gICAgICAgICAgICBpZiAoIXJlcykgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHJlcykgPyAocmVzWzBdID8/IG51bGwpIDogcmVzO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQnVmZmVyIGdlb21ldHJ5IGVycm9yJywgZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgbWFrZUJ1ZmZlclN5bWJvbCA9IChwYXJlbnQ6IEV4dGVuZGVkR3JhcGhpYyk6IFNpbXBsZUZpbGxTeW1ib2wgPT4ge1xyXG4gICAgICAgIGNvbnN0IG9wID0gKChwYXJlbnQuYnVmZmVyU2V0dGluZ3M/Lm9wYWNpdHkgPz8gYnVmZmVyT3BhY2l0eSkgLyAxMDApO1xyXG4gICAgICAgIGNvbnN0IGdUeXBlID0gcGFyZW50Lmdlb21ldHJ5Py50eXBlO1xyXG5cclxuICAgICAgICBsZXQgZmlsbCA9IG5ldyBDb2xvcihbMCwgMTIyLCAxOTQsIDAuMyAqIG9wXSk7XHJcbiAgICAgICAgbGV0IG91dCA9IG5ldyBDb2xvcihbMCwgMTIyLCAxOTQsIDEuMCAqIG9wXSk7XHJcbiAgICAgICAgbGV0IHdpZHRoID0gMi41O1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZ1R5cGUgPT09ICdwb2x5Z29uJyAmJiBwYXJlbnQuc3ltYm9sPy50eXBlID09PSAnc2ltcGxlLWZpbGwnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gcGFyZW50LnN5bWJvbCBhcyBfX2VzcmkuU2ltcGxlRmlsbFN5bWJvbDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZjID0gY29sb3JUb0FycmF5KHMuY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgZmlsbCA9IG5ldyBDb2xvcihbZmNbMF0sIGZjWzFdLCBmY1syXSwgKGZjWzNdID8/IDEpICogb3BdKTtcclxuICAgICAgICAgICAgICAgIGlmIChzLm91dGxpbmU/LmNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2MgPSBjb2xvclRvQXJyYXkocy5vdXRsaW5lLmNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICBvdXQgPSBuZXcgQ29sb3IoW29jWzBdLCBvY1sxXSwgb2NbMl0sIChvY1szXSA/PyAxKSAqIG9wXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocy5vdXRsaW5lPy53aWR0aCkgd2lkdGggPSBNYXRoLm1heChzLm91dGxpbmUud2lkdGggKiAxLjIsIDIuMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZ1R5cGUgPT09ICdwb2x5bGluZScgJiYgcGFyZW50LnN5bWJvbD8udHlwZSA9PT0gJ3NpbXBsZS1saW5lJykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbCA9IHBhcmVudC5zeW1ib2wgYXMgX19lc3JpLlNpbXBsZUxpbmVTeW1ib2w7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYyA9IGNvbG9yVG9BcnJheShsLmNvbG9yKTtcclxuICAgICAgICAgICAgICAgIGZpbGwgPSBuZXcgQ29sb3IoW2xjWzBdLCBsY1sxXSwgbGNbMl0sIChsY1szXSA/PyAxKSAqIDAuNiAqIG9wXSk7XHJcbiAgICAgICAgICAgICAgICBvdXQgPSBuZXcgQ29sb3IoW2xjWzBdLCBsY1sxXSwgbGNbMl0sIChsY1szXSA/PyAxKSAqIG9wXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobC53aWR0aCkgd2lkdGggPSBNYXRoLm1heChsLndpZHRoICogMS4yLCAyLjApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGdUeXBlID09PSAncG9pbnQnICYmIHBhcmVudC5zeW1ib2w/LnR5cGUgPT09ICdzaW1wbGUtbWFya2VyJykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbSA9IHBhcmVudC5zeW1ib2wgYXMgX19lc3JpLlNpbXBsZU1hcmtlclN5bWJvbDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1jID0gY29sb3JUb0FycmF5KG0uY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgZmlsbCA9IG5ldyBDb2xvcihbbWNbMF0sIG1jWzFdLCBtY1syXSwgKG1jWzNdID8/IDEpICogMC42ICogb3BdKTtcclxuICAgICAgICAgICAgICAgIG91dCA9IG5ldyBDb2xvcihbbWNbMF0sIG1jWzFdLCBtY1syXSwgKG1jWzNdID8/IDEpICogb3BdKTtcclxuICAgICAgICAgICAgICAgIGlmIChtLm91dGxpbmU/LndpZHRoKSB3aWR0aCA9IE1hdGgubWF4KG0ub3V0bGluZS53aWR0aCAqIDEuMiwgMi41KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggeyAvKiBkZWZhdWx0cyAqLyB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgU2ltcGxlRmlsbFN5bWJvbCh7XHJcbiAgICAgICAgICAgIGNvbG9yOiBmaWxsLFxyXG4gICAgICAgICAgICBvdXRsaW5lOiBuZXcgU2ltcGxlTGluZVN5bWJvbCh7IGNvbG9yOiBvdXQsIHdpZHRoLCBzdHlsZTogJ2Rhc2gnIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGVuc3VyZVdhdGNoZXIgPSAocGFyZW50OiBFeHRlbmRlZEdyYXBoaWMpID0+IHtcclxuICAgICAgICBjb25zdCBpZCA9IHBhcmVudC5hdHRyaWJ1dGVzPy51bmlxdWVJZDtcclxuICAgICAgICBpZiAoIWlkKSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBnZW9tZXRyeVdhdGNoZXJzLmN1cnJlbnQuZ2V0KGlkKTtcclxuICAgICAgICBpZiAoZXhpc3RpbmcpIHsgdHJ5IHsgZXhpc3RpbmcucmVtb3ZlKCk7IH0gY2F0Y2ggeyB9IH1cclxuICAgICAgICBjb25zdCBoID0gcGFyZW50LndhdGNoKCdnZW9tZXRyeScsICgpID0+IHVwZGF0ZUF0dGFjaGVkQnVmZmVyKHBhcmVudCkpO1xyXG4gICAgICAgIGdlb21ldHJ5V2F0Y2hlcnMuY3VycmVudC5zZXQoaWQsIGgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVBdHRhY2hlZEJ1ZmZlciA9IGFzeW5jIChwYXJlbnQ6IEV4dGVuZGVkR3JhcGhpYykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxheWVyID0gZ2V0RHJhd0xheWVyKCk7XHJcbiAgICAgICAgaWYgKCFsYXllciB8fCAhcGFyZW50LmJ1ZmZlckdyYXBoaWMgfHwgIXBhcmVudC5idWZmZXJTZXR0aW5ncykgcmV0dXJuO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdlb20gPSBhd2FpdCBjcmVhdGVCdWZmZXJHZW9tZXRyeShwYXJlbnQuZ2VvbWV0cnksIHBhcmVudC5idWZmZXJTZXR0aW5ncy5kaXN0YW5jZSwgcGFyZW50LmJ1ZmZlclNldHRpbmdzLnVuaXQpO1xyXG4gICAgICAgICAgICBpZiAoIWdlb20pIHJldHVybjtcclxuICAgICAgICAgICAgY29uc3QgYnVmID0gcGFyZW50LmJ1ZmZlckdyYXBoaWM7XHJcbiAgICAgICAgICAgIGxheWVyLnJlbW92ZShidWYpO1xyXG4gICAgICAgICAgICBidWYuZ2VvbWV0cnkgPSBnZW9tO1xyXG4gICAgICAgICAgICBidWYuc3ltYm9sID0gbWFrZUJ1ZmZlclN5bWJvbChwYXJlbnQpO1xyXG4gICAgICAgICAgICBjb25zdCBpZHggPSBsYXllci5ncmFwaGljcy5pbmRleE9mKHBhcmVudCk7XHJcbiAgICAgICAgICAgIGlmIChpZHggPj0gMCkgbGF5ZXIuZ3JhcGhpY3MuYWRkKGJ1ZiwgaWR4KTtcclxuICAgICAgICAgICAgZWxzZSBsYXllci5hZGQoYnVmKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VwZGF0ZSBidWZmZXIgZXJyb3InLCBlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGNyZWF0ZU9yVXBkYXRlQnVmZmVyRm9yID0gYXN5bmMgKHBhcmVudDogRXh0ZW5kZWRHcmFwaGljLCBkaXN0YW5jZTogbnVtYmVyLCB1bml0OiBzdHJpbmcpID0+IHtcclxuICAgICAgICBjb25zdCBsYXllciA9IGdldERyYXdMYXllcigpO1xyXG4gICAgICAgIGlmICghbGF5ZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgaWQgPSBwYXJlbnQuYXR0cmlidXRlcz8udW5pcXVlSWQ7XHJcbiAgICAgICAgaWYgKCFpZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBhID0gcGFyZW50LmF0dHJpYnV0ZXMgfHwge307XHJcbiAgICAgICAgaWYgKGEuaXNCdWZmZXIgfHwgYS5pc01lYXN1cmVtZW50TGFiZWwgfHwgYS5oaWRlRnJvbUxpc3QpIHJldHVybjtcclxuICAgICAgICBpZiAocGFyZW50Lmdlb21ldHJ5Py50eXBlID09PSAncG9pbnQnICYmIHBhcmVudC5zeW1ib2w/LnR5cGUgPT09ICd0ZXh0JykgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAocGFyZW50LmJ1ZmZlckdyYXBoaWMpIHtcclxuICAgICAgICAgICAgdHJ5IHsgbGF5ZXIucmVtb3ZlKHBhcmVudC5idWZmZXJHcmFwaGljKTsgfSBjYXRjaCB7IH1cclxuICAgICAgICAgICAgcGFyZW50LmJ1ZmZlckdyYXBoaWMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZ2VvbSA9IGF3YWl0IGNyZWF0ZUJ1ZmZlckdlb21ldHJ5KHBhcmVudC5nZW9tZXRyeSwgZGlzdGFuY2UsIHVuaXQpO1xyXG4gICAgICAgIGlmICghZ2VvbSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBwYXJlbnQuYnVmZmVyU2V0dGluZ3MgPSB7IGRpc3RhbmNlLCB1bml0LCBlbmFibGVkOiB0cnVlLCBvcGFjaXR5OiBidWZmZXJPcGFjaXR5IH07XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1ZiA9IG5ldyBHcmFwaGljKHtcclxuICAgICAgICAgICAgZ2VvbWV0cnk6IGdlb20sXHJcbiAgICAgICAgICAgIHN5bWJvbDogbWFrZUJ1ZmZlclN5bWJvbChwYXJlbnQpLFxyXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XHJcbiAgICAgICAgICAgICAgICB1bmlxdWVJZDogYGJ1ZmZlcl8ke2lkfV8ke0RhdGUubm93KCl9YCxcclxuICAgICAgICAgICAgICAgIG5hbWU6IGAke2EubmFtZSA/PyAnRHJhd2luZyd9IEJ1ZmZlcmAsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnRJZDogaWQsXHJcbiAgICAgICAgICAgICAgICBpc0J1ZmZlcjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGhpZGVGcm9tTGlzdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGlzTWVhc3VyZW1lbnRMYWJlbDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBidWZmZXJEaXN0YW5jZTogZGlzdGFuY2UsXHJcbiAgICAgICAgICAgICAgICBidWZmZXJVbml0OiB1bml0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSBhcyBFeHRlbmRlZEdyYXBoaWM7XHJcblxyXG4gICAgICAgIGJ1Zi5pc0J1ZmZlckRyYXdpbmcgPSB0cnVlO1xyXG4gICAgICAgIGJ1Zi5zb3VyY2VHcmFwaGljSWQgPSBpZDtcclxuICAgICAgICBwYXJlbnQuYnVmZmVyR3JhcGhpYyA9IGJ1ZjtcclxuXHJcbiAgICAgICAgY29uc3QgaWR4ID0gbGF5ZXIuZ3JhcGhpY3MuaW5kZXhPZihwYXJlbnQpO1xyXG4gICAgICAgIGlmIChpZHggPj0gMCkgbGF5ZXIuZ3JhcGhpY3MuYWRkKGJ1ZiwgaWR4KTtcclxuICAgICAgICBlbHNlIGxheWVyLmFkZChidWYpO1xyXG5cclxuICAgICAgICBlbnN1cmVXYXRjaGVyKHBhcmVudCk7XHJcbiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdzYXZlRHJhd2luZ3NUb1N0b3JhZ2UnLCB7IGRldGFpbDogeyB0czogRGF0ZS5ub3coKSB9IH0pKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgcmVtb3ZlQnVmZmVyRm9yID0gKHBhcmVudDogRXh0ZW5kZWRHcmFwaGljKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBnZXREcmF3TGF5ZXIoKTtcclxuICAgICAgICBpZiAoIWxheWVyKSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgaWQgPSBwYXJlbnQuYXR0cmlidXRlcz8udW5pcXVlSWQ7XHJcbiAgICAgICAgaWYgKCFpZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAocGFyZW50LmJ1ZmZlckdyYXBoaWMpIHtcclxuICAgICAgICAgICAgdHJ5IHsgbGF5ZXIucmVtb3ZlKHBhcmVudC5idWZmZXJHcmFwaGljKTsgfSBjYXRjaCB7IH1cclxuICAgICAgICAgICAgcGFyZW50LmJ1ZmZlckdyYXBoaWMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYXJlbnQuYnVmZmVyU2V0dGluZ3MgPSBudWxsO1xyXG5cclxuICAgICAgICBjb25zdCB3ID0gZ2VvbWV0cnlXYXRjaGVycy5jdXJyZW50LmdldChpZCk7XHJcbiAgICAgICAgaWYgKHcpIHsgdHJ5IHsgdy5yZW1vdmUoKTsgfSBjYXRjaCB7IH0gZ2VvbWV0cnlXYXRjaGVycy5jdXJyZW50LmRlbGV0ZShpZCk7IH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgdHJpZ2dlclNhdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdzYXZlRHJhd2luZ3NUb1N0b3JhZ2UnLCB7IGRldGFpbDogeyB0czogRGF0ZS5ub3coKSB9IH0pKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gYXV0by1jcmVhdGUgYnVmZmVyIG9uIG5ldyBkcmF3aW5ncyB3aGVuIGVuYWJsZWRcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFza2V0Y2hWaWV3TW9kZWwpIHJldHVybjtcclxuICAgICAgICBjb25zdCBoYW5kbGUgPSBza2V0Y2hWaWV3TW9kZWwub24oJ2NyZWF0ZScsIChldnQ6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZ0Py5zdGF0ZSA9PT0gJ2NvbXBsZXRlJyAmJiBidWZmZXJFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBnID0gYXNFeHRlbmRlZChldnQuZ3JhcGhpYyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZz8uZ2VvbWV0cnkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGNyZWF0ZU9yVXBkYXRlQnVmZmVyRm9yKGcsIGJ1ZmZlckRpc3RhbmNlLCBidWZmZXJVbml0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJTYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgY29uc29sZS5lcnJvcignQXV0byBidWZmZXIgb24gY3JlYXRlIGZhaWxlZCcsIGUpOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7IHRyeSB7IGhhbmRsZS5yZW1vdmUoKTsgfSBjYXRjaCB7IH0gfTtcclxuICAgIH0sIFtza2V0Y2hWaWV3TW9kZWwsIGJ1ZmZlckVuYWJsZWQsIGJ1ZmZlckRpc3RhbmNlLCBidWZmZXJVbml0XSk7XHJcblxyXG4gICAgLy8gLS0tIGJ1dHRvbiBoYW5kbGVycyAoc2VsZWN0ZWQgb25seSkgLS0tXHJcbiAgICBjb25zdCBoYW5kbGVVcGRhdGVCdWZmZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFidWZmZXJFbmFibGVkKSByZXR1cm47XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBnZXRTZWxlY3RlZE1haW5HcmFwaGljcygpO1xyXG4gICAgICAgIGZvciAoY29uc3QgZyBvZiBzZWxlY3RlZCkge1xyXG4gICAgICAgICAgICBpZiAoIWcuYnVmZmVyR3JhcGhpYykgYXdhaXQgY3JlYXRlT3JVcGRhdGVCdWZmZXJGb3IoZywgYnVmZmVyRGlzdGFuY2UsIGJ1ZmZlclVuaXQpO1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChnLmJ1ZmZlclNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZy5idWZmZXJTZXR0aW5ncy5kaXN0YW5jZSA9IGJ1ZmZlckRpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGcuYnVmZmVyU2V0dGluZ3MudW5pdCA9IGJ1ZmZlclVuaXQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVBdHRhY2hlZEJ1ZmZlcihnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzYXZlU2V0dGluZ3MoeyBkaXN0YW5jZTogYnVmZmVyRGlzdGFuY2UsIHVuaXQ6IGJ1ZmZlclVuaXQgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZVVwZGF0ZU9wYWNpdHkgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFidWZmZXJFbmFibGVkKSByZXR1cm47XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBnZXRTZWxlY3RlZE1haW5HcmFwaGljcygpO1xyXG4gICAgICAgIHNlbGVjdGVkLmZvckVhY2goZyA9PiB7XHJcbiAgICAgICAgICAgIGlmIChnLmJ1ZmZlclNldHRpbmdzICYmIGcuYnVmZmVyR3JhcGhpYykge1xyXG4gICAgICAgICAgICAgICAgZy5idWZmZXJTZXR0aW5ncy5vcGFjaXR5ID0gYnVmZmVyT3BhY2l0eTtcclxuICAgICAgICAgICAgICAgIGcuYnVmZmVyR3JhcGhpYy5zeW1ib2wgPSBtYWtlQnVmZmVyU3ltYm9sKGcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2F2ZVNldHRpbmdzKHsgb3BhY2l0eTogYnVmZmVyT3BhY2l0eSB9KTtcclxuICAgICAgICB0cmlnZ2VyU2F2ZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVSZW1vdmVCdWZmZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBnZXRTZWxlY3RlZE1haW5HcmFwaGljcygpO1xyXG4gICAgICAgIHNlbGVjdGVkLmZvckVhY2goZyA9PiByZW1vdmVCdWZmZXJGb3IoZykpO1xyXG4gICAgICAgIHRyaWdnZXJTYXZlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIC0tLSBVSSAtLS1cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2RyYXdUb29sYmFyRGl2Jz5cclxuICAgICAgICAgICAgPENvbGxhcHNhYmxlQ2hlY2tib3hcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0ndy0xMDAnXHJcbiAgICAgICAgICAgICAgICBsYWJlbD0nRW5hYmxlIEJ1ZmZlcidcclxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2J1ZmZlckVuYWJsZWR9XHJcbiAgICAgICAgICAgICAgICBvbkNoZWNrZWRDaGFuZ2U9eyh2YWwpID0+IHNldEJ1ZmZlckVuYWJsZWQodmFsKX1cclxuICAgICAgICAgICAgICAgIGRpc2FibGVBY3Rpb25Gb3JVbmNoZWNrZWRcclxuICAgICAgICAgICAgICAgIG9wZW5Gb3JDaGVja1xyXG4gICAgICAgICAgICAgICAgY2xvc2VGb3JVbmNoZWNrXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtbC0zIG15LTEnPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIG1iLTInPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgY2xhc3NOYW1lPSdtci0yIG1iLTAgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlcic+RGlzdGFuY2U6PC9MYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPE51bWVyaWNJbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT0nc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17YnVmZmVyRGlzdGFuY2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHY6IG51bWJlcikgPT4geyBzZXRCdWZmZXJEaXN0YW5jZSh2KTsgc2F2ZVNldHRpbmdzKHsgZGlzdGFuY2U6IHYgfSk7IH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J21yLTInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzgwcHgnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49ezAuMX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA9ezAuMX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT0nc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17YnVmZmVyVW5pdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4geyBjb25zdCB1ID0gKGUudGFyZ2V0IGFzIEhUTUxTZWxlY3RFbGVtZW50KS52YWx1ZTsgc2V0QnVmZmVyVW5pdCh1KTsgc2F2ZVNldHRpbmdzKHsgdW5pdDogdSB9KTsgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiAnMTEwcHgnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9J2ZlZXQnPkZlZXQ8L09wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9J21ldGVycyc+TWV0ZXJzPC9PcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T3B0aW9uIHZhbHVlPSdtaWxlcyc+TWlsZXM8L09wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9J2tpbG9tZXRlcnMnPktpbG9tZXRlcnM8L09wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIG1iLTInPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgY2xhc3NOYW1lPSdtci0yIG1iLTAgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlcic+T3BhY2l0eTo8L0xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8TnVtZXJpY0lucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPSdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtidWZmZXJPcGFjaXR5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2OiBudW1iZXIpID0+IHsgc2V0QnVmZmVyT3BhY2l0eSh2KTsgc2F2ZVNldHRpbmdzKHsgb3BhY2l0eTogdiB9KTsgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nbXItMidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiAnODBweCcgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbj17MX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heD17MTAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD17MX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSd0ZXh0LW11dGVkJz4lPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGdhcC0yIG10LTEnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHNpemU9J3NtJyBvbkNsaWNrPXtoYW5kbGVVcGRhdGVCdWZmZXJ9IGNsYXNzTmFtZT0nZmxleC1maWxsJyBzdHlsZT17eyBtaW5XaWR0aDogMCB9fSB0aXRsZT0nVXBkYXRlIGJ1ZmZlciBnZW9tZXRyeSBmb3Igc2VsZWN0ZWQgZ3JhcGhpY3MnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVXBkYXRlIEJ1ZmZlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBzaXplPSdzbScgb25DbGljaz17aGFuZGxlVXBkYXRlT3BhY2l0eX0gY2xhc3NOYW1lPSdmbGV4LWZpbGwnIHN0eWxlPXt7IG1pbldpZHRoOiAwIH19IHRpdGxlPSdVcGRhdGUgYnVmZmVyIG9wYWNpdHkgZm9yIHNlbGVjdGVkIGdyYXBoaWNzJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVwZGF0ZSBHcmFwaGljXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHNpemU9J3NtJyBvbkNsaWNrPXtoYW5kbGVSZW1vdmVCdWZmZXJ9IGNsYXNzTmFtZT0nZmxleC1maWxsJyBzdHlsZT17eyBtaW5XaWR0aDogMCB9fSB0aXRsZT0nUmVtb3ZlIGJ1ZmZlcnMgZnJvbSBzZWxlY3RlZCBncmFwaGljcyc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZW1vdmUgQnVmZmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvQ29sbGFwc2FibGVDaGVja2JveD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICk7XHJcbn07XHJcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IEJ1dHRvbiwgVGV4dElucHV0LCBOdW1lcmljSW5wdXQsIFN3aXRjaCwgU2xpZGVyLCBMYWJlbCwgQWR2YW5jZWRCdXR0b25Hcm91cCwgU2VsZWN0LCBPcHRpb24sIFBvcHBlciB9IGZyb20gJ2ppbXUtdWknO1xyXG5pbXBvcnQgeyBTeW1ib2xTZWxlY3RvciwgSmltdVN5bWJvbFR5cGUsIEppbXVTeW1ib2wgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL21hcCc7XHJcbmltcG9ydCB7IEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnO1xyXG5pbXBvcnQgR3JhcGhpY3NMYXllciBmcm9tICdlc3JpL2xheWVycy9HcmFwaGljc0xheWVyJztcclxuaW1wb3J0IEdyYXBoaWMgZnJvbSAnZXNyaS9HcmFwaGljJztcclxuaW1wb3J0IFNrZXRjaFZpZXdNb2RlbCBmcm9tICdlc3JpL3dpZGdldHMvU2tldGNoL1NrZXRjaFZpZXdNb2RlbCc7XHJcbmltcG9ydCBTaW1wbGVNYXJrZXJTeW1ib2wgZnJvbSAnZXNyaS9zeW1ib2xzL1NpbXBsZU1hcmtlclN5bWJvbCc7XHJcbmltcG9ydCBTaW1wbGVMaW5lU3ltYm9sIGZyb20gJ2Vzcmkvc3ltYm9scy9TaW1wbGVMaW5lU3ltYm9sJztcclxuaW1wb3J0IFNpbXBsZUZpbGxTeW1ib2wgZnJvbSAnZXNyaS9zeW1ib2xzL1NpbXBsZUZpbGxTeW1ib2wnO1xyXG5pbXBvcnQgVGV4dFN5bWJvbCBmcm9tICdlc3JpL3N5bWJvbHMvVGV4dFN5bWJvbCc7XHJcbmltcG9ydCBDb2xvciBmcm9tICdlc3JpL0NvbG9yJztcclxuaW1wb3J0IEZvbnQgZnJvbSAnZXNyaS9zeW1ib2xzL0ZvbnQnO1xyXG5pbXBvcnQgeyBUaGVtZUNvbnRleHQgfSBmcm9tICdqaW11LXRoZW1lJztcclxuaW1wb3J0IHsgSU1UaGVtZVZhcmlhYmxlcyB9IGZyb20gJ2ppbXUtY29yZSc7XHJcbmltcG9ydCBIaXRUZXN0UmVzdWx0ID0gX19lc3JpLkhpdFRlc3RSZXN1bHQ7XHJcbmltcG9ydCBHcmFwaGljSGl0ID0gX19lc3JpLkdyYXBoaWNIaXQ7XHJcbmltcG9ydCB7IENvbG9yUGlja2VyIH0gZnJvbSAnamltdS11aS9iYXNpYy9jb2xvci1waWNrZXInO1xyXG5pbXBvcnQgZ2VvbWV0cnlFbmdpbmVBc3luYyBmcm9tIFwiZXNyaS9nZW9tZXRyeS9nZW9tZXRyeUVuZ2luZUFzeW5jXCI7XHJcbmltcG9ydCBQb2ludCBmcm9tIFwiZXNyaS9nZW9tZXRyeS9Qb2ludFwiO1xyXG5cclxuLy8gT3B0aW9uYWw6IEltcG9ydCBpY29ucyBmb3IgdGV4dCBhbGlnbm1lbnQgaWYgYXZhaWxhYmxlXHJcbmltcG9ydCBoQWxpZ25MZWZ0IGZyb20gJ2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci90ZXh0LWxlZnQuc3ZnJztcclxuaW1wb3J0IGhBbGlnbkNlbnRlciBmcm9tICdqaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvdGV4dC1jZW50ZXIuc3ZnJztcclxuaW1wb3J0IGhBbGlnblJpZ2h0IGZyb20gJ2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci90ZXh0LXJpZ2h0LnN2Zyc7XHJcbmltcG9ydCB2QWxpZ25CYXNlIGZyb20gJy4vYXNzZXRzL3RleHQtYWxpZ24tdi1iYXNlLnN2Zyc7XHJcbmltcG9ydCB2QWxpZ25Ub3AgZnJvbSAnLi9hc3NldHMvdGV4dC1hbGlnbi12LXQuc3ZnJztcclxuaW1wb3J0IHZBbGlnbk1pZCBmcm9tICcuL2Fzc2V0cy90ZXh0LWFsaWduLXYtbS5zdmcnO1xyXG5pbXBvcnQgdkFsaWduQm90IGZyb20gJy4vYXNzZXRzL3RleHQtYWxpZ24tdi1iLnN2Zyc7XHJcbmltcG9ydCBmc0JvbGRJY29uIGZyb20gJy4vYXNzZXRzL2JvbGQuc3ZnJztcclxuaW1wb3J0IGZJdGFsaWNJY29uIGZyb20gJy4vYXNzZXRzL2l0YWxpYy5zdmcnO1xyXG5pbXBvcnQgZlVuZGVybGluZUljb24gZnJvbSAnLi9hc3NldHMvdW5kZXJsaW5lLnN2Zyc7XHJcblxyXG5pbXBvcnQgeyBJbnB1dFVuaXQgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3N0eWxlLXNldHRpbmctY29tcG9uZW50cyc7XHJcbmltcG9ydCB7IEljb24gfSBmcm9tICdqaW11LXVpJztcclxuXHJcbmltcG9ydCB7IFRleHRTdHlsZUVkaXRvciB9IGZyb20gJy4vVGV4dFN0eWxlRWRpdG9yJztcclxuXHJcbmltcG9ydCB7IEFsZXJ0IH0gZnJvbSAnamltdS11aSc7XHJcbmltcG9ydCAqIGFzIHByb2plY3Rpb24gZnJvbSAnZXNyaS9nZW9tZXRyeS9wcm9qZWN0aW9uJztcclxuaW1wb3J0IFNwYXRpYWxSZWZlcmVuY2UgZnJvbSAnZXNyaS9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlJztcclxuXHJcbnR5cGUgRm9udFN0eWxlID0gJ2JvbGQnIHwgJ2l0YWxpYycgfCAndW5kZXJsaW5lJztcclxudHlwZSBIb3Jpem9udGFsQWxpZ24gPSAnbGVmdCcgfCAnY2VudGVyJyB8ICdyaWdodCc7XHJcbnR5cGUgVmVydGljYWxBbGlnbiA9ICdiYXNlbGluZScgfCAndG9wJyB8ICdtaWRkbGUnIHwgJ2JvdHRvbSc7XHJcblxyXG5cclxuaW50ZXJmYWNlIEV4dGVuZGVkR3JhcGhpYyBleHRlbmRzIF9fZXNyaS5HcmFwaGljIHtcclxuICAgIG1lYXN1cmU/OiB7XHJcbiAgICAgICAgZ3JhcGhpYzogRXh0ZW5kZWRHcmFwaGljO1xyXG4gICAgICAgIGFyZWFVbml0Pzogc3RyaW5nO1xyXG4gICAgICAgIGxlbmd0aFVuaXQ/OiBzdHJpbmc7XHJcbiAgICB9O1xyXG4gICAgbWVhc3VyZVBhcmVudD86IEV4dGVuZGVkR3JhcGhpYztcclxuICAgIGNoZWNrZWQ/OiBib29sZWFuO1xyXG4gICAgb3JpZ2luYWxTeW1ib2w/OiBhbnk7XHJcbiAgICBpc0J1ZmZlckRyYXdpbmc/OiBib29sZWFuO1xyXG4gICAgc291cmNlR3JhcGhpY0lkPzogc3RyaW5nO1xyXG4gICAgYnVmZmVyR3JhcGhpYz86IEV4dGVuZGVkR3JhcGhpYzsgLy8gRGlyZWN0IHJlZmVyZW5jZSB0byBhdHRhY2hlZCBidWZmZXJcclxuICAgIF9zZWxlY3Rpb25PdmVybGF5PzogX19lc3JpLkdyYXBoaWMgfCBudWxsO1xyXG4gICAgYnVmZmVyU2V0dGluZ3M/OiB7XHJcbiAgICAgICAgZGlzdGFuY2U6IG51bWJlcjtcclxuICAgICAgICB1bml0OiBzdHJpbmc7XHJcbiAgICAgICAgZW5hYmxlZDogYm9vbGVhbjtcclxuICAgICAgICBvcGFjaXR5PzogbnVtYmVyO1xyXG4gICAgfTtcclxufVxyXG5cclxuY29uc3QgYXNFeHRlbmRlZEdyYXBoaWMgPSAoZ3JhcGhpYzogX19lc3JpLkdyYXBoaWMpOiBFeHRlbmRlZEdyYXBoaWMgPT4ge1xyXG4gICAgcmV0dXJuIGdyYXBoaWMgYXMgRXh0ZW5kZWRHcmFwaGljO1xyXG59O1xyXG5cclxuaW50ZXJmYWNlIE15RHJhd2luZ3NQYW5lbFByb3BzIHtcclxuICAgIGdyYXBoaWNzTGF5ZXI6IEdyYXBoaWNzTGF5ZXI7XHJcbiAgICBqaW11TWFwVmlldzogSmltdU1hcFZpZXc7XHJcbiAgICBhbGxvd0xvY2FsU3RvcmFnZT86IGJvb2xlYW47XHJcbiAgICBsb2NhbFN0b3JhZ2VLZXk/OiBzdHJpbmc7XHJcbiAgICBjb25maXJtT25EZWxldGU/OiBib29sZWFuO1xyXG4gICAgb25EcmF3aW5nU2VsZWN0PzogKGdyYXBoaWM6IF9fZXNyaS5HcmFwaGljLCBpbmRleDogbnVtYmVyKSA9PiB2b2lkO1xyXG4gICAgb25EcmF3aW5nc1VwZGF0ZT86IChncmFwaGljczogX19lc3JpLkdyYXBoaWNbXSkgPT4gdm9pZDtcclxuICAgIHNob3dBbGVydD86IChtZXNzYWdlOiBzdHJpbmcsIHR5cGU6ICdzdWNjZXNzJyB8ICdlcnJvcicgfCAnaW5mbycpID0+IHZvaWQ7XHJcbiAgICBkcmF3aW5ncz86IF9fZXNyaS5HcmFwaGljW107IC8vIE9wdGlvbmFsIHByb3AgdG8gcmVjZWl2ZSBkcmF3aW5ncyBmcm9tIHBhcmVudFxyXG4gICAgaXNBY3RpdmVUYWI6IGJvb2xlYW47XHJcbiAgICBvbk1lYXN1cmVtZW50U3lzdGVtQ29udHJvbD86IChlbmFibGVkOiBib29sZWFuKSA9PiB2b2lkO1xyXG4gICAgb25DbGVhclNlbGVjdGlvbk92ZXJsYXlzPzogKCkgPT4gdm9pZDtcclxufVxyXG5cclxuaW50ZXJmYWNlIE15RHJhd2luZ3NQYW5lbFN0YXRlIHtcclxuICAgIGRyYXdpbmdzOiBFeHRlbmRlZEdyYXBoaWNbXTtcclxuICAgIHNlbGVjdGVkR3JhcGhpY0luZGV4OiBudW1iZXIgfCBudWxsO1xyXG4gICAgc29ydE9wdGlvbjogJ25hbWUnIHwgJ3R5cGUnIHwgJ2NyZWF0ZWQnO1xyXG4gICAgZWRpdGluZ0dyYXBoaWNJbmRleDogbnVtYmVyIHwgbnVsbDtcclxuICAgIGFsZXJ0TWVzc2FnZTogc3RyaW5nO1xyXG4gICAgYWxlcnRUeXBlOiAnc3VjY2VzcycgfCAnZXJyb3InIHwgJ2luZm8nIHwgJ3dhcm5pbmcnO1xyXG4gICAgc2hvd0FsZXJ0OiBib29sZWFuO1xyXG4gICAgY29uc2VudEdyYW50ZWQ6IGJvb2xlYW4gfCBudWxsO1xyXG4gICAgZ3JhcGhpY3NXYXRjaEhhbmRsZTogX19lc3JpLldhdGNoSGFuZGxlIHwgbnVsbDtcclxuXHJcbiAgICAvLyBDb25maXJtIGRpYWxvZ1xyXG4gICAgY29uZmlybURpYWxvZ09wZW46IGJvb2xlYW47XHJcbiAgICBjb25maXJtRGlhbG9nQWN0aW9uOiAoKCkgPT4gdm9pZCkgfCBudWxsO1xyXG4gICAgY29uZmlybURpYWxvZ01lc3NhZ2U6IHN0cmluZztcclxuICAgIGNvbmZpcm1EaWFsb2dUeXBlOiAnZGVsZXRlJyB8ICdjbGVhckFsbCc7XHJcbiAgICBjb25maXJtRGlhbG9nSXRlbUluZGV4OiBudW1iZXIgfCBudWxsO1xyXG5cclxuICAgIC8vIEltcG9ydFxyXG4gICAgaW1wb3J0RGlhbG9nT3BlbjogYm9vbGVhbjtcclxuICAgIGltcG9ydEZpbGU6IEZpbGUgfCBudWxsO1xyXG4gICAgaW1wb3J0RmlsZUNvbnRlbnQ6IHN0cmluZyB8IG51bGw7XHJcblxyXG4gICAgLy8gU2VsZWN0aW9uXHJcbiAgICBzZWxlY3RlZEdyYXBoaWNzOiBTZXQ8bnVtYmVyPjtcclxuICAgIHN5bWJvbEVkaXRpbmdJbmRleDogbnVtYmVyIHwgbnVsbDtcclxuICAgIHNob3dTdG9yYWdlRGlzY2xhaW1lcjogYm9vbGVhbjtcclxuXHJcbiAgICAvLyBUZXh0IGVkaXRvciB2YWx1ZXNcclxuICAgIHRleHRWYWx1ZTogc3RyaW5nO1xyXG5cclxuICAgIC8vIFRleHQgc3ltYm9sIGVkaXRpbmcgcHJvcGVydGllc1xyXG4gICAgZm9udENvbG9yOiBzdHJpbmc7XHJcbiAgICBmb250U2l6ZTogbnVtYmVyO1xyXG4gICAgZm9udEZhbWlseTogc3RyaW5nO1xyXG4gICAgZm9udE9wYWNpdHk6IG51bWJlcjtcclxuICAgIGZvbnRSb3RhdGlvbjogbnVtYmVyO1xyXG5cclxuICAgIC8vIFRleHQgYWxpZ25tZW50XHJcbiAgICBob3Jpem9udGFsQWxpZ25tZW50OiAnbGVmdCcgfCAnY2VudGVyJyB8ICdyaWdodCc7XHJcbiAgICB2ZXJ0aWNhbEFsaWdubWVudDogJ2Jhc2VsaW5lJyB8ICd0b3AnIHwgJ21pZGRsZScgfCAnYm90dG9tJztcclxuXHJcbiAgICAvLyBCdXR0b24gYWN0aXZlIHN0YXRlc1xyXG4gICAgaEFsaWduTGVmdEFjdGl2ZTogYm9vbGVhbjtcclxuICAgIGhBbGlnbkNlbnRlckFjdGl2ZTogYm9vbGVhbjtcclxuICAgIGhBbGlnblJpZ2h0QWN0aXZlOiBib29sZWFuO1xyXG4gICAgdkFsaWduQmFzZUFjdGl2ZTogYm9vbGVhbjtcclxuICAgIHZBbGlnblRvcEFjdGl2ZTogYm9vbGVhbjtcclxuICAgIHZBbGlnbk1pZEFjdGl2ZTogYm9vbGVhbjtcclxuICAgIHZBbGlnbkJvdEFjdGl2ZTogYm9vbGVhbjtcclxuICAgIGZzQm9sZEFjdGl2ZTogYm9vbGVhbjtcclxuICAgIGZzSXRhbGljQWN0aXZlOiBib29sZWFuO1xyXG4gICAgZnNVbmRlcmxpbmVBY3RpdmU6IGJvb2xlYW47XHJcblxyXG4gICAgLy8gRm9udCBzdHlsZVxyXG4gICAgZm9udFdlaWdodDogc3RyaW5nO1xyXG4gICAgZm9udFN0eWxlOiBzdHJpbmc7XHJcbiAgICBmb250RGVjb3JhdGlvbjogc3RyaW5nO1xyXG4gICAgaXNCb2xkOiBib29sZWFuO1xyXG4gICAgaXNJdGFsaWM6IGJvb2xlYW47XHJcbiAgICBpc1VuZGVybGluZTogYm9vbGVhbjtcclxuXHJcbiAgICAvLyBIYWxvIHByb3BlcnRpZXNcclxuICAgIGZvbnRIYWxvRW5hYmxlZDogYm9vbGVhbjtcclxuICAgIGZvbnRIYWxvQ29sb3I6IHN0cmluZztcclxuICAgIGZvbnRIYWxvU2l6ZTogbnVtYmVyO1xyXG4gICAgZm9udEhhbG9PcGFjaXR5OiBudW1iZXI7XHJcblxyXG4gICAgLy8gVGV4dFN5bWJvbCBvYmplY3QgZm9yIGVkaXRvclxyXG4gICAgY3VycmVudFRleHRTeW1ib2w6IFRleHRTeW1ib2w7XHJcblxyXG4gICAgLy8gUmVzdG9yZSBwcm9tcHRcclxuICAgIHNob3dMb2FkUHJvbXB0OiBib29sZWFuO1xyXG4gICAgaGFzRXhpc3RpbmdEcmF3aW5nczogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE15RHJhd2luZ3NQYW5lbCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8TXlEcmF3aW5nc1BhbmVsUHJvcHMsIE15RHJhd2luZ3NQYW5lbFN0YXRlPiB7XHJcbiAgICBza2V0Y2hWaWV3TW9kZWw6IFNrZXRjaFZpZXdNb2RlbCB8IG51bGwgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBsb2NhbFN0b3JhZ2VLZXk6IHN0cmluZztcclxuICAgIHByaXZhdGUgaXNEZWxldGluZ0dyYXBoaWNzID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGlnbm9yZU5leHRHcmFwaGljc1VwZGF0ZSA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBpbnRlcm5hbFNrZXRjaFZNID0gdHJ1ZTsgLy8gVHJhY2sgaWYgd2UncmUgdXNpbmcgb3VyIG93biBTa2V0Y2hWTSBvciBwYXJlbnQnc1xyXG4gICAgcHJpdmF0ZSBtZWFzdXJlbWVudFN0eWxlc0luaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIF9tYXBDbGlja1N5bmNFbmFibGVkID0gdHJ1ZTtcclxuICAgIHByaXZhdGUgX2RyYXdpbmdNYXA6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIF9yZWZyZXNoRHJhd2luZ3NPcmlnaW5hbDogKCkgPT4gdm9pZDtcclxuICAgIHByaXZhdGUgX2NsZWFuTWVhc3VyZW1lbnRMYWJlbHNIYW5kbGVyOiBfX2VzcmkuV2F0Y2hIYW5kbGUgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgX21lYXN1cmVtZW50U3R5bGVXYXRjaGVyOiBfX2VzcmkuV2F0Y2hIYW5kbGUgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgX3Bvc2l0aW9uV2F0Y2hlcnM6IHsgW2tleTogc3RyaW5nXTogX19lc3JpLldhdGNoSGFuZGxlIH0gPSB7fTtcclxuICAgIHByaXZhdGUgX3NhdmVQb3NpdGlvblRpbWVvdXQ6IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIF9sb2FkQ2hvaWNlTWFkZVRoaXNTZXNzaW9uID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfZHJhd2luZ3NMb2FkQ2hvaWNlVGltZXN0YW1wOiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBfYWZ0ZXJSZWZyZXNoRHJhd2luZ3M6ICgpID0+IHZvaWQgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfZ3JhcGhpY3NXYXRjaEhhbmRsZXM6IF9fZXNyaS5XYXRjaEhhbmRsZVtdID0gW107XHJcbiAgICBwcml2YXRlIF9nb1RvQ29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyIHwgbnVsbCA9IG51bGw7XHJcbiAgICBwcml2YXRlIF9tZWFzdXJlbWVudFdhc0VuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgX29yaWdpbmFsUXVhbGl0eTogc3RyaW5nID0gJ2hpZ2gnO1xyXG4gICAgcHJpdmF0ZSBfaXNJbnRlcmFjdGluZzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBwcm9jZXNzZWRNZWFzdXJlbWVudEdyYXBoaWNzID0gbmV3IFNldDxzdHJpbmc+KClcclxuICAgIHByaXZhdGUgcHJvamVjdEdlb21ldHJ5VG9XR1M4NCA9IGFzeW5jIChnZW9tZXRyeTogX19lc3JpLkdlb21ldHJ5KTogUHJvbWlzZTxfX2VzcmkuR2VvbWV0cnkgfCBudWxsPiA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gRW5zdXJlIHByb2plY3Rpb24gbW9kdWxlIGlzIGxvYWRlZFxyXG4gICAgICAgICAgICBhd2FpdCBwcm9qZWN0aW9uLmxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRhcmdldCBXR1M4NCBzcGF0aWFsIHJlZmVyZW5jZVxyXG4gICAgICAgICAgICBjb25zdCB3Z3M4NFNSID0gbmV3IFNwYXRpYWxSZWZlcmVuY2UoeyB3a2lkOiA0MzI2IH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgYWxyZWFkeSBpbiBXR1M4NCwgcmV0dXJuIGFzLWlzXHJcbiAgICAgICAgICAgIGlmIChnZW9tZXRyeS5zcGF0aWFsUmVmZXJlbmNlICYmIGdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2Uud2tpZCA9PT0gNDMyNikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdlb21ldHJ5O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBQcm9qZWN0IHRoZSBnZW9tZXRyeSB0byBXR1M4NCB3aXRoIHByb3BlciB0eXBlIGNhc3RpbmdcclxuICAgICAgICAgICAgY29uc3QgcHJvamVjdGVkR2VvbWV0cnkgPSBwcm9qZWN0aW9uLnByb2plY3QoZ2VvbWV0cnkgYXMgYW55LCB3Z3M4NFNSKSBhcyBfX2VzcmkuR2VvbWV0cnk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcHJvamVjdGVkR2VvbWV0cnk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJvamVjdGluZyBnZW9tZXRyeSB0byBXR1M4NDonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBwcml2YXRlIGNvbnZlcnRHZW9tZXRyeVRvV0dTODQgPSAoZ2VvbWV0cnk6IF9fZXNyaS5HZW9tZXRyeSk6IF9fZXNyaS5HZW9tZXRyeSB8IG51bGwgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1hcFNSID0gZ2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZTtcclxuXHJcbiAgICAgICAgaWYgKCFtYXBTUikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ05vIHNwYXRpYWwgcmVmZXJlbmNlIGZvdW5kLCBhc3N1bWluZyBXR1M4NCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBhbHJlYWR5IFdHUzg0LCByZXR1cm4gYXMtaXNcclxuICAgICAgICBpZiAobWFwU1Iud2tpZCA9PT0gNDMyNikge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGdlb21ldHJ5LnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3BvaW50JzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IGdlb21ldHJ5IGFzIF9fZXNyaS5Qb2ludDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJ0ZWRDb29yZHMgPSB0aGlzLmNvbnZlcnRDb29yZGluYXRlTWFudWFsbHkocG9pbnQueCwgcG9pbnQueSwgbWFwU1Iud2tpZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwb2ludCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IGNvbnZlcnRlZENvb3Jkcy5sb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IGNvbnZlcnRlZENvb3Jkcy5sYXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogY29udmVydGVkQ29vcmRzLmxvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGU6IGNvbnZlcnRlZENvb3Jkcy5sYXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHsgd2tpZDogNDMyNiB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBhcyBfX2VzcmkuUG9pbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAncG9seWxpbmUnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvbHlsaW5lID0gZ2VvbWV0cnkgYXMgX19lc3JpLlBvbHlsaW5lO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlZFBhdGhzID0gcG9seWxpbmUucGF0aHMubWFwKHBhdGggPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aC5tYXAoY29vcmQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmVydGVkID0gdGhpcy5jb252ZXJ0Q29vcmRpbmF0ZU1hbnVhbGx5KGNvb3JkWzBdLCBjb29yZFsxXSwgbWFwU1Iud2tpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2NvbnZlcnRlZC5sb24sIGNvbnZlcnRlZC5sYXRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwb2x5bGluZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhzOiBjb252ZXJ0ZWRQYXRocyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3BhdGlhbFJlZmVyZW5jZTogeyB3a2lkOiA0MzI2IH1cclxuICAgICAgICAgICAgICAgICAgICB9IGFzIF9fZXNyaS5Qb2x5bGluZTtcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdwb2x5Z29uJzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2x5Z29uID0gZ2VvbWV0cnkgYXMgX19lc3JpLlBvbHlnb247XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmVydGVkUmluZ3MgPSBwb2x5Z29uLnJpbmdzLm1hcChyaW5nID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpbmcubWFwKGNvb3JkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlZCA9IHRoaXMuY29udmVydENvb3JkaW5hdGVNYW51YWxseShjb29yZFswXSwgY29vcmRbMV0sIG1hcFNSLndraWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtjb252ZXJ0ZWQubG9uLCBjb252ZXJ0ZWQubGF0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncG9seWdvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpbmdzOiBjb252ZXJ0ZWRSaW5ncyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3BhdGlhbFJlZmVyZW5jZTogeyB3a2lkOiA0MzI2IH1cclxuICAgICAgICAgICAgICAgICAgICB9IGFzIF9fZXNyaS5Qb2x5Z29uO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ2V4dGVudCc6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXh0ZW50ID0gZ2VvbWV0cnkgYXMgX19lc3JpLkV4dGVudDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdyA9IHRoaXMuY29udmVydENvb3JkaW5hdGVNYW51YWxseShleHRlbnQueG1pbiwgZXh0ZW50LnltaW4sIG1hcFNSLndraWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5lID0gdGhpcy5jb252ZXJ0Q29vcmRpbmF0ZU1hbnVhbGx5KGV4dGVudC54bWF4LCBleHRlbnQueW1heCwgbWFwU1Iud2tpZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdleHRlbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB4bWluOiBzdy5sb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHltaW46IHN3LmxhdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeG1heDogbmUubG9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5bWF4OiBuZS5sYXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHsgd2tpZDogNDMyNiB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBhcyBfX2VzcmkuRXh0ZW50O1xyXG5cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBDYW5ub3QgY29udmVydCBnZW9tZXRyeSB0eXBlOiAke2dlb21ldHJ5LnR5cGV9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBnZW9tZXRyeSBjb252ZXJzaW9uOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBFbmhhbmNlZCBtYW51YWwgY29vcmRpbmF0ZSBjb252ZXJzaW9uIHdpdGggYmV0dGVyIFN0YXRlIFBsYW5lIHN1cHBvcnRcclxuICAgIHByaXZhdGUgY29udmVydENvb3JkaW5hdGVNYW51YWxseSA9ICh4OiBudW1iZXIsIHk6IG51bWJlciwgd2tpZDogbnVtYmVyKTogeyBsb246IG51bWJlcjsgbGF0OiBudW1iZXIgfSA9PiB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhgQ29udmVydGluZyBjb29yZGluYXRlczogJHt4fSwgJHt5fSBmcm9tIFdLSUQ6ICR7d2tpZH1gKTtcclxuXHJcbiAgICAgICAgLy8gV2ViIE1lcmNhdG9yXHJcbiAgICAgICAgaWYgKHdraWQgPT09IDM4NTcgfHwgd2tpZCA9PT0gMTAyMTAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvbiA9ICh4IC8gMjAwMzc1MDguMzQpICogMTgwO1xyXG4gICAgICAgICAgICBjb25zdCBsYXQgPSAoTWF0aC5hdGFuKE1hdGguZXhwKCh5IC8gMjAwMzc1MDguMzQpICogTWF0aC5QSSkpICogMzYwIC8gTWF0aC5QSSkgLSA5MDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgbG9uLCBsYXQgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVUTSB6b25lc1xyXG4gICAgICAgIGlmICh3a2lkID49IDMyNjAxICYmIHdraWQgPD0gMzI2NjApIHtcclxuICAgICAgICAgICAgLy8gVVRNIE5vcnRoXHJcbiAgICAgICAgICAgIGNvbnN0IHpvbmUgPSB3a2lkIC0gMzI2MDA7XHJcbiAgICAgICAgICAgIGNvbnN0IGNlbnRyYWxNZXJpZGlhbiA9ICh6b25lIC0gMSkgKiA2IC0gMTgwICsgMztcclxuICAgICAgICAgICAgY29uc3Qgcm91Z2hMb24gPSBjZW50cmFsTWVyaWRpYW4gKyAoeCAtIDUwMDAwMCkgLyAxMTEzMjA7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvdWdoTGF0ID0geSAvIDExMDU0MDtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGxvbjogTWF0aC5tYXgoLTE4MCwgTWF0aC5taW4oMTgwLCByb3VnaExvbikpLFxyXG4gICAgICAgICAgICAgICAgbGF0OiBNYXRoLm1heCgtOTAsIE1hdGgubWluKDkwLCByb3VnaExhdCkpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAod2tpZCA+PSAzMjcwMSAmJiB3a2lkIDw9IDMyNzYwKSB7XHJcbiAgICAgICAgICAgIC8vIFVUTSBTb3V0aFxyXG4gICAgICAgICAgICBjb25zdCB6b25lID0gd2tpZCAtIDMyNzAwO1xyXG4gICAgICAgICAgICBjb25zdCBjZW50cmFsTWVyaWRpYW4gPSAoem9uZSAtIDEpICogNiAtIDE4MCArIDM7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvdWdoTG9uID0gY2VudHJhbE1lcmlkaWFuICsgKHggLSA1MDAwMDApIC8gMTExMzIwO1xyXG4gICAgICAgICAgICBjb25zdCByb3VnaExhdCA9ICh5IC0gMTAwMDAwMDApIC8gMTEwNTQwO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbG9uOiBNYXRoLm1heCgtMTgwLCBNYXRoLm1pbigxODAsIHJvdWdoTG9uKSksXHJcbiAgICAgICAgICAgICAgICBsYXQ6IE1hdGgubWF4KC05MCwgTWF0aC5taW4oOTAsIHJvdWdoTGF0KSlcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0YXRlIFBsYW5lIENvb3JkaW5hdGUgU3lzdGVtcyAocm91Z2ggYXBwcm94aW1hdGlvbnMgYmFzZWQgb24gV0tJRCByYW5nZXMpXHJcbiAgICAgICAgLy8gVGhlc2UgYXJlIGFwcHJveGltYXRlIGNvbnZlcnNpb25zIC0gZm9yIHByb2R1Y3Rpb24gdXNlLCBwcm9wZXIgcHJvamVjdGlvbiBsaWJyYXJpZXMgd291bGQgYmUgYmV0dGVyXHJcblxyXG4gICAgICAgIC8vIFN0YXRlIFBsYW5lIHpvbmVzIHR5cGljYWxseSBoYXZlIGxhcmdlIGNvb3JkaW5hdGUgdmFsdWVzXHJcbiAgICAgICAgaWYgKHdraWQgPj0gMjAwMSAmJiB3a2lkIDw9IDUwMDApIHtcclxuICAgICAgICAgICAgLy8gTW9zdCBTdGF0ZSBQbGFuZSBjb29yZGluYXRlIHN5c3RlbXNcclxuICAgICAgICAgICAgbGV0IHNjYWxlID0gMTtcclxuICAgICAgICAgICAgbGV0IG9mZnNldFggPSAwO1xyXG4gICAgICAgICAgICBsZXQgb2Zmc2V0WSA9IDA7XHJcblxyXG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgaWYgY29vcmRpbmF0ZXMgYXJlIGluIGZlZXQgb3IgbWV0ZXJzIGJhc2VkIG9uIG1hZ25pdHVkZVxyXG4gICAgICAgICAgICBjb25zdCBpc0ZlZXQgPSBNYXRoLmFicyh4KSA+IDEwMDAwMDAgfHwgTWF0aC5hYnMoeSkgPiAxMDAwMDAwO1xyXG5cclxuICAgICAgICAgICAgaWYgKGlzRmVldCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQ29udmVydCBmZWV0IHRvIG1ldGVycyBmaXJzdFxyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSAwLjMwNDg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFZlcnkgcm91Z2ggY29udmVyc2lvbiAtIHRoaXMgaXMgbm90IGdlb2RldGljYWxseSBhY2N1cmF0ZVxyXG4gICAgICAgICAgICAvLyBidXQgcHJvdmlkZXMgYSBzdGFydGluZyBwb2ludCBmb3IgU3RhdGUgUGxhbmUgY29vcmRpbmF0ZXNcclxuICAgICAgICAgICAgY29uc3QgbWV0ZXJYID0geCAqIHNjYWxlO1xyXG4gICAgICAgICAgICBjb25zdCBtZXRlclkgPSB5ICogc2NhbGU7XHJcblxyXG4gICAgICAgICAgICAvLyBSb3VnaCBhcHByb3hpbWF0aW9uOiBhc3N1bWUgY29vcmRpbmF0ZXMgYXJlIHJlbGF0aXZlIHRvIGEgY2VudHJhbCBwb2ludFxyXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGhpZ2hseSBhcHByb3hpbWF0ZSBhbmQgbG9jYXRpb24tZGVwZW5kZW50XHJcbiAgICAgICAgICAgIGxldCByb3VnaExvbiA9IG1ldGVyWCAvIDExMTMyMDsgLy8gbWV0ZXJzIHBlciBkZWdyZWUgbG9uZ2l0dWRlIGF0IGVxdWF0b3JcclxuICAgICAgICAgICAgbGV0IHJvdWdoTGF0ID0gbWV0ZXJZIC8gMTEwNTQwOyAvLyBtZXRlcnMgcGVyIGRlZ3JlZSBsYXRpdHVkZVxyXG5cclxuICAgICAgICAgICAgLy8gVHJ5IHRvIGRldGVybWluZSBhcHByb3hpbWF0ZSByZWdpb24gYmFzZWQgb24gV0tJRFxyXG4gICAgICAgICAgICBpZiAod2tpZCA+PSAyMDAxICYmIHdraWQgPD0gMjA5OSkge1xyXG4gICAgICAgICAgICAgICAgLy8gTkFEODMgU3RhdGUgUGxhbmUgem9uZXMgLSBnZW5lcmFsbHkgVVNcclxuICAgICAgICAgICAgICAgIHJvdWdoTG9uICs9IC05ODsgLy8gUm91Z2ggY2VudGVyIGxvbmdpdHVkZSBvZiBVU1xyXG4gICAgICAgICAgICAgICAgcm91Z2hMYXQgKz0gMzk7ICAvLyBSb3VnaCBjZW50ZXIgbGF0aXR1ZGUgb2YgVVNcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh3a2lkID49IDMwMDEgJiYgd2tpZCA8PSAzOTk5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBPdGhlciBTdGF0ZSBQbGFuZSBzeXN0ZW1zXHJcbiAgICAgICAgICAgICAgICByb3VnaExvbiArPSAtMTAwO1xyXG4gICAgICAgICAgICAgICAgcm91Z2hMYXQgKz0gNDA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBsb246IE1hdGgubWF4KC0xODAsIE1hdGgubWluKDE4MCwgcm91Z2hMb24pKSxcclxuICAgICAgICAgICAgICAgIGxhdDogTWF0aC5tYXgoLTkwLCBNYXRoLm1pbig5MCwgcm91Z2hMYXQpKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgY29vcmRpbmF0ZXMgbG9vayBsaWtlIHRoZXkgbWlnaHQgYWxyZWFkeSBiZSBnZW9ncmFwaGljXHJcbiAgICAgICAgaWYgKE1hdGguYWJzKHgpIDw9IDE4MCAmJiBNYXRoLmFicyh5KSA8PSA5MCkge1xyXG4gICAgICAgICAgICByZXR1cm4geyBsb246IHgsIGxhdDogeSB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTGFzdCByZXNvcnQ6IHNjYWxlIGRvd24gbGFyZ2UgY29vcmRpbmF0ZXNcclxuICAgICAgICBjb25zdCBzY2FsZUZhY3RvciA9IE1hdGgubWF4KE1hdGguYWJzKHgpLCBNYXRoLmFicyh5KSkgPiAxMDAwMDAwID8gMC4wMDAwMDEgOiAwLjAwMTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBsb246IE1hdGgubWF4KC0xODAsIE1hdGgubWluKDE4MCwgeCAqIHNjYWxlRmFjdG9yKSksXHJcbiAgICAgICAgICAgIGxhdDogTWF0aC5tYXgoLTkwLCBNYXRoLm1pbig5MCwgeSAqIHNjYWxlRmFjdG9yKSlcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIHByb2plY3RHZW9tZXRyeVRvV0dTODRBbHRlcm5hdGl2ZSA9IGFzeW5jIChnZW9tZXRyeTogX19lc3JpLkdlb21ldHJ5KTogUHJvbWlzZTxfX2VzcmkuR2VvbWV0cnkgfCBudWxsPiA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gVGFyZ2V0IFdHUzg0IHNwYXRpYWwgcmVmZXJlbmNlXHJcbiAgICAgICAgICAgIGNvbnN0IHdnczg0U1IgPSBuZXcgU3BhdGlhbFJlZmVyZW5jZSh7IHdraWQ6IDQzMjYgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBhbHJlYWR5IGluIFdHUzg0LCByZXR1cm4gYXMtaXNcclxuICAgICAgICAgICAgaWYgKGdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2UgJiYgZ2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZS53a2lkID09PSA0MzI2KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFRyeSB0byBsb2FkIGFuZCB1c2UgcHJvamVjdGlvbiBtb2R1bGVcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHByb2plY3Rpb24ubG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdGVkR2VvbWV0cnkgPSBwcm9qZWN0aW9uLnByb2plY3QoZ2VvbWV0cnkgYXMgYW55LCB3Z3M4NFNSKSBhcyBfX2VzcmkuR2VvbWV0cnk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvamVjdGVkR2VvbWV0cnk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKHByb2plY3Rpb25FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdQcm9qZWN0aW9uIG1vZHVsZSBmYWlsZWQsIHVzaW5nIG1hbnVhbCBjb252ZXJzaW9uJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYW51YWxQcm9qZWN0aW9uRmFsbGJhY2soZ2VvbWV0cnkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHByb2plY3RpbmcgZ2VvbWV0cnkgdG8gV0dTODQ6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYW51YWxQcm9qZWN0aW9uRmFsbGJhY2soZ2VvbWV0cnkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gTWFudWFsIHByb2plY3Rpb24gZmFsbGJhY2sgZm9yIGNvbW1vbiBjb29yZGluYXRlIHN5c3RlbXNcclxuICAgIHByaXZhdGUgbWFudWFsUHJvamVjdGlvbkZhbGxiYWNrID0gKGdlb21ldHJ5OiBfX2VzcmkuR2VvbWV0cnkpOiBfX2VzcmkuR2VvbWV0cnkgfCBudWxsID0+IHtcclxuICAgICAgICBjb25zdCBtYXBTUiA9IGdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2U7XHJcblxyXG4gICAgICAgIGlmICghbWFwU1IpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdObyBzcGF0aWFsIHJlZmVyZW5jZSBmb3VuZCwgYXNzdW1pbmcgV0dTODQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGdlb21ldHJ5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgc3dpdGNoIChnZW9tZXRyeS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdwb2ludCc6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBnZW9tZXRyeSBhcyBfX2VzcmkuUG9pbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmVydGVkQ29vcmRzID0gdGhpcy5jb252ZXJ0Q29vcmRpbmF0ZU1hbnVhbGx5KHBvaW50LngsIHBvaW50LnksIG1hcFNSLndraWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBjb252ZXJ0ZWRDb29yZHMubG9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZTogY29udmVydGVkQ29vcmRzLmxhdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3BhdGlhbFJlZmVyZW5jZTogeyB3a2lkOiA0MzI2IH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdwb2x5bGluZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9seWxpbmUgPSBnZW9tZXRyeSBhcyBfX2VzcmkuUG9seWxpbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmVydGVkUGF0aHMgPSBwb2x5bGluZS5wYXRocy5tYXAocGF0aCA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoLm1hcChjb29yZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJ0ZWQgPSB0aGlzLmNvbnZlcnRDb29yZGluYXRlTWFudWFsbHkoY29vcmRbMF0sIGNvb3JkWzFdLCBtYXBTUi53a2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbY29udmVydGVkLmxvbiwgY29udmVydGVkLmxhdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3BvbHlsaW5lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aHM6IGNvbnZlcnRlZFBhdGhzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGF0aWFsUmVmZXJlbmNlOiB7IHdraWQ6IDQzMjYgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gYXMgX19lc3JpLlBvbHlsaW5lO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ3BvbHlnb24nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvbHlnb24gPSBnZW9tZXRyeSBhcyBfX2VzcmkuUG9seWdvbjtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJ0ZWRSaW5ncyA9IHBvbHlnb24ucmluZ3MubWFwKHJpbmcgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmluZy5tYXAoY29vcmQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmVydGVkID0gdGhpcy5jb252ZXJ0Q29vcmRpbmF0ZU1hbnVhbGx5KGNvb3JkWzBdLCBjb29yZFsxXSwgbWFwU1Iud2tpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2NvbnZlcnRlZC5sb24sIGNvbnZlcnRlZC5sYXRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwb2x5Z29uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmluZ3M6IGNvbnZlcnRlZFJpbmdzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGF0aWFsUmVmZXJlbmNlOiB7IHdraWQ6IDQzMjYgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gYXMgX19lc3JpLlBvbHlnb247XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZXh0ZW50JzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBleHRlbnQgPSBnZW9tZXRyeSBhcyBfX2VzcmkuRXh0ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN3ID0gdGhpcy5jb252ZXJ0Q29vcmRpbmF0ZU1hbnVhbGx5KGV4dGVudC54bWluLCBleHRlbnQueW1pbiwgbWFwU1Iud2tpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmUgPSB0aGlzLmNvbnZlcnRDb29yZGluYXRlTWFudWFsbHkoZXh0ZW50LnhtYXgsIGV4dGVudC55bWF4LCBtYXBTUi53a2lkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2V4dGVudCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhtaW46IHN3LmxvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgeW1pbjogc3cubGF0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB4bWF4OiBuZS5sb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHltYXg6IG5lLmxhdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3BhdGlhbFJlZmVyZW5jZTogeyB3a2lkOiA0MzI2IH1cclxuICAgICAgICAgICAgICAgICAgICB9IGFzIF9fZXNyaS5FeHRlbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYENhbm5vdCBtYW51YWxseSBjb252ZXJ0IGdlb21ldHJ5IHR5cGU6ICR7Z2VvbWV0cnkudHlwZX1gKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIG1hbnVhbCBwcm9qZWN0aW9uIGZhbGxiYWNrOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBVc2UgdGhlIGFsdGVybmF0aXZlIHByb2plY3Rpb24gbWV0aG9kIGluIHlvdXIgY29udmVydFRvU3RhbmRhcmRHZW9KU09OXHJcbiAgICBwcml2YXRlIGNvbnZlcnRUb1N0YW5kYXJkR2VvSlNPTiA9IGFzeW5jIChnZW9tZXRyeTogX19lc3JpLkdlb21ldHJ5KTogUHJvbWlzZTxhbnk+ID0+IHtcclxuICAgICAgICBpZiAoIWdlb21ldHJ5KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignTm8gZ2VvbWV0cnkgcHJvdmlkZWQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnQ29udmVydGluZyBnZW9tZXRyeTonLCB7XHJcbiAgICAgICAgLy8gICB0eXBlOiBnZW9tZXRyeS50eXBlLFxyXG4gICAgICAgIC8vICAgc3BhdGlhbFJlZmVyZW5jZTogZ2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZT8ud2tpZFxyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBVc2UgdGhlIGV4aXN0aW5nIHByb2plY3Rpb24gbWV0aG9kXHJcbiAgICAgICAgICAgIGNvbnN0IHdnczg0R2VvbWV0cnkgPSBhd2FpdCB0aGlzLnByb2plY3RHZW9tZXRyeVRvV0dTODRBbHRlcm5hdGl2ZShnZW9tZXRyeSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXdnczg0R2VvbWV0cnkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGNvbnZlcnQgZ2VvbWV0cnkgdG8gV0dTODQnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBOb3cgY29udmVydCB0byBHZW9KU09OXHJcbiAgICAgICAgICAgIHN3aXRjaCAod2dzODRHZW9tZXRyeS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdwb2ludCc6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB3Z3M4NEdlb21ldHJ5IGFzIF9fZXNyaS5Qb2ludDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb24gPSBwb2ludC5sb25naXR1ZGUgfHwgcG9pbnQueDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXQgPSBwb2ludC5sYXRpdHVkZSB8fCBwb2ludC55O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGBQb2ludCBjb252ZXJ0ZWQgdG86ICR7bG9ufSwgJHtsYXR9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1ZhbGlkQ29vcmRpbmF0ZShsb24sIGxhdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBJbnZhbGlkIHBvaW50IGNvb3JkaW5hdGVzOiAke2xvbn0sICR7bGF0fWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQb2ludCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBbTnVtYmVyKGxvbi50b0ZpeGVkKDgpKSwgTnVtYmVyKGxhdC50b0ZpeGVkKDgpKV1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ3BvbHlsaW5lJzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2x5bGluZSA9IHdnczg0R2VvbWV0cnkgYXMgX19lc3JpLlBvbHlsaW5lO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGF0aCBvZiBwb2x5bGluZS5wYXRocykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJ0ZWRQYXRoID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29vcmQgb2YgcGF0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9uID0gY29vcmRbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXQgPSBjb29yZFsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWRDb29yZGluYXRlKGxvbiwgbGF0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnRlZFBhdGgucHVzaChbTnVtYmVyKGxvbi50b0ZpeGVkKDgpKSwgTnVtYmVyKGxhdC50b0ZpeGVkKDgpKV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb252ZXJ0ZWRQYXRoLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhzLnB1c2goY29udmVydGVkUGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRocy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBwYXRocy5sZW5ndGggPT09IDEgPyAnTGluZVN0cmluZycgOiAnTXVsdGlMaW5lU3RyaW5nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHBhdGhzLmxlbmd0aCA9PT0gMSA/IHBhdGhzWzBdIDogcGF0aHNcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ3BvbHlnb24nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvbHlnb24gPSB3Z3M4NEdlb21ldHJ5IGFzIF9fZXNyaS5Qb2x5Z29uO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJpbmdzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcmluZyBvZiBwb2x5Z29uLnJpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlZFJpbmcgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb29yZCBvZiByaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb24gPSBjb29yZFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhdCA9IGNvb3JkWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNWYWxpZENvb3JkaW5hdGUobG9uLCBsYXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmVydGVkUmluZy5wdXNoKFtOdW1iZXIobG9uLnRvRml4ZWQoOCkpLCBOdW1iZXIobGF0LnRvRml4ZWQoOCkpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnZlcnRlZFJpbmcubGVuZ3RoID4gMykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3QgPSBjb252ZXJ0ZWRSaW5nWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdCA9IGNvbnZlcnRlZFJpbmdbY29udmVydGVkUmluZy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdFswXSAhPT0gbGFzdFswXSB8fCBmaXJzdFsxXSAhPT0gbGFzdFsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnRlZFJpbmcucHVzaChbZmlyc3RbMF0sIGZpcnN0WzFdXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByaW5ncy5wdXNoKGNvbnZlcnRlZFJpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGBQb2x5Z29uIGNvbnZlcnRlZCB3aXRoICR7cmluZ3MubGVuZ3RofSByaW5nc2ApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocmluZ3MubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BvbHlnb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlczogcmluZ3NcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ2V4dGVudCc6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXh0ZW50ID0gd2dzODRHZW9tZXRyeSBhcyBfX2VzcmkuRXh0ZW50O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUG9seWdvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBbW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW051bWJlcihleHRlbnQueG1pbi50b0ZpeGVkKDgpKSwgTnVtYmVyKGV4dGVudC55bWluLnRvRml4ZWQoOCkpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtOdW1iZXIoZXh0ZW50LnhtYXgudG9GaXhlZCg4KSksIE51bWJlcihleHRlbnQueW1pbi50b0ZpeGVkKDgpKV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbTnVtYmVyKGV4dGVudC54bWF4LnRvRml4ZWQoOCkpLCBOdW1iZXIoZXh0ZW50LnltYXgudG9GaXhlZCg4KSldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW051bWJlcihleHRlbnQueG1pbi50b0ZpeGVkKDgpKSwgTnVtYmVyKGV4dGVudC55bWF4LnRvRml4ZWQoOCkpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtOdW1iZXIoZXh0ZW50LnhtaW4udG9GaXhlZCg4KSksIE51bWJlcihleHRlbnQueW1pbi50b0ZpeGVkKDgpKV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXV1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbnN1cHBvcnRlZCBnZW9tZXRyeSB0eXBlOiAke3dnczg0R2VvbWV0cnkudHlwZX1gKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbnZlcnRpbmcgZ2VvbWV0cnk6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgbWFudWFsUHJvamVjdGlvbkZhbGxiYWNrRW5oYW5jZWQgPSAoZ2VvbWV0cnk6IF9fZXNyaS5HZW9tZXRyeSk6IF9fZXNyaS5HZW9tZXRyeSB8IG51bGwgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1hcFNSID0gZ2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZTtcclxuXHJcbiAgICAgICAgaWYgKCFtYXBTUikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ05vIHNwYXRpYWwgcmVmZXJlbmNlIGZvdW5kLCBhc3N1bWluZyBXR1M4NCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKGBFbmhhbmNlZCBtYW51YWwgY29udmVyc2lvbiBmcm9tIFdLSUQ6ICR7bWFwU1Iud2tpZH1gKTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgc3dpdGNoIChnZW9tZXRyeS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdwb2ludCc6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBnZW9tZXRyeSBhcyBfX2VzcmkuUG9pbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmVydGVkQ29vcmRzID0gdGhpcy5jb252ZXJ0Q29vcmRpbmF0ZU1hbnVhbGx5RW5oYW5jZWQocG9pbnQueCwgcG9pbnQueSwgbWFwU1Iud2tpZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGU6IGNvbnZlcnRlZENvb3Jkcy5sb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlOiBjb252ZXJ0ZWRDb29yZHMubGF0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGF0aWFsUmVmZXJlbmNlOiB7IHdraWQ6IDQzMjYgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ3BvbHlsaW5lJzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2x5bGluZSA9IGdlb21ldHJ5IGFzIF9fZXNyaS5Qb2x5bGluZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJ0ZWRQYXRocyA9IHBvbHlsaW5lLnBhdGhzLm1hcChwYXRoID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGgubWFwKGNvb3JkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlZCA9IHRoaXMuY29udmVydENvb3JkaW5hdGVNYW51YWxseUVuaGFuY2VkKGNvb3JkWzBdLCBjb29yZFsxXSwgbWFwU1Iud2tpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2NvbnZlcnRlZC5sb24sIGNvbnZlcnRlZC5sYXRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwb2x5bGluZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhzOiBjb252ZXJ0ZWRQYXRocyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3BhdGlhbFJlZmVyZW5jZTogeyB3a2lkOiA0MzI2IH1cclxuICAgICAgICAgICAgICAgICAgICB9IGFzIF9fZXNyaS5Qb2x5bGluZTtcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdwb2x5Z29uJzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2x5Z29uID0gZ2VvbWV0cnkgYXMgX19lc3JpLlBvbHlnb247XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmVydGVkUmluZ3MgPSBwb2x5Z29uLnJpbmdzLm1hcChyaW5nID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpbmcubWFwKGNvb3JkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlZCA9IHRoaXMuY29udmVydENvb3JkaW5hdGVNYW51YWxseUVuaGFuY2VkKGNvb3JkWzBdLCBjb29yZFsxXSwgbWFwU1Iud2tpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2NvbnZlcnRlZC5sb24sIGNvbnZlcnRlZC5sYXRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwb2x5Z29uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmluZ3M6IGNvbnZlcnRlZFJpbmdzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGF0aWFsUmVmZXJlbmNlOiB7IHdraWQ6IDQzMjYgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gYXMgX19lc3JpLlBvbHlnb247XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZXh0ZW50JzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBleHRlbnQgPSBnZW9tZXRyeSBhcyBfX2VzcmkuRXh0ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN3ID0gdGhpcy5jb252ZXJ0Q29vcmRpbmF0ZU1hbnVhbGx5RW5oYW5jZWQoZXh0ZW50LnhtaW4sIGV4dGVudC55bWluLCBtYXBTUi53a2lkKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZSA9IHRoaXMuY29udmVydENvb3JkaW5hdGVNYW51YWxseUVuaGFuY2VkKGV4dGVudC54bWF4LCBleHRlbnQueW1heCwgbWFwU1Iud2tpZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdleHRlbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB4bWluOiBzdy5sb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHltaW46IHN3LmxhdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeG1heDogbmUubG9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5bWF4OiBuZS5sYXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHsgd2tpZDogNDMyNiB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBhcyBfX2VzcmkuRXh0ZW50O1xyXG5cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBDYW5ub3QgbWFudWFsbHkgY29udmVydCBnZW9tZXRyeSB0eXBlOiAke2dlb21ldHJ5LnR5cGV9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBlbmhhbmNlZCBtYW51YWwgcHJvamVjdGlvbiBmYWxsYmFjazonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBwcml2YXRlIGNvbnZlcnRDb29yZGluYXRlTWFudWFsbHlFbmhhbmNlZCA9ICh4OiBudW1iZXIsIHk6IG51bWJlciwgd2tpZDogbnVtYmVyKTogeyBsb246IG51bWJlcjsgbGF0OiBudW1iZXIgfSA9PiB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhgQ29udmVydGluZyBjb29yZGluYXRlczogJHt4fSwgJHt5fSBmcm9tIFdLSUQ6ICR7d2tpZH1gKTtcclxuXHJcbiAgICAgICAgLy8gV2ViIE1lcmNhdG9yIChtb3N0IGNvbW1vbilcclxuICAgICAgICBpZiAod2tpZCA9PT0gMzg1NyB8fCB3a2lkID09PSAxMDIxMDApIHtcclxuICAgICAgICAgICAgY29uc3QgbG9uID0gKHggLyAyMDAzNzUwOC4zNCkgKiAxODA7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhdCA9IChNYXRoLmF0YW4oTWF0aC5leHAoKHkgLyAyMDAzNzUwOC4zNCkgKiBNYXRoLlBJKSkgKiAzNjAgLyBNYXRoLlBJKSAtIDkwO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbG9uOiBNYXRoLm1heCgtMTgwLCBNYXRoLm1pbigxODAsIGxvbikpLFxyXG4gICAgICAgICAgICAgICAgbGF0OiBNYXRoLm1heCgtOTAsIE1hdGgubWluKDkwLCBsYXQpKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVVRNIHpvbmVzIChOb3J0aGVybiBIZW1pc3BoZXJlKVxyXG4gICAgICAgIGlmICh3a2lkID49IDMyNjAxICYmIHdraWQgPD0gMzI2NjApIHtcclxuICAgICAgICAgICAgY29uc3Qgem9uZSA9IHdraWQgLSAzMjYwMDtcclxuICAgICAgICAgICAgY29uc3QgY2VudHJhbE1lcmlkaWFuID0gKHpvbmUgLSAxKSAqIDYgLSAxODAgKyAzO1xyXG5cclxuICAgICAgICAgICAgLy8gTW9yZSBhY2N1cmF0ZSBVVE0gdG8gR2VvZ3JhcGhpYyBjb252ZXJzaW9uXHJcbiAgICAgICAgICAgIGNvbnN0IGswID0gMC45OTk2OyAvLyBVVE0gc2NhbGUgZmFjdG9yXHJcbiAgICAgICAgICAgIGNvbnN0IGUgPSAwLjAwNjY5NDM4OyAvLyBFYXJ0aCdzIGVjY2VudHJpY2l0eSBzcXVhcmVkXHJcbiAgICAgICAgICAgIGNvbnN0IGUxc3EgPSBlIC8gKDEgLSBlKTtcclxuICAgICAgICAgICAgY29uc3QgYSA9IDYzNzgxMzc7IC8vIEVhcnRoJ3MgcmFkaXVzIGluIG1ldGVyc1xyXG5cclxuICAgICAgICAgICAgY29uc3QgeDEgPSB4IC0gNTAwMDAwOyAvLyBSZW1vdmUgZmFsc2UgZWFzdGluZ1xyXG4gICAgICAgICAgICBjb25zdCB5MSA9IHk7IC8vIEtlZXAgbm9ydGhpbmcgYXMtaXMgZm9yIG5vcnRoZXJuIGhlbWlzcGhlcmVcclxuXHJcbiAgICAgICAgICAgIC8vIFJvdWdoIGNvbnZlcnNpb24gKHNpbXBsaWZpZWQpXHJcbiAgICAgICAgICAgIGNvbnN0IHJvdWdoTGF0ID0geTEgLyAxMTA1NDA7IC8vIG1ldGVycyBwZXIgZGVncmVlIGxhdGl0dWRlXHJcbiAgICAgICAgICAgIGNvbnN0IHJvdWdoTG9uID0gY2VudHJhbE1lcmlkaWFuICsgKHgxIC8gKDExMTMyMCAqIE1hdGguY29zKHJvdWdoTGF0ICogTWF0aC5QSSAvIDE4MCkpKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBsb246IE1hdGgubWF4KC0xODAsIE1hdGgubWluKDE4MCwgcm91Z2hMb24pKSxcclxuICAgICAgICAgICAgICAgIGxhdDogTWF0aC5tYXgoLTkwLCBNYXRoLm1pbig5MCwgcm91Z2hMYXQpKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVVRNIHpvbmVzIChTb3V0aGVybiBIZW1pc3BoZXJlKVxyXG4gICAgICAgIGlmICh3a2lkID49IDMyNzAxICYmIHdraWQgPD0gMzI3NjApIHtcclxuICAgICAgICAgICAgY29uc3Qgem9uZSA9IHdraWQgLSAzMjcwMDtcclxuICAgICAgICAgICAgY29uc3QgY2VudHJhbE1lcmlkaWFuID0gKHpvbmUgLSAxKSAqIDYgLSAxODAgKyAzO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgeDEgPSB4IC0gNTAwMDAwOyAvLyBSZW1vdmUgZmFsc2UgZWFzdGluZ1xyXG4gICAgICAgICAgICBjb25zdCB5MSA9IHkgLSAxMDAwMDAwMDsgLy8gUmVtb3ZlIGZhbHNlIG5vcnRoaW5nIGZvciBzb3V0aGVybiBoZW1pc3BoZXJlXHJcblxyXG4gICAgICAgICAgICBjb25zdCByb3VnaExhdCA9IHkxIC8gMTEwNTQwOyAvLyBtZXRlcnMgcGVyIGRlZ3JlZSBsYXRpdHVkZVxyXG4gICAgICAgICAgICBjb25zdCByb3VnaExvbiA9IGNlbnRyYWxNZXJpZGlhbiArICh4MSAvICgxMTEzMjAgKiBNYXRoLmNvcyhNYXRoLmFicyhyb3VnaExhdCkgKiBNYXRoLlBJIC8gMTgwKSkpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGxvbjogTWF0aC5tYXgoLTE4MCwgTWF0aC5taW4oMTgwLCByb3VnaExvbikpLFxyXG4gICAgICAgICAgICAgICAgbGF0OiBNYXRoLm1heCgtOTAsIE1hdGgubWluKDkwLCByb3VnaExhdCkpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTdGF0ZSBQbGFuZSBDb29yZGluYXRlIFN5c3RlbXMgLSBFbmhhbmNlZCB3aXRoIG1vcmUgc3BlY2lmaWMgY29udmVyc2lvbnNcclxuICAgICAgICBpZiAod2tpZCA+PSAyMDAxICYmIHdraWQgPD0gNTAwMCkge1xyXG4gICAgICAgICAgICBsZXQgc2NhbGUgPSAxO1xyXG4gICAgICAgICAgICBsZXQgY2VudGVyTG9uID0gLTk4OyAvLyBEZWZhdWx0IFVTIGNlbnRlciBsb25naXR1ZGVcclxuICAgICAgICAgICAgbGV0IGNlbnRlckxhdCA9IDM5OyAgLy8gRGVmYXVsdCBVUyBjZW50ZXIgbGF0aXR1ZGVcclxuXHJcbiAgICAgICAgICAgIC8vIEJldHRlciBkZXRlY3Rpb24gb2YgdW5pdHMgKGZlZXQgdnMgbWV0ZXJzKVxyXG4gICAgICAgICAgICBjb25zdCBpc0ZlZXQgPSBNYXRoLmFicyh4KSA+IDEwMDAwMDAgfHwgTWF0aC5hYnMoeSkgPiAxMDAwMDAwO1xyXG4gICAgICAgICAgICBpZiAoaXNGZWV0KSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZSA9IDAuMzA0ODsgLy8gQ29udmVydCBmZWV0IHRvIG1ldGVyc1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBSZWdpb25hbCBhZGp1c3RtZW50cyBiYXNlZCBvbiBXS0lEIHJhbmdlc1xyXG4gICAgICAgICAgICBpZiAod2tpZCA+PSAyMDAxICYmIHdraWQgPD0gMjA5OSkge1xyXG4gICAgICAgICAgICAgICAgLy8gTkFEODMgU3RhdGUgUGxhbmUgem9uZXNcclxuICAgICAgICAgICAgICAgIGlmICh3a2lkID49IDIwMDEgJiYgd2tpZCA8PSAyMDIwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRWFzdGVybiBVUyBzdGF0ZXNcclxuICAgICAgICAgICAgICAgICAgICBjZW50ZXJMb24gPSAtNzc7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyTGF0ID0gNDA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdraWQgPj0gMjAyMSAmJiB3a2lkIDw9IDIwNTApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBDZW50cmFsIFVTIHN0YXRlc1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlckxvbiA9IC05NTtcclxuICAgICAgICAgICAgICAgICAgICBjZW50ZXJMYXQgPSAzNTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod2tpZCA+PSAyMDUxICYmIHdraWQgPD0gMjA5OSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlc3Rlcm4gVVMgc3RhdGVzXHJcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyTG9uID0gLTExNTtcclxuICAgICAgICAgICAgICAgICAgICBjZW50ZXJMYXQgPSAzNztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTW9yZSBhY2N1cmF0ZSBTdGF0ZSBQbGFuZSBjb252ZXJzaW9uXHJcbiAgICAgICAgICAgIGNvbnN0IG1ldGVyWCA9IHggKiBzY2FsZTtcclxuICAgICAgICAgICAgY29uc3QgbWV0ZXJZID0geSAqIHNjYWxlO1xyXG5cclxuICAgICAgICAgICAgLy8gSW1wcm92ZWQgY29udmVyc2lvbiBhY2NvdW50aW5nIGZvciBFYXJ0aCdzIGN1cnZhdHVyZVxyXG4gICAgICAgICAgICBjb25zdCBsYXRSYWRpYW5zID0gY2VudGVyTGF0ICogTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICAgICAgY29uc3QgbWV0ZXJzUGVyRGVncmVlTG9uID0gMTExMzIwICogTWF0aC5jb3MobGF0UmFkaWFucyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBkZWx0YUxvbiA9IG1ldGVyWCAvIG1ldGVyc1BlckRlZ3JlZUxvbjtcclxuICAgICAgICAgICAgY29uc3QgZGVsdGFMYXQgPSBtZXRlclkgLyAxMTA1NDA7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBmaW5hbExvbiA9IGNlbnRlckxvbiArIGRlbHRhTG9uO1xyXG4gICAgICAgICAgICBjb25zdCBmaW5hbExhdCA9IGNlbnRlckxhdCArIGRlbHRhTGF0O1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGxvbjogTWF0aC5tYXgoLTE4MCwgTWF0aC5taW4oMTgwLCBmaW5hbExvbikpLFxyXG4gICAgICAgICAgICAgICAgbGF0OiBNYXRoLm1heCgtOTAsIE1hdGgubWluKDkwLCBmaW5hbExhdCkpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGRpdGlvbmFsIGNvbW1vbiBjb29yZGluYXRlIHN5c3RlbXNcclxuXHJcbiAgICAgICAgLy8gQnJpdGlzaCBOYXRpb25hbCBHcmlkIChFUFNHOjI3NzAwKVxyXG4gICAgICAgIGlmICh3a2lkID09PSAyNzcwMCkge1xyXG4gICAgICAgICAgICAvLyBSb3VnaCBjb252ZXJzaW9uIGZvciBCcml0aXNoIE5hdGlvbmFsIEdyaWRcclxuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHZlcnkgYXBwcm94aW1hdGUgY29udmVyc2lvbiAtIGZvciBwcm9kdWN0aW9uIHVzZSBhIHByb3BlciB0cmFuc2Zvcm1hdGlvbiBsaWJyYXJ5XHJcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlckxvbiA9IC0yOyAvLyBBcHByb3hpbWF0ZSBjZW50ZXIgb2YgVUtcclxuICAgICAgICAgICAgY29uc3QgY2VudGVyTGF0ID0gNTQ7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBkZWx0YUxvbiA9ICh4IC0gNDAwMDAwKSAvIDcwMDAwOyAvLyBWZXJ5IHJvdWdoIGFwcHJveGltYXRpb25cclxuICAgICAgICAgICAgY29uc3QgZGVsdGFMYXQgPSAoeSAtIDEwMDAwMCkgLyAxMTAwMDA7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbG9uOiBNYXRoLm1heCgtMTgwLCBNYXRoLm1pbigxODAsIGNlbnRlckxvbiArIGRlbHRhTG9uKSksXHJcbiAgICAgICAgICAgICAgICBsYXQ6IE1hdGgubWF4KC05MCwgTWF0aC5taW4oOTAsIGNlbnRlckxhdCArIGRlbHRhTGF0KSlcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGNvb3JkaW5hdGVzIGFscmVhZHkgbG9vayBsaWtlIGdlb2dyYXBoaWMgY29vcmRpbmF0ZXNcclxuICAgICAgICBpZiAoTWF0aC5hYnMoeCkgPD0gMTgwICYmIE1hdGguYWJzKHkpIDw9IDkwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGxvbjogeCwgbGF0OiB5IH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMYXN0IHJlc29ydDogaW50ZWxsaWdlbnQgc2NhbGluZyBiYXNlZCBvbiBjb29yZGluYXRlIG1hZ25pdHVkZVxyXG4gICAgICAgIGxldCBzY2FsZUZhY3RvciA9IDE7XHJcbiAgICAgICAgY29uc3QgbWF4Q29vcmQgPSBNYXRoLm1heChNYXRoLmFicyh4KSwgTWF0aC5hYnMoeSkpO1xyXG5cclxuICAgICAgICBpZiAobWF4Q29vcmQgPiAxMDAwMDAwMCkge1xyXG4gICAgICAgICAgICBzY2FsZUZhY3RvciA9IDAuMDAwMDAwMTsgLy8gVmVyeSBsYXJnZSBjb29yZGluYXRlc1xyXG4gICAgICAgIH0gZWxzZSBpZiAobWF4Q29vcmQgPiAxMDAwMDAwKSB7XHJcbiAgICAgICAgICAgIHNjYWxlRmFjdG9yID0gMC4wMDAwMDE7ICAvLyBMYXJnZSBjb29yZGluYXRlcyAobGlrZWx5IHN0YXRlIHBsYW5lIGZlZXQpXHJcbiAgICAgICAgfSBlbHNlIGlmIChtYXhDb29yZCA+IDEwMDAwMCkge1xyXG4gICAgICAgICAgICBzY2FsZUZhY3RvciA9IDAuMDAwMDE7ICAgLy8gTWVkaXVtIGNvb3JkaW5hdGVzXHJcbiAgICAgICAgfSBlbHNlIGlmIChtYXhDb29yZCA+IDEwMDAwKSB7XHJcbiAgICAgICAgICAgIHNjYWxlRmFjdG9yID0gMC4wMDE7ICAgICAvLyBTbWFsbGVyIGNvb3JkaW5hdGVzXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBzY2FsZWRMb24gPSB4ICogc2NhbGVGYWN0b3I7XHJcbiAgICAgICAgY29uc3Qgc2NhbGVkTGF0ID0geSAqIHNjYWxlRmFjdG9yO1xyXG5cclxuICAgICAgICAvLyBBcHBseSByZWdpb25hbCBvZmZzZXQgaWYgY29vcmRpbmF0ZXMgYXJlIHRvbyBmYXIgZnJvbSBleHBlY3RlZCBnZW9ncmFwaGljIHJhbmdlc1xyXG4gICAgICAgIGxldCBmaW5hbExvbiA9IHNjYWxlZExvbjtcclxuICAgICAgICBsZXQgZmluYWxMYXQgPSBzY2FsZWRMYXQ7XHJcblxyXG4gICAgICAgIC8vIElmIHNjYWxlZCBjb29yZGluYXRlcyBhcmUgc3RpbGwgd2F5IG9mZiwgdHJ5IHRvIGd1ZXNzIHRoZSByZWdpb25cclxuICAgICAgICBpZiAoTWF0aC5hYnMoZmluYWxMb24pID4gMTgwIHx8IE1hdGguYWJzKGZpbmFsTGF0KSA+IDkwKSB7XHJcbiAgICAgICAgICAgIC8vIFZlcnkgcm91Z2ggcmVnaW9uYWwgZ3Vlc3NpbmcgYmFzZWQgb24gb3JpZ2luYWwgY29vcmRpbmF0ZSBtYWduaXR1ZGUgYW5kIHNpZ25cclxuICAgICAgICAgICAgaWYgKHggPiAwICYmIHkgPiAwICYmIG1heENvb3JkID4gMTAwMDAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBMaWtlbHkgRWFzdGVybiBoZW1pc3BoZXJlLCBub3J0aGVybiByZWdpb25cclxuICAgICAgICAgICAgICAgIGZpbmFsTG9uID0gLTEwMCArIChzY2FsZWRMb24gJSA2MCk7XHJcbiAgICAgICAgICAgICAgICBmaW5hbExhdCA9IDQwICsgKHNjYWxlZExhdCAlIDMwKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh4IDwgMCAmJiB5ID4gMCAmJiBtYXhDb29yZCA+IDEwMDAwMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gTGlrZWx5IFdlc3Rlcm4gaGVtaXNwaGVyZSwgbm9ydGhlcm4gcmVnaW9uICBcclxuICAgICAgICAgICAgICAgIGZpbmFsTG9uID0gLTEyMCArIChNYXRoLmFicyhzY2FsZWRMb24pICUgNjApO1xyXG4gICAgICAgICAgICAgICAgZmluYWxMYXQgPSAzNSArIChzY2FsZWRMYXQgJSAzMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IHRvIGNlbnRlciBvZiBjb250aW5lbnRhbCBVU1xyXG4gICAgICAgICAgICAgICAgZmluYWxMb24gPSAtOTg7XHJcbiAgICAgICAgICAgICAgICBmaW5hbExhdCA9IDM5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKGBBcHBsaWVkIHNjYWxpbmcgZmFjdG9yICR7c2NhbGVGYWN0b3J9IHRvIGNvb3JkaW5hdGVzLCByZXN1bHQ6ICR7ZmluYWxMb259LCAke2ZpbmFsTGF0fWApO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBsb246IE1hdGgubWF4KC0xODAsIE1hdGgubWluKDE4MCwgZmluYWxMb24pKSxcclxuICAgICAgICAgICAgbGF0OiBNYXRoLm1heCgtOTAsIE1hdGgubWluKDkwLCBmaW5hbExhdCkpXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBwcml2YXRlIHByb2plY3RHZW9tZXRyeUZyb21XR1M4NCA9IGFzeW5jICh3Z3M4NEdlb21ldHJ5OiBfX2VzcmkuR2VvbWV0cnksIHRhcmdldFNSOiBfX2VzcmkuU3BhdGlhbFJlZmVyZW5jZSk6IFByb21pc2U8X19lc3JpLkdlb21ldHJ5IHwgbnVsbD4gPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIFRyeSB1c2luZyBBcmNHSVMgcHJvamVjdGlvbiBlbmdpbmUgZmlyc3RcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHByb2plY3Rpb24ubG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gVHlwZSBjYXN0IHRoZSBnZW9tZXRyeSB0byBzYXRpc2Z5IHRoZSBwcm9qZWN0aW9uIGVuZ2luZSByZXF1aXJlbWVudHNcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3RlZFJlc3VsdCA9IHByb2plY3Rpb24ucHJvamVjdCh3Z3M4NEdlb21ldHJ5IGFzIGFueSwgdGFyZ2V0U1IpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwcm9qZWN0ZWRSZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgcHJvamVjdGlvbi5wcm9qZWN0IG1pZ2h0IHJldHVybiBhbiBhcnJheVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3RlZEdlb21ldHJ5ID0gQXJyYXkuaXNBcnJheShwcm9qZWN0ZWRSZXN1bHQpID8gcHJvamVjdGVkUmVzdWx0WzBdIDogcHJvamVjdGVkUmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvamVjdGVkR2VvbWV0cnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IHByb2plY3RlZCBmcm9tIFdHUzg0IHRvIFdLSUQgJHt0YXJnZXRTUi53a2lkfSB1c2luZyBBcmNHSVMgcHJvamVjdGlvbiBlbmdpbmVgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb2plY3RlZEdlb21ldHJ5IGFzIF9fZXNyaS5HZW9tZXRyeTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKHByb2plY3Rpb25FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdBcmNHSVMgcHJvamVjdGlvbiBlbmdpbmUgZmFpbGVkIGR1cmluZyBXR1M4NCBjb252ZXJzaW9uLCB1c2luZyBtYW51YWwgbWV0aG9kOicsIHByb2plY3Rpb25FcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIG1hbnVhbCBjb252ZXJzaW9uXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1hbnVhbFByb2plY3Rpb25Gcm9tV0dTODQod2dzODRHZW9tZXRyeSwgdGFyZ2V0U1IpO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwcm9qZWN0aW5nIGZyb20gV0dTODQ6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYW51YWxQcm9qZWN0aW9uRnJvbVdHUzg0KHdnczg0R2VvbWV0cnksIHRhcmdldFNSKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgbWFudWFsUHJvamVjdGlvbkZyb21XR1M4NCA9ICh3Z3M4NEdlb21ldHJ5OiBfX2VzcmkuR2VvbWV0cnksIHRhcmdldFNSOiBfX2VzcmkuU3BhdGlhbFJlZmVyZW5jZSk6IF9fZXNyaS5HZW9tZXRyeSB8IG51bGwgPT4ge1xyXG4gICAgICAgIGlmICghdGFyZ2V0U1IgfHwgdGFyZ2V0U1Iud2tpZCA9PT0gNDMyNikge1xyXG4gICAgICAgICAgICByZXR1cm4gd2dzODRHZW9tZXRyeTsgLy8gQWxyZWFkeSBpbiBXR1M4NFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgc3dpdGNoICh3Z3M4NEdlb21ldHJ5LnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3BvaW50JzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IHdnczg0R2VvbWV0cnkgYXMgX19lc3JpLlBvaW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvbiA9IHBvaW50LmxvbmdpdHVkZSB8fCBwb2ludC54O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhdCA9IHBvaW50LmxhdGl0dWRlIHx8IHBvaW50Lnk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmVydGVkID0gdGhpcy5jb252ZXJ0RnJvbVdHUzg0RW5oYW5jZWQobG9uLCBsYXQsIHRhcmdldFNSLndraWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeDogY29udmVydGVkLngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IGNvbnZlcnRlZC55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGF0aWFsUmVmZXJlbmNlOiB0YXJnZXRTUlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ3BvbHlsaW5lJzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2x5bGluZSA9IHdnczg0R2VvbWV0cnkgYXMgX19lc3JpLlBvbHlsaW5lO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlZFBhdGhzID0gcG9seWxpbmUucGF0aHMubWFwKHBhdGggPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aC5tYXAoY29vcmQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmVydGVkID0gdGhpcy5jb252ZXJ0RnJvbVdHUzg0RW5oYW5jZWQoY29vcmRbMF0sIGNvb3JkWzFdLCB0YXJnZXRTUi53a2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbY29udmVydGVkLngsIGNvbnZlcnRlZC55XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncG9seWxpbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoczogY29udmVydGVkUGF0aHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHRhcmdldFNSXHJcbiAgICAgICAgICAgICAgICAgICAgfSBhcyBfX2VzcmkuUG9seWxpbmU7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAncG9seWdvbic6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9seWdvbiA9IHdnczg0R2VvbWV0cnkgYXMgX19lc3JpLlBvbHlnb247XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmVydGVkUmluZ3MgPSBwb2x5Z29uLnJpbmdzLm1hcChyaW5nID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpbmcubWFwKGNvb3JkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlZCA9IHRoaXMuY29udmVydEZyb21XR1M4NEVuaGFuY2VkKGNvb3JkWzBdLCBjb29yZFsxXSwgdGFyZ2V0U1Iud2tpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2NvbnZlcnRlZC54LCBjb252ZXJ0ZWQueV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3BvbHlnb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByaW5nczogY29udmVydGVkUmluZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHRhcmdldFNSXHJcbiAgICAgICAgICAgICAgICAgICAgfSBhcyBfX2VzcmkuUG9seWdvbjtcclxuXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ2Fubm90IHByb2plY3QgZ2VvbWV0cnkgdHlwZTogJHt3Z3M4NEdlb21ldHJ5LnR5cGV9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBtYW51YWwgcHJvamVjdGlvbiBmcm9tIFdHUzg0OicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIGNvbnZlcnRGcm9tV0dTODRFbmhhbmNlZCA9IChsb246IG51bWJlciwgbGF0OiBudW1iZXIsIHdraWQ6IG51bWJlcik6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSA9PiB7XHJcbiAgICAgICAgLy8gSWYgdGFyZ2V0IGlzIFdHUzg0LCByZXR1cm4gYXMtaXNcclxuICAgICAgICBpZiAod2tpZCA9PT0gNDMyNikge1xyXG4gICAgICAgICAgICByZXR1cm4geyB4OiBsb24sIHk6IGxhdCB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYENvbnZlcnRpbmcgV0dTODQgY29vcmRpbmF0ZXMgJHtsb259LCAke2xhdH0gdG8gV0tJRDogJHt3a2lkfWApO1xyXG5cclxuICAgICAgICAvLyBXZWIgTWVyY2F0b3JcclxuICAgICAgICBpZiAod2tpZCA9PT0gMzg1NyB8fCB3a2lkID09PSAxMDIxMDApIHtcclxuICAgICAgICAgICAgY29uc3QgeCA9IGxvbiAqIDIwMDM3NTA4LjM0IC8gMTgwO1xyXG4gICAgICAgICAgICBjb25zdCB5ID0gTWF0aC5sb2coTWF0aC50YW4oKDkwICsgbGF0KSAqIE1hdGguUEkgLyAzNjApKSAvIChNYXRoLlBJIC8gMTgwKSAqIDIwMDM3NTA4LjM0IC8gMTgwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB4LCB5IH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBVVE0gem9uZXMgKE5vcnRoZXJuIEhlbWlzcGhlcmUpXHJcbiAgICAgICAgaWYgKHdraWQgPj0gMzI2MDEgJiYgd2tpZCA8PSAzMjY2MCkge1xyXG4gICAgICAgICAgICBjb25zdCB6b25lID0gd2tpZCAtIDMyNjAwO1xyXG4gICAgICAgICAgICBjb25zdCBjZW50cmFsTWVyaWRpYW4gPSAoem9uZSAtIDEpICogNiAtIDE4MCArIDM7XHJcblxyXG4gICAgICAgICAgICAvLyBNb3JlIGFjY3VyYXRlIFdHUzg0IHRvIFVUTSBjb252ZXJzaW9uXHJcbiAgICAgICAgICAgIGNvbnN0IGxhdFJhZCA9IGxhdCAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvblJhZCA9IGxvbiAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgICAgIGNvbnN0IGNlbnRyYWxNZXJpZGlhblJhZCA9IGNlbnRyYWxNZXJpZGlhbiAqIE1hdGguUEkgLyAxODA7XHJcblxyXG4gICAgICAgICAgICAvLyBTaW1wbGlmaWVkIFVUTSBwcm9qZWN0aW9uIChub3QgZ2VvZGV0aWNhbGx5IHBlcmZlY3QgYnV0IG11Y2ggYmV0dGVyIHRoYW4gbGluZWFyKVxyXG4gICAgICAgICAgICBjb25zdCBrMCA9IDAuOTk5NjsgLy8gVVRNIHNjYWxlIGZhY3RvclxyXG4gICAgICAgICAgICBjb25zdCBhID0gNjM3ODEzNzsgLy8gRWFydGgncyByYWRpdXMgaW4gbWV0ZXJzXHJcbiAgICAgICAgICAgIGNvbnN0IGUgPSAwLjAwNjY5NDM4OyAvLyBFYXJ0aCdzIGVjY2VudHJpY2l0eSBzcXVhcmVkXHJcblxyXG4gICAgICAgICAgICBjb25zdCBOID0gYSAvIE1hdGguc3FydCgxIC0gZSAqIE1hdGguc2luKGxhdFJhZCkgKiBNYXRoLnNpbihsYXRSYWQpKTtcclxuICAgICAgICAgICAgY29uc3QgVCA9IE1hdGgudGFuKGxhdFJhZCkgKiBNYXRoLnRhbihsYXRSYWQpO1xyXG4gICAgICAgICAgICBjb25zdCBDID0gZSAqIE1hdGguY29zKGxhdFJhZCkgKiBNYXRoLmNvcyhsYXRSYWQpIC8gKDEgLSBlKTtcclxuICAgICAgICAgICAgY29uc3QgQSA9IE1hdGguY29zKGxhdFJhZCkgKiAobG9uUmFkIC0gY2VudHJhbE1lcmlkaWFuUmFkKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHggPSA1MDAwMDAgKyBrMCAqIE4gKiAoQSArICgxIC0gVCArIEMpICogQSAqIEEgKiBBIC8gNik7XHJcbiAgICAgICAgICAgIGNvbnN0IHkgPSBrMCAqIChhICogKGxhdCAqIE1hdGguUEkgLyAxODApICsgTiAqIE1hdGgudGFuKGxhdFJhZCkgKiAoQSAqIEEgLyAyKSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4geyB4LCB5IH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBVVE0gem9uZXMgKFNvdXRoZXJuIEhlbWlzcGhlcmUpXHJcbiAgICAgICAgaWYgKHdraWQgPj0gMzI3MDEgJiYgd2tpZCA8PSAzMjc2MCkge1xyXG4gICAgICAgICAgICBjb25zdCB6b25lID0gd2tpZCAtIDMyNzAwO1xyXG4gICAgICAgICAgICBjb25zdCBjZW50cmFsTWVyaWRpYW4gPSAoem9uZSAtIDEpICogNiAtIDE4MCArIDM7XHJcblxyXG4gICAgICAgICAgICAvLyBTaW1pbGFyIHRvIG5vcnRoZXJuIGhlbWlzcGhlcmUgYnV0IHdpdGggZmFsc2Ugbm9ydGhpbmdcclxuICAgICAgICAgICAgY29uc3QgbGF0UmFkID0gbGF0ICogTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICAgICAgY29uc3QgbG9uUmFkID0gbG9uICogTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICAgICAgY29uc3QgY2VudHJhbE1lcmlkaWFuUmFkID0gY2VudHJhbE1lcmlkaWFuICogTWF0aC5QSSAvIDE4MDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGswID0gMC45OTk2O1xyXG4gICAgICAgICAgICBjb25zdCBhID0gNjM3ODEzNztcclxuICAgICAgICAgICAgY29uc3QgZSA9IDAuMDA2Njk0Mzg7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBOID0gYSAvIE1hdGguc3FydCgxIC0gZSAqIE1hdGguc2luKGxhdFJhZCkgKiBNYXRoLnNpbihsYXRSYWQpKTtcclxuICAgICAgICAgICAgY29uc3QgVCA9IE1hdGgudGFuKGxhdFJhZCkgKiBNYXRoLnRhbihsYXRSYWQpO1xyXG4gICAgICAgICAgICBjb25zdCBDID0gZSAqIE1hdGguY29zKGxhdFJhZCkgKiBNYXRoLmNvcyhsYXRSYWQpIC8gKDEgLSBlKTtcclxuICAgICAgICAgICAgY29uc3QgQSA9IE1hdGguY29zKGxhdFJhZCkgKiAobG9uUmFkIC0gY2VudHJhbE1lcmlkaWFuUmFkKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHggPSA1MDAwMDAgKyBrMCAqIE4gKiAoQSArICgxIC0gVCArIEMpICogQSAqIEEgKiBBIC8gNik7XHJcbiAgICAgICAgICAgIGNvbnN0IHkgPSAxMDAwMDAwMCArIGswICogKGEgKiAobGF0ICogTWF0aC5QSSAvIDE4MCkgKyBOICogTWF0aC50YW4obGF0UmFkKSAqIChBICogQSAvIDIpKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7IHgsIHkgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0YXRlIFBsYW5lIENvb3JkaW5hdGUgU3lzdGVtcyAtIEVuaGFuY2VkIHJldmVyc2UgY29udmVyc2lvblxyXG4gICAgICAgIGlmICh3a2lkID49IDIwMDEgJiYgd2tpZCA8PSA1MDAwKSB7XHJcbiAgICAgICAgICAgIGxldCBjZW50ZXJMb24gPSAtOTg7IC8vIERlZmF1bHQgVVMgY2VudGVyIGxvbmdpdHVkZVxyXG4gICAgICAgICAgICBsZXQgY2VudGVyTGF0ID0gMzk7ICAvLyBEZWZhdWx0IFVTIGNlbnRlciBsYXRpdHVkZVxyXG4gICAgICAgICAgICBsZXQgdXNlc0ZlZXQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlZ2lvbmFsIGFkanVzdG1lbnRzIGJhc2VkIG9uIFdLSUQgcmFuZ2VzIChhcHByb3hpbWF0ZSlcclxuICAgICAgICAgICAgaWYgKHdraWQgPj0gMjAwMSAmJiB3a2lkIDw9IDIwMjApIHtcclxuICAgICAgICAgICAgICAgIC8vIEVhc3Rlcm4gVVMgc3RhdGVzXHJcbiAgICAgICAgICAgICAgICBjZW50ZXJMb24gPSAtNzc7XHJcbiAgICAgICAgICAgICAgICBjZW50ZXJMYXQgPSA0MDtcclxuICAgICAgICAgICAgICAgIHVzZXNGZWV0ID0gdHJ1ZTsgLy8gTWFueSBlYXN0ZXJuIHN0YXRlIHBsYW5lIHN5c3RlbXMgdXNlIGZlZXRcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh3a2lkID49IDIwMjEgJiYgd2tpZCA8PSAyMDUwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDZW50cmFsIFVTIHN0YXRlcyAgXHJcbiAgICAgICAgICAgICAgICBjZW50ZXJMb24gPSAtOTU7XHJcbiAgICAgICAgICAgICAgICBjZW50ZXJMYXQgPSAzNTtcclxuICAgICAgICAgICAgICAgIHVzZXNGZWV0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh3a2lkID49IDIwNTEgJiYgd2tpZCA8PSAyMDk5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZXN0ZXJuIFVTIHN0YXRlc1xyXG4gICAgICAgICAgICAgICAgY2VudGVyTG9uID0gLTExNTtcclxuICAgICAgICAgICAgICAgIGNlbnRlckxhdCA9IDM3O1xyXG4gICAgICAgICAgICAgICAgdXNlc0ZlZXQgPSBmYWxzZTsgLy8gTWFueSB3ZXN0ZXJuIHN5c3RlbXMgdXNlIG1ldGVyc1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgZGVsdGFzIGZyb20gcmVnaW9uYWwgY2VudGVyXHJcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhTG9uID0gbG9uIC0gY2VudGVyTG9uO1xyXG4gICAgICAgICAgICBjb25zdCBkZWx0YUxhdCA9IGxhdCAtIGNlbnRlckxhdDtcclxuXHJcbiAgICAgICAgICAgIC8vIENvbnZlcnQgdG8gYXBwcm94aW1hdGUgcHJvamVjdGVkIGNvb3JkaW5hdGVzXHJcbiAgICAgICAgICAgIGNvbnN0IGxhdFJhZGlhbnMgPSBjZW50ZXJMYXQgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgICAgICAgICBjb25zdCBtZXRlcnNQZXJEZWdyZWVMb24gPSAxMTEzMjAgKiBNYXRoLmNvcyhsYXRSYWRpYW5zKTtcclxuXHJcbiAgICAgICAgICAgIGxldCB4ID0gZGVsdGFMb24gKiBtZXRlcnNQZXJEZWdyZWVMb247XHJcbiAgICAgICAgICAgIGxldCB5ID0gZGVsdGFMYXQgKiAxMTA1NDA7XHJcblxyXG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRvIGZlZXQgaWYgdGhlIHN5c3RlbSB1c2VzIGZlZXRcclxuICAgICAgICAgICAgaWYgKHVzZXNGZWV0KSB7XHJcbiAgICAgICAgICAgICAgICB4ID0geCAvIDAuMzA0ODtcclxuICAgICAgICAgICAgICAgIHkgPSB5IC8gMC4zMDQ4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgdHlwaWNhbCBzdGF0ZSBwbGFuZSBmYWxzZSBlYXN0aW5nL25vcnRoaW5nXHJcbiAgICAgICAgICAgIHggKz0gdXNlc0ZlZXQgPyAyMDAwMDAwIDogNTAwMDAwOyAvLyBUeXBpY2FsIGZhbHNlIGVhc3RpbmdcclxuICAgICAgICAgICAgeSArPSB1c2VzRmVldCA/IDAgOiAwOyAvLyBNb3N0IGRvbid0IGhhdmUgZmFsc2Ugbm9ydGhpbmdcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7IHgsIHkgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEJyaXRpc2ggTmF0aW9uYWwgR3JpZCAoRVBTRzoyNzcwMCkgLSByZXZlcnNlIGNvbnZlcnNpb25cclxuICAgICAgICBpZiAod2tpZCA9PT0gMjc3MDApIHtcclxuICAgICAgICAgICAgY29uc3QgY2VudGVyTG9uID0gLTI7XHJcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlckxhdCA9IDU0O1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZGVsdGFMb24gPSBsb24gLSBjZW50ZXJMb247XHJcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhTGF0ID0gbGF0IC0gY2VudGVyTGF0O1xyXG5cclxuICAgICAgICAgICAgY29uc3QgeCA9IDQwMDAwMCArIGRlbHRhTG9uICogNzAwMDA7IC8vIFZlcnkgcm91Z2ggYXBwcm94aW1hdGlvblxyXG4gICAgICAgICAgICBjb25zdCB5ID0gMTAwMDAwICsgZGVsdGFMYXQgKiAxMTAwMDA7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4geyB4LCB5IH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEZWZhdWx0IGZhbGxiYWNrIC0gYXNzdW1lIGEgbG9jYWwgY29vcmRpbmF0ZSBzeXN0ZW1cclxuICAgICAgICAvLyBUcnkgdG8gc2NhbGUgYXBwcm9wcmlhdGVseSBiYXNlZCBvbiB0aGUgV0tJRFxyXG4gICAgICAgIGxldCBzY2FsZUZhY3RvciA9IDExMTMyMDsgLy8gQXBwcm94aW1hdGUgbWV0ZXJzIHBlciBkZWdyZWUgYXQgZXF1YXRvclxyXG4gICAgICAgIGxldCBmYWxzZUVhc3RpbmcgPSAwO1xyXG4gICAgICAgIGxldCBmYWxzZU5vcnRoaW5nID0gMDtcclxuXHJcbiAgICAgICAgLy8gRm9yIGhpZ2ggV0tJRCBudW1iZXJzLCBhc3N1bWUgdGhleSBtaWdodCBiZSBpbiBmZWV0XHJcbiAgICAgICAgaWYgKHdraWQgPiAxMDAwMCkge1xyXG4gICAgICAgICAgICBzY2FsZUZhY3RvciA9IHNjYWxlRmFjdG9yIC8gMC4zMDQ4OyAvLyBDb252ZXJ0IHRvIGZlZXRcclxuICAgICAgICAgICAgZmFsc2VFYXN0aW5nID0gMjAwMDAwMDsgLy8gQ29tbW9uIGZhbHNlIGVhc3RpbmcgaW4gZmVldFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgeCA9IGZhbHNlRWFzdGluZyArIChsb24gKyAxODApICogc2NhbGVGYWN0b3IgLyAzNjA7IC8vIE5vcm1hbGl6ZSBsb25naXR1ZGVcclxuICAgICAgICBjb25zdCB5ID0gZmFsc2VOb3J0aGluZyArIGxhdCAqIHNjYWxlRmFjdG9yIC8gOTA7IC8vIE5vcm1hbGl6ZSBsYXRpdHVkZVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhgQXBwbGllZCBmYWxsYmFjayBjb252ZXJzaW9uIHdpdGggc2NhbGUgZmFjdG9yICR7c2NhbGVGYWN0b3J9YCk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IHgsIHkgfTtcclxuICAgIH07XHJcbiAgICBwcml2YXRlIGRldGVjdEltcG9ydEZvcm1hdCA9IChjb250ZW50OiBzdHJpbmcpOiAnZ2VvanNvbicgfCAnbGVnYWN5JyB8ICd1bmtub3duJyA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShjb250ZW50KTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGl0J3MgR2VvSlNPTlxyXG4gICAgICAgICAgICBpZiAocGFyc2VkLnR5cGUgPT09ICdGZWF0dXJlQ29sbGVjdGlvbicgJiYgQXJyYXkuaXNBcnJheShwYXJzZWQuZmVhdHVyZXMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2dlb2pzb24nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBpdCdzIGxlZ2FjeSBmb3JtYXRcclxuICAgICAgICAgICAgaWYgKHBhcnNlZC5kcmF3aW5ncyB8fCBBcnJheS5pc0FycmF5KHBhcnNlZCkgfHwgcGFyc2VkLnZlcnNpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnbGVnYWN5JztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuICd1bmtub3duJztcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gJ3Vua25vd24nO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBwcm9jZXNzTmV3TWVhc3VyZW1lbnRMYWJlbCA9IChncmFwaGljOiBfX2VzcmkuR3JhcGhpYyk6IGJvb2xlYW4gPT4ge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBtZWFzdXJlbWVudCBsYWJlbCB0aGF0IG5lZWRzIHByb2Nlc3NpbmdcclxuICAgICAgICBpZiAoIWdyYXBoaWMgfHxcclxuICAgICAgICAgICAgIWdyYXBoaWMuYXR0cmlidXRlcyB8fFxyXG4gICAgICAgICAgICAhZ3JhcGhpYy5hdHRyaWJ1dGVzLmlzTWVhc3VyZW1lbnRMYWJlbCB8fFxyXG4gICAgICAgICAgICAhZ3JhcGhpYy5zeW1ib2wgfHxcclxuICAgICAgICAgICAgZ3JhcGhpYy5zeW1ib2wudHlwZSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGdyYXBoaWNJZCA9IHRoaXMuZ2V0R3JhcGhpY0lkKGdyYXBoaWMpO1xyXG5cclxuICAgICAgICAvLyBTa2lwIGlmIGFscmVhZHkgcHJvY2Vzc2VkXHJcbiAgICAgICAgaWYgKHRoaXMucHJvY2Vzc2VkTWVhc3VyZW1lbnRHcmFwaGljcy5oYXMoZ3JhcGhpY0lkKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBTdG9yZSB0aGUgdGV4dCBjb250ZW50XHJcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsVGV4dCA9IGdyYXBoaWMuc3ltYm9sLnRleHQ7XHJcblxyXG4gICAgICAgICAgICAvLyBGSVhFRDogSW5zdGVhZCBvZiBjcmVhdGluZyBhIGNvbXBsZXRlbHkgbmV3IHN5bWJvbCwgcHJlc2VydmUgdGhlIGV4aXN0aW5nIHN5bWJvbFxyXG4gICAgICAgICAgICAvLyBhbmQgb25seSB1cGRhdGUgaXQgaWYgaXQncyBtaXNzaW5nIGVzc2VudGlhbCBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU3ltYm9sID0gZ3JhcGhpYy5zeW1ib2wgYXMgX19lc3JpLlRleHRTeW1ib2w7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc3ltYm9sIGFscmVhZHkgaGFzIHByb3BlciBzdHlsaW5nIC0gaWYgc28sIGRvbid0IG1vZGlmeSBpdFxyXG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdTeW1ib2wuY29sb3IgJiZcclxuICAgICAgICAgICAgICAgIGV4aXN0aW5nU3ltYm9sLmZvbnQgJiZcclxuICAgICAgICAgICAgICAgIGV4aXN0aW5nU3ltYm9sLmhhbG9Db2xvciAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgICAgICBleGlzdGluZ1N5bWJvbC5oYWxvU2l6ZSAhPT0gdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3ltYm9sIGlzIGFscmVhZHkgcHJvcGVybHkgc3R5bGVkLCBqdXN0IG1hcmsgYXMgcHJvY2Vzc2VkXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NlZE1lYXN1cmVtZW50R3JhcGhpY3MuYWRkKGdyYXBoaWNJZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWdyYXBoaWMuYXR0cmlidXRlcykgZ3JhcGhpYy5hdHRyaWJ1dGVzID0ge307XHJcbiAgICAgICAgICAgICAgICBncmFwaGljLmF0dHJpYnV0ZXMuX3N0eWxlRml4ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYE1lYXN1cmVtZW50IGxhYmVsIGFscmVhZHkgcHJvcGVybHkgc3R5bGVkLCBza2lwcGluZzogJHtncmFwaGljSWR9YCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gT25seSBhcHBseSBjbGVhbiBzeW1ib2wgaWYgdGhlIGV4aXN0aW5nIHN5bWJvbCBpcyBtaXNzaW5nIGVzc2VudGlhbCBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgIC8vIFRoaXMgcHJlc2VydmVzIHN0eWxpbmcgZnJvbSB0aGUgbWVhc3VyZS50c3ggY29tcG9uZW50XHJcbiAgICAgICAgICAgIGNvbnN0IGNsZWFuU3ltYm9sID0gZXhpc3RpbmdTeW1ib2wuY2xvbmUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE9ubHkgc2V0IGRlZmF1bHRzIGZvciBtaXNzaW5nIHByb3BlcnRpZXNcclxuICAgICAgICAgICAgaWYgKCFjbGVhblN5bWJvbC5jb2xvcikge1xyXG4gICAgICAgICAgICAgICAgY2xlYW5TeW1ib2wuY29sb3IgPSBuZXcgQ29sb3IoWzAsIDAsIDAsIDFdKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFjbGVhblN5bWJvbC5mb250IHx8ICFjbGVhblN5bWJvbC5mb250LmZhbWlseSkge1xyXG4gICAgICAgICAgICAgICAgY2xlYW5TeW1ib2wuZm9udCA9IG5ldyBGb250KHtcclxuICAgICAgICAgICAgICAgICAgICBmYW1pbHk6IGNsZWFuU3ltYm9sLmZvbnQ/LmZhbWlseSB8fCBcIkFyaWFsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogY2xlYW5TeW1ib2wuZm9udD8uc2l6ZSB8fCAxMixcclxuICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IGNsZWFuU3ltYm9sLmZvbnQ/LndlaWdodCB8fCBcIm5vcm1hbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiBjbGVhblN5bWJvbC5mb250Py5zdHlsZSB8fCBcIm5vcm1hbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlY29yYXRpb246IGNsZWFuU3ltYm9sLmZvbnQ/LmRlY29yYXRpb24gfHwgXCJub25lXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBQcmVzZXJ2ZSBleGlzdGluZyBoYWxvIHNldHRpbmdzIG9yIHNldCBkZWZhdWx0cyBvbmx5IGlmIHRoZXkgZG9uJ3QgZXhpc3RcclxuICAgICAgICAgICAgaWYgKGNsZWFuU3ltYm9sLmhhbG9Db2xvciA9PT0gbnVsbCAmJiBjbGVhblN5bWJvbC5oYWxvU2l6ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgLy8gT25seSBzZXQgZGVmYXVsdCBoYWxvIGlmIG5vbmUgZXhpc3RzXHJcbiAgICAgICAgICAgICAgICBjbGVhblN5bWJvbC5oYWxvQ29sb3IgPSBuZXcgQ29sb3IoWzI1NSwgMjU1LCAyNTUsIDFdKTtcclxuICAgICAgICAgICAgICAgIGNsZWFuU3ltYm9sLmhhbG9TaXplID0gMjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFjbGVhblN5bWJvbC5ob3Jpem9udGFsQWxpZ25tZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhblN5bWJvbC5ob3Jpem9udGFsQWxpZ25tZW50ID0gXCJjZW50ZXJcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFjbGVhblN5bWJvbC52ZXJ0aWNhbEFsaWdubWVudCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYW5TeW1ib2wudmVydGljYWxBbGlnbm1lbnQgPSBcIm1pZGRsZVwiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBFbnN1cmUgdGV4dCBjb250ZW50IGlzIHByZXNlcnZlZFxyXG4gICAgICAgICAgICBjbGVhblN5bWJvbC50ZXh0ID0gbGFiZWxUZXh0O1xyXG5cclxuICAgICAgICAgICAgLy8gUmVwbGFjZSB0aGUgc3ltYm9sIG9ubHkgaWYgd2UgbWFkZSBjaGFuZ2VzXHJcbiAgICAgICAgICAgIGdyYXBoaWMuc3ltYm9sID0gY2xlYW5TeW1ib2w7XHJcblxyXG4gICAgICAgICAgICAvLyBNYXJrIHRoaXMgZ3JhcGhpYyBhcyBwcm9jZXNzZWRcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzZWRNZWFzdXJlbWVudEdyYXBoaWNzLmFkZChncmFwaGljSWQpO1xyXG5cclxuICAgICAgICAgICAgLy8gQWxzbyBzZXQgdGhlIGZsYWcgb24gdGhlIGdyYXBoaWMgaXRzZWxmIGFzIGEgYmFja3VwXHJcbiAgICAgICAgICAgIGlmICghZ3JhcGhpYy5hdHRyaWJ1dGVzKSBncmFwaGljLmF0dHJpYnV0ZXMgPSB7fTtcclxuICAgICAgICAgICAgZ3JhcGhpYy5hdHRyaWJ1dGVzLl9zdHlsZUZpeGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYEFwcGxpZWQgbWluaW1hbCBjbGVhbiBzeW1ib2wgdG8gbWVhc3VyZW1lbnQgbGFiZWwgd2l0aCBJRDogJHtncmFwaGljSWR9YCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHByb2Nlc3NpbmcgbWVhc3VyZW1lbnQgbGFiZWw6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHByaXZhdGUgdmVyaWZ5TGF5ZXJTdGF0ZSA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMuZ3JhcGhpY3NMYXllcikgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBDb3VudCBhY3R1YWwgZHJhd2luZ3MgKGV4Y2x1ZGUgbWVhc3VyZW1lbnQgbGFiZWxzKVxyXG4gICAgICAgIGNvbnN0IGxheWVyR3JhcGhpY3MgPSB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuZ3JhcGhpY3MudG9BcnJheSgpO1xyXG4gICAgICAgIGNvbnN0IGFjdHVhbERyYXdpbmdzID0gbGF5ZXJHcmFwaGljcy5maWx0ZXIoZyA9PlxyXG4gICAgICAgICAgICAhZy5hdHRyaWJ1dGVzPy5pc01lYXN1cmVtZW50TGFiZWwgJiZcclxuICAgICAgICAgICAgIWcuYXR0cmlidXRlcz8uaGlkZUZyb21MaXN0XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgbWVhc3VyZW1lbnRMYWJlbHMgPSBsYXllckdyYXBoaWNzLmZpbHRlcihnID0+XHJcbiAgICAgICAgICAgIGcuYXR0cmlidXRlcz8uaXNNZWFzdXJlbWVudExhYmVsXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+TiCBMYXllciB2ZXJpZmljYXRpb246YCk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhgICAgLSBEcmF3aW5ncyBpbiBzdGF0ZTogJHt0aGlzLnN0YXRlLmRyYXdpbmdzLmxlbmd0aH1gKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGAgICAtIEFjdHVhbCBkcmF3aW5ncyBpbiBsYXllcjogJHthY3R1YWxEcmF3aW5ncy5sZW5ndGh9YCk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhgICAgLSBNZWFzdXJlbWVudCBsYWJlbHMgaW4gbGF5ZXI6ICR7bWVhc3VyZW1lbnRMYWJlbHMubGVuZ3RofWApO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coYCAgIC0gVG90YWwgZ3JhcGhpY3MgaW4gbGF5ZXI6ICR7bGF5ZXJHcmFwaGljcy5sZW5ndGh9YCk7XHJcblxyXG4gICAgICAgIC8vIElmIHRoZXJlJ3MgYSBtaXNtYXRjaCwgZm9yY2UgYSByZWZyZXNoXHJcbiAgICAgICAgaWYgKGFjdHVhbERyYXdpbmdzLmxlbmd0aCAhPT0gdGhpcy5zdGF0ZS5kcmF3aW5ncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gU3RhdGUgbWlzbWF0Y2ggZGV0ZWN0ZWQhIEZvcmNpbmcgcmVmcmVzaC4uLmApO1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hEcmF3aW5nc0Zyb21MYXllcigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYOKchSBMYXllciBzdGF0ZSB2ZXJpZmllZCAtIGV2ZXJ5dGhpbmcgbWF0Y2hlc2ApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbW92ZU1lYXN1cmVtZW50TGFiZWxzID0gKGdyYXBoaWM6IEV4dGVuZGVkR3JhcGhpYykgPT4ge1xyXG4gICAgICAgIGlmICghZ3JhcGhpYyB8fCAhdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2coYPCfp7kgU3RhcnRpbmcgbWVhc3VyZW1lbnQgY2xlYW51cCBmb3I6YCwgZ3JhcGhpYy5hdHRyaWJ1dGVzPy5uYW1lKTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZ3JhcGhpY1VuaXF1ZUlkID0gZ3JhcGhpYy5hdHRyaWJ1dGVzPy51bmlxdWVJZDtcclxuICAgICAgICAgICAgbGV0IHJlbW92ZWRDb3VudCA9IDA7XHJcblxyXG4gICAgICAgICAgICAvLyDwn5SnIE5FVzogUmVtb3ZlIGF0dGFjaGVkIGJ1ZmZlciBGSVJTVFxyXG4gICAgICAgICAgICBpZiAoZ3JhcGhpYy5idWZmZXJHcmFwaGljKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDwn5eR77iPIFJlbW92aW5nIGF0dGFjaGVkIGJ1ZmZlciBmb3IgZ3JhcGhpYyAke2dyYXBoaWNVbmlxdWVJZH1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5yZW1vdmUoZ3JhcGhpYy5idWZmZXJHcmFwaGljKTtcclxuICAgICAgICAgICAgICAgIGdyYXBoaWMuYnVmZmVyR3JhcGhpYyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVkQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ2xlYXIgYnVmZmVyIHNldHRpbmdzXHJcbiAgICAgICAgICAgIGlmIChncmFwaGljLmJ1ZmZlclNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICBncmFwaGljLmJ1ZmZlclNldHRpbmdzID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gR2V0IGFsbCBncmFwaGljcyBmcm9tIHRoZSBsYXllclxyXG4gICAgICAgICAgICBjb25zdCBhbGxHcmFwaGljcyA9IHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5ncmFwaGljcy50b0FycmF5KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBGaW5kIG1lYXN1cmVtZW50IGxhYmVscyB0aGF0IGJlbG9uZyB0byB0aGlzIHNwZWNpZmljIGdyYXBoaWNcclxuICAgICAgICAgICAgY29uc3QgbGFiZWxzVG9SZW1vdmUgPSBhbGxHcmFwaGljcy5maWx0ZXIoZyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBnQXNFeHRlbmRlZCA9IGcgYXMgRXh0ZW5kZWRHcmFwaGljO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBtZWFzdXJlbWVudCBsYWJlbFxyXG4gICAgICAgICAgICAgICAgaWYgKCFnQXNFeHRlbmRlZC5hdHRyaWJ1dGVzPy5pc01lYXN1cmVtZW50TGFiZWwpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB2YXJpb3VzIHdheXMgdGhpcyBsYWJlbCBtaWdodCBiZSBsaW5rZWQgdG8gb3VyIGdyYXBoaWNcclxuICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRGlyZWN0IHJlZmVyZW5jZSB0byB0aGUgZ3JhcGhpYyBvYmplY3RcclxuICAgICAgICAgICAgICAgICAgICBnQXNFeHRlbmRlZC5tZWFzdXJlUGFyZW50ID09PSBncmFwaGljIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUGFyZW50IElEIG1hdGNoZXNcclxuICAgICAgICAgICAgICAgICAgICAoZ3JhcGhpY1VuaXF1ZUlkICYmIGdBc0V4dGVuZGVkLmF0dHJpYnV0ZXM/LnBhcmVudEdyYXBoaWNJZCA9PT0gZ3JhcGhpY1VuaXF1ZUlkKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE1lYXN1cmUgZ3JhcGhpYyByZWZlcmVuY2VcclxuICAgICAgICAgICAgICAgICAgICBnQXNFeHRlbmRlZC5tZWFzdXJlPy5ncmFwaGljID09PSBncmFwaGljXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCflI0gRm91bmQgJHtsYWJlbHNUb1JlbW92ZS5sZW5ndGh9IG1lYXN1cmVtZW50IGxhYmVscyB0byByZW1vdmVgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBlYWNoIGlkZW50aWZpZWQgbGFiZWxcclxuICAgICAgICAgICAgbGFiZWxzVG9SZW1vdmUuZm9yRWFjaChsYWJlbCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5yZW1vdmUobGFiZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZWRDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfl5HvuI8gUmVtb3ZlZCBtZWFzdXJlbWVudCBsYWJlbGApO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIEVycm9yIHJlbW92aW5nIG1lYXN1cmVtZW50IGxhYmVsOmAsIGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQWxzbyBjbGVhbiB1cCBkaXJlY3QgcmVmZXJlbmNlcyBzdG9yZWQgaW4gdGhlIGdyYXBoaWNcclxuICAgICAgICAgICAgaWYgKGdyYXBoaWMubWVhc3VyZT8uZ3JhcGhpYykge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIucmVtb3ZlKGdyYXBoaWMubWVhc3VyZS5ncmFwaGljKTtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVkQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDwn5eR77iPIFJlbW92ZWQgZGlyZWN0IG1lYXN1cmUgZ3JhcGhpY2ApO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIEVycm9yIHJlbW92aW5nIGRpcmVjdCBtZWFzdXJlIGdyYXBoaWM6YCwgZXJyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgc2VnbWVudCBsYWJlbHMgZnJvbSBhdHRyaWJ1dGVzXHJcbiAgICAgICAgICAgIGlmIChncmFwaGljLmF0dHJpYnV0ZXM/LnJlbGF0ZWRTZWdtZW50TGFiZWxzICYmIEFycmF5LmlzQXJyYXkoZ3JhcGhpYy5hdHRyaWJ1dGVzLnJlbGF0ZWRTZWdtZW50TGFiZWxzKSkge1xyXG4gICAgICAgICAgICAgICAgZ3JhcGhpYy5hdHRyaWJ1dGVzLnJlbGF0ZWRTZWdtZW50TGFiZWxzLmZvckVhY2goc2VnbWVudExhYmVsID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudExhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIucmVtb3ZlKHNlZ21lbnRMYWJlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVkQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfl5HvuI8gUmVtb3ZlZCBzZWdtZW50IGxhYmVsYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIEVycm9yIHJlbW92aW5nIHNlZ21lbnQgbGFiZWw6YCwgZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDinIUgTWVhc3VyZW1lbnQgYW5kIGJ1ZmZlciBjbGVhbnVwIGNvbXBsZXRlZC4gUmVtb3ZlZCAke3JlbW92ZWRDb3VudH0gZ3JhcGhpY3MgZm9yOmAsIGdyYXBoaWMuYXR0cmlidXRlcz8ubmFtZSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBpbiBtZWFzdXJlbWVudCBjbGVhbnVwOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgYXNzb2NpYXRlTWVhc3VyZW1lbnRMYWJlbCA9IChwYXJlbnRHcmFwaGljOiBFeHRlbmRlZEdyYXBoaWMsIG1lYXN1cmVtZW50TGFiZWw6IEV4dGVuZGVkR3JhcGhpYykgPT4ge1xyXG4gICAgICAgIGlmICghcGFyZW50R3JhcGhpYyB8fCAhbWVhc3VyZW1lbnRMYWJlbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBFbnN1cmUgdGhlIG1lYXN1cmVtZW50IGxhYmVsIGhhcyBwcm9wZXIgcmVmZXJlbmNlcyB0byBpdHMgcGFyZW50XHJcbiAgICAgICAgaWYgKCFtZWFzdXJlbWVudExhYmVsLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgbWVhc3VyZW1lbnRMYWJlbC5hdHRyaWJ1dGVzID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTdG9yZSBtdWx0aXBsZSByZWZlcmVuY2VzIHRvIGVuc3VyZSB3ZSBjYW4gZmluZCB0aGlzIGxhYmVsIGxhdGVyXHJcbiAgICAgICAgbWVhc3VyZW1lbnRMYWJlbC5hdHRyaWJ1dGVzLmlzTWVhc3VyZW1lbnRMYWJlbCA9IHRydWU7XHJcbiAgICAgICAgbWVhc3VyZW1lbnRMYWJlbC5hdHRyaWJ1dGVzLnBhcmVudEdyYXBoaWNJZCA9IHBhcmVudEdyYXBoaWMuYXR0cmlidXRlcz8udW5pcXVlSWQ7XHJcbiAgICAgICAgbWVhc3VyZW1lbnRMYWJlbC5tZWFzdXJlUGFyZW50ID0gcGFyZW50R3JhcGhpYztcclxuXHJcbiAgICAgICAgLy8gQWxzbyBzdG9yZSB0aGUgcmVmZXJlbmNlIGluIHRoZSBwYXJlbnQgZ3JhcGhpYyBmb3IgZWFzaWVyIGNsZWFudXBcclxuICAgICAgICBpZiAoIXBhcmVudEdyYXBoaWMuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICBwYXJlbnRHcmFwaGljLmF0dHJpYnV0ZXMgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFwYXJlbnRHcmFwaGljLmF0dHJpYnV0ZXMucmVsYXRlZE1lYXN1cmVtZW50TGFiZWxzKSB7XHJcbiAgICAgICAgICAgIHBhcmVudEdyYXBoaWMuYXR0cmlidXRlcy5yZWxhdGVkTWVhc3VyZW1lbnRMYWJlbHMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcGFyZW50R3JhcGhpYy5hdHRyaWJ1dGVzLnJlbGF0ZWRNZWFzdXJlbWVudExhYmVscy5wdXNoKG1lYXN1cmVtZW50TGFiZWwpO1xyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKGDwn5SXIEFzc29jaWF0ZWQgbWVhc3VyZW1lbnQgbGFiZWwgd2l0aCBwYXJlbnQgZ3JhcGhpYzpgLCBwYXJlbnRHcmFwaGljLmF0dHJpYnV0ZXM/Lm5hbWUpO1xyXG4gICAgfTtcclxuICAgIHByaXZhdGUgY2xlYW51cE1lYXN1cmVtZW50TGFiZWxzRm9yR3JhcGhpYyA9IChncmFwaGljOiBFeHRlbmRlZEdyYXBoaWMpID0+IHtcclxuICAgICAgICBpZiAoIWdyYXBoaWMgfHwgIXRoaXMucHJvcHMuZ3JhcGhpY3NMYXllcikgcmV0dXJuO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGBTdGFydGluZyBhZ2dyZXNzaXZlIGNsZWFudXAgZm9yIGdyYXBoaWM6ICR7Z3JhcGhpYy5hdHRyaWJ1dGVzPy5uYW1lIHx8ICd1bm5hbWVkJ31gKTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhgR3JhcGhpYyB1bmlxdWVJZDogJHtncmFwaGljLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkfWApO1xyXG5cclxuICAgICAgICAgICAgLy8gQ1JJVElDQUw6IENhbmNlbCBTa2V0Y2hWaWV3TW9kZWwgRklSU1QgYW5kIGNsZWFyIGFsbCBzZWxlY3Rpb25zXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNrZXRjaFZpZXdNb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY2FuY2VsKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBBbHNvIGNsZWFyIGFueSB1cGRhdGVHcmFwaGljcyBjb2xsZWN0aW9uXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5za2V0Y2hWaWV3TW9kZWwudXBkYXRlR3JhcGhpY3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC51cGRhdGVHcmFwaGljcy5yZW1vdmVBbGwoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ2xlYXIgYW55IFVJIHNlbGVjdGlvbiBzdGF0ZVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkR3JhcGhpY0luZGV4OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3ltYm9sRWRpdGluZ0luZGV4OiBudWxsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIGRlbGF5IHRvIGVuc3VyZSBTa2V0Y2hWaWV3TW9kZWwgb3BlcmF0aW9ucyBjb21wbGV0ZVxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGVyZm9ybUFnZ3Jlc3NpdmVDbGVhbnVwKGdyYXBoaWMpO1xyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBjbGVhbnVwIGluaXRpYXRpb246JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBwcml2YXRlIHBlcmZvcm1BY3R1YWxDbGVhbnVwID0gKGdyYXBoaWM6IEV4dGVuZGVkR3JhcGhpYykgPT4ge1xyXG4gICAgICAgIGlmICghZ3JhcGhpYyB8fCAhdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYFBlcmZvcm1pbmcgYWN0dWFsIGNsZWFudXAgZm9yOiAke2dyYXBoaWMuYXR0cmlidXRlcz8ubmFtZSB8fCAndW5uYW1lZCd9YCk7XHJcblxyXG4gICAgICAgICAgICAvLyBNZXRob2QgMTogUmVtb3ZlIHRoZSBtYWluIG1lYXN1cmVtZW50IGxhYmVsIGlmIGl0IGV4aXN0c1xyXG4gICAgICAgICAgICBpZiAoZ3JhcGhpYy5tZWFzdXJlPy5ncmFwaGljKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdSZW1vdmluZyBtYWluIG1lYXN1cmVtZW50IGdyYXBoaWMnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5yZW1vdmUoZ3JhcGhpYy5tZWFzdXJlLmdyYXBoaWMpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoZSByZWZlcmVuY2VcclxuICAgICAgICAgICAgICAgIGdyYXBoaWMubWVhc3VyZSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE1ldGhvZCAyOiBSZW1vdmUgc2VnbWVudCBsYWJlbHMgaWYgdGhleSBleGlzdFxyXG4gICAgICAgICAgICBpZiAoZ3JhcGhpYy5hdHRyaWJ1dGVzPy5yZWxhdGVkU2VnbWVudExhYmVscyAmJiBBcnJheS5pc0FycmF5KGdyYXBoaWMuYXR0cmlidXRlcy5yZWxhdGVkU2VnbWVudExhYmVscykpIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYFJlbW92aW5nICR7Z3JhcGhpYy5hdHRyaWJ1dGVzLnJlbGF0ZWRTZWdtZW50TGFiZWxzLmxlbmd0aH0gc2VnbWVudCBsYWJlbHNgKTtcclxuICAgICAgICAgICAgICAgIGdyYXBoaWMuYXR0cmlidXRlcy5yZWxhdGVkU2VnbWVudExhYmVscy5mb3JFYWNoKHNlZ21lbnRMYWJlbCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlZ21lbnRMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIucmVtb3ZlKHNlZ21lbnRMYWJlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGFycmF5XHJcbiAgICAgICAgICAgICAgICBncmFwaGljLmF0dHJpYnV0ZXMucmVsYXRlZFNlZ21lbnRMYWJlbHMgPSBbXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTWV0aG9kIDM6IFNlYXJjaCBmb3Igb3JwaGFuZWQgbWVhc3VyZW1lbnQgbGFiZWxzIHRoYXQgbWlnaHQgcmVmZXJlbmNlIHRoaXMgZ3JhcGhpY1xyXG4gICAgICAgICAgICBjb25zdCBhbGxHcmFwaGljcyA9IHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5ncmFwaGljcy50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9ycGhhbmVkTWVhc3VyZW1lbnRzID0gYWxsR3JhcGhpY3MuZmlsdGVyKGcgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ZW5kZWRHID0gZyBhcyBFeHRlbmRlZEdyYXBoaWM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZGVkRy5hdHRyaWJ1dGVzPy5pc01lYXN1cmVtZW50TGFiZWwgJiZcclxuICAgICAgICAgICAgICAgICAgICAoZXh0ZW5kZWRHLm1lYXN1cmVQYXJlbnQgPT09IGdyYXBoaWMgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5kZWRHLmF0dHJpYnV0ZXM/LnBhcmVudElkID09PSBncmFwaGljLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAob3JwaGFuZWRNZWFzdXJlbWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhgUmVtb3ZpbmcgJHtvcnBoYW5lZE1lYXN1cmVtZW50cy5sZW5ndGh9IG9ycGhhbmVkIG1lYXN1cmVtZW50IGxhYmVsc2ApO1xyXG4gICAgICAgICAgICAgICAgb3JwaGFuZWRNZWFzdXJlbWVudHMuZm9yRWFjaChvcnBoYW4gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5yZW1vdmUob3JwaGFuKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdBY3R1YWwgY2xlYW51cCBjb21wbGV0ZWQnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZvcmNlIGEgbWFwIHJlZnJlc2ggYWZ0ZXIgY2xlYW51cFxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZm9yY2VNYXBSZWZyZXNoKCk7XHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGFjdHVhbCBjbGVhbnVwOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gRml4ZWQgdmVyc2lvbiB3aXRoIHByb3BlciBUeXBlU2NyaXB0IHR5cGVzOlxyXG5cclxuICAgIHByaXZhdGUgY29udmVydFRvR2VvZ3JhcGhpYyA9IChwb2ludDogX19lc3JpLlBvaW50KTogX19lc3JpLlBvaW50ID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBJZiBhbHJlYWR5IGluIGdlb2dyYXBoaWMgY29vcmRpbmF0ZXMsIHJldHVybiBhcy1pc1xyXG4gICAgICAgICAgICBpZiAocG9pbnQuc3BhdGlhbFJlZmVyZW5jZSAmJiAoXHJcbiAgICAgICAgICAgICAgICBwb2ludC5zcGF0aWFsUmVmZXJlbmNlLndraWQgPT09IDQzMjYgfHxcclxuICAgICAgICAgICAgICAgIChwb2ludC5zcGF0aWFsUmVmZXJlbmNlIGFzIGFueSkubGF0ZXN0V2tpZCA9PT0gNDMyNlxyXG4gICAgICAgICAgICApKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBwb2ludCBpbiBXR1M4NCAoR2VvZ3JhcGhpYylcclxuICAgICAgICAgICAgY29uc3QgZ2VvZ3JhcGhpY1NSID0ge1xyXG4gICAgICAgICAgICAgICAgd2tpZDogNDMyNlxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhY2Nlc3MgdG8gZ2VvbWV0cnlFbmdpbmVBc3luYywgdXNlIGl0IGZvciBwcm9qZWN0aW9uXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZ2VvbWV0cnlFbmdpbmVBc3luYyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIC8vIFVzZSB3ZWJNZXJjYXRvclV0aWxzIGZvciBjb29yZGluYXRlIGNvbnZlcnNpb24gaW5zdGVhZFxyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJbXBvcnQgd2ViTWVyY2F0b3JVdGlscyBpZiBhdmFpbGFibGVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB3ZWJNZXJjYXRvclV0aWxzID0gcmVxdWlyZSgnZXNyaS9nZW9tZXRyeS9zdXBwb3J0L3dlYk1lcmNhdG9yVXRpbHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAod2ViTWVyY2F0b3JVdGlscyAmJiB3ZWJNZXJjYXRvclV0aWxzLndlYk1lcmNhdG9yVG9HZW9ncmFwaGljKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3ZWJNZXJjYXRvclV0aWxzLndlYk1lcmNhdG9yVG9HZW9ncmFwaGljKHBvaW50KSBhcyBfX2VzcmkuUG9pbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZhbGwgdGhyb3VnaCB0byBtYW51YWwgY29udmVyc2lvblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBGYWxsYmFjazogaWYgcG9pbnQgaGFzIGxvbmdpdHVkZS9sYXRpdHVkZSBwcm9wZXJ0aWVzLCB1c2UgdGhvc2VcclxuICAgICAgICAgICAgaWYgKHBvaW50LmxvbmdpdHVkZSAhPT0gdW5kZWZpbmVkICYmIHBvaW50LmxhdGl0dWRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwb2ludDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTGFzdCByZXNvcnQ6IGFzc3VtZSBXZWIgTWVyY2F0b3IgYW5kIGNvbnZlcnQgbWFudWFsbHlcclxuICAgICAgICAgICAgaWYgKHBvaW50LnNwYXRpYWxSZWZlcmVuY2UgJiYgKFxyXG4gICAgICAgICAgICAgICAgcG9pbnQuc3BhdGlhbFJlZmVyZW5jZS53a2lkID09PSAzODU3IHx8XHJcbiAgICAgICAgICAgICAgICAocG9pbnQuc3BhdGlhbFJlZmVyZW5jZSBhcyBhbnkpLmxhdGVzdFdraWQgPT09IDM4NTdcclxuICAgICAgICAgICAgKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbG9uID0gKHBvaW50LnggLyAyMDAzNzUwOC4zNCkgKiAxODA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYXQgPSAoTWF0aC5hdGFuKE1hdGguZXhwKChwb2ludC55IC8gMjAwMzc1MDguMzQpICogTWF0aC5QSSkpICogMzYwIC8gTWF0aC5QSSkgLSA5MDtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IGxvbixcclxuICAgICAgICAgICAgICAgICAgICB5OiBsYXQsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBsb24sXHJcbiAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGU6IGxhdCxcclxuICAgICAgICAgICAgICAgICAgICBzcGF0aWFsUmVmZXJlbmNlOiBnZW9ncmFwaGljU1JcclxuICAgICAgICAgICAgICAgIH0gYXMgX19lc3JpLlBvaW50O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBJZiB3ZSBjYW4ndCBjb252ZXJ0LCByZXR1cm4gdGhlIG9yaWdpbmFsIHBvaW50IGJ1dCBsb2cgYSB3YXJuaW5nXHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQ291bGQgbm90IGNvbnZlcnQgcG9pbnQgdG8gZ2VvZ3JhcGhpYyBjb29yZGluYXRlczonLCBwb2ludCk7XHJcbiAgICAgICAgICAgIHJldHVybiBwb2ludDtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29udmVydGluZyBwb2ludCB0byBnZW9ncmFwaGljOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIHBvaW50O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBjb252ZXJ0Q29vcmRpbmF0ZVRvR2VvZ3JhcGhpYyA9ICh4OiBudW1iZXIsIHk6IG51bWJlcik6IHsgbG9uZ2l0dWRlOiBudW1iZXI7IGxhdGl0dWRlOiBudW1iZXIgfSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gR2V0IHRoZSBzcGF0aWFsIHJlZmVyZW5jZSBmcm9tIHRoZSBtYXAgdmlld1xyXG4gICAgICAgICAgICBjb25zdCBtYXBTUiA9IHRoaXMucHJvcHMuamltdU1hcFZpZXc/LnZpZXc/LnNwYXRpYWxSZWZlcmVuY2U7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBhbHJlYWR5IGluIGdlb2dyYXBoaWMgY29vcmRpbmF0ZXNcclxuICAgICAgICAgICAgaWYgKG1hcFNSICYmIChtYXBTUi53a2lkID09PSA0MzI2IHx8IChtYXBTUiBhcyBhbnkpLmxhdGVzdFdraWQgPT09IDQzMjYpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBsb25naXR1ZGU6IHgsIGxhdGl0dWRlOiB5IH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIElmIFdlYiBNZXJjYXRvciwgY29udmVydCBtYW51YWxseVxyXG4gICAgICAgICAgICBpZiAobWFwU1IgJiYgKG1hcFNSLndraWQgPT09IDM4NTcgfHwgKG1hcFNSIGFzIGFueSkubGF0ZXN0V2tpZCA9PT0gMzg1NykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvbiA9ICh4IC8gMjAwMzc1MDguMzQpICogMTgwO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGF0ID0gKE1hdGguYXRhbihNYXRoLmV4cCgoeSAvIDIwMDM3NTA4LjM0KSAqIE1hdGguUEkpKSAqIDM2MCAvIE1hdGguUEkpIC0gOTA7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBsb25naXR1ZGU6IGxvbiwgbGF0aXR1ZGU6IGxhdCB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBGb3Igb3RoZXIgY29vcmRpbmF0ZSBzeXN0ZW1zLCBhc3N1bWUgdGhleSdyZSBhbHJlYWR5IGluIHRoZSBjb3JyZWN0IGZvcm1hdFxyXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgZmFsbGJhY2sgdGhhdCBtYXkgbmVlZCBhZGp1c3RtZW50IGJhc2VkIG9uIHlvdXIgc3BlY2lmaWMgdXNlIGNhc2VcclxuICAgICAgICAgICAgcmV0dXJuIHsgbG9uZ2l0dWRlOiB4LCBsYXRpdHVkZTogeSB9O1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb252ZXJ0aW5nIGNvb3JkaW5hdGUgdG8gZ2VvZ3JhcGhpYzonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGxvbmdpdHVkZTogeCwgbGF0aXR1ZGU6IHkgfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEFsdGVybmF0aXZlIGFwcHJvYWNoIHVzaW5nIGEgc2ltcGxlciBjb29yZGluYXRlIGNvbnZlcnNpb24gbWV0aG9kOlxyXG4gICAgcHJpdmF0ZSBzaW1wbGVDb29yZGluYXRlQ29udmVyc2lvbiA9IChnZW9tZXRyeTogX19lc3JpLkdlb21ldHJ5KTogYW55ID0+IHtcclxuICAgICAgICBpZiAoIWdlb21ldHJ5KSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgc3dpdGNoIChnZW9tZXRyeS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdwb2ludCc6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBnZW9tZXRyeSBhcyBfX2VzcmkuUG9pbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgbG9uZ2l0dWRlL2xhdGl0dWRlIGRpcmVjdGx5XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvaW50LmxvbmdpdHVkZSAhPT0gdW5kZWZpbmVkICYmIHBvaW50LmxhdGl0dWRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQb2ludCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlczogW3BvaW50LmxvbmdpdHVkZSwgcG9pbnQubGF0aXR1ZGVdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IFdlYiBNZXJjYXRvciB0byBHZW9ncmFwaGljIGlmIG5lZWRlZFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsb24gPSBwb2ludC54O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsYXQgPSBwb2ludC55O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnQuc3BhdGlhbFJlZmVyZW5jZSAmJiBwb2ludC5zcGF0aWFsUmVmZXJlbmNlLndraWQgPT09IDM4NTcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9uID0gKHBvaW50LnggLyAyMDAzNzUwOC4zNCkgKiAxODA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdCA9IChNYXRoLmF0YW4oTWF0aC5leHAoKHBvaW50LnkgLyAyMDAzNzUwOC4zNCkgKiBNYXRoLlBJKSkgKiAzNjAgLyBNYXRoLlBJKSAtIDkwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BvaW50JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IFtsb24sIGxhdF1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ3BvbHlsaW5lJzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2x5bGluZSA9IGdlb21ldHJ5IGFzIF9fZXNyaS5Qb2x5bGluZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRocyA9IHBvbHlsaW5lLnBhdGhzLm1hcChwYXRoID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGgubWFwKGNvb3JkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsb24gPSBjb29yZFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsYXQgPSBjb29yZFsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGlmIFdlYiBNZXJjYXRvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvbHlsaW5lLnNwYXRpYWxSZWZlcmVuY2UgJiYgcG9seWxpbmUuc3BhdGlhbFJlZmVyZW5jZS53a2lkID09PSAzODU3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uID0gKGNvb3JkWzBdIC8gMjAwMzc1MDguMzQpICogMTgwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdCA9IChNYXRoLmF0YW4oTWF0aC5leHAoKGNvb3JkWzFdIC8gMjAwMzc1MDguMzQpICogTWF0aC5QSSkpICogMzYwIC8gTWF0aC5QSSkgLSA5MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2xvbiwgbGF0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHBhdGhzLmxlbmd0aCA+IDEgPyAnTXVsdGlMaW5lU3RyaW5nJyA6ICdMaW5lU3RyaW5nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHBhdGhzLmxlbmd0aCA+IDEgPyBwYXRocyA6IHBhdGhzWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdwb2x5Z29uJzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2x5Z29uID0gZ2VvbWV0cnkgYXMgX19lc3JpLlBvbHlnb247XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmluZ3MgPSBwb2x5Z29uLnJpbmdzLm1hcChyaW5nID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpbmcubWFwKGNvb3JkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsb24gPSBjb29yZFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsYXQgPSBjb29yZFsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGlmIFdlYiBNZXJjYXRvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvbHlnb24uc3BhdGlhbFJlZmVyZW5jZSAmJiBwb2x5Z29uLnNwYXRpYWxSZWZlcmVuY2Uud2tpZCA9PT0gMzg1Nykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbiA9IChjb29yZFswXSAvIDIwMDM3NTA4LjM0KSAqIDE4MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQgPSAoTWF0aC5hdGFuKE1hdGguZXhwKChjb29yZFsxXSAvIDIwMDM3NTA4LjM0KSAqIE1hdGguUEkpKSAqIDM2MCAvIE1hdGguUEkpIC0gOTA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtsb24sIGxhdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUG9seWdvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiByaW5nc1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZXh0ZW50JzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBleHRlbnQgPSBnZW9tZXRyeSBhcyBfX2VzcmkuRXh0ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB4bWluID0gZXh0ZW50LnhtaW47XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHltaW4gPSBleHRlbnQueW1pbjtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgeG1heCA9IGV4dGVudC54bWF4O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB5bWF4ID0gZXh0ZW50LnltYXg7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgaWYgV2ViIE1lcmNhdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4dGVudC5zcGF0aWFsUmVmZXJlbmNlICYmIGV4dGVudC5zcGF0aWFsUmVmZXJlbmNlLndraWQgPT09IDM4NTcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeG1pbiA9IChleHRlbnQueG1pbiAvIDIwMDM3NTA4LjM0KSAqIDE4MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeW1pbiA9IChNYXRoLmF0YW4oTWF0aC5leHAoKGV4dGVudC55bWluIC8gMjAwMzc1MDguMzQpICogTWF0aC5QSSkpICogMzYwIC8gTWF0aC5QSSkgLSA5MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeG1heCA9IChleHRlbnQueG1heCAvIDIwMDM3NTA4LjM0KSAqIDE4MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeW1heCA9IChNYXRoLmF0YW4oTWF0aC5leHAoKGV4dGVudC55bWF4IC8gMjAwMzc1MDguMzQpICogTWF0aC5QSSkpICogMzYwIC8gTWF0aC5QSSkgLSA5MDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvb3JkcyA9IFtbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFt4bWluLCB5bWluXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgW3htYXgsIHltaW5dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbeG1heCwgeW1heF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFt4bWluLCB5bWF4XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgW3htaW4sIHltaW5dIC8vIENsb3NlIHRoZSByaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgXV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQb2x5Z29uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IGNvb3Jkc1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVuc3VwcG9ydGVkIGdlb21ldHJ5IHR5cGU6ICR7Z2VvbWV0cnkudHlwZX1gKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbnZlcnRpbmcgZ2VvbWV0cnkgdG8gR2VvSlNPTjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gUmVwbGFjZSB0aGUgY29udmVydFRvR2VvSlNPTkdlb21ldHJ5IG1ldGhvZCB3aXRoIHRoaXMgc2ltcGxlciB2ZXJzaW9uOlxyXG4gICAgcHJpdmF0ZSBjb252ZXJ0VG9HZW9KU09OR2VvbWV0cnkgPSAoZ2VvbWV0cnk6IF9fZXNyaS5HZW9tZXRyeSk6IGFueSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2ltcGxlQ29vcmRpbmF0ZUNvbnZlcnNpb24oZ2VvbWV0cnkpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBjb252ZXJ0U3ltYm9sVG9TdGFuZGFyZFByb3BlcnRpZXMgPSAoc3ltYm9sOiBfX2VzcmkuU3ltYm9sKTogYW55ID0+IHtcclxuICAgICAgICBpZiAoIXN5bWJvbCkgcmV0dXJuIHt9O1xyXG5cclxuICAgICAgICBjb25zdCBwcm9wZXJ0aWVzOiBhbnkgPSB7fTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgc3dpdGNoIChzeW1ib2wudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnc2ltcGxlLW1hcmtlcic6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFya2VyID0gc3ltYm9sIGFzIF9fZXNyaS5TaW1wbGVNYXJrZXJTeW1ib2w7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5tYXJrZXJfY29sb3IgPSBtYXJrZXIuY29sb3I/LnRvSGV4KCkgfHwgJyMwMDAwMDAnO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMubWFya2VyX3NpemUgPSBtYXJrZXIuc2l6ZSB8fCAxMjtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLm1hcmtlcl9zeW1ib2wgPSBtYXJrZXIuc3R5bGUgfHwgJ2NpcmNsZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmtlci5vdXRsaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuc3Ryb2tlID0gbWFya2VyLm91dGxpbmUuY29sb3I/LnRvSGV4KCkgfHwgJyMwMDAwMDAnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnN0cm9rZV93aWR0aCA9IG1hcmtlci5vdXRsaW5lLndpZHRoIHx8IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ3NpbXBsZS1saW5lJzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gc3ltYm9sIGFzIF9fZXNyaS5TaW1wbGVMaW5lU3ltYm9sO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuc3Ryb2tlID0gbGluZS5jb2xvcj8udG9IZXgoKSB8fCAnIzAwMDAwMCc7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5zdHJva2Vfd2lkdGggPSBsaW5lLndpZHRoIHx8IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5zdHJva2Vfb3BhY2l0eSA9IGxpbmUuY29sb3I/LmEgfHwgMTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdzaW1wbGUtZmlsbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsbCA9IHN5bWJvbCBhcyBfX2VzcmkuU2ltcGxlRmlsbFN5bWJvbDtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmZpbGwgPSBmaWxsLmNvbG9yPy50b0hleCgpIHx8ICcjMDAwMDAwJztcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmZpbGxfb3BhY2l0eSA9IGZpbGwuY29sb3I/LmEgfHwgMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsbC5vdXRsaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuc3Ryb2tlID0gZmlsbC5vdXRsaW5lLmNvbG9yPy50b0hleCgpIHx8ICcjMDAwMDAwJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5zdHJva2Vfd2lkdGggPSBmaWxsLm91dGxpbmUud2lkdGggfHwgMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAndGV4dCc6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHN5bWJvbCBhcyBfX2VzcmkuVGV4dFN5bWJvbDtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnRleHQgPSB0ZXh0LnRleHQgfHwgJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy50ZXh0X2NvbG9yID0gdGV4dC5jb2xvcj8udG9IZXgoKSB8fCAnIzAwMDAwMCc7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy50ZXh0X3NpemUgPSB0ZXh0LmZvbnQ/LnNpemUgfHwgMTI7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy50ZXh0X2ZvbnQgPSB0ZXh0LmZvbnQ/LmZhbWlseSB8fCAnQXJpYWwnO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFByZXNlcnZlIGZvbnQgc3R5bGUgY3VzdG9taXphdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dC5mb250Py53ZWlnaHQgJiYgdGV4dC5mb250LndlaWdodCAhPT0gJ25vcm1hbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy50ZXh0X3dlaWdodCA9IHRleHQuZm9udC53ZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0LmZvbnQ/LnN0eWxlICYmIHRleHQuZm9udC5zdHlsZSAhPT0gJ25vcm1hbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy50ZXh0X3N0eWxlID0gdGV4dC5mb250LnN0eWxlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dC5mb250Py5kZWNvcmF0aW9uICYmIHRleHQuZm9udC5kZWNvcmF0aW9uICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy50ZXh0X2RlY29yYXRpb24gPSB0ZXh0LmZvbnQuZGVjb3JhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJlc2VydmUgdGV4dCBhbGlnbm1lbnRcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnRleHRfYWxpZ24gPSB0ZXh0Lmhvcml6b250YWxBbGlnbm1lbnQgfHwgJ2NlbnRlcic7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy50ZXh0X2Jhc2VsaW5lID0gdGV4dC52ZXJ0aWNhbEFsaWdubWVudCB8fCAnbWlkZGxlJztcclxuICAgICAgICAgICAgICAgICAgICAvLyBQcmVzZXJ2ZSByb3RhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0LmFuZ2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMudGV4dF9yb3RhdGlvbiA9IHRleHQuYW5nbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFByZXNlcnZlIHRleHQgb3BhY2l0eSAoYWxwaGEpXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy50ZXh0X29wYWNpdHkgPSB0ZXh0LmNvbG9yPy5hID8/IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJlc2VydmUgaGFsbyBzZXR0aW5ncyBpZiBhbnlcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYWxvU2l6ZSA9IHRleHQuaGFsb1NpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhbG9TaXplICE9PSBudWxsICYmIGhhbG9TaXplICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy50ZXh0X2hhbG9fc2l6ZSA9IGhhbG9TaXplO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFsb1NpemUgPiAwICYmIHRleHQuaGFsb0NvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnRleHRfaGFsb19jb2xvciA9IHRleHQuaGFsb0NvbG9yLnRvSGV4Py4oKSB8fCAnI0ZGRkZGRic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnRleHRfaGFsb19vcGFjaXR5ID0gdGV4dC5oYWxvQ29sb3IuYSA/PyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29udmVydGluZyBzeW1ib2wgcHJvcGVydGllczonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcHJvcGVydGllcztcclxuICAgIH07XHJcbiAgICAvLyBBZGQgZGVidWdnaW5nIHRvIHNlZSB3aGF0J3MgaGFwcGVuaW5nIGluIHRoZSBjb252ZXJzaW9uIHByb2Nlc3NcclxuXHJcbiAgICBwcml2YXRlIGdlbmVyYXRlQ29tcGF0aWJsZUV4cG9ydERhdGEgPSBhc3luYyAoZHJhd2luZ3NUb0V4cG9ydDogRXh0ZW5kZWRHcmFwaGljW10pID0+IHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdTdGFydGluZyBleHBvcnQgd2l0aCcsIGRyYXdpbmdzVG9FeHBvcnQubGVuZ3RoLCAnZHJhd2luZ3MnKTtcclxuXHJcbiAgICAgICAgY29uc3QgZ2VvSlNPTkZlYXR1cmVzOiBhbnlbXSA9IFtdO1xyXG5cclxuICAgICAgICAvLyBIZWxwZXI6IGVuc3VyZSB3ZSBhbHdheXMgaGF2ZSBhIHN0YWJsZSBJRCB0byByb3VuZC10cmlwXHJcbiAgICAgICAgY29uc3QgZ2V0SWQgPSAoZzogYW55KTogc3RyaW5nID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGc/LmF0dHJpYnV0ZXM/LnVuaXF1ZUlkXHJcbiAgICAgICAgICAgICAgICB8fCBnPy5hdHRyaWJ1dGVzPy5pZFxyXG4gICAgICAgICAgICAgICAgfHwgYGV4cF8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgMTApfWA7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gSGVscGVyOiBleHRyYWN0IGZ1bGwgdGV4dCBzeW1ib2wgc3R5bGluZyAoZG9lc24ndCByZWx5IHNvbGVseSBvbiBjb252ZXJ0U3ltYm9sVG9TdGFuZGFyZFByb3BlcnRpZXMpXHJcbiAgICAgICAgY29uc3QgZXh0cmFjdFRleHRTeW1ib2xQcm9wcyA9IChzeW06IF9fZXNyaS5TeW1ib2wgfCBhbnkpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFzeW0gfHwgc3ltLnR5cGUgIT09ICd0ZXh0JykgcmV0dXJuIHt9O1xyXG4gICAgICAgICAgICBjb25zdCB0cyA9IHN5bSBhcyBfX2VzcmkuVGV4dFN5bWJvbDtcclxuXHJcbiAgICAgICAgICAgIC8vIEZvbnQgZmllbGRzXHJcbiAgICAgICAgICAgIGNvbnN0IGZvbnQgPSB0cy5mb250IHx8ICh7fSBhcyBhbnkpO1xyXG4gICAgICAgICAgICBjb25zdCBvdXQ6IGFueSA9IHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IHRzLnRleHQgPz8gJycsXHJcbiAgICAgICAgICAgICAgICB0ZXh0X2NvbG9yOiAodHMuY29sb3IgJiYgdHlwZW9mICh0cy5jb2xvciBhcyBhbnkpLnRvSGV4ID09PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgICAgICAgICAgICAgID8gKHRzLmNvbG9yIGFzIGFueSkudG9IZXgoKVxyXG4gICAgICAgICAgICAgICAgICAgIDogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICAgICAgdGV4dF9vcGFjaXR5OiAodHMuY29sb3IgJiYgdHlwZW9mICh0cy5jb2xvciBhcyBhbnkpLmEgPT09ICdudW1iZXInKVxyXG4gICAgICAgICAgICAgICAgICAgID8gKHRzLmNvbG9yIGFzIGFueSkuYVxyXG4gICAgICAgICAgICAgICAgICAgIDogMSxcclxuICAgICAgICAgICAgICAgIHRleHRfc2l6ZTogdHlwZW9mIGZvbnQuc2l6ZSA9PT0gJ251bWJlcicgPyBmb250LnNpemUgOiAxMixcclxuICAgICAgICAgICAgICAgIHRleHRfZm9udDogZm9udC5mYW1pbHkgfHwgJ0FyaWFsJyxcclxuICAgICAgICAgICAgICAgIHRleHRfd2VpZ2h0OiBmb250LndlaWdodCB8fCAnbm9ybWFsJyxcclxuICAgICAgICAgICAgICAgIHRleHRfc3R5bGU6IGZvbnQuc3R5bGUgfHwgJ25vcm1hbCcsXHJcbiAgICAgICAgICAgICAgICB0ZXh0X2RlY29yYXRpb246IGZvbnQuZGVjb3JhdGlvbiB8fCAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICB0ZXh0X2FsaWduOiB0cy5ob3Jpem9udGFsQWxpZ25tZW50IHx8ICdjZW50ZXInLFxyXG4gICAgICAgICAgICAgICAgdGV4dF9iYXNlbGluZTogdHMudmVydGljYWxBbGlnbm1lbnQgfHwgJ21pZGRsZScsXHJcbiAgICAgICAgICAgICAgICB0ZXh0X3JvdGF0aW9uOiB0eXBlb2YgdHMuYW5nbGUgPT09ICdudW1iZXInID8gdHMuYW5nbGUgOiAwXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBIYWxvIChvcHRpb25hbClcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0cy5oYWxvU2l6ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIG91dC50ZXh0X2hhbG9fc2l6ZSA9IHRzLmhhbG9TaXplO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRzLmhhbG9TaXplID4gMCAmJiB0cy5oYWxvQ29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBvdXQudGV4dF9oYWxvX2NvbG9yID0gKHR5cGVvZiAodHMuaGFsb0NvbG9yIGFzIGFueSkudG9IZXggPT09ICdmdW5jdGlvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKHRzLmhhbG9Db2xvciBhcyBhbnkpLnRvSGV4KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiAnI0ZGRkZGRic7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0LnRleHRfaGFsb19vcGFjaXR5ID0gdHlwZW9mICh0cy5oYWxvQ29sb3IgYXMgYW55KS5hID09PSAnbnVtYmVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICh0cy5oYWxvQ29sb3IgYXMgYW55KS5hXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG91dDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBIZWxwZXI6IHdyaXRlIG9uZSBmZWF0dXJlIHRvIGFycmF5XHJcbiAgICAgICAgY29uc3QgcHVzaEZlYXR1cmUgPSAoZ2VvbWV0cnk6IGFueSwgcHJvcGVydGllczogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGdlb0pTT05GZWF0dXJlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdGZWF0dXJlJyxcclxuICAgICAgICAgICAgICAgIGdlb21ldHJ5LFxyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBIZWxwZXI6IGFkZCB0aGUgbWFpbiBkcmF3aW5nIGFzIGEgZmVhdHVyZVxyXG4gICAgICAgIGNvbnN0IGV4cG9ydERyYXdpbmcgPSBhc3luYyAoZ3JhcGhpYzogRXh0ZW5kZWRHcmFwaGljLCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdlb0pTT05HZW9tZXRyeSA9IGF3YWl0IHRoaXMuY29udmVydFRvU3RhbmRhcmRHZW9KU09OKGdyYXBoaWMuZ2VvbWV0cnkpO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGBDb252ZXJ0ZWQgZ2VvbWV0cnkgZm9yIGRyYXdpbmcgJHtpbmRleH06YCwgZ2VvSlNPTkdlb21ldHJ5KTtcclxuICAgICAgICAgICAgaWYgKCFnZW9KU09OR2VvbWV0cnkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgRmFpbGVkIHRvIGNvbnZlcnQgZ2VvbWV0cnkgZm9yIGRyYXdpbmcgJHtpbmRleH1gKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgYmFzZVByb3BzOiBhbnkgPSB7XHJcbiAgICAgICAgICAgICAgICBpZDogZ2V0SWQoZ3JhcGhpYyksXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBncmFwaGljLmF0dHJpYnV0ZXM/Lm5hbWUgfHwgYERyYXdpbmcgJHtpbmRleCArIDF9YCxcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgJHt0aGlzLmdldERyYXdpbmdUeXBlTGFiZWwoZ3JhcGhpYyl9IGRyYXdpbmdgLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy5nZXREcmF3aW5nVHlwZUxhYmVsKGdyYXBoaWMpLFxyXG4gICAgICAgICAgICAgICAgY3JlYXRlZDogZ3JhcGhpYy5hdHRyaWJ1dGVzPy5jcmVhdGVkRGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgID8gbmV3IERhdGUoZ3JhcGhpYy5hdHRyaWJ1dGVzLmNyZWF0ZWREYXRlKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBDb3JlIHN5bWJvbCBwcm9wc1xyXG4gICAgICAgICAgICBjb25zdCBzeW1ib2xQcm9wcyA9IHRoaXMuY29udmVydFN5bWJvbFRvU3RhbmRhcmRQcm9wZXJ0aWVzKGdyYXBoaWMuc3ltYm9sKSB8fCB7fTtcclxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihiYXNlUHJvcHMsIHN5bWJvbFByb3BzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIGl0J3MgYSB0ZXh0IHN5bWJvbCwgZW5zdXJlIHdlIGZ1bGx5IGNhcHR1cmUgc3R5bGVcclxuICAgICAgICAgICAgaWYgKGdyYXBoaWMuc3ltYm9sPy50eXBlID09PSAndGV4dCcpIHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYmFzZVByb3BzLCBleHRyYWN0VGV4dFN5bWJvbFByb3BzKGdyYXBoaWMuc3ltYm9sKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEJ1ZmZlciBtZXRhZGF0YSAoaWYgcHJlc2VudC9lbmFibGVkKVxyXG4gICAgICAgICAgICBpZiAoZ3JhcGhpYy5idWZmZXJTZXR0aW5ncyAmJiBncmFwaGljLmJ1ZmZlclNldHRpbmdzLmVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIGJhc2VQcm9wcy5idWZmZXJEaXN0YW5jZSA9IGdyYXBoaWMuYnVmZmVyU2V0dGluZ3MuZGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBiYXNlUHJvcHMuYnVmZmVyVW5pdCA9IGdyYXBoaWMuYnVmZmVyU2V0dGluZ3MudW5pdDtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZ3JhcGhpYy5idWZmZXJTZXR0aW5ncy5vcGFjaXR5ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VQcm9wcy5idWZmZXJPcGFjaXR5ID0gZ3JhcGhpYy5idWZmZXJTZXR0aW5ncy5vcGFjaXR5OyAvLyBvcHRpb25hbCwgYnV0IHVzZWZ1bFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwdXNoRmVhdHVyZShnZW9KU09OR2VvbWV0cnksIGJhc2VQcm9wcyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gSGVscGVyOiBleHBvcnQgb25lIG1lYXN1cmVtZW50IGxhYmVsIGFzIGl0cyBvd24gR2VvSlNPTiBmZWF0dXJlXHJcbiAgICAgICAgY29uc3QgZXhwb3J0TWVhc3VyZW1lbnRMYWJlbCA9IGFzeW5jIChsYWJlbEdyYXBoaWM6IGFueSwgcGFyZW50R3JhcGhpYzogYW55LCBpTGFiZWw6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWxhYmVsR3JhcGhpYz8uZ2VvbWV0cnkpIHJldHVybjtcclxuICAgICAgICAgICAgY29uc3QgZ2VvbSA9IGF3YWl0IHRoaXMuY29udmVydFRvU3RhbmRhcmRHZW9KU09OKGxhYmVsR3JhcGhpYy5nZW9tZXRyeSk7XHJcbiAgICAgICAgICAgIGlmICghZ2VvbSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbGFiZWxJZCA9IGdldElkKGxhYmVsR3JhcGhpYyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudElkID0gZ2V0SWQocGFyZW50R3JhcGhpYyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwcm9wczogYW55ID0ge1xyXG4gICAgICAgICAgICAgICAgaWQ6IGxhYmVsSWQsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBsYWJlbEdyYXBoaWMuYXR0cmlidXRlcz8ubmFtZSB8fCAnTWVhc3VyZW1lbnQgTGFiZWwnLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdNZWFzdXJlbWVudCBsYWJlbCcsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnVGV4dCcsXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVkOiBsYWJlbEdyYXBoaWMuYXR0cmlidXRlcz8uY3JlYXRlZERhdGVcclxuICAgICAgICAgICAgICAgICAgICA/IG5ldyBEYXRlKGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzLmNyZWF0ZWREYXRlKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENyaXRpY2FsIGZsYWdzIHNvIHJlc3RvcmVkIGxhYmVscyBiZWhhdmUgYXMgbWVhc3VyZW1lbnQgbGFiZWxzXHJcbiAgICAgICAgICAgICAgICBpc01lYXN1cmVtZW50TGFiZWw6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBoaWRlRnJvbUxpc3Q6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnRHcmFwaGljSWQ6IHBhcmVudElkXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBVbml0cyAmIG1lYXN1cmVtZW50IG1ldGEgKGlmIGF2YWlsYWJsZSlcclxuICAgICAgICAgICAgaWYgKGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzPy5tZWFzdXJlbWVudFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzLm1lYXN1cmVtZW50VHlwZSA9IGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzLm1lYXN1cmVtZW50VHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobGFiZWxHcmFwaGljLmF0dHJpYnV0ZXM/Lmxlbmd0aFVuaXQpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzLmxlbmd0aFVuaXQgPSBsYWJlbEdyYXBoaWMuYXR0cmlidXRlcy5sZW5ndGhVbml0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChsYWJlbEdyYXBoaWMuYXR0cmlidXRlcz8uYXJlYVVuaXQpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzLmFyZWFVbml0ID0gbGFiZWxHcmFwaGljLmF0dHJpYnV0ZXMuYXJlYVVuaXQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEJhc2Ugc3ltYm9sIHByb3BzICsgY29tcGxldGUgdGV4dCBzdHlsaW5nXHJcbiAgICAgICAgICAgIGNvbnN0IHN5bVByb3BzID0gdGhpcy5jb252ZXJ0U3ltYm9sVG9TdGFuZGFyZFByb3BlcnRpZXMobGFiZWxHcmFwaGljLnN5bWJvbCkgfHwge307XHJcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocHJvcHMsIHN5bVByb3BzKTtcclxuICAgICAgICAgICAgaWYgKGxhYmVsR3JhcGhpYy5zeW1ib2w/LnR5cGUgPT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihwcm9wcywgZXh0cmFjdFRleHRTeW1ib2xQcm9wcyhsYWJlbEdyYXBoaWMuc3ltYm9sKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHB1c2hGZWF0dXJlKGdlb20sIHByb3BzKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBXYWxrIGVhY2ggZHJhd2luZyBhbmQgZXhwb3J0IGl0ICsgaXRzIGxhYmVsc1xyXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBkcmF3aW5nc1RvRXhwb3J0Lmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBncmFwaGljID0gZHJhd2luZ3NUb0V4cG9ydFtpbmRleF07XHJcblxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgUHJvY2Vzc2luZyBncmFwaGljICR7aW5kZXh9OmAsIHtcclxuICAgICAgICAgICAgLy8gICBoYXNHcmFwaGljOiAhIWdyYXBoaWMsXHJcbiAgICAgICAgICAgIC8vICAgaGFzR2VvbWV0cnk6ICEhZ3JhcGhpYz8uZ2VvbWV0cnksXHJcbiAgICAgICAgICAgIC8vICAgZ2VvbWV0cnlUeXBlOiBncmFwaGljPy5nZW9tZXRyeT8udHlwZVxyXG4gICAgICAgICAgICAvLyB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICBpZiAoIWdyYXBoaWMgfHwgIWdyYXBoaWMuZ2VvbWV0cnkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgU2tpcHBpbmcgZ3JhcGhpYyAke2luZGV4fTogbWlzc2luZyBncmFwaGljIG9yIGdlb21ldHJ5YCk7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gMSkgRXhwb3J0IHRoZSBiYXNlIGRyYXdpbmdcclxuICAgICAgICAgICAgYXdhaXQgZXhwb3J0RHJhd2luZyhncmFwaGljLCBpbmRleCk7XHJcblxyXG4gICAgICAgICAgICAvLyAyKSBFeHBvcnQgYW55IHJlbGF0ZWQgbWVhc3VyZW1lbnQgbGFiZWxzIChtYWluICsgcGVyLXNlZ21lbnQpXHJcbiAgICAgICAgICAgIC8vICAgIFlvdXIgY29kZSBlbHNld2hlcmUgdXNlcyBmbGFncy9jb2xsZWN0aW9ucyBsaWtlIGlzTWVhc3VyZW1lbnRMYWJlbC9oaWRlRnJvbUxpc3RcclxuICAgICAgICAgICAgLy8gICAgYW5kIHJlbGF0ZWRTZWdtZW50TGFiZWxzOyB3ZSBpbnNwZWN0IHRob3NlIGhlcmUuXHJcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsczogYW55W10gPSBbXTtcclxuXHJcbiAgICAgICAgICAgIC8vIFByaW1hcnkgbGFiZWwgKGlmIG1hbmFnZWQgdmlhIHBhcmVudC5tZWFzdXJlLmdyYXBoaWMpXHJcbiAgICAgICAgICAgIGlmIChncmFwaGljLm1lYXN1cmU/LmdyYXBoaWMgJiYgZ3JhcGhpYy5tZWFzdXJlLmdyYXBoaWMuYXR0cmlidXRlcz8uaXNNZWFzdXJlbWVudExhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbHMucHVzaChncmFwaGljLm1lYXN1cmUuZ3JhcGhpYyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFueSBhZGRpdGlvbmFsL3NlZ21lbnQgbGFiZWxzIHRoZSBwYXJlbnQgdHJhY2tzXHJcbiAgICAgICAgICAgIGNvbnN0IHNlZ3MgPSBncmFwaGljLmF0dHJpYnV0ZXM/LnJlbGF0ZWRTZWdtZW50TGFiZWxzO1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzZWdzKSAmJiBzZWdzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzIG9mIHNlZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocz8uYXR0cmlidXRlcz8uaXNNZWFzdXJlbWVudExhYmVsKSBsYWJlbHMucHVzaChzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gRXh0cmEgc2FmZXR5OiBzY2FuIHRoZSBsYXllciBmb3IgbGFiZWxzIHJlZmVyZW5jaW5nIHRoaXMgcGFyZW50IGJ5IGlkXHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudElkID0gZ2V0SWQoZ3JhcGhpYyk7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllcjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFsbCA9IGxheWVyPy5ncmFwaGljcz8udG9BcnJheT8uKCkgPz8gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGcgb2YgYWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGc/LmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRMYWJlbCAmJiBnPy5hdHRyaWJ1dGVzPy5wYXJlbnRHcmFwaGljSWQgPT09IHBhcmVudElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGFiZWxzLmluY2x1ZGVzKGcpKSBsYWJlbHMucHVzaChnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICAgICAgLy8gbm8tb3BcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gRXhwb3J0IGRlZHVwZWQgbGFiZWxzXHJcbiAgICAgICAgICAgIGNvbnN0IHNlZW4gPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYWJlbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxnID0gbGFiZWxzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGlkID0gZ2V0SWQobGcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlZW4uaGFzKGxpZCkpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgc2Vlbi5hZGQobGlkKTtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgZXhwb3J0TWVhc3VyZW1lbnRMYWJlbChsZywgZ3JhcGhpYywgaSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgZXhwb3J0aW5nIG1lYXN1cmVtZW50IGxhYmVsJywgZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ0ZpbmFsIGZlYXR1cmVzIGFycmF5OicsIGdlb0pTT05GZWF0dXJlcyk7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGdlb0pTT05Gb3JtYXQ6IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsXHJcbiAgICAgICAgICAgICAgICBmZWF0dXJlczogZ2VvSlNPTkZlYXR1cmVzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDb252ZXJ0IGNvb3JkaW5hdGVzIHRvIFdHUzg0IChsb25naXR1ZGUvbGF0aXR1ZGUpXHJcbiAgICBwcml2YXRlIGdldFdHUzg0Q29vcmRpbmF0ZXMgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB7IGxvbjogbnVtYmVyOyBsYXQ6IG51bWJlciB9ID0+IHtcclxuICAgICAgICBjb25zdCBtYXBTUiA9IHRoaXMucHJvcHMuamltdU1hcFZpZXc/LnZpZXc/LnNwYXRpYWxSZWZlcmVuY2U7XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCfwn5SNIENvbnZlcnRpbmcgY29vcmRpbmF0ZXM6Jywge1xyXG4gICAgICAgIC8vICAgb3JpZ2luYWxYOiB4LFxyXG4gICAgICAgIC8vICAgb3JpZ2luYWxZOiB5LFxyXG4gICAgICAgIC8vICAgbWFwU1I6IG1hcFNSPy53a2lkXHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgIC8vIElmIGFscmVhZHkgaW4gV0dTODQgKGdlb2dyYXBoaWMgY29vcmRpbmF0ZXMpXHJcbiAgICAgICAgaWYgKCFtYXBTUiB8fCBtYXBTUi53a2lkID09PSA0MzI2KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcclxuICAgICAgICAgICAgICAgIGxvbjogTnVtYmVyKHgudG9GaXhlZCg4KSksXHJcbiAgICAgICAgICAgICAgICBsYXQ6IE51bWJlcih5LnRvRml4ZWQoOCkpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ/CflI0gQWxyZWFkeSBXR1M4NDonLCByZXN1bHQpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ29udmVydCBmcm9tIFdlYiBNZXJjYXRvciAobW9zdCBjb21tb24pXHJcbiAgICAgICAgaWYgKG1hcFNSLndraWQgPT09IDM4NTcgfHwgbWFwU1Iud2tpZCA9PT0gMTAyMTAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvbiA9ICh4IC8gMjAwMzc1MDguMzQpICogMTgwO1xyXG4gICAgICAgICAgICBjb25zdCBsYXQgPSAoTWF0aC5hdGFuKE1hdGguZXhwKCh5IC8gMjAwMzc1MDguMzQpICogTWF0aC5QSSkpICogMzYwIC8gTWF0aC5QSSkgLSA5MDtcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICAgICAgbG9uOiBOdW1iZXIobG9uLnRvRml4ZWQoOCkpLFxyXG4gICAgICAgICAgICAgICAgbGF0OiBOdW1iZXIobGF0LnRvRml4ZWQoOCkpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ/CflI0gQ29udmVydGVkIGZyb20gV2ViIE1lcmNhdG9yOicsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGb3Igb3RoZXIgY29vcmRpbmF0ZSBzeXN0ZW1zLCBhc3N1bWUgdGhleSBuZWVkIG5vIGNvbnZlcnNpb25cclxuICAgICAgICBjb25zdCByZXN1bHQgPSB7XHJcbiAgICAgICAgICAgIGxvbjogTnVtYmVyKHgudG9GaXhlZCg4KSksXHJcbiAgICAgICAgICAgIGxhdDogTnVtYmVyKHkudG9GaXhlZCg4KSlcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ/CflI0gVXNpbmcgb3JpZ2luYWwgY29vcmRpbmF0ZXMgKHVua25vd24gU1IpOicsIHJlc3VsdCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vIFZhbGlkYXRlIHRoYXQgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB2YWxpZCBXR1M4NCBib3VuZHNcclxuICAgIHByaXZhdGUgaXNWYWxpZENvb3JkaW5hdGUgPSAobG9uOiBudW1iZXIsIGxhdDogbnVtYmVyKTogYm9vbGVhbiA9PiB7XHJcbiAgICAgICAgcmV0dXJuICFpc05hTihsb24pICYmICFpc05hTihsYXQpICYmXHJcbiAgICAgICAgICAgIGxvbiA+PSAtMTgwICYmIGxvbiA8PSAxODAgJiZcclxuICAgICAgICAgICAgbGF0ID49IC05MCAmJiBsYXQgPD0gOTA7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENvbnZlcnQgc3ltYm9sIHByb3BlcnRpZXMgdG8gc3RhbmRhcmQgR2VvSlNPTi1mcmllbmRseSBwcm9wZXJ0aWVzXHJcblxyXG4gICAgcHJpdmF0ZSBkZXRlcm1pbmVFc3JpR2VvbWV0cnlUeXBlID0gKGdyYXBoaWNzOiBFeHRlbmRlZEdyYXBoaWNbXSk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBwcmVkb21pbmFudCBnZW9tZXRyeSB0eXBlIGZvciBFc3JpIGZvcm1hdFxyXG4gICAgICAgIGNvbnN0IHR5cGVDb3VudHMgPSBncmFwaGljcy5yZWR1Y2UoKGFjYywgZ3JhcGhpYykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0eXBlID0gZ3JhcGhpYy5nZW9tZXRyeT8udHlwZTtcclxuICAgICAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGFjY1t0eXBlXSA9IChhY2NbdHlwZV0gfHwgMCkgKyAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgfSwge30gYXMgUmVjb3JkPHN0cmluZywgbnVtYmVyPik7XHJcblxyXG4gICAgICAgIGNvbnN0IGRvbWluYW50VHlwZSA9IE9iamVjdC5rZXlzKHR5cGVDb3VudHMpLnJlZHVjZSgoYSwgYikgPT5cclxuICAgICAgICAgICAgdHlwZUNvdW50c1thXSA+IHR5cGVDb3VudHNbYl0gPyBhIDogYlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoZG9taW5hbnRUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3BvaW50JzogcmV0dXJuICdlc3JpR2VvbWV0cnlQb2ludCc7XHJcbiAgICAgICAgICAgIGNhc2UgJ3BvbHlsaW5lJzogcmV0dXJuICdlc3JpR2VvbWV0cnlQb2x5bGluZSc7XHJcbiAgICAgICAgICAgIGNhc2UgJ3BvbHlnb24nOlxyXG4gICAgICAgICAgICBjYXNlICdleHRlbnQnOiByZXR1cm4gJ2VzcmlHZW9tZXRyeVBvbHlnb24nO1xyXG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gJ2VzcmlHZW9tZXRyeVBvaW50JztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgZ2V0R3JhcGhpY0lkID0gKGdyYXBoaWM6IF9fZXNyaS5HcmFwaGljKTogc3RyaW5nID0+IHtcclxuICAgICAgICAvLyBUcnkgdG8gdXNlIGV4aXN0aW5nIHVuaXF1ZSBpZGVudGlmaWVycyBmaXJzdFxyXG4gICAgICAgIGlmIChncmFwaGljLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBncmFwaGljLmF0dHJpYnV0ZXMudW5pcXVlSWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZ3JhcGhpYy5hdHRyaWJ1dGVzPy5vYmplY3RJZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYG9ial8ke2dyYXBoaWMuYXR0cmlidXRlcy5vYmplY3RJZH1gO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRmFsbCBiYWNrIHRvIGdlbmVyYXRpbmcgYW4gSUQgYmFzZWQgb24gZ3JhcGhpYyBwcm9wZXJ0aWVzXHJcbiAgICAgICAgY29uc3QgZ2VvbWV0cnlUeXBlID0gZ3JhcGhpYy5nZW9tZXRyeT8udHlwZSB8fCAndW5rbm93bic7XHJcbiAgICAgICAgY29uc3Qgc3ltYm9sVHlwZSA9IGdyYXBoaWMuc3ltYm9sPy50eXBlIHx8ICd1bmtub3duJztcclxuICAgICAgICBjb25zdCB0ZXh0ID0gKGdyYXBoaWMuc3ltYm9sIGFzIGFueSk/LnRleHQgfHwgJyc7XHJcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBjb25zdCByYW5kb20gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XHJcblxyXG4gICAgICAgIHJldHVybiBgJHtnZW9tZXRyeVR5cGV9XyR7c3ltYm9sVHlwZX1fJHt0ZXh0LnN1YnN0cmluZygwLCAxMCl9XyR7dGltZXN0YW1wfV8ke3JhbmRvbX1gO1xyXG4gICAgfTtcclxuICAgIHByaXZhdGUgcGVyZm9ybUZpbmFsTWVhc3VyZW1lbnRDbGVhbnVwID0gKGRlbGV0ZWRHcmFwaGljOiBFeHRlbmRlZEdyYXBoaWMpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMuZ3JhcGhpY3NMYXllcikgcmV0dXJuO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBhbGxHcmFwaGljcyA9IHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5ncmFwaGljcy50b0FycmF5KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lYXN1cmVtZW50TGFiZWxzID0gYWxsR3JhcGhpY3MuZmlsdGVyKGcgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXh0RyA9IGcgYXMgRXh0ZW5kZWRHcmFwaGljO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4dEcuYXR0cmlidXRlcz8uaXNNZWFzdXJlbWVudExhYmVsO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYEZpbmFsIGNsZWFudXAgY2hlY2s6IEZvdW5kICR7bWVhc3VyZW1lbnRMYWJlbHMubGVuZ3RofSBtZWFzdXJlbWVudCBsYWJlbHNgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE9OTFkgcmVtb3ZlIG1lYXN1cmVtZW50IGxhYmVscyB0aGF0IGFyZSBzcGVjaWZpY2FsbHkgb3JwaGFuZWQgYnkgdGhpcyBkZWxldGlvblxyXG4gICAgICAgICAgICBjb25zdCBvcnBoYW5lZExhYmVscyA9IG1lYXN1cmVtZW50TGFiZWxzLmZpbHRlcihsYWJlbCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBleHRMYWJlbCA9IGxhYmVsIGFzIEV4dGVuZGVkR3JhcGhpYztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGV4dExhYmVsLm1lYXN1cmVQYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRJZCA9IGV4dExhYmVsLmF0dHJpYnV0ZXM/LnBhcmVudElkO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVsZXRlZEdyYXBoaWNJZCA9IGRlbGV0ZWRHcmFwaGljLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIE9ubHkgY29uc2lkZXIgaXQgb3JwaGFuZWQgaWYgaXQgd2FzIHNwZWNpZmljYWxseSBsaW5rZWQgdG8gdGhlIGRlbGV0ZWQgZ3JhcGhpY1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCA9PT0gZGVsZXRlZEdyYXBoaWMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gRGlyZWN0IHBhcmVudCByZWZlcmVuY2UgdG8gZGVsZXRlZCBncmFwaGljXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudElkICYmIGRlbGV0ZWRHcmFwaGljSWQgJiYgcGFyZW50SWQgPT09IGRlbGV0ZWRHcmFwaGljSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gUGFyZW50IElEIG1hdGNoZXMgZGVsZXRlZCBncmFwaGljJ3MgSURcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBETyBOT1QgcmVtb3ZlIGxhYmVscyB0aGF0IGRvbid0IGhhdmUgYSBjbGVhciBjb25uZWN0aW9uIHRvIHRoZSBkZWxldGVkIGdyYXBoaWNcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAob3JwaGFuZWRMYWJlbHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhgUmVtb3ZpbmcgJHtvcnBoYW5lZExhYmVscy5sZW5ndGh9IGxhYmVscyB0aGF0IHdlcmUgc3BlY2lmaWNhbGx5IG9ycGhhbmVkIGJ5IHRoaXMgZGVsZXRpb25gKTtcclxuICAgICAgICAgICAgICAgIG9ycGhhbmVkTGFiZWxzLmZvckVhY2gobGFiZWwgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYCAgLSBSZW1vdmluZyBvcnBoYW5lZCBsYWJlbDogXCIke2xhYmVsLmF0dHJpYnV0ZXM/Lm5hbWUgfHwgJ3VubmFtZWQnfVwiYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLnJlbW92ZShsYWJlbCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ05vIHNwZWNpZmljYWxseSBvcnBoYW5lZCBsYWJlbHMgZm91bmQnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBmaW5hbCBtZWFzdXJlbWVudCBjbGVhbnVwOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcHJpdmF0ZSBjcmVhdGVCdWZmZXJTeW1ib2xGcm9tUGFyZW50ID0gKHBhcmVudEdyYXBoaWM6IEV4dGVuZGVkR3JhcGhpYyk6IFNpbXBsZUZpbGxTeW1ib2wgPT4ge1xyXG4gICAgICAgIGNvbnN0IGdlb21UeXBlID0gcGFyZW50R3JhcGhpYy5nZW9tZXRyeT8udHlwZTtcclxuICAgICAgICBjb25zdCBwYXJlbnRTeW1ib2wgPSBwYXJlbnRHcmFwaGljLnN5bWJvbDtcclxuXHJcbiAgICAgICAgLy8g8J+UpyBDUklUSUNBTDogVXNlIHNhdmVkIG9wYWNpdHkgZnJvbSBidWZmZXIgc2V0dGluZ3MsIGZhbGxiYWNrIHRvIDUwJVxyXG4gICAgICAgIGNvbnN0IHNhdmVkT3BhY2l0eSA9IHBhcmVudEdyYXBoaWMuYnVmZmVyU2V0dGluZ3M/Lm9wYWNpdHk7XHJcbiAgICAgICAgY29uc3Qgb3BhY2l0eVRvVXNlID0gc2F2ZWRPcGFjaXR5ICE9PSB1bmRlZmluZWQgPyBzYXZlZE9wYWNpdHkgOiA1MDtcclxuICAgICAgICBjb25zdCBvcGFjaXR5TXVsdGlwbGllciA9IG9wYWNpdHlUb1VzZSAvIDEwMDtcclxuXHJcbiAgICAgICAgbGV0IGZpbGxDb2xvciA9IG5ldyBDb2xvcihbMCwgMCwgMCwgMC4xNSAqIG9wYWNpdHlNdWx0aXBsaWVyXSk7XHJcbiAgICAgICAgbGV0IG91dGxpbmVDb2xvciA9IG5ldyBDb2xvcihbMCwgMCwgMCwgMC42ICogb3BhY2l0eU11bHRpcGxpZXJdKTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGdlb21UeXBlID09PSAncG9seWdvbicgJiYgcGFyZW50U3ltYm9sKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxsU3ltID0gcGFyZW50U3ltYm9sIGFzIF9fZXNyaS5TaW1wbGVGaWxsU3ltYm9sO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGxTeW0/LmNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmdiYSA9IGZpbGxTeW0uY29sb3IudG9SZ2JhID8gZmlsbFN5bS5jb2xvci50b1JnYmEoKSA6IFswLCAwLCAwLCAxXTtcclxuICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3IgPSBuZXcgQ29sb3IoW3JnYmFbMF0sIHJnYmFbMV0sIHJnYmFbMl0sIE1hdGgubWluKHJnYmFbM10gKiBvcGFjaXR5TXVsdGlwbGllciwgMS4wKV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG91dGxpbmVDb2xvciA9IG5ldyBDb2xvcihbcmdiYVswXSwgcmdiYVsxXSwgcmdiYVsyXSwgTWF0aC5taW4ocmdiYVszXSAqIG9wYWNpdHlNdWx0aXBsaWVyLCAxLjApXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsbFN5bT8ub3V0bGluZT8uY29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZ2JhID0gZmlsbFN5bS5vdXRsaW5lLmNvbG9yLnRvUmdiYSA/IGZpbGxTeW0ub3V0bGluZS5jb2xvci50b1JnYmEoKSA6IFswLCAwLCAwLCAxXTtcclxuICAgICAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3IgPSBuZXcgQ29sb3IoW3JnYmFbMF0sIHJnYmFbMV0sIHJnYmFbMl0sIE1hdGgubWluKHJnYmFbM10gKiBvcGFjaXR5TXVsdGlwbGllciwgMS4wKV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGdlb21UeXBlID09PSAncG9seWxpbmUnICYmIHBhcmVudFN5bWJvbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGluZVN5bSA9IHBhcmVudFN5bWJvbCBhcyBfX2VzcmkuU2ltcGxlTGluZVN5bWJvbDtcclxuICAgICAgICAgICAgICAgIGlmIChsaW5lU3ltPy5jb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJnYmEgPSBsaW5lU3ltLmNvbG9yLnRvUmdiYSA/IGxpbmVTeW0uY29sb3IudG9SZ2JhKCkgOiBbMCwgMCwgMCwgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yID0gbmV3IENvbG9yKFtyZ2JhWzBdLCByZ2JhWzFdLCByZ2JhWzJdLCBNYXRoLm1pbihyZ2JhWzNdICogMC42ICogb3BhY2l0eU11bHRpcGxpZXIsIDEuMCldKTtcclxuICAgICAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3IgPSBuZXcgQ29sb3IoW3JnYmFbMF0sIHJnYmFbMV0sIHJnYmFbMl0sIE1hdGgubWluKHJnYmFbM10gKiBvcGFjaXR5TXVsdGlwbGllciwgMS4wKV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGdlb21UeXBlID09PSAncG9pbnQnICYmIHBhcmVudFN5bWJvbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWFya2VyU3ltID0gcGFyZW50U3ltYm9sIGFzIF9fZXNyaS5TaW1wbGVNYXJrZXJTeW1ib2w7XHJcbiAgICAgICAgICAgICAgICBpZiAobWFya2VyU3ltPy5jb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJnYmEgPSBtYXJrZXJTeW0uY29sb3IudG9SZ2JhID8gbWFya2VyU3ltLmNvbG9yLnRvUmdiYSgpIDogWzAsIDAsIDAsIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvciA9IG5ldyBDb2xvcihbcmdiYVswXSwgcmdiYVsxXSwgcmdiYVsyXSwgTWF0aC5taW4ocmdiYVszXSAqIDAuNiAqIG9wYWNpdHlNdWx0aXBsaWVyLCAxLjApXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0bGluZUNvbG9yID0gbmV3IENvbG9yKFtyZ2JhWzBdLCByZ2JhWzFdLCByZ2JhWzJdLCBNYXRoLm1pbihyZ2JhWzNdICogb3BhY2l0eU11bHRpcGxpZXIsIDEuMCldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3IgcHJvY2Vzc2luZyBwYXJlbnQgY29sb3JzOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2coYPCfjqggTXlEcmF3aW5nc1BhbmVsOiBDcmVhdGluZyBidWZmZXIgc3ltYm9sIHdpdGggJHtvcGFjaXR5VG9Vc2V9JSBvcGFjaXR5YCk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgU2ltcGxlRmlsbFN5bWJvbCh7XHJcbiAgICAgICAgICAgIGNvbG9yOiBmaWxsQ29sb3IsXHJcbiAgICAgICAgICAgIG91dGxpbmU6IG5ldyBTaW1wbGVMaW5lU3ltYm9sKHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBvdXRsaW5lQ29sb3IsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMS41LFxyXG4gICAgICAgICAgICAgICAgc3R5bGU6ICdkYXNoJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIGNvbXBsZXRlRGVsZXRpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gLi4uIGRlbGV0aW9uIGNvbXBsZXRlZCAuLi5cclxuICAgICAgICAgICAgLy8gKipNT0RJRklFRDoqKiBSZS1lbmFibGUgbWVhc3VyZW1lbnQgc3lzdGVtIGlmIGl0IHdhcyBlbmFibGVkIGJlZm9yZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vbk1lYXN1cmVtZW50U3lzdGVtQ29udHJvbCAmJiB0aGlzLl9tZWFzdXJlbWVudFdhc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25NZWFzdXJlbWVudFN5c3RlbUNvbnRyb2wodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5faXNEZWxldGluZ0dyYXBoaWMgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5mb3JjZU1hcFJlZnJlc2goKTtcclxuICAgICAgICAgICAgLy8gLi4uIGxvZ2dpbmcgLi4uXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGNvbXBsZXRpbmcgZGVsZXRpb246JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLl9pc0RlbGV0aW5nR3JhcGhpYyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyAqKk1PRElGSUVEOioqIE9ubHkgcmUtZW5hYmxlIG1lYXN1cmVtZW50cyBvbiBlcnJvciBpZiBvcmlnaW5hbGx5IG9uXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uTWVhc3VyZW1lbnRTeXN0ZW1Db250cm9sICYmIHRoaXMuX21lYXN1cmVtZW50V2FzRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbk1lYXN1cmVtZW50U3lzdGVtQ29udHJvbCh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgZmluaXNoRGVsZXRpb24gPSAoZ3JhcGhpY1RvRGVsZXRlOiBFeHRlbmRlZEdyYXBoaWMsIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGBGaW5pc2hpbmcgZGVsZXRpb24gb2Y6ICR7Z3JhcGhpY1RvRGVsZXRlLmF0dHJpYnV0ZXM/Lm5hbWUgfHwgJ3VubmFtZWQnfWApO1xyXG5cclxuICAgICAgICAgICAgLy8gTWFyayB0aGF0IHdlJ3JlIGFib3V0IHRvIHVwZGF0ZSB0aGUgZ3JhcGhpY3MgbGF5ZXJcclxuICAgICAgICAgICAgdGhpcy5pZ25vcmVOZXh0R3JhcGhpY3NVcGRhdGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBtYWluIGdyYXBoaWMgZnJvbSB0aGUgbGF5ZXJcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLnJlbW92ZShncmFwaGljVG9EZWxldGUpO1xyXG5cclxuICAgICAgICAgICAgLy8gQUdHUkVTU0lWRTogUmVtb3ZlIGFueSBtZWFzdXJlbWVudCBsYWJlbHMgY3JlYXRlZCBkdXJpbmcgdGhlIGRlbGV0aW9uIHByb2Nlc3NcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBlcmZvcm1GaW5hbE1lYXN1cmVtZW50Q2xlYW51cChncmFwaGljVG9EZWxldGUpO1xyXG4gICAgICAgICAgICB9LCA1MCk7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgc3RhdGVcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlZERyYXdpbmdzID0gWy4uLnRoaXMuc3RhdGUuZHJhd2luZ3NdO1xyXG4gICAgICAgICAgICB1cGRhdGVkRHJhd2luZ3Muc3BsaWNlKGluZGV4LCAxKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1NlbGVjdGVkID0gbmV3IFNldDxudW1iZXI+KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRHcmFwaGljcy5mb3JFYWNoKHNlbGVjdGVkSW5kZXggPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkSW5kZXggPCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1NlbGVjdGVkLmFkZChzZWxlY3RlZEluZGV4KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRJbmRleCA+IGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3U2VsZWN0ZWQuYWRkKHNlbGVjdGVkSW5kZXggLSAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGRyYXdpbmdzOiB1cGRhdGVkRHJhd2luZ3MsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEdyYXBoaWNJbmRleDogbnVsbCxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkR3JhcGhpY3M6IG5ld1NlbGVjdGVkLFxyXG4gICAgICAgICAgICAgICAgc3ltYm9sRWRpdGluZ0luZGV4OiBudWxsXHJcbiAgICAgICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFNhdmUgdG8gbG9jYWxTdG9yYWdlXHJcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMucHJvcHMuYWxsb3dMb2NhbFN0b3JhZ2UgIT09IGZhbHNlKSAmJiB0aGlzLnN0YXRlLmNvbnNlbnRHcmFudGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlVG9Mb2NhbFN0b3JhZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBOb3RpZnkgcGFyZW50XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vbkRyYXdpbmdzVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkRyYXdpbmdzVXBkYXRlKHVwZGF0ZWREcmF3aW5ncyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRmluYWwgY2xlYW51cCBhbmQgcmUtZW5hYmxlIG1lYXN1cmVtZW50c1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZURlbGV0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9LCAzMDApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ0RlbGV0aW9uIHByb2Nlc3MgY29tcGxldGVkJyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmluaXNoaW5nIGRlbGV0aW9uOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5pc0RlbGV0aW5nR3JhcGhpY3MgPSBmYWxzZTsgLy8gUmVzZXQgZmxhZyBvbiBlcnJvclxyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdFcnJvciBjb21wbGV0aW5nIGRlbGV0aW9uJywgJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaERyYXdpbmdzRnJvbUxheWVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHByaXZhdGUgcGVyZm9ybUFnZ3Jlc3NpdmVDbGVhbnVwID0gKGdyYXBoaWM6IEV4dGVuZGVkR3JhcGhpYykgPT4ge1xyXG4gICAgICAgIGlmICghZ3JhcGhpYyB8fCAhdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfl5HvuI8gUFJJT1JJVFk6IFJlbW92aW5nIGF0dGFjaGVkIGJ1ZmZlciBGSVJTVCBmb3I6ICR7Z3JhcGhpYy5hdHRyaWJ1dGVzPy5uYW1lIHx8ICd1bm5hbWVkJ31gKTtcclxuXHJcbiAgICAgICAgICAgIC8vIPCflKcgQ1JJVElDQUw6IFJlbW92ZSBhdHRhY2hlZCBidWZmZXIgRklSU1QsIGJlZm9yZSBhbnl0aGluZyBlbHNlXHJcbiAgICAgICAgICAgIGlmIChncmFwaGljLmJ1ZmZlckdyYXBoaWMpIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfl5HvuI8gUmVtb3ZpbmcgYXR0YWNoZWQgYnVmZmVyIGZvciBncmFwaGljICR7Z3JhcGhpYy5hdHRyaWJ1dGVzPy51bmlxdWVJZH1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5yZW1vdmUoZ3JhcGhpYy5idWZmZXJHcmFwaGljKTtcclxuICAgICAgICAgICAgICAgIGdyYXBoaWMuYnVmZmVyR3JhcGhpYyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIENsZWFyIGJ1ZmZlciBzZXR0aW5ncyBpbW1lZGlhdGVseVxyXG4gICAgICAgICAgICBpZiAoZ3JhcGhpYy5idWZmZXJTZXR0aW5ncykge1xyXG4gICAgICAgICAgICAgICAgZ3JhcGhpYy5idWZmZXJTZXR0aW5ncyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBnZW9tZXRyeSB3YXRjaGVycyBmb3IgdGhpcyBncmFwaGljIHRvIHByZXZlbnQgZnVydGhlciBidWZmZXIgdXBkYXRlc1xyXG4gICAgICAgICAgICBjb25zdCBwYXJlbnRJZCA9IGdyYXBoaWMuYXR0cmlidXRlcz8udW5pcXVlSWQ7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnRJZCAmJiB0aGlzLl9wb3NpdGlvbldhdGNoZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9wb3NpdGlvbldhdGNoZXJzKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5pbmNsdWRlcyhwYXJlbnRJZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uV2F0Y2hlcnNba2V5XS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wb3NpdGlvbldhdGNoZXJzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDinIUgUmVtb3ZlZCBnZW9tZXRyeSB3YXRjaGVyOiAke2tleX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3IgcmVtb3ZpbmcgZ2VvbWV0cnkgd2F0Y2hlcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgZ3JhcGhpY1VuaXF1ZUlkID0gZ3JhcGhpYy5hdHRyaWJ1dGVzPy51bmlxdWVJZDtcclxuICAgICAgICAgICAgY29uc3QgYWxsR3JhcGhpY3MgPSB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuZ3JhcGhpY3MudG9BcnJheSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGJ5IGRpcmVjdCByZWZlcmVuY2UgKG1lYXN1cmVtZW50IGxhYmVscylcclxuICAgICAgICAgICAgaWYgKGdyYXBoaWMubWVhc3VyZT8uZ3JhcGhpYykge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygn8J+Xke+4jyBSZW1vdmluZyBtYWluIG1lYXN1cmVtZW50IGdyYXBoaWMgYnkgZGlyZWN0IHJlZmVyZW5jZScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLnJlbW92ZShncmFwaGljLm1lYXN1cmUuZ3JhcGhpYyk7XHJcbiAgICAgICAgICAgICAgICBncmFwaGljLm1lYXN1cmUgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBSZW1vdmUgc2VnbWVudCBsYWJlbHMgYnkgZGlyZWN0IHJlZmVyZW5jZVxyXG4gICAgICAgICAgICBpZiAoZ3JhcGhpYy5hdHRyaWJ1dGVzPy5yZWxhdGVkU2VnbWVudExhYmVscyAmJiBBcnJheS5pc0FycmF5KGdyYXBoaWMuYXR0cmlidXRlcy5yZWxhdGVkU2VnbWVudExhYmVscykpIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfl5HvuI8gUmVtb3ZpbmcgJHtncmFwaGljLmF0dHJpYnV0ZXMucmVsYXRlZFNlZ21lbnRMYWJlbHMubGVuZ3RofSBzZWdtZW50IGxhYmVscyBieSBkaXJlY3QgcmVmZXJlbmNlYCk7XHJcbiAgICAgICAgICAgICAgICBncmFwaGljLmF0dHJpYnV0ZXMucmVsYXRlZFNlZ21lbnRMYWJlbHMuZm9yRWFjaChzZWdtZW50TGFiZWwgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWdtZW50TGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLnJlbW92ZShzZWdtZW50TGFiZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZ3JhcGhpYy5hdHRyaWJ1dGVzLnJlbGF0ZWRTZWdtZW50TGFiZWxzID0gW107XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEZpbmQgYW5kIHJlbW92ZSBtZWFzdXJlbWVudCBsYWJlbHMgcmVsYXRlZCB0byB0aGlzIGdyYXBoaWNcclxuICAgICAgICAgICAgY29uc3QgbWVhc3VyZW1lbnRMYWJlbHNUb1JlbW92ZSA9IFtdO1xyXG4gICAgICAgICAgICBhbGxHcmFwaGljcy5mb3JFYWNoKGcgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ZW5kZWRHID0gZyBhcyBFeHRlbmRlZEdyYXBoaWM7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZW5kZWRHLmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChleHRlbmRlZEcubWVhc3VyZVBhcmVudCA9PT0gZ3JhcGhpYyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoZ3JhcGhpY1VuaXF1ZUlkICYmIGV4dGVuZGVkRy5hdHRyaWJ1dGVzPy5wYXJlbnRJZCA9PT0gZ3JhcGhpY1VuaXF1ZUlkKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncmFwaGljLm1lYXN1cmU/LmdyYXBoaWMgPT09IGV4dGVuZGVkRyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncmFwaGljLmF0dHJpYnV0ZXM/LnJlbGF0ZWRTZWdtZW50TGFiZWxzPy5pbmNsdWRlcyhleHRlbmRlZEcpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChncmFwaGljVW5pcXVlSWQgJiYgZXh0ZW5kZWRHLm1lYXN1cmVQYXJlbnQ/LmF0dHJpYnV0ZXM/LnVuaXF1ZUlkID09PSBncmFwaGljVW5pcXVlSWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lYXN1cmVtZW50TGFiZWxzVG9SZW1vdmUucHVzaChleHRlbmRlZEcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAobWVhc3VyZW1lbnRMYWJlbHNUb1JlbW92ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDwn5eR77iPIFJlbW92aW5nICR7bWVhc3VyZW1lbnRMYWJlbHNUb1JlbW92ZS5sZW5ndGh9IG1lYXN1cmVtZW50IGxhYmVscyBTUEVDSUZJQ0FMTFkgcmVsYXRlZCB0byB0aGlzIGdyYXBoaWNgKTtcclxuICAgICAgICAgICAgICAgIG1lYXN1cmVtZW50TGFiZWxzVG9SZW1vdmUuZm9yRWFjaChsYWJlbCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLnJlbW92ZShsYWJlbCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8g8J+UpyBORVc6IEFsc28gY2xlYW4gdXAgYW55IG9ycGhhbmVkIGJ1ZmZlcnMgdGhhdCBtaWdodCByZWZlcmVuY2UgdGhpcyBncmFwaGljXHJcbiAgICAgICAgICAgIGNvbnN0IG9ycGhhbmVkQnVmZmVycyA9IGFsbEdyYXBoaWNzLmZpbHRlcihnID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4dEcgPSBnIGFzIEV4dGVuZGVkR3JhcGhpYztcclxuICAgICAgICAgICAgICAgIHJldHVybiAoZXh0Ry5hdHRyaWJ1dGVzPy5pc0J1ZmZlciB8fCBleHRHLmF0dHJpYnV0ZXM/LmlzUHJldmlld0J1ZmZlcikgJiZcclxuICAgICAgICAgICAgICAgICAgICAoZXh0Ry5hdHRyaWJ1dGVzPy5wYXJlbnRJZCA9PT0gZ3JhcGhpY1VuaXF1ZUlkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dEcuYXR0cmlidXRlcz8uc291cmNlR3JhcGhpY0lkID09PSBncmFwaGljVW5pcXVlSWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChvcnBoYW5lZEJ1ZmZlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+Xke+4jyBSZW1vdmluZyAke29ycGhhbmVkQnVmZmVycy5sZW5ndGh9IG9ycGhhbmVkIGJ1ZmZlcnMgdGhhdCByZWZlcmVuY2UgdGhpcyBncmFwaGljYCk7XHJcbiAgICAgICAgICAgICAgICBvcnBoYW5lZEJ1ZmZlcnMuZm9yRWFjaChidWZmZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5yZW1vdmUoYnVmZmVyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvcmNlTWFwUmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCfinIUgU2VsZWN0aXZlIGNsZWFudXAgY29tcGxldGVkIHdpdGggY29tcHJlaGVuc2l2ZSBidWZmZXIgcmVtb3ZhbCcpO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgaW4gc2VsZWN0aXZlIGNsZWFudXA6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBwcml2YXRlIGlzU3VzcGljaW91c01lYXN1cmVtZW50TGFiZWwgPSAobGFiZWw6IEV4dGVuZGVkR3JhcGhpYywgdGFyZ2V0R3JhcGhpYzogRXh0ZW5kZWRHcmFwaGljKTogYm9vbGVhbiA9PiB7XHJcbiAgICAgICAgaWYgKCFsYWJlbC5zeW1ib2wgfHwgbGFiZWwuc3ltYm9sLnR5cGUgIT09ICd0ZXh0JykgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBsYWJlbFRleHQgPSAobGFiZWwuc3ltYm9sIGFzIGFueSkudGV4dCB8fCAnJztcclxuICAgICAgICAgICAgY29uc3QgbGFiZWxHZW9tZXRyeSA9IGxhYmVsLmdlb21ldHJ5O1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXRHZW9tZXRyeSA9IHRhcmdldEdyYXBoaWMuZ2VvbWV0cnk7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0ZXh0IGxvb2tzIGxpa2UgYSBtZWFzdXJlbWVudFxyXG4gICAgICAgICAgICBjb25zdCBtZWFzdXJlbWVudEtleXdvcmRzID0gWydhcmVhOicsICdsZW5ndGg6JywgJ3BlcmltZXRlcjonLCAncmFkaXVzOicsICd0b3RhbDonLCAnbcKyJywgJ2Z0wrInLCAna23CsicsICdtacKyJywgJ2ttJywgJ21pJywgJ2Z0JywgJ20nXTtcclxuICAgICAgICAgICAgY29uc3QgaGFzTWV0cmljQ29udGVudCA9IG1lYXN1cmVtZW50S2V5d29yZHMuc29tZShrZXl3b3JkID0+XHJcbiAgICAgICAgICAgICAgICBsYWJlbFRleHQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhrZXl3b3JkLnRvTG93ZXJDYXNlKCkpXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWhhc01ldHJpY0NvbnRlbnQpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIHByb3hpbWl0eSAtIGlmIGxhYmVsIGlzIHZlcnkgY2xvc2UgdG8gdGhlIGdyYXBoaWMsIGl0J3MgcHJvYmFibHkgcmVsYXRlZFxyXG4gICAgICAgICAgICBpZiAobGFiZWxHZW9tZXRyeSAmJiB0YXJnZXRHZW9tZXRyeSAmJiBsYWJlbEdlb21ldHJ5LmV4dGVudCAmJiB0YXJnZXRHZW9tZXRyeS5leHRlbnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVsQ2VudGVyID0gbGFiZWxHZW9tZXRyeS5leHRlbnQuY2VudGVyO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q2VudGVyID0gdGFyZ2V0R2VvbWV0cnkuZXh0ZW50LmNlbnRlcjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobGFiZWxDZW50ZXIgJiYgdGFyZ2V0Q2VudGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgucG93KGxhYmVsQ2VudGVyLnggLSB0YXJnZXRDZW50ZXIueCwgMikgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLnBvdyhsYWJlbENlbnRlci55IC0gdGFyZ2V0Q2VudGVyLnksIDIpXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2l0aGluIHJlYXNvbmFibGUgZGlzdGFuY2UgYW5kIGhhcyBtZWFzdXJlbWVudCBjb250ZW50LCBjb25zaWRlciBpdCBzdXNwaWNpb3VzXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4RGlzdGFuY2UgPSBNYXRoLm1heCh0YXJnZXRHZW9tZXRyeS5leHRlbnQud2lkdGgsIHRhcmdldEdlb21ldHJ5LmV4dGVudC5oZWlnaHQpICogMjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCBtYXhEaXN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGBTdXNwaWNpb3VzIGxhYmVsIGZvdW5kIHdpdGhpbiAke2Rpc3RhbmNlfSB1bml0cyBvZiB0YXJnZXQgKG1heDogJHttYXhEaXN0YW5jZX0pYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIHN1c3BpY2lvdXMgbGFiZWw6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHByaXZhdGUgX2lzRGVsZXRpbmdHcmFwaGljID0gZmFsc2U7XHJcblxyXG4gICAgLy8gRW5zdXJlIGEgaGFsbyBleGlzdHMgZm9yIGEgcG9pbnQvdGV4dCBncmFwaGljXHJcbiAgICBwcml2YXRlIGVuc3VyZVBvaW50VGV4dE92ZXJsYXkgPSAoZzogRXh0ZW5kZWRHcmFwaGljKSA9PiB7XHJcbiAgICAgICAgaWYgKCFnIHx8ICF0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIpIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnZW5zdXJlUG9pbnRUZXh0T3ZlcmxheTogbWlzc2luZyBncmFwaGljIG9yIGxheWVyJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFnLmdlb21ldHJ5IHx8IGcuZ2VvbWV0cnkudHlwZSAhPT0gXCJwb2ludFwiKSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2Vuc3VyZVBvaW50VGV4dE92ZXJsYXk6IG5vdCBhIHBvaW50IGdlb21ldHJ5Jyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyO1xyXG5cclxuICAgICAgICAvLyBJZiBoYWxvIGV4aXN0czogc3luYyBnZW9tZXRyeSAmIGJyaW5nIHRvIGZyb250XHJcbiAgICAgICAgaWYgKGcuX3NlbGVjdGlvbk92ZXJsYXkpIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnZW5zdXJlUG9pbnRUZXh0T3ZlcmxheTogdXBkYXRpbmcgZXhpc3Rpbmcgb3ZlcmxheScpO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZy5fc2VsZWN0aW9uT3ZlcmxheS5nZW9tZXRyeSA9IGcuZ2VvbWV0cnk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3IgdXBkYXRpbmcgb3ZlcmxheSBnZW9tZXRyeTonLCBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmJyaW5nT3ZlcmxheVRvRnJvbnQoZy5fc2VsZWN0aW9uT3ZlcmxheSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ2Vuc3VyZVBvaW50VGV4dE92ZXJsYXk6IGNyZWF0aW5nIG5ldyBvdmVybGF5IGZvcicsIGcuYXR0cmlidXRlcz8ubmFtZSk7XHJcblxyXG4gICAgICAgIC8vIEJ1aWxkIGhhbG8gc3ltYm9sIChzcXVhcmUgZm9yIHRleHQsIGNpcmNsZSBmb3IgbWFya2VycylcclxuICAgICAgICBjb25zdCBpc1RleHQgPSAoZy5zeW1ib2wgYXMgYW55KT8udHlwZSA9PT0gXCJ0ZXh0XCI7XHJcbiAgICAgICAgY29uc3Qgb3ZlcmxheVN5bWJvbCA9IG5ldyBTaW1wbGVNYXJrZXJTeW1ib2woe1xyXG4gICAgICAgICAgICBzdHlsZTogaXNUZXh0ID8gXCJzcXVhcmVcIiA6IFwiY2lyY2xlXCIsXHJcbiAgICAgICAgICAgIHNpemU6IGlzVGV4dCA/IDI2IDogMjIsXHJcbiAgICAgICAgICAgIGNvbG9yOiBbMCwgMCwgMCwgMF0sIC8vIHRyYW5zcGFyZW50IGZpbGxcclxuICAgICAgICAgICAgb3V0bGluZTogeyBjb2xvcjogWzI1NSwgMTI4LCAwLCAxXSwgd2lkdGg6IDIgfSAvLyBvcmFuZ2Ugb3V0bGluZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBvdmVybGF5ID0gbmV3IEdyYXBoaWMoe1xyXG4gICAgICAgICAgICBnZW9tZXRyeTogZy5nZW9tZXRyeSxcclxuICAgICAgICAgICAgc3ltYm9sOiBvdmVybGF5U3ltYm9sLFxyXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XHJcbiAgICAgICAgICAgICAgICBoaWRlRnJvbUxpc3Q6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBpc01lYXN1cmVtZW50TGFiZWw6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNTZWxlY3Rpb25PdmVybGF5OiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGF5ZXIuYWRkKG92ZXJsYXkpO1xyXG4gICAgICAgICAgICBnLl9zZWxlY3Rpb25PdmVybGF5ID0gb3ZlcmxheTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnZW5zdXJlUG9pbnRUZXh0T3ZlcmxheTogc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgYW5kIGFkZGVkIG92ZXJsYXknKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdlbnN1cmVQb2ludFRleHRPdmVybGF5OiBlcnJvciBjcmVhdGluZyBvdmVybGF5OicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgY29udGludWVEZWxldGVHcmFwaGljID0gKGluZGV4OiBudW1iZXIsIGdyYXBoaWNUb0RlbGV0ZTogRXh0ZW5kZWRHcmFwaGljKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg4p6h77iPIENvbnRpbnVpbmcgZGVsZXRpb24gYWZ0ZXIgU2tldGNoVmlld01vZGVsIGNhbmNlbGApO1xyXG5cclxuICAgICAgICAgICAgLy8g8J+UpyBTVEVQIDE6IFJlbW92ZSBhdHRhY2hlZCBidWZmZXIgSU1NRURJQVRFTFkgKGJlZm9yZSBhbnl0aGluZyBlbHNlKVxyXG4gICAgICAgICAgICBpZiAoZ3JhcGhpY1RvRGVsZXRlLmJ1ZmZlckdyYXBoaWMpIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfl5HvuI8gUFJJT1JJVFk6IFJlbW92aW5nIGF0dGFjaGVkIGJ1ZmZlciBmaXJzdGApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLnJlbW92ZShncmFwaGljVG9EZWxldGUuYnVmZmVyR3JhcGhpYyk7XHJcbiAgICAgICAgICAgICAgICBncmFwaGljVG9EZWxldGUuYnVmZmVyR3JhcGhpYyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIENsZWFyIGJ1ZmZlciBzZXR0aW5nc1xyXG4gICAgICAgICAgICBpZiAoZ3JhcGhpY1RvRGVsZXRlLmJ1ZmZlclNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICBncmFwaGljVG9EZWxldGUuYnVmZmVyU2V0dGluZ3MgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyDwn5SnIFNURVAgMjogUmVtb3ZlIGdlb21ldHJ5IHdhdGNoZXJzIHRvIHByZXZlbnQgYnVmZmVyIHJlY3JlYXRpb25cclxuICAgICAgICAgICAgY29uc3QgcGFyZW50SWQgPSBncmFwaGljVG9EZWxldGUuYXR0cmlidXRlcz8udW5pcXVlSWQ7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnRJZCAmJiB0aGlzLl9wb3NpdGlvbldhdGNoZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9wb3NpdGlvbldhdGNoZXJzKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5pbmNsdWRlcyhwYXJlbnRJZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uV2F0Y2hlcnNba2V5XS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wb3NpdGlvbldhdGNoZXJzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDinIUgUmVtb3ZlZCBnZW9tZXRyeSB3YXRjaGVyOiAke2tleX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3IgcmVtb3ZpbmcgZ2VvbWV0cnkgd2F0Y2hlcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU1RFUCAzOiBDbGVhbiB1cCBtZWFzdXJlbWVudCBsYWJlbHNcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+nuSBDbGVhbmluZyB1cCBtZWFzdXJlbWVudCBsYWJlbHMgZm9yIGdyYXBoaWNgKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVNZWFzdXJlbWVudExhYmVscyhncmFwaGljVG9EZWxldGUpO1xyXG5cclxuICAgICAgICAgICAgLy8gU1RFUCA0OiBGaW5kIGFuZCByZW1vdmUgT05MWSB0aGUgc3BlY2lmaWMgZ3JhcGhpYyBmcm9tIHRoZSBsYXllclxyXG4gICAgICAgICAgICBjb25zdCB1bmlxdWVJZCA9IGdyYXBoaWNUb0RlbGV0ZS5hdHRyaWJ1dGVzPy51bmlxdWVJZDtcclxuXHJcbiAgICAgICAgICAgIGlmICh1bmlxdWVJZCkge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+UjSBMb29raW5nIGZvciBncmFwaGljIHdpdGggdW5pcXVlSWQ6ICR7dW5pcXVlSWR9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgZXhhY3QgZ3JhcGhpYyBpbiB0aGUgbGF5ZXIgYnkgdW5pcXVlSWRcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxheWVyR3JhcGhpY3MgPSB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuZ3JhcGhpY3MudG9BcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0R3JhcGhpYyA9IGxheWVyR3JhcGhpY3MuZmluZChnID0+XHJcbiAgICAgICAgICAgICAgICAgICAgZy5hdHRyaWJ1dGVzPy51bmlxdWVJZCA9PT0gdW5pcXVlSWQgJiZcclxuICAgICAgICAgICAgICAgICAgICAhZy5hdHRyaWJ1dGVzPy5pc01lYXN1cmVtZW50TGFiZWwgJiZcclxuICAgICAgICAgICAgICAgICAgICAhZy5hdHRyaWJ1dGVzPy5oaWRlRnJvbUxpc3QgJiZcclxuICAgICAgICAgICAgICAgICAgICAhZy5hdHRyaWJ1dGVzPy5pc0J1ZmZlciAmJiAvLyBNYWtlIHN1cmUgd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IHRhcmdldCBhIGJ1ZmZlclxyXG4gICAgICAgICAgICAgICAgICAgICFnLmF0dHJpYnV0ZXM/LmlzUHJldmlld0J1ZmZlclxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0R3JhcGhpYykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYOKchSBGb3VuZCB0YXJnZXQgZ3JhcGhpYyBpbiBsYXllciwgcmVtb3ZpbmcgaXRgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTWFyayB0aGF0IHdlJ3JlIGFib3V0IHRvIHVwZGF0ZSB0aGUgZ3JhcGhpY3MgbGF5ZXJcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlnbm9yZU5leHRHcmFwaGljc1VwZGF0ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBPTkxZIHRoZSB0YXJnZXQgZ3JhcGhpY1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5yZW1vdmUodGFyZ2V0R3JhcGhpYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfl5HvuI8gUmVtb3ZlZCBncmFwaGljIGZyb20gbGF5ZXJgKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gQ291bGQgbm90IGZpbmQgZ3JhcGhpYyB3aXRoIHVuaXF1ZUlkICR7dW5pcXVlSWR9IGluIGxheWVyYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyBHcmFwaGljIGhhcyBubyB1bmlxdWVJZCwgdXNpbmcgZmFsbGJhY2sgcmVtb3ZhbGApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrOiByZW1vdmUgYnkgcmVmZXJlbmNlIChsZXNzIHJlbGlhYmxlKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5pZ25vcmVOZXh0R3JhcGhpY3NVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLnJlbW92ZShncmFwaGljVG9EZWxldGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTVEVQIDU6IFBlcmZvcm0gYWdncmVzc2l2ZSBjbGVhbnVwIGZvciBhbnkgcmVtYWluaW5nIHJlbGF0ZWQgZ3JhcGhpY3NcclxuICAgICAgICAgICAgaWYgKHVuaXF1ZUlkKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlcmZvcm1BZ2dyZXNzaXZlTWVhc3VyZW1lbnRDbGVhbnVwKHVuaXF1ZUlkKTtcclxuICAgICAgICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFNURVAgNjogVXBkYXRlIHN0YXRlIG1hbnVhbGx5IGZvciBpbW1lZGlhdGUgZmVlZGJhY2tcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlZERyYXdpbmdzID0gWy4uLnRoaXMuc3RhdGUuZHJhd2luZ3NdO1xyXG4gICAgICAgICAgICB1cGRhdGVkRHJhd2luZ3Muc3BsaWNlKGluZGV4LCAxKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNURVAgNzogVXBkYXRlIHNlbGVjdGVkIGdyYXBoaWNzXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1NlbGVjdGVkID0gbmV3IFNldDxudW1iZXI+KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRHcmFwaGljcy5mb3JFYWNoKHNlbGVjdGVkSW5kZXggPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkSW5kZXggPCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1NlbGVjdGVkLmFkZChzZWxlY3RlZEluZGV4KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRJbmRleCA+IGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3U2VsZWN0ZWQuYWRkKHNlbGVjdGVkSW5kZXggLSAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTVEVQIDg6IFVwZGF0ZSBzdGF0ZSBhbmQgY2xlYXIgc2VsZWN0aW9uc1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGRyYXdpbmdzOiB1cGRhdGVkRHJhd2luZ3MsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEdyYXBoaWNJbmRleDogbnVsbCxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkR3JhcGhpY3M6IG5ld1NlbGVjdGVkLFxyXG4gICAgICAgICAgICAgICAgc3ltYm9sRWRpdGluZ0luZGV4OiBudWxsIC8vIEFsc28gY2xlYXIgYW55IHN5bWJvbCBlZGl0aW5nXHJcbiAgICAgICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfk4ogVXBkYXRlZCBzdGF0ZSAtICR7dXBkYXRlZERyYXdpbmdzLmxlbmd0aH0gZHJhd2luZ3MgcmVtYWluaW5nYCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU2F2ZSB0byBsb2NhbFN0b3JhZ2UgaWYgY29uc2VudCBncmFudGVkXHJcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMucHJvcHMuYWxsb3dMb2NhbFN0b3JhZ2UgIT09IGZhbHNlKSAmJiB0aGlzLnN0YXRlLmNvbnNlbnRHcmFudGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlVG9Mb2NhbFN0b3JhZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBOb3RpZnkgcGFyZW50IGlmIG5lZWRlZFxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25EcmF3aW5nc1VwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25EcmF3aW5nc1VwZGF0ZSh1cGRhdGVkRHJhd2luZ3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENsZWFyIGRlbGV0aW9uIGZsYWdcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lzRGVsZXRpbmdHcmFwaGljID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVmVyaWZ5IHRoZSBsYXllciBzdGF0ZSBhZnRlciBhIGxvbmdlciBkZWxheSB0byBhbGxvdyBjbGVhbnVwIHRvIGNvbXBsZXRlXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZlcmlmeUxheWVyU3RhdGUoKTtcclxuICAgICAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg4pyFIERlbGV0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkgd2l0aCBidWZmZXItZmlyc3QgYXBwcm9hY2hgKTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGR1cmluZyBkZWxldGlvbiBjb250aW51YXRpb246JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLl9pc0RlbGV0aW5nR3JhcGhpYyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdFcnJvciBkZWxldGluZyBkcmF3aW5nJywgJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaERyYXdpbmdzRnJvbUxheWVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSByZXN0b3JlU2tldGNoVmlld01vZGVsU2VsZWN0aW9uID0gKGdyYXBoaWM6IEV4dGVuZGVkR3JhcGhpYykgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5za2V0Y2hWaWV3TW9kZWwgfHwgIWdyYXBoaWMpIHJldHVybjtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gU21hbGwgZGVsYXkgdG8gZW5zdXJlIGxheWVyIG9wZXJhdGlvbnMgY29tcGxldGVcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5za2V0Y2hWaWV3TW9kZWwgJiYgIXRoaXMuX2lzRGVsZXRpbmdHcmFwaGljKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwudXBkYXRlKFtncmFwaGljXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb3VsZCBub3QgcmVzdG9yZSBTa2V0Y2hWaWV3TW9kZWwgc2VsZWN0aW9uOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFJlbW92ZSBoYWxvIGZvciBhIHNpbmdsZSBncmFwaGljIGJ5IGluZGV4XHJcbiAgICBwcml2YXRlIHJlbW92ZVBvaW50VGV4dE92ZXJsYXlCeUluZGV4ID0gKGluZGV4PzogbnVtYmVyIHwgbnVsbCkgPT4ge1xyXG4gICAgICAgIGlmIChpbmRleCA9PSBudWxsKSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgZyA9IHRoaXMuc3RhdGUuZHJhd2luZ3M/LltpbmRleF0gYXMgRXh0ZW5kZWRHcmFwaGljIHwgdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlUG9pbnRUZXh0T3ZlcmxheShnKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vIFJlbW92ZSBoYWxvcyBmb3IgYWxsIGN1cnJlbnRseSBzZWxlY3RlZCBpdGVtcyAobXVsdGkgKyBzaW5nbGUpXHJcbiAgICBwcml2YXRlIHJlbW92ZUFsbFNlbGVjdGlvbk92ZXJsYXlzID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHNldCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRHcmFwaGljcyBhcyBTZXQ8bnVtYmVyPiB8IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoc2V0Py5zaXplKSBzZXQuZm9yRWFjaChpZHggPT4gdGhpcy5yZW1vdmVQb2ludFRleHRPdmVybGF5QnlJbmRleChpZHgpKTtcclxuICAgICAgICB0aGlzLnJlbW92ZVBvaW50VGV4dE92ZXJsYXlCeUluZGV4KHRoaXMuc3RhdGUuc2VsZWN0ZWRHcmFwaGljSW5kZXgpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBicmluZ092ZXJsYXlUb0Zyb250ID0gKG92ZXJsYXk/OiBfX2VzcmkuR3JhcGhpYyB8IG51bGwpID0+IHtcclxuICAgICAgICBpZiAoIW92ZXJsYXkgfHwgIXRoaXMucHJvcHMuZ3JhcGhpY3NMYXllcikgcmV0dXJuO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5yZW1vdmUob3ZlcmxheSk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5hZGQob3ZlcmxheSk7IC8vIGxhc3QtaW4gZHJhd3Mgb24gdG9wXHJcbiAgICAgICAgfSBjYXRjaCB7IH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vIEhlbHBlcjogcmVtb3ZlIGhhbG8gb3ZlcmxheSBpZiBwcmVzZW50XHJcbiAgICBwcml2YXRlIHJlbW92ZVBvaW50VGV4dE92ZXJsYXkgPSAoZz86IEV4dGVuZGVkR3JhcGhpYyB8IG51bGwpID0+IHtcclxuICAgICAgICBpZiAoIWcgfHwgIXRoaXMucHJvcHMuZ3JhcGhpY3NMYXllcikgcmV0dXJuO1xyXG4gICAgICAgIGlmIChnLl9zZWxlY3Rpb25PdmVybGF5KSB7XHJcbiAgICAgICAgICAgIHRyeSB7IHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5yZW1vdmUoZy5fc2VsZWN0aW9uT3ZlcmxheSk7IH0gY2F0Y2ggeyB9XHJcbiAgICAgICAgICAgIGcuX3NlbGVjdGlvbk92ZXJsYXkgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIHByaXZhdGUgcGVyZm9ybUFnZ3Jlc3NpdmVNZWFzdXJlbWVudENsZWFudXAgPSAoZGVsZXRlZEdyYXBoaWNJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+nuSBQZXJmb3JtaW5nIGFnZ3Jlc3NpdmUgbWVhc3VyZW1lbnQgY2xlYW51cCBmb3IgZ3JhcGhpYzogJHtkZWxldGVkR3JhcGhpY0lkfWApO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYWxsR3JhcGhpY3MgPSB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuZ3JhcGhpY3MudG9BcnJheSgpO1xyXG4gICAgICAgICAgICBsZXQgcmVtb3ZlZENvdW50ID0gMDtcclxuXHJcbiAgICAgICAgICAgIC8vIEZpbmQgYWxsIG1lYXN1cmVtZW50IGxhYmVscyB0aGF0IG1pZ2h0IGJlIG9ycGhhbmVkXHJcbiAgICAgICAgICAgIGNvbnN0IHBvdGVudGlhbE9ycGhhbnMgPSBhbGxHcmFwaGljcy5maWx0ZXIoZyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBleHRHID0gZyBhcyBFeHRlbmRlZEdyYXBoaWM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXh0Ry5hdHRyaWJ1dGVzPy5pc01lYXN1cmVtZW50TGFiZWw7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+UjSBGb3VuZCAke3BvdGVudGlhbE9ycGhhbnMubGVuZ3RofSB0b3RhbCBtZWFzdXJlbWVudCBsYWJlbHMgaW4gbGF5ZXJgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZvciBlYWNoIG1lYXN1cmVtZW50IGxhYmVsLCBjaGVjayBpZiBpdHMgcGFyZW50IHN0aWxsIGV4aXN0c1xyXG4gICAgICAgICAgICBwb3RlbnRpYWxPcnBoYW5zLmZvckVhY2gobGFiZWwgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXh0TGFiZWwgPSBsYWJlbCBhcyBFeHRlbmRlZEdyYXBoaWM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRJZCA9IGV4dExhYmVsLmF0dHJpYnV0ZXM/LnBhcmVudElkO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNob3VsZFJlbW92ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgbGFiZWwgYmVsb25ncyB0byB0aGUgZGVsZXRlZCBncmFwaGljXHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50SWQgPT09IGRlbGV0ZWRHcmFwaGljSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDwn46vIEZvdW5kIG9ycGhhbmVkIGxhYmVsIHdpdGggcGFyZW50SWQ6ICR7cGFyZW50SWR9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVtb3ZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyZW50SWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgcGFyZW50IHN0aWxsIGV4aXN0cyBpbiB0aGUgbGF5ZXJcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRFeGlzdHMgPSBhbGxHcmFwaGljcy5zb21lKGcgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZy5hdHRyaWJ1dGVzPy51bmlxdWVJZCA9PT0gcGFyZW50SWQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgIWcuYXR0cmlidXRlcz8uaXNNZWFzdXJlbWVudExhYmVsXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJlbnRFeGlzdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+OryBGb3VuZCBvcnBoYW5lZCBsYWJlbCAtIHBhcmVudCAke3BhcmVudElkfSBubyBsb25nZXIgZXhpc3RzYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZFJlbW92ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBMYWJlbCBoYXMgbm8gcGFyZW50SWQgLSBjaGVjayBpZiBpdCBoYXMgYSBtZWFzdXJlUGFyZW50IHJlZmVyZW5jZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChleHRMYWJlbC5tZWFzdXJlUGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFVuaXF1ZUlkID0gZXh0TGFiZWwubWVhc3VyZVBhcmVudC5hdHRyaWJ1dGVzPy51bmlxdWVJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudFVuaXF1ZUlkID09PSBkZWxldGVkR3JhcGhpY0lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDwn46vIEZvdW5kIG9ycGhhbmVkIGxhYmVsIHZpYSBtZWFzdXJlUGFyZW50IHJlZmVyZW5jZWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVtb3ZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIG1lYXN1cmVQYXJlbnQgc3RpbGwgZXhpc3RzIGluIGxheWVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRFeGlzdHMgPSBhbGxHcmFwaGljcy5zb21lKGcgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkID09PSBwYXJlbnRVbmlxdWVJZCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFnLmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRMYWJlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcmVudEV4aXN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfjq8gRm91bmQgb3JwaGFuZWQgbGFiZWwgLSBtZWFzdXJlUGFyZW50IG5vIGxvbmdlciBleGlzdHNgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRSZW1vdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGFiZWwgaGFzIG5vIHBhcmVudCByZWZlcmVuY2UgYXQgYWxsIC0gaXQncyBsaWtlbHkgb3JwaGFuZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+OryBGb3VuZCBsYWJlbCB3aXRoIG5vIHBhcmVudCByZWZlcmVuY2UgLSBsaWtlbHkgb3JwaGFuZWRgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVtb3ZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZFJlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5yZW1vdmUobGFiZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVkQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+Xke+4jyBSZW1vdmVkIG9ycGhhbmVkIG1lYXN1cmVtZW50IGxhYmVsYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybign4p2MIEZhaWxlZCB0byByZW1vdmUgb3JwaGFuZWQgbGFiZWw6JywgZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlbW92ZWRDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYOKchSBBZ2dyZXNzaXZlIGNsZWFudXAgY29tcGxldGVkIC0gcmVtb3ZlZCAke3JlbW92ZWRDb3VudH0gb3JwaGFuZWQgbWVhc3VyZW1lbnQgbGFiZWxzYCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDinIUgQWdncmVzc2l2ZSBjbGVhbnVwIGNvbXBsZXRlZCAtIG5vIG9ycGhhbmVkIGxhYmVscyBmb3VuZGApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBGb3JjZSBhIGZpbmFsIG1hcCByZWZyZXNoIHRvIGVuc3VyZSBldmVyeXRoaW5nIGlzIGNsZWFuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mb3JjZU1hcFJlZnJlc2goKTtcclxuICAgICAgICAgICAgfSwgMTAwKTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGluIGFnZ3Jlc3NpdmUgbWVhc3VyZW1lbnQgY2xlYW51cDonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHByaXZhdGUgbWVhc3VyZVJlZjogUmVhY3QuUmVmT2JqZWN0PGFueT4gfCBudWxsID0gbnVsbDsgLy8gUmVmZXJlbmNlIHRvIG1lYXN1cmVtZW50IGNvbXBvbmVudFxyXG4gICAgcHJpdmF0ZSBfbWVhc3VyZW1lbnRVcGRhdGVUaW1lb3V0OiBhbnkgPSBudWxsOyAvLyBUaW1lb3V0IGZvciBkZWJvdW5jaW5nIG1lYXN1cmVtZW50IHVwZGF0ZXNcclxuICAgIHByaXZhdGUgX3NhdmVUb1N0b3JhZ2VUaW1lb3V0OiBhbnkgPSBudWxsOyAvLyBEZWJvdW5jZSBzdG9yYWdlIHNhdmVzXHJcbiAgICBwcml2YXRlIF9pc1VwZGF0aW5nTWVhc3VyZW1lbnRzOiBib29sZWFuID0gZmFsc2U7IC8vIFByZXZlbnQgY29uY3VycmVudCB1cGRhdGVzXHJcbiAgICBwcml2YXRlIF9tZWFzdXJlbWVudFVwZGF0ZVF1ZXVlOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTsgLy8gUXVldWUgZ3JhcGhpY3MgZm9yIHVwZGF0ZXNcclxuICAgIHByaXZhdGUgX3Byb2Nlc3NpbmdNZWFzdXJlbWVudHM6IGJvb2xlYW4gPSBmYWxzZTsgLy8gUHJldmVudCByZWN1cnNpdmUgcHJvY2Vzc2luZ1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVBdHRhY2hlZEJ1ZmZlciA9IGFzeW5jIChwYXJlbnRHcmFwaGljOiBFeHRlbmRlZEdyYXBoaWMpID0+IHtcclxuICAgICAgICBpZiAoIXBhcmVudEdyYXBoaWMuYnVmZmVyR3JhcGhpYyB8fCAhcGFyZW50R3JhcGhpYy5idWZmZXJTZXR0aW5ncyB8fCAhdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZGlzdGFuY2UsIHVuaXQgfSA9IHBhcmVudEdyYXBoaWMuYnVmZmVyU2V0dGluZ3M7XHJcblxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDwn5SEIENyZWF0aW5nIG5ldyBidWZmZXIgZ2VvbWV0cnkgZm9yICR7cGFyZW50R3JhcGhpYy5hdHRyaWJ1dGVzPy51bmlxdWVJZH1gKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgYnVmZmVyIGdlb21ldHJ5XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0J1ZmZlckdlb21ldHJ5ID0gYXdhaXQgdGhpcy5jcmVhdGVCdWZmZXJHZW9tZXRyeShcclxuICAgICAgICAgICAgICAgIHBhcmVudEdyYXBoaWMuZ2VvbWV0cnksXHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSxcclxuICAgICAgICAgICAgICAgIHVuaXRcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChuZXdCdWZmZXJHZW9tZXRyeSkge1xyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBidWZmZXIgZ3JhcGhpYydzIGdlb21ldHJ5IGltbWVkaWF0ZWx5XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRHcmFwaGljLmJ1ZmZlckdyYXBoaWMuZ2VvbWV0cnkgPSBuZXdCdWZmZXJHZW9tZXRyeTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBGb3JjZSBsYXllciByZWZyZXNoIHRvIGVuc3VyZSB2aXN1YWwgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIucmVtb3ZlKHBhcmVudEdyYXBoaWMuYnVmZmVyR3JhcGhpYyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuYWRkKHBhcmVudEdyYXBoaWMuYnVmZmVyR3JhcGhpYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg4pyFIEJ1ZmZlciBnZW9tZXRyeSB1cGRhdGVkIGFuZCByZWZyZXNoZWQgZm9yIGdyYXBoaWMgJHtwYXJlbnRHcmFwaGljLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHVwZGF0aW5nIGF0dGFjaGVkIGJ1ZmZlcjonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHByaXZhdGUgZW5zdXJlQnVmZmVyV2F0Y2hlcnNGb3JTZWxlY3RlZEdyYXBoaWMgPSAoZ3JhcGhpYzogRXh0ZW5kZWRHcmFwaGljKSA9PiB7XHJcbiAgICAgICAgLy8gSWYgdGhlIGdyYXBoaWMgaGFzIGJ1ZmZlciBzZXR0aW5ncywgZW5zdXJlIGdlb21ldHJ5IHdhdGNoZXIgaXMgYWN0aXZlXHJcbiAgICAgICAgaWYgKGdyYXBoaWMuYnVmZmVyU2V0dGluZ3MgJiYgZ3JhcGhpYy5idWZmZXJTZXR0aW5ncy5lbmFibGVkICYmIGdyYXBoaWMuYnVmZmVyR3JhcGhpYykge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJlbnRJZCA9IGdyYXBoaWMuYXR0cmlidXRlcz8udW5pcXVlSWQ7XHJcblxyXG4gICAgICAgICAgICBpZiAocGFyZW50SWQpIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCflKcgTXlEcmF3aW5nc1BhbmVsOiBFbnN1cmluZyBidWZmZXIgd2F0Y2hlciBmb3Igc2VsZWN0ZWQgZ3JhcGhpYzogJHtwYXJlbnRJZH1gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTZXQgdXAgZ2VvbWV0cnkgd2F0Y2hlciBmb3IgcmVhbC10aW1lIGJ1ZmZlciB1cGRhdGVzXHJcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ1dhdGNoZXIgPSB0aGlzLl9wb3NpdGlvbldhdGNoZXJzW3BhcmVudElkICsgJ19idWZmZXInXTtcclxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ1dhdGNoZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1dhdGNoZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgZ2VvbWV0cnkgd2F0Y2hlciBzcGVjaWZpY2FsbHkgZm9yIGJ1ZmZlciB1cGRhdGVzXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbldhdGNoZXJzW3BhcmVudElkICsgJ19idWZmZXInXSA9IGdyYXBoaWMud2F0Y2goJ2dlb21ldHJ5JywgYXN5bmMgKG5ld0dlb21ldHJ5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+UhCBNeURyYXdpbmdzUGFuZWw6IEdlb21ldHJ5IGNoYW5nZWQsIHVwZGF0aW5nIGJ1ZmZlciBmb3IgJHtwYXJlbnRJZH1gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyYXBoaWMuYnVmZmVyR3JhcGhpYyAmJiBncmFwaGljLmJ1ZmZlclNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgYnVmZmVyIGltbWVkaWF0ZWx5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZUF0dGFjaGVkQnVmZmVyKGdyYXBoaWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHVwZGF0aW5nIGJ1ZmZlciBmcm9tIE15RHJhd2luZ3NQYW5lbDonLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBwcml2YXRlIGNyZWF0ZUJ1ZmZlckdlb21ldHJ5ID0gYXN5bmMgKGdlb21ldHJ5OiBfX2VzcmkuR2VvbWV0cnksIGRpc3RhbmNlOiBudW1iZXIsIHVuaXQ6IHN0cmluZyk6IFByb21pc2U8X19lc3JpLkdlb21ldHJ5IHwgbnVsbD4gPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3Py52aWV3O1xyXG4gICAgICAgICAgICBpZiAoIXZpZXcpIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICBjb25zdCBsaW5lYXJVbml0ID0gdW5pdCBhcyBfX2VzcmkuTGluZWFyVW5pdHM7XHJcbiAgICAgICAgICAgIGxldCBidWZmZXJSZXN1bHQ6IF9fZXNyaS5HZW9tZXRyeSB8IF9fZXNyaS5HZW9tZXRyeVtdIHwgbnVsbCA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICh2aWV3LnNwYXRpYWxSZWZlcmVuY2U/LmlzR2VvZ3JhcGhpYyB8fCB2aWV3LnNwYXRpYWxSZWZlcmVuY2U/LmlzV2ViTWVyY2F0b3IpIHtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlclJlc3VsdCA9IGF3YWl0IGdlb21ldHJ5RW5naW5lQXN5bmMuZ2VvZGVzaWNCdWZmZXIoZ2VvbWV0cnkgYXMgYW55LCBkaXN0YW5jZSwgbGluZWFyVW5pdCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBidWZmZXJSZXN1bHQgPSBhd2FpdCBnZW9tZXRyeUVuZ2luZUFzeW5jLmJ1ZmZlcihnZW9tZXRyeSBhcyBhbnksIGRpc3RhbmNlLCBsaW5lYXJVbml0LCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWJ1ZmZlclJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdCdWZmZXIgb3BlcmF0aW9uIHJldHVybmVkIG51bGwnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGJ1ZmZlclJlc3VsdCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChidWZmZXJSZXN1bHQubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdCdWZmZXIgb3BlcmF0aW9uIHJldHVybmVkIGVtcHR5IGFycmF5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyUmVzdWx0WzBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBidWZmZXJSZXN1bHQ7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgYnVmZmVyIGdlb21ldHJ5OicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIF9nZW9tZXRyeVdhdGNoVGltZW91dHM6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTsgLy8gRGVib3VuY2UgZ2VvbWV0cnkgY2hhbmdlc1xyXG4gICAgcHJpdmF0ZSBwZXJmb3JtQWN0dWFsU2F2ZSA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5hbGxvd0xvY2FsU3RvcmFnZSA9PT0gZmFsc2UgfHwgdGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCAhPT0gdHJ1ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBHZXQgQUxMIGdyYXBoaWNzIGZyb20gdGhlIGxheWVyIChpbmNsdWRpbmcgbWVhc3VyZW1lbnQgbGFiZWxzIGFuZCBidWZmZXJzKVxyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50R3JhcGhpY3MgPSB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuZ3JhcGhpY3MudG9BcnJheSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gU2VwYXJhdGUgbWFpbiBkcmF3aW5ncyBmcm9tIGJ1ZmZlcnMgYW5kIG1lYXN1cmVtZW50IGxhYmVsc1xyXG4gICAgICAgICAgICBjb25zdCBtYWluRHJhd2luZ3MgPSBjdXJyZW50R3JhcGhpY3MuZmlsdGVyKGcgPT5cclxuICAgICAgICAgICAgICAgICFnLmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRMYWJlbCAmJlxyXG4gICAgICAgICAgICAgICAgIWcuYXR0cmlidXRlcz8uaGlkZUZyb21MaXN0ICYmXHJcbiAgICAgICAgICAgICAgICAhZy5hdHRyaWJ1dGVzPy5pc1ByZXZpZXdCdWZmZXIgJiZcclxuICAgICAgICAgICAgICAgICFnLmF0dHJpYnV0ZXM/LmlzQnVmZmVyICYmIC8vIEV4Y2x1ZGUgYnVmZmVyIGdyYXBoaWNzIGZyb20gbWFpbiBkcmF3aW5nc1xyXG4gICAgICAgICAgICAgICAgIWcuYXR0cmlidXRlcz8uaXNCdWZmZXJEcmF3aW5nXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBtZWFzdXJlbWVudExhYmVscyA9IGN1cnJlbnRHcmFwaGljcy5maWx0ZXIoZyA9PlxyXG4gICAgICAgICAgICAgICAgZy5hdHRyaWJ1dGVzPy5pc01lYXN1cmVtZW50TGFiZWwgJiZcclxuICAgICAgICAgICAgICAgICFnLmF0dHJpYnV0ZXM/LmlzUHJldmlld0J1ZmZlclxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgLy8gRG9uJ3Qgc2F2ZSBzdGFuZGFsb25lIGJ1ZmZlciBncmFwaGljcyBzaW5jZSB0aGV5J2xsIGJlIHJlY3JlYXRlZCBmcm9tIHBhcmVudCBzZXR0aW5nc1xyXG4gICAgICAgICAgICAvLyBJbnN0ZWFkLCBzYXZlIGJ1ZmZlciBzZXR0aW5ncyB3aXRoIHBhcmVudCBncmFwaGljc1xyXG5cclxuICAgICAgICAgICAgLy8gUHJlcGFyZSBtYWluIGRyYXdpbmdzIGZvciBzdG9yYWdlIHdpdGggYnVmZmVyIHNldHRpbmdzXHJcbiAgICAgICAgICAgIGNvbnN0IGRyYXdpbmdzVG9TYXZlID0gbWFpbkRyYXdpbmdzLm1hcCgoZ3JhcGhpYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ZW5kZWRHcmFwaGljID0gYXNFeHRlbmRlZEdyYXBoaWMoZ3JhcGhpYyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gZ3JhcGhpYy50b0pTT04oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgZWFjaCBncmFwaGljIGhhcyBhIHVuaXF1ZUlkXHJcbiAgICAgICAgICAgICAgICBpZiAoIWpzb24uYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGpzb24uYXR0cmlidXRlcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFqc29uLmF0dHJpYnV0ZXMudW5pcXVlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1bmlxdWVJZCA9IGByZXN0b3JlZF8ke0RhdGUubm93KCl9XyR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApfWA7XHJcbiAgICAgICAgICAgICAgICAgICAganNvbi5hdHRyaWJ1dGVzLnVuaXF1ZUlkID0gdW5pcXVlSWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWpzb24uYXR0cmlidXRlcy5jcmVhdGVkRGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpzb24uYXR0cmlidXRlcy5jcmVhdGVkRGF0ZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g8J+UpyBDUklUSUNBTDogU2F2ZSBidWZmZXIgc2V0dGluZ3MgSU5DTFVESU5HIE9QQUNJVFkgaWYgdGhpcyBncmFwaGljIGhhcyBhbiBhdHRhY2hlZCBidWZmZXJcclxuICAgICAgICAgICAgICAgIGlmIChleHRlbmRlZEdyYXBoaWMuYnVmZmVyU2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBqc29uLmF0dHJpYnV0ZXMuYnVmZmVyU2V0dGluZ3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBleHRlbmRlZEdyYXBoaWMuYnVmZmVyU2V0dGluZ3MuZGlzdGFuY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuaXQ6IGV4dGVuZGVkR3JhcGhpYy5idWZmZXJTZXR0aW5ncy51bml0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBleHRlbmRlZEdyYXBoaWMuYnVmZmVyU2V0dGluZ3MuZW5hYmxlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogZXh0ZW5kZWRHcmFwaGljLmJ1ZmZlclNldHRpbmdzLm9wYWNpdHkgIC8vIPCfmqggQ1JJVElDQUw6IEluY2x1ZGUgb3BhY2l0eSBpbiBzYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDwn5K+IE15RHJhd2luZ3NQYW5lbDogU2F2aW5nIGJ1ZmZlciBzZXR0aW5ncyBmb3IgZ3JhcGhpYyAke2pzb24uYXR0cmlidXRlcy51bmlxdWVJZH06YCwganNvbi5hdHRyaWJ1dGVzLmJ1ZmZlclNldHRpbmdzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbjtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBQcmVwYXJlIG1lYXN1cmVtZW50IGxhYmVscyBmb3Igc3RvcmFnZVxyXG4gICAgICAgICAgICAvLyBJbiBwZXJmb3JtQWN0dWFsU2F2ZSgpIG1ldGhvZCwgdXBkYXRlIHRoZSBtZWFzdXJlbWVudCBsYWJlbHMgc2VjdGlvbjpcclxuICAgICAgICAgICAgLy8gUHJlcGFyZSBtZWFzdXJlbWVudCBsYWJlbHMgZm9yIHN0b3JhZ2UgV0lUSCBjdXN0b21pemF0aW9uIGRhdGFcclxuICAgICAgICAgICAgY29uc3QgbWVhc3VyZW1lbnRMYWJlbHNUb1NhdmUgPSBtZWFzdXJlbWVudExhYmVscy5tYXAoKGxhYmVsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBleHRlbmRlZExhYmVsID0gYXNFeHRlbmRlZEdyYXBoaWMobGFiZWwpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QganNvbiA9IGxhYmVsLnRvSlNPTigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghanNvbi5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAganNvbi5hdHRyaWJ1dGVzID0ge307XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3RvcmUgdGhlIHBhcmVudCBncmFwaGljJ3MgdW5pcXVlSWQgZm9yIHJlc3RvcmF0aW9uXHJcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZW5kZWRMYWJlbC5tZWFzdXJlUGFyZW50Py5hdHRyaWJ1dGVzPy51bmlxdWVJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpzb24uYXR0cmlidXRlcy5wYXJlbnRHcmFwaGljSWQgPSBleHRlbmRlZExhYmVsLm1lYXN1cmVQYXJlbnQuYXR0cmlidXRlcy51bmlxdWVJZDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgbWVhc3VyZW1lbnQgbGFiZWwgZmxhZ3MgYXJlIHByZXNlcnZlZFxyXG4gICAgICAgICAgICAgICAganNvbi5hdHRyaWJ1dGVzLmlzTWVhc3VyZW1lbnRMYWJlbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBqc29uLmF0dHJpYnV0ZXMuaGlkZUZyb21MaXN0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDUklUSUNBTDogU2F2ZSBjdXN0b21pemF0aW9uIGZsYWdzIGFuZCBjdXN0b20gcG9zaXRpb24gZGF0YVxyXG4gICAgICAgICAgICAgICAgaWYgKGV4dGVuZGVkTGFiZWwuYXR0cmlidXRlcz8uY3VzdG9taXplZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpzb24uYXR0cmlidXRlcy5jdXN0b21pemVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBqc29uLmF0dHJpYnV0ZXMubGFzdE1vZGlmaWVkID0gZXh0ZW5kZWRMYWJlbC5hdHRyaWJ1dGVzLmxhc3RNb2RpZmllZDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZW5kZWRMYWJlbC5hdHRyaWJ1dGVzPy5oYXNDdXN0b21Qb3NpdGlvbiAmJiBleHRlbmRlZExhYmVsLmF0dHJpYnV0ZXM/LmN1c3RvbVBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAganNvbi5hdHRyaWJ1dGVzLmhhc0N1c3RvbVBvc2l0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBqc29uLmF0dHJpYnV0ZXMuY3VzdG9tUG9zaXRpb24gPSBleHRlbmRlZExhYmVsLmF0dHJpYnV0ZXMuY3VzdG9tUG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU2F2ZSBtZWFzdXJlbWVudCB0eXBlXHJcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZW5kZWRMYWJlbC5hdHRyaWJ1dGVzPy5tZWFzdXJlbWVudFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBqc29uLmF0dHJpYnV0ZXMubWVhc3VyZW1lbnRUeXBlID0gZXh0ZW5kZWRMYWJlbC5hdHRyaWJ1dGVzLm1lYXN1cmVtZW50VHlwZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTYXZlIG1lYXN1cmVtZW50IHVuaXRzXHJcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZW5kZWRMYWJlbC5hdHRyaWJ1dGVzPy5sZW5ndGhVbml0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAganNvbi5hdHRyaWJ1dGVzLmxlbmd0aFVuaXQgPSBleHRlbmRlZExhYmVsLmF0dHJpYnV0ZXMubGVuZ3RoVW5pdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChleHRlbmRlZExhYmVsLmF0dHJpYnV0ZXM/LmFyZWFVbml0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAganNvbi5hdHRyaWJ1dGVzLmFyZWFVbml0ID0gZXh0ZW5kZWRMYWJlbC5hdHRyaWJ1dGVzLmFyZWFVbml0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBqc29uO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB2ZXJzaW9uIHRvIDEuNFxyXG4gICAgICAgICAgICBjb25zdCBhbGxHcmFwaGljc1RvU2F2ZSA9IHtcclxuICAgICAgICAgICAgICAgIGRyYXdpbmdzOiBkcmF3aW5nc1RvU2F2ZSxcclxuICAgICAgICAgICAgICAgIG1lYXN1cmVtZW50TGFiZWxzOiBtZWFzdXJlbWVudExhYmVsc1RvU2F2ZSxcclxuICAgICAgICAgICAgICAgIHZlcnNpb246IFwiMS40XCIgLy8gVXBkYXRlZCB2ZXJzaW9uIHRvIHN1cHBvcnQgbWVhc3VyZW1lbnQgY3VzdG9taXphdGlvblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IHRoaXMubG9jYWxTdG9yYWdlS2V5O1xyXG5cclxuICAgICAgICAgICAgLy8gU2F2ZSBhc3luY2hyb25vdXNseSB3aGVuIHRoZSBicm93c2VyIGlzIGlkbGVcclxuICAgICAgICAgICAgY29uc3Qgc2F2ZUZuID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdpZmllZCA9IEpTT04uc3RyaW5naWZ5KGFsbEdyYXBoaWNzVG9TYXZlKTtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5LCBzdHJpbmdpZmllZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg4pyFIFN1Y2Nlc3NmdWxseSBzYXZlZCAke2RyYXdpbmdzVG9TYXZlLmxlbmd0aH0gZHJhd2luZyhzKSB3aXRoIGJ1ZmZlciBzZXR0aW5ncyBhbmQgJHttZWFzdXJlbWVudExhYmVsc1RvU2F2ZS5sZW5ndGh9IG1lYXN1cmVtZW50IGxhYmVsKHMpIHRvIGxvY2FsU3RvcmFnZWApO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoc3RyaW5naWZ5RXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgRmFpbGVkIHRvIHN0cmluZ2lmeSBncmFwaGljcyBmb3IgbG9jYWxTdG9yYWdlYCwgc3RyaW5naWZ5RXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvY2FsQWxlcnQoJ0Vycm9yIHNhdmluZyBkcmF3aW5ncyAoc3RyaW5naWZ5IGZhaWxlZCknLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVzZSByZXF1ZXN0SWRsZUNhbGxiYWNrIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UsIGZhbGxiYWNrIHRvIHNldFRpbWVvdXRcclxuICAgICAgICAgICAgaWYgKCdyZXF1ZXN0SWRsZUNhbGxiYWNrJyBpbiB3aW5kb3cpIHtcclxuICAgICAgICAgICAgICAgICh3aW5kb3cgYXMgYW55KS5yZXF1ZXN0SWRsZUNhbGxiYWNrKHNhdmVGbiwgeyB0aW1lb3V0OiA1MDAwIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChzYXZlRm4sIDApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgRXJyb3IgcHJlcGFyaW5nIGRyYXdpbmdzIGZvciBsb2NhbFN0b3JhZ2VgLCBlcnIpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdFcnJvciBzYXZpbmcgZHJhd2luZ3MnLCAnZXJyb3InKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcHJpdmF0ZSBkZWJvdW5jZWRNZWFzdXJlbWVudFVwZGF0ZSA9IChncmFwaGljOiBFeHRlbmRlZEdyYXBoaWMsIGRlbGF5OiBudW1iZXIgPSA1MDApID0+IHtcclxuICAgICAgICBpZiAoIWdyYXBoaWMgfHwgIWdyYXBoaWMuYXR0cmlidXRlcz8udW5pcXVlSWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gQ1JJVElDQUw6IFByZXZlbnQgbG9vcHMgYnkgY2hlY2tpbmcgaWYgd2UncmUgYWxyZWFkeSB1cGRhdGluZyBtZWFzdXJlbWVudHNcclxuICAgICAgICBpZiAodGhpcy5faXNVcGRhdGluZ01lYXN1cmVtZW50cykge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDij63vuI8gU2tpcHBpbmcgbWVhc3VyZW1lbnQgdXBkYXRlIC0gYWxyZWFkeSBpbiBwcm9ncmVzc2ApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBncmFwaGljSWQgPSBncmFwaGljLmF0dHJpYnV0ZXMudW5pcXVlSWQ7XHJcblxyXG4gICAgICAgIC8vIENsZWFyIGFueSBleGlzdGluZyB0aW1lb3V0IGZvciB0aGlzIGdyYXBoaWNcclxuICAgICAgICBpZiAodGhpcy5fZ2VvbWV0cnlXYXRjaFRpbWVvdXRzW2dyYXBoaWNJZF0pIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2dlb21ldHJ5V2F0Y2hUaW1lb3V0c1tncmFwaGljSWRdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCBhIG5ldyB0aW1lb3V0XHJcbiAgICAgICAgdGhpcy5fZ2VvbWV0cnlXYXRjaFRpbWVvdXRzW2dyYXBoaWNJZF0gPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wZXJmb3JtU2luZ2xlTWVhc3VyZW1lbnRVcGRhdGUoZ3JhcGhpYyk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9nZW9tZXRyeVdhdGNoVGltZW91dHNbZ3JhcGhpY0lkXTtcclxuICAgICAgICB9LCBkZWxheSk7XHJcbiAgICB9O1xyXG4gICAgcHJpdmF0ZSBwZXJmb3JtU2luZ2xlTWVhc3VyZW1lbnRVcGRhdGUgPSAoZ3JhcGhpYzogRXh0ZW5kZWRHcmFwaGljKSA9PiB7XHJcbiAgICAgICAgaWYgKCFncmFwaGljIHx8ICF0aGlzLm1lYXN1cmVSZWY/LmN1cnJlbnQgfHwgdGhpcy5faXNVcGRhdGluZ01lYXN1cmVtZW50cykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDUklUSUNBTDogU2V0IGZsYWcgdG8gcHJldmVudCByZS1lbnRyeVxyXG4gICAgICAgIHRoaXMuX2lzVXBkYXRpbmdNZWFzdXJlbWVudHMgPSB0cnVlO1xyXG5cclxuICAgICAgICBjb25zdCBncmFwaGljSWQgPSBncmFwaGljLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkIHx8ICd1bmtub3duJztcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+TkCBVcGRhdGluZyBtZWFzdXJlbWVudHMgZm9yOiAke2dyYXBoaWMuYXR0cmlidXRlcz8ubmFtZSB8fCBncmFwaGljSWR9YCk7XHJcblxyXG4gICAgICAgICAgICAvLyBDYWxsIHRoZSBtZWFzdXJlbWVudCB1cGRhdGUgYnV0IHdyYXAgaXQgdG8gaGFuZGxlIGFueSBlcnJvcnNcclxuICAgICAgICAgICAgdGhpcy5tZWFzdXJlUmVmLmN1cnJlbnQudXBkYXRlTWVhc3VyZW1lbnRzRm9yR3JhcGhpYyhncmFwaGljKTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGDinYwgQ291bGQgbm90IHVwZGF0ZSBtZWFzdXJlbWVudHMgZm9yICR7Z3JhcGhpY0lkfTpgLCBlcnJvcik7XHJcbiAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgLy8gQ1JJVElDQUw6IEFsd2F5cyBjbGVhciB0aGUgZmxhZywgZXZlbiBvbiBlcnJvclxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lzVXBkYXRpbmdNZWFzdXJlbWVudHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSwgMTAwKTsgLy8gU21hbGwgZGVsYXkgdG8gZW5zdXJlIG1lYXN1cmVtZW50IHN5c3RlbSBoYXMgdGltZSB0byBjb21wbGV0ZVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBjbGVhbnVwT3JwaGFuZWRNZWFzdXJlbWVudExhYmVscyA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMuZ3JhcGhpY3NMYXllcikgcmV0dXJuO1xyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKCfwn6e5IFN0YXJ0aW5nIGF1dG9tYXRpYyBjbGVhbnVwIG9mIG9ycGhhbmVkIG1lYXN1cmVtZW50IGxhYmVscyBhbmQgYnVmZmVycycpO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBhbGxHcmFwaGljcyA9IHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5ncmFwaGljcy50b0FycmF5KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBTZXBhcmF0ZSBkaWZmZXJlbnQgdHlwZXMgb2YgZ3JhcGhpY3NcclxuICAgICAgICAgICAgY29uc3QgYWN0dWFsRHJhd2luZ3MgPSBhbGxHcmFwaGljcy5maWx0ZXIoZyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBleHRHID0gZyBhcyBFeHRlbmRlZEdyYXBoaWM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gIWV4dEcuYXR0cmlidXRlcz8uaXNNZWFzdXJlbWVudExhYmVsICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIWV4dEcuYXR0cmlidXRlcz8uaGlkZUZyb21MaXN0ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIWV4dEcuYXR0cmlidXRlcz8uaXNCdWZmZXIgJiZcclxuICAgICAgICAgICAgICAgICAgICAhZXh0Ry5hdHRyaWJ1dGVzPy5pc1ByZXZpZXdCdWZmZXI7IC8vIEFsc28gZXhjbHVkZSBwcmV2aWV3IGJ1ZmZlcnNcclxuICAgICAgICAgICAgfSkgYXMgRXh0ZW5kZWRHcmFwaGljW107XHJcblxyXG4gICAgICAgICAgICBjb25zdCBtZWFzdXJlbWVudExhYmVscyA9IGFsbEdyYXBoaWNzLmZpbHRlcihnID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4dEcgPSBnIGFzIEV4dGVuZGVkR3JhcGhpYztcclxuICAgICAgICAgICAgICAgIHJldHVybiBleHRHLmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRMYWJlbCAmJiAhZXh0Ry5hdHRyaWJ1dGVzPy5pc0J1ZmZlcjtcclxuICAgICAgICAgICAgfSkgYXMgRXh0ZW5kZWRHcmFwaGljW107XHJcblxyXG4gICAgICAgICAgICAvLyDwn5SnIEVOSEFOQ0VEOiBJbmNsdWRlIEFMTCBidWZmZXIgdHlwZXMgaW4gY2xlYW51cFxyXG4gICAgICAgICAgICBjb25zdCBidWZmZXJHcmFwaGljcyA9IGFsbEdyYXBoaWNzLmZpbHRlcihnID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4dEcgPSBnIGFzIEV4dGVuZGVkR3JhcGhpYztcclxuICAgICAgICAgICAgICAgIHJldHVybiBleHRHLmF0dHJpYnV0ZXM/LmlzQnVmZmVyIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZXh0Ry5hdHRyaWJ1dGVzPy5pc1ByZXZpZXdCdWZmZXIgfHxcclxuICAgICAgICAgICAgICAgICAgICBleHRHLmlzQnVmZmVyRHJhd2luZzsgLy8gTGVnYWN5IGJ1ZmZlciBkcmF3aW5nc1xyXG4gICAgICAgICAgICB9KSBhcyBFeHRlbmRlZEdyYXBoaWNbXTtcclxuXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYEZvdW5kICR7YWN0dWFsRHJhd2luZ3MubGVuZ3RofSBkcmF3aW5ncywgJHttZWFzdXJlbWVudExhYmVscy5sZW5ndGh9IG1lYXN1cmVtZW50IGxhYmVscywgJHtidWZmZXJHcmFwaGljcy5sZW5ndGh9IGJ1ZmZlcnNgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIHNldCBvZiB2YWxpZCBwYXJlbnQgSURzIGZyb20gYWN0dWFsIGRyYXdpbmdzXHJcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkUGFyZW50SWRzID0gbmV3IFNldChcclxuICAgICAgICAgICAgICAgIGFjdHVhbERyYXdpbmdzXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChkcmF3aW5nID0+IGRyYXdpbmcuYXR0cmlidXRlcz8udW5pcXVlSWQpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihpZCA9PiBpZClcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZpbmQgb3JwaGFuZWQgbWVhc3VyZW1lbnQgbGFiZWxzXHJcbiAgICAgICAgICAgIGNvbnN0IG9ycGhhbmVkTGFiZWxzID0gbWVhc3VyZW1lbnRMYWJlbHMuZmlsdGVyKGxhYmVsID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudElkID0gbGFiZWwuYXR0cmlidXRlcz8ucGFyZW50R3JhcGhpY0lkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKGxhYmVsIGFzIGFueSkubWVhc3VyZVBhcmVudD8uYXR0cmlidXRlcz8udW5pcXVlSWQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gIXBhcmVudElkIHx8ICF2YWxpZFBhcmVudElkcy5oYXMocGFyZW50SWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIPCflKcgRU5IQU5DRUQ6IEZpbmQgb3JwaGFuZWQgYnVmZmVycyB1c2luZyBtdWx0aXBsZSBjaGVja3NcclxuICAgICAgICAgICAgY29uc3Qgb3JwaGFuZWRCdWZmZXJzID0gYnVmZmVyR3JhcGhpY3MuZmlsdGVyKGJ1ZmZlciA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBwYXJlbnRJZCAoZm9yIGF0dGFjaGVkIGJ1ZmZlcnMpXHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRJZCA9IGJ1ZmZlci5hdHRyaWJ1dGVzPy5wYXJlbnRJZDtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRJZCAmJiAhdmFsaWRQYXJlbnRJZHMuaGFzKHBhcmVudElkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIHNvdXJjZUdyYXBoaWNJZCAoZm9yIGxlZ2FjeSBidWZmZXIgZHJhd2luZ3MpXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VJZCA9IChidWZmZXIgYXMgYW55KS5zb3VyY2VHcmFwaGljSWQgfHwgYnVmZmVyLmF0dHJpYnV0ZXM/LnNvdXJjZUdyYXBoaWNJZDtcclxuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VJZCAmJiAhdmFsaWRQYXJlbnRJZHMuaGFzKHNvdXJjZUlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIElmIG5vIHBhcmVudCByZWZlcmVuY2UgYXQgYWxsLCBpdCdzIGxpa2VseSBvcnBoYW5lZFxyXG4gICAgICAgICAgICAgICAgaWYgKCFwYXJlbnRJZCAmJiAhc291cmNlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgb3JwaGFuZWQgaXRlbXNcclxuICAgICAgICAgICAgaWYgKG9ycGhhbmVkTGFiZWxzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfl5HvuI8gQXV0by1yZW1vdmluZyAke29ycGhhbmVkTGFiZWxzLmxlbmd0aH0gb3JwaGFuZWQgbWVhc3VyZW1lbnQgbGFiZWxzYCk7XHJcbiAgICAgICAgICAgICAgICBvcnBoYW5lZExhYmVscy5mb3JFYWNoKGxhYmVsID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIucmVtb3ZlKGxhYmVsKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob3JwaGFuZWRCdWZmZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfl5HvuI8gQXV0by1yZW1vdmluZyAke29ycGhhbmVkQnVmZmVycy5sZW5ndGh9IG9ycGhhbmVkIGJ1ZmZlciBncmFwaGljc2ApO1xyXG4gICAgICAgICAgICAgICAgb3JwaGFuZWRCdWZmZXJzLmZvckVhY2goYnVmZmVyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIucmVtb3ZlKGJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG9ycGhhbmVkTGFiZWxzLmxlbmd0aCA9PT0gMCAmJiBvcnBoYW5lZEJ1ZmZlcnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCfinIUgTm8gb3JwaGFuZWQgZ3JhcGhpY3MgZm91bmQnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEZvcmNlIGEgbWFwIHJlZnJlc2ggYWZ0ZXIgY2xlYW51cFxyXG4gICAgICAgICAgICAgICAgdGhpcy5mb3JjZU1hcFJlZnJlc2goKTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYOKchSBBdXRvLWNsZWFudXAgY29tcGxldGVkIC0gcmVtb3ZlZCAke29ycGhhbmVkTGFiZWxzLmxlbmd0aH0gbGFiZWxzIGFuZCAke29ycGhhbmVkQnVmZmVycy5sZW5ndGh9IGJ1ZmZlcnNgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZHVyaW5nIGF1dG9tYXRpYyBvcnBoYW5lZCBncmFwaGljcyBjbGVhbnVwOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcHJpdmF0ZSBzZXNzaW9uUHJvbXB0S2V5OiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGNsZWFudXBMb2NhbFN0b3JhZ2VNZWFzdXJlbWVudHMgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuYWxsb3dMb2NhbFN0b3JhZ2UgPT09IGZhbHNlIHx8IHRoaXMuc3RhdGUuY29uc2VudEdyYW50ZWQgIT09IHRydWUpIHJldHVybjtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IHRoaXMubG9jYWxTdG9yYWdlS2V5O1xyXG4gICAgICAgICAgICBjb25zdCBzYXZlZERhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghc2F2ZWREYXRhKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShzYXZlZERhdGEpO1xyXG5cclxuICAgICAgICAgICAgLy8gSGFuZGxlIG5ldyBmb3JtYXQgd2l0aCBkcmF3aW5ncyBhbmQgbWVhc3VyZW1lbnRMYWJlbHNcclxuICAgICAgICAgICAgaWYgKHBhcnNlZERhdGEudmVyc2lvbiA9PT0gXCIxLjFcIiAmJiBwYXJzZWREYXRhLmRyYXdpbmdzICYmIHBhcnNlZERhdGEubWVhc3VyZW1lbnRMYWJlbHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRyYXdpbmdzID0gcGFyc2VkRGF0YS5kcmF3aW5ncyB8fCBbXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1lYXN1cmVtZW50TGFiZWxzID0gcGFyc2VkRGF0YS5tZWFzdXJlbWVudExhYmVscyB8fCBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgc2V0IG9mIHZhbGlkIHBhcmVudCBJRHMgZnJvbSBkcmF3aW5nc1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWRQYXJlbnRJZHMgPSBuZXcgU2V0KFxyXG4gICAgICAgICAgICAgICAgICAgIGRyYXdpbmdzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZHJhd2luZyA9PiBkcmF3aW5nLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGlkID0+IGlkKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBGaWx0ZXIgb3V0IG9ycGhhbmVkIG1lYXN1cmVtZW50IGxhYmVsc1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2xlYW5lZE1lYXN1cmVtZW50TGFiZWxzID0gbWVhc3VyZW1lbnRMYWJlbHMuZmlsdGVyKGxhYmVsID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRJZCA9IGxhYmVsLmF0dHJpYnV0ZXM/LnBhcmVudEdyYXBoaWNJZDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50SWQgJiYgdmFsaWRQYXJlbnRJZHMuaGFzKHBhcmVudElkKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjbGVhbmVkTWVhc3VyZW1lbnRMYWJlbHMubGVuZ3RoICE9PSBtZWFzdXJlbWVudExhYmVscy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDwn6e5IEF1dG8tY2xlYW5pbmcgbG9jYWxTdG9yYWdlOiAke21lYXN1cmVtZW50TGFiZWxzLmxlbmd0aH0gLT4gJHtjbGVhbmVkTWVhc3VyZW1lbnRMYWJlbHMubGVuZ3RofSBtZWFzdXJlbWVudCBsYWJlbHNgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGxvY2FsU3RvcmFnZSB3aXRoIGNsZWFuZWQgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsZWFuZWREYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJzZWREYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZWFzdXJlbWVudExhYmVsczogY2xlYW5lZE1lYXN1cmVtZW50TGFiZWxzXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkoY2xlYW5lZERhdGEpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCfinIUgbG9jYWxTdG9yYWdlIGF1dG8tY2xlYW5lZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgYXV0by1jbGVhbmluZyBsb2NhbFN0b3JhZ2UgbWVhc3VyZW1lbnRzOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBNeURyYXdpbmdzUGFuZWxQcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAgICAgLy8gQnVpbGQgYSB1bmlxdWUsIHN0YWJsZSBzdG9yYWdlIGtleSBmb3IgdGhpcyBhcHAgKG9yaWdpbiArIHBhdGhuYW1lKVxyXG4gICAgICAgIGNvbnN0IGZ1bGxVcmwgPSBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufSR7d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lfWA7XHJcbiAgICAgICAgY29uc3QgYmFzZUtleSA9IGJ0b2EoZnVsbFVybCkucmVwbGFjZSgvW15hLXpBLVowLTldL2csICdfJyk7XHJcblxyXG4gICAgICAgIC8vIElmIGEga2V5IGlzIHByb3ZpZGVkIHZpYSBwcm9wcywgc2FuaXRpemUgaXQ7IG90aGVyd2lzZSB1c2UgdGhlIGRlcml2ZWQgb25lXHJcbiAgICAgICAgY29uc3QgcHJvdmlkZWRLZXkgPSB0aGlzLnByb3BzLmxvY2FsU3RvcmFnZUtleVxyXG4gICAgICAgICAgICA/IFN0cmluZyh0aGlzLnByb3BzLmxvY2FsU3RvcmFnZUtleSkucmVwbGFjZSgvW15hLXpBLVowLTlfLV0vZywgJ18nKVxyXG4gICAgICAgICAgICA6IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMubG9jYWxTdG9yYWdlS2V5ID0gcHJvdmlkZWRLZXkgPz8gYGRyYXdpbmdzXyR7YmFzZUtleX1gO1xyXG5cclxuICAgICAgICAvLyBORVc6IHBlci1zZXNzaW9uIGZsYWcgc28gdGhlIHJlc3RvcmUgcHJvbXB0IHNob3dzIG9ubHkgb25jZSBwZXIgcGFnZSBsb2FkXHJcbiAgICAgICAgdGhpcy5zZXNzaW9uUHJvbXB0S2V5ID0gYGRyYXdpbmdzX3Byb21wdF9zaG93bl8ke2Jhc2VLZXl9YDtcclxuXHJcbiAgICAgICAgLy8gUmVhZCBjb25zZW50IGZsYWcgKGd1YXJkIGFnYWluc3Qgc3RvcmFnZSBlcnJvcnMpXHJcbiAgICAgICAgbGV0IGNvbnNlbnRHcmFudGVkOiBib29sZWFuIHwgbnVsbCA9IG51bGw7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgY29uc2VudFZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RyYXdpbmdDb25zZW50R3JhbnRlZCcpO1xyXG4gICAgICAgICAgICBjb25zZW50R3JhbnRlZCA9IGNvbnNlbnRWYWx1ZSA9PT0gJ3RydWUnID8gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgOiBjb25zZW50VmFsdWUgPT09ICdmYWxzZScgPyBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgY29uc2VudEdyYW50ZWQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRGV0ZWN0IGlmIHdlIGhhdmUgc2F2ZWQgZHJhd2luZ3MgZm9yIHRoaXMga2V5IChmb3IgcmVzdG9yZSBwcm9tcHQpXHJcbiAgICAgICAgbGV0IGhhc0V4aXN0aW5nRHJhd2luZ3MgPSBmYWxzZTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBoYXNFeGlzdGluZ0RyYXdpbmdzID0gISFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmxvY2FsU3RvcmFnZUtleSk7XHJcbiAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgIGhhc0V4aXN0aW5nRHJhd2luZ3MgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEhhcyB0aGUgcHJvbXB0IGJlZW4gc2hvd24gYWxyZWFkeSBpbiBUSElTIGJyb3dzZXIgc2Vzc2lvbj9cclxuICAgICAgICBsZXQgcHJvbXB0QWxyZWFkeVNob3duID0gZmFsc2U7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcHJvbXB0QWxyZWFkeVNob3duID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnNlc3Npb25Qcm9tcHRLZXkpID09PSAnMSc7XHJcbiAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgIHByb21wdEFscmVhZHlTaG93biA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2hvdyB0aGUgcHJvbXB0IG9ubHkgb25jZSBwZXIgc2Vzc2lvbiAoYW5kIG9ubHkgaWYgdGhlcmUgYXJlIGRyYXdpbmdzIGFuZCBjb25zZW50IGlzbid0IGV4cGxpY2l0bHkgZGVuaWVkKVxyXG4gICAgICAgIGNvbnN0IHNob3dMb2FkUHJvbXB0ID0gIXByb21wdEFscmVhZHlTaG93biAmJiBoYXNFeGlzdGluZ0RyYXdpbmdzICYmIGNvbnNlbnRHcmFudGVkICE9PSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gTWFyayBhcyBzaG93biBpbW1lZGlhdGVseSBzbyByZW1vdW50cyAodGFiIHN3aXRjaGVzKSB3b24ndCByZS10cmlnZ2VyIGl0XHJcbiAgICAgICAgaWYgKHNob3dMb2FkUHJvbXB0KSB7XHJcbiAgICAgICAgICAgIHRyeSB7IHNlc3Npb25TdG9yYWdlLnNldEl0ZW0odGhpcy5zZXNzaW9uUHJvbXB0S2V5LCAnMScpOyB9IGNhdGNoIHsgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgZHJhd2luZ3M6IFtdLFxyXG4gICAgICAgICAgICBzZWxlY3RlZEdyYXBoaWNJbmRleDogbnVsbCxcclxuICAgICAgICAgICAgc29ydE9wdGlvbjogJ25hbWUnLFxyXG4gICAgICAgICAgICBlZGl0aW5nR3JhcGhpY0luZGV4OiBudWxsLFxyXG4gICAgICAgICAgICBhbGVydE1lc3NhZ2U6ICcnLFxyXG4gICAgICAgICAgICBhbGVydFR5cGU6ICdpbmZvJyxcclxuICAgICAgICAgICAgc2hvd0FsZXJ0OiBmYWxzZSxcclxuICAgICAgICAgICAgY29uc2VudEdyYW50ZWQsXHJcbiAgICAgICAgICAgIGdyYXBoaWNzV2F0Y2hIYW5kbGU6IG51bGwsXHJcblxyXG4gICAgICAgICAgICAvLyBDb25maXJtYXRpb24gZGlhbG9nXHJcbiAgICAgICAgICAgIGNvbmZpcm1EaWFsb2dPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgY29uZmlybURpYWxvZ0FjdGlvbjogbnVsbCxcclxuICAgICAgICAgICAgY29uZmlybURpYWxvZ01lc3NhZ2U6ICcnLFxyXG4gICAgICAgICAgICBjb25maXJtRGlhbG9nVHlwZTogJ2RlbGV0ZScsXHJcbiAgICAgICAgICAgIGNvbmZpcm1EaWFsb2dJdGVtSW5kZXg6IG51bGwsXHJcblxyXG4gICAgICAgICAgICAvLyBJbXBvcnQgZGlhbG9nXHJcbiAgICAgICAgICAgIGltcG9ydERpYWxvZ09wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBpbXBvcnRGaWxlOiBudWxsLFxyXG4gICAgICAgICAgICBpbXBvcnRGaWxlQ29udGVudDogbnVsbCxcclxuXHJcbiAgICAgICAgICAgIC8vIFNlbGVjdGlvblxyXG4gICAgICAgICAgICBzZWxlY3RlZEdyYXBoaWNzOiBuZXcgU2V0PG51bWJlcj4oKSxcclxuICAgICAgICAgICAgc3ltYm9sRWRpdGluZ0luZGV4OiBudWxsLFxyXG4gICAgICAgICAgICBzaG93U3RvcmFnZURpc2NsYWltZXI6IGZhbHNlLFxyXG5cclxuICAgICAgICAgICAgLy8gVGV4dCBpbnB1dFxyXG4gICAgICAgICAgICB0ZXh0VmFsdWU6ICcnLFxyXG5cclxuICAgICAgICAgICAgLy8gVGV4dCBzeW1ib2wgc3R5bGUgcHJvcGVydGllc1xyXG4gICAgICAgICAgICBmb250Q29sb3I6ICdyZ2JhKDAsMCwwLDEpJyxcclxuICAgICAgICAgICAgZm9udFNpemU6IDEyLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxyXG4gICAgICAgICAgICBmb250T3BhY2l0eTogMSxcclxuICAgICAgICAgICAgZm9udFJvdGF0aW9uOiAwLFxyXG5cclxuICAgICAgICAgICAgLy8gVGV4dCBhbGlnbm1lbnRcclxuICAgICAgICAgICAgaG9yaXpvbnRhbEFsaWdubWVudDogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgIHZlcnRpY2FsQWxpZ25tZW50OiAnbWlkZGxlJyxcclxuXHJcbiAgICAgICAgICAgIC8vIEFsaWdubWVudCBidXR0b24gc3RhdGVzXHJcbiAgICAgICAgICAgIGhBbGlnbkxlZnRBY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgICAgICBoQWxpZ25DZW50ZXJBY3RpdmU6IHRydWUsXHJcbiAgICAgICAgICAgIGhBbGlnblJpZ2h0QWN0aXZlOiBmYWxzZSxcclxuICAgICAgICAgICAgdkFsaWduQmFzZUFjdGl2ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHZBbGlnblRvcEFjdGl2ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHZBbGlnbk1pZEFjdGl2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgdkFsaWduQm90QWN0aXZlOiBmYWxzZSxcclxuXHJcbiAgICAgICAgICAgIC8vIEZvbnQgc3R5bGUgYnV0dG9uIHN0YXRlc1xyXG4gICAgICAgICAgICBmc0JvbGRBY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgICAgICBmc0l0YWxpY0FjdGl2ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGZzVW5kZXJsaW5lQWN0aXZlOiBmYWxzZSxcclxuXHJcbiAgICAgICAgICAgIC8vIEZvbnQgc3R5bGUgdmFsdWVzXHJcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdub3JtYWwnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdub3JtYWwnLFxyXG4gICAgICAgICAgICBmb250RGVjb3JhdGlvbjogJ25vbmUnLFxyXG4gICAgICAgICAgICBpc0JvbGQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc0l0YWxpYzogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzVW5kZXJsaW5lOiBmYWxzZSxcclxuXHJcbiAgICAgICAgICAgIC8vIEhhbG8gcHJvcGVydGllc1xyXG4gICAgICAgICAgICBmb250SGFsb0VuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBmb250SGFsb0NvbG9yOiAncmdiYSgyNTUsMjU1LDI1NSwxKScsXHJcbiAgICAgICAgICAgIGZvbnRIYWxvU2l6ZTogMSxcclxuICAgICAgICAgICAgZm9udEhhbG9PcGFjaXR5OiAxLFxyXG5cclxuICAgICAgICAgICAgLy8gVGV4dFN5bWJvbCBvYmplY3QgKHVzZWQgYnkgdGhlIGVkaXRvcilcclxuICAgICAgICAgICAgY3VycmVudFRleHRTeW1ib2w6IG5ldyBUZXh0U3ltYm9sKHtcclxuICAgICAgICAgICAgICAgIHZlcnRpY2FsQWxpZ25tZW50OiAnbWlkZGxlJyxcclxuICAgICAgICAgICAgICAgIGZvbnQ6IHsgZmFtaWx5OiAnQXJpYWwnLCBzaXplOiAxMiwgc3R5bGU6ICdub3JtYWwnLCB3ZWlnaHQ6ICdub3JtYWwnLCBkZWNvcmF0aW9uOiAnbm9uZScgfSxcclxuICAgICAgICAgICAgICAgIHRleHQ6ICdUZXh0JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBuZXcgQ29sb3IoJ3JnYmEoMCwwLDAsMSknKSxcclxuICAgICAgICAgICAgICAgIGhhbG9Db2xvcjogbnVsbCxcclxuICAgICAgICAgICAgICAgIGhhbG9TaXplOiAwLFxyXG4gICAgICAgICAgICAgICAgYW5nbGU6IDBcclxuICAgICAgICAgICAgfSksXHJcblxyXG4gICAgICAgICAgICAvLyBSZXN0b3JlIHByb21wdCAobm93IHRydWx5IG9uY2UgcGVyIHNlc3Npb24pXHJcbiAgICAgICAgICAgIHNob3dMb2FkUHJvbXB0LFxyXG4gICAgICAgICAgICBoYXNFeGlzdGluZ0RyYXdpbmdzXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gSG9sZGVyIGZvciBnb1RvIG5hdmlnYXRpb24gY2FuY2Vsc1xyXG4gICAgICAgIHRoaXMuX2dvVG9Db250cm9sbGVyID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICAvLyBJbml0aWFsaXplIGNvbXBvbmVudHMgaWYgY29uc2VudCBpcyBhbHJlYWR5IGdyYW50ZWQgKHRydWUpXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY29uc2VudEdyYW50ZWQgPT09IHRydWUgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIpIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGV4aXN0aW5nIGRyYXdpbmdzIGZpcnN0LCBidXQgb25seSBpZiBjaG9pY2Ugd2Fzbid0IGFscmVhZHkgbWFkZVxyXG4gICAgICAgICAgICBpZiAoTXlEcmF3aW5nc1BhbmVsLl9kcmF3aW5nc0xvYWRDaG9pY2VUaW1lc3RhbXAgPiAwIHx8ICF0aGlzLmNoZWNrRXhpc3RpbmdEcmF3aW5ncygpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBjaG9pY2Ugd2FzIGFscmVhZHkgbWFkZSBvciBubyBleGlzdGluZyBkcmF3aW5ncywgaW5pdGlhbGl6ZSBub3JtYWxseVxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplQ29tcG9uZW50cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2FmZVNrZXRjaFZpZXdNb2RlbFVwZGF0ZSA9IChncmFwaGljczogX19lc3JpLkdyYXBoaWNbXSkgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5za2V0Y2hWaWV3TW9kZWwgfHwgIWdyYXBoaWNzIHx8IGdyYXBoaWNzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBncmFwaGljcyBiZWZvcmUgdXBkYXRpbmdcclxuICAgICAgICAgICAgY29uc3QgdmFsaWRHcmFwaGljcyA9IGdyYXBoaWNzLmZpbHRlcihncmFwaGljID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBncmFwaGljICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JhcGhpYy5nZW9tZXRyeSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGdyYXBoaWMuc3ltYm9sICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIWdyYXBoaWMuZGVzdHJveWVkICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JhcGhpYy5sYXllciA9PT0gdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh2YWxpZEdyYXBoaWNzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHVwZGF0ZSBvcGVyYXRpb24gd2l0aCBlcnJvciBoYW5kbGluZ1xyXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVQcm9taXNlID0gdGhpcy5za2V0Y2hWaWV3TW9kZWwudXBkYXRlKHZhbGlkR3JhcGhpY3MpO1xyXG5cclxuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBwcm9taXNlIHRvIHByZXZlbnQgdW5jYXVnaHQgZXJyb3JzXHJcbiAgICAgICAgICAgIGlmICh1cGRhdGVQcm9taXNlICYmIHR5cGVvZiB1cGRhdGVQcm9taXNlLmNhdGNoID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlUHJvbWlzZS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdTa2V0Y2hWaWV3TW9kZWwgdXBkYXRlIGVycm9yIChoYW5kbGVkKTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgcmUtdGhyb3csIGp1c3QgaGFuZGxlIHNpbGVudGx5XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1NrZXRjaFZpZXdNb2RlbCB1cGRhdGUgZXJyb3IgKGNhdWdodCk6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogTXlEcmF3aW5nc1BhbmVsUHJvcHMsIHByZXZTdGF0ZTogTXlEcmF3aW5nc1BhbmVsU3RhdGUpIHtcclxuICAgICAgICAvLyBJZiBjb25zZW50IGNoYW5nZWQgZnJvbSBudWxsIHRvIHRydWUsIGNoZWNrIGZvciBleGlzdGluZyBkcmF3aW5ncyBmaXJzdFxyXG4gICAgICAgIGlmIChwcmV2U3RhdGUuY29uc2VudEdyYW50ZWQgIT09IHRydWUgJiYgdGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGNob2ljZSB3YXMgYWxyZWFkeSBtYWRlIGluIHRoaXMgcGFnZSBzZXNzaW9uXHJcbiAgICAgICAgICAgICAgICBpZiAoTXlEcmF3aW5nc1BhbmVsLl9kcmF3aW5nc0xvYWRDaG9pY2VUaW1lc3RhbXAgPiAwIHx8ICF0aGlzLmNoZWNrRXhpc3RpbmdEcmF3aW5ncygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgY2hvaWNlIHdhcyBhbHJlYWR5IG1hZGUgb3Igbm8gZXhpc3RpbmcgZHJhd2luZ3MsIGluaXRpYWxpemUgbm9ybWFsbHlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBncmFwaGljcyBsYXllciBvciBtYXAgdmlldyBjaGFuZ2VkIChvbmx5IGlmIGNvbnNlbnQgaXMgZ3JhbnRlZClcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCA9PT0gdHJ1ZSAmJiAhdGhpcy5zdGF0ZS5zaG93TG9hZFByb21wdCkge1xyXG4gICAgICAgICAgICBpZiAocHJldlByb3BzLmdyYXBoaWNzTGF5ZXIgIT09IHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllciAmJiB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBwcmV2aW91cyB3YXRjaCBoYW5kbGUgaWYgaXQgZXhpc3RzXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5ncmFwaGljc1dhdGNoSGFuZGxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5ncmFwaGljc1dhdGNoSGFuZGxlLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBHcmFwaGljc1dhdGNoZXIoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaERyYXdpbmdzRnJvbUxheWVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChwcmV2UHJvcHMuamltdU1hcFZpZXcgIT09IHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplQ29tcG9uZW50cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDinIUgRW5hYmxlIG9yIGRpc2FibGUgbWFwIHBvcHVwcyBiYXNlZCBvbiB0YWIgYWN0aXZpdHlcclxuICAgICAgICAvL2lmIChwcmV2UHJvcHMuaXNBY3RpdmVUYWIgIT09IHRoaXMucHJvcHMuaXNBY3RpdmVUYWIgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldz8udmlldykge1xyXG4gICAgICAgICAgICAvL3RoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy5wb3B1cEVuYWJsZWQgPSAhdGhpcy5wcm9wcy5pc0FjdGl2ZVRhYjtcclxuICAgICAgICAvL31cclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgICAgICAvLyBDbGVhciBtZWFzdXJlbWVudCB1cGRhdGUgZmxhZ1xyXG4gICAgICAgIHRoaXMuX2lzVXBkYXRpbmdNZWFzdXJlbWVudHMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gQ2xlYW4gdXAgc2F2ZSB0aW1lb3V0XHJcbiAgICAgICAgaWYgKHRoaXMuX3NhdmVUb1N0b3JhZ2VUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9zYXZlVG9TdG9yYWdlVGltZW91dCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NhdmVUb1N0b3JhZ2VUaW1lb3V0ID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENsZWFuIHVwIG1lYXN1cmVtZW50IHVwZGF0ZSB0aW1lb3V0XHJcbiAgICAgICAgaWYgKHRoaXMuX21lYXN1cmVtZW50VXBkYXRlVGltZW91dCkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fbWVhc3VyZW1lbnRVcGRhdGVUaW1lb3V0KTtcclxuICAgICAgICAgICAgdGhpcy5fbWVhc3VyZW1lbnRVcGRhdGVUaW1lb3V0ID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENsZWFyIGdlb21ldHJ5IHdhdGNoIHRpbWVvdXRzXHJcbiAgICAgICAgaWYgKHRoaXMuX2dlb21ldHJ5V2F0Y2hUaW1lb3V0cykge1xyXG4gICAgICAgICAgICBPYmplY3QudmFsdWVzKHRoaXMuX2dlb21ldHJ5V2F0Y2hUaW1lb3V0cykuZm9yRWFjaCh0aW1lb3V0ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aW1lb3V0KSBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLl9nZW9tZXRyeVdhdGNoVGltZW91dHMgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0b3AgdGhlIG1hcCBjbGljayBzeW5jIHByb2Nlc3NcclxuICAgICAgICB0aGlzLl9tYXBDbGlja1N5bmNFbmFibGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIENsZWFuIHVwIG1lYXN1cmVtZW50IHN0eWxlIHdhdGNoZXJcclxuICAgICAgICBpZiAodGhpcy5fbWVhc3VyZW1lbnRTdHlsZVdhdGNoZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5fbWVhc3VyZW1lbnRTdHlsZVdhdGNoZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21lYXN1cmVtZW50U3R5bGVXYXRjaGVyID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlc2V0IHRoZSBtZWFzdXJlbWVudCBzdHlsZXMgaW5pdGlhbGl6YXRpb24gZmxhZ1xyXG4gICAgICAgIHRoaXMubWVhc3VyZW1lbnRTdHlsZXNJbml0aWFsaXplZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBDbGVhbiB1cCB3YXRjaCBoYW5kbGVcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5ncmFwaGljc1dhdGNoSGFuZGxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuZ3JhcGhpY3NXYXRjaEhhbmRsZS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENsZWFuIHVwIHBvc2l0aW9uIHdhdGNoZXJzXHJcbiAgICAgICAgaWYgKHRoaXMuX3Bvc2l0aW9uV2F0Y2hlcnMpIHtcclxuICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLl9wb3NpdGlvbldhdGNoZXJzKS5mb3JFYWNoKHdhdGNoZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHdhdGNoZXIpIHdhdGNoZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbldhdGNoZXJzID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDbGVhbiB1cCBncmFwaGljcyB3YXRjaCBoYW5kbGVzXHJcbiAgICAgICAgaWYgKHRoaXMuX2dyYXBoaWNzV2F0Y2hIYW5kbGVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2dyYXBoaWNzV2F0Y2hIYW5kbGVzLmZvckVhY2goaGFuZGxlID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChoYW5kbGUpIGhhbmRsZS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2dyYXBoaWNzV2F0Y2hIYW5kbGVzID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDbGVhciBhbnkgcGVuZGluZyB0aW1lb3V0c1xyXG4gICAgICAgIGlmICh0aGlzLl9zYXZlUG9zaXRpb25UaW1lb3V0KSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9zYXZlUG9zaXRpb25UaW1lb3V0KTtcclxuICAgICAgICAgICAgdGhpcy5fc2F2ZVBvc2l0aW9uVGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDbGVhbiB1cCBBYm9ydENvbnRyb2xsZXIgZm9yIGdvVG8gb3BlcmF0aW9uc1xyXG4gICAgICAgIGlmICh0aGlzLl9nb1RvQ29udHJvbGxlcikge1xyXG4gICAgICAgICAgICB0aGlzLl9nb1RvQ29udHJvbGxlci5hYm9ydCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9nb1RvQ29udHJvbGxlciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDbGVhbiB1cCBTa2V0Y2hWaWV3TW9kZWwgT05MWSBpZiB3ZSBjcmVhdGVkIGl0IGludGVybmFsbHlcclxuICAgICAgICBpZiAodGhpcy5za2V0Y2hWaWV3TW9kZWwgJiYgdGhpcy5pbnRlcm5hbFNrZXRjaFZNKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIPCflJEgQ2FuY2VsIGFueSBhY3RpdmUgc2tldGNoIHNlc3Npb25cclxuICAgICAgICB0cnkgeyB0aGlzLnNrZXRjaFZpZXdNb2RlbD8uY2FuY2VsKCk7IH0gY2F0Y2ggeyB9XHJcblxyXG4gICAgICAgIC8vIPCflJEgUmVtb3ZlIGFsbCBzZWxlY3Rpb24gaGFsb3MgZnJvbSBwb2ludC90ZXh0IGdyYXBoaWNzXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnJlbW92ZUFsbFNlbGVjdGlvbk92ZXJsYXlzID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsU2VsZWN0aW9uT3ZlcmxheXMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE9wdGlvbmFsbHkgcmUtZW5hYmxlIHBvcHVwcyB3aGVuIHVubW91bnRpbmcgdGhlIGNvbXBvbmVudFxyXG4gICAgICAgIC8vIGlmICh0aGlzLnByb3BzLmppbXVNYXBWaWV3Py52aWV3KSB7XHJcbiAgICAgICAgLy8gICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcucG9wdXBFbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHJlY3JlYXRlQXR0YWNoZWRCdWZmZXIgPSBhc3luYyAocGFyZW50R3JhcGhpYzogRXh0ZW5kZWRHcmFwaGljLCByZXN0b3JlZDogYm9vbGVhbiA9IHRydWUpID0+IHtcclxuICAgICAgICBpZiAoIXBhcmVudEdyYXBoaWMuYnVmZmVyU2V0dGluZ3MgfHwgIXRoaXMucHJvcHMuZ3JhcGhpY3NMYXllcikge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDinYwgQ2Fubm90IHJlY3JlYXRlIGJ1ZmZlciAtIG1pc3Npbmcgc2V0dGluZ3Mgb3IgbGF5ZXJgKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgeyBkaXN0YW5jZSwgdW5pdCwgZW5hYmxlZCwgb3BhY2l0eSB9ID0gcGFyZW50R3JhcGhpYy5idWZmZXJTZXR0aW5ncztcclxuXHJcbiAgICAgICAgaWYgKCFlbmFibGVkKSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYOKPre+4jyBCdWZmZXIgZGlzYWJsZWQgZm9yIGdyYXBoaWMgJHtwYXJlbnRHcmFwaGljLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkfWApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDwn5SnIENSSVRJQ0FMOiBVc2UgdGhlIHNhdmVkIG9wYWNpdHkgZnJvbSBidWZmZXIgc2V0dGluZ3MsIGZhbGxiYWNrIHRvIDUwJSBvbmx5IGlmIHVuZGVmaW5lZFxyXG4gICAgICAgIGNvbnN0IHNhdmVkT3BhY2l0eSA9IG9wYWNpdHkgIT09IHVuZGVmaW5lZCA/IG9wYWNpdHkgOiA1MDtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+UhCBSZWNyZWF0aW5nIGJ1ZmZlciBmb3IgZ3JhcGhpYyAke3BhcmVudEdyYXBoaWMuYXR0cmlidXRlcz8udW5pcXVlSWR9IHdpdGggJHtzYXZlZE9wYWNpdHl9JSBvcGFjaXR5IChyZXN0b3JlZDogJHtyZXN0b3JlZH0pYCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBidWZmZXJHZW9tZXRyeSA9IGF3YWl0IHRoaXMuY3JlYXRlQnVmZmVyR2VvbWV0cnkocGFyZW50R3JhcGhpYy5nZW9tZXRyeSwgZGlzdGFuY2UsIHVuaXQpO1xyXG4gICAgICAgICAgICBpZiAoIWJ1ZmZlckdlb21ldHJ5KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYOKdjCBGYWlsZWQgdG8gcmVjcmVhdGUgYnVmZmVyIGdlb21ldHJ5IGZvciBncmFwaGljICR7cGFyZW50R3JhcGhpYy5hdHRyaWJ1dGVzPy51bmlxdWVJZH1gKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8g8J+UpyBDUklUSUNBTDogVXBkYXRlIGJ1ZmZlciBzZXR0aW5ncyB0byBpbmNsdWRlIHRoZSBzYXZlZCBvcGFjaXR5IEJFRk9SRSBjcmVhdGluZyB0aGUgc3ltYm9sXHJcbiAgICAgICAgICAgIHBhcmVudEdyYXBoaWMuYnVmZmVyU2V0dGluZ3MgPSB7XHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogZGlzdGFuY2UsXHJcbiAgICAgICAgICAgICAgICB1bml0OiB1bml0LFxyXG4gICAgICAgICAgICAgICAgZW5hYmxlZDogZW5hYmxlZCxcclxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHNhdmVkT3BhY2l0eSAgLy8gRW5zdXJlIHRoaXMgaXMgc2V0IGJlZm9yZSBjcmVhdGluZyB0aGUgc3ltYm9sXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgYnVmZmVyIHN5bWJvbCB1c2luZyBwYXJlbnQgZ3JhcGhpYydzIGNvbG9ycyBBTkQgc2F2ZWQgb3BhY2l0eVxyXG4gICAgICAgICAgICBjb25zdCBidWZmZXJTeW1ib2wgPSB0aGlzLmNyZWF0ZUJ1ZmZlclN5bWJvbEZyb21QYXJlbnQocGFyZW50R3JhcGhpYyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBidWZmZXJHcmFwaGljID0gbmV3IEdyYXBoaWMoe1xyXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnk6IGJ1ZmZlckdlb21ldHJ5LFxyXG4gICAgICAgICAgICAgICAgc3ltYm9sOiBidWZmZXJTeW1ib2wsXHJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5pcXVlSWQ6IGBidWZmZXJfJHtwYXJlbnRHcmFwaGljLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkfV8ke0RhdGUubm93KCl9YCxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBgJHtwYXJlbnRHcmFwaGljLmF0dHJpYnV0ZXM/Lm5hbWUgfHwgJ0RyYXdpbmcnfSBCdWZmZXJgLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudElkOiBwYXJlbnRHcmFwaGljLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQnVmZmVyOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGhpZGVGcm9tTGlzdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBpc01lYXN1cmVtZW50TGFiZWw6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlckRpc3RhbmNlOiBkaXN0YW5jZSxcclxuICAgICAgICAgICAgICAgICAgICBidWZmZXJVbml0OiB1bml0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZXh0ZW5kZWRCdWZmZXJHcmFwaGljID0gYXNFeHRlbmRlZEdyYXBoaWMoYnVmZmVyR3JhcGhpYyk7XHJcbiAgICAgICAgICAgIGV4dGVuZGVkQnVmZmVyR3JhcGhpYy5pc0J1ZmZlckRyYXdpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBleHRlbmRlZEJ1ZmZlckdyYXBoaWMuc291cmNlR3JhcGhpY0lkID0gcGFyZW50R3JhcGhpYy5hdHRyaWJ1dGVzPy51bmlxdWVJZDtcclxuXHJcbiAgICAgICAgICAgIHBhcmVudEdyYXBoaWMuYnVmZmVyR3JhcGhpYyA9IGV4dGVuZGVkQnVmZmVyR3JhcGhpYztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudEluZGV4ID0gdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmdyYXBoaWNzLmluZGV4T2YocGFyZW50R3JhcGhpYyk7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnRJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuZ3JhcGhpY3MuYWRkKGV4dGVuZGVkQnVmZmVyR3JhcGhpYywgcGFyZW50SW5kZXgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmFkZChleHRlbmRlZEJ1ZmZlckdyYXBoaWMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDinIUgU3VjY2Vzc2Z1bGx5IHJlY3JlYXRlZCBhdHRhY2hlZCBidWZmZXIgZm9yIGdyYXBoaWMgJHtwYXJlbnRHcmFwaGljLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkfSB3aXRoICR7c2F2ZWRPcGFjaXR5fSUgb3BhY2l0eWApO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgcmVjcmVhdGluZyBhdHRhY2hlZCBidWZmZXI6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgc2V0dXBJbnRlcmFjdGlvbk1hbmFnZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmppbXVNYXBWaWV3Py52aWV3KSByZXR1cm47XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIFN0b3JlIG9yaWdpbmFsIHF1YWxpdHkgc2V0dGluZ1xyXG4gICAgICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3IGFzIGFueTtcclxuICAgICAgICAgICAgaWYgKHZpZXcucXVhbGl0eVByb2ZpbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3JpZ2luYWxRdWFsaXR5ID0gdmlldy5xdWFsaXR5UHJvZmlsZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTW9yZSBlZmZpY2llbnQgaW50ZXJhY3Rpb24gaGFuZGxpbmdcclxuICAgICAgICAgICAgY29uc3Qgc3RhcnRJbnRlcmFjdGlvbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5faXNJbnRlcmFjdGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzSW50ZXJhY3RpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBMb3dlciBxdWFsaXR5IGR1cmluZyBpbnRlcmFjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2aWV3LnF1YWxpdHlQcm9maWxlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5xdWFsaXR5UHJvZmlsZSA9IFwibG93XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBIaWRlIG1lYXN1cmVtZW50IGdyYXBoaWNzIGR1cmluZyBpbnRlcmFjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmdyYXBoaWNzLmZvckVhY2goKGc6IF9fZXNyaS5HcmFwaGljKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZy5hdHRyaWJ1dGVzPy5pc01lYXN1cmVtZW50TGFiZWwgfHwgZy5hdHRyaWJ1dGVzPy5oaWRlRHVyaW5nSW50ZXJhY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gRGVib3VuY2VkIGVuZCBpbnRlcmFjdGlvbiB3aXRoIGxvbmdlciBkZWxheVxyXG4gICAgICAgICAgICBjb25zdCBlbmRJbnRlcmFjdGlvbiA9IHRoaXMuZGVib3VuY2UoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzSW50ZXJhY3RpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0ludGVyYWN0aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc3RvcmUgb3JpZ2luYWwgcXVhbGl0eVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2aWV3LnF1YWxpdHlQcm9maWxlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5xdWFsaXR5UHJvZmlsZSA9IHRoaXMuX29yaWdpbmFsUXVhbGl0eTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3cgaGlkZGVuIGdyYXBoaWNzXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuZ3JhcGhpY3MuZm9yRWFjaCgoZzogX19lc3JpLkdyYXBoaWMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnLmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRMYWJlbCB8fCBnLmF0dHJpYnV0ZXM/LmhpZGVEdXJpbmdJbnRlcmFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGcudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yY2UgYSByZWZyZXNoIGFmdGVyIGEgc2hvcnQgZGVsYXlcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuZm9yY2VNYXBSZWZyZXNoKCksIDI1MCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDMwMCk7IC8vIExvbmdlciBkZWJvdW5jZSBmb3Igc21vb3RoZXIgdHJhbnNpdGlvbnNcclxuXHJcbiAgICAgICAgICAgIC8vIFJlZ2lzdGVyIGFsbCBpbnRlcmFjdGlvbiBldmVudHNcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3Lm9uKFwiZHJhZ1wiLCBzdGFydEludGVyYWN0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3Lm9uKFwiZHJhZ1wiLCBbXCJlbmRcIl0sIGVuZEludGVyYWN0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3Lm9uKFwibW91c2Utd2hlZWxcIiwgc3RhcnRJbnRlcmFjdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy5vbihcIm1vdXNlLXdoZWVsXCIsIGVuZEludGVyYWN0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3Lm9uKFwia2V5LWRvd25cIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuYXZLZXlzID0gW1wiK1wiLCBcIi1cIiwgXCJfXCIsIFwiPVwiLCBcIkFycm93VXBcIiwgXCJBcnJvd0Rvd25cIiwgXCJBcnJvd0xlZnRcIiwgXCJBcnJvd1JpZ2h0XCJdO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hdktleXMuaW5jbHVkZXMoZXZlbnQua2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0SW50ZXJhY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy5vbihcImtleS11cFwiLCBlbmRJbnRlcmFjdGlvbik7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJDb3VsZCBub3Qgc2V0dXAgaW50ZXJhY3Rpb24gbWFuYWdlcjpcIiwgZXJyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFRyYWNrIHdoZW4gdXNlciBzdGFydHMgaW50ZXJhY3RpbmdcclxuICAgIGhhbmRsZUludGVyYWN0aW9uU3RhcnQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faXNJbnRlcmFjdGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3Py52aWV3IGFzIGFueTtcclxuXHJcbiAgICAgICAgICAgIC8vIExvd2VyIHJlbmRlcmluZyBxdWFsaXR5IGZvciBzbW9vdGhlciBpbnRlcmFjdGlvblxyXG4gICAgICAgICAgICBpZiAodmlldz8ucXVhbGl0eVByb2ZpbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdmlldy5xdWFsaXR5UHJvZmlsZSA9IFwibG93XCI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE9wdGlvbmFsbHkgaGlkZSBncmFwaGljcyBsaWtlIGxhYmVscyBkdXJpbmcgaW50ZXJhY3Rpb25cclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmdyYXBoaWNzLmZvckVhY2goKGc6IF9fZXNyaS5HcmFwaGljKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGcuYXR0cmlidXRlcz8uaXNNZWFzdXJlbWVudExhYmVsIHx8IGcuYXR0cmlidXRlcz8uaGlkZUR1cmluZ0ludGVyYWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGcudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkVycm9yIGluIGludGVyYWN0aW9uIHN0YXJ0IGhhbmRsZXI6XCIsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBlbnN1cmVVbmlxdWVOYW1lID0gKG5hbWU6IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgaWYgKCFuYW1lKSByZXR1cm4gYERyYXdpbmdfJHtEYXRlLm5vdygpfWA7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgbmFtZSBhbHJlYWR5IGV4aXN0cyBpbiBvdXIgZHJhd2luZ3NcclxuICAgICAgICBjb25zdCBsb3dlckNhc2VOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nTmFtZXMgPSB0aGlzLnN0YXRlLmRyYXdpbmdzLm1hcChkID0+XHJcbiAgICAgICAgICAgIChkLmF0dHJpYnV0ZXM/Lm5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBJZiBuYW1lIGRvZXNuJ3QgZXhpc3QsIHJldHVybiBhcyBpc1xyXG4gICAgICAgIGlmICghZXhpc3RpbmdOYW1lcy5pbmNsdWRlcyhsb3dlckNhc2VOYW1lKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmFtZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZCBhIGNvdW50ZXIgdG8gbWFrZSBuYW1lIHVuaXF1ZVxyXG4gICAgICAgIGxldCBjb3VudGVyID0gMTtcclxuICAgICAgICBsZXQgbmV3TmFtZSA9IGAke25hbWV9ICgke2NvdW50ZXJ9KWA7XHJcbiAgICAgICAgbGV0IGxvd2VyQ2FzZU5ld05hbWUgPSBuZXdOYW1lLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgIC8vIEtlZXAgaW5jcmVtZW50aW5nIGNvdW50ZXIgdW50aWwgd2UgZmluZCBhIHVuaXF1ZSBuYW1lXHJcbiAgICAgICAgd2hpbGUgKGV4aXN0aW5nTmFtZXMuaW5jbHVkZXMobG93ZXJDYXNlTmV3TmFtZSkpIHtcclxuICAgICAgICAgICAgY291bnRlcisrO1xyXG4gICAgICAgICAgICBuZXdOYW1lID0gYCR7bmFtZX0gKCR7Y291bnRlcn0pYDtcclxuICAgICAgICAgICAgbG93ZXJDYXNlTmV3TmFtZSA9IG5ld05hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXdOYW1lO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBUcmFjayB3aGVuIHVzZXIgc3RvcHMgaW50ZXJhY3RpbmdcclxuICAgIGhhbmRsZUludGVyYWN0aW9uRW5kID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2lzSW50ZXJhY3RpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXc/LnZpZXcgYXMgYW55O1xyXG5cclxuICAgICAgICAgICAgLy8gUmVzdG9yZSByZW5kZXJpbmcgcXVhbGl0eVxyXG4gICAgICAgICAgICBpZiAodmlldz8ucXVhbGl0eVByb2ZpbGUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLl9vcmlnaW5hbFF1YWxpdHkpIHtcclxuICAgICAgICAgICAgICAgIHZpZXcucXVhbGl0eVByb2ZpbGUgPSB0aGlzLl9vcmlnaW5hbFF1YWxpdHk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFJlc3RvcmUgaGlkZGVuIGdyYXBoaWNzXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5ncmFwaGljcy5mb3JFYWNoKChnOiBfX2VzcmkuR3JhcGhpYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChnLmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRMYWJlbCB8fCBnLmF0dHJpYnV0ZXM/LmhpZGVEdXJpbmdJbnRlcmFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZWZyZXNoID0gKCkgPT4gdGhpcy5mb3JjZU1hcFJlZnJlc2goKTtcclxuXHJcbiAgICAgICAgICAgIC8vIERlZmVyIHJlZnJlc2ggdW50aWwgaWRsZSBvciBuZXh0IGZyYW1lXHJcbiAgICAgICAgICAgIGlmICgncmVxdWVzdElkbGVDYWxsYmFjaycgaW4gd2luZG93KSB7XHJcbiAgICAgICAgICAgICAgICAod2luZG93IGFzIGFueSkucmVxdWVzdElkbGVDYWxsYmFjayhyZWZyZXNoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZWZyZXNoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRXJyb3IgaW4gaW50ZXJhY3Rpb24gZW5kIGhhbmRsZXI6XCIsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG5cclxuXHJcbiAgICByZWZyZXNoR3JhcGhpY0Rpc3BsYXkgPSAoZ3JhcGhpYzogRXh0ZW5kZWRHcmFwaGljKSA9PiB7XHJcbiAgICAgICAgaWYgKCFncmFwaGljKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIEZpcnN0IHRyeSBkaXJlY3QgdmlzaWJpbGl0eSB0b2dnbGUgZm9yIHRoaXMgc3BlY2lmaWMgZ3JhcGhpY1xyXG4gICAgICAgICAgICB0aGlzLmVuc3VyZUdyYXBoaWNWaXNpYmlsaXR5KGdyYXBoaWMpO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHZhbGlkIGdyYXBoaWMgaW5kZXgsIHVwZGF0ZSBvdXIgaW50ZXJuYWwgc3RhdGVcclxuICAgICAgICAgICAgY29uc3QgdW5pcXVlSWQgPSBncmFwaGljLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkO1xyXG4gICAgICAgICAgICBpZiAodW5pcXVlSWQgJiYgdGhpcy5fZHJhd2luZ01hcC5oYXModW5pcXVlSWQpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2RyYXdpbmdNYXAuZ2V0KHVuaXF1ZUlkKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHN0YXRlIGZvciB0aGlzIHNwZWNpZmljIGdyYXBoaWNcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkRHJhd2luZ3MgPSBbLi4udGhpcy5zdGF0ZS5kcmF3aW5nc107XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZERyYXdpbmdzW2luZGV4XSA9IGdyYXBoaWM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBkcmF3aW5nczogdXBkYXRlZERyYXdpbmdzIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZWZyZXNoaW5nIGdyYXBoaWMgZGlzcGxheTpcIiwgZXJyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZhbGwgYmFjayB0byB0aGUgdHJhZGl0aW9uYWwgcmVmcmVzaCBhcyBhIGxhc3QgcmVzb3J0XHJcbiAgICAgICAgICAgIC8vIEJ1dCBkb24ndCBkbyBpdCBpZiB3ZSdyZSBpbnRlcmFjdGluZyB0byBhdm9pZCBleGNlc3NpdmUgcmVmcmVzaGVzXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5faXNJbnRlcmFjdGluZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mb3JjZU1hcFJlZnJlc2goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZm9yY2VNYXBSZWZyZXNoID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9wcy5qaW11TWFwVmlldz8udmlldykgcmV0dXJuO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBBYm9ydCBhbnkgb25nb2luZyBuYXZpZ2F0aW9uXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9nb1RvQ29udHJvbGxlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZ29Ub0NvbnRyb2xsZXIuYWJvcnQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2dvVG9Db250cm9sbGVyID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IGNvbnRyb2xsZXJcclxuICAgICAgICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5fZ29Ub0NvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0IGN1cnJlbnQgY2VudGVyIGFuZCBzY2FsZVxyXG4gICAgICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3O1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q2VudGVyID0gdmlldy5jZW50ZXIuY2xvbmUoKTtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudFNjYWxlID0gdmlldy5zY2FsZTtcclxuXHJcbiAgICAgICAgICAgIC8vIE9wdGlvbiAxOiBTdGF0aW9uYXJ5IHJlZnJlc2ggKG5vIG1vdGlvbilcclxuICAgICAgICAgICAgdmlldy5nb1RvKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogY3VycmVudENlbnRlcixcclxuICAgICAgICAgICAgICAgIHNjYWxlOiBjdXJyZW50U2NhbGVcclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMCxcclxuICAgICAgICAgICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWxcclxuICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnIubmFtZSAhPT0gJ0Fib3J0RXJyb3InICYmIGVyci5uYW1lICE9PSAndmlldzpnb3RvLWludGVycnVwdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ01hcCByZWZyZXNoIGVycm9yOicsIGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gT3B0aW9uIDI6IEFsdGVybmF0aXZlIGFwcHJvYWNoIC0gdXNlIHVwZGF0ZUV4dGVudFxyXG4gICAgICAgICAgICAvLyB2aWV3LmV4dGVudCA9IHZpZXcuZXh0ZW50LmNsb25lKCk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVmcmVzaGluZyBtYXA6XCIsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgZW5zdXJlR3JhcGhpY1Zpc2liaWxpdHkgPSAoZ3JhcGhpYzogRXh0ZW5kZWRHcmFwaGljKSA9PiB7XHJcbiAgICAgICAgaWYgKCFncmFwaGljIHx8ICF0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gU3RvcmUgb3JpZ2luYWwgdmlzaWJpbGl0eVxyXG4gICAgICAgICAgICBjb25zdCB3YXNWaXNpYmxlID0gZ3JhcGhpYy52aXNpYmxlICE9PSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRvZ2dsZSB2aXNpYmlsaXR5IHRvIGZvcmNlIGEgcmVkcmF3IG9mIGp1c3QgdGhpcyBncmFwaGljXHJcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgbXVjaCBsaWdodGVyIHRoYW4gcmVmcmVzaGluZyB0aGUgd2hvbGUgbWFwXHJcbiAgICAgICAgICAgIGdyYXBoaWMudmlzaWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgLy8gVXNlIHNldFRpbWVvdXQgaW5zdGVhZCBvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgZm9yIGJyb2FkZXIgY29tcGF0aWJpbGl0eVxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChncmFwaGljICYmICFncmFwaGljLmRlc3Ryb3llZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc3RvcmUgb3JpZ2luYWwgdmlzaWJpbGl0eVxyXG4gICAgICAgICAgICAgICAgICAgIGdyYXBoaWMudmlzaWJsZSA9IHdhc1Zpc2libGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZW5zdXJpbmcgZ3JhcGhpYyB2aXNpYmlsaXR5OlwiLCBlcnIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaGFuZGxlTG9hZEV4aXN0aW5nRHJhd2luZ3MgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gU2V0IGEgdGltZXN0YW1wIHRvIG1hcmsgdGhhdCB3ZSd2ZSBzaG93biB0aGUgcHJvbXB0IGluIHRoaXMgcGFnZSBzZXNzaW9uXHJcbiAgICAgICAgTXlEcmF3aW5nc1BhbmVsLl9kcmF3aW5nc0xvYWRDaG9pY2VUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnVXNlciBjaG9zZSB0byBsb2FkIGV4aXN0aW5nIGRyYXdpbmdzIC0gY2hvaWNlIHJlY29yZGVkIGZvciB0aGlzIHBhZ2Ugc2Vzc2lvbicpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2hvd0xvYWRQcm9tcHQ6IGZhbHNlIH0sICgpID0+IHtcclxuICAgICAgICAgICAgLy8gTG9hZCBkcmF3aW5ncyBmcm9tIGxvY2FsU3RvcmFnZSBhbmQgaW5pdGlhbGl6ZSBjb21wb25lbnRzXHJcbiAgICAgICAgICAgIHRoaXMubG9hZEZyb21Mb2NhbFN0b3JhZ2UoKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplQ29tcG9uZW50cygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBoYW5kbGVTdGFydEZyZXNoID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIFNldCBhIHRpbWVzdGFtcCB0byBtYXJrIHRoYXQgd2UndmUgc2hvd24gdGhlIHByb21wdCBpbiB0aGlzIHBhZ2Ugc2Vzc2lvblxyXG4gICAgICAgIE15RHJhd2luZ3NQYW5lbC5fZHJhd2luZ3NMb2FkQ2hvaWNlVGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ1VzZXIgY2hvc2UgdG8gZGVsZXRlIGFsbCBhbmQgc3RhcnQgbmV3IC0gY2hvaWNlIHJlY29yZGVkIGZvciB0aGlzIHBhZ2Ugc2Vzc2lvbicpO1xyXG5cclxuICAgICAgICAvLyBSZW1vdmUgZXhpc3RpbmcgZHJhd2luZ3MgZnJvbSBsb2NhbFN0b3JhZ2VcclxuICAgICAgICBpZiAoKHRoaXMucHJvcHMuYWxsb3dMb2NhbFN0b3JhZ2UgIT09IGZhbHNlKSAmJiB0aGlzLnN0YXRlLmNvbnNlbnRHcmFudGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmxvY2FsU3RvcmFnZUtleSk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGBDbGVhcmVkIGV4aXN0aW5nIGRyYXdpbmdzIGZyb20gbG9jYWxTdG9yYWdlIGtleTogJHt0aGlzLmxvY2FsU3RvcmFnZUtleX1gKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBjbGVhcmluZyBkcmF3aW5ncyBmcm9tIGxvY2FsU3RvcmFnZTpgLCBlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJbml0aWFsaXplIHdpdGggZW1wdHkgZHJhd2luZyBsYXllclxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBzaG93TG9hZFByb21wdDogZmFsc2UsXHJcbiAgICAgICAgICAgIGhhc0V4aXN0aW5nRHJhd2luZ3M6IGZhbHNlXHJcbiAgICAgICAgfSwgdGhpcy5pbml0aWFsaXplQ29tcG9uZW50cyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENhbGwgdGhpcyBpbiB5b3VyIGluaXRpYWxpemVDb21wb25lbnRzIG1ldGhvZFxyXG4gICAgc2V0dXBNYXBRdWFsaXR5TWFuYWdlciA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMuamltdU1hcFZpZXc/LnZpZXcpIHJldHVybjtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBVc2UgdHlwZSBhc3NlcnRpb24gb3IgY29uZGl0aW9uYWwgY2hlY2tcclxuICAgICAgICAgICAgY29uc3QgdmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyBhcyBhbnk7IC8vIFR5cGUgYXNzZXJ0aW9uXHJcblxyXG4gICAgICAgICAgICAvLyBTdG9yZSBvcmlnaW5hbCBxdWFsaXR5IHNldHRpbmdcclxuICAgICAgICAgICAgaWYgKHZpZXcucXVhbGl0eVByb2ZpbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3JpZ2luYWxRdWFsaXR5ID0gdmlldy5xdWFsaXR5UHJvZmlsZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUmVzdCBvZiB5b3VyIGNvZGUgcmVtYWlucyB0aGUgc2FtZVxyXG4gICAgICAgICAgICB2aWV3Lm9uKFwiZHJhZ1wiLCBbXCJzdGFydFwiXSwgKCkgPT4gdGhpcy5sb3dlck1hcFF1YWxpdHkoKSk7XHJcbiAgICAgICAgICAgIHZpZXcub24oXCJkcmFnXCIsIFtcImVuZFwiXSwgKCkgPT4gdGhpcy5yZXN0b3JlTWFwUXVhbGl0eSgpKTtcclxuICAgICAgICAgICAgLy8gZXRjLi4uXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkNvdWxkIG5vdCBzZXR1cCBtYXAgcXVhbGl0eSBtYW5hZ2VyOlwiLCBlcnIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gTG93ZXIgbWFwIHF1YWxpdHkgZHVyaW5nIGludGVyYWN0aW9ucyB0byByZWR1Y2UgdGV4dHVyZSB3YXJuaW5nc1xyXG4gICAgbG93ZXJNYXBRdWFsaXR5ID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9wcy5qaW11TWFwVmlldz8udmlldykgcmV0dXJuO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIFR5cGUgYXNzZXJ0aW9uIGFwcHJvYWNoXHJcbiAgICAgICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcgYXMgYW55O1xyXG5cclxuICAgICAgICAgICAgLy8gTG93ZXIgcXVhbGl0eSBkdXJpbmcgaW50ZXJhY3Rpb25cclxuICAgICAgICAgICAgaWYgKHZpZXcucXVhbGl0eVByb2ZpbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdmlldy5xdWFsaXR5UHJvZmlsZSA9IFwibG93XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQ291bGQgbm90IGxvd2VyIG1hcCBxdWFsaXR5OlwiLCBlcnIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcmVzdG9yZU1hcFF1YWxpdHkgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmppbXVNYXBWaWV3Py52aWV3KSByZXR1cm47XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gVHlwZSBhc3NlcnRpb24gYXBwcm9hY2hcclxuICAgICAgICAgICAgY29uc3QgdmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyBhcyBhbnk7XHJcblxyXG4gICAgICAgICAgICAvLyBSZXN0b3JlIG9yaWdpbmFsIHF1YWxpdHlcclxuICAgICAgICAgICAgaWYgKHZpZXcucXVhbGl0eVByb2ZpbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdmlldy5xdWFsaXR5UHJvZmlsZSA9IHRoaXMuX29yaWdpbmFsUXVhbGl0eTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJDb3VsZCBub3QgcmVzdG9yZSBtYXAgcXVhbGl0eTpcIiwgZXJyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFV0aWxpdHkgZGVib3VuY2UgZnVuY3Rpb25cclxuICAgIGRlYm91bmNlID0gKGZ1bmM6IEZ1bmN0aW9uLCB3YWl0OiBudW1iZXIpID0+IHtcclxuICAgICAgICBsZXQgdGltZW91dDogYW55O1xyXG5cclxuICAgICAgICByZXR1cm4gKC4uLmFyZ3M6IGFueVtdKSA9PiB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gZnVuYyguLi5hcmdzKSwgd2FpdCk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgcmVzZXRTZXNzaW9uQ2hvaWNlID0gKCkgPT4ge1xyXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ2RyYXdpbmdzTG9hZENob2ljZU1hZGUnKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdMb2FkIGNob2ljZSBzZXNzaW9uIGZsYWcgaGFzIGJlZW4gcmVzZXQnKTtcclxuICAgIH07XHJcblxyXG4gICAgY2hlY2tFeGlzdGluZ0RyYXdpbmdzID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHdlJ3ZlIHNob3duIHRoaXMgcHJvbXB0IHJlY2VudGx5IGluIHRoaXMgc3BlY2lmaWMgcGFnZSBsb2FkXHJcbiAgICAgICAgaWYgKE15RHJhd2luZ3NQYW5lbC5fZHJhd2luZ3NMb2FkQ2hvaWNlVGltZXN0YW1wID4gMCkge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdMb2FkIGNob2ljZSB3YXMgYWxyZWFkeSBtYWRlIGluIHRoaXMgcGFnZSBzZXNzaW9uIC0gc2tpcHBpbmcgcHJvbXB0Jyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICgodGhpcy5wcm9wcy5hbGxvd0xvY2FsU3RvcmFnZSAhPT0gZmFsc2UpICYmIHRoaXMuc3RhdGUuY29uc2VudEdyYW50ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIC8vIEdldCBzYXZlZCBkYXRhIHdpdGhvdXQgaW1tZWRpYXRlbHkgbG9hZGluZyBpdFxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2F2ZWREYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5sb2NhbFN0b3JhZ2VLZXkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzYXZlZERhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShzYXZlZERhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgYm90aCBvbGQgZm9ybWF0IChhcnJheSkgYW5kIG5ldyBmb3JtYXQgKG9iamVjdCB3aXRoIGRyYXdpbmdzKVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkcmF3aW5nc0RhdGEgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyc2VkRGF0YSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT2xkIGZvcm1hdCAtIGp1c3QgZHJhd2luZ3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd2luZ3NEYXRhID0gcGFyc2VkRGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZERhdGEuZHJhd2luZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmV3IGZvcm1hdCAtIGluY2x1ZGVzIG1lYXN1cmVtZW50IGxhYmVsc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmF3aW5nc0RhdGEgPSBwYXJzZWREYXRhLmRyYXdpbmdzIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSB2YWxpZCBkYXRhIHdpdGggZHJhd2luZ3NcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkcmF3aW5nc0RhdGEpICYmIGRyYXdpbmdzRGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgZXhpc3RpbmcgZHJhd2luZ3MsIHNvIHdlIHNob3VsZCBzaG93IHRoZSBsb2FkIHByb21wdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0V4aXN0aW5nRHJhd2luZ3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93TG9hZFByb21wdDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhgRm91bmQgJHtkcmF3aW5nc0RhdGEubGVuZ3RofSBleGlzdGluZyBkcmF3aW5nKHMpIGluIGxvY2FsU3RvcmFnZSAtIHNob3dpbmcgcHJvbXB0YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBjaGVja2luZyBmb3IgZXhpc3RpbmcgZHJhd2luZ3MgaW4gbG9jYWxTdG9yYWdlOmAsIGVycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIGhhbmRsZURyYXdpbmdTZWxlY3RBbmRTY3JvbGwgPSAoZ3JhcGhpYzogX19lc3JpLkdyYXBoaWMsIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBzdG9wIGFueSBuYXYvZWRpdFxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZ29Ub0NvbnRyb2xsZXIpIHsgdGhpcy5fZ29Ub0NvbnRyb2xsZXIuYWJvcnQoKTsgdGhpcy5fZ29Ub0NvbnRyb2xsZXIgPSBudWxsOyB9XHJcbiAgICAgICAgICAgIHRyeSB7IHRoaXMuc2tldGNoVmlld01vZGVsPy5jYW5jZWwoKTsgfSBjYXRjaCB7IH1cclxuXHJcbiAgICAgICAgICAgIC8vIPCflJEgY2FwdHVyZSBwcmV2aW91cyBzZWxlY3Rpb24gQkVGT1JFIGNoYW5naW5nIHN0YXRlXHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZJbmRleCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRHcmFwaGljSW5kZXg7XHJcblxyXG4gICAgICAgICAgICAvLyByZW1vdmUgaGFsbyBmcm9tIHRoZSBwcmV2aW91c2x5IHNlbGVjdGVkIHBvaW50L3RleHQgKGlmIGFueSlcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVQb2ludFRleHRPdmVybGF5QnlJbmRleChwcmV2SW5kZXgpO1xyXG5cclxuICAgICAgICAgICAgLy8gbm93IHNldCB0aGUgbmV3IHNlbGVjdGlvblxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRHcmFwaGljSW5kZXg6IGluZGV4IH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gc2Nyb2xsIGludG8gdmlld1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGRyYXdpbmctaXRlbS0ke2luZGV4fWApO1xyXG4gICAgICAgICAgICBpZiAoaXRlbSkgaXRlbS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICduZWFyZXN0JyB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGRlZmVyIGhpZ2hsaWdodCBhIHRvdWNoIGZvciBVSSBzbW9vdGhuZXNzXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pc0ludGVyYWN0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRHcmFwaGljKGdyYXBoaWMsIGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uRHJhd2luZ1NlbGVjdD8uKGdyYXBoaWMsIGluZGV4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gaGFuZGxlRHJhd2luZ1NlbGVjdEFuZFNjcm9sbDonLCBlcnIpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdFcnJvciBzZWxlY3RpbmcgZHJhd2luZyBmcm9tIG1hcCcsICdlcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuXHJcblxyXG4gICAgaW5pdGlhbGl6ZUNvbXBvbmVudHMgPSAoKSA9PiB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygn8J+agCBpbml0aWFsaXplQ29tcG9uZW50cyBjYWxsZWQnKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygn8J+TiiBQcm9wcyBjaGVjazonLCB7XHJcbiAgICAgICAgLy8gICBoYXNKaW11TWFwVmlldzogISF0aGlzLnByb3BzLmppbXVNYXBWaWV3LFxyXG4gICAgICAgIC8vICAgaGFzR3JhcGhpY3NMYXllcjogISF0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIsXHJcbiAgICAgICAgLy8gICBjb25zZW50R3JhbnRlZDogdGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZFxyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMuamltdU1hcFZpZXcgfHwgIXRoaXMucHJvcHMuZ3JhcGhpY3NMYXllcikge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCfinYwgTWlzc2luZyByZXF1aXJlZCBwcm9wcywgZXhpdGluZycpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDcmVhdGUgU2tldGNoVmlld01vZGVsIHdpdGggcHJvcGVyIGVycm9yIGhhbmRsaW5nXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwgPSBuZXcgU2tldGNoVmlld01vZGVsKHtcclxuICAgICAgICAgICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyxcclxuICAgICAgICAgICAgICAgIGxheWVyOiB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxTa2V0Y2hWTSA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ+KchSBTa2V0Y2hWaWV3TW9kZWwgY3JlYXRlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBTa2V0Y2hWaWV3TW9kZWw6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKCfwn5SnIFN0YXJ0aW5nIGluaXRpYWxpemF0aW9uIG1hbmFnZXJzLi4uJyk7XHJcblxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgbWFuYWdlcnMvd2F0Y2hlcnMgeW91IGFscmVhZHkgaGFkXHJcbiAgICAgICAgdGhpcy5zZXR1cEludGVyYWN0aW9uTWFuYWdlcigpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ+KchSBzZXR1cEludGVyYWN0aW9uTWFuYWdlciBjb21wbGV0ZWQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5maXhNZWFzdXJlbWVudExhYmVsU3R5bGVzKCk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygn4pyFIGZpeE1lYXN1cmVtZW50TGFiZWxTdHlsZXMgY29tcGxldGVkJyk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dXBHcmFwaGljc1dhdGNoZXIoKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCfinIUgc2V0dXBHcmFwaGljc1dhdGNoZXIgY29tcGxldGVkJyk7XHJcblxyXG4gICAgICAgIHRoaXMucmVmcmVzaERyYXdpbmdzRnJvbUxheWVyKCk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygn4pyFIHJlZnJlc2hEcmF3aW5nc0Zyb21MYXllciBjb21wbGV0ZWQnKTtcclxuXHJcbiAgICAgICAgaWYgKCh0aGlzLnByb3BzLmFsbG93TG9jYWxTdG9yYWdlICE9PSBmYWxzZSkgJiYgdGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRGcm9tTG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ+KchSBsb2FkRnJvbUxvY2FsU3RvcmFnZSBjb21wbGV0ZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ/Cfl7rvuI8gQnVpbGRpbmcgZHJhd2luZyBtYXAuLi4nKTtcclxuXHJcbiAgICAgICAgLy8gRmFzdCBsb29rdXAgbWFwXHJcbiAgICAgICAgY29uc3QgcmVidWlsZERyYXdpbmdNYXAgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RyYXdpbmdNYXAuY2xlYXIoKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5kcmF3aW5ncy5mb3JFYWNoKChkcmF3aW5nLCBpZHgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gZHJhd2luZy5hdHRyaWJ1dGVzPy51bmlxdWVJZDtcclxuICAgICAgICAgICAgICAgIGlmIChpZCkgdGhpcy5fZHJhd2luZ01hcC5zZXQoaWQsIGlkeCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJlYnVpbGREcmF3aW5nTWFwKCk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygn4pyFIERyYXdpbmcgbWFwIGJ1aWx0Jyk7XHJcblxyXG4gICAgICAgIHRoaXMuX2FmdGVyUmVmcmVzaERyYXdpbmdzID0gKCkgPT4ge1xyXG4gICAgICAgICAgICByZWJ1aWxkRHJhd2luZ01hcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmZvcmNlTWFwUmVmcmVzaCgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVEcmF3aW5nc1N5bmNDaGVjaygpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ+KchSBTeW5jIGNoZWNrIHNjaGVkdWxlZCcpO1xyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKCfwn46vIFNldHRpbmcgdXAgU2tldGNoVmlld01vZGVsIGV2ZW50IGhhbmRsZXIuLi4nKTtcclxuXHJcbiAgICAgICAgLy8gLS0tIFNrZXRjaFZpZXdNb2RlbCB1cGRhdGUgaGFuZGxlciAtLS1cclxuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5vbihcInVwZGF0ZVwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudC5zdGF0ZSA9PT0gXCJhY3RpdmVcIiAmJiBldmVudC5ncmFwaGljcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmlsdGVyIHNlbGVjdGFibGUgZ3JhcGhpY3NcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RhYmxlID0gZXZlbnQuZ3JhcGhpY3MuZmlsdGVyKChncmE6IF9fZXNyaS5HcmFwaGljKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAhZ3JhLmF0dHJpYnV0ZXM/LmlzQnVmZmVyICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICFncmEuYXR0cmlidXRlcz8uaXNCdWZmZXJEcmF3aW5nICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICFncmEuYXR0cmlidXRlcz8uaXNQcmV2aWV3QnVmZmVyICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICFncmEuYXR0cmlidXRlcz8uaXNNZWFzdXJlbWVudExhYmVsICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICFncmEuYXR0cmlidXRlcz8uaGlkZUZyb21MaXN0ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICFncmEuYXR0cmlidXRlcz8udW5pcXVlSWQ/LnN0YXJ0c1dpdGgoJ2J1ZmZlcl8nKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAhKGdyYS5nZW9tZXRyeT8udHlwZSA9PT0gJ3BvaW50JyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JhLnN5bWJvbD8udHlwZSA9PT0gJ3RleHQnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmEuYXR0cmlidXRlcz8uaXNNZWFzdXJlbWVudExhYmVsKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VsZWN0YWJsZS5sZW5ndGgpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRHcmFwaGljID0gc2VsZWN0YWJsZVswXSBhcyBFeHRlbmRlZEdyYXBoaWM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBoYWxvIGR1cmluZyBhY3RpdmUgZWRpdCBmb3IgcG9pbnQvdGV4dCBhbmQga2VlcCBpdCBpbiBzeW5jXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkR3JhcGhpYy5nZW9tZXRyeT8udHlwZSA9PT0gJ3BvaW50Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuc3VyZVBvaW50VGV4dE92ZXJsYXkoc2VsZWN0ZWRHcmFwaGljKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkR3JhcGhpYy5fc2VsZWN0aW9uT3ZlcmxheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgc2VsZWN0ZWRHcmFwaGljLl9zZWxlY3Rpb25PdmVybGF5Lmdlb21ldHJ5ID0gc2VsZWN0ZWRHcmFwaGljLmdlb21ldHJ5OyB9IGNhdGNoIHsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZWZsZWN0IHNlbGVjdGlvbiBpbiB0aGUgbGlzdC9zdGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVpZCA9IHNlbGVjdGVkR3JhcGhpYy5hdHRyaWJ1dGVzPy51bmlxdWVJZDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodWlkICYmIHRoaXMuX2RyYXdpbmdNYXAuaGFzKHVpZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9kcmF3aW5nTWFwLmdldCh1aWQpITtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcmF3aW5nLWl0ZW0nKS5mb3JFYWNoKGVsID0+IGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkLWRyYXdpbmcnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZHJhd2luZy1pdGVtLSR7aW5kZXh9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkLWRyYXdpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnbmVhcmVzdCcgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRHcmFwaGljSW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRHcmFwaGljczogbmV3IFNldChbaW5kZXhdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25EcmF3aW5nU2VsZWN0Py4oc2VsZWN0ZWRHcmFwaGljLCBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChldmVudC5zdGF0ZSA9PT0gXCJjb21wbGV0ZVwiICYmIGV2ZW50LmdyYXBoaWNzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pZ25vcmVOZXh0R3JhcGhpY3NVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hEcmF3aW5nc0Zyb21MYXllcigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh0aGlzLnByb3BzLmFsbG93TG9jYWxTdG9yYWdlICE9PSBmYWxzZSkgJiYgdGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlVG9Mb2NhbFN0b3JhZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIDUwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc3RhdGUgPT09IFwiY29tcGxldGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9nb1RvQ29udHJvbGxlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9nb1RvQ29udHJvbGxlci5hYm9ydCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9nb1RvQ29udHJvbGxlciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdTa2V0Y2hWaWV3TW9kZWwgZXZlbnQgaGFuZGxlciBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCfinIUgU2tldGNoVmlld01vZGVsIGV2ZW50IGhhbmRsZXIgcmVnaXN0ZXJlZCcpO1xyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKCfwn46vIFNldHRpbmcgdXAgZ3JhcGhpY3Mgd2F0Y2hlcnMuLi4nKTtcclxuXHJcbiAgICAgICAgLy8gR3JhcGhpY3MgY29sbGVjdGlvbiB3YXRjaGVyc1xyXG4gICAgICAgIGNvbnN0IGdyYXBoaWNzV2F0Y2hIYW5kbGUgPSB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuZ3JhcGhpY3Mud2F0Y2goXCJsZW5ndGhcIiwgKG4sIG8pID0+IHtcclxuICAgICAgICAgICAgaWYgKG4gPiBvKSBzZXRUaW1lb3V0KCgpID0+IHRoaXMuZm9yY2VNYXBSZWZyZXNoKCksIDEwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fZ3JhcGhpY3NXYXRjaEhhbmRsZXMucHVzaChncmFwaGljc1dhdGNoSGFuZGxlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmdyYXBoaWNzLm9uKFwiY2hhbmdlXCIsIChldnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2dC5hZGRlZCAmJiBldnQuYWRkZWQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmZvcmNlTWFwUmVmcmVzaCgpLCAxMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygn4pyFIEdyYXBoaWNzIHdhdGNoZXJzIHNldCB1cCcpO1xyXG5cclxuICAgICAgICAvLyBSRU1PVkVEOiBEdXBsaWNhdGUgbWFwIGNsaWNrIGhhbmRsZXIgdGhhdCB3YXMgaW50ZXJmZXJpbmcgd2l0aCB0aGUgV2lkZ2V0J3MgY2xpY2sgaGFuZGxlclxyXG4gICAgICAgIC8vIFRoZSBXaWRnZXQncyBhY3RpdmVWaWV3Q2hhbmdlSGFuZGxlciBhbHJlYWR5IGhhcyB0aGUgbWFwIGNsaWNrIGhhbmRsZXIgdGhhdCBpbnRlZ3JhdGVzIHdpdGggdGhpcyBwYW5lbFxyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKCfwn5SEIFJlYnVpbGRpbmcgZmluYWwgZHJhd2luZyBtYXAuLi4nKTtcclxuXHJcbiAgICAgICAgLy8gUmVidWlsZCBkcmF3aW5nIG1hcCBhZnRlciBpbml0aWFsIGxvYWQgYW5kIGFmdGVyIHJlZnJlc2hlc1xyXG4gICAgICAgIHRoaXMuX2RyYXdpbmdNYXAuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLnN0YXRlLmRyYXdpbmdzLmZvckVhY2goKGRyYXdpbmcsIGlkeCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpZCA9IGRyYXdpbmcuYXR0cmlidXRlcz8udW5pcXVlSWQ7XHJcbiAgICAgICAgICAgIGlmIChpZCkgdGhpcy5fZHJhd2luZ01hcC5zZXQoaWQsIGlkeCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2FmdGVyUmVmcmVzaERyYXdpbmdzID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9kcmF3aW5nTWFwLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuZHJhd2luZ3MuZm9yRWFjaCgoZHJhd2luZywgaWR4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGRyYXdpbmcuYXR0cmlidXRlcz8udW5pcXVlSWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoaWQpIHRoaXMuX2RyYXdpbmdNYXAuc2V0KGlkLCBpZHgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmRyYXdpbmdzLmxlbmd0aCA+IDAgJiYgIXRoaXMuX2lzSW50ZXJhY3RpbmcpIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5mb3JjZU1hcFJlZnJlc2goKSwgMTAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygn4pyFIEZpbmFsIGRyYXdpbmcgbWFwIGJ1aWx0Jyk7XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ+KPsCBTdGFydGluZyBtYXAgY2xpY2sgc3luYy4uLicpO1xyXG4gICAgICAgIC8vIFN0YXJ0IG1hcCBjbGljayBzeW5jXHJcbiAgICAgICAgdGhpcy5tYXBDbGlja1N5bmMoKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCfinIUgTWFwIGNsaWNrIHN5bmMgc3RhcnRlZCcpO1xyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKCfwn4+BIGluaXRpYWxpemVDb21wb25lbnRzIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgIH07XHJcblxyXG5cclxuXHJcbiAgICBtYXBDbGlja1N5bmMgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gT25seSBydW4gaWYgZW5hYmxlZFxyXG4gICAgICAgIGlmICghdGhpcy5fbWFwQ2xpY2tTeW5jRW5hYmxlZCB8fCAhdGhpcy5wcm9wcy5qaW11TWFwVmlldyB8fCAhdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIEdldCBjdXJyZW50bHkgc2VsZWN0ZWQgZ3JhcGhpY3MgZnJvbSB0aGUgU2tldGNoVmlld01vZGVsXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRHcmFwaGljcyA9IHRoaXMuc2tldGNoVmlld01vZGVsPy51cGRhdGVHcmFwaGljcz8udG9BcnJheSgpIHx8IFtdO1xyXG5cclxuICAgICAgICBpZiAoc2VsZWN0ZWRHcmFwaGljcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgZmlyc3Qgc2VsZWN0ZWQgZ3JhcGhpY1xyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZEdyYXBoaWMgPSBzZWxlY3RlZEdyYXBoaWNzWzBdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkR3JhcGhpYy5hdHRyaWJ1dGVzPy51bmlxdWVJZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdW5pcXVlSWQgPSBzZWxlY3RlZEdyYXBoaWMuYXR0cmlidXRlcy51bmlxdWVJZDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBMb29rIHVwIHRoZSBpbmRleCBpbiBvdXIgbWFwXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZHJhd2luZ01hcC5oYXModW5pcXVlSWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9kcmF3aW5nTWFwLmdldCh1bmlxdWVJZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgdXBkYXRlIGlmIHNlbGVjdGlvbiBoYXMgY2hhbmdlZCBhbmQgaW5kZXggaXMgZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc3RhdGUuc2VsZWN0ZWRHcmFwaGljSW5kZXggIT09IGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYE1hcCBzeW5jIGZvdW5kIGRpZmZlcmVudCBzZWxlY3Rpb246ICR7aW5kZXh9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgVUkgaW1tZWRpYXRlbHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyYXdpbmctaXRlbScpLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkLWRyYXdpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGRyYXdpbmctaXRlbS0ke2luZGV4fWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZC1kcmF3aW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ25lYXJlc3QnIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEdyYXBoaWNJbmRleDogaW5kZXhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1PRElGSUVEOiBSZW1vdmUgdGhpcyBsaW5lIHRvIHByZXNlcnZlIG11bHRpcGxlIHNlbGVjdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbGVjdGVkR3JhcGhpY3M6IG5ldyBTZXQoW2luZGV4XSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3RpZnkgcGFyZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uRHJhd2luZ1NlbGVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkRyYXdpbmdTZWxlY3Qoc2VsZWN0ZWRHcmFwaGljLCBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNjaGVkdWxlIG5leHQgc3luY1xyXG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5tYXBDbGlja1N5bmMsIDUwMCk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBzZXR1cEdyYXBoaWNzV2F0Y2hlciA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMucHJvcHMuZ3JhcGhpY3NMYXllcikgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBXYXRjaCBmb3IgY2hhbmdlcyB0byB0aGUgZ3JhcGhpY3MgY29sbGVjdGlvblxyXG4gICAgICAgIGNvbnN0IHdhdGNoSGFuZGxlID0gdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmdyYXBoaWNzLm9uKFwiY2hhbmdlXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBTa2lwIGlmIHdlIHRyaWdnZXJlZCB0aGlzIGNoYW5nZSBvdXJzZWx2ZXNcclxuICAgICAgICAgICAgaWYgKHRoaXMuaWdub3JlTmV4dEdyYXBoaWNzVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlnbm9yZU5leHRHcmFwaGljc1VwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBSZWZyZXNoIGRyYXdpbmdzIGZyb20gdGhlIGxheWVyXHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaERyYXdpbmdzRnJvbUxheWVyKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBncmFwaGljc1dhdGNoSGFuZGxlOiB3YXRjaEhhbmRsZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoRHJhd2luZ3NGcm9tTGF5ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gR2V0IGFsbCBncmFwaGljcyBmcm9tIHRoZSBsYXllclxyXG4gICAgICAgIGNvbnN0IGFsbEdyYXBoaWNzID0gdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmdyYXBoaWNzLnRvQXJyYXkoKTtcclxuXHJcbiAgICAgICAgLy8gRmlsdGVyIHRvIGluY2x1ZGUgbWFpbiBkcmF3aW5ncyBPTkxZLCBleGNsdWRlIEFMTCBidWZmZXIgdHlwZXNcclxuICAgICAgICBjb25zdCBmaWx0ZXJlZEdyYXBoaWNzID0gYWxsR3JhcGhpY3MuZmlsdGVyKGcgPT4ge1xyXG4gICAgICAgICAgICAvLyBFeGNsdWRlIG1lYXN1cmVtZW50IGxhYmVsc1xyXG4gICAgICAgICAgICBpZiAoZy5hdHRyaWJ1dGVzPy5pc01lYXN1cmVtZW50TGFiZWwpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIEV4Y2x1ZGUgcHJldmlldyBidWZmZXIgZ3JhcGhpY3MgKHRlbXBvcmFyeSB2aXN1YWxpemF0aW9ucylcclxuICAgICAgICAgICAgaWYgKGcuYXR0cmlidXRlcz8uaXNQcmV2aWV3QnVmZmVyKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAvLyBFeGNsdWRlIGdyYXBoaWNzIG1hcmtlZCBhcyBoaWRkZW4gZnJvbSBsaXN0XHJcbiAgICAgICAgICAgIGlmIChnLmF0dHJpYnV0ZXM/LmhpZGVGcm9tTGlzdCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgLy8g8J+UpyBORVc6IEV4Y2x1ZGUgQUxMIGJ1ZmZlciBncmFwaGljcyAoYm90aCBhdHRhY2hlZCBhbmQgc3RhbmRhbG9uZSlcclxuICAgICAgICAgICAgaWYgKGcuYXR0cmlidXRlcz8uaXNCdWZmZXIpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIEV4Y2x1ZGUgdGV4dCBncmFwaGljcyB0aGF0IGFyZSBtZWFzdXJlbWVudCBsYWJlbHNcclxuICAgICAgICAgICAgaWYgKGcuZ2VvbWV0cnk/LnR5cGUgPT09ICdwb2ludCcgJiZcclxuICAgICAgICAgICAgICAgIGcuc3ltYm9sPy50eXBlID09PSAndGV4dCcgJiZcclxuICAgICAgICAgICAgICAgIGcuYXR0cmlidXRlcz8uaXNNZWFzdXJlbWVudExhYmVsKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAvLyBPTkxZIGluY2x1ZGUgbWFpbiBkcmF3aW5ncyAobm8gYnVmZmVycylcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSkgYXMgRXh0ZW5kZWRHcmFwaGljW107XHJcblxyXG4gICAgICAgIC8vIFNvcnQgYW5kIHVwZGF0ZSBzdGF0ZS4uLlxyXG4gICAgICAgIGNvbnN0IHNvcnRlZEdyYXBoaWNzID0gdGhpcy5zb3J0R3JhcGhpY3NBcnJheShmaWx0ZXJlZEdyYXBoaWNzKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZHJhd2luZ3M6IHNvcnRlZEdyYXBoaWNzLFxyXG4gICAgICAgICAgICBzZWxlY3RlZEdyYXBoaWNzOiBuZXcgU2V0PG51bWJlcj4oKSxcclxuICAgICAgICAgICAgc3ltYm9sRWRpdGluZ0luZGV4OiBudWxsXHJcbiAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vbkRyYXdpbmdzVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uRHJhd2luZ3NVcGRhdGUoc29ydGVkR3JhcGhpY3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgodGhpcy5wcm9wcy5hbGxvd0xvY2FsU3RvcmFnZSAhPT0gZmFsc2UpICYmIHRoaXMuc3RhdGUuY29uc2VudEdyYW50ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9hZnRlclJlZnJlc2hEcmF3aW5ncyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYWZ0ZXJSZWZyZXNoRHJhd2luZ3MoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2ZXJpZnlEcmF3aW5nc1N5bmMgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gQ291bnQgYWN0dWFsIHZpc2libGUgZ3JhcGhpY3MgKGV4Y2x1ZGluZyBtZWFzdXJlbWVudCBsYWJlbHMpXHJcbiAgICAgICAgY29uc3QgdmlzaWJsZUdyYXBoaWNzID0gdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmdyYXBoaWNzLmZpbHRlcihnID0+XHJcbiAgICAgICAgICAgICFnLmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRMYWJlbCAmJlxyXG4gICAgICAgICAgICAhZy5hdHRyaWJ1dGVzPy5oaWRlRnJvbUxpc3RcclxuICAgICAgICApLmxlbmd0aDtcclxuXHJcbiAgICAgICAgLy8gQ29tcGFyZSB3aXRoIGRyYXdpbmdzIGFycmF5XHJcbiAgICAgICAgaWYgKHZpc2libGVHcmFwaGljcyAhPT0gdGhpcy5zdGF0ZS5kcmF3aW5ncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBEcmF3aW5nIHN5bmMgaXNzdWUgZGV0ZWN0ZWQ6ICR7dmlzaWJsZUdyYXBoaWNzfSB2aXNpYmxlIGdyYXBoaWNzIHZzICR7dGhpcy5zdGF0ZS5kcmF3aW5ncy5sZW5ndGh9IGRyYXdpbmdzIGluIHN0YXRlYCk7XHJcblxyXG4gICAgICAgICAgICAvLyBGb3JjZSByZWZyZXNoIGlmIG1pc21hdGNoIGRldGVjdGVkXHJcbiAgICAgICAgICAgIHRoaXMuZm9yY2VNYXBSZWZyZXNoKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhgRHJhd2luZ3Mgc3luYyB2ZXJpZmllZDogJHt2aXNpYmxlR3JhcGhpY3N9IHZpc2libGUgZ3JhcGhpY3MgbWF0Y2ggJHt0aGlzLnN0YXRlLmRyYXdpbmdzLmxlbmd0aH0gZHJhd2luZ3MgaW4gc3RhdGVgKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHNjaGVkdWxlRHJhd2luZ3NTeW5jQ2hlY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gQ2hlY2sgc3luYyAxIHNlY29uZCBhZnRlciBpbml0aWFsaXphdGlvblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnZlcmlmeURyYXdpbmdzU3luYygpO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkaXRpb25hbCBjaGVjayBhZnRlciAzIHNlY29uZHMgdG8gY2F0Y2ggYW55IGxhZ2dpbmcgaXNzdWVzXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52ZXJpZnlEcmF3aW5nc1N5bmMoKTtcclxuICAgICAgICAgICAgfSwgMzAwMCk7XHJcbiAgICAgICAgfSwgMTAwMCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHNvcnRHcmFwaGljc0FycmF5ID0gKGdyYXBoaWNzOiBFeHRlbmRlZEdyYXBoaWNbXSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgc29ydE9wdGlvbiB9ID0gdGhpcy5zdGF0ZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFsuLi5ncmFwaGljc10uc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoc29ydE9wdGlvbiA9PT0gJ25hbWUnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lQSA9IChhLmF0dHJpYnV0ZXM/Lm5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lQiA9IChiLmF0dHJpYnV0ZXM/Lm5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmFtZUEubG9jYWxlQ29tcGFyZShuYW1lQik7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc29ydE9wdGlvbiA9PT0gJ3R5cGUnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlQSA9IChhLmF0dHJpYnV0ZXM/Lmdlb21ldHJ5VHlwZSB8fCBhLmdlb21ldHJ5Py50eXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZUIgPSAoYi5hdHRyaWJ1dGVzPy5nZW9tZXRyeVR5cGUgfHwgYi5nZW9tZXRyeT8udHlwZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlQS5sb2NhbGVDb21wYXJlKHR5cGVCKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3J0T3B0aW9uID09PSAnY3JlYXRlZCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNyZWF0ZWRBID0gYS5hdHRyaWJ1dGVzPy5jcmVhdGVkRGF0ZSA/IE51bWJlcihhLmF0dHJpYnV0ZXMuY3JlYXRlZERhdGUpIDogMDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNyZWF0ZWRCID0gYi5hdHRyaWJ1dGVzPy5jcmVhdGVkRGF0ZSA/IE51bWJlcihiLmF0dHJpYnV0ZXMuY3JlYXRlZERhdGUpIDogMDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVkQiAtIGNyZWF0ZWRBOyAvLyBOZXdlc3QgZmlyc3RcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDb25zZW50WWVzID0gKCkgPT4ge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkcmF3aW5nQ29uc2VudEdyYW50ZWQnLCAndHJ1ZScpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjb25zZW50R3JhbnRlZDogdHJ1ZSwgc2hvd1N0b3JhZ2VEaXNjbGFpbWVyOiB0cnVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURyYXdpbmdTZWxlY3QgPSAoaW5HcmFwaGljOiBfX2VzcmkuR3JhcGhpYykgPT4ge1xyXG4gICAgICAgIGlmICghaW5HcmFwaGljIHx8ICFpbkdyYXBoaWMuZ2VvbWV0cnkgfHwgIXRoaXMuc2tldGNoVmlld01vZGVsKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGdyYXBoaWMgPSBpbkdyYXBoaWMgYXMgRXh0ZW5kZWRHcmFwaGljO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ2hhbmRsZURyYXdpbmdTZWxlY3QgY2FsbGVkIGZvcjonLCBncmFwaGljLmdlb21ldHJ5Py50eXBlLCBncmFwaGljLmF0dHJpYnV0ZXM/Lm5hbWUpO1xyXG5cclxuICAgICAgICAvLyBBcmUgd2UgaW4gbXVsdGktc2VsZWN0PyAoc2VsZWN0ZWRHcmFwaGljcyBob2xkcyBhbGwgc2VsZWN0ZWQgaW5kaWNlcylcclxuICAgICAgICBjb25zdCBtdWx0aVNldCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRHcmFwaGljcyBhcyBTZXQ8bnVtYmVyPiB8IHVuZGVmaW5lZDtcclxuICAgICAgICAvLyBUcmVhdCBtdWx0aSBhcyAyKyBpdGVtcywgbm90IDErXHJcbiAgICAgICAgY29uc3QgaXNNdWx0aSA9ICEhbXVsdGlTZXQgJiYgbXVsdGlTZXQuc2l6ZSA+IDE7XHJcblxyXG4gICAgICAgIC8vIDEpIENsZWFyIHByZXZpb3VzIG92ZXJsYXkgbW9yZSByZWxpYWJseVxyXG4gICAgICAgIGlmICghaXNNdWx0aSkge1xyXG4gICAgICAgICAgICAvLyBGaW5kIGFuZCByZW1vdmUgYW55IGV4aXN0aW5nIG92ZXJsYXlzIGZyb20gb3RoZXIgZ3JhcGhpY3NcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5kcmF3aW5ncy5mb3JFYWNoKChkcmF3aW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBleHREcmF3aW5nID0gZHJhd2luZyBhcyBFeHRlbmRlZEdyYXBoaWM7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXh0RHJhd2luZy5fc2VsZWN0aW9uT3ZlcmxheSAmJiBleHREcmF3aW5nICE9PSBncmFwaGljKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVQb2ludFRleHRPdmVybGF5KGV4dERyYXdpbmcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIDIpIENhbmNlbCBhbnkgYWN0aXZlIHNrZXRjaCBpbnRlcmFjdGlvblxyXG4gICAgICAgIHRyeSB7IHRoaXMuc2tldGNoVmlld01vZGVsLmNhbmNlbCgpOyB9IGNhdGNoIHsgfVxyXG5cclxuICAgICAgICAvLyAzKSBOb3JtYWxpemUgdW5zdXBwb3J0ZWQgcG9seWxpbmUgc3ltYm9sc1xyXG4gICAgICAgIGlmIChncmFwaGljLmdlb21ldHJ5LnR5cGUgPT09ICdwb2x5bGluZScgJiYgZ3JhcGhpYy5zeW1ib2w/LnR5cGUgIT09ICdzaW1wbGUtbGluZScpIHtcclxuICAgICAgICAgICAgY29uc3Qgc3ltYm9sQ29sb3IgPSAoZ3JhcGhpYy5zeW1ib2wgYXMgYW55KT8uY29sb3IgfHwgWzAsIDAsIDAsIDFdO1xyXG4gICAgICAgICAgICBjb25zdCBzeW1ib2xXaWR0aCA9IChncmFwaGljLnN5bWJvbCBhcyBhbnkpPy53aWR0aCB8fCAyO1xyXG4gICAgICAgICAgICBjb25zdCBzeW1ib2xTdHlsZSA9IChncmFwaGljLnN5bWJvbCBhcyBhbnkpPy5zdHlsZSB8fCAnc29saWQnO1xyXG4gICAgICAgICAgICBncmFwaGljLnN5bWJvbCA9IG5ldyBTaW1wbGVMaW5lU3ltYm9sKHsgY29sb3I6IHN5bWJvbENvbG9yLCB3aWR0aDogc3ltYm9sV2lkdGgsIHN0eWxlOiBzeW1ib2xTdHlsZSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGlzUG9pbnQgPSBncmFwaGljLmdlb21ldHJ5LnR5cGUgPT09ICdwb2ludCc7XHJcbiAgICAgICAgY29uc3Qgc3ltYm9sVHlwZSA9IChncmFwaGljLnN5bWJvbCBhcyBhbnkpPy50eXBlO1xyXG4gICAgICAgIGNvbnN0IGlzVGV4dCA9IGlzUG9pbnQgJiYgc3ltYm9sVHlwZSA9PT0gJ3RleHQnO1xyXG4gICAgICAgIGNvbnN0IGlzUGljdHVyZU1hcmtlciA9IGlzUG9pbnQgJiYgc3ltYm9sVHlwZSA9PT0gJ3BpY3R1cmUtbWFya2VyJztcclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnR3JhcGhpYyBkZXRhaWxzIC0gaXNQb2ludDonLCBpc1BvaW50LCAnc3ltYm9sVHlwZTonLCBzeW1ib2xUeXBlLCAnaXNUZXh0OicsIGlzVGV4dCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbW1vbk9wdGlvbnM6IF9fZXNyaS5Ta2V0Y2hWaWV3TW9kZWxVcGRhdGVVcGRhdGVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICBlbmFibGVSb3RhdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgZW5hYmxlU2NhbGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgZW5hYmxlWjogZmFsc2UsXHJcbiAgICAgICAgICAgIG11bHRpcGxlU2VsZWN0aW9uRW5hYmxlZDogZmFsc2VcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBwb2ludE9wdGlvbnM6IF9fZXNyaS5Ta2V0Y2hWaWV3TW9kZWxVcGRhdGVVcGRhdGVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICB0b29sOiAndHJhbnNmb3JtJyxcclxuICAgICAgICAgICAgdG9nZ2xlVG9vbE9uQ2xpY2s6IGZhbHNlLFxyXG4gICAgICAgICAgICBlbmFibGVSb3RhdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgZW5hYmxlU2NhbGluZzogaXNUZXh0IHx8IGlzUGljdHVyZU1hcmtlcixcclxuICAgICAgICAgICAgZW5hYmxlWjogZmFsc2UsXHJcbiAgICAgICAgICAgIG11bHRpcGxlU2VsZWN0aW9uRW5hYmxlZDogZmFsc2VcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyA0KSBBcHBseSBzZWxlY3Rpb24vdXBkYXRlIHRvIHRoZSBjbGlja2VkIGdyYXBoaWNcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdBcHBseWluZyBTa2V0Y2hWaWV3TW9kZWwgc2VsZWN0aW9uLi4uJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLnVwZGF0ZShbZ3JhcGhpY10sIGlzUG9pbnQgPyBwb2ludE9wdGlvbnMgOiBjb21tb25PcHRpb25zKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIHVwZGF0aW5nIFNrZXRjaFZpZXdNb2RlbCBmb3Igc2VsZWN0aW9uOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdHJ5IHsgdGhpcy5za2V0Y2hWaWV3TW9kZWwudXBkYXRlKFtncmFwaGljXSk7IH0gY2F0Y2ggKGZhbGxiYWNrRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFsbGJhY2sgU2tldGNoVmlld01vZGVsIHVwZGF0ZSBhbHNvIGZhaWxlZDonLCBmYWxsYmFja0Vycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gNSkgRW5zdXJlIGhhbG9zIGZvciBhbGwgc2VsZWN0ZWQgaXRlbXMgaW4gbXVsdGktc2VsZWN0LCBwbHVzIHRoaXMgb25lXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGlzUG9pbnQpIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ1NldHRpbmcgdGltZW91dCB0byBjcmVhdGUgb3ZlcmxheSBmb3IgcG9pbnQgZ3JhcGhpYy4uLicpO1xyXG4gICAgICAgICAgICAgICAgLy8gVXNlIHNldFRpbWVvdXQgdG8gZW5zdXJlIFNrZXRjaFZpZXdNb2RlbCBvcGVyYXRpb25zIGNvbXBsZXRlIGZpcnN0XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdUaW1lb3V0IGV4ZWN1dGluZyAtIGNyZWF0aW5nIG92ZXJsYXkgbm93Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnN1cmVQb2ludFRleHRPdmVybGF5KGdyYXBoaWMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBBRERJVElPTkFMOiBGb3JjZSBhIGNoZWNrIGFmdGVyIGV2ZW4gbW9yZSB0aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ0RvdWJsZS1jaGVjazogRG9lcyBncmFwaGljIGhhdmUgb3ZlcmxheT8nLCAhIWdyYXBoaWMuX3NlbGVjdGlvbk92ZXJsYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWdyYXBoaWMuX3NlbGVjdGlvbk92ZXJsYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ05vIG92ZXJsYXkgZm91bmQgLSB0cnlpbmcgYWdhaW4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5zdXJlUG9pbnRUZXh0T3ZlcmxheShncmFwaGljKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgICAgICAgICB9LCAxNTApOyAvLyBJbmNyZWFzZWQgZGVsYXlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGlzTXVsdGkpIHtcclxuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBoYWxvIGV4aXN0cyBmb3IgZWFjaCBjdXJyZW50bHkgc2VsZWN0ZWQgcG9pbnQvdGV4dFxyXG4gICAgICAgICAgICAgICAgbXVsdGlTZXQhLmZvckVhY2goaWR4ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBnID0gdGhpcy5zdGF0ZS5kcmF3aW5ncz8uW2lkeF0gYXMgRXh0ZW5kZWRHcmFwaGljIHwgdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChnICYmIGcuZ2VvbWV0cnk/LnR5cGUgPT09ICdwb2ludCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuc3VyZVBvaW50VGV4dE92ZXJsYXkoZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDE1MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTaW5nbGUtc2VsZWN0IG1vZGUg4oaSIG9ubHkgdGhlIGN1cnJlbnQgZ3JhcGhpYyBzaG91bGQgaGF2ZSBhIGhhbG9cclxuICAgICAgICAgICAgICAgIC8vICh3ZSBhbHJlYWR5IHJlbW92ZWQgcHJldmlvdXMgYWJvdmUpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignU2VsZWN0aW9uIG92ZXJsYXkgbWFuYWdlbWVudCBmYWlsZWQ6JywgZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyA2KSBQZXJzaXN0IHBvc2l0aW9uIGNoYW5nZXMgJiBrZWVwIGhhbG8gaW4gc3luYyB3aGlsZSBtb3ZpbmdcclxuICAgICAgICBjb25zdCBncmFwaGljS2V5ID0gZ3JhcGhpYy5hdHRyaWJ1dGVzPy51bmlxdWVJZCB8fCBgdGVtcF8ke0RhdGUubm93KCl9YDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3Bvc2l0aW9uV2F0Y2hlcnMgJiYgdGhpcy5fcG9zaXRpb25XYXRjaGVyc1tncmFwaGljS2V5XSkge1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbldhdGNoZXJzW2dyYXBoaWNLZXldLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fcG9zaXRpb25XYXRjaGVyc1tncmFwaGljS2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLl9wb3NpdGlvbldhdGNoZXJzKSB0aGlzLl9wb3NpdGlvbldhdGNoZXJzID0ge307XHJcblxyXG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uV2F0Y2hlcnNbZ3JhcGhpY0tleV0gPSBncmFwaGljLndhdGNoKCdnZW9tZXRyeScsIChuZXdHZW9tZXRyeSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXNQb2ludCAmJiBncmFwaGljLl9zZWxlY3Rpb25PdmVybGF5KSB7XHJcbiAgICAgICAgICAgICAgICB0cnkgeyBncmFwaGljLl9zZWxlY3Rpb25PdmVybGF5Lmdlb21ldHJ5ID0gbmV3R2VvbWV0cnk7IH0gY2F0Y2ggeyB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3NhdmVQb3NpdGlvblRpbWVvdXQgYXMgYW55KTtcclxuICAgICAgICAgICAgdGhpcy5fc2F2ZVBvc2l0aW9uVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLnByb3BzLmFsbG93TG9jYWxTdG9yYWdlICE9PSBmYWxzZSkgJiYgdGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGhhbmRsZUxpc3RJdGVtQ2xpY2sgPSAoZ3JhcGhpYzogRXh0ZW5kZWRHcmFwaGljLCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgLy8gQ2hlY2sgY29uc2VudFxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmNvbnNlbnRHcmFudGVkICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xvY2FsQWxlcnQoJ015IERyYXdpbmdzIGZlYXR1cmUgcmVxdWlyZXMgbG9jYWwgc3RvcmFnZSBwZXJtaXNzaW9uJywgJ3dhcm5pbmcnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRW5zdXJlIGF0dHJpYnV0ZXMgLyB1bmlxdWVJZFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICghZ3JhcGhpYy5hdHRyaWJ1dGVzKSAoZ3JhcGhpYyBhcyBhbnkpLmF0dHJpYnV0ZXMgPSB7fTtcclxuICAgICAgICAgICAgaWYgKCEoZ3JhcGhpYyBhcyBhbnkpLmF0dHJpYnV0ZXMudW5pcXVlSWQpIHtcclxuICAgICAgICAgICAgICAgIChncmFwaGljIGFzIGFueSkuYXR0cmlidXRlcy51bmlxdWVJZCA9IGBhdXRvXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCA4KX1gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BhbmVsOiBjb3VsZCBub3QgZW5zdXJlIHVuaXF1ZUlkIG9uIGdyYXBoaWM6JywgZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBhbHJlYWR5IHNlbGVjdGVkLCBqdXN0IHJlLWFwcGx5IHNlbGVjdGlvblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkR3JhcGhpY0luZGV4ID09PSBpbmRleCkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uQ2xlYXJTZWxlY3Rpb25PdmVybGF5cz8uKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBXcmFwIGluIHRyeS1jYXRjaCBmb3Igc2FmZXR5XHJcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShcclxuICAgICAgICAgICAgICAgIHR5cGVvZiB0aGlzLnByb3BzLm9uRHJhd2luZ1NlbGVjdCA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5wcm9wcy5vbkRyYXdpbmdTZWxlY3QoZ3JhcGhpYywgaW5kZXgpXHJcbiAgICAgICAgICAgICAgICAgICAgOiAodGhpcyBhcyBhbnkpLmhhbmRsZURyYXdpbmdTZWxlY3Q/LihncmFwaGljLCBpbmRleClcclxuICAgICAgICAgICAgKS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBTaWxlbnRseSBoYW5kbGUgU2tldGNoVmlld01vZGVsIGVycm9yc1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yPy5uYW1lICE9PSAnQWJvcnRFcnJvcicpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1JlLXNlbGVjdGlvbiBlbmNvdW50ZXJlZCBhbiBpc3N1ZSAobm9uLWNyaXRpY2FsKTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBYm9ydCBhbnkgb25nb2luZyBuYXZpZ2F0aW9uXHJcbiAgICAgICAgaWYgKHRoaXMuX2dvVG9Db250cm9sbGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2dvVG9Db250cm9sbGVyLmFib3J0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2dvVG9Db250cm9sbGVyID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBSZWFjdCBzdGF0ZVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEdyYXBoaWNJbmRleDogaW5kZXggfSk7XHJcblxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgc3ltYm9sIGVkaXRvciBzdGF0ZVxyXG4gICAgICAgIHRoaXMub3BlblN5bWJvbEVkaXRvcihpbmRleCk7XHJcblxyXG4gICAgICAgIC8vIEFwcGx5IHNlbGVjdGlvbiArIG5hdmlnYXRlICh3aXRoIGVycm9yIGhhbmRsaW5nKVxyXG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0R3JhcGhpYyhncmFwaGljLCBpbmRleCkuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0hpZ2hsaWdodCBncmFwaGljIGZhaWxlZCAobm9uLWNyaXRpY2FsKTonLCBlcnJvcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGhpZ2hsaWdodEdyYXBoaWMgPSBhc3luYyAoZ3JhcGhpYzogRXh0ZW5kZWRHcmFwaGljLCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKCFncmFwaGljIHx8ICF0aGlzLnByb3BzLmppbXVNYXBWaWV3IHx8IHRoaXMuc3RhdGUuY29uc2VudEdyYW50ZWQgIT09IHRydWUpIHJldHVybjtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gMSkgQWJvcnQgYW55IG9uZ29pbmcgbmF2aWdhdGlvblxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZ29Ub0NvbnRyb2xsZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2dvVG9Db250cm9sbGVyLmFib3J0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9nb1RvQ29udHJvbGxlciA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIDIpIEVuc3VyZSB1bmlxdWVJZFxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFncmFwaGljLmF0dHJpYnV0ZXMpIChncmFwaGljIGFzIGFueSkuYXR0cmlidXRlcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgaWYgKCEoZ3JhcGhpYyBhcyBhbnkpLmF0dHJpYnV0ZXMudW5pcXVlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAoZ3JhcGhpYyBhcyBhbnkpLmF0dHJpYnV0ZXMudW5pcXVlSWQgPSBgYXV0b18ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgOCl9YDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdQYW5lbDogZW5zdXJlIHVuaXF1ZUlkIGluIGhpZ2hsaWdodEdyYXBoaWMgZmFpbGVkOicsIGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyAzKSBDbGVhciBleGlzdGluZyBoYWxvcyBmaXJzdFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uQ2xlYXJTZWxlY3Rpb25PdmVybGF5cz8uKCk7XHJcblxyXG4gICAgICAgICAgICAvLyA0KSBEZWxlZ2F0ZSBzZWxlY3Rpb24gdG8gd2lkZ2V0IHdpdGggZXJyb3IgaGFuZGxpbmcgd3JhcHBlclxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMub25EcmF3aW5nU2VsZWN0ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucHJvcHMub25EcmF3aW5nU2VsZWN0KGdyYXBoaWMsIGluZGV4KTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2F0Y2ggU2tldGNoVmlld01vZGVsIGVycm9ycyB3aXRob3V0IGJsb2NraW5nIHRoZSByZXN0IG9mIHRoZSBmdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcj8ubmFtZSAhPT0gJ0Fib3J0RXJyb3InICYmIGVycm9yPy5uYW1lICE9PSAndmlldzpnb3RvLWludGVycnVwdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1NlbGVjdGlvbiB1cGRhdGUgZW5jb3VudGVyZWQgYW4gaXNzdWUgKG5vbi1jcml0aWNhbCk6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIG5hdmlnYXRpb24gZXZlbiBpZiBzZWxlY3Rpb24gZmFpbGVkXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIDUpIEFsd2F5cyBub3RpZnkgcGFyZW50IChpZiBkaWZmZXJlbnQgY2FsbGJhY2spXHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25EcmF3aW5nU2VsZWN0Py4oZ3JhcGhpYywgaW5kZXgpO1xyXG5cclxuICAgICAgICAgICAgLy8gNikgU2tpcCBuYXZpZ2F0aW9uIGlmIG5vIGdlb21ldHJ5XHJcbiAgICAgICAgICAgIGlmICghZ3JhcGhpYy5nZW9tZXRyeSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgLy8gNykgV2FpdCBmb3IgdmlldyB0byBiZSByZWFkeVxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcud2hlbigpO1xyXG5cclxuICAgICAgICAgICAgLy8gOCkgQnVpbGQgbmF2aWdhdGlvbiB0YXJnZXRcclxuICAgICAgICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5fZ29Ub0NvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xyXG5cclxuICAgICAgICAgICAgbGV0IHRhcmdldDogX19lc3JpLkdlb21ldHJ5IHwgX19lc3JpLlBvaW50ID0gZ3JhcGhpYy5nZW9tZXRyeSBhcyBhbnk7XHJcbiAgICAgICAgICAgIGxldCBzY2FsZTogbnVtYmVyO1xyXG5cclxuICAgICAgICAgICAgaWYgKGdyYXBoaWMuZ2VvbWV0cnkudHlwZSAhPT0gJ3BvaW50Jykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCdjZW50cm9pZCcgaW4gZ3JhcGhpYy5nZW9tZXRyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IChncmFwaGljLmdlb21ldHJ5IGFzIGFueSkuY2VudHJvaWQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGdyYXBoaWMuZ2VvbWV0cnkuZXh0ZW50Py5jZW50ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBncmFwaGljLmdlb21ldHJ5LmV4dGVudC5jZW50ZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChncmFwaGljLmdlb21ldHJ5LmV4dGVudCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ZW50V2lkdGggPSBncmFwaGljLmdlb21ldHJ5LmV4dGVudC53aWR0aDtcclxuICAgICAgICAgICAgICAgIHNjYWxlID0gZXh0ZW50V2lkdGggKiA1O1xyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBNYXRoLm1heCg1MDAsIE1hdGgubWluKDUwMDAwLCBzY2FsZSkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSAyMDAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyA5KSBFeGVjdXRlIG5hdmlnYXRpb24gKGNhdGNoZXMgaW50ZXJuYWxseSlcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LmdvVG8oXHJcbiAgICAgICAgICAgICAgICB7IHRhcmdldCwgc2NhbGUgfSxcclxuICAgICAgICAgICAgICAgIHsgYW5pbWF0ZTogZmFsc2UsIGR1cmF0aW9uOiAwLCBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsIH1cclxuICAgICAgICAgICAgKS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycj8ubmFtZSAhPT0gJ0Fib3J0RXJyb3InICYmIGVycj8ubmFtZSAhPT0gJ3ZpZXc6Z290by1pbnRlcnJ1cHRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdOYXZpZ2F0aW9uIGVycm9yOicsIGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvLyBDYXRjaCBhbnkgb3RoZXIgdW5leHBlY3RlZCBlcnJvcnNcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaGlnaGxpZ2h0aW5nIGdyYXBoaWMgKHBhbmVsKTonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBoYW5kbGVDb25zZW50Tm8gPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gU2V0IGxvY2FsU3RvcmFnZSB2YWx1ZSB0byAnZmFsc2UnIHRvIHJlbWVtYmVyIHVzZXIncyBjaG9pY2VcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZHJhd2luZ0NvbnNlbnRHcmFudGVkJywgJ2ZhbHNlJyk7XHJcblxyXG4gICAgICAgIC8vIERlbGV0ZSBhbnkgZXhpc3Rpbmcgc3RvcmVkIGRyYXdpbmdzXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5sb2NhbFN0b3JhZ2VLZXkpO1xyXG5cclxuICAgICAgICAvLyBTZXQgc3RhdGUgdG8gZmFsc2UgYnV0IGRvbid0IGNsb3NlIHRoZSBwYW5lbCwganVzdCBzaG93IHRoZSBwZXJtaXNzaW9uIGRlbmllZCBVSVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjb25zZW50R3JhbnRlZDogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRHJhd2luZ3NVcGRhdGUgPSAoZHJhd2luZ3M6IEV4dGVuZGVkR3JhcGhpY1tdKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+TiiBoYW5kbGVEcmF3aW5nc1VwZGF0ZSBjYWxsZWQgd2l0aCAke2RyYXdpbmdzLmxlbmd0aH0gZHJhd2luZ3NgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE5vdGlmeSBwYXJlbnQgY29tcG9uZW50IGFib3V0IHRoZSBkcmF3aW5ncyB1cGRhdGVcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25EcmF3aW5nc1VwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkRyYXdpbmdzVXBkYXRlKGRyYXdpbmdzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQmF0Y2ggbWVhc3VyZW1lbnQgdXBkYXRlcyB3aXRoIGxvbmdlciBkZWxheXMgdG8gcHJldmVudCBsb29wc1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tZWFzdXJlUmVmPy5jdXJyZW50ICYmICF0aGlzLl9wcm9jZXNzaW5nTWVhc3VyZW1lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9jZXNzaW5nTWVhc3VyZW1lbnRzID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCfwn5SEIFNjaGVkdWxpbmcgYmF0Y2hlZCBtZWFzdXJlbWVudCByZWZyZXNoIGZvciB1cGRhdGVkIGRyYXdpbmdzJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUHJvY2VzcyBkcmF3aW5ncyBpbiBzbWFsbGVyIGJhdGNoZXMgd2l0aCBkZWxheXNcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoU2l6ZSA9IDI7IC8vIFByb2Nlc3MgMiBkcmF3aW5ncyBhdCBhIHRpbWVcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NCYXRjaCA9IChzdGFydEluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IE1hdGgubWluKHN0YXJ0SW5kZXggKyBiYXRjaFNpemUsIGRyYXdpbmdzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSBkcmF3aW5ncy5zbGljZShzdGFydEluZGV4LCBlbmRJbmRleCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJhdGNoLmZvckVhY2goKGRyYXdpbmcsIGxvY2FsSW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2xvYmFsSW5kZXggPSBzdGFydEluZGV4ICsgbG9jYWxJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyYXdpbmcgJiYgZHJhd2luZy5nZW9tZXRyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhZ2dlciBlYWNoIG1lYXN1cmVtZW50IHVwZGF0ZSB3aXRoIGluY3JlYXNpbmcgZGVsYXlzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBlcmZvcm1TaW5nbGVNZWFzdXJlbWVudFVwZGF0ZShkcmF3aW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGdsb2JhbEluZGV4ICogMzAwKTsgLy8gMzAwbXMgZGVsYXkgYmV0d2VlbiBlYWNoIGRyYXdpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIG5leHQgYmF0Y2ggaWYgdGhlcmUgYXJlIG1vcmUgZHJhd2luZ3NcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kSW5kZXggPCBkcmF3aW5ncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzQmF0Y2goZW5kSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBiYXRjaFNpemUgKiAzMDAgKyAyMDApOyAvLyBFeHRyYSBkZWxheSBiZXR3ZWVuIGJhdGNoZXNcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGwgYmF0Y2hlcyBwcm9jZXNzZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcm9jZXNzaW5nTWVhc3VyZW1lbnRzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCfinIUgQ29tcGxldGVkIGJhdGNoZWQgbWVhc3VyZW1lbnQgcHJvY2Vzc2luZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBiYXRjaFNpemUgKiAzMDAgKyA1MDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3RhcnQgcHJvY2Vzc2luZyB0aGUgZmlyc3QgYmF0Y2hcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NCYXRjaCgwKTtcclxuICAgICAgICAgICAgICAgIH0sIDEwMDApOyAvLyBJbml0aWFsIGRlbGF5IGJlZm9yZSBzdGFydGluZ1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygn8J+TjyBNZWFzdXJlbWVudCB1cGRhdGVzIHNraXBwZWQgLSBzeXN0ZW0gYnVzeSBvciBubyBtZWFzdXJlbWVudCBzeXN0ZW0gYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIERlYm91bmNlZCBzYXZlIHRvIGxvY2FsU3RvcmFnZVxyXG4gICAgICAgICAgICB0aGlzLnNhdmVUb0xvY2FsU3RvcmFnZSgpO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgaW4gaGFuZGxlRHJhd2luZ3NVcGRhdGU6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzaW5nTWVhc3VyZW1lbnRzID0gZmFsc2U7IC8vIFJlc2V0IGZsYWcgb24gZXJyb3JcclxuICAgICAgICAgICAgdGhpcy5zaG93TG9jYWxBbGVydCgnRXJyb3IgdXBkYXRpbmcgZHJhd2luZ3MnLCAnZXJyb3InKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBsb2FkRnJvbUxvY2FsU3RvcmFnZSA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5hbGxvd0xvY2FsU3RvcmFnZSA9PT0gZmFsc2UgfHwgdGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCAhPT0gdHJ1ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBDbGVhbiB1cCBsb2NhbFN0b3JhZ2UgZmlyc3RcclxuICAgICAgICB0aGlzLmNsZWFudXBMb2NhbFN0b3JhZ2VNZWFzdXJlbWVudHMoKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IHRoaXMubG9jYWxTdG9yYWdlS2V5O1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coYPCfk4IgTG9hZGluZyBkcmF3aW5ncyBmcm9tIGxvY2FsU3RvcmFnZSBrZXk6ICR7c3RvcmFnZUtleX1gKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2F2ZWREYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSk7XHJcbiAgICAgICAgaWYgKCFzYXZlZERhdGEpIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+TgiBObyBzYXZlZCBkcmF3aW5ncyBmb3VuZCBmb3Iga2V5OiAke3N0b3JhZ2VLZXl9YCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHJ1blJlc3RvcmUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShzYXZlZERhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBvbGQgZm9ybWF0IChhcnJheSksIHYxLjEsIHYxLjIsIHYxLjMsIGFuZCBuZXcgdjEuNCBmb3JtYXQgd2l0aCBtZWFzdXJlbWVudCBjdXN0b21pemF0aW9uXHJcbiAgICAgICAgICAgICAgICBsZXQgZHJhd2luZ3NEYXRhID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgbWVhc3VyZW1lbnRMYWJlbHNEYXRhID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyc2VkRGF0YSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkcmF3aW5nc0RhdGEgPSBwYXJzZWREYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ/Cfk4IgTG9hZGluZyBkYXRhIGluIG9sZCBmb3JtYXQgKGRyYXdpbmdzIG9ubHkpJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZERhdGEudmVyc2lvbiA9PT0gXCIxLjFcIiAmJiBwYXJzZWREYXRhLmRyYXdpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhd2luZ3NEYXRhID0gcGFyc2VkRGF0YS5kcmF3aW5ncyB8fCBbXTtcclxuICAgICAgICAgICAgICAgICAgICBtZWFzdXJlbWVudExhYmVsc0RhdGEgPSBwYXJzZWREYXRhLm1lYXN1cmVtZW50TGFiZWxzIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ/Cfk4IgTG9hZGluZyBkYXRhIGluIHYxLjEgZm9ybWF0IChkcmF3aW5ncyArIG1lYXN1cmVtZW50IGxhYmVscyknKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VkRGF0YS52ZXJzaW9uID09PSBcIjEuMlwiICYmIHBhcnNlZERhdGEuZHJhd2luZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBkcmF3aW5nc0RhdGEgPSBwYXJzZWREYXRhLmRyYXdpbmdzIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lYXN1cmVtZW50TGFiZWxzRGF0YSA9IHBhcnNlZERhdGEubWVhc3VyZW1lbnRMYWJlbHMgfHwgW107XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygn8J+TgiBMb2FkaW5nIGRhdGEgaW4gdjEuMiBmb3JtYXQgKGRyYXdpbmdzICsgbWVhc3VyZW1lbnQgbGFiZWxzICsgYnVmZmVyIGRyYXdpbmdzKScpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJzZWREYXRhLnZlcnNpb24gPT09IFwiMS4zXCIgJiYgcGFyc2VkRGF0YS5kcmF3aW5ncykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRyYXdpbmdzRGF0YSA9IHBhcnNlZERhdGEuZHJhd2luZ3MgfHwgW107XHJcbiAgICAgICAgICAgICAgICAgICAgbWVhc3VyZW1lbnRMYWJlbHNEYXRhID0gcGFyc2VkRGF0YS5tZWFzdXJlbWVudExhYmVscyB8fCBbXTtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCfwn5OCIExvYWRpbmcgZGF0YSBpbiB2MS4zIGZvcm1hdCAoZHJhd2luZ3MgKyBtZWFzdXJlbWVudCBsYWJlbHMgKyBidWZmZXIgc2V0dGluZ3MpJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZERhdGEudmVyc2lvbiA9PT0gXCIxLjRcIiAmJiBwYXJzZWREYXRhLmRyYXdpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhd2luZ3NEYXRhID0gcGFyc2VkRGF0YS5kcmF3aW5ncyB8fCBbXTtcclxuICAgICAgICAgICAgICAgICAgICBtZWFzdXJlbWVudExhYmVsc0RhdGEgPSBwYXJzZWREYXRhLm1lYXN1cmVtZW50TGFiZWxzIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ/Cfk4IgTG9hZGluZyBkYXRhIGluIHYxLjQgZm9ybWF0IChkcmF3aW5ncyArIG1lYXN1cmVtZW50IGxhYmVscyArIGJ1ZmZlciBzZXR0aW5ncyArIG1lYXN1cmVtZW50IGN1c3RvbWl6YXRpb24pJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIEludmFsaWQgZGF0YSBmb3JtYXQgaW4gbG9jYWxTdG9yYWdlIGZvciBrZXk6ICR7c3RvcmFnZUtleX1gKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllciAmJiB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuZ3JhcGhpY3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWdub3JlTmV4dEdyYXBoaWNzVXBkYXRlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxvYWRlZERyYXdpbmdzQ291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsb2FkZWRCdWZmZXJEcmF3aW5nc0NvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbG9hZGVkTGFiZWxzQ291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsb2FkZWRCdWZmZXJzQ291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsb2FkZWRDdXN0b21pemVkTGFiZWxzQ291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3RvcmVkR3JhcGhpY3MgPSBuZXcgTWFwPHN0cmluZywgRXh0ZW5kZWRHcmFwaGljPigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBGaXJzdCwgcmVzdG9yZSBtYWluIGRyYXdpbmdzIChpbmNsdWRpbmcgcGVybWFuZW50IGJ1ZmZlciBkcmF3aW5ncyBhbmQgYnVmZmVyIHNldHRpbmdzKVxyXG4gICAgICAgICAgICAgICAgICAgIGRyYXdpbmdzRGF0YS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JhcGhpYyA9IGFzRXh0ZW5kZWRHcmFwaGljKEdyYXBoaWMuZnJvbUpTT04oaXRlbSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZ3JhcGhpYy5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JhcGhpYy5hdHRyaWJ1dGVzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFncmFwaGljLmF0dHJpYnV0ZXMudW5pcXVlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmFwaGljLmF0dHJpYnV0ZXMudW5pcXVlSWQgPSBgcmVzdG9yZWRfJHtEYXRlLm5vdygpfV8ke2luZGV4fWA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIHYxLjIgZm9ybWF0OiBSZXN0b3JlIGJ1ZmZlciBkcmF3aW5nIGF0dHJpYnV0ZXMgaWYgcHJlc2VudCAobGVnYWN5IHBlcm1hbmVudCBidWZmZXJzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uYXR0cmlidXRlcz8uaXNCdWZmZXJEcmF3aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JhcGhpYy5pc0J1ZmZlckRyYXdpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyYXBoaWMuc291cmNlR3JhcGhpY0lkID0gaXRlbS5hdHRyaWJ1dGVzLnNvdXJjZUdyYXBoaWNJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgYnVmZmVyIGRyYXdpbmcgYXR0cmlidXRlcyBhcmUgcHJlc2VydmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JhcGhpYy5hdHRyaWJ1dGVzLmlzQnVmZmVyRHJhd2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JhcGhpYy5hdHRyaWJ1dGVzLnNvdXJjZUdyYXBoaWNJZCA9IGl0ZW0uYXR0cmlidXRlcy5zb3VyY2VHcmFwaGljSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JhcGhpYy5hdHRyaWJ1dGVzLmJ1ZmZlckRpc3RhbmNlID0gaXRlbS5hdHRyaWJ1dGVzLmJ1ZmZlckRpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyYXBoaWMuYXR0cmlidXRlcy5idWZmZXJVbml0ID0gaXRlbS5hdHRyaWJ1dGVzLmJ1ZmZlclVuaXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVkQnVmZmVyRHJhd2luZ3NDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ1JJVElDQUw6IFJlc3RvcmUgYnVmZmVyIHNldHRpbmdzIFdJVEggb3BhY2l0eSAodjEuMysgZm9ybWF0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS5hdHRyaWJ1dGVzPy5idWZmZXJTZXR0aW5ncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyYXBoaWMuYnVmZmVyU2V0dGluZ3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBpdGVtLmF0dHJpYnV0ZXMuYnVmZmVyU2V0dGluZ3MuZGlzdGFuY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXQ6IGl0ZW0uYXR0cmlidXRlcy5idWZmZXJTZXR0aW5ncy51bml0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBpdGVtLmF0dHJpYnV0ZXMuYnVmZmVyU2V0dGluZ3MuZW5hYmxlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogaXRlbS5hdHRyaWJ1dGVzLmJ1ZmZlclNldHRpbmdzLm9wYWNpdHkgLy8gSW5jbHVkZSBvcGFjaXR5IHJlc3RvcmF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTG9nIHdoYXQgb3BhY2l0eSB3YXMgcmVzdG9yZWQgZm9yIGRlYnVnZ2luZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfk6UgTXlEcmF3aW5nc1BhbmVsOiBSZXN0b3JlZCBidWZmZXIgc2V0dGluZ3MgZm9yIGdyYXBoaWMgJHtncmFwaGljLmF0dHJpYnV0ZXMudW5pcXVlSWR9OmAsIGdyYXBoaWMuYnVmZmVyU2V0dGluZ3MpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JhcGhpYy5idWZmZXJTZXR0aW5ncy5lbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRlZEJ1ZmZlcnNDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRlZERyYXdpbmdzQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRlZERyYXdpbmdzQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuYWRkKGdyYXBoaWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdG9yZWRHcmFwaGljcy5zZXQoZ3JhcGhpYy5hdHRyaWJ1dGVzLnVuaXF1ZUlkLCBncmFwaGljKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyBFcnJvciByZXN0b3JpbmcgZ3JhcGhpYyBhdCBpbmRleCAke2luZGV4fSBmcm9tIGxvY2FsU3RvcmFnZTpgLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZW4sIHJlc3RvcmUgbWVhc3VyZW1lbnQgbGFiZWxzIGFuZCByZS1lc3RhYmxpc2ggcmVsYXRpb25zaGlwcyBXSVRIIGN1c3RvbWl6YXRpb24gc3VwcG9ydFxyXG4gICAgICAgICAgICAgICAgICAgIG1lYXN1cmVtZW50TGFiZWxzRGF0YS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFiZWxHcmFwaGljID0gYXNFeHRlbmRlZEdyYXBoaWMoR3JhcGhpYy5mcm9tSlNPTihpdGVtKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsYWJlbEdyYXBoaWMuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIG1lYXN1cmVtZW50IGxhYmVsIGZsYWdzIGFyZSBzZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzLmlzTWVhc3VyZW1lbnRMYWJlbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbEdyYXBoaWMuYXR0cmlidXRlcy5oaWRlRnJvbUxpc3QgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENSSVRJQ0FMOiBSZXN0b3JlIGN1c3RvbWl6YXRpb24gZmxhZ3MgYW5kIGN1c3RvbSBwb3NpdGlvbiAodjEuNCsgZm9ybWF0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uYXR0cmlidXRlcz8uY3VzdG9taXplZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzLmN1c3RvbWl6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzLmxhc3RNb2RpZmllZCA9IGl0ZW0uYXR0cmlidXRlcy5sYXN0TW9kaWZpZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVkQ3VzdG9taXplZExhYmVsc0NvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+TpSBSZXN0b3JlZCBjdXN0b21pemVkIG1lYXN1cmVtZW50IGxhYmVsOiAke2xhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzPy5uYW1lIHx8ICd1bm5hbWVkJ31gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5hdHRyaWJ1dGVzPy5oYXNDdXN0b21Qb3NpdGlvbiAmJiBpdGVtLmF0dHJpYnV0ZXM/LmN1c3RvbVBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxHcmFwaGljLmF0dHJpYnV0ZXMuaGFzQ3VzdG9tUG9zaXRpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzLmN1c3RvbVBvc2l0aW9uID0gaXRlbS5hdHRyaWJ1dGVzLmN1c3RvbVBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfk6UgUmVzdG9yZWQgY3VzdG9tIHBvc2l0aW9uIGZvciBtZWFzdXJlbWVudCBsYWJlbCBhdDogJHtpdGVtLmF0dHJpYnV0ZXMuY3VzdG9tUG9zaXRpb24ueH0sICR7aXRlbS5hdHRyaWJ1dGVzLmN1c3RvbVBvc2l0aW9uLnl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzdG9yZSBtZWFzdXJlbWVudCB0eXBlIGlmIHByZXNlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmF0dHJpYnV0ZXM/Lm1lYXN1cmVtZW50VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzLm1lYXN1cmVtZW50VHlwZSA9IGl0ZW0uYXR0cmlidXRlcy5tZWFzdXJlbWVudFR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzdG9yZSBhbnkgb3RoZXIgbWVhc3VyZW1lbnQtc3BlY2lmaWMgYXR0cmlidXRlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uYXR0cmlidXRlcz8ubGVuZ3RoVW5pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzLmxlbmd0aFVuaXQgPSBpdGVtLmF0dHJpYnV0ZXMubGVuZ3RoVW5pdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmF0dHJpYnV0ZXM/LmFyZWFVbml0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxHcmFwaGljLmF0dHJpYnV0ZXMuYXJlYVVuaXQgPSBpdGVtLmF0dHJpYnV0ZXMuYXJlYVVuaXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgcGFyZW50IGdyYXBoaWMgYW5kIHJlLWVzdGFibGlzaCB0aGUgcmVsYXRpb25zaGlwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRHcmFwaGljSWQgPSBsYWJlbEdyYXBoaWMuYXR0cmlidXRlcy5wYXJlbnRHcmFwaGljSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudEdyYXBoaWNJZCAmJiByZXN0b3JlZEdyYXBoaWNzLmhhcyhwYXJlbnRHcmFwaGljSWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50R3JhcGhpYyA9IHJlc3RvcmVkR3JhcGhpY3MuZ2V0KHBhcmVudEdyYXBoaWNJZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlLWVzdGFibGlzaCB0aGUgcGFyZW50LWNoaWxkIHJlbGF0aW9uc2hpcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsR3JhcGhpYy5tZWFzdXJlUGFyZW50ID0gcGFyZW50R3JhcGhpYztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHVwIHRoZSBtZWFzdXJlIHByb3BlcnR5IG9uIHRoZSBwYXJlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcmVudEdyYXBoaWMubWVhc3VyZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRHcmFwaGljLm1lYXN1cmUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmFwaGljOiBsYWJlbEdyYXBoaWMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW5ndGhVbml0OiBsYWJlbEdyYXBoaWMuYXR0cmlidXRlcy5sZW5ndGhVbml0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlYVVuaXQ6IGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzLmFyZWFVbml0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdG8gcmVsYXRlZCBtZWFzdXJlbWVudCBsYWJlbHMgaWYgbmVlZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJlbnRHcmFwaGljLmF0dHJpYnV0ZXMucmVsYXRlZE1lYXN1cmVtZW50TGFiZWxzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudEdyYXBoaWMuYXR0cmlidXRlcy5yZWxhdGVkTWVhc3VyZW1lbnRMYWJlbHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50R3JhcGhpYy5hdHRyaWJ1dGVzLnJlbGF0ZWRNZWFzdXJlbWVudExhYmVscy5wdXNoKGxhYmVsR3JhcGhpYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0byByZWxhdGVkIHNlZ21lbnQgbGFiZWxzIGlmIHRoaXMgaXMgYSBzZWdtZW50IG1lYXN1cmVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzLm1lYXN1cmVtZW50VHlwZSA9PT0gJ3NlZ21lbnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGFyZW50R3JhcGhpYy5hdHRyaWJ1dGVzLnJlbGF0ZWRTZWdtZW50TGFiZWxzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRHcmFwaGljLmF0dHJpYnV0ZXMucmVsYXRlZFNlZ21lbnRMYWJlbHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRHcmFwaGljLmF0dHJpYnV0ZXMucmVsYXRlZFNlZ21lbnRMYWJlbHMucHVzaChsYWJlbEdyYXBoaWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmFkZChsYWJlbEdyYXBoaWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRlZExhYmVsc0NvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIEF1dG8tc2tpcHBpbmcgb3JwaGFuZWQgbWVhc3VyZW1lbnQgbGFiZWwgYXQgaW5kZXggJHtpbmRleH0gLSBubyB2YWxpZCBwYXJlbnQgZm91bmRgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyBFcnJvciByZXN0b3JpbmcgbWVhc3VyZW1lbnQgbGFiZWwgYXQgaW5kZXggJHtpbmRleH0gZnJvbSBsb2NhbFN0b3JhZ2U6YCwgZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBGaW5hbGx5LCByZWNyZWF0ZSBhdHRhY2hlZCBidWZmZXJzIGZvciBncmFwaGljcyB0aGF0IGhhZCB0aGVtICh2MS4zKyBmb3JtYXQpXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RvcmVkR3JhcGhpY3MuZm9yRWFjaCgoZ3JhcGhpYywgdW5pcXVlSWQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmFwaGljLmJ1ZmZlclNldHRpbmdzICYmIGdyYXBoaWMuYnVmZmVyU2V0dGluZ3MuZW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuaGFuY2VkOiBMb2cgdGhlIG9wYWNpdHkgYmVpbmcgcmVzdG9yZWQgZm9yIGRlYnVnZ2luZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wYWNpdHlJbmZvID0gZ3JhcGhpYy5idWZmZXJTZXR0aW5ncy5vcGFjaXR5ICE9PSB1bmRlZmluZWQgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgd2l0aCAke2dyYXBoaWMuYnVmZmVyU2V0dGluZ3Mub3BhY2l0eX0lIG9wYWNpdHlgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3dpdGggZGVmYXVsdCBvcGFjaXR5JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDwn5OlIE15RHJhd2luZ3NQYW5lbDogUmVzdG9yaW5nIGJ1ZmZlciBmb3IgZ3JhcGhpYyAke3VuaXF1ZUlkfSAke29wYWNpdHlJbmZvfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfk6UgTXlEcmF3aW5nc1BhbmVsOiBGdWxsIGJ1ZmZlciBzZXR0aW5nczpgLCBKU09OLnN0cmluZ2lmeShncmFwaGljLmJ1ZmZlclNldHRpbmdzLCBudWxsLCAyKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBhc3MgcmVzdG9yZWQ9dHJ1ZSB0byBpbmRpY2F0ZSB0aGlzIGlzIGEgcmVzdG9yYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY3JlYXRlQXR0YWNoZWRCdWZmZXIoZ3JhcGhpYywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWxMb2FkZWQgPSBsb2FkZWREcmF3aW5nc0NvdW50ICsgbG9hZGVkQnVmZmVyRHJhd2luZ3NDb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsTG9hZGVkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoRHJhd2luZ3NGcm9tTGF5ZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3VjY2Vzc01lc3NhZ2UgPSBg4pyFIFN1Y2Nlc3NmdWxseSBsb2FkZWQgJHtsb2FkZWREcmF3aW5nc0NvdW50fSBkcmF3aW5nKHMpYDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2FkZWRCdWZmZXJEcmF3aW5nc0NvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlICs9IGAsICR7bG9hZGVkQnVmZmVyRHJhd2luZ3NDb3VudH0gYnVmZmVyIGRyYXdpbmcocylgO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvYWRlZExhYmVsc0NvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlICs9IGAsICR7bG9hZGVkTGFiZWxzQ291bnR9IG1lYXN1cmVtZW50IGxhYmVsKHMpYDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2FkZWRDdXN0b21pemVkTGFiZWxzQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc01lc3NhZ2UgKz0gYCAoJHtsb2FkZWRDdXN0b21pemVkTGFiZWxzQ291bnR9IGN1c3RvbWl6ZWQpYDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2FkZWRCdWZmZXJzQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc01lc3NhZ2UgKz0gYCwgYW5kIHJlY3JlYXRlZCAke2xvYWRlZEJ1ZmZlcnNDb3VudH0gYXR0YWNoZWQgYnVmZmVyKHMpYDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlICs9IGAgZnJvbSBrZXk6ICR7c3RvcmFnZUtleX1gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhzdWNjZXNzTWVzc2FnZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBtZWFzdXJlbWVudCByZWZyZXNoIGFmdGVyIGxvYWRpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ/Cfk48gVHJpZ2dlcmluZyBtZWFzdXJlbWVudCByZWZyZXNoIGFmdGVyIGxvYWRpbmcgZnJvbSBsb2NhbFN0b3JhZ2UnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURyYXdpbmdzVXBkYXRlKHRoaXMuc3RhdGUuZHJhd2luZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGRpdGlvbmFsIGNsZWFudXAgYWZ0ZXIgbG9hZGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygn8J+nuSBSdW5uaW5nIGF1dG9tYXRpYyBjbGVhbnVwIGFmdGVyIGxvYWRpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFudXBPcnBoYW5lZE1lYXN1cmVtZW50TGFiZWxzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfk4IgTm8gdmFsaWQgZHJhd2luZ3MgbG9hZGVkIGZyb20ga2V5OiAke3N0b3JhZ2VLZXl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDwn5OCIEdyYXBoaWNzIGxheWVyIGlzIG5vdCBlbXB0eTsgc2tpcHBpbmcgbG9hZCBmcm9tIGtleTogJHtzdG9yYWdlS2V5fWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBFcnJvciBwYXJzaW5nIGRyYXdpbmdzIGZyb20gbG9jYWxTdG9yYWdlIGtleTogJHtzdG9yYWdlS2V5fWAsIGVycik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdFcnJvciBsb2FkaW5nIHNhdmVkIGRyYXdpbmdzJywgJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBEZWZlciByZXN0b3JlIHVudGlsIGlkbGUgaWYgcG9zc2libGVcclxuICAgICAgICBpZiAoJ3JlcXVlc3RJZGxlQ2FsbGJhY2snIGluIHdpbmRvdykge1xyXG4gICAgICAgICAgICAod2luZG93IGFzIGFueSkucmVxdWVzdElkbGVDYWxsYmFjayhydW5SZXN0b3JlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1blJlc3RvcmUsIDApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgc2F2ZVRvTG9jYWxTdG9yYWdlID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmFsbG93TG9jYWxTdG9yYWdlID09PSBmYWxzZSB8fCB0aGlzLnN0YXRlLmNvbnNlbnRHcmFudGVkICE9PSB0cnVlKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIENsZWFyIGFueSBleGlzdGluZyB0aW1lb3V0IHRvIGRlYm91bmNlIHJhcGlkIGNhbGxzXHJcbiAgICAgICAgaWYgKHRoaXMuX3NhdmVUb1N0b3JhZ2VUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9zYXZlVG9TdG9yYWdlVGltZW91dCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEZWJvdW5jZSB0aGUgc2F2ZSBvcGVyYXRpb24gLSBvbmx5IHNhdmUgYWZ0ZXIgMiBzZWNvbmRzIG9mIGluYWN0aXZpdHlcclxuICAgICAgICB0aGlzLl9zYXZlVG9TdG9yYWdlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1BY3R1YWxTYXZlKCk7XHJcbiAgICAgICAgfSwgMjAwMCk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBzaG93TG9jYWxBbGVydCA9IChtZXNzYWdlOiBzdHJpbmcsIHR5cGU6ICdzdWNjZXNzJyB8ICdlcnJvcicgfCAnaW5mbycgfCAnd2FybmluZycpID0+IHtcclxuICAgICAgICAvLyBJZiBwYXJlbnQgcHJvdmlkZWQgYSBzaG93QWxlcnQgZnVuY3Rpb24sIHVzZSBpdFxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNob3dBbGVydCkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLnNob3dBbGVydChtZXNzYWdlLCB0eXBlIGFzICdzdWNjZXNzJyB8ICdlcnJvcicgfCAnaW5mbycpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBPdGhlcndpc2UsIHVzZSBpbnRlcm5hbCBzdGF0ZVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhbGVydE1lc3NhZ2U6IG1lc3NhZ2UsIGFsZXJ0VHlwZTogdHlwZSwgc2hvd0FsZXJ0OiB0cnVlIH0pO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zZXRTdGF0ZSh7IHNob3dBbGVydDogZmFsc2UgfSksIDMwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVN5bWJvbFdpdGhvdXRDbG9zaW5nID0gKHN5bWJvbDogYW55LCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZHJhd2luZ3MgPSBbLi4udGhpcy5zdGF0ZS5kcmF3aW5nc107XHJcblxyXG4gICAgICAgIC8vIERlZmVuc2l2ZSBjaGVja1xyXG4gICAgICAgIGlmICghZHJhd2luZ3NbaW5kZXhdKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgRHJhd2luZyBub3QgZm91bmQgYXQgaW5kZXggJHtpbmRleH1gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZyA9IGRyYXdpbmdzW2luZGV4XTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gRW5zdXJlIFNrZXRjaFZpZXdNb2RlbCBleGlzdHMgYW5kIHRhcmdldHMgdGhlIFNBTUUgR3JhcGhpY3NMYXllclxyXG4gICAgICAgICAgICBjb25zdCB2aWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcgPSAodGhpcy5wcm9wcyBhcyBhbnkpLnZpZXcgfHwgKHRoaXMucHJvcHMgYXMgYW55KS5tYXBWaWV3O1xyXG4gICAgICAgICAgICBjb25zdCBsYXllcjogX19lc3JpLkdyYXBoaWNzTGF5ZXIgPSB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXI7XHJcblxyXG4gICAgICAgICAgICBpZiAodmlldyAmJiBsYXllcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNrZXRjaFZpZXdNb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsID0gbmV3IFNrZXRjaFZpZXdNb2RlbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VXBkYXRlT3B0aW9uczogeyBlbmFibGVTY2FsaW5nOiB0cnVlLCBlbmFibGVSb3RhdGlvbjogdHJ1ZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2tldGNoVmlld01vZGVsLmxheWVyICE9PSBsYXllcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmxheWVyID0gbGF5ZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBIYXJkIHJlc2V0IGFueSBzdGFsZSBzdGF0ZSBzbyB1cGRhdGUoKSB3aWxsIHJlbGlhYmx5IGF0dGFjaCBoYW5kbGVzXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jYW5jZWwoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gLS0tIFByZXNlcnZlIGV4aXN0aW5nIGFycm93IG1hcmtlciBmb3IgcG9seWxpbmVzIHNvIHdlIGNhbiByZXN0b3JlIGl0IGFmdGVyIGNvbG9yL3N0eWxlIGNoYW5nZXMgLS0tXHJcbiAgICAgICAgICAgIGxldCBwcmVzZXJ2ZWRBcnJvd01hcmtlcjogYW55ID0gbnVsbDtcclxuICAgICAgICAgICAgbGV0IG5lZWRzQXJyb3dDb2xvclVwZGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgaWYgKGcuZ2VvbWV0cnk/LnR5cGUgPT09ICdwb2x5bGluZScgJiYgZy5zeW1ib2w/LnR5cGUgPT09ICdzaW1wbGUtbGluZScpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWcgPSBnLnN5bWJvbCBhcyBfX2VzcmkuU2ltcGxlTGluZVN5bWJvbDtcclxuICAgICAgICAgICAgICAgIHByZXNlcnZlZEFycm93TWFya2VyID0gKG9yaWcgYXMgYW55KS5tYXJrZXIgfHwgbnVsbDtcclxuICAgICAgICAgICAgICAgIGlmIChwcmVzZXJ2ZWRBcnJvd01hcmtlcikgbmVlZHNBcnJvd0NvbG9yVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAtLS0gRU5EIHByZXNlcnZlIC0tLVxyXG5cclxuICAgICAgICAgICAgLy8gSGFuZGxlIHBvbHlsaW5lOiBlbmZvcmNlIFNpbXBsZUxpbmVTeW1ib2xcclxuICAgICAgICAgICAgaWYgKGcuZ2VvbWV0cnk/LnR5cGUgPT09ICdwb2x5bGluZScpIHtcclxuICAgICAgICAgICAgICAgIGlmICghc3ltYm9sIHx8IHN5bWJvbC50eXBlICE9PSAnc2ltcGxlLWxpbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ltYm9sID0gbmV3IFNpbXBsZUxpbmVTeW1ib2woe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogc3ltYm9sPy5jb2xvciB8fCBbMCwgMCwgMCwgMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBzeW1ib2w/LndpZHRoIHx8IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBzeW1ib2w/LnN0eWxlIHx8ICdzb2xpZCdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ltYm9sID0gc3ltYm9sLmNsb25lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmVzdG9yZSBhcnJvdyBtYXJrZXIgKGFuZCBzeW5jIGl0cyBjb2xvciB0byB0aGUgbGluZSBjb2xvcilcclxuICAgICAgICAgICAgICAgIGlmIChwcmVzZXJ2ZWRBcnJvd01hcmtlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRNYXJrZXIgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHByZXNlcnZlZEFycm93TWFya2VyKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZWVkc0Fycm93Q29sb3JVcGRhdGUpICh1cGRhdGVkTWFya2VyIGFzIGFueSkuY29sb3IgPSAoc3ltYm9sIGFzIGFueSk/LmNvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoc3ltYm9sIGFzIGFueSkubWFya2VyID0gdXBkYXRlZE1hcmtlcjtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHN5bWJvbCBhcyBhbnkpLm1hcmtlciA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IChwcmVzZXJ2ZWRBcnJvd01hcmtlciBhcyBhbnkpLnR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogKHByZXNlcnZlZEFycm93TWFya2VyIGFzIGFueSkuc3R5bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6IChwcmVzZXJ2ZWRBcnJvd01hcmtlciBhcyBhbnkpLnBsYWNlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBuZWVkc0Fycm93Q29sb3JVcGRhdGUgPyAoc3ltYm9sIGFzIGFueSk/LmNvbG9yIDogKHByZXNlcnZlZEFycm93TWFya2VyIGFzIGFueSkuY29sb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gRm9yIG90aGVyIHR5cGVzLCBlbnN1cmUgd2UncmUgd29ya2luZyB3aXRoIGEgY2xvbmVcclxuICAgICAgICAgICAgICAgIGlmIChzeW1ib2wpIHtcclxuICAgICAgICAgICAgICAgICAgICBzeW1ib2wgPSBzeW1ib2wuY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSGFuZGxlIHRleHQ6IGVuc3VyZSBUZXh0U3ltYm9sIGhhcyByZXF1aXJlZCBwcm9wc1xyXG4gICAgICAgICAgICBpZiAoc3ltYm9sPy50eXBlID09PSAndGV4dCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRTeW1ib2wgPSBzeW1ib2wgYXMgVGV4dFN5bWJvbDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRleHRTeW1ib2wuY29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0U3ltYm9sLmNvbG9yID0gbmV3IENvbG9yKFswLCAwLCAwLCAxXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF0ZXh0U3ltYm9sLmZvbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0U3ltYm9sLmZvbnQgPSBuZXcgRm9udCh7IHNpemU6IDEyIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgcmVxdWlyZWQgZm9udCBmaWVsZHMgZXhpc3Qgd2l0aCBhIG5ldyBGb250IG9iamVjdFxyXG4gICAgICAgICAgICAgICAgICAgIHRleHRTeW1ib2wuZm9udCA9IG5ldyBGb250KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFtaWx5OiB0ZXh0U3ltYm9sLmZvbnQuZmFtaWx5IHx8ICdBcmlhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IHRleHRTeW1ib2wuZm9udC5zaXplIHx8IDEyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogdGV4dFN5bWJvbC5mb250LnN0eWxlIHx8ICdub3JtYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IHRleHRTeW1ib2wuZm9udC53ZWlnaHQgfHwgJ25vcm1hbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY29yYXRpb246IHRleHRTeW1ib2wuZm9udC5kZWNvcmF0aW9uIHx8ICdub25lJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdGV4dFN5bWJvbC50ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFN5bWJvbC50ZXh0ID0gZy5hdHRyaWJ1dGVzPy5uYW1lIHx8ICdMYWJlbCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc3ltYm9sID0gdGV4dFN5bWJvbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQXBwbHkgdGhlIHN5bWJvbCBJTiBQTEFDRSAoa2VlcHMgaW5zdGFuY2UgdGllcylcclxuICAgICAgICAgICAgdGhpcy5pZ25vcmVOZXh0R3JhcGhpY3NVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBnLnN5bWJvbCA9IHN5bWJvbDtcclxuICAgICAgICAgICAgZHJhd2luZ3NbaW5kZXhdID0gZztcclxuXHJcbiAgICAgICAgICAgIC8vIEZvcmNlIGEgdmlzdWFsIHJlZnJlc2ggb2YgdGhlIGxheWVyIHJlY29yZCAoYnJpZWYgcmVtb3ZlL2FkZCksIHRoZW4gcmUtc2VsZWN0XHJcbiAgICAgICAgICAgIGlmIChsYXllcikge1xyXG4gICAgICAgICAgICAgICAgbGF5ZXIucmVtb3ZlKGcpO1xyXG4gICAgICAgICAgICAgICAgbGF5ZXIuYWRkKGcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZXNlbGVjdCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNrZXRjaFZpZXdNb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLnVwZGF0ZShbZ10sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2w6ICd0cmFuc2Zvcm0nLCAgICAgICAgICAvLyBzaG93cyBibHVlIGhhbmRsZXMgcmVsaWFibHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZVJvdGF0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlU2NhbGluZzogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignU2tldGNoVmlld01vZGVsLnVwZGF0ZSBmYWlsZWQgdG8gcmVzZWxlY3QgZ3JhcGhpYzonLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIFRyeSBpbW1lZGlhdGVseSBhbmQgYWdhaW4gb24gbmV4dCBmcmFtZSAoY292ZXJzIHJhY2UgYWZ0ZXIgcmVtb3ZlL2FkZClcclxuICAgICAgICAgICAgcmVzZWxlY3QoKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVzZWxlY3QpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChyZXNlbGVjdCwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzdGF0ZSBhbmQgcGVyc2lzdCB0byBsb2NhbFN0b3JhZ2VcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRyYXdpbmdzIH0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICgodGhpcy5wcm9wcy5hbGxvd0xvY2FsU3RvcmFnZSAhPT0gZmFsc2UpICYmIHRoaXMuc3RhdGUuY29uc2VudEdyYW50ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmVUb0xvY2FsU3RvcmFnZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25EcmF3aW5nc1VwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25EcmF3aW5nc1VwZGF0ZShkcmF3aW5ncyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBzeW1ib2w6JywgZXJyKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93TG9jYWxBbGVydCgnRXJyb3IgdXBkYXRpbmcgc3ltYm9sJywgJ2Vycm9yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG5cclxuICAgIGlzU3VwcG9ydGVkU3ltYm9sID0gKHN5bWJvbDogYW55LCBnZW9tZXRyeVR5cGU/OiBzdHJpbmcpOiBib29sZWFuID0+IHtcclxuICAgICAgICBpZiAoIXN5bWJvbCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBBbHdheXMgY29uc2lkZXIgcG9seWxpbmVzIGFzIHN1cHBvcnRlZCwgcmVnYXJkbGVzcyBvZiBzeW1ib2wgdHlwZVxyXG4gICAgICAgIGlmIChnZW9tZXRyeVR5cGUgPT09ICdwb2x5bGluZScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIEFsbG93IGFsbCBwb2x5bGluZSBzeW1ib2xzXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZ2VvbWV0cnlUeXBlID09PSAncG9pbnQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzeW1ib2wudHlwZSAmJiBbJ3NpbXBsZS1tYXJrZXInLCAncGljdHVyZS1tYXJrZXInLCAndGV4dCddLmluY2x1ZGVzKHN5bWJvbC50eXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGdlb21ldHJ5VHlwZSA9PT0gJ3BvbHlnb24nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzeW1ib2wudHlwZSA9PT0gJ3NpbXBsZS1maWxsJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICBlbnN1cmVNYXBWaWV3UmVhZHkgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmppbXVNYXBWaWV3Py52aWV3KSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIEVuc3VyZSB2aWV3IGlzIHJlYWR5XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy53aGVuKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBBbHNvIGVuc3VyZSBsYXllciB2aWV3IGZvciBncmFwaGljcyBsYXllciBpcyByZWFkeVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5ncmFwaGljc0xheWVyKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcud2hlbkxheWVyVmlldyh0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRXJyb3IgZW5zdXJpbmcgbWFwIHZpZXcgcmVhZHk6XCIsIGVycik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIE1ldGhvZHMgZm9yIGNvbmZpcm1hdGlvbiBkaWFsb2cgaGFuZGxpbmdcclxuICAgIG9wZW5Db25maXJtRGlhbG9nID0gKG1lc3NhZ2U6IHN0cmluZywgdHlwZTogJ2RlbGV0ZScgfCAnY2xlYXJBbGwnLCBhY3Rpb246ICgpID0+IHZvaWQsIGl0ZW1JbmRleDogbnVtYmVyID0gLTEpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgY29uZmlybURpYWxvZ09wZW46IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpcm1EaWFsb2dNZXNzYWdlOiBtZXNzYWdlLFxyXG4gICAgICAgICAgICBjb25maXJtRGlhbG9nQWN0aW9uOiBhY3Rpb24sXHJcbiAgICAgICAgICAgIGNvbmZpcm1EaWFsb2dUeXBlOiB0eXBlLFxyXG4gICAgICAgICAgICBjb25maXJtRGlhbG9nSXRlbUluZGV4OiBpdGVtSW5kZXggPj0gMCA/IGl0ZW1JbmRleCA6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZUNvbmZpcm1EaWFsb2cgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGNvbmZpcm1EaWFsb2dPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgY29uZmlybURpYWxvZ0FjdGlvbjogbnVsbCxcclxuICAgICAgICAgICAgY29uZmlybURpYWxvZ0l0ZW1JbmRleDogbnVsbFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGVDb25maXJtQWN0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIEV4ZWN1dGUgdGhlIHN0b3JlZCBhY3Rpb25cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb25maXJtRGlhbG9nQWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuY29uZmlybURpYWxvZ0FjdGlvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2xvc2UgdGhlIGRpYWxvZ1xyXG4gICAgICAgIHRoaXMuY2xvc2VDb25maXJtRGlhbG9nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ29weURyYXdpbmcgPSAoaW5kZXg6IG51bWJlciwgZXZlbnQ/OiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgLy8gQ2hlY2sgY29uc2VudFxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmNvbnNlbnRHcmFudGVkICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xvY2FsQWxlcnQoJ015IERyYXdpbmdzIGZlYXR1cmUgcmVxdWlyZXMgbG9jYWwgc3RvcmFnZSBwZXJtaXNzaW9uJywgJ3dhcm5pbmcnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU3RvcCBldmVudCBwcm9wYWdhdGlvbiBpZiBwcm92aWRlZFxyXG4gICAgICAgIGlmIChldmVudCkge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgZ3JhcGhpYyB0byBjb3B5XHJcbiAgICAgICAgICAgIGNvbnN0IGdyYXBoaWNUb0NvcHkgPSB0aGlzLnN0YXRlLmRyYXdpbmdzW2luZGV4XTtcclxuICAgICAgICAgICAgaWYgKCFncmFwaGljVG9Db3B5KSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAvLyBDbG9uZSB0aGUgZ3JhcGhpY1xyXG4gICAgICAgICAgICBjb25zdCBncmFwaGljSnNvbiA9IGdyYXBoaWNUb0NvcHkudG9KU09OKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0dyYXBoaWMgPSBHcmFwaGljLmZyb21KU09OKGdyYXBoaWNKc29uKSBhcyBFeHRlbmRlZEdyYXBoaWM7XHJcblxyXG4gICAgICAgICAgICAvLyBNb2RpZnkgYXR0cmlidXRlcyBmb3IgdGhlIG5ldyBjb3B5XHJcbiAgICAgICAgICAgIGlmICghbmV3R3JhcGhpYy5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdHcmFwaGljLmF0dHJpYnV0ZXMgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgbmV3IHVuaXF1ZUlkXHJcbiAgICAgICAgICAgIG5ld0dyYXBoaWMuYXR0cmlidXRlcy51bmlxdWVJZCA9IGBjb3B5XyR7RGF0ZS5ub3coKX1fJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKX1gO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBuYW1lIHRvIGluZGljYXRlIGl0J3MgYSBjb3B5XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsTmFtZSA9IGdyYXBoaWNUb0NvcHkuYXR0cmlidXRlcz8ubmFtZSB8fCBgRHJhd2luZyAke2luZGV4ICsgMX1gO1xyXG4gICAgICAgICAgICBuZXdHcmFwaGljLmF0dHJpYnV0ZXMubmFtZSA9IGBDb3B5IG9mICR7b3JpZ2luYWxOYW1lfWA7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgY3JlYXRpb24gZGF0ZSB0byBub3dcclxuICAgICAgICAgICAgbmV3R3JhcGhpYy5hdHRyaWJ1dGVzLmNyZWF0ZWREYXRlID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE1hcmsgdGhhdCB3ZSdyZSBhYm91dCB0byB1cGRhdGUgdGhlIGdyYXBoaWNzIGxheWVyXHJcbiAgICAgICAgICAgIHRoaXMuaWdub3JlTmV4dEdyYXBoaWNzVXBkYXRlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCB0byB0aGUgZ3JhcGhpY3MgbGF5ZXJcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmFkZChuZXdHcmFwaGljKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlZnJlc2ggZHJhd2luZ3MgZnJvbSBsYXllciB0byB1cGRhdGUgdGhlIFVJXHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaERyYXdpbmdzRnJvbUxheWVyKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBGSVhFRDogVXNlIHRoZSBuZXcgaGFuZGxlRHJhd2luZ3NVcGRhdGUgbWV0aG9kIHdpdGggcHJvcGVyIHN0YXRlIGFjY2Vzc1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ/Cfk4sgR3JhcGhpYyBjb3BpZWQsIHRyaWdnZXJpbmcgbWVhc3VyZW1lbnQgcmVmcmVzaCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgdXBkYXRlZCBkcmF3aW5ncyBmcm9tIHN0YXRlIGFmdGVyIHJlZnJlc2hcclxuICAgICAgICAgICAgICAgIC8vIE5vdGU6IFdlIG5lZWQgdG8gYWNjZXNzIHRoZSB1cGRhdGVkIHN0YXRlLCBzbyB3ZSdsbCB1c2UgYSBjYWxsYmFjayBhcHByb2FjaFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciB0aGUgbWVhc3VyZW1lbnQgdXBkYXRlIHdpdGggdGhlIGN1cnJlbnQgZHJhd2luZ3NcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURyYXdpbmdzVXBkYXRlKHByZXZTdGF0ZS5kcmF3aW5ncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTsgLy8gRG9uJ3QgYWN0dWFsbHkgY2hhbmdlIHN0YXRlLCBqdXN0IHVzZSB0aGUgY2FsbGJhY2sgdG8gYWNjZXNzIGN1cnJlbnQgc3RhdGVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LCAyMDApO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgY29weWluZyBncmFwaGljOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93TG9jYWxBbGVydCgnRXJyb3IgY29weWluZyBkcmF3aW5nJywgJ2Vycm9yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBoYW5kbGVEZWxldGVHcmFwaGljID0gKGluZGV4OiBudW1iZXIsIGV2ZW50PzogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIC8vIENoZWNrIGNvbnNlbnRcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdNeSBEcmF3aW5ncyBmZWF0dXJlIHJlcXVpcmVzIGxvY2FsIHN0b3JhZ2UgcGVybWlzc2lvbicsICd3YXJuaW5nJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0b3AgZXZlbnQgcHJvcGFnYXRpb24gaWYgcHJvdmlkZWRcclxuICAgICAgICBpZiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDUklUSUNBTDogQ2FuY2VsIGFueSBhY3RpdmUgU2tldGNoVmlld01vZGVsIG9wZXJhdGlvbnMgSU1NRURJQVRFTFlcclxuICAgICAgICBpZiAodGhpcy5za2V0Y2hWaWV3TW9kZWwpIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+bkSBDYW5jZWxpbmcgU2tldGNoVmlld01vZGVsIGJlZm9yZSBkZWxldGlvbmApO1xyXG4gICAgICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jYW5jZWwoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCBkZWxldGlvbiBmbGFnIHRvIHByZXZlbnQgaW50ZXJmZXJlbmNlXHJcbiAgICAgICAgdGhpcy5faXNEZWxldGluZ0dyYXBoaWMgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyBJZiBjb25maXJtYXRpb24gaXMgcmVxdWlyZWQsIHNob3cgdGhlIGN1c3RvbSBjb25maXJtYXRpb24gZGlhbG9nXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY29uZmlybU9uRGVsZXRlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBjb25zdCBkZWxldGVBY3Rpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBlcmZvcm1EZWxldGVHcmFwaGljKGluZGV4KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3BlbkNvbmZpcm1EaWFsb2coXHJcbiAgICAgICAgICAgICAgICAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIGRyYXdpbmc/JyxcclxuICAgICAgICAgICAgICAgICdkZWxldGUnLFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlQWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgaW5kZXhcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJZiBubyBjb25maXJtYXRpb24gbmVlZGVkLCBkZWxldGUgZGlyZWN0bHlcclxuICAgICAgICAgICAgdGhpcy5wZXJmb3JtRGVsZXRlR3JhcGhpYyhpbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZpeE1lYXN1cmVtZW50TGFiZWxTdHlsZXMgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gQ09NUExFVEVMWSBESVNBQkxFIGlmIGFscmVhZHkgcnVuIG9uY2VcclxuICAgICAgICBpZiAodGhpcy5tZWFzdXJlbWVudFN0eWxlc0luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJNZWFzdXJlbWVudCBzdHlsaW5nIGRpc2FibGVkIC0gYWxyZWFkeSBpbml0aWFsaXplZFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIlJ1bm5pbmcgbWVhc3VyZW1lbnQgbGFiZWwgc3R5bGluZyBPTkNFIE9OTFlcIik7XHJcblxyXG4gICAgICAgIC8vIFByb2Nlc3MgZXhpc3RpbmcgbWVhc3VyZW1lbnQgbGFiZWxzIE9OQ0UgYW5kIE9OTFkgT05DRVxyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nR3JhcGhpY3MgPSB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuZ3JhcGhpY3MudG9BcnJheSgpO1xyXG4gICAgICAgIGxldCBwcm9jZXNzZWRDb3VudCA9IDA7XHJcblxyXG4gICAgICAgIGV4aXN0aW5nR3JhcGhpY3MuZm9yRWFjaChncmFwaGljID0+IHtcclxuICAgICAgICAgICAgLy8gT25seSBwcm9jZXNzIG1lYXN1cmVtZW50IGxhYmVscyB0aGF0IGhhdmVuJ3QgYmVlbiBmaXhlZCB5ZXQgQU5EIG5lZWQgZml4aW5nXHJcbiAgICAgICAgICAgIGlmIChncmFwaGljICYmXHJcbiAgICAgICAgICAgICAgICBncmFwaGljLmF0dHJpYnV0ZXMgJiZcclxuICAgICAgICAgICAgICAgIGdyYXBoaWMuYXR0cmlidXRlcy5pc01lYXN1cmVtZW50TGFiZWwgJiZcclxuICAgICAgICAgICAgICAgIGdyYXBoaWMuc3ltYm9sICYmXHJcbiAgICAgICAgICAgICAgICBncmFwaGljLnN5bWJvbC50eXBlID09PSAndGV4dCcgJiZcclxuICAgICAgICAgICAgICAgICFncmFwaGljLmF0dHJpYnV0ZXMuX3N0eWxlRml4ZWQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ1N5bWJvbCA9IGdyYXBoaWMuc3ltYm9sIGFzIF9fZXNyaS5UZXh0U3ltYm9sO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHN5bWJvbCBhbHJlYWR5IGhhcyBwcm9wZXIgc3R5bGluZyAtIGlmIHNvLCBkb24ndCBtb2RpZnkgaXRcclxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ1N5bWJvbC5jb2xvciAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nU3ltYm9sLmZvbnQgJiZcclxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1N5bWJvbC5oYWxvQ29sb3IgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nU3ltYm9sLmhhbG9TaXplICE9PSB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTWFyayBhcyBwcm9jZXNzZWQgYnV0IGRvbid0IGNoYW5nZSB0aGUgc3ltYm9sXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFncmFwaGljLmF0dHJpYnV0ZXMpIGdyYXBoaWMuYXR0cmlidXRlcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGdyYXBoaWMuYXR0cmlidXRlcy5fc3R5bGVGaXhlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gT25seSBhcHBseSBjbGVhbiBzeW1ib2wgaWYgaXQncyBtaXNzaW5nIGVzc2VudGlhbCBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYWJlbFRleHQgPSBncmFwaGljLnN5bWJvbC50ZXh0O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIG1pbmltYWwgY2xlYW4gc3ltYm9sIHByZXNlcnZpbmcgZXhpc3RpbmcgcHJvcGVydGllc1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2xlYW5TeW1ib2wgPSBleGlzdGluZ1N5bWJvbC5jbG9uZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIE9ubHkgc2V0IG1pc3NpbmcgcHJvcGVydGllc1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjbGVhblN5bWJvbC50ZXh0KSBjbGVhblN5bWJvbC50ZXh0ID0gbGFiZWxUZXh0O1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjbGVhblN5bWJvbC5jb2xvcikgY2xlYW5TeW1ib2wuY29sb3IgPSBuZXcgQ29sb3IoWzAsIDAsIDAsIDFdKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWNsZWFuU3ltYm9sLmZvbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhblN5bWJvbC5mb250ID0gbmV3IEZvbnQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYW1pbHk6IFwiQXJpYWxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogMTIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodDogXCJub3JtYWxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwibm9ybWFsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY29yYXRpb246IFwibm9uZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gT25seSBzZXQgaGFsbyBpZiBpdCBkb2Vzbid0IGV4aXN0XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW5TeW1ib2wuaGFsb0NvbG9yID09PSBudWxsICYmIGNsZWFuU3ltYm9sLmhhbG9TaXplID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYW5TeW1ib2wuaGFsb0NvbG9yID0gbmV3IENvbG9yKFsyNTUsIDI1NSwgMjU1LCAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYW5TeW1ib2wuaGFsb1NpemUgPSAyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghY2xlYW5TeW1ib2wuaG9yaXpvbnRhbEFsaWdubWVudCkgY2xlYW5TeW1ib2wuaG9yaXpvbnRhbEFsaWdubWVudCA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNsZWFuU3ltYm9sLnZlcnRpY2FsQWxpZ25tZW50KSBjbGVhblN5bWJvbC52ZXJ0aWNhbEFsaWdubWVudCA9IFwibWlkZGxlXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmVwbGFjZSB0aGUgc3ltYm9sXHJcbiAgICAgICAgICAgICAgICBncmFwaGljLnN5bWJvbCA9IGNsZWFuU3ltYm9sO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIE1hcmsgdGhpcyBncmFwaGljIGFzIGZpeGVkIHNvIHdlIE5FVkVSIHByb2Nlc3MgaXQgYWdhaW5cclxuICAgICAgICAgICAgICAgIGlmICghZ3JhcGhpYy5hdHRyaWJ1dGVzKSBncmFwaGljLmF0dHJpYnV0ZXMgPSB7fTtcclxuICAgICAgICAgICAgICAgIGdyYXBoaWMuYXR0cmlidXRlcy5fc3R5bGVGaXhlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKGBQcm9jZXNzZWQgJHtwcm9jZXNzZWRDb3VudH0gbWVhc3VyZW1lbnQgbGFiZWxzIC0gV0lMTCBORVZFUiBSVU4gQUdBSU5gKTtcclxuXHJcbiAgICAgICAgLy8gTWFyayBhcyBpbml0aWFsaXplZCBzbyB3ZSBORVZFUiBydW4gdGhpcyBhZ2FpblxyXG4gICAgICAgIHRoaXMubWVhc3VyZW1lbnRTdHlsZXNJbml0aWFsaXplZCA9IHRydWU7XHJcblxyXG4gICAgICAgLy9jb25zb2xlLmxvZyhcIk1lYXN1cmVtZW50IGxhYmVsIGF1dG8tc3R5bGluZyBwZXJtYW5lbnRseSBkaXNhYmxlZFwiKTtcclxuICAgIH07XHJcblxyXG4gICAgZGlzYWJsZU1lYXN1cmVtZW50TGFiZWxTdHlsZXMgPSAoKSA9PiB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIk1lYXN1cmVtZW50IGxhYmVsIHN0eWxpbmcgY29tcGxldGVseSBkaXNhYmxlZFwiKTtcclxuICAgICAgICAvLyBEbyBub3RoaW5nIC0gbGV0IG1lYXN1cmVtZW50IGxhYmVscyBrZWVwIHRoZWlyIG9yaWdpbmFsIHN0eWxlc1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBNb2RpZmllZCBoYW5kbGVDbGVhckFsbENsaWNrIG1ldGhvZFxyXG4gICAgaGFuZGxlQ2xlYXJBbGxDbGljayA9ICgpID0+IHtcclxuICAgICAgICAvLyBDaGVjayBjb25zZW50XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY29uc2VudEdyYW50ZWQgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93TG9jYWxBbGVydCgnTXkgRHJhd2luZ3MgZmVhdHVyZSByZXF1aXJlcyBsb2NhbCBzdG9yYWdlIHBlcm1pc3Npb24nLCAnd2FybmluZycpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBjb25maXJtYXRpb24gaXMgcmVxdWlyZWQsIHNob3cgdGhlIGN1c3RvbSBjb25maXJtYXRpb24gZGlhbG9nXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY29uZmlybU9uRGVsZXRlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBjb25zdCBjbGVhckFsbEFjdGlvbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGVyZm9ybUNsZWFyQWxsKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9wZW5Db25maXJtRGlhbG9nKFxyXG4gICAgICAgICAgICAgICAgJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgQUxMIGRyYXdpbmdzPycsXHJcbiAgICAgICAgICAgICAgICAnY2xlYXJBbGwnLFxyXG4gICAgICAgICAgICAgICAgY2xlYXJBbGxBY3Rpb25cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJZiBubyBjb25maXJtYXRpb24gbmVlZGVkLCBjbGVhciBhbGwgZGlyZWN0bHlcclxuICAgICAgICAgICAgdGhpcy5wZXJmb3JtQ2xlYXJBbGwoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcGVyZm9ybUNsZWFyQWxsID0gKCkgPT4ge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coYPCfl5HvuI8gU3RhcnRpbmcgY2xlYXIgYWxsIG9wZXJhdGlvbiBmb3IgJHt0aGlzLnN0YXRlLmRyYXdpbmdzLmxlbmd0aH0gZHJhd2luZ3NgKTtcclxuXHJcbiAgICAgICAgLy8g4pyFIENhcHR1cmUgb3JpZ2luYWwgbWVhc3VyZW1lbnQgc3RhdGUgKHByb3h5ID0gYW55IG1lYXN1cmVtZW50IGxhYmVscyBwcmVzZW50KVxyXG4gICAgICAgIHRoaXMuX21lYXN1cmVtZW50V2FzRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdyYXBoaWNzID0gdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmdyYXBoaWNzLnRvQXJyYXkoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21lYXN1cmVtZW50V2FzRW5hYmxlZCA9IGdyYXBoaWNzLnNvbWUoZyA9PiBnPy5hdHRyaWJ1dGVzPy5pc01lYXN1cmVtZW50TGFiZWwgPT09IHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NvdWxkIG5vdCBpbmZlciBtZWFzdXJlbWVudCBzdGF0ZSBmcm9tIGxheWVyOyBkZWZhdWx0aW5nIHRvIG9mZi4nLCBlKTtcclxuICAgICAgICAgICAgdGhpcy5fbWVhc3VyZW1lbnRXYXNFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDwn5SEIFRlbXBvcmFyaWx5IGRpc2FibGUgbWVhc3VyZW1lbnRzIGR1cmluZyBidWxrIGRlbGV0aW9uXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25NZWFzdXJlbWVudFN5c3RlbUNvbnRyb2wpIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygn8J+bkSBUZW1wb3JhcmlseSBkaXNhYmxpbmcgbWVhc3VyZW1lbnRzIGZvciBidWxrIGRlbGV0aW9uJyk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25NZWFzdXJlbWVudFN5c3RlbUNvbnRyb2woZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2V0IGRlbGV0aW9uIGZsYWcgdG8gcHJldmVudCBpbnRlcmZlcmVuY2VcclxuICAgICAgICB0aGlzLl9pc0RlbGV0aW5nR3JhcGhpYyA9IHRydWU7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIFNURVAgMTogRm9yY2UgY2FuY2VsIGFueSBTa2V0Y2hWaWV3TW9kZWwgb3BlcmF0aW9uc1xyXG4gICAgICAgICAgICBpZiAodGhpcy5za2V0Y2hWaWV3TW9kZWwpIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfm5EgQ2FuY2VsaW5nIFNrZXRjaFZpZXdNb2RlbCBiZWZvcmUgY2xlYXJpbmcgYWxsYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jYW5jZWwoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU1RFUCAyOiBDbGVhbiB1cCBtZWFzdXJlbWVudCBsYWJlbHMgZm9yIGFsbCBkcmF3aW5ncyBCRUZPUkUgY2xlYXJpbmdcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+nuSBDbGVhbmluZyB1cCBtZWFzdXJlbWVudCBsYWJlbHMgZm9yIGFsbCBkcmF3aW5nc2ApO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmRyYXdpbmdzLmZvckVhY2goZ3JhcGhpYyA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDwn6e5IENsZWFuaW5nIG1lYXN1cmVtZW50cyBmb3I6ICR7Z3JhcGhpYy5hdHRyaWJ1dGVzPy5uYW1lIHx8ICd1bm5hbWVkJ31gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlTWVhc3VyZW1lbnRMYWJlbHMoZ3JhcGhpYyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gU1RFUCAzOiBNYXJrIHRoYXQgd2UncmUgYWJvdXQgdG8gdXBkYXRlIHRoZSBncmFwaGljcyBsYXllclxyXG4gICAgICAgICAgICB0aGlzLmlnbm9yZU5leHRHcmFwaGljc1VwZGF0ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAvLyBTVEVQIDQ6IFJlbW92ZSBhbGwgZ3JhcGhpY3MgZnJvbSB0aGUgbGF5ZXJcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+Xke+4jyBSZW1vdmluZyBhbGwgZ3JhcGhpY3MgZnJvbSBsYXllcmApO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIucmVtb3ZlQWxsKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBTVEVQIDU6IEFVVE9NQVRJQyBDTEVBTlVQIGFmdGVyIGNsZWFyaW5nIGFsbFxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfp7kgUnVubmluZyBhdXRvbWF0aWMgb3JwaGFuIGNsZWFudXAgYWZ0ZXIgY2xlYXIgYWxsYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFudXBPcnBoYW5lZE1lYXN1cmVtZW50TGFiZWxzKCk7XHJcbiAgICAgICAgICAgIH0sIDIwMCk7XHJcblxyXG4gICAgICAgICAgICAvLyBTVEVQIDY6IFVwZGF0ZSBzdGF0ZVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGRyYXdpbmdzOiBbXSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkR3JhcGhpY0luZGV4OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRHcmFwaGljczogbmV3IFNldDxudW1iZXI+KCksXHJcbiAgICAgICAgICAgICAgICBzeW1ib2xFZGl0aW5nSW5kZXg6IG51bGxcclxuICAgICAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg4pyFIFN0YXRlIGNsZWFyZWQgLSBhbGwgZHJhd2luZ3MgcmVtb3ZlZGApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNhdmUgdG8gbG9jYWxTdG9yYWdlIGlmIGNvbnNlbnQgZ3JhbnRlZFxyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLnByb3BzLmFsbG93TG9jYWxTdG9yYWdlICE9PSBmYWxzZSkgJiYgdGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTm90aWZ5IHBhcmVudCBpZiBuZWVkZWRcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uRHJhd2luZ3NVcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uRHJhd2luZ3NVcGRhdGUoW10pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIOKchSBSZS1lbmFibGUgbWVhc3VyZW1lbnRzIE9OTFkgaWYgdGhleSB3ZXJlIG9yaWdpbmFsbHkgZW5hYmxlZFxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25NZWFzdXJlbWVudFN5c3RlbUNvbnRyb2wgJiYgdGhpcy5fbWVhc3VyZW1lbnRXYXNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygn8J+foiBSZXN0b3JpbmcgbWVhc3VyZW1lbnQgc3lzdGVtICh3YXMgb3JpZ2luYWxseSBPTiknKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uTWVhc3VyZW1lbnRTeXN0ZW1Db250cm9sKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENsZWFyIGRlbGV0aW9uIGZsYWdcclxuICAgICAgICAgICAgICAgIHRoaXMuX2lzRGVsZXRpbmdHcmFwaGljID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU1RFUCA3OiBGaW5hbCB2ZXJpZmljYXRpb25cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmVyaWZ5TGF5ZXJTdGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbmFsIGNsZWFudXAgdG8gZW5zdXJlIGV2ZXJ5dGhpbmcgaXMgY2xlYW5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFudXBPcnBoYW5lZE1lYXN1cmVtZW50TGFiZWxzKCk7XHJcbiAgICAgICAgICAgICAgICB9LCA1MDApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYOKchSBDbGVhciBhbGwgb3BlcmF0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlgKTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGNsZWFyaW5nIGdyYXBoaWNzOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5faXNEZWxldGluZ0dyYXBoaWMgPSBmYWxzZTsgLy8gQWx3YXlzIGNsZWFyIHRoZSBmbGFnXHJcblxyXG4gICAgICAgICAgICAvLyDinIUgUmVzdG9yZSBtZWFzdXJlbWVudCBzeXN0ZW0gT05MWSBpZiBpdCB3YXMgb3JpZ2luYWxseSBlbmFibGVkXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uTWVhc3VyZW1lbnRTeXN0ZW1Db250cm9sICYmIHRoaXMuX21lYXN1cmVtZW50V2FzRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbk1lYXN1cmVtZW50U3lzdGVtQ29udHJvbCh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zaG93TG9jYWxBbGVydCgnRXJyb3IgY2xlYXJpbmcgZHJhd2luZ3MnLCAnZXJyb3InKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlZnJlc2ggZnJvbSBsYXllciB0byBlbnN1cmUgc3RhdGUgaXMgY29uc2lzdGVudFxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDwn5SEIFJlZnJlc2hpbmcgZnJvbSBsYXllciBkdWUgdG8gZXJyb3JgKTtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoRHJhd2luZ3NGcm9tTGF5ZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIE1ldGhvZHMgZm9yIGltcG9ydCBkaWFsb2cgaGFuZGxpbmdcclxuICAgIGhhbmRsZUltcG9ydCA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xyXG4gICAgICAgIC8vIENoZWNrIGNvbnNlbnRcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdNeSBEcmF3aW5ncyBmZWF0dXJlIHJlcXVpcmVzIGxvY2FsIHN0b3JhZ2UgcGVybWlzc2lvbicsICd3YXJuaW5nJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlcz8uWzBdO1xyXG4gICAgICAgIGlmICghZmlsZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBmaWxlIGV4dGVuc2lvbiBmb3IgdXNlciBmZWVkYmFja1xyXG4gICAgICAgIGNvbnN0IGZpbGVOYW1lID0gZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgY29uc3QgaXNWYWxpZEZpbGUgPSBmaWxlTmFtZS5lbmRzV2l0aCgnLmpzb24nKSB8fCBmaWxlTmFtZS5lbmRzV2l0aCgnLmdlb2pzb24nKTtcclxuXHJcbiAgICAgICAgaWYgKCFpc1ZhbGlkRmlsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdQbGVhc2Ugc2VsZWN0IGEgSlNPTiBvciBHZW9KU09OIGZpbGUnLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICByZWFkZXIub25sb2FkID0gKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGV2dC50YXJnZXQ/LnJlc3VsdCBhcyBzdHJpbmc7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgaXQncyBKU09OIGZpcnN0IGJlZm9yZSBzaG93aW5nIGRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgSlNPTi5wYXJzZShjb250ZW50KTsgLy8gVGhpcyB3aWxsIHRocm93IGlmIGludmFsaWRcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTdG9yZSB0aGUgZmlsZSBjb250ZW50IGluIHN0YXRlIGFuZCBvcGVuIHRoZSBkaWFsb2dcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydEZpbGU6IGZpbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0RmlsZUNvbnRlbnQ6IGNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0RGlhbG9nT3BlbjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBmaWxlOicsIGVycik7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsZU5hbWUuZW5kc1dpdGgoJy5nZW9qc29uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdJbnZhbGlkIEdlb0pTT04gZmlsZSBmb3JtYXQnLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9jYWxBbGVydCgnSW52YWxpZCBKU09OIGZpbGUgZm9ybWF0JywgJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBDbGVhciB0aGUgZmlsZSBpbnB1dFxyXG4gICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdFcnJvciByZWFkaW5nIGZpbGUnLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGZpbGUgaW5wdXRcclxuICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPSAnJztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcclxuXHJcbiAgICAgICAgLy8gQ2xlYXIgdGhlIGZpbGUgaW5wdXQgYWZ0ZXIgcmVhZGluZyBzdGFydHNcclxuICAgICAgICBlLnRhcmdldC52YWx1ZSA9ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlSW1wb3J0RGlhbG9nID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpbXBvcnREaWFsb2dPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgaW1wb3J0RmlsZTogbnVsbCxcclxuICAgICAgICAgICAgaW1wb3J0RmlsZUNvbnRlbnQ6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBIYW5kbGUgcmVwbGFjaW5nIGFsbCBleGlzdGluZyBkcmF3aW5nc1xyXG4gICAgaGFuZGxlSW1wb3J0UmVwbGFjZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnByb2Nlc3NJbXBvcnQodHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGFuZGxlIGFkZGluZyB0byBleGlzdGluZyBkcmF3aW5nc1xyXG4gICAgaGFuZGxlSW1wb3J0QWRkID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc0ltcG9ydChmYWxzZSk7XHJcbiAgICB9XHJcbiAgICAvLyBQcm9jZXNzIEdlb0pTT04gaW1wb3J0c1xyXG4gICAgLy8gPT09IE15RHJhd2luZ3NQYW5lbC50c3ggPT09XHJcbiAgICBwcml2YXRlIHByb2Nlc3NHZW9KU09OSW1wb3J0ID0gYXN5bmMgKGNvbnRlbnQ6IHN0cmluZywgcmVwbGFjZTogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdlb0pTT04gPSBKU09OLnBhcnNlKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdQcm9jZXNzaW5nIEdlb0pTT04gaW1wb3J0OicsIGdlb0pTT04pO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFnZW9KU09OLmZlYXR1cmVzIHx8ICFBcnJheS5pc0FycmF5KGdlb0pTT04uZmVhdHVyZXMpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdJbnZhbGlkIEdlb0pTT046IG5vIGZlYXR1cmVzIGFycmF5IGZvdW5kJywgJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlSW1wb3J0RGlhbG9nKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE9wdGlvbmFsbHkgY2xlYXIgZXhpc3RpbmcgZ3JhcGhpY3NcclxuICAgICAgICAgICAgdGhpcy5pZ25vcmVOZXh0R3JhcGhpY3NVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAocmVwbGFjZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMDtcclxuICAgICAgICAgICAgbGV0IGVycm9yQ291bnQgPSAwO1xyXG5cclxuICAgICAgICAgICAgLy8gLS0tIDEpIFNlcGFyYXRlIG1haW4gZHJhd2luZ3MgZnJvbSBtZWFzdXJlbWVudCBsYWJlbHMgKGJ5IG91ciBleHBvcnQgZmxhZ3MpIC0tLVxyXG4gICAgICAgICAgICBjb25zdCBhbGxGZWF0dXJlczogYW55W10gPSBnZW9KU09OLmZlYXR1cmVzO1xyXG4gICAgICAgICAgICBjb25zdCBtYWluRmVhdHVyZXMgPSBhbGxGZWF0dXJlcy5maWx0ZXIoZiA9PiAhZj8ucHJvcGVydGllcz8uaXNNZWFzdXJlbWVudExhYmVsKTtcclxuICAgICAgICAgICAgY29uc3QgbGFiZWxGZWF0dXJlcyA9IGFsbEZlYXR1cmVzLmZpbHRlcihmID0+IGY/LnByb3BlcnRpZXM/LmlzTWVhc3VyZW1lbnRMYWJlbCk7XHJcblxyXG4gICAgICAgICAgICAvLyAtLS0gMikgSW1wb3J0IG1haW4gZHJhd2luZ3MgZmlyc3QsIHRyYWNrIHRoZW0gYnkgdW5pcXVlIGlkIGZvciBsaW5raW5nIC0tLVxyXG4gICAgICAgICAgICBjb25zdCBwYXJlbnRCeUlkOiBNYXA8c3RyaW5nLCBFeHRlbmRlZEdyYXBoaWM+ID0gbmV3IE1hcCgpO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYWluRmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZyA9IGF3YWl0IHRoaXMuY29udmVydEdlb0pTT05GZWF0dXJlVG9HcmFwaGljKG1haW5GZWF0dXJlc1tpXSwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmFkZChnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0NvdW50Kys7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWNvcmQgcGFyZW50IGJ5IHRoZSB1bmlxdWUgaWQgd2UgYXNzaWduZWQgZHVyaW5nIGltcG9ydFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwaWQgPSBnLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGlkKSBwYXJlbnRCeUlkLnNldChwaWQsIGcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEVycm9yIGltcG9ydGluZyBiYXNlIGZlYXR1cmUgJHtpfTpgLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yQ291bnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gLS0tIDMpIEltcG9ydCBtZWFzdXJlbWVudCBsYWJlbHMgYW5kIGxpbmsgdGhlbSB0byBwYXJlbnRzIC0tLVxyXG4gICAgICAgICAgICAvLyBZb3VyIG1lYXN1cmVtZW50IGNvZGUgZXhwZWN0czpcclxuICAgICAgICAgICAgLy8gIC0gYXR0cmlidXRlcy5pc01lYXN1cmVtZW50TGFiZWwgPT09IHRydWVcclxuICAgICAgICAgICAgLy8gIC0gYXR0cmlidXRlcy5oaWRlRnJvbUxpc3QgPT09IHRydWUgKGtlZXBzIGxhYmVscyBvdXQgb2YgbGlzdClcclxuICAgICAgICAgICAgLy8gIC0gYXR0cmlidXRlcy5wYXJlbnRHcmFwaGljSWQgPT09IHBhcmVudCdzIHVuaXF1ZUlkXHJcbiAgICAgICAgICAgIC8vICAtIEZvciBzZWdtZW50IGxhYmVsczogYXR0cmlidXRlcy5tZWFzdXJlbWVudFR5cGUgPT09ICdzZWdtZW50J1xyXG4gICAgICAgICAgICAvLyBUaGVuIGl0IHVzZXMgdGhlc2UgcmVsYXRpb25zaGlwcyB0byBlbmFibGUgZWRpdGluZy4gOmNvbnRlbnRSZWZlcmVuY2Vbb2FpY2l0ZToyXXtpbmRleD0yfSAoaXNNZWFzdXJlbWVudExhYmVsLCByZWxhdGVkU2VnbWVudExhYmVscylcclxuICAgICAgICAgICAgY29uc3QgcGVuZGluZ09ycGhhbnM6IEV4dGVuZGVkR3JhcGhpY1tdID0gW107XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxhYmVsRmVhdHVyZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZiA9IGxhYmVsRmVhdHVyZXNbal07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFiZWxHcmFwaGljID0gYXdhaXQgdGhpcy5jb252ZXJ0R2VvSlNPTkZlYXR1cmVUb0dyYXBoaWMoZiwgaiArIG1haW5GZWF0dXJlcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbGFiZWxHcmFwaGljKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRJZCA9IGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzPy5wYXJlbnRHcmFwaGljSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50R3JhcGhpYyA9IHBhcmVudElkID8gcGFyZW50QnlJZC5nZXQocGFyZW50SWQpIDogdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50R3JhcGhpYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFc3RhYmxpc2ggdGhlIHBhcmVudCDihpQgbGFiZWwgbGlua2FnZXMgZXhwZWN0ZWQgYnkgbWVhc3VyZW1lbnQgbG9naWNcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGxhYmVsR3JhcGhpYyBhcyBhbnkpLm1lYXN1cmVQYXJlbnQgPSBwYXJlbnRHcmFwaGljO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2luZ2xlIFwibWFpblwiIG1lYXN1cmVtZW50IGxhYmVsIGZvciBhIHBhcmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcmVudEdyYXBoaWMubWVhc3VyZSAmJiBsYWJlbEdyYXBoaWMuYXR0cmlidXRlcz8ubWVhc3VyZW1lbnRUeXBlICE9PSAnc2VnbWVudCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudEdyYXBoaWMubWVhc3VyZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmFwaGljOiBsYWJlbEdyYXBoaWMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoVW5pdDogbGFiZWxHcmFwaGljLmF0dHJpYnV0ZXM/Lmxlbmd0aFVuaXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlYVVuaXQ6IGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzPy5hcmVhVW5pdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJhY2sgYWxsIGxhYmVscyBmb3IgdGhlIHBhcmVudCBzbyBkb3duc3RyZWFtIHRvb2xzIGNhbiBmaW5kIHRoZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJlbnRHcmFwaGljLmF0dHJpYnV0ZXMpIHBhcmVudEdyYXBoaWMuYXR0cmlidXRlcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcmVudEdyYXBoaWMuYXR0cmlidXRlcy5yZWxhdGVkTWVhc3VyZW1lbnRMYWJlbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudEdyYXBoaWMuYXR0cmlidXRlcy5yZWxhdGVkTWVhc3VyZW1lbnRMYWJlbHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRHcmFwaGljLmF0dHJpYnV0ZXMucmVsYXRlZE1lYXN1cmVtZW50TGFiZWxzLnB1c2gobGFiZWxHcmFwaGljKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlZ21lbnQgbGFiZWxzIHNldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFiZWxHcmFwaGljLmF0dHJpYnV0ZXM/Lm1lYXN1cmVtZW50VHlwZSA9PT0gJ3NlZ21lbnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcmVudEdyYXBoaWMuYXR0cmlidXRlcy5yZWxhdGVkU2VnbWVudExhYmVscykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudEdyYXBoaWMuYXR0cmlidXRlcy5yZWxhdGVkU2VnbWVudExhYmVscyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50R3JhcGhpYy5hdHRyaWJ1dGVzLnJlbGF0ZWRTZWdtZW50TGFiZWxzLnB1c2gobGFiZWxHcmFwaGljKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmFkZChsYWJlbEdyYXBoaWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXJlbnQgbm90IGZvdW5kIChlLmcuLCBtaXNzaW5nLCBmaWx0ZXJlZCBvdXQpOiBhZGQgbGF0ZXIgdmlhIHByb3hpbWl0eSBmYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nT3JwaGFucy5wdXNoKGxhYmVsR3JhcGhpYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBFcnJvciBpbXBvcnRpbmcgbGFiZWwgZmVhdHVyZSAke2p9OmAsIGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyAtLS0gNCkgQmVzdC1lZmZvcnQgZmFsbGJhY2s6IGlmIGFueSBsYWJlbHMgZGlkbid0IGhhdmUgYSBwYXJlbnRHcmFwaGljSWQgbWF0Y2gsIFxyXG4gICAgICAgICAgICAvLyB0cnkgdG8gYXNzb2NpYXRlIHRoZW0gYnkgcHJveGltaXR5IHRvIG5lYXJlc3Qgbm9uLXRleHQgZ3JhcGhpYyBzbyB0aGV5IHJlbWFpbiBlZGl0YWJsZS4gLS0tXHJcbiAgICAgICAgICAgIGlmIChwZW5kaW5nT3JwaGFucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbEltcG9ydGVkID0gdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmdyYXBoaWNzPy50b0FycmF5Py4oKSA/PyBbXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRzT25seSA9IGFsbEltcG9ydGVkLmZpbHRlcihnID0+IGc/Lmdlb21ldHJ5ICYmIGc/LnN5bWJvbD8udHlwZSAhPT0gJ3RleHQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvcnBoYW4gb2YgcGVuZGluZ09ycGhhbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNsb3Nlc3Q6IEV4dGVuZGVkR3JhcGhpYyB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2xvc2VzdERpc3QgPSBJbmZpbml0eTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxwOiBfX2VzcmkuUG9pbnQgPSBvcnBoYW4uZ2VvbWV0cnkgYXMgYW55O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxwKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2FuZCBvZiBwYXJlbnRzT25seSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY0dlb20gPSBjYW5kLmdlb21ldHJ5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VudGVyID0gKGNHZW9tPy5leHRlbnQ/LmNlbnRlciB8fCBjR2VvbSkgYXMgX19lc3JpLlBvaW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjZW50ZXIpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGR4ID0gKGxwLnggYXMgbnVtYmVyKSAtIChjZW50ZXIueCBhcyBudW1iZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHkgPSAobHAueSBhcyBudW1iZXIpIC0gKGNlbnRlci55IGFzIG51bWJlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0ID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdCA8IGNsb3Nlc3REaXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VzdERpc3QgPSBkaXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3Nlc3QgPSBjYW5kIGFzIEV4dGVuZGVkR3JhcGhpYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3Nlc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcnBoYW4gYXMgYW55KS5tZWFzdXJlUGFyZW50ID0gY2xvc2VzdDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNsb3Nlc3QuYXR0cmlidXRlcykgY2xvc2VzdC5hdHRyaWJ1dGVzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNsb3Nlc3QuYXR0cmlidXRlcy5yZWxhdGVkTWVhc3VyZW1lbnRMYWJlbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZXN0LmF0dHJpYnV0ZXMucmVsYXRlZE1lYXN1cmVtZW50TGFiZWxzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZXN0LmF0dHJpYnV0ZXMucmVsYXRlZE1lYXN1cmVtZW50TGFiZWxzLnB1c2gob3JwaGFuKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JwaGFuLmF0dHJpYnV0ZXM/Lm1lYXN1cmVtZW50VHlwZSA9PT0gJ3NlZ21lbnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjbG9zZXN0LmF0dHJpYnV0ZXMucmVsYXRlZFNlZ21lbnRMYWJlbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VzdC5hdHRyaWJ1dGVzLnJlbGF0ZWRTZWdtZW50TGFiZWxzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3Nlc3QuYXR0cmlidXRlcy5yZWxhdGVkU2VnbWVudExhYmVscy5wdXNoKG9ycGhhbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFjbG9zZXN0Lm1lYXN1cmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZXN0Lm1lYXN1cmUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyYXBoaWM6IG9ycGhhbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoVW5pdDogb3JwaGFuLmF0dHJpYnV0ZXM/Lmxlbmd0aFVuaXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZWFVbml0OiBvcnBoYW4uYXR0cmlidXRlcz8uYXJlYVVuaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5hZGQob3JwaGFuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXMgYSBsYXN0IHJlc29ydCwgYWRkIHRoZSBsYWJlbCAoc3RpbGwgZWRpdGFibGUgYXMgdGV4dCwgYnV0IG5vdCBsaW5rZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuYWRkKG9ycGhhbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignSW1wb3J0ZWQgbGFiZWwgd2l0aG91dCBhIHJlc29sdmFibGUgcGFyZW50OyBhZGRlZCB1bmxpbmtlZC4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3hpbWl0eSBmYWxsYmFjayBsaW5raW5nIGZhaWxlZDonLCBlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gLS0tIDUpIFJlZnJlc2ggVUkgLyBzdGF0ZSBhZnRlciBhIHNob3J0IGRlbGF5IHNvIGxheWVyIG11dGF0aW9ucyBzZXR0bGUgLS0tXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hEcmF3aW5nc0Zyb21MYXllcigpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigncmVmcmVzaERyYXdpbmdzRnJvbUxheWVyIGZhaWxlZDonLCBlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzc0NvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgU3VjY2Vzc2Z1bGx5IGltcG9ydGVkICR7c3VjY2Vzc0NvdW50fSBpdGVtKHMpIGZyb20gR2VvSlNPTiR7ZXJyb3JDb3VudCA+IDAgPyBgICgke2Vycm9yQ291bnR9IGVycm9ycylgIDogJyd9YDtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEludGVudGlvbmFsbHkgbm90IHNob3dpbmcgYSB0b2FzdCBhcyBwZXIgeW91ciBjb21tZW50XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5zaG93TG9jYWxBbGVydChtZXNzYWdlLCAnc3VjY2VzcycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAzMDApO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwcm9jZXNzaW5nIEdlb0pTT04gaW1wb3J0OicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93TG9jYWxBbGVydCgnRXJyb3IgaW1wb3J0aW5nIEdlb0pTT04gZmlsZScsICdlcnJvcicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jbG9zZUltcG9ydERpYWxvZygpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDb252ZXJ0IEdlb0pTT04gZmVhdHVyZSBiYWNrIHRvIEFyY0dJUyBncmFwaGljXHJcbiAgICAvLyA9PT0gTXlEcmF3aW5nc1BhbmVsLnRzeCA9PT1cclxuICAgIHByaXZhdGUgY29udmVydEdlb0pTT05GZWF0dXJlVG9HcmFwaGljID0gYXN5bmMgKGZlYXR1cmU6IGFueSwgaW5kZXg6IG51bWJlcik6IFByb21pc2U8RXh0ZW5kZWRHcmFwaGljIHwgbnVsbD4gPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICghZmVhdHVyZT8uZ2VvbWV0cnkgfHwgIWZlYXR1cmU/LnByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgRmVhdHVyZSAke2luZGV4fSBtaXNzaW5nIGdlb21ldHJ5IG9yIHByb3BlcnRpZXNgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyAxKSBHZW9tZXRyeVxyXG4gICAgICAgICAgICBjb25zdCBhcmNnaXNHZW9tZXRyeSA9IGF3YWl0IHRoaXMuY29udmVydEdlb0pTT05HZW9tZXRyeVRvQXJjR0lTKGZlYXR1cmUuZ2VvbWV0cnkpO1xyXG4gICAgICAgICAgICBpZiAoIWFyY2dpc0dlb21ldHJ5KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byBjb252ZXJ0IGdlb21ldHJ5IGZvciBmZWF0dXJlICR7aW5kZXh9YCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gMikgU3ltYm9sXHJcbiAgICAgICAgICAgIGxldCBzeW1ib2w6IGFueTtcclxuICAgICAgICAgICAgbGV0IHRleHRTdHJpbmc6IHN0cmluZyB8IG51bGwgPSBudWxsOyAvLyBTdG9yZSB0ZXh0IGNvbnRlbnQgZm9yIHVzZSBpbiBhdHRyaWJ1dGVzXHJcblxyXG4gICAgICAgICAgICAvLyBIZWxwZXI6IGJ1aWxkIFRleHRTeW1ib2wgd2l0aCBmdWxsIHN0eWxpbmcgc3VwcG9ydFxyXG4gICAgICAgICAgICBjb25zdCBidWlsZFRleHRTeW1ib2wgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBCYXNlIHRleHQgJiBmb250XHJcbiAgICAgICAgICAgICAgICB0ZXh0U3RyaW5nID1cclxuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlLnByb3BlcnRpZXMudGV4dCA/P1xyXG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmUucHJvcGVydGllcy50ZXh0Q29udGVudCA/P1xyXG4gICAgICAgICAgICAgICAgICAgICdUZXh0JztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBUZXh0IGNvbG9yICsgb3BhY2l0eSAoYWxwaGEpXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0Q29sb3IgPSBuZXcgQ29sb3IoZmVhdHVyZS5wcm9wZXJ0aWVzLnRleHRfY29sb3IgfHwgJyMwMDAwMDAnKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmVhdHVyZS5wcm9wZXJ0aWVzLnRleHRfb3BhY2l0eSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBFeHBlY3RpbmcgMC4uMTsgY2xhbXAganVzdCBpbiBjYXNlXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIGZlYXR1cmUucHJvcGVydGllcy50ZXh0X29wYWNpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAodGV4dENvbG9yIGFzIGFueSkuYSA9IGE7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgZm9udCA9IG5ldyBGb250KHtcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiBmZWF0dXJlLnByb3BlcnRpZXMudGV4dF9zaXplIHx8IDEyLFxyXG4gICAgICAgICAgICAgICAgICAgIGZhbWlseTogZmVhdHVyZS5wcm9wZXJ0aWVzLnRleHRfZm9udCB8fCAnQXJpYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHdlaWdodDogZmVhdHVyZS5wcm9wZXJ0aWVzLnRleHRfd2VpZ2h0IHx8ICdub3JtYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiBmZWF0dXJlLnByb3BlcnRpZXMudGV4dF9zdHlsZSB8fCAnbm9ybWFsJyxcclxuICAgICAgICAgICAgICAgICAgICBkZWNvcmF0aW9uOiBmZWF0dXJlLnByb3BlcnRpZXMudGV4dF9kZWNvcmF0aW9uIHx8ICdub25lJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQWxpZ25tZW50ICYgcm90YXRpb25cclxuICAgICAgICAgICAgICAgIGNvbnN0IGhvcml6b250YWxBbGlnbm1lbnQgPSBmZWF0dXJlLnByb3BlcnRpZXMudGV4dF9hbGlnbiB8fCAnY2VudGVyJztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsQWxpZ25tZW50ID0gZmVhdHVyZS5wcm9wZXJ0aWVzLnRleHRfYmFzZWxpbmUgfHwgJ21pZGRsZSc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmdsZSA9IHR5cGVvZiBmZWF0dXJlLnByb3BlcnRpZXMudGV4dF9yb3RhdGlvbiA9PT0gJ251bWJlcidcclxuICAgICAgICAgICAgICAgICAgICA/IGZlYXR1cmUucHJvcGVydGllcy50ZXh0X3JvdGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgOiAwO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEhhbG8gKG9wdGlvbmFsKVxyXG4gICAgICAgICAgICAgICAgbGV0IGhhbG9Db2xvcjogQ29sb3IgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgaGFsb1NpemU6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZlYXR1cmUucHJvcGVydGllcy50ZXh0X2hhbG9fc2l6ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBocyA9IGZlYXR1cmUucHJvcGVydGllcy50ZXh0X2hhbG9fc2l6ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaHMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbG9TaXplID0gaHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhjID0gbmV3IENvbG9yKGZlYXR1cmUucHJvcGVydGllcy50ZXh0X2hhbG9fY29sb3IgfHwgJyNGRkZGRkYnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmZWF0dXJlLnByb3BlcnRpZXMudGV4dF9oYWxvX29wYWNpdHkgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaGMgYXMgYW55KS5hID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgZmVhdHVyZS5wcm9wZXJ0aWVzLnRleHRfaGFsb19vcGFjaXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFsb0NvbG9yID0gaGM7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhwbGljaXRseSBubyBoYWxvIHdoZW4gc2l6ZSBpcyAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbG9TaXplID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFsb0NvbG9yID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzLmlzTWVhc3VyZW1lbnRMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNlbnNpYmxlIGRlZmF1bHQgZm9yIG1lYXN1cmVtZW50IGxhYmVscyBpZiBub25lIHByb3ZpZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgaGFsb1NpemUgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbG9Db2xvciA9IG5ldyBDb2xvcihbMjU1LCAyNTUsIDI1NSwgMV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dFN5bWJvbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dFN0cmluZyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGV4dENvbG9yLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbEFsaWdubWVudCxcclxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbEFsaWdubWVudCxcclxuICAgICAgICAgICAgICAgICAgICBhbmdsZSxcclxuICAgICAgICAgICAgICAgICAgICBoYWxvQ29sb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgaGFsb1NpemVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaXNUZXh0TGlrZSA9XHJcbiAgICAgICAgICAgICAgICAhIWZlYXR1cmUucHJvcGVydGllcy50ZXh0IHx8XHJcbiAgICAgICAgICAgICAgICAhIWZlYXR1cmUucHJvcGVydGllcy50ZXh0Q29udGVudCB8fFxyXG4gICAgICAgICAgICAgICAgZmVhdHVyZS5wcm9wZXJ0aWVzLnR5cGUgPT09ICdUZXh0JztcclxuXHJcbiAgICAgICAgICAgIGlmIChpc1RleHRMaWtlKSB7XHJcbiAgICAgICAgICAgICAgICBzeW1ib2wgPSBidWlsZFRleHRTeW1ib2woKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEZhbGwgYmFjayB0byB5b3VyIGdlb21ldHJ5LWFwcHJvcHJpYXRlIHN5bWJvbCBidWlsZGVyXHJcbiAgICAgICAgICAgICAgICBzeW1ib2wgPSB0aGlzLmNyZWF0ZVN5bWJvbEZyb21HZW9KU09OUHJvcGVydGllcyhcclxuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlLnByb3BlcnRpZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZS5nZW9tZXRyeS50eXBlXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyAzKSBBdHRyaWJ1dGVzIChpbmNsLiBtZWFzdXJlbWVudCArIGJ1ZmZlciBtZXRhZGF0YSlcclxuICAgICAgICAgICAgLy8g4pyFIEZJWDogRm9yIHRleHQgZ3JhcGhpY3MsIHVzZSB0aGUgYWN0dWFsIHRleHQgY29udGVudCBhcyB0aGUgbmFtZVxyXG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0TmFtZSA9IGlzVGV4dExpa2UgJiYgdGV4dFN0cmluZ1xyXG4gICAgICAgICAgICAgICAgPyB0ZXh0U3RyaW5nXHJcbiAgICAgICAgICAgICAgICA6IChmZWF0dXJlLnByb3BlcnRpZXMubmFtZSB8fCBgSW1wb3J0ZWQgRHJhd2luZyAke2luZGV4ICsgMX1gKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOKchSBGSVg6IEhhbmRsZSBjcmVhdGVkIGRhdGUgcHJvcGVybHkgLSBlbnN1cmUgaXQncyBhIHZhbGlkIHRpbWVzdGFtcFxyXG4gICAgICAgICAgICBsZXQgY3JlYXRlZERhdGUgPSBEYXRlLm5vdygpOyAvLyBEZWZhdWx0IHRvIG5vd1xyXG4gICAgICAgICAgICBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzLmNyZWF0ZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYWxyZWFkeSBhIG51bWJlciwgdXNlIGl0XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZlYXR1cmUucHJvcGVydGllcy5jcmVhdGVkID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWREYXRlID0gZmVhdHVyZS5wcm9wZXJ0aWVzLmNyZWF0ZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGEgc3RyaW5nLCB0cnkgdG8gcGFyc2UgaXRcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBmZWF0dXJlLnByb3BlcnRpZXMuY3JlYXRlZCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBEYXRlLnBhcnNlKGZlYXR1cmUucHJvcGVydGllcy5jcmVhdGVkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZERhdGUgPSBwYXJzZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzOiBhbnkgPSB7XHJcbiAgICAgICAgICAgICAgICB1bmlxdWVJZDogZmVhdHVyZS5wcm9wZXJ0aWVzLmlkIHx8IGBpbXBvcnRlZF9nZW9qc29uXyR7RGF0ZS5ub3coKX1fJHtpbmRleH1gLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogZGVmYXVsdE5hbWUsXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVkRGF0ZTogY3JlYXRlZERhdGUsIC8vIE5vdyBndWFyYW50ZWVkIHRvIGJlIGEgdmFsaWQgdGltZXN0YW1wXHJcbiAgICAgICAgICAgICAgICBnZW9tZXRyeVR5cGU6IGZlYXR1cmUuZ2VvbWV0cnkudHlwZVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gRW5zdXJlIHVuaXF1ZSBuYW1lIGlmIG5vdCByZXBsYWNpbmdcclxuICAgICAgICAgICAgYXR0cmlidXRlcy5uYW1lID0gdGhpcy5lbnN1cmVVbmlxdWVOYW1lKGF0dHJpYnV0ZXMubmFtZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBNZWFzdXJlbWVudCBsYWJlbCBmbGFncyAmIG1ldGFkYXRhIChzbyBlZGl0aW5nIGNhbiByZWNvZ25pemUgdGhlbSlcclxuICAgICAgICAgICAgaWYgKGZlYXR1cmUucHJvcGVydGllcy5pc01lYXN1cmVtZW50TGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuaXNNZWFzdXJlbWVudExhYmVsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuaGlkZUZyb21MaXN0ID0gdHJ1ZTsgLy8ga2VlcCBpdCBvdXQgb2YgXCJNeSBEcmF3aW5nc1wiIGxpc3RzXHJcbiAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzLnBhcmVudEdyYXBoaWNJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucGFyZW50R3JhcGhpY0lkID0gZmVhdHVyZS5wcm9wZXJ0aWVzLnBhcmVudEdyYXBoaWNJZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlLnByb3BlcnRpZXMubWVhc3VyZW1lbnRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5tZWFzdXJlbWVudFR5cGUgPSBmZWF0dXJlLnByb3BlcnRpZXMubWVhc3VyZW1lbnRUeXBlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGZlYXR1cmUucHJvcGVydGllcy5sZW5ndGhVbml0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5sZW5ndGhVbml0ID0gZmVhdHVyZS5wcm9wZXJ0aWVzLmxlbmd0aFVuaXQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzLmFyZWFVbml0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5hcmVhVW5pdCA9IGZlYXR1cmUucHJvcGVydGllcy5hcmVhVW5pdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIE9wdGlvbmFsOiB0YWcgYXMgdGV4dCBkcmF3TW9kZSB0byBhaWQgZG93bnN0cmVhbSBsb2dpY1xyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcy5kcmF3TW9kZSA9ICd0ZXh0JztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQnVmZmVyIHNldHRpbmdzIChyb3VuZC10cmlwKVxyXG4gICAgICAgICAgICBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzLmJ1ZmZlckRpc3RhbmNlICYmIGZlYXR1cmUucHJvcGVydGllcy5idWZmZXJVbml0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBidWZmZXJTZXR0aW5ncyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZTogZmVhdHVyZS5wcm9wZXJ0aWVzLmJ1ZmZlckRpc3RhbmNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHVuaXQ6IGZlYXR1cmUucHJvcGVydGllcy5idWZmZXJVbml0LFxyXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGZlYXR1cmUucHJvcGVydGllcy5idWZmZXJPcGFjaXR5ID09PSAnbnVtYmVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmZWF0dXJlLnByb3BlcnRpZXMuYnVmZmVyT3BhY2l0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiA1MFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuYnVmZmVyU2V0dGluZ3MgPSBidWZmZXJTZXR0aW5ncztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gNCkgQnVpbGQgdGhlIEdyYXBoaWNcclxuICAgICAgICAgICAgY29uc3QgZ3JhcGhpYyA9IG5ldyBHcmFwaGljKHtcclxuICAgICAgICAgICAgICAgIGdlb21ldHJ5OiBhcmNnaXNHZW9tZXRyeSxcclxuICAgICAgICAgICAgICAgIHN5bWJvbDogc3ltYm9sIGFzIGFueSxcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNcclxuICAgICAgICAgICAgfSkgYXMgRXh0ZW5kZWRHcmFwaGljO1xyXG5cclxuICAgICAgICAgICAgLy8gTWlycm9yIGJ1ZmZlciBzZXR0aW5ncyBvbiB0aGUgZ3JhcGhpYyBvYmplY3QgaWYgcHJlc2VudFxyXG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlcy5idWZmZXJTZXR0aW5ncykge1xyXG4gICAgICAgICAgICAgICAgZ3JhcGhpYy5idWZmZXJTZXR0aW5ncyA9IGF0dHJpYnV0ZXMuYnVmZmVyU2V0dGluZ3M7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBncmFwaGljO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGNvbnZlcnRpbmcgR2VvSlNPTiBmZWF0dXJlICR7aW5kZXh9OmAsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDb252ZXJ0IEdlb0pTT04gZ2VvbWV0cnkgdG8gQXJjR0lTIGdlb21ldHJ5XHJcbiAgICBwcml2YXRlIGNvbnZlcnRHZW9KU09OR2VvbWV0cnlUb0FyY0dJUyA9IGFzeW5jIChnZW9Kc29uR2VvbWV0cnk6IGFueSk6IFByb21pc2U8X19lc3JpLkdlb21ldHJ5IHwgbnVsbD4gPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTUiA9IHRoaXMucHJvcHMuamltdU1hcFZpZXc/LnZpZXc/LnNwYXRpYWxSZWZlcmVuY2UgfHwgbmV3IFNwYXRpYWxSZWZlcmVuY2UoeyB3a2lkOiA0MzI2IH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gRmlyc3QgY29udmVydCB0aGUgR2VvSlNPTiBjb29yZGluYXRlcyB0byBhIHRlbXBvcmFyeSBXR1M4NCBnZW9tZXRyeVxyXG4gICAgICAgICAgICBsZXQgd2dzODRHZW9tZXRyeTogX19lc3JpLkdlb21ldHJ5O1xyXG4gICAgICAgICAgICBjb25zdCB3Z3M4NFNSID0gbmV3IFNwYXRpYWxSZWZlcmVuY2UoeyB3a2lkOiA0MzI2IH0pO1xyXG5cclxuICAgICAgICAgICAgc3dpdGNoIChnZW9Kc29uR2VvbWV0cnkudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnUG9pbnQnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvb3JkcyA9IGdlb0pzb25HZW9tZXRyeS5jb29yZGluYXRlcztcclxuICAgICAgICAgICAgICAgICAgICB3Z3M4NEdlb21ldHJ5ID0gbmV3IFBvaW50KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBjb29yZHNbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlOiBjb29yZHNbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHdnczg0U1JcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdMaW5lU3RyaW5nJzpcclxuICAgICAgICAgICAgICAgICAgICB3Z3M4NEdlb21ldHJ5ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncG9seWxpbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoczogW2dlb0pzb25HZW9tZXRyeS5jb29yZGluYXRlc10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHdnczg0U1JcclxuICAgICAgICAgICAgICAgICAgICB9IGFzIF9fZXNyaS5Qb2x5bGluZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdNdWx0aUxpbmVTdHJpbmcnOlxyXG4gICAgICAgICAgICAgICAgICAgIHdnczg0R2VvbWV0cnkgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwb2x5bGluZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhzOiBnZW9Kc29uR2VvbWV0cnkuY29vcmRpbmF0ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHdnczg0U1JcclxuICAgICAgICAgICAgICAgICAgICB9IGFzIF9fZXNyaS5Qb2x5bGluZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdQb2x5Z29uJzpcclxuICAgICAgICAgICAgICAgICAgICB3Z3M4NEdlb21ldHJ5ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncG9seWdvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpbmdzOiBnZW9Kc29uR2VvbWV0cnkuY29vcmRpbmF0ZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHdnczg0U1JcclxuICAgICAgICAgICAgICAgICAgICB9IGFzIF9fZXNyaS5Qb2x5Z29uO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbnN1cHBvcnRlZCBHZW9KU09OIGdlb21ldHJ5IHR5cGU6ICR7Z2VvSnNvbkdlb21ldHJ5LnR5cGV9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBtYXAgaXMgaW4gV0dTODQsIHJldHVybiB0aGUgZ2VvbWV0cnkgYXMtaXNcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRTUi53a2lkID09PSA0MzI2KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd2dzODRHZW9tZXRyeTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUHJvamVjdCBmcm9tIFdHUzg0IHRvIHRoZSBjdXJyZW50IG1hcCBzcGF0aWFsIHJlZmVyZW5jZVxyXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5wcm9qZWN0R2VvbWV0cnlGcm9tV0dTODQod2dzODRHZW9tZXRyeSwgY3VycmVudFNSKTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29udmVydGluZyBHZW9KU09OIGdlb21ldHJ5OicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBIZWxwZXIgbWV0aG9kIHRvIGNvbnZlcnQgZnJvbSBXR1M4NCBiYWNrIHRvIG1hcCBwcm9qZWN0aW9uXHJcbiAgICBwcml2YXRlIGNvbnZlcnRGcm9tV0dTODRUb01hcFByb2plY3Rpb24gPSAobG9uOiBudW1iZXIsIGxhdDogbnVtYmVyKTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9ID0+IHtcclxuICAgICAgICBjb25zdCBtYXBTUiA9IHRoaXMucHJvcHMuamltdU1hcFZpZXc/LnZpZXc/LnNwYXRpYWxSZWZlcmVuY2U7XHJcblxyXG4gICAgICAgIGlmICghbWFwU1IgfHwgbWFwU1Iud2tpZCA9PT0gNDMyNikge1xyXG4gICAgICAgICAgICByZXR1cm4geyB4OiBsb24sIHk6IGxhdCB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ29udmVydCBmcm9tIFdHUzg0IHRvIFdlYiBNZXJjYXRvclxyXG4gICAgICAgIGlmIChtYXBTUi53a2lkID09PSAzODU3IHx8IG1hcFNSLndraWQgPT09IDEwMjEwMCkge1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gbG9uICogMjAwMzc1MDguMzQgLyAxODA7XHJcbiAgICAgICAgICAgIGNvbnN0IHkgPSBNYXRoLmxvZyhNYXRoLnRhbigoOTAgKyBsYXQpICogTWF0aC5QSSAvIDM2MCkpIC8gKE1hdGguUEkgLyAxODApICogMjAwMzc1MDguMzQgLyAxODA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHgsIHkgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZvciBvdGhlciBjb29yZGluYXRlIHN5c3RlbXMsIHRoaXMgaXMgYSByb3VnaCBhcHByb3hpbWF0aW9uXHJcbiAgICAgICAgLy8gSW4gYSBwcm9kdWN0aW9uIGVudmlyb25tZW50LCB5b3UnZCB3YW50IHRvIHVzZSBwcm9wZXIgcHJvamVjdGlvbiBsaWJyYXJpZXNcclxuICAgICAgICBpZiAobWFwU1Iud2tpZCA+PSAzMjYwMSAmJiBtYXBTUi53a2lkIDw9IDMyNjYwKSB7XHJcbiAgICAgICAgICAgIC8vIFVUTSBOb3J0aCAtIHZlcnkgcm91Z2ggYXBwcm94aW1hdGlvblxyXG4gICAgICAgICAgICBjb25zdCB6b25lID0gbWFwU1Iud2tpZCAtIDMyNjAwO1xyXG4gICAgICAgICAgICBjb25zdCBjZW50cmFsTWVyaWRpYW4gPSAoem9uZSAtIDEpICogNiAtIDE4MCArIDM7XHJcbiAgICAgICAgICAgIGNvbnN0IHggPSA1MDAwMDAgKyAobG9uIC0gY2VudHJhbE1lcmlkaWFuKSAqIDExMTMyMDtcclxuICAgICAgICAgICAgY29uc3QgeSA9IGxhdCAqIDExMDU0MDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgeCwgeSB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRm9yIFN0YXRlIFBsYW5lIGFuZCBvdGhlciBzeXN0ZW1zLCBhc3N1bWUgZGlyZWN0IGNvbnZlcnNpb25cclxuICAgICAgICAvLyBUaGlzIGlzIG5vdCBhY2N1cmF0ZSBidXQgcHJldmVudHMgaW1wb3J0IGZhaWx1cmVzXHJcbiAgICAgICAgcmV0dXJuIHsgeDogbG9uLCB5OiBsYXQgfTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gQ3JlYXRlIEFyY0dJUyBzeW1ib2wgZnJvbSBHZW9KU09OIHByb3BlcnRpZXNcclxuICAgIHByaXZhdGUgY3JlYXRlU3ltYm9sRnJvbUdlb0pTT05Qcm9wZXJ0aWVzID0gKHByb3BlcnRpZXM6IGFueSwgZ2VvbWV0cnlUeXBlOiBzdHJpbmcpOiBhbnkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoZ2VvbWV0cnlUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdQb2ludCc6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIG1hcmtlciBzdHlsZSBpcyB2YWxpZFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcmtlclN0eWxlID0gcHJvcGVydGllcy5tYXJrZXJfc3ltYm9sIHx8ICdjaXJjbGUnO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkTWFya2VyU3R5bGVzID0gWydjaXJjbGUnLCAnc3F1YXJlJywgJ2Nyb3NzJywgJ3gnLCAnZGlhbW9uZCcsICd0cmlhbmdsZScsICdwYXRoJ107XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluYWxNYXJrZXJTdHlsZSA9IHZhbGlkTWFya2VyU3R5bGVzLmluY2x1ZGVzKG1hcmtlclN0eWxlKSA/IG1hcmtlclN0eWxlIDogJ2NpcmNsZSc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU2ltcGxlTWFya2VyU3ltYm9sKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGZpbmFsTWFya2VyU3R5bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IHByb3BlcnRpZXMubWFya2VyX3NpemUgfHwgMTIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBuZXcgQ29sb3IocHJvcGVydGllcy5tYXJrZXJfY29sb3IgfHwgJyMwMDAwMDAnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0bGluZTogcHJvcGVydGllcy5zdHJva2UgPyBuZXcgU2ltcGxlTGluZVN5bWJvbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogbmV3IENvbG9yKHByb3BlcnRpZXMuc3Ryb2tlIHx8ICcjMDAwMDAwJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogcHJvcGVydGllcy5zdHJva2Vfd2lkdGggfHwgMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSA6IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ0xpbmVTdHJpbmcnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnTXVsdGlMaW5lU3RyaW5nJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNpbXBsZUxpbmVTeW1ib2woe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ3NvbGlkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IG5ldyBDb2xvcihwcm9wZXJ0aWVzLnN0cm9rZSB8fCAnIzAwMDAwMCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogcHJvcGVydGllcy5zdHJva2Vfd2lkdGggfHwgMlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ1BvbHlnb24nOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGxDb2xvciA9IG5ldyBDb2xvcihwcm9wZXJ0aWVzLmZpbGwgfHwgJyMwMDAwMDAnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5maWxsX29wYWNpdHkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3IuYSA9IHByb3BlcnRpZXMuZmlsbF9vcGFjaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTaW1wbGVGaWxsU3ltYm9sKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdzb2xpZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBmaWxsQ29sb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IG5ldyBTaW1wbGVMaW5lU3ltYm9sKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBuZXcgQ29sb3IocHJvcGVydGllcy5zdHJva2UgfHwgJyMwMDAwMDAnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBwcm9wZXJ0aWVzLnN0cm9rZV93aWR0aCB8fCAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IHBvaW50IHN5bWJvbFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU2ltcGxlTWFya2VyU3ltYm9sKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdjaXJjbGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiA4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogbmV3IENvbG9yKCcjRkYwMDAwJylcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHN5bWJvbCBmcm9tIHByb3BlcnRpZXM6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICAvLyBSZXR1cm4gYSBkZWZhdWx0IHN5bWJvbFxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFNpbXBsZU1hcmtlclN5bWJvbCh7XHJcbiAgICAgICAgICAgICAgICBzdHlsZTogJ2NpcmNsZScsXHJcbiAgICAgICAgICAgICAgICBzaXplOiA4LFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IG5ldyBDb2xvcignI0ZGMDAwMCcpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gUHJvY2VzcyBsZWdhY3kgSlNPTiBpbXBvcnRzIChleGlzdGluZyBmdW5jdGlvbmFsaXR5KVxyXG4gICAgcHJpdmF0ZSBwcm9jZXNzTGVnYWN5SW1wb3J0ID0gKGNvbnRlbnQ6IHN0cmluZywgcmVwbGFjZTogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdQcm9jZXNzaW5nIGxlZ2FjeSBpbXBvcnQ6JywgcGFyc2VkRGF0YSk7XHJcblxyXG4gICAgICAgICAgICAvLyBIYW5kbGUgb2xkIGZvcm1hdCAoYXJyYXkpLCB2MS4xLCB2MS4yLCBhbmQgdjEuMyBmb3JtYXRzXHJcbiAgICAgICAgICAgIGxldCBkcmF3aW5nc0RhdGEgPSBbXTtcclxuICAgICAgICAgICAgbGV0IG1lYXN1cmVtZW50TGFiZWxzRGF0YSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyc2VkRGF0YSkpIHtcclxuICAgICAgICAgICAgICAgIGRyYXdpbmdzRGF0YSA9IHBhcnNlZERhdGE7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VkRGF0YS5kcmF3aW5ncykge1xyXG4gICAgICAgICAgICAgICAgZHJhd2luZ3NEYXRhID0gcGFyc2VkRGF0YS5kcmF3aW5ncyB8fCBbXTtcclxuICAgICAgICAgICAgICAgIG1lYXN1cmVtZW50TGFiZWxzRGF0YSA9IHBhcnNlZERhdGEubWVhc3VyZW1lbnRMYWJlbHMgfHwgW107XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChyZXBsYWNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuaWdub3JlTmV4dEdyYXBoaWNzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgbGV0IGxvYWRlZERyYXdpbmdzQ291bnQgPSAwO1xyXG4gICAgICAgICAgICBsZXQgbG9hZGVkTGFiZWxzQ291bnQgPSAwO1xyXG4gICAgICAgICAgICBsZXQgbG9hZGVkQnVmZmVyc0NvdW50ID0gMDtcclxuICAgICAgICAgICAgY29uc3QgcmVzdG9yZWRHcmFwaGljcyA9IG5ldyBNYXA8c3RyaW5nLCBFeHRlbmRlZEdyYXBoaWM+KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBSZXN0b3JlIG1haW4gZHJhd2luZ3MgKGV4aXN0aW5nIGxvZ2ljKVxyXG4gICAgICAgICAgICBkcmF3aW5nc0RhdGEuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JhcGhpYyA9IGFzRXh0ZW5kZWRHcmFwaGljKEdyYXBoaWMuZnJvbUpTT04oaXRlbSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWdyYXBoaWMuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBncmFwaGljLmF0dHJpYnV0ZXMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZ3JhcGhpYy5hdHRyaWJ1dGVzLnVuaXF1ZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyYXBoaWMuYXR0cmlidXRlcy51bmlxdWVJZCA9IGBpbXBvcnRlZF8ke0RhdGUubm93KCl9XyR7aW5kZXh9YDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBuYW1lIGlzIHVuaXF1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVwbGFjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBncmFwaGljLmF0dHJpYnV0ZXMubmFtZSA9IHRoaXMuZW5zdXJlVW5pcXVlTmFtZShncmFwaGljLmF0dHJpYnV0ZXMubmFtZSB8fCBgRHJhd2luZyAke2luZGV4ICsgMX1gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc3RvcmUgYnVmZmVyIHNldHRpbmdzIGlmIHByZXNlbnRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5hdHRyaWJ1dGVzPy5idWZmZXJTZXR0aW5ncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBncmFwaGljLmJ1ZmZlclNldHRpbmdzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2U6IGl0ZW0uYXR0cmlidXRlcy5idWZmZXJTZXR0aW5ncy5kaXN0YW5jZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXQ6IGl0ZW0uYXR0cmlidXRlcy5idWZmZXJTZXR0aW5ncy51bml0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogaXRlbS5hdHRyaWJ1dGVzLmJ1ZmZlclNldHRpbmdzLmVuYWJsZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBpdGVtLmF0dHJpYnV0ZXMuYnVmZmVyU2V0dGluZ3Mub3BhY2l0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyYXBoaWMuYnVmZmVyU2V0dGluZ3MuZW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVkQnVmZmVyc0NvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkZWREcmF3aW5nc0NvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkZWREcmF3aW5nc0NvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuYWRkKGdyYXBoaWMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3RvcmVkR3JhcGhpY3Muc2V0KGdyYXBoaWMuYXR0cmlidXRlcy51bmlxdWVJZCwgZ3JhcGhpYyk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEVycm9yIHJlc3RvcmluZyBncmFwaGljIGF0IGluZGV4ICR7aW5kZXh9OmAsIGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVzdG9yZSBtZWFzdXJlbWVudCBsYWJlbHMgKGV4aXN0aW5nIGxvZ2ljKVxyXG4gICAgICAgICAgICBtZWFzdXJlbWVudExhYmVsc0RhdGEuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFiZWxHcmFwaGljID0gYXNFeHRlbmRlZEdyYXBoaWMoR3JhcGhpYy5mcm9tSlNPTihpdGVtKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbGFiZWxHcmFwaGljLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxHcmFwaGljLmF0dHJpYnV0ZXMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzLmlzTWVhc3VyZW1lbnRMYWJlbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxHcmFwaGljLmF0dHJpYnV0ZXMuaGlkZUZyb21MaXN0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50R3JhcGhpY0lkID0gbGFiZWxHcmFwaGljLmF0dHJpYnV0ZXMucGFyZW50R3JhcGhpY0lkO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRHcmFwaGljSWQgJiYgcmVzdG9yZWRHcmFwaGljcy5oYXMocGFyZW50R3JhcGhpY0lkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRHcmFwaGljID0gcmVzdG9yZWRHcmFwaGljcy5nZXQocGFyZW50R3JhcGhpY0lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxHcmFwaGljLm1lYXN1cmVQYXJlbnQgPSBwYXJlbnRHcmFwaGljO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJlbnRHcmFwaGljLm1lYXN1cmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudEdyYXBoaWMubWVhc3VyZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmFwaGljOiBsYWJlbEdyYXBoaWMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoVW5pdDogbGFiZWxHcmFwaGljLmF0dHJpYnV0ZXMubGVuZ3RoVW5pdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVhVW5pdDogbGFiZWxHcmFwaGljLmF0dHJpYnV0ZXMuYXJlYVVuaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5hZGQobGFiZWxHcmFwaGljKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVkTGFiZWxzQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEVycm9yIHJlc3RvcmluZyBtZWFzdXJlbWVudCBsYWJlbCBhdCBpbmRleCAke2luZGV4fTpgLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlY3JlYXRlIGF0dGFjaGVkIGJ1ZmZlcnNcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXN0b3JlZEdyYXBoaWNzLmZvckVhY2goKGdyYXBoaWMsIHVuaXF1ZUlkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyYXBoaWMuYnVmZmVyU2V0dGluZ3MgJiYgZ3JhcGhpYy5idWZmZXJTZXR0aW5ncy5lbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjcmVhdGVBdHRhY2hlZEJ1ZmZlcihncmFwaGljLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbExvYWRlZCA9IGxvYWRlZERyYXdpbmdzQ291bnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodG90YWxMb2FkZWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoRHJhd2luZ3NGcm9tTGF5ZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN1Y2Nlc3NNZXNzYWdlID0gYFN1Y2Nlc3NmdWxseSBpbXBvcnRlZCAke2xvYWRlZERyYXdpbmdzQ291bnR9IGRyYXdpbmcocylgO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2FkZWRMYWJlbHNDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc01lc3NhZ2UgKz0gYCB3aXRoICR7bG9hZGVkTGFiZWxzQ291bnR9IG1lYXN1cmVtZW50IGxhYmVsKHMpYDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvYWRlZEJ1ZmZlcnNDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc01lc3NhZ2UgKz0gYCBhbmQgJHtsb2FkZWRCdWZmZXJzQ291bnR9IGJ1ZmZlcihzKWA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coc3VjY2Vzc01lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAyMDApO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwcm9jZXNzaW5nIGxlZ2FjeSBpbXBvcnQ6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdFcnJvciBpbXBvcnRpbmcgbGVnYWN5IEpTT04gZmlsZScsICdlcnJvcicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jbG9zZUltcG9ydERpYWxvZygpO1xyXG4gICAgfTtcclxuICAgIC8vIFByb2Nlc3MgdGhlIGltcG9ydCB3aXRoIG9yIHdpdGhvdXQgcmVwbGFjZW1lbnRcclxuICAgIHByb2Nlc3NJbXBvcnQgPSAocmVwbGFjZTogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgaW1wb3J0RmlsZUNvbnRlbnQgfSA9IHRoaXMuc3RhdGU7XHJcblxyXG4gICAgICAgIGlmICghaW1wb3J0RmlsZUNvbnRlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZUltcG9ydERpYWxvZygpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBmb3JtYXQgPSB0aGlzLmRldGVjdEltcG9ydEZvcm1hdChpbXBvcnRGaWxlQ29udGVudCk7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYERldGVjdGVkIGltcG9ydCBmb3JtYXQ6ICR7Zm9ybWF0fWApO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2dlb2pzb24nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NHZW9KU09OSW1wb3J0KGltcG9ydEZpbGVDb250ZW50LCByZXBsYWNlKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQgPT09ICdsZWdhY3knKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NMZWdhY3lJbXBvcnQoaW1wb3J0RmlsZUNvbnRlbnQsIHJlcGxhY2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5rbm93biBmaWxlIGZvcm1hdCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93TG9jYWxBbGVydCgnVW5zdXBwb3J0ZWQgZmlsZSBmb3JtYXQuIFBsZWFzZSB1c2UgR2VvSlNPTiBvciB0aGUgb3JpZ2luYWwgSlNPTiBmb3JtYXQuJywgJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlSW1wb3J0RGlhbG9nKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHByb2Nlc3NpbmcgaW1wb3J0OicsIGVycik7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xvY2FsQWxlcnQoJ0Vycm9yIHByb2Nlc3NpbmcgaW1wb3J0IGZpbGUnLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZUltcG9ydERpYWxvZygpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaGFuZGxlRXhwb3J0ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmNvbnNlbnRHcmFudGVkICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xvY2FsQWxlcnQoJ015IERyYXdpbmdzIGZlYXR1cmUgcmVxdWlyZXMgbG9jYWwgc3RvcmFnZSBwZXJtaXNzaW9uJywgJ3dhcm5pbmcnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZHJhd2luZ3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xvY2FsQWxlcnQoJ05vIGRyYXdpbmdzIHRvIGV4cG9ydCcsICd3YXJuaW5nJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ1N0YXJ0aW5nIGV4cG9ydCBwcm9jZXNzJyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBleHBvcnREYXRhID0gYXdhaXQgdGhpcy5nZW5lcmF0ZUNvbXBhdGlibGVFeHBvcnREYXRhKHRoaXMuc3RhdGUuZHJhd2luZ3MpO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdFeHBvcnQgZGF0YSBnZW5lcmF0ZWQ6JywgZXhwb3J0RGF0YSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBqc29uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZXhwb3J0RGF0YS5nZW9KU09ORm9ybWF0LCBudWxsLCAyKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbanNvblN0cmluZ10sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2dlbytqc29uJyB9KTtcclxuICAgICAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICAgICAgYS5ocmVmID0gdXJsO1xyXG4gICAgICAgICAgICBhLmRvd25sb2FkID0gJ215RHJhd2luZ3MuZ2VvanNvbic7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XHJcbiAgICAgICAgICAgIGEuY2xpY2soKTtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcclxuICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcclxuICAgICAgICAgICAgfSwgMTAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYFN1Y2Nlc3NmdWxseSBleHBvcnRlZCAke3RoaXMuc3RhdGUuZHJhd2luZ3MubGVuZ3RofSBkcmF3aW5ncyBhcyBHZW9KU09OYCk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGV4cG9ydGluZyBkcmF3aW5nczonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xvY2FsQWxlcnQoJ0Vycm9yIGV4cG9ydGluZyBkcmF3aW5ncycsICdlcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vIFRvZ2dsZSBzZWxlY3Rpb24gZm9yIGEgc3BlY2lmaWMgZHJhd2luZ1xyXG4gICAgaGFuZGxlVG9nZ2xlU2VsZWN0ID0gKGluZGV4OiBudW1iZXIsIGV2ZW50OiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgLy8gU3RvcCBwcm9wYWdhdGlvbiB0byBwcmV2ZW50IHRyaWdnZXJpbmcgdGhlIGxpc3QgaXRlbSBjbGlja1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAvLyBDYW5jZWwgYW55IGFjdGl2ZSBTa2V0Y2hWaWV3TW9kZWwgb3BlcmF0aW9uXHJcbiAgICAgICAgaWYgKHRoaXMuc2tldGNoVmlld01vZGVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNhbmNlbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgeyBzZWxlY3RlZEdyYXBoaWNzIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIGNvbnN0IG5ld1NlbGVjdGVkID0gbmV3IFNldChzZWxlY3RlZEdyYXBoaWNzKTtcclxuXHJcbiAgICAgICAgaWYgKG5ld1NlbGVjdGVkLmhhcyhpbmRleCkpIHtcclxuICAgICAgICAgICAgbmV3U2VsZWN0ZWQuZGVsZXRlKGluZGV4KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuZXdTZWxlY3RlZC5hZGQoaW5kZXgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBjaGVja2JveCBzZWxlY3Rpb24gc3RhdGVcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRHcmFwaGljczogbmV3U2VsZWN0ZWQgfSk7XHJcblxyXG4gICAgICAgIC8vIEFEREVEOiBJZiB0aGlzIGlzIHRoZSBvbmx5IHNlbGVjdGVkIGl0ZW0sIGFsc28gc2V0IGl0IGFzIHRoZSBzZWxlY3RlZEdyYXBoaWNJbmRleCBmb3IgZWRpdGluZ1xyXG4gICAgICAgIGlmIChuZXdTZWxlY3RlZC5zaXplID09PSAxICYmIG5ld1NlbGVjdGVkLmhhcyhpbmRleCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkR3JhcGhpY0luZGV4OiBpbmRleCB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFNlbGVjdC9kZXNlbGVjdCBhbGwgZHJhd2luZ3NcclxuICAgIGhhbmRsZVRvZ2dsZVNlbGVjdEFsbCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IGRyYXdpbmdzLCBzZWxlY3RlZEdyYXBoaWNzIH0gPSB0aGlzLnN0YXRlO1xyXG5cclxuICAgICAgICAvLyBJZiBhbGwgYXJlIHNlbGVjdGVkLCBjbGVhciB0aGUgc2VsZWN0aW9uXHJcbiAgICAgICAgaWYgKHNlbGVjdGVkR3JhcGhpY3Muc2l6ZSA9PT0gZHJhd2luZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRHcmFwaGljczogbmV3IFNldDxudW1iZXI+KCksXHJcbiAgICAgICAgICAgICAgICBzeW1ib2xFZGl0aW5nSW5kZXg6IG51bGxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBzZWxlY3QgYWxsXHJcbiAgICAgICAgICAgIGNvbnN0IGFsbEluZGljZXMgPSBuZXcgU2V0PG51bWJlcj4oZHJhd2luZ3MubWFwKChfLCBpbmRleCkgPT4gaW5kZXgpKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkR3JhcGhpY3M6IGFsbEluZGljZXMgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEV4cG9ydCBhIHNpbmdsZSBkcmF3aW5nXHJcbiAgICBoYW5kbGVFeHBvcnRTaW5nbGUgPSBhc3luYyAoaW5kZXg6IG51bWJlciwgZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY29uc2VudEdyYW50ZWQgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93TG9jYWxBbGVydCgnTXkgRHJhd2luZ3MgZmVhdHVyZSByZXF1aXJlcyBsb2NhbCBzdG9yYWdlIHBlcm1pc3Npb24nLCAnd2FybmluZycpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBncmFwaGljID0gdGhpcy5zdGF0ZS5kcmF3aW5nc1tpbmRleF0gYXMgRXh0ZW5kZWRHcmFwaGljO1xyXG4gICAgICAgIGlmICghZ3JhcGhpYykgcmV0dXJuO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBleHBvcnREYXRhID0gYXdhaXQgdGhpcy5nZW5lcmF0ZUNvbXBhdGlibGVFeHBvcnREYXRhKFtncmFwaGljXSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBqc29uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZXhwb3J0RGF0YS5nZW9KU09ORm9ybWF0LCBudWxsLCAyKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gZ3JhcGhpYy5hdHRyaWJ1dGVzPy5uYW1lXHJcbiAgICAgICAgICAgICAgICA/IGAke2dyYXBoaWMuYXR0cmlidXRlcy5uYW1lLnJlcGxhY2UoL1xccysvZywgJ18nKX0uZ2VvanNvbmBcclxuICAgICAgICAgICAgICAgIDogYGRyYXdpbmdfJHtpbmRleCArIDF9Lmdlb2pzb25gO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtqc29uU3RyaW5nXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vZ2VvK2pzb24nIH0pO1xyXG4gICAgICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG4gICAgICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgICAgICBhLmhyZWYgPSB1cmw7XHJcbiAgICAgICAgICAgIGEuZG93bmxvYWQgPSBmaWxlTmFtZTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcclxuICAgICAgICAgICAgYS5jbGljaygpO1xyXG5cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xyXG4gICAgICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG5cclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IGV4cG9ydGVkIHNpbmdsZSBkcmF3aW5nIFwiJHtmaWxlTmFtZX1cIiBhcyBHZW9KU09OYCk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGV4cG9ydGluZyBzaW5nbGUgZHJhd2luZzonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xvY2FsQWxlcnQoJ0Vycm9yIGV4cG9ydGluZyBzaW5nbGUgZHJhd2luZycsICdlcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vIPCflKcgRU5IQU5DRUQ6IEV4cG9ydCBzZWxlY3RlZCBkcmF3aW5ncyB3aXRoIGJ1ZmZlciBzZXR0aW5ncyBzdXBwb3J0XHJcbiAgICBoYW5kbGVFeHBvcnRTZWxlY3RlZCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdNeSBEcmF3aW5ncyBmZWF0dXJlIHJlcXVpcmVzIGxvY2FsIHN0b3JhZ2UgcGVybWlzc2lvbicsICd3YXJuaW5nJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHsgZHJhd2luZ3MsIHNlbGVjdGVkR3JhcGhpY3MgfSA9IHRoaXMuc3RhdGU7XHJcblxyXG4gICAgICAgIGlmIChzZWxlY3RlZEdyYXBoaWNzLnNpemUgPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93TG9jYWxBbGVydCgnTm8gZHJhd2luZ3Mgc2VsZWN0ZWQnLCAnd2FybmluZycpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZERyYXdpbmdzID0gQXJyYXkuZnJvbShzZWxlY3RlZEdyYXBoaWNzKS5tYXAoaW5kZXggPT4gZHJhd2luZ3NbaW5kZXhdKTtcclxuICAgICAgICAgICAgY29uc3QgZXhwb3J0RGF0YSA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVDb21wYXRpYmxlRXhwb3J0RGF0YShzZWxlY3RlZERyYXdpbmdzKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGpzb25TdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBvcnREYXRhLmdlb0pTT05Gb3JtYXQsIG51bGwsIDIpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtqc29uU3RyaW5nXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vZ2VvK2pzb24nIH0pO1xyXG4gICAgICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG4gICAgICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgICAgICBhLmhyZWYgPSB1cmw7XHJcbiAgICAgICAgICAgIGEuZG93bmxvYWQgPSBgc2VsZWN0ZWRfZHJhd2luZ3NfJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXX0uZ2VvanNvbmA7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XHJcbiAgICAgICAgICAgIGEuY2xpY2soKTtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcclxuICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcclxuICAgICAgICAgICAgfSwgMTAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYFN1Y2Nlc3NmdWxseSBleHBvcnRlZCAke3NlbGVjdGVkR3JhcGhpY3Muc2l6ZX0gc2VsZWN0ZWQgZHJhd2luZ3MgYXMgR2VvSlNPTmApO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBleHBvcnRpbmcgc2VsZWN0ZWQgZHJhd2luZ3M6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdFcnJvciBleHBvcnRpbmcgc2VsZWN0ZWQgZHJhd2luZ3MnLCAnZXJyb3InKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvLyBEZWxldGUgc2VsZWN0ZWQgZHJhd2luZ3NcclxuICAgIGhhbmRsZURlbGV0ZVNlbGVjdGVkID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIENoZWNrIGNvbnNlbnRcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdNeSBEcmF3aW5ncyBmZWF0dXJlIHJlcXVpcmVzIGxvY2FsIHN0b3JhZ2UgcGVybWlzc2lvbicsICd3YXJuaW5nJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHsgc2VsZWN0ZWRHcmFwaGljcyB9ID0gdGhpcy5zdGF0ZTtcclxuXHJcbiAgICAgICAgaWYgKHNlbGVjdGVkR3JhcGhpY3Muc2l6ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdObyBkcmF3aW5ncyBzZWxlY3RlZCcsICd3YXJuaW5nJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGNvbmZpcm1hdGlvbiBpcyByZXF1aXJlZCwgc2hvdyBjdXN0b20gZGlhbG9nXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY29uZmlybU9uRGVsZXRlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBjb25zdCBkZWxldGVBY3Rpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBlcmZvcm1EZWxldGVTZWxlY3RlZCgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vcGVuQ29uZmlybURpYWxvZyhcclxuICAgICAgICAgICAgICAgIGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlICR7c2VsZWN0ZWRHcmFwaGljcy5zaXplfSBzZWxlY3RlZCBkcmF3aW5nKHMpP2AsXHJcbiAgICAgICAgICAgICAgICAnZGVsZXRlJyxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZUFjdGlvblxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIElmIG5vIGNvbmZpcm1hdGlvbiBuZWVkZWQsIGRlbGV0ZSBkaXJlY3RseVxyXG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1EZWxldGVTZWxlY3RlZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5nZXN0RHJhd2luZ3MgPSAoaW5jb21pbmc6IGFueVtdKSA9PiB7XHJcbiAgICAgICAgLy8gWW91IGNhbiBub3JtYWxpemUgaWYgbmVlZGVkOyBoZXJlIHdlIGp1c3QgcmVwbGFjZSB0aGUgbGlzdFxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBkcmF3aW5nczogQXJyYXkuaXNBcnJheShpbmNvbWluZykgPyBbLi4uaW5jb21pbmddIDogW10sXHJcbiAgICAgICAgICAgIHNlbGVjdGVkR3JhcGhpY0luZGV4OiBudWxsLFxyXG4gICAgICAgICAgICBzZWxlY3RlZEdyYXBoaWNzOiBuZXcgU2V0PG51bWJlcj4oKSxcclxuICAgICAgICAgICAgc3ltYm9sRWRpdGluZ0luZGV4OiBudWxsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIE15RHJhd2luZ3NQYW5lbC50c3gg4oCUIFJFUExBQ0UgdGhlIHdob2xlIG1ldGhvZCB3aXRoIHRoaXMgdmVyc2lvblxyXG4gICAgcGVyZm9ybURlbGV0ZUdyYXBoaWMgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coYPCfl5HvuI8gU3RhcnRpbmcgZGVsZXRpb24gb2YgZ3JhcGhpYyBhdCBpbmRleCAke2luZGV4fWApO1xyXG5cclxuICAgICAgICAvLyDinIUgQ2FwdHVyZSBvcmlnaW5hbCBtZWFzdXJlbWVudCBzdGF0ZSAocHJveHkgPSBhbnkgbWVhc3VyZW1lbnQgbGFiZWxzIHByZXNlbnQpXHJcbiAgICAgICAgdGhpcy5fbWVhc3VyZW1lbnRXYXNFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllcikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JhcGhpY3MgPSB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuZ3JhcGhpY3MudG9BcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWVhc3VyZW1lbnRXYXNFbmFibGVkID0gZ3JhcGhpY3Muc29tZShnID0+IGc/LmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRMYWJlbCA9PT0gdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQ291bGQgbm90IGluZmVyIG1lYXN1cmVtZW50IHN0YXRlIGZyb20gbGF5ZXI7IGRlZmF1bHRpbmcgdG8gb2ZmLicsIGUpO1xyXG4gICAgICAgICAgICB0aGlzLl9tZWFzdXJlbWVudFdhc0VuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIPCflJIgVGVtcG9yYXJpbHkgZGlzYWJsZSBtZWFzdXJlbWVudHMgZHVyaW5nIGRlbGV0aW9uIHRvIHByZXZlbnQgaW50ZXJmZXJlbmNlXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25NZWFzdXJlbWVudFN5c3RlbUNvbnRyb2wpIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygn8J+bkSBUZW1wb3JhcmlseSBkaXNhYmxpbmcgbWVhc3VyZW1lbnRzIGZvciBkZWxldGlvbicpO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uTWVhc3VyZW1lbnRTeXN0ZW1Db250cm9sKGZhbHNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIPCfmqkgRmxhZzogZGVsZXRpb24gaW4gcHJvZ3Jlc3MgKHByZXZlbnRzIGxpc3RlbmVycyBmcm9tIHJlYWN0aW5nIHRvIG91ciBvd24gY2hhbmdlcylcclxuICAgICAgICB0aGlzLl9pc0RlbGV0aW5nR3JhcGhpYyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pZ25vcmVOZXh0R3JhcGhpY3NVcGRhdGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyDwn46vIFRhcmdldCBncmFwaGljXHJcbiAgICAgICAgY29uc3QgZ3JhcGhpY1RvRGVsZXRlID0gdGhpcy5zdGF0ZS5kcmF3aW5nc1tpbmRleF07XHJcbiAgICAgICAgaWYgKCFncmFwaGljVG9EZWxldGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIE5vIGdyYXBoaWMgZm91bmQgYXQgaW5kZXggJHtpbmRleH1gKTtcclxuICAgICAgICAgICAgdGhpcy5faXNEZWxldGluZ0dyYXBoaWMgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5pZ25vcmVOZXh0R3JhcGhpY3NVcGRhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIPCflIEgUmVzdG9yZSBtZWFzdXJlbWVudHMgT05MWSBpZiB0aGV5IHdlcmUgb3JpZ2luYWxseSBlbmFibGVkXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uTWVhc3VyZW1lbnRTeXN0ZW1Db250cm9sICYmIHRoaXMuX21lYXN1cmVtZW50V2FzRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbk1lYXN1cmVtZW50U3lzdGVtQ29udHJvbCh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKGDwn46vIFRhcmdldCBncmFwaGljOmAsIGdyYXBoaWNUb0RlbGV0ZS5hdHRyaWJ1dGVzPy5uYW1lIHx8IGBEcmF3aW5nICR7aW5kZXggKyAxfWApO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBTVEVQIDA6IFByb2FjdGl2ZWx5IGNsZWFyIG1lYXN1cmVtZW50IGFydGlmYWN0cyBvbiB0aGUgdGFyZ2V0XHJcbiAgICAgICAgICAgIC8vIChyZW1vdmVzIHRvdGFsL2FyZWEvcmFkaXVzL3NlZ21lbnQgbGFiZWxzICYgaW50ZXJuYWwgcmVmcyB0byBhdm9pZCBnaG9zdHMvcmFjZXMpXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU1lYXN1cmVtZW50TGFiZWxzKGdyYXBoaWNUb0RlbGV0ZSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGNsZWFuRXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBGYWlsZWQgcHJlLWNsZWFuIG9mIG1lYXN1cmVtZW50IGxhYmVscyBiZWZvcmUgZGVsZXRlOicsIGNsZWFuRXJyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU1RFUCAxOiBFbnN1cmUgU2tldGNoVmlld01vZGVsIGlzbid0IHRvdWNoaW5nIHRoaXMgZ3JhcGhpY1xyXG4gICAgICAgICAgICBpZiAodGhpcy5za2V0Y2hWaWV3TW9kZWwpIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfm5EgRm9yY2UgY2FuY2VsaW5nIFNrZXRjaFZpZXdNb2RlbCBvcGVyYXRpb25zYCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNCZWluZ0VkaXRlZCA9IHRoaXMuc2tldGNoVmlld01vZGVsLnVwZGF0ZUdyYXBoaWNzPy5zb21lKFxyXG4gICAgICAgICAgICAgICAgICAgIGcgPT4gZy5hdHRyaWJ1dGVzPy51bmlxdWVJZCA9PT0gZ3JhcGhpY1RvRGVsZXRlLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBjYW5jZWwgdG8gZmx1c2ggYW55IGxhdGVudCBlZGl0IGhhbmRsZXNcclxuICAgICAgICAgICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNhbmNlbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENsZWFyIGFueSBzZWxlY3Rpb24vZWRpdGluZyBzdGF0ZSBpbiBvdXIgVUkgdG8gcHJldmVudCByZS1zZWxlY3Rpb25cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEdyYXBoaWNJbmRleDogbnVsbCwgc3ltYm9sRWRpdGluZ0luZGV4OiBudWxsIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFdhaXQgYSBiZWF0IHRvIGFsbG93IFNWTSB0byBmdWxseSByZWxlYXNlIHJlZmVyZW5jZXNcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGggYWN0dWFsIGRlbGV0aW9uIG9uY2UgU1ZNIGlzIHNldHRsZWRcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRpbnVlRGVsZXRlR3JhcGhpYyhpbmRleCwgZ3JhcGhpY1RvRGVsZXRlKTtcclxuICAgICAgICAgICAgICAgIH0sIGlzQmVpbmdFZGl0ZWQgPyAzMDAgOiAxMDApO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gZXhpdDsgd2UnbGwgcmVzdW1lIGluIGNvbnRpbnVlRGVsZXRlR3JhcGhpY1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBObyBTVk0gYWN0aXZlIOKGkiBwcm9jZWVkIGltbWVkaWF0ZWx5XHJcbiAgICAgICAgICAgIHRoaXMuY29udGludWVEZWxldGVHcmFwaGljKGluZGV4LCBncmFwaGljVG9EZWxldGUpO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3Igc3RhcnRpbmcgZGVsZXRpb246JywgZXJyb3IpO1xyXG5cclxuICAgICAgICAgICAgLy8gQWx3YXlzIGNsZWFyIGZsYWdzIG9uIGZhaWx1cmUgcGF0aHNcclxuICAgICAgICAgICAgdGhpcy5faXNEZWxldGluZ0dyYXBoaWMgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5pZ25vcmVOZXh0R3JhcGhpY3NVcGRhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIPCflIEgUmVzdG9yZSBtZWFzdXJlbWVudCBzeXN0ZW0gT05MWSBpZiBpdCB3YXMgb3JpZ2luYWxseSBlbmFibGVkXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uTWVhc3VyZW1lbnRTeXN0ZW1Db250cm9sICYmIHRoaXMuX21lYXN1cmVtZW50V2FzRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbk1lYXN1cmVtZW50U3lzdGVtQ29udHJvbCh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zaG93TG9jYWxBbGVydCgnRXJyb3IgZGVsZXRpbmcgZHJhd2luZycsICdlcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcGVyZm9ybURlbGV0ZVNlbGVjdGVkID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgZHJhd2luZ3MsIHNlbGVjdGVkR3JhcGhpY3MgfSA9IHRoaXMuc3RhdGU7XHJcblxyXG4gICAgICAgIGlmIChzZWxlY3RlZEdyYXBoaWNzLnNpemUgPT09IDApIHJldHVybjtcclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+Xke+4jyBTdGFydGluZyBkZWxldGlvbiBvZiAke3NlbGVjdGVkR3JhcGhpY3Muc2l6ZX0gc2VsZWN0ZWQgZ3JhcGhpY3NgKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IGRlbGV0aW9uIGZsYWcgdG8gcHJldmVudCBpbnRlcmZlcmVuY2VcclxuICAgICAgICB0aGlzLl9pc0RlbGV0aW5nR3JhcGhpYyA9IHRydWU7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIFNURVAgMTogRm9yY2UgY2FuY2VsIGFueSBTa2V0Y2hWaWV3TW9kZWwgb3BlcmF0aW9uc1xyXG4gICAgICAgICAgICBpZiAodGhpcy5za2V0Y2hWaWV3TW9kZWwpIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfm5EgQ2FuY2VsaW5nIFNrZXRjaFZpZXdNb2RlbCBiZWZvcmUgYnVsayBkZWxldGlvbmApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY2FuY2VsKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFNURVAgMjogQ2xlYW4gdXAgbWVhc3VyZW1lbnQgbGFiZWxzIGZvciBhbGwgc2VsZWN0ZWQgZHJhd2luZ3MgRklSU1RcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJbmRpY2VzID0gQXJyYXkuZnJvbShzZWxlY3RlZEdyYXBoaWNzKTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+nuSBDbGVhbmluZyB1cCBtZWFzdXJlbWVudCBsYWJlbHMgZm9yICR7c2VsZWN0ZWRJbmRpY2VzLmxlbmd0aH0gZ3JhcGhpY3NgKTtcclxuXHJcbiAgICAgICAgICAgIHNlbGVjdGVkSW5kaWNlcy5mb3JFYWNoKGluZGV4ID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdyYXBoaWMgPSBkcmF3aW5nc1tpbmRleF07XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JhcGhpYykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfp7kgQ2xlYW5pbmcgbWVhc3VyZW1lbnRzIGZvcjogJHtncmFwaGljLmF0dHJpYnV0ZXM/Lm5hbWUgfHwgYERyYXdpbmcgJHtpbmRleCArIDF9YH1gKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU1lYXN1cmVtZW50TGFiZWxzKGdyYXBoaWMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNURVAgMzogUmVtb3ZlIHRoZSBhY3R1YWwgZHJhd2luZyBncmFwaGljcyBmcm9tIHRoZSBsYXllclxyXG4gICAgICAgICAgICAvLyBTb3J0IGluZGljZXMgaW4gZGVzY2VuZGluZyBvcmRlciB0byBhdm9pZCBpbmRleCBzaGlmdGluZyBpc3N1ZXNcclxuICAgICAgICAgICAgY29uc3Qgc29ydGVkSW5kaWNlcyA9IHNlbGVjdGVkSW5kaWNlcy5zb3J0KChhLCBiKSA9PiBiIC0gYSk7XHJcblxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDwn5eR77iPIFJlbW92aW5nICR7c29ydGVkSW5kaWNlcy5sZW5ndGh9IGdyYXBoaWNzIGZyb20gbGF5ZXJgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE1hcmsgdGhhdCB3ZSdyZSBhYm91dCB0byB1cGRhdGUgdGhlIGdyYXBoaWNzIGxheWVyXHJcbiAgICAgICAgICAgIHRoaXMuaWdub3JlTmV4dEdyYXBoaWNzVXBkYXRlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgaW5kZXggb2Ygc29ydGVkSW5kaWNlcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JhcGhpYyA9IGRyYXdpbmdzW2luZGV4XTtcclxuICAgICAgICAgICAgICAgIGlmICghZ3JhcGhpYykgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgdW5pcXVlSWQgPSBncmFwaGljLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+Xke+4jyBSZW1vdmluZyBncmFwaGljOiAke2dyYXBoaWMuYXR0cmlidXRlcz8ubmFtZSB8fCBgRHJhd2luZyAke2luZGV4ICsgMX1gfSAoJHt1bmlxdWVJZH0pYCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHVuaXF1ZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgZXhhY3QgZ3JhcGhpYyBpbiB0aGUgbGF5ZXIgYnkgdW5pcXVlSWQgKG1vcmUgcmVsaWFibGUpXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGF5ZXJHcmFwaGljcyA9IHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5ncmFwaGljcy50b0FycmF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0R3JhcGhpYyA9IGxheWVyR3JhcGhpY3MuZmluZChnID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGcuYXR0cmlidXRlcz8udW5pcXVlSWQgPT09IHVuaXF1ZUlkICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICFnLmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRMYWJlbCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAhZy5hdHRyaWJ1dGVzPy5oaWRlRnJvbUxpc3RcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0R3JhcGhpYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIucmVtb3ZlKHRhcmdldEdyYXBoaWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDinIUgUmVtb3ZlZCBncmFwaGljIHdpdGggdW5pcXVlSWQ6ICR7dW5pcXVlSWR9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gQ291bGQgbm90IGZpbmQgZ3JhcGhpYyB3aXRoIHVuaXF1ZUlkICR7dW5pcXVlSWR9IGluIGxheWVyYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrOiB0cnkgdG8gcmVtb3ZlIGJ5IHJlZmVyZW5jZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmdyYXBoaWNzLmluY2x1ZGVzKGdyYXBoaWMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIucmVtb3ZlKGdyYXBoaWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg4pyFIFJlbW92ZWQgZ3JhcGhpYyBieSByZWZlcmVuY2UgZmFsbGJhY2tgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gdW5pcXVlSWQsIHVzZSBkaXJlY3QgcmVmZXJlbmNlIHJlbW92YWxcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmdyYXBoaWNzLmluY2x1ZGVzKGdyYXBoaWMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5yZW1vdmUoZ3JhcGhpYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYOKchSBSZW1vdmVkIGdyYXBoaWMgYnkgZGlyZWN0IHJlZmVyZW5jZWApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU1RFUCA0OiBBVVRPTUFUSUMgQ0xFQU5VUCBhZnRlciBidWxrIGRlbGV0aW9uXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+nuSBSdW5uaW5nIGF1dG9tYXRpYyBvcnBoYW4gY2xlYW51cCBhZnRlciBidWxrIGRlbGV0aW9uYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFudXBPcnBoYW5lZE1lYXN1cmVtZW50TGFiZWxzKCk7XHJcbiAgICAgICAgICAgIH0sIDMwMCk7XHJcblxyXG4gICAgICAgICAgICAvLyBTVEVQIDU6IFVwZGF0ZSBzdGF0ZVxyXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkRHJhd2luZ3MgPSBkcmF3aW5ncy5maWx0ZXIoKF8sIGluZGV4KSA9PiAhc2VsZWN0ZWRHcmFwaGljcy5oYXMoaW5kZXgpKTtcclxuXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYPCfk4ogVXBkYXRpbmcgc3RhdGU6ICR7ZHJhd2luZ3MubGVuZ3RofSAtPiAke3VwZGF0ZWREcmF3aW5ncy5sZW5ndGh9IGRyYXdpbmdzYCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGRyYXdpbmdzOiB1cGRhdGVkRHJhd2luZ3MsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEdyYXBoaWNzOiBuZXcgU2V0PG51bWJlcj4oKSxcclxuICAgICAgICAgICAgICAgIHN5bWJvbEVkaXRpbmdJbmRleDogbnVsbCxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkR3JhcGhpY0luZGV4OiBudWxsXHJcbiAgICAgICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYOKchSBTdGF0ZSB1cGRhdGVkIC0gJHt1cGRhdGVkRHJhd2luZ3MubGVuZ3RofSBkcmF3aW5ncyByZW1haW5pbmdgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTYXZlIHRvIGxvY2FsU3RvcmFnZSBpZiBjb25zZW50IGdyYW50ZWRcclxuICAgICAgICAgICAgICAgIGlmICgodGhpcy5wcm9wcy5hbGxvd0xvY2FsU3RvcmFnZSAhPT0gZmFsc2UpICYmIHRoaXMuc3RhdGUuY29uc2VudEdyYW50ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmVUb0xvY2FsU3RvcmFnZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIE5vdGlmeSBwYXJlbnQgaWYgbmVlZGVkXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vbkRyYXdpbmdzVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkRyYXdpbmdzVXBkYXRlKHVwZGF0ZWREcmF3aW5ncyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgZGVsZXRpb24gZmxhZ1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faXNEZWxldGluZ0dyYXBoaWMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTVEVQIDY6IEZpbmFsIHZlcmlmaWNhdGlvbiBhbmQgY2xlYW51cFxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52ZXJpZnlMYXllclN0YXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUnVuIGZpbmFsIGNsZWFudXAgdG8gZW5zdXJlIGV2ZXJ5dGhpbmcgaXMgY2xlYW5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFudXBPcnBoYW5lZE1lYXN1cmVtZW50TGFiZWxzKCk7XHJcbiAgICAgICAgICAgICAgICB9LCA1MDApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYOKchSBCdWxrIGRlbGV0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlgKTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGRlbGV0aW5nIHNlbGVjdGVkIGdyYXBoaWNzOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5faXNEZWxldGluZ0dyYXBoaWMgPSBmYWxzZTsgLy8gQWx3YXlzIGNsZWFyIHRoZSBmbGFnXHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xvY2FsQWxlcnQoJ0Vycm9yIGRlbGV0aW5nIHNlbGVjdGVkIGRyYXdpbmdzJywgJ2Vycm9yJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBSZWZyZXNoIGZyb20gbGF5ZXIgdG8gZW5zdXJlIHN0YXRlIGlzIGNvbnNpc3RlbnRcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhg8J+UhCBSZWZyZXNoaW5nIGZyb20gbGF5ZXIgZHVlIHRvIGVycm9yYCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaERyYXdpbmdzRnJvbUxheWVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBoYW5kbGVTb3J0T3B0aW9uQ2hhbmdlID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxTZWxlY3RFbGVtZW50PikgPT4ge1xyXG4gICAgICAgIC8vIENoZWNrIGNvbnNlbnRcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdNeSBEcmF3aW5ncyBmZWF0dXJlIHJlcXVpcmVzIGxvY2FsIHN0b3JhZ2UgcGVybWlzc2lvbicsICd3YXJuaW5nJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHNvcnRPcHRpb24gPSBlLnRhcmdldC52YWx1ZSBhcyAnbmFtZScgfCAndHlwZScgfCAnY3JlYXRlZCc7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzb3J0T3B0aW9uIH0sICgpID0+IHtcclxuICAgICAgICAgICAgLy8gU29ydCB0aGUgY3VycmVudCBkcmF3aW5nc1xyXG4gICAgICAgICAgICBjb25zdCBzb3J0ZWREcmF3aW5ncyA9IHRoaXMuc29ydEdyYXBoaWNzQXJyYXkodGhpcy5zdGF0ZS5kcmF3aW5ncyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBkcmF3aW5nczogc29ydGVkRHJhd2luZ3MgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRFZGl0aW5nID0gKGluZGV4OiBudW1iZXIsIGV2ZW50PzogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIC8vIENoZWNrIGNvbnNlbnRcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdNeSBEcmF3aW5ncyBmZWF0dXJlIHJlcXVpcmVzIGxvY2FsIHN0b3JhZ2UgcGVybWlzc2lvbicsICd3YXJuaW5nJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0b3AgZXZlbnQgcHJvcGFnYXRpb24gaWYgcHJvdmlkZWRcclxuICAgICAgICBpZiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZWRpdGluZ0dyYXBoaWNJbmRleDogaW5kZXggfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlTmFtZUNoYW5nZSA9IChpbmRleDogbnVtYmVyLCBuZXdOYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAvLyBEZWJ1Z2dpbmc6IExvZyBpbnB1dCB2YWx1ZSB0byBzZWUgaWYgc3BhY2VzIGFyZSBwcmVzZW50XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnaGFuZGxlTmFtZUNoYW5nZSByZWNlaXZlZDonLCBuZXdOYW1lLCAnY29udGFpbnMgc3BhY2VzOicsIG5ld05hbWUuaW5jbHVkZXMoJyAnKSk7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGNvbnNlbnRcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCAhPT0gdHJ1ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCB1cGRhdGVkRHJhd2luZ3MgPSBbLi4udGhpcy5zdGF0ZS5kcmF3aW5nc107XHJcbiAgICAgICAgY29uc3QgZ3JhcGhpYyA9IHVwZGF0ZWREcmF3aW5nc1tpbmRleF07XHJcblxyXG4gICAgICAgIGlmICghZ3JhcGhpYykgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBFbnN1cmUgYXR0cmlidXRlcyBvYmplY3RcclxuICAgICAgICBpZiAoIWdyYXBoaWMuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICBncmFwaGljLmF0dHJpYnV0ZXMgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBuYW1lIGF0dHJpYnV0ZSAtIGFkZCBtb3JlIGRlYnVnZ2luZ1xyXG4gICAgICAgIGdyYXBoaWMuYXR0cmlidXRlcy5uYW1lID0gbmV3TmFtZTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdTZXQgYXR0cmlidXRlcy5uYW1lIHRvOicsIGdyYXBoaWMuYXR0cmlidXRlcy5uYW1lKTtcclxuXHJcbiAgICAgICAgLy8gUkVNT1ZFRDogRG8gbm90IGF1dG9tYXRpY2FsbHkgdXBkYXRlIHRleHQgc3ltYm9sIGNvbnRlbnQgd2hlbiByZW5hbWluZ1xyXG4gICAgICAgIC8vIFRoaXMgYWxsb3dzIHVzZXJzIHRvIGhhdmUgbWVhbmluZ2Z1bCByZWZlcmVuY2UgbmFtZXMgdGhhdCBkaWZmZXIgZnJvbSBkaXNwbGF5ZWQgdGV4dFxyXG4gICAgICAgIC8vIGlmIChncmFwaGljLnN5bWJvbD8udHlwZSA9PT0gJ3RleHQnKSB7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IHRleHRTeW1ib2wgPSBncmFwaGljLnN5bWJvbCBhcyBUZXh0U3ltYm9sO1xyXG4gICAgICAgIC8vICAgICB0ZXh0U3ltYm9sLnRleHQgPSBuZXdOYW1lO1xyXG4gICAgICAgIC8vICAgICAvL2NvbnNvbGUubG9nKCdVcGRhdGVkIHRleHQgc3ltYm9sIHRvOicsIHRleHRTeW1ib2wudGV4dCk7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAvLyBPcHRpb25hbDogcmVhcHBseSB0aGUgZ3JhcGhpYyB0byB0aGUgbGF5ZXIgdG8gcmVmbGVjdCBuYW1lIGNoYW5nZVxyXG4gICAgICAgIHRoaXMuaWdub3JlTmV4dEdyYXBoaWNzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIucmVtb3ZlKGdyYXBoaWMpO1xyXG4gICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5hZGQoZ3JhcGhpYyk7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBzdGF0ZSBhbmQgcGVyc2lzdFxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBkcmF3aW5nczogdXBkYXRlZERyYXdpbmdzIH0sICgpID0+IHtcclxuICAgICAgICAgICAgLy8gQ29uZmlybSB2YWx1ZSBpbiB0aGUgdXBkYXRlZCBzdGF0ZVxyXG4gICAgICAgICAgICBjb25zdCBjb25maXJtZWRWYWx1ZSA9IHRoaXMuc3RhdGUuZHJhd2luZ3NbaW5kZXhdPy5hdHRyaWJ1dGVzPy5uYW1lO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdOYW1lIGluIHN0YXRlIGFmdGVyIHVwZGF0ZTonLCBjb25maXJtZWRWYWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoKHRoaXMucHJvcHMuYWxsb3dMb2NhbFN0b3JhZ2UgIT09IGZhbHNlKSAmJiB0aGlzLnN0YXRlLmNvbnNlbnRHcmFudGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNhdmVUb0xvY2FsU3RvcmFnZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBzYXZlTmFtZUVkaXQgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gQ2hlY2sgY29uc2VudFxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmNvbnNlbnRHcmFudGVkICE9PSB0cnVlIHx8IHRoaXMuc3RhdGUuZWRpdGluZ0dyYXBoaWNJbmRleCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93TG9jYWxBbGVydCgnTXkgRHJhd2luZ3MgZmVhdHVyZSByZXF1aXJlcyBsb2NhbCBzdG9yYWdlIHBlcm1pc3Npb24nLCAnd2FybmluZycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgdXBkYXRlZCBncmFwaGljXHJcbiAgICAgICAgICAgIGNvbnN0IGdyYXBoaWMgPSB0aGlzLnN0YXRlLmRyYXdpbmdzW3RoaXMuc3RhdGUuZWRpdGluZ0dyYXBoaWNJbmRleF07XHJcbiAgICAgICAgICAgIGlmICghZ3JhcGhpYykgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgLy8gTWFyayB0aGF0IHdlJ3JlIGFib3V0IHRvIHVwZGF0ZSB0aGUgZ3JhcGhpY3MgbGF5ZXJcclxuICAgICAgICAgICAgdGhpcy5pZ25vcmVOZXh0R3JhcGhpY3NVcGRhdGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBncmFwaGljIGluIHRoZSBsYXllciAocmVtb3ZlIGFuZCByZS1hZGQgdG8gZW5zdXJlIHVwZGF0ZSlcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLnJlbW92ZShncmFwaGljKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmFkZChncmFwaGljKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEV4aXQgZWRpdGluZyBtb2RlXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0aW5nR3JhcGhpY0luZGV4OiBudWxsIH0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFNhdmUgdG8gbG9jYWxTdG9yYWdlIGlmIGNvbnNlbnQgZ3JhbnRlZFxyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLnByb3BzLmFsbG93TG9jYWxTdG9yYWdlICE9PSBmYWxzZSkgJiYgdGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gRG9uJ3Qgc2hvdyBhbGVydCAtIHNpbGVudGx5IHVwZGF0ZVxyXG4gICAgICAgICAgICAvLyB0aGlzLnNob3dMb2NhbEFsZXJ0KCdOYW1lIHVwZGF0ZWQnLCAnc3VjY2VzcycpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBuYW1lIGVkaXQ6JywgZXJyb3IpO1xyXG5cclxuICAgICAgICAgICAgLy8gV2UnbGwgc3RpbGwgc2hvdyBhbiBlcnJvciBpZiBzb21ldGhpbmcgZ29lcyB3cm9uZ1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdFcnJvciB1cGRhdGluZyBuYW1lJywgJ2Vycm9yJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBFeGl0IGVkaXRpbmcgbW9kZVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZWRpdGluZ0dyYXBoaWNJbmRleDogbnVsbCB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2FuY2VsTmFtZUVkaXQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVkaXRpbmdHcmFwaGljSW5kZXg6IG51bGwgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RHJhd2luZ1R5cGVMYWJlbCA9IChncmFwaGljOiBFeHRlbmRlZEdyYXBoaWMpOiBzdHJpbmcgPT4ge1xyXG4gICAgICAgIC8vIFRyeSB0byBnZXQgdGhlIGRyYXcgbW9kZSBmcm9tIGF0dHJpYnV0ZXNcclxuICAgICAgICBsZXQgZHJhd01vZGUgPSBncmFwaGljLmF0dHJpYnV0ZXM/LmRyYXdNb2RlO1xyXG5cclxuICAgICAgICAvLyBJZiBub3QgZm91bmQsIHRyeSB0byBnZXQgZ2VvbWV0cnkgdHlwZVxyXG4gICAgICAgIGlmICghZHJhd01vZGUpIHtcclxuICAgICAgICAgICAgY29uc3QgZ2VvbVR5cGVBdHRyID0gZ3JhcGhpYy5hdHRyaWJ1dGVzPy5nZW9tZXRyeVR5cGU7XHJcblxyXG4gICAgICAgICAgICBpZiAoWydjaXJjbGUnLCAncmVjdGFuZ2xlJywgJ3RleHQnXS5pbmNsdWRlcyhnZW9tVHlwZUF0dHIpKSB7XHJcbiAgICAgICAgICAgICAgICBkcmF3TW9kZSA9IGdlb21UeXBlQXR0cjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBpdCdzIGEgdGV4dCBzeW1ib2xcclxuICAgICAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICBncmFwaGljLmdlb21ldHJ5Py50eXBlID09PSAncG9pbnQnICYmXHJcbiAgICAgICAgICAgICAgICBncmFwaGljLnN5bWJvbD8udHlwZSA9PT0gJ3RleHQnXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgZHJhd01vZGUgPSAndGV4dCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBkZXRlcm1pbmUgZnJvbSBnZW9tZXRyeVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRyYXdNb2RlID0gZ3JhcGhpYy5nZW9tZXRyeT8udHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ29udmVydCB0ZWNobmljYWwgbmFtZXMgdG8gdXNlci1mcmllbmRseSBsYWJlbHNcclxuICAgICAgICBzd2l0Y2ggKGRyYXdNb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3BvaW50JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAnUG9pbnQnO1xyXG4gICAgICAgICAgICBjYXNlICdwb2x5bGluZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0xpbmUnO1xyXG4gICAgICAgICAgICBjYXNlICdwb2x5Z29uJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAnUG9seWdvbic7XHJcbiAgICAgICAgICAgIGNhc2UgJ3JlY3RhbmdsZSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2V4dGVudCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1JlY3RhbmdsZSc7XHJcbiAgICAgICAgICAgIGNhc2UgJ2NpcmNsZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0NpcmNsZSc7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RleHQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdUZXh0JztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBkcmF3TW9kZT8uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBkcmF3TW9kZT8uc2xpY2UoMSkgfHwgJ1Vua25vd24nO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3JtYXRDcmVhdGVkRGF0ZSA9IChkYXRlVmFsdWU6IG51bWJlciB8IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgaWYgKCFkYXRlVmFsdWUpIHJldHVybiAnJztcclxuXHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKE51bWJlcihkYXRlVmFsdWUpKTtcclxuICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcodW5kZWZpbmVkLCB7XHJcbiAgICAgICAgICAgIHllYXI6ICdudW1lcmljJyxcclxuICAgICAgICAgICAgbW9udGg6ICdzaG9ydCcsXHJcbiAgICAgICAgICAgIGRheTogJ251bWVyaWMnXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlblN5bWJvbEVkaXRvciA9IChpbmRleDogbnVtYmVyLCBldmVudD86IFJlYWN0Lk1vdXNlRXZlbnQgfCBSZWFjdC5LZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY29uc2VudEdyYW50ZWQgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93TG9jYWxBbGVydCgnTXkgRHJhd2luZ3MgZmVhdHVyZSByZXF1aXJlcyBsb2NhbCBzdG9yYWdlIHBlcm1pc3Npb24nLCAnd2FybmluZycpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZXZlbnQpIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICBjb25zdCBncmFwaGljID0gdGhpcy5zdGF0ZS5kcmF3aW5nc1tpbmRleF07XHJcbiAgICAgICAgaWYgKCFncmFwaGljKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgTm8gZHJhd2luZyBmb3VuZCBhdCBpbmRleCAke2luZGV4fWApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDUklUSUNBTCBGSVg6IFN0b3JlIGN1cnJlbnQgc2VnbWVudCBsYWJlbCBzdGF0ZSBCRUZPUkUgY2FuY2VsaW5nIFNrZXRjaFZpZXdNb2RlbFxyXG4gICAgICAgIGNvbnN0IGdyYXBoaWNIYWRTZWdtZW50TGFiZWxzID0gZ3JhcGhpYy5hdHRyaWJ1dGVzPy5yZWxhdGVkU2VnbWVudExhYmVscyAmJlxyXG4gICAgICAgICAgICBncmFwaGljLmF0dHJpYnV0ZXMucmVsYXRlZFNlZ21lbnRMYWJlbHMubGVuZ3RoID4gMDtcclxuXHJcbiAgICAgICAgLy8gQ2FuY2VsIHRoZSBjdXJyZW50IFNrZXRjaFZpZXdNb2RlbCBvcGVyYXRpb24gYmVmb3JlIGNoYW5naW5nIHRoZSBncmFwaGljIGluIHN0YXRlXHJcbiAgICAgICAgaWYgKHRoaXMuc2tldGNoVmlld01vZGVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNhbmNlbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ1JJVElDQUwgRklYOiBJZiB0aGUgZ3JhcGhpYyBoYWQgc2VnbWVudCBsYWJlbHMsIHByZXNlcnZlIHRoZW0gYWZ0ZXIgY2FuY2VsXHJcbiAgICAgICAgLy8gVGhlIGNhbmNlbCBvcGVyYXRpb24gbWF5IGhhdmUgY2xlYXJlZCB0aGVtLCBzbyB3ZSBuZWVkIHRvIGVuc3VyZSB0aGV5IHBlcnNpc3RcclxuICAgICAgICBpZiAoZ3JhcGhpY0hhZFNlZ21lbnRMYWJlbHMgJiYgdGhpcy5tZWFzdXJlUmVmPy5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgIC8vIFNtYWxsIGRlbGF5IHRvIGxldCBjYW5jZWwgY29tcGxldGUsIHRoZW4gcmVzdG9yZSBzZWdtZW50c1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIEZvcmNlIG1lYXN1cmVtZW50IHN5c3RlbSB0byByZWNyZWF0ZSBzZWdtZW50cyBpZiB0aGV5IHdlcmUgcmVtb3ZlZFxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWVhc3VyZVJlZj8uY3VycmVudCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICghZ3JhcGhpYy5hdHRyaWJ1dGVzPy5yZWxhdGVkU2VnbWVudExhYmVscyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncmFwaGljLmF0dHJpYnV0ZXMucmVsYXRlZFNlZ21lbnRMYWJlbHMubGVuZ3RoID09PSAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVhc3VyZVJlZi5jdXJyZW50LnVwZGF0ZU1lYXN1cmVtZW50c0ZvckdyYXBoaWMoZ3JhcGhpYyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTcGVjaWZpY2FsbHkgZm9yIHRleHQgc3ltYm9scywgaW5pdGlhbGl6ZSBhZGRpdGlvbmFsIHRleHQgZWRpdGluZyBzdGF0ZVxyXG4gICAgICAgIGlmIChncmFwaGljLnN5bWJvbD8udHlwZSA9PT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHRTeW1ib2wgPSBncmFwaGljLnN5bWJvbCBhcyBfX2VzcmkuVGV4dFN5bWJvbDtcclxuICAgICAgICAgICAgLy8gR2V0IHN5bWJvbCBjb2xvciBhcyByZ2JhIHN0cmluZyBmb3IgdGhlIGNvbG9yIHBpY2tlclxyXG4gICAgICAgICAgICBjb25zdCBzeW1ib2xDb2xvciA9IHRleHRTeW1ib2wuY29sb3IgP1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb252ZXJ0Q29sb3JUb1JnYmEodGV4dFN5bWJvbC5jb2xvcikgOiAncmdiYSgwLDAsMCwxKSc7XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgaGFsbyBjb2xvciBhbmQgc2V0dGluZ3NcclxuICAgICAgICAgICAgY29uc3QgaGFsb0VuYWJsZWQgPSB0ZXh0U3ltYm9sLmhhbG9TaXplICE9PSBudWxsICYmIHRleHRTeW1ib2wuaGFsb1NpemUgPiAwO1xyXG4gICAgICAgICAgICBjb25zdCBoYWxvQ29sb3IgPSB0ZXh0U3ltYm9sLmhhbG9Db2xvciA/XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnZlcnRDb2xvclRvUmdiYSh0ZXh0U3ltYm9sLmhhbG9Db2xvcikgOiAncmdiYSgyNTUsMjU1LDI1NSwxKSc7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhbG9TaXplID0gdGV4dFN5bWJvbC5oYWxvU2l6ZSB8fCAxO1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0IHRleHQgYWxpZ25tZW50IHN0YXRlc1xyXG4gICAgICAgICAgICBjb25zdCBob3Jpem9udGFsQWxpZ25tZW50ID0gdGV4dFN5bWJvbC5ob3Jpem9udGFsQWxpZ25tZW50IHx8ICdjZW50ZXInO1xyXG4gICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbEFsaWdubWVudCA9IHRleHRTeW1ib2wudmVydGljYWxBbGlnbm1lbnQgfHwgJ21pZGRsZSc7XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgZm9udCBzdHlsZSBzZXR0aW5ncyAtIGVuc3VyZSB3ZSdyZSBnZXR0aW5nIHRoZSBjb3JyZWN0IHZhbHVlc1xyXG4gICAgICAgICAgICBjb25zdCBmb250V2VpZ2h0ID0gdGV4dFN5bWJvbC5mb250Py53ZWlnaHQgfHwgJ25vcm1hbCc7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvbnRTdHlsZSA9IHRleHRTeW1ib2wuZm9udD8uc3R5bGUgfHwgJ25vcm1hbCc7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvbnREZWNvcmF0aW9uID0gdGV4dFN5bWJvbC5mb250Py5kZWNvcmF0aW9uIHx8ICdub25lJztcclxuICAgICAgICAgICAgY29uc3QgZm9udFNpemUgPSB0ZXh0U3ltYm9sLmZvbnQ/LnNpemUgfHwgMTI7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvbnRSb3RhdGlvbiA9IHRleHRTeW1ib2wuYW5nbGUgfHwgMDtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHN0eWxpbmcgaXMgYWN0aXZlIC0gYmUgdmVyeSBleHBsaWNpdCB0byBlbnN1cmUgd2Ugc2V0IGNvcnJlY3Qgc3RhdGVzXHJcbiAgICAgICAgICAgIGNvbnN0IGlzQm9sZCA9IGZvbnRXZWlnaHQgPT09ICdib2xkJztcclxuICAgICAgICAgICAgY29uc3QgaXNJdGFsaWMgPSBmb250U3R5bGUgPT09ICdpdGFsaWMnO1xyXG4gICAgICAgICAgICBjb25zdCBpc1VuZGVybGluZSA9IGZvbnREZWNvcmF0aW9uID09PSAndW5kZXJsaW5lJztcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzdGF0ZSB3aXRoIGFsbCB0ZXh0IHByb3BlcnRpZXNcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBzeW1ib2xFZGl0aW5nSW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICAgICAgdGV4dFZhbHVlOiB0ZXh0U3ltYm9sLnRleHQgfHwgJycsXHJcbiAgICAgICAgICAgICAgICAvLyBUZXh0IHByb3BlcnRpZXNcclxuICAgICAgICAgICAgICAgIGZvbnRDb2xvcjogc3ltYm9sQ29sb3IsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogZm9udFNpemUsXHJcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiB0ZXh0U3ltYm9sLmZvbnQ/LmZhbWlseSB8fCAnQXJpYWwnLFxyXG4gICAgICAgICAgICAgICAgZm9udFJvdGF0aW9uOiBmb250Um90YXRpb24sXHJcbiAgICAgICAgICAgICAgICAvLyBPcGFjaXR5IHZhbHVlcyAoZnJvbSBhbHBoYSBjaGFubmVsKVxyXG4gICAgICAgICAgICAgICAgZm9udE9wYWNpdHk6IHRleHRTeW1ib2wuY29sb3I/LmEgfHwgMSxcclxuICAgICAgICAgICAgICAgIC8vIEhhbG8gc2V0dGluZ3NcclxuICAgICAgICAgICAgICAgIGZvbnRIYWxvRW5hYmxlZDogaGFsb0VuYWJsZWQsXHJcbiAgICAgICAgICAgICAgICBmb250SGFsb0NvbG9yOiBoYWxvQ29sb3IsXHJcbiAgICAgICAgICAgICAgICBmb250SGFsb1NpemU6IGhhbG9TaXplLFxyXG4gICAgICAgICAgICAgICAgZm9udEhhbG9PcGFjaXR5OiB0ZXh0U3ltYm9sLmhhbG9Db2xvcj8uYSB8fCAxLFxyXG4gICAgICAgICAgICAgICAgLy8gQWxpZ25tZW50IHNldHRpbmdzXHJcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsQWxpZ25tZW50OiBob3Jpem9udGFsQWxpZ25tZW50LFxyXG4gICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbm1lbnQ6IHZlcnRpY2FsQWxpZ25tZW50LFxyXG4gICAgICAgICAgICAgICAgLy8gRm9udCBzdHlsZSBzZXR0aW5nc1xyXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogZm9udFdlaWdodCxcclxuICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogZm9udFN0eWxlLFxyXG4gICAgICAgICAgICAgICAgZm9udERlY29yYXRpb246IGZvbnREZWNvcmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgLy8gQnV0dG9uIGFjdGl2ZSBzdGF0ZXMgLSBiZSB2ZXJ5IGV4cGxpY2l0XHJcbiAgICAgICAgICAgICAgICBoQWxpZ25MZWZ0QWN0aXZlOiBob3Jpem9udGFsQWxpZ25tZW50ID09PSAnbGVmdCcsXHJcbiAgICAgICAgICAgICAgICBoQWxpZ25DZW50ZXJBY3RpdmU6IGhvcml6b250YWxBbGlnbm1lbnQgPT09ICdjZW50ZXInLFxyXG4gICAgICAgICAgICAgICAgaEFsaWduUmlnaHRBY3RpdmU6IGhvcml6b250YWxBbGlnbm1lbnQgPT09ICdyaWdodCcsXHJcbiAgICAgICAgICAgICAgICB2QWxpZ25CYXNlQWN0aXZlOiB2ZXJ0aWNhbEFsaWdubWVudCA9PT0gJ2Jhc2VsaW5lJyxcclxuICAgICAgICAgICAgICAgIHZBbGlnblRvcEFjdGl2ZTogdmVydGljYWxBbGlnbm1lbnQgPT09ICd0b3AnLFxyXG4gICAgICAgICAgICAgICAgdkFsaWduTWlkQWN0aXZlOiB2ZXJ0aWNhbEFsaWdubWVudCA9PT0gJ21pZGRsZScsXHJcbiAgICAgICAgICAgICAgICB2QWxpZ25Cb3RBY3RpdmU6IHZlcnRpY2FsQWxpZ25tZW50ID09PSAnYm90dG9tJyxcclxuICAgICAgICAgICAgICAgIGZzQm9sZEFjdGl2ZTogaXNCb2xkLFxyXG4gICAgICAgICAgICAgICAgZnNJdGFsaWNBY3RpdmU6IGlzSXRhbGljLFxyXG4gICAgICAgICAgICAgICAgZnNVbmRlcmxpbmVBY3RpdmU6IGlzVW5kZXJsaW5lLFxyXG4gICAgICAgICAgICAgICAgLy8gQWxzbyBhZGQgdGhlc2UgYm9vbGVhbiBzdGF0ZSB2YWx1ZXMgZm9yIHRoZSBhY3R1YWwgc3R5bGluZ1xyXG4gICAgICAgICAgICAgICAgaXNCb2xkOiBpc0JvbGQsXHJcbiAgICAgICAgICAgICAgICBpc0l0YWxpYzogaXNJdGFsaWMsXHJcbiAgICAgICAgICAgICAgICBpc1VuZGVybGluZTogaXNVbmRlcmxpbmVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRm9yIG5vbi10ZXh0IHN5bWJvbHMsIGp1c3Qgb3BlbiB0aGUgc3RhbmRhcmQgc3ltYm9sIGVkaXRvclxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHN5bWJvbEVkaXRpbmdJbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICB0ZXh0VmFsdWU6ICcnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgYXBwbHlUZXh0Q2hhbmdlc0V4cGxpY2l0bHkgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGdyYXBoaWMgPSB0aGlzLnN0YXRlLmRyYXdpbmdzW2luZGV4XTtcclxuICAgICAgICBpZiAoIWdyYXBoaWMgfHwgIWdyYXBoaWMuc3ltYm9sIHx8IGdyYXBoaWMuc3ltYm9sLnR5cGUgIT09ICd0ZXh0JykgcmV0dXJuO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBDbG9uZSB0aGUgb3JpZ2luYWwgc3ltYm9sXHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU3ltYm9sID0gZ3JhcGhpYy5zeW1ib2wgYXMgX19lc3JpLlRleHRTeW1ib2w7XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHRTeW1ib2wgPSBvcmlnaW5hbFN5bWJvbC5jbG9uZSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2xvbmUgYW5kIGFwcGx5IGZvbnQgc2V0dGluZ3NcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudEZvbnQgPSB0ZXh0U3ltYm9sLmZvbnQ/LmNsb25lKCkgfHwgbmV3IEZvbnQoKTtcclxuICAgICAgICAgICAgY3VycmVudEZvbnQuZmFtaWx5ID0gdGhpcy5zdGF0ZS5mb250RmFtaWx5IHx8ICdBcmlhbCc7XHJcbiAgICAgICAgICAgIGN1cnJlbnRGb250LnNpemUgPSB0aGlzLnN0YXRlLmZvbnRTaXplIHx8IDEyO1xyXG4gICAgICAgICAgICBjdXJyZW50Rm9udC53ZWlnaHQgPSB0aGlzLnN0YXRlLmlzQm9sZCA/ICdib2xkJyA6ICdub3JtYWwnO1xyXG4gICAgICAgICAgICBjdXJyZW50Rm9udC5zdHlsZSA9IHRoaXMuc3RhdGUuaXNJdGFsaWMgPyAnaXRhbGljJyA6ICdub3JtYWwnO1xyXG4gICAgICAgICAgICBjdXJyZW50Rm9udC5kZWNvcmF0aW9uID0gdGhpcy5zdGF0ZS5pc1VuZGVybGluZSA/ICd1bmRlcmxpbmUnIDogJ25vbmUnO1xyXG4gICAgICAgICAgICB0ZXh0U3ltYm9sLmZvbnQgPSBjdXJyZW50Rm9udDtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBvdGhlciB0ZXh0IHByb3BlcnRpZXNcclxuICAgICAgICAgICAgdGV4dFN5bWJvbC50ZXh0ID0gdGhpcy5zdGF0ZS50ZXh0VmFsdWU7XHJcbiAgICAgICAgICAgIHRleHRTeW1ib2wuY29sb3IgPSB0aGlzLmhleFRvUmdiYShcclxuICAgICAgICAgICAgICAgIHRoaXMucmdiYVRvSGV4KHRoaXMuc3RhdGUuZm9udENvbG9yKSxcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZm9udE9wYWNpdHlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdGV4dFN5bWJvbC5ob3Jpem9udGFsQWxpZ25tZW50ID0gdGhpcy5zdGF0ZS5ob3Jpem9udGFsQWxpZ25tZW50IHx8ICdjZW50ZXInO1xyXG4gICAgICAgICAgICB0ZXh0U3ltYm9sLnZlcnRpY2FsQWxpZ25tZW50ID0gdGhpcy5zdGF0ZS52ZXJ0aWNhbEFsaWdubWVudCB8fCAnbWlkZGxlJztcclxuICAgICAgICAgICAgdGV4dFN5bWJvbC5hbmdsZSA9IHRoaXMuc3RhdGUuZm9udFJvdGF0aW9uID8/IDA7XHJcblxyXG4gICAgICAgICAgICAvLyBIYWxvIHNldHRpbmdzXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmZvbnRIYWxvRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgdGV4dFN5bWJvbC5oYWxvU2l6ZSA9IHRoaXMuc3RhdGUuZm9udEhhbG9TaXplO1xyXG4gICAgICAgICAgICAgICAgdGV4dFN5bWJvbC5oYWxvQ29sb3IgPSB0aGlzLmhleFRvUmdiYShcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJnYmFUb0hleCh0aGlzLnN0YXRlLmZvbnRIYWxvQ29sb3IpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZm9udEhhbG9PcGFjaXR5XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGV4dFN5bWJvbC5oYWxvU2l6ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0ZXh0U3ltYm9sLmhhbG9Db2xvciA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIENsb25lIGFuZCB1cGRhdGUgdGhlIGdyYXBoaWNcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlZEdyYXBoaWMgPSBncmFwaGljLmNsb25lKCk7XHJcbiAgICAgICAgICAgIHVwZGF0ZWRHcmFwaGljLnN5bWJvbCA9IHRleHRTeW1ib2w7XHJcblxyXG4gICAgICAgICAgICAvLyBSZXBsYWNlIGdyYXBoaWMgaW4gbGF5ZXJcclxuICAgICAgICAgICAgdGhpcy5pZ25vcmVOZXh0R3JhcGhpY3NVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIucmVtb3ZlKGdyYXBoaWMpO1xyXG5cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuYWRkKHVwZGF0ZWRHcmFwaGljKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBOdWRnZSB0aGUgdmlldyB0byBmb3JjZSByZWZyZXNoXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5qaW11TWFwVmlldz8udmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDZW50ZXIgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcuY2VudGVyLmNsb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LmdvVG8oY3VycmVudENlbnRlciwgeyBkdXJhdGlvbjogMCB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZS1lbmFibGUgZWRpdGluZ1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2tldGNoVmlld01vZGVsPy51cGRhdGVHcmFwaGljcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC51cGRhdGUoW3VwZGF0ZWRHcmFwaGljXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgNTApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFBlcnNpc3QgdG8gbG9jYWwgc3RvcmFnZVxyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLnByb3BzLmFsbG93TG9jYWxTdG9yYWdlICE9PSBmYWxzZSkgJiYgdGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgZWRpdG9yIHN0YXRlIGFuZCBjbG9zZSBzdHlsZSBlZGl0b3JcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHN5bWJvbEVkaXRpbmdJbmRleDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEdyYXBoaWNJbmRleDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEdyYXBoaWNzOiBuZXcgU2V0KClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ0NoYW5nZXMgYXBwbGllZCBzdWNjZXNzZnVsbHksIG1hcCB1cGRhdGVkLCBhbmQgZWRpdG9yIGNsb3NlZCcpO1xyXG4gICAgICAgICAgICB9LCA1MCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYXBwbHlpbmcgdGV4dCBjaGFuZ2VzOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93TG9jYWxBbGVydCgnRXJyb3IgYXBwbHlpbmcgY2hhbmdlcycsICdlcnJvcicpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIHN5bWJvbEVkaXRpbmdJbmRleDogbnVsbCxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkR3JhcGhpY0luZGV4OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRHcmFwaGljczogbmV3IFNldCgpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vIEhlbHBlciBtZXRob2QgdG8gY29udmVydCBBcmNHSVMgQ29sb3IgdG8gUkdCQSBzdHJpbmdcclxuICAgIGNvbnZlcnRDb2xvclRvUmdiYSA9IChjb2xvcjogX19lc3JpLkNvbG9yKTogc3RyaW5nID0+IHtcclxuICAgICAgICBpZiAoIWNvbG9yKSByZXR1cm4gJ3JnYmEoMCwwLDAsMSknO1xyXG5cclxuICAgICAgICAvLyBVc2UgdG9SZ2JhKCkgaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb2xvci50b1JnYmEgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgY29uc3QgcmdiYSA9IGNvbG9yLnRvUmdiYSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gYHJnYmEoJHtyZ2JhWzBdfSwke3JnYmFbMV19LCR7cmdiYVsyXX0sJHtyZ2JhWzNdfSlgO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRmFsbGJhY2sgaW4gY2FzZSB0b1JnYmEgaXMgbm90IGF2YWlsYWJsZVxyXG4gICAgICAgIHJldHVybiBgcmdiYSgke2NvbG9yLnIgfHwgMH0sJHtjb2xvci5nIHx8IDB9LCR7Y29sb3IuYiB8fCAwfSwke2NvbG9yLmEgfHwgMX0pYDtcclxuICAgIH07XHJcblxyXG4gICAgLy8gQ29udmVydCByZ2JhIHN0cmluZyB0byBoZXggY29sb3JcclxuICAgIHJnYmFUb0hleCA9IChyZ2JhKSA9PiB7XHJcbiAgICAgICAgLy8gSGFuZGxlIHBvdGVudGlhbCBlcnJvcnMgd2l0aCByZ2JhIGZvcm1hdFxyXG4gICAgICAgIGlmICghcmdiYSB8fCB0eXBlb2YgcmdiYSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcjMDAwMDAwJzsgLy8gRGVmYXVsdCB0byBibGFja1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRXh0cmFjdCBSR0JBIHZhbHVlc1xyXG4gICAgICAgIGNvbnN0IG1hdGNoID0gcmdiYS5tYXRjaCgvcmdiYT9cXCgoXFxkKyksXFxzKihcXGQrKSxcXHMqKFxcZCspKD86LFxccyooW1xcZC5dKykpP1xcKS8pO1xyXG4gICAgICAgIGlmICghbWF0Y2gpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcjMDAwMDAwJzsgLy8gRGVmYXVsdCB0byBibGFjayBpZiBmb3JtYXQgZG9lc24ndCBtYXRjaFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ29udmVydCB0byBoZXhcclxuICAgICAgICBjb25zdCByID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgICBjb25zdCBnID0gcGFyc2VJbnQobWF0Y2hbMl0sIDEwKS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgICAgICBjb25zdCBiID0gcGFyc2VJbnQobWF0Y2hbM10sIDEwKS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGAjJHtyfSR7Z30ke2J9YDtcclxuICAgIH07XHJcblxyXG4gICAgLy8gQ29udmVydCBoZXggY29sb3IgdG8gcmdiYVxyXG4gICAgaGV4VG9SZ2JhID0gKGhleCwgYWxwaGEgPSAxKSA9PiB7XHJcbiAgICAgICAgLy8gUmVtb3ZlICMgaWYgcHJlc2VudFxyXG4gICAgICAgIGhleCA9IGhleC5yZXBsYWNlKCcjJywgJycpO1xyXG5cclxuICAgICAgICAvLyBQYXJzZSB0aGUgaGV4IHZhbHVlc1xyXG4gICAgICAgIGNvbnN0IHIgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDAsIDIpLCAxNik7XHJcbiAgICAgICAgY29uc3QgZyA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMiwgNCksIDE2KTtcclxuICAgICAgICBjb25zdCBiID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZyg0LCA2KSwgMTYpO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgUkdCQSBjb2xvciBvYmplY3RcclxuICAgICAgICByZXR1cm4gbmV3IENvbG9yKFtyLCBnLCBiLCBhbHBoYV0pO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgYXBwbHlUZXh0Q2hhbmdlcyA9IChvcmlnaW5hbEdyYXBoaWM6IEV4dGVuZGVkR3JhcGhpYykgPT4ge1xyXG4gICAgICAgIGlmICghb3JpZ2luYWxHcmFwaGljIHx8ICF0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgY2xvbmUgb2YgdGhlIGdyYXBoaWMgdG8gYXZvaWQgbW9kaWZ5aW5nIHNoYXJlZCByZWZlcmVuY2VzXHJcbiAgICAgICAgICAgIGNvbnN0IGdyYXBoaWMgPSBvcmlnaW5hbEdyYXBoaWMuY2xvbmUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFwcGx5IHRoZSBjaGFuZ2VzIGltbWVkaWF0ZWx5IHRvIHRoZSBtYXBcclxuICAgICAgICAgICAgdGhpcy5pZ25vcmVOZXh0R3JhcGhpY3NVcGRhdGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gRmlyc3QgcmVtb3ZlIGFuZCB0aGVuIHJlLWFkZCB0aGUgZ3JhcGhpYyB0byBlbnN1cmUgdGhlIGNoYW5nZXMgYXJlIHZpc2libGVcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLnJlbW92ZShvcmlnaW5hbEdyYXBoaWMpO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuYWRkKGdyYXBoaWMpO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgd2UncmUgaW4gZWRpdCBtb2RlIHdpdGggU2tldGNoVmlld01vZGVsLCB1cGRhdGUgaXQgdG9vXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNrZXRjaFZpZXdNb2RlbCAmJiB0aGlzLnNrZXRjaFZpZXdNb2RlbC51cGRhdGVHcmFwaGljcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNCZWluZ0VkaXRlZCA9IHRoaXMuc2tldGNoVmlld01vZGVsLnVwZGF0ZUdyYXBoaWNzLnNvbWUoZyA9PlxyXG4gICAgICAgICAgICAgICAgICAgIGcuYXR0cmlidXRlcz8udW5pcXVlSWQgPT09IGdyYXBoaWMuYXR0cmlidXRlcz8udW5pcXVlSWRcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGlzQmVpbmdFZGl0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBDYW5jZWwgY3VycmVudCBlZGl0IG9wZXJhdGlvbiBhbmQgcmVzdGFydCB3aXRoIHVwZGF0ZWQgZ3JhcGhpY1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLnVwZGF0ZShbZ3JhcGhpY10pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZ3JhcGhpYzsgLy8gUmV0dXJuIHRoZSBuZXcgZ3JhcGhpYyBmb3IgcG90ZW50aWFsIGZ1cnRoZXIgdXNlXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYXBwbHlpbmcgdGV4dCBjaGFuZ2VzOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93TG9jYWxBbGVydCgnRXJyb3IgdXBkYXRpbmcgdGV4dCcsICdlcnJvcicpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFVwZGF0ZSBlYWNoIG1ldGhvZCB0byBjYWxsIGFwcGx5VGV4dENoYW5nZXMgYWZ0ZXIgbW9kaWZ5aW5nIHRoZSB0ZXh0IHN5bWJvbFxyXG5cclxuICAgIHVwZGF0ZVRleHRWYWx1ZSA9ICh2YWx1ZTogc3RyaW5nLCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZHJhd2luZ3MgPSBbLi4udGhpcy5zdGF0ZS5kcmF3aW5nc107XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxHcmFwaGljID0gZHJhd2luZ3NbaW5kZXhdO1xyXG5cclxuICAgICAgICBpZiAoIW9yaWdpbmFsR3JhcGhpYyB8fCAhb3JpZ2luYWxHcmFwaGljLnN5bWJvbCB8fCBvcmlnaW5hbEdyYXBoaWMuc3ltYm9sLnR5cGUgIT09ICd0ZXh0JykgcmV0dXJuO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBDbG9uZSB0aGUgZ3JhcGhpYyBhbmQgc3ltYm9sXHJcbiAgICAgICAgICAgIGNvbnN0IGdyYXBoaWMgPSBvcmlnaW5hbEdyYXBoaWMuY2xvbmUoKTtcclxuICAgICAgICAgICAgY29uc3QgdGV4dFN5bWJvbCA9IGdyYXBoaWMuc3ltYm9sLmNsb25lKCkgYXMgX19lc3JpLlRleHRTeW1ib2w7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHRleHQgc3ltYm9sIGFuZCBhdHRyaWJ1dGVzXHJcbiAgICAgICAgICAgIHRleHRTeW1ib2wudGV4dCA9IHZhbHVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFncmFwaGljLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgIGdyYXBoaWMuYXR0cmlidXRlcyA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdyYXBoaWMuYXR0cmlidXRlcy5uYW1lID0gdmFsdWU7XHJcblxyXG4gICAgICAgICAgICAvLyBBcHBseSB0aGUgdXBkYXRlZCBzeW1ib2wgdG8gdGhlIGdyYXBoaWNcclxuICAgICAgICAgICAgZ3JhcGhpYy5zeW1ib2wgPSB0ZXh0U3ltYm9sO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIGluIHRoZSBsYXllclxyXG4gICAgICAgICAgICB0aGlzLmlnbm9yZU5leHRHcmFwaGljc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5yZW1vdmUob3JpZ2luYWxHcmFwaGljKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmFkZChncmFwaGljKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBpbiBzdGF0ZVxyXG4gICAgICAgICAgICBkcmF3aW5nc1tpbmRleF0gPSBncmFwaGljO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIGNvbXBvbmVudCBzdGF0ZSBhbmQgcGVyc2lzdFxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZHJhd2luZ3MsIHRleHRWYWx1ZTogdmFsdWUgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLnByb3BzLmFsbG93TG9jYWxTdG9yYWdlICE9PSBmYWxzZSkgJiYgdGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g8J+UhCBGSVhFRDogQ2FsbCBwYXJlbnQncyBvbkRyYXdpbmdzVXBkYXRlIHByb3BcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ/Cfk50gTXlEcmF3aW5nc1BhbmVsOiBUZXh0IHVwZGF0ZWQsIHRyaWdnZXJpbmcgbWVhc3VyZW1lbnQgcmVmcmVzaCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25EcmF3aW5nc1VwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25EcmF3aW5nc1VwZGF0ZShkcmF3aW5ncyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHRleHQgdmFsdWU6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdFcnJvciB1cGRhdGluZyB0ZXh0JywgJ2Vycm9yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB1cGRhdGVGb250U2l6ZSA9IChzaXplOiBudW1iZXIsIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICBjb25zdCBkcmF3aW5ncyA9IFsuLi50aGlzLnN0YXRlLmRyYXdpbmdzXTtcclxuICAgICAgICBjb25zdCBvcmlnaW5hbEdyYXBoaWMgPSBkcmF3aW5nc1tpbmRleF07XHJcbiAgICAgICAgaWYgKCFvcmlnaW5hbEdyYXBoaWMgfHwgIW9yaWdpbmFsR3JhcGhpYy5zeW1ib2wgfHwgb3JpZ2luYWxHcmFwaGljLnN5bWJvbC50eXBlICE9PSAndGV4dCcpIHJldHVybjtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gQ2xvbmUgdGhlIGdyYXBoaWMgYW5kIHN5bWJvbFxyXG4gICAgICAgICAgICBjb25zdCBncmFwaGljID0gb3JpZ2luYWxHcmFwaGljLmNsb25lKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHRTeW1ib2wgPSBncmFwaGljLnN5bWJvbC5jbG9uZSgpIGFzIF9fZXNyaS5UZXh0U3ltYm9sO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IEZvbnQgb2JqZWN0IHdpdGggdXBkYXRlZCBzaXplXHJcbiAgICAgICAgICAgIGNvbnN0IGZvbnQgPSB0ZXh0U3ltYm9sLmZvbnQgPyB0ZXh0U3ltYm9sLmZvbnQuY2xvbmUoKSA6IG5ldyBGb250KHt9KTtcclxuICAgICAgICAgICAgZm9udC5zaXplID0gc2l6ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFzc2lnbiB0aGUgbmV3IGZvbnQgdG8gdGhlIHN5bWJvbFxyXG4gICAgICAgICAgICB0ZXh0U3ltYm9sLmZvbnQgPSBmb250O1xyXG5cclxuICAgICAgICAgICAgLy8gQXBwbHkgdGhlIHVwZGF0ZWQgc3ltYm9sIHRvIHRoZSBncmFwaGljXHJcbiAgICAgICAgICAgIGdyYXBoaWMuc3ltYm9sID0gdGV4dFN5bWJvbDtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBpbiB0aGUgbGF5ZXJcclxuICAgICAgICAgICAgdGhpcy5pZ25vcmVOZXh0R3JhcGhpY3NVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIucmVtb3ZlKG9yaWdpbmFsR3JhcGhpYyk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5hZGQoZ3JhcGhpYyk7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgaW4gc3RhdGVcclxuICAgICAgICAgICAgZHJhd2luZ3NbaW5kZXhdID0gZ3JhcGhpYztcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzdGF0ZSBhbmQgcGVyc2lzdFxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGRyYXdpbmdzLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IHNpemVcclxuICAgICAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLnByb3BzLmFsbG93TG9jYWxTdG9yYWdlICE9PSBmYWxzZSkgJiYgdGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g8J+UhCBGSVhFRDogQ2FsbCBwYXJlbnQncyBvbkRyYXdpbmdzVXBkYXRlIHByb3AgdG8gdHJpZ2dlciBtZWFzdXJlbWVudCByZWZyZXNoXHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCfwn5OPIE15RHJhd2luZ3NQYW5lbDogRm9udCBzaXplIHVwZGF0ZWQsIHRyaWdnZXJpbmcgbWVhc3VyZW1lbnQgcmVmcmVzaCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25EcmF3aW5nc1VwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25EcmF3aW5nc1VwZGF0ZShkcmF3aW5ncyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGZvbnQgc2l6ZTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xvY2FsQWxlcnQoJ0Vycm9yIHVwZGF0aW5nIHRleHQgc2l6ZScsICdlcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuXHJcbiAgICB1cGRhdGVGb250RmFtaWx5ID0gKGZhbWlseTogc3RyaW5nLCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZHJhd2luZ3MgPSBbLi4udGhpcy5zdGF0ZS5kcmF3aW5nc107XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxHcmFwaGljID0gZHJhd2luZ3NbaW5kZXhdO1xyXG5cclxuICAgICAgICBpZiAoIW9yaWdpbmFsR3JhcGhpYyB8fCAhb3JpZ2luYWxHcmFwaGljLnN5bWJvbCB8fCBvcmlnaW5hbEdyYXBoaWMuc3ltYm9sLnR5cGUgIT09ICd0ZXh0JykgcmV0dXJuO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBDbG9uZSB0aGUgZ3JhcGhpYyBhbmQgc3ltYm9sXHJcbiAgICAgICAgICAgIGNvbnN0IGdyYXBoaWMgPSBvcmlnaW5hbEdyYXBoaWMuY2xvbmUoKTtcclxuICAgICAgICAgICAgY29uc3QgdGV4dFN5bWJvbCA9IGdyYXBoaWMuc3ltYm9sLmNsb25lKCkgYXMgX19lc3JpLlRleHRTeW1ib2w7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgRm9udCBvYmplY3Qgd2l0aCB1cGRhdGVkIGZhbWlseVxyXG4gICAgICAgICAgICBjb25zdCBmb250ID0gdGV4dFN5bWJvbC5mb250ID8gdGV4dFN5bWJvbC5mb250LmNsb25lKCkgOiBuZXcgRm9udCh7fSk7XHJcbiAgICAgICAgICAgIGZvbnQuZmFtaWx5ID0gZmFtaWx5O1xyXG5cclxuICAgICAgICAgICAgLy8gQXNzaWduIHRoZSBuZXcgZm9udCB0byB0aGUgc3ltYm9sXHJcbiAgICAgICAgICAgIHRleHRTeW1ib2wuZm9udCA9IGZvbnQ7XHJcblxyXG4gICAgICAgICAgICAvLyBBcHBseSB0aGUgdXBkYXRlZCBzeW1ib2wgdG8gdGhlIGdyYXBoaWNcclxuICAgICAgICAgICAgZ3JhcGhpYy5zeW1ib2wgPSB0ZXh0U3ltYm9sO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIGluIHRoZSBsYXllclxyXG4gICAgICAgICAgICB0aGlzLmlnbm9yZU5leHRHcmFwaGljc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5yZW1vdmUob3JpZ2luYWxHcmFwaGljKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmFkZChncmFwaGljKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBpbiBzdGF0ZVxyXG4gICAgICAgICAgICBkcmF3aW5nc1tpbmRleF0gPSBncmFwaGljO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHN0YXRlIGFuZCBwZXJzaXN0XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgZHJhd2luZ3MsXHJcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBmYW1pbHlcclxuICAgICAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLnByb3BzLmFsbG93TG9jYWxTdG9yYWdlICE9PSBmYWxzZSkgJiYgdGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGZvbnQgZmFtaWx5OicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93TG9jYWxBbGVydCgnRXJyb3IgdXBkYXRpbmcgdGV4dCBmb250JywgJ2Vycm9yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB1cGRhdGVGb250Q29sb3IgPSAoY29sb3I6IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRyYXdpbmdzID0gWy4uLnRoaXMuc3RhdGUuZHJhd2luZ3NdO1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsR3JhcGhpYyA9IGRyYXdpbmdzW2luZGV4XTtcclxuXHJcbiAgICAgICAgaWYgKCFvcmlnaW5hbEdyYXBoaWMgfHwgIW9yaWdpbmFsR3JhcGhpYy5zeW1ib2wgfHwgb3JpZ2luYWxHcmFwaGljLnN5bWJvbC50eXBlICE9PSAndGV4dCcpIHJldHVybjtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gQ2xvbmUgdGhlIGdyYXBoaWMgYW5kIHN5bWJvbFxyXG4gICAgICAgICAgICBjb25zdCBncmFwaGljID0gb3JpZ2luYWxHcmFwaGljLmNsb25lKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHRTeW1ib2wgPSBncmFwaGljLnN5bWJvbC5jbG9uZSgpIGFzIF9fZXNyaS5UZXh0U3ltYm9sO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IENvbG9yIG9iamVjdCB0byBlbnN1cmUgbm8gc2hhcmVkIHJlZmVyZW5jZXNcclxuICAgICAgICAgICAgdGV4dFN5bWJvbC5jb2xvciA9IGNvbG9yLmNsb25lID8gY29sb3IuY2xvbmUoKSA6IG5ldyBDb2xvcihjb2xvci50b1JnYmEgPyBjb2xvci50b1JnYmEoKSA6IGNvbG9yKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFwcGx5IHRoZSB1cGRhdGVkIHN5bWJvbCB0byB0aGUgZ3JhcGhpY1xyXG4gICAgICAgICAgICBncmFwaGljLnN5bWJvbCA9IHRleHRTeW1ib2w7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgaW4gdGhlIGxheWVyXHJcbiAgICAgICAgICAgIHRoaXMuaWdub3JlTmV4dEdyYXBoaWNzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLnJlbW92ZShvcmlnaW5hbEdyYXBoaWMpO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuYWRkKGdyYXBoaWMpO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIGluIHN0YXRlXHJcbiAgICAgICAgICAgIGRyYXdpbmdzW2luZGV4XSA9IGdyYXBoaWM7XHJcblxyXG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBjb2xvciB0byByZ2JhIHN0cmluZyBmb3Igc3RhdGVcclxuICAgICAgICAgICAgY29uc3QgcmdiYSA9IGByZ2JhKCR7Y29sb3Iucn0sJHtjb2xvci5nfSwke2NvbG9yLmJ9LCR7Y29sb3IuYX0pYDtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzdGF0ZSBhbmQgcGVyc2lzdFxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGRyYXdpbmdzLFxyXG4gICAgICAgICAgICAgICAgZm9udENvbG9yOiByZ2JhLFxyXG4gICAgICAgICAgICAgICAgZm9udE9wYWNpdHk6IGNvbG9yLmEgfHwgMVxyXG4gICAgICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMucHJvcHMuYWxsb3dMb2NhbFN0b3JhZ2UgIT09IGZhbHNlKSAmJiB0aGlzLnN0YXRlLmNvbnNlbnRHcmFudGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlVG9Mb2NhbFN0b3JhZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgZm9udCBjb2xvcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xvY2FsQWxlcnQoJ0Vycm9yIHVwZGF0aW5nIHRleHQgY29sb3InLCAnZXJyb3InKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHVwZGF0ZUZvbnRPcGFjaXR5ID0gKG9wYWNpdHk6IG51bWJlciwgaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRyYXdpbmdzID0gWy4uLnRoaXMuc3RhdGUuZHJhd2luZ3NdO1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsR3JhcGhpYyA9IGRyYXdpbmdzW2luZGV4XTtcclxuXHJcbiAgICAgICAgaWYgKCFvcmlnaW5hbEdyYXBoaWMgfHwgIW9yaWdpbmFsR3JhcGhpYy5zeW1ib2wgfHwgb3JpZ2luYWxHcmFwaGljLnN5bWJvbC50eXBlICE9PSAndGV4dCcpIHJldHVybjtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gQ2xvbmUgdGhlIGdyYXBoaWMgYW5kIHN5bWJvbFxyXG4gICAgICAgICAgICBjb25zdCBncmFwaGljID0gb3JpZ2luYWxHcmFwaGljLmNsb25lKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHRTeW1ib2wgPSBncmFwaGljLnN5bWJvbC5jbG9uZSgpIGFzIF9fZXNyaS5UZXh0U3ltYm9sO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIG9wYWNpdHkgd2hpbGUgcHJlc2VydmluZyBjb2xvclxyXG4gICAgICAgICAgICBpZiAodGV4dFN5bWJvbC5jb2xvcikge1xyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IENvbG9yIG9iamVjdCB3aXRoIHRoZSB1cGRhdGVkIG9wYWNpdHlcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJnYmFWYWx1ZXMgPSB0ZXh0U3ltYm9sLmNvbG9yLnRvUmdiYSA/IHRleHRTeW1ib2wuY29sb3IudG9SZ2JhKCkgOiBbMCwgMCwgMCwgb3BhY2l0eV07XHJcbiAgICAgICAgICAgICAgICByZ2JhVmFsdWVzWzNdID0gb3BhY2l0eTsgLy8gU2V0IGFscGhhIHZhbHVlXHJcbiAgICAgICAgICAgICAgICB0ZXh0U3ltYm9sLmNvbG9yID0gbmV3IENvbG9yKHJnYmFWYWx1ZXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBcHBseSB0aGUgdXBkYXRlZCBzeW1ib2wgdG8gdGhlIGdyYXBoaWNcclxuICAgICAgICAgICAgZ3JhcGhpYy5zeW1ib2wgPSB0ZXh0U3ltYm9sO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIGluIHRoZSBsYXllclxyXG4gICAgICAgICAgICB0aGlzLmlnbm9yZU5leHRHcmFwaGljc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5yZW1vdmUob3JpZ2luYWxHcmFwaGljKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmFkZChncmFwaGljKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBpbiBzdGF0ZVxyXG4gICAgICAgICAgICBkcmF3aW5nc1tpbmRleF0gPSBncmFwaGljO1xyXG5cclxuICAgICAgICAgICAgLy8gQ29udmVydCBjb2xvciBmb3Igc3RhdGVcclxuICAgICAgICAgICAgY29uc3QgcmdiYSA9IHRleHRTeW1ib2wuY29sb3IgP1xyXG4gICAgICAgICAgICAgICAgYHJnYmEoJHt0ZXh0U3ltYm9sLmNvbG9yLnJ9LCR7dGV4dFN5bWJvbC5jb2xvci5nfSwke3RleHRTeW1ib2wuY29sb3IuYn0sJHtvcGFjaXR5fSlgIDpcclxuICAgICAgICAgICAgICAgIGByZ2JhKDAsMCwwLCR7b3BhY2l0eX0pYDtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzdGF0ZSBhbmQgcGVyc2lzdFxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGRyYXdpbmdzLFxyXG4gICAgICAgICAgICAgICAgZm9udE9wYWNpdHk6IG9wYWNpdHksXHJcbiAgICAgICAgICAgICAgICBmb250Q29sb3I6IHJnYmFcclxuICAgICAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLnByb3BzLmFsbG93TG9jYWxTdG9yYWdlICE9PSBmYWxzZSkgJiYgdGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGZvbnQgb3BhY2l0eTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xvY2FsQWxlcnQoJ0Vycm9yIHVwZGF0aW5nIHRleHQgb3BhY2l0eScsICdlcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdXBkYXRlRm9udFJvdGF0aW9uID0gKHJvdGF0aW9uOiBudW1iZXIsIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICBjb25zdCBkcmF3aW5ncyA9IFsuLi50aGlzLnN0YXRlLmRyYXdpbmdzXTtcclxuICAgICAgICBjb25zdCBvcmlnaW5hbEdyYXBoaWMgPSBkcmF3aW5nc1tpbmRleF07XHJcblxyXG4gICAgICAgIGlmICghb3JpZ2luYWxHcmFwaGljIHx8ICFvcmlnaW5hbEdyYXBoaWMuc3ltYm9sIHx8IG9yaWdpbmFsR3JhcGhpYy5zeW1ib2wudHlwZSAhPT0gJ3RleHQnKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIENsb25lIHRoZSBncmFwaGljIGFuZCBzeW1ib2xcclxuICAgICAgICAgICAgY29uc3QgZ3JhcGhpYyA9IG9yaWdpbmFsR3JhcGhpYy5jbG9uZSgpO1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0U3ltYm9sID0gZ3JhcGhpYy5zeW1ib2wuY2xvbmUoKSBhcyBfX2VzcmkuVGV4dFN5bWJvbDtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSByb3RhdGlvblxyXG4gICAgICAgICAgICB0ZXh0U3ltYm9sLmFuZ2xlID0gcm90YXRpb247XHJcblxyXG4gICAgICAgICAgICAvLyBBcHBseSB0aGUgdXBkYXRlZCBzeW1ib2wgdG8gdGhlIGdyYXBoaWNcclxuICAgICAgICAgICAgZ3JhcGhpYy5zeW1ib2wgPSB0ZXh0U3ltYm9sO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIGluIHRoZSBsYXllclxyXG4gICAgICAgICAgICB0aGlzLmlnbm9yZU5leHRHcmFwaGljc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5yZW1vdmUob3JpZ2luYWxHcmFwaGljKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmFkZChncmFwaGljKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBpbiBzdGF0ZVxyXG4gICAgICAgICAgICBkcmF3aW5nc1tpbmRleF0gPSBncmFwaGljO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHN0YXRlIGFuZCBwZXJzaXN0XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgZHJhd2luZ3MsXHJcbiAgICAgICAgICAgICAgICBmb250Um90YXRpb246IHJvdGF0aW9uXHJcbiAgICAgICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICgodGhpcy5wcm9wcy5hbGxvd0xvY2FsU3RvcmFnZSAhPT0gZmFsc2UpICYmIHRoaXMuc3RhdGUuY29uc2VudEdyYW50ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmVUb0xvY2FsU3RvcmFnZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBmb250IHJvdGF0aW9uOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93TG9jYWxBbGVydCgnRXJyb3IgdXBkYXRpbmcgdGV4dCByb3RhdGlvbicsICdlcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gRm9udCBzdHlsZSBtZXRob2RzIChib2xkLCBpdGFsaWMsIHVuZGVybGluZSlcclxuICAgIHRvZ2dsZUZvbnRTdHlsZSA9IChzdHlsZVR5cGU6ICdib2xkJyB8ICdpdGFsaWMnIHwgJ3VuZGVybGluZScsIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICBjb25zdCBkcmF3aW5ncyA9IFsuLi50aGlzLnN0YXRlLmRyYXdpbmdzXTtcclxuICAgICAgICBjb25zdCBvcmlnaW5hbEdyYXBoaWMgPSBkcmF3aW5nc1tpbmRleF07XHJcblxyXG4gICAgICAgIGlmICghb3JpZ2luYWxHcmFwaGljIHx8ICFvcmlnaW5hbEdyYXBoaWMuc3ltYm9sIHx8IG9yaWdpbmFsR3JhcGhpYy5zeW1ib2wudHlwZSAhPT0gJ3RleHQnKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIENsb25lIHRoZSBncmFwaGljIGFuZCBzeW1ib2xcclxuICAgICAgICAgICAgY29uc3QgZ3JhcGhpYyA9IG9yaWdpbmFsR3JhcGhpYy5jbG9uZSgpO1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0U3ltYm9sID0gZ3JhcGhpYy5zeW1ib2wuY2xvbmUoKSBhcyBfX2VzcmkuVGV4dFN5bWJvbDtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBGb250IG9iamVjdCB0byBhdm9pZCBtb2RpZnlpbmcgc2hhcmVkIHJlZmVyZW5jZXNcclxuICAgICAgICAgICAgY29uc3QgZm9udCA9IHRleHRTeW1ib2wuZm9udCA/IHRleHRTeW1ib2wuZm9udC5jbG9uZSgpIDogbmV3IEZvbnQoe30pO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBmb250IHN0eWxlIGJhc2VkIG9uIHRoZSBzdHlsZVR5cGVcclxuICAgICAgICAgICAgc3dpdGNoIChzdHlsZVR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2JvbGQnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQm9sZCA9IGZvbnQud2VpZ2h0ICE9PSAnYm9sZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udC53ZWlnaHQgPSBpc0JvbGQgPyAnYm9sZCcgOiAnbm9ybWFsJztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnNCb2xkQWN0aXZlOiBpc0JvbGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQm9sZDogaXNCb2xkXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdpdGFsaWMnOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzSXRhbGljID0gZm9udC5zdHlsZSAhPT0gJ2l0YWxpYyc7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udC5zdHlsZSA9IGlzSXRhbGljID8gJ2l0YWxpYycgOiAnbm9ybWFsJztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnNJdGFsaWNBY3RpdmU6IGlzSXRhbGljLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0l0YWxpYzogaXNJdGFsaWNcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3VuZGVybGluZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNVbmRlcmxpbmUgPSBmb250LmRlY29yYXRpb24gIT09ICd1bmRlcmxpbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQuZGVjb3JhdGlvbiA9IGlzVW5kZXJsaW5lID8gJ3VuZGVybGluZScgOiAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZzVW5kZXJsaW5lQWN0aXZlOiBpc1VuZGVybGluZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNVbmRlcmxpbmU6IGlzVW5kZXJsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFzc2lnbiB0aGUgbmV3IGZvbnQgdG8gdGhlIHN5bWJvbFxyXG4gICAgICAgICAgICB0ZXh0U3ltYm9sLmZvbnQgPSBmb250O1xyXG5cclxuICAgICAgICAgICAgLy8gQXBwbHkgdGhlIHVwZGF0ZWQgc3ltYm9sIHRvIHRoZSBncmFwaGljXHJcbiAgICAgICAgICAgIGdyYXBoaWMuc3ltYm9sID0gdGV4dFN5bWJvbDtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBpbiB0aGUgbGF5ZXJcclxuICAgICAgICAgICAgdGhpcy5pZ25vcmVOZXh0R3JhcGhpY3NVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIucmVtb3ZlKG9yaWdpbmFsR3JhcGhpYyk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5hZGQoZ3JhcGhpYyk7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgaW4gc3RhdGVcclxuICAgICAgICAgICAgZHJhd2luZ3NbaW5kZXhdID0gZ3JhcGhpYztcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzdGF0ZSBhbmQgcGVyc2lzdFxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZHJhd2luZ3MgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLnByb3BzLmFsbG93TG9jYWxTdG9yYWdlICE9PSBmYWxzZSkgJiYgdGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGZvbnQgc3R5bGU6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdFcnJvciB1cGRhdGluZyB0ZXh0IHN0eWxlJywgJ2Vycm9yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBIb3Jpem9udGFsIGFsaWdubWVudCBtZXRob2RcclxuICAgIHVwZGF0ZUhvcml6b250YWxBbGlnbm1lbnQgPSAoYWxpZ25tZW50OiAnbGVmdCcgfCAnY2VudGVyJyB8ICdyaWdodCcsIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGBVcGRhdGluZyBob3Jpem9udGFsIGFsaWdubWVudCB0byAke2FsaWdubWVudH0gZm9yIGRyYXdpbmcgYXQgaW5kZXggJHtpbmRleH1gKTtcclxuXHJcbiAgICAgICAgLy8gVmFsaWRhdGUgaW5wdXRzXHJcbiAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQgfHwgaW5kZXggPT09IG51bGwpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCBpbmRleCBwcm92aWRlZCB0byB1cGRhdGVIb3Jpem9udGFsQWxpZ25tZW50Jyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEdldCBhIGNvcHkgb2YgdGhlIGRyYXdpbmdzIGFycmF5XHJcbiAgICAgICAgY29uc3QgZHJhd2luZ3MgPSBbLi4udGhpcy5zdGF0ZS5kcmF3aW5nc107XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBncmFwaGljIGV4aXN0cyBhdCB0aGUgZ2l2ZW4gaW5kZXhcclxuICAgICAgICBpZiAoIWRyYXdpbmdzW2luZGV4XSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBObyBkcmF3aW5nIGZvdW5kIGF0IGluZGV4ICR7aW5kZXh9YCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsR3JhcGhpYyA9IGRyYXdpbmdzW2luZGV4XTtcclxuXHJcbiAgICAgICAgLy8gVmFsaWRhdGUgdGhlIGdyYXBoaWMgaGFzIGEgdGV4dCBzeW1ib2xcclxuICAgICAgICBpZiAoIW9yaWdpbmFsR3JhcGhpYyB8fCAhb3JpZ2luYWxHcmFwaGljLnN5bWJvbCB8fCBvcmlnaW5hbEdyYXBoaWMuc3ltYm9sLnR5cGUgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDYW5ub3QgdXBkYXRlIGhvcml6b250YWwgYWxpZ25tZW50OiBncmFwaGljIGhhcyBubyB0ZXh0IHN5bWJvbCcpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBDbG9uZSB0aGUgZ3JhcGhpYyBhbmQgc3ltYm9sXHJcbiAgICAgICAgICAgIGNvbnN0IGdyYXBoaWMgPSBvcmlnaW5hbEdyYXBoaWMuY2xvbmUoKTtcclxuICAgICAgICAgICAgY29uc3QgdGV4dFN5bWJvbCA9IGdyYXBoaWMuc3ltYm9sLmNsb25lKCkgYXMgX19lc3JpLlRleHRTeW1ib2w7XHJcblxyXG4gICAgICAgICAgICAvLyBMb2cgY3VycmVudCBzdGF0ZSBiZWZvcmUgY2hhbmdlc1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdDdXJyZW50IHN5bWJvbCBzdGF0ZTonLCB7XHJcbiAgICAgICAgICAgIC8vICAgICBob3Jpem9udGFsQWxpZ25tZW50OiB0ZXh0U3ltYm9sLmhvcml6b250YWxBbGlnbm1lbnQsXHJcbiAgICAgICAgICAgIC8vICAgICB0ZXh0OiB0ZXh0U3ltYm9sLnRleHQsXHJcbiAgICAgICAgICAgIC8vICAgICBoYXNTeW1ib2w6ICEhdGV4dFN5bWJvbFxyXG4gICAgICAgICAgICAvLyB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgaG9yaXpvbnRhbCBhbGlnbm1lbnRcclxuICAgICAgICAgICAgdGV4dFN5bWJvbC5ob3Jpem9udGFsQWxpZ25tZW50ID0gYWxpZ25tZW50O1xyXG5cclxuICAgICAgICAgICAgLy8gQXBwbHkgdGhlIHVwZGF0ZWQgc3ltYm9sIHRvIHRoZSBncmFwaGljXHJcbiAgICAgICAgICAgIGdyYXBoaWMuc3ltYm9sID0gdGV4dFN5bWJvbDtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBpbiB0aGUgbGF5ZXJcclxuICAgICAgICAgICAgdGhpcy5pZ25vcmVOZXh0R3JhcGhpY3NVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIucmVtb3ZlKG9yaWdpbmFsR3JhcGhpYyk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5hZGQoZ3JhcGhpYyk7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgaW4gc3RhdGVcclxuICAgICAgICAgICAgZHJhd2luZ3NbaW5kZXhdID0gZ3JhcGhpYztcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzdGF0ZSB3aXRoIG5ldyBhbGlnbm1lbnQgYW5kIGJ1dHRvbiBzdGF0ZXNcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBkcmF3aW5ncyxcclxuICAgICAgICAgICAgICAgIGhvcml6b250YWxBbGlnbm1lbnQ6IGFsaWdubWVudCxcclxuICAgICAgICAgICAgICAgIGhBbGlnbkxlZnRBY3RpdmU6IGFsaWdubWVudCA9PT0gJ2xlZnQnLFxyXG4gICAgICAgICAgICAgICAgaEFsaWduQ2VudGVyQWN0aXZlOiBhbGlnbm1lbnQgPT09ICdjZW50ZXInLFxyXG4gICAgICAgICAgICAgICAgaEFsaWduUmlnaHRBY3RpdmU6IGFsaWdubWVudCA9PT0gJ3JpZ2h0J1xyXG4gICAgICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBMb2cgdXBkYXRlZCBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnSG9yaXpvbnRhbCBhbGlnbm1lbnQgdXBkYXRlZCBzdWNjZXNzZnVsbHk6Jywge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGFsaWdubWVudCxcclxuICAgICAgICAgICAgICAgIC8vICAgICBidXR0b25TdGF0ZXM6IHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgbGVmdDogdGhpcy5zdGF0ZS5oQWxpZ25MZWZ0QWN0aXZlLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBjZW50ZXI6IHRoaXMuc3RhdGUuaEFsaWduQ2VudGVyQWN0aXZlLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICByaWdodDogdGhpcy5zdGF0ZS5oQWxpZ25SaWdodEFjdGl2ZVxyXG4gICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTYXZlIHRvIGxvY2FsU3RvcmFnZSBpZiBlbmFibGVkIGFuZCBjb25zZW50IGdyYW50ZWRcclxuICAgICAgICAgICAgICAgIGlmICgodGhpcy5wcm9wcy5hbGxvd0xvY2FsU3RvcmFnZSAhPT0gZmFsc2UpICYmIHRoaXMuc3RhdGUuY29uc2VudEdyYW50ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmVUb0xvY2FsU3RvcmFnZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBob3Jpem9udGFsIGFsaWdubWVudDonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xvY2FsQWxlcnQoJ0Vycm9yIHVwZGF0aW5nIHRleHQgYWxpZ25tZW50JywgJ2Vycm9yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBWZXJ0aWNhbCBhbGlnbm1lbnQgbWV0aG9kXHJcbiAgICB1cGRhdGVWZXJ0aWNhbEFsaWdubWVudCA9IChhbGlnbm1lbnQ6ICdiYXNlbGluZScgfCAndG9wJyB8ICdtaWRkbGUnIHwgJ2JvdHRvbScsIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGBVcGRhdGluZyB2ZXJ0aWNhbCBhbGlnbm1lbnQgdG8gJHthbGlnbm1lbnR9IGZvciBkcmF3aW5nIGF0IGluZGV4ICR7aW5kZXh9YCk7XHJcblxyXG4gICAgICAgIC8vIFZhbGlkYXRlIGlucHV0c1xyXG4gICAgICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkIHx8IGluZGV4ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgaW5kZXggcHJvdmlkZWQgdG8gdXBkYXRlVmVydGljYWxBbGlnbm1lbnQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR2V0IGEgY29weSBvZiB0aGUgZHJhd2luZ3MgYXJyYXlcclxuICAgICAgICBjb25zdCBkcmF3aW5ncyA9IFsuLi50aGlzLnN0YXRlLmRyYXdpbmdzXTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGdyYXBoaWMgZXhpc3RzIGF0IHRoZSBnaXZlbiBpbmRleFxyXG4gICAgICAgIGlmICghZHJhd2luZ3NbaW5kZXhdKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYE5vIGRyYXdpbmcgZm91bmQgYXQgaW5kZXggJHtpbmRleH1gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxHcmFwaGljID0gZHJhd2luZ3NbaW5kZXhdO1xyXG5cclxuICAgICAgICAvLyBWYWxpZGF0ZSB0aGUgZ3JhcGhpYyBoYXMgYSB0ZXh0IHN5bWJvbFxyXG4gICAgICAgIGlmICghb3JpZ2luYWxHcmFwaGljIHx8ICFvcmlnaW5hbEdyYXBoaWMuc3ltYm9sIHx8IG9yaWdpbmFsR3JhcGhpYy5zeW1ib2wudHlwZSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Nhbm5vdCB1cGRhdGUgdmVydGljYWwgYWxpZ25tZW50OiBncmFwaGljIGhhcyBubyB0ZXh0IHN5bWJvbCcpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBDbG9uZSB0aGUgZ3JhcGhpYyBhbmQgc3ltYm9sXHJcbiAgICAgICAgICAgIGNvbnN0IGdyYXBoaWMgPSBvcmlnaW5hbEdyYXBoaWMuY2xvbmUoKTtcclxuICAgICAgICAgICAgY29uc3QgdGV4dFN5bWJvbCA9IGdyYXBoaWMuc3ltYm9sLmNsb25lKCkgYXMgX19lc3JpLlRleHRTeW1ib2w7XHJcblxyXG4gICAgICAgICAgICAvLyBMb2cgY3VycmVudCBzdGF0ZSBiZWZvcmUgY2hhbmdlc1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdDdXJyZW50IHN5bWJvbCBzdGF0ZTonLCB7XHJcbiAgICAgICAgICAgIC8vICAgICB2ZXJ0aWNhbEFsaWdubWVudDogdGV4dFN5bWJvbC52ZXJ0aWNhbEFsaWdubWVudCxcclxuICAgICAgICAgICAgLy8gICAgIHRleHQ6IHRleHRTeW1ib2wudGV4dCxcclxuICAgICAgICAgICAgLy8gICAgIGhhc1N5bWJvbDogISF0ZXh0U3ltYm9sXHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB2ZXJ0aWNhbCBhbGlnbm1lbnRcclxuICAgICAgICAgICAgdGV4dFN5bWJvbC52ZXJ0aWNhbEFsaWdubWVudCA9IGFsaWdubWVudDtcclxuXHJcbiAgICAgICAgICAgIC8vIEFwcGx5IHRoZSB1cGRhdGVkIHN5bWJvbCB0byB0aGUgZ3JhcGhpY1xyXG4gICAgICAgICAgICBncmFwaGljLnN5bWJvbCA9IHRleHRTeW1ib2w7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgaW4gdGhlIGxheWVyXHJcbiAgICAgICAgICAgIHRoaXMuaWdub3JlTmV4dEdyYXBoaWNzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLnJlbW92ZShvcmlnaW5hbEdyYXBoaWMpO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuYWRkKGdyYXBoaWMpO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIGluIHN0YXRlXHJcbiAgICAgICAgICAgIGRyYXdpbmdzW2luZGV4XSA9IGdyYXBoaWM7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgc3RhdGUgd2l0aCBuZXcgYWxpZ25tZW50IGFuZCBidXR0b24gc3RhdGVzXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgZHJhd2luZ3MsXHJcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEFsaWdubWVudDogYWxpZ25tZW50LFxyXG4gICAgICAgICAgICAgICAgdkFsaWduQmFzZUFjdGl2ZTogYWxpZ25tZW50ID09PSAnYmFzZWxpbmUnLFxyXG4gICAgICAgICAgICAgICAgdkFsaWduVG9wQWN0aXZlOiBhbGlnbm1lbnQgPT09ICd0b3AnLFxyXG4gICAgICAgICAgICAgICAgdkFsaWduTWlkQWN0aXZlOiBhbGlnbm1lbnQgPT09ICdtaWRkbGUnLFxyXG4gICAgICAgICAgICAgICAgdkFsaWduQm90QWN0aXZlOiBhbGlnbm1lbnQgPT09ICdib3R0b20nXHJcbiAgICAgICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9nIHVwZGF0ZWQgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdWZXJ0aWNhbCBhbGlnbm1lbnQgdXBkYXRlZCBzdWNjZXNzZnVsbHk6Jywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbm1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvblN0YXRlczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZWxpbmU6IHRoaXMuc3RhdGUudkFsaWduQmFzZUFjdGl2ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy5zdGF0ZS52QWxpZ25Ub3BBY3RpdmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaWRkbGU6IHRoaXMuc3RhdGUudkFsaWduTWlkQWN0aXZlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiB0aGlzLnN0YXRlLnZBbGlnbkJvdEFjdGl2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAqL1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTYXZlIHRvIGxvY2FsU3RvcmFnZSBpZiBlbmFibGVkIGFuZCBjb25zZW50IGdyYW50ZWRcclxuICAgICAgICAgICAgICAgIGlmICgodGhpcy5wcm9wcy5hbGxvd0xvY2FsU3RvcmFnZSAhPT0gZmFsc2UpICYmIHRoaXMuc3RhdGUuY29uc2VudEdyYW50ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmVUb0xvY2FsU3RvcmFnZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB2ZXJ0aWNhbCBhbGlnbm1lbnQ6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdFcnJvciB1cGRhdGluZyB0ZXh0IGFsaWdubWVudCcsICdlcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gSGFsbyBtZXRob2RzXHJcbiAgICB0b2dnbGVIYWxvRW5hYmxlZCA9IChlbmFibGVkOiBib29sZWFuLCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZHJhd2luZ3MgPSBbLi4udGhpcy5zdGF0ZS5kcmF3aW5nc107XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxHcmFwaGljID0gZHJhd2luZ3NbaW5kZXhdO1xyXG4gICAgICAgIGlmICghb3JpZ2luYWxHcmFwaGljIHx8ICFvcmlnaW5hbEdyYXBoaWMuc3ltYm9sIHx8IG9yaWdpbmFsR3JhcGhpYy5zeW1ib2wudHlwZSAhPT0gJ3RleHQnKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIENsb25lIHRoZSBncmFwaGljIGFuZCBzeW1ib2xcclxuICAgICAgICAgICAgY29uc3QgZ3JhcGhpYyA9IG9yaWdpbmFsR3JhcGhpYy5jbG9uZSgpO1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0U3ltYm9sID0gZ3JhcGhpYy5zeW1ib2wuY2xvbmUoKSBhcyBfX2VzcmkuVGV4dFN5bWJvbDtcclxuXHJcbiAgICAgICAgICAgIGlmIChlbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBFbmFibGUgaGFsbyB3aXRoIGRlZmF1bHQgdmFsdWVzIGlmIG5vdCBzZXRcclxuICAgICAgICAgICAgICAgIHRleHRTeW1ib2wuaGFsb1NpemUgPSB0aGlzLnN0YXRlLmZvbnRIYWxvU2l6ZSB8fCAxO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBDb2xvciBvYmplY3QgZm9yIGhhbG9cclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhbG9Db2xvciA9IHRoaXMuc3RhdGUuZm9udEhhbG9Db2xvciB8fCAncmdiYSgyNTUsMjU1LDI1NSwxKSc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xvck1hdGNoID0gaGFsb0NvbG9yLm1hdGNoKC9yZ2JhP1xcKChcXGQrKSxcXHMqKFxcZCspLFxccyooXFxkKykoPzosXFxzKihbXFxkLl0rKSk/XFwpLyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbG9yTWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gcGFyc2VJbnQoY29sb3JNYXRjaFsxXSwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGcgPSBwYXJzZUludChjb2xvck1hdGNoWzJdLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYiA9IHBhcnNlSW50KGNvbG9yTWF0Y2hbM10sIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhID0gY29sb3JNYXRjaFs0XSA/IHBhcnNlRmxvYXQoY29sb3JNYXRjaFs0XSkgOiAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRTeW1ib2wuaGFsb0NvbG9yID0gbmV3IENvbG9yKFtyLCBnLCBiLCBhXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRTeW1ib2wuaGFsb0NvbG9yID0gbmV3IENvbG9yKFsyNTUsIDI1NSwgMjU1LCAxXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIGhhbG9cclxuICAgICAgICAgICAgICAgIHRleHRTeW1ib2wuaGFsb1NpemUgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGV4dFN5bWJvbC5oYWxvQ29sb3IgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBcHBseSB0aGUgdXBkYXRlZCBzeW1ib2wgdG8gdGhlIGdyYXBoaWNcclxuICAgICAgICAgICAgZ3JhcGhpYy5zeW1ib2wgPSB0ZXh0U3ltYm9sO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIGluIHRoZSBsYXllclxyXG4gICAgICAgICAgICB0aGlzLmlnbm9yZU5leHRHcmFwaGljc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5yZW1vdmUob3JpZ2luYWxHcmFwaGljKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLmFkZChncmFwaGljKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBpbiBzdGF0ZVxyXG4gICAgICAgICAgICBkcmF3aW5nc1tpbmRleF0gPSBncmFwaGljO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHN0YXRlIGFuZCBwZXJzaXN0IC0gcmVtb3ZlIGZvbnRIYWxvIHNpbmNlIGl0J3Mgbm90IGluIHlvdXIgc3RhdGUgaW50ZXJmYWNlXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgZHJhd2luZ3MsXHJcbiAgICAgICAgICAgICAgICBmb250SGFsb0VuYWJsZWQ6IGVuYWJsZWRcclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBmb250SGFsbyBwcm9wZXJ0eSBzaW5jZSBpdCdzIG5vdCBpbiB5b3VyIHN0YXRlIHR5cGVcclxuICAgICAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLnByb3BzLmFsbG93TG9jYWxTdG9yYWdlICE9PSBmYWxzZSkgJiYgdGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHRvZ2dsaW5nIGhhbG86JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMb2NhbEFsZXJ0KCdFcnJvciB1cGRhdGluZyB0ZXh0IGhhbG8nLCAnZXJyb3InKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHVwZGF0ZUhhbG9TaXplID0gKHNpemU6IG51bWJlciwgaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRyYXdpbmdzID0gWy4uLnRoaXMuc3RhdGUuZHJhd2luZ3NdO1xyXG4gICAgICAgIGNvbnN0IGdyYXBoaWMgPSBkcmF3aW5nc1tpbmRleF07XHJcblxyXG4gICAgICAgIGlmICghZ3JhcGhpYyB8fCAhZ3JhcGhpYy5zeW1ib2wgfHwgZ3JhcGhpYy5zeW1ib2wudHlwZSAhPT0gJ3RleHQnKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IHRleHRTeW1ib2wgPSBncmFwaGljLnN5bWJvbCBhcyBfX2VzcmkuVGV4dFN5bWJvbDtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIGhhbG8gc2l6ZVxyXG4gICAgICAgIHRleHRTeW1ib2wuaGFsb1NpemUgPSBzaXplO1xyXG5cclxuICAgICAgICAvLyBFbnN1cmUgaGFsbyBjb2xvciBpcyBzZXQgaWYgc2l6ZSBpcyBzZXRcclxuICAgICAgICBpZiAoc2l6ZSA+IDAgJiYgIXRleHRTeW1ib2wuaGFsb0NvbG9yKSB7XHJcbiAgICAgICAgICAgIHRleHRTeW1ib2wuaGFsb0NvbG9yID0gbmV3IENvbG9yKFsyNTUsIDI1NSwgMjU1LCAxXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBcHBseSBjaGFuZ2VzIGltbWVkaWF0ZWx5XHJcbiAgICAgICAgdGhpcy5hcHBseVRleHRDaGFuZ2VzKGdyYXBoaWMpO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgc3RhdGVcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZHJhd2luZ3MsXHJcbiAgICAgICAgICAgIGZvbnRIYWxvU2l6ZTogc2l6ZSxcclxuICAgICAgICAgICAgZm9udEhhbG9FbmFibGVkOiBzaXplID4gMFxyXG4gICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCh0aGlzLnByb3BzLmFsbG93TG9jYWxTdG9yYWdlICE9PSBmYWxzZSkgJiYgdGhpcy5zdGF0ZS5jb25zZW50R3JhbnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlVG9Mb2NhbFN0b3JhZ2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB1cGRhdGVIYWxvQ29sb3IgPSAoY29sb3I6IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRyYXdpbmdzID0gWy4uLnRoaXMuc3RhdGUuZHJhd2luZ3NdO1xyXG4gICAgICAgIGNvbnN0IGdyYXBoaWMgPSBkcmF3aW5nc1tpbmRleF07XHJcblxyXG4gICAgICAgIGlmICghZ3JhcGhpYyB8fCAhZ3JhcGhpYy5zeW1ib2wgfHwgZ3JhcGhpYy5zeW1ib2wudHlwZSAhPT0gJ3RleHQnKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IHRleHRTeW1ib2wgPSBncmFwaGljLnN5bWJvbCBhcyBfX2VzcmkuVGV4dFN5bWJvbDtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIGhhbG8gY29sb3JcclxuICAgICAgICB0ZXh0U3ltYm9sLmhhbG9Db2xvciA9IGNvbG9yO1xyXG5cclxuICAgICAgICAvLyBFbnN1cmUgaGFsbyBzaXplIGlzIHNldCBpZiBjb2xvciBpcyBzZXRcclxuICAgICAgICBpZiAoIXRleHRTeW1ib2wuaGFsb1NpemUgfHwgdGV4dFN5bWJvbC5oYWxvU2l6ZSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRleHRTeW1ib2wuaGFsb1NpemUgPSAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQXBwbHkgY2hhbmdlcyBpbW1lZGlhdGVseVxyXG4gICAgICAgIHRoaXMuYXBwbHlUZXh0Q2hhbmdlcyhncmFwaGljKTtcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCBjb2xvciBmb3Igc3RhdGVcclxuICAgICAgICBjb25zdCByZ2JhID0gYHJnYmEoJHtjb2xvci5yfSwke2NvbG9yLmd9LCR7Y29sb3IuYn0sJHtjb2xvci5hfSlgO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgc3RhdGVcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZHJhd2luZ3MsXHJcbiAgICAgICAgICAgIGZvbnRIYWxvQ29sb3I6IHJnYmEsXHJcbiAgICAgICAgICAgIGZvbnRIYWxvT3BhY2l0eTogY29sb3IuYSB8fCAxLFxyXG4gICAgICAgICAgICBmb250SGFsb0VuYWJsZWQ6IHRydWVcclxuICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICgodGhpcy5wcm9wcy5hbGxvd0xvY2FsU3RvcmFnZSAhPT0gZmFsc2UpICYmIHRoaXMuc3RhdGUuY29uc2VudEdyYW50ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdXBkYXRlSGFsb09wYWNpdHkgPSAob3BhY2l0eTogbnVtYmVyLCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZHJhd2luZ3MgPSBbLi4udGhpcy5zdGF0ZS5kcmF3aW5nc107XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxHcmFwaGljID0gZHJhd2luZ3NbaW5kZXhdO1xyXG4gICAgICAgIGlmICghb3JpZ2luYWxHcmFwaGljIHx8ICFvcmlnaW5hbEdyYXBoaWMuc3ltYm9sIHx8IG9yaWdpbmFsR3JhcGhpYy5zeW1ib2wudHlwZSAhPT0gJ3RleHQnKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIENsb25lIHRoZSBncmFwaGljIGFuZCBzeW1ib2xcclxuICAgICAgICAgICAgY29uc3QgZ3JhcGhpYyA9IG9yaWdpbmFsR3JhcGhpYy5jbG9uZSgpO1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0U3ltYm9sID0gZ3JhcGhpYy5zeW1ib2wuY2xvbmUoKSBhcyBfX2VzcmkuVGV4dFN5bWJvbDtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBvcGFjaXR5IHdoaWxlIHByZXNlcnZpbmcgaGFsbyBjb2xvclxyXG4gICAgICAgICAgICBpZiAodGV4dFN5bWJvbC5oYWxvQ29sb3IpIHtcclxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBDb2xvciBvYmplY3Qgd2l0aCB0aGUgdXBkYXRlZCBvcGFjaXR5XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZ2JhVmFsdWVzID0gdGV4dFN5bWJvbC5oYWxvQ29sb3IudG9SZ2JhID8gdGV4dFN5bWJvbC5oYWxvQ29sb3IudG9SZ2JhKCkgOiBbMjU1LCAyNTUsIDI1NSwgb3BhY2l0eV07XHJcbiAgICAgICAgICAgICAgICByZ2JhVmFsdWVzWzNdID0gb3BhY2l0eTsgLy8gU2V0IGFscGhhIHZhbHVlXHJcbiAgICAgICAgICAgICAgICB0ZXh0U3ltYm9sLmhhbG9Db2xvciA9IG5ldyBDb2xvcihyZ2JhVmFsdWVzKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmZvbnRIYWxvRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IGhhbG8gY29sb3IgaWYgbm90IHByZXNlbnQgYnV0IGVuYWJsZWRcclxuICAgICAgICAgICAgICAgIHRleHRTeW1ib2wuaGFsb0NvbG9yID0gbmV3IENvbG9yKFsyNTUsIDI1NSwgMjU1LCBvcGFjaXR5XSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFwcGx5IHRoZSB1cGRhdGVkIHN5bWJvbCB0byB0aGUgZ3JhcGhpY1xyXG4gICAgICAgICAgICBncmFwaGljLnN5bWJvbCA9IHRleHRTeW1ib2w7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgaW4gdGhlIGxheWVyXHJcbiAgICAgICAgICAgIHRoaXMuaWdub3JlTmV4dEdyYXBoaWNzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5ncmFwaGljc0xheWVyLnJlbW92ZShvcmlnaW5hbEdyYXBoaWMpO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIuYWRkKGdyYXBoaWMpO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIGluIHN0YXRlXHJcbiAgICAgICAgICAgIGRyYXdpbmdzW2luZGV4XSA9IGdyYXBoaWM7XHJcblxyXG4gICAgICAgICAgICAvLyBDb252ZXJ0IGNvbG9yIGZvciBzdGF0ZVxyXG4gICAgICAgICAgICBjb25zdCByZ2JhID0gdGV4dFN5bWJvbC5oYWxvQ29sb3IgP1xyXG4gICAgICAgICAgICAgICAgYHJnYmEoJHt0ZXh0U3ltYm9sLmhhbG9Db2xvci5yfSwke3RleHRTeW1ib2wuaGFsb0NvbG9yLmd9LCR7dGV4dFN5bWJvbC5oYWxvQ29sb3IuYn0sJHtvcGFjaXR5fSlgIDpcclxuICAgICAgICAgICAgICAgIGByZ2JhKDI1NSwyNTUsMjU1LCR7b3BhY2l0eX0pYDtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzdGF0ZSBhbmQgcGVyc2lzdCAtIHJlbW92ZWQgZm9udEhhbG8gcHJvcGVydHkgdG8gZml4IFR5cGVTY3JpcHQgZXJyb3JcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBkcmF3aW5ncyxcclxuICAgICAgICAgICAgICAgIGZvbnRIYWxvT3BhY2l0eTogb3BhY2l0eSxcclxuICAgICAgICAgICAgICAgIGZvbnRIYWxvQ29sb3I6IHJnYmFcclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZWQgZm9udEhhbG8gcHJvcGVydHkgd2hpY2ggaXMgY2F1c2luZyBUUyBlcnJvclxyXG4gICAgICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMucHJvcHMuYWxsb3dMb2NhbFN0b3JhZ2UgIT09IGZhbHNlKSAmJiB0aGlzLnN0YXRlLmNvbnNlbnRHcmFudGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlVG9Mb2NhbFN0b3JhZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgaGFsbyBvcGFjaXR5OicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93TG9jYWxBbGVydCgnRXJyb3IgdXBkYXRpbmcgdGV4dCBoYWxvIG9wYWNpdHknLCAnZXJyb3InKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNsb3NlU3ltYm9sRWRpdG9yID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzeW1ib2xFZGl0aW5nSW5kZXg6IG51bGwgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHVwZGF0ZVN5bWJvbCA9IChzeW1ib2w6IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIC8vIENhbmNlbCBhbnkgYWN0aXZlIFNrZXRjaFZpZXdNb2RlbCBvcGVyYXRpb25cclxuICAgICAgICBpZiAodGhpcy5za2V0Y2hWaWV3TW9kZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY2FuY2VsKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBkcmF3aW5ncyA9IFsuLi50aGlzLnN0YXRlLmRyYXdpbmdzXTtcclxuXHJcbiAgICAgICAgLy8gVmFsaWRhdGUgZHJhd2luZyBpbmRleFxyXG4gICAgICAgIGlmICghZHJhd2luZ3NbaW5kZXhdKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgTm8gZHJhd2luZyBmb3VuZCBhdCBpbmRleCAke2luZGV4fSBpbiB1cGRhdGVTeW1ib2xgKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxHcmFwaGljID0gZHJhd2luZ3NbaW5kZXhdO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBjbG9uZSBvZiB0aGUgZ3JhcGhpYyB0byBhdm9pZCBtb2RpZnlpbmcgc2hhcmVkIHJlZmVyZW5jZXNcclxuICAgICAgICAgICAgY29uc3QgZ3JhcGhpYyA9IG9yaWdpbmFsR3JhcGhpYy5jbG9uZSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2xvbmUgdGhlIGluY29taW5nIHN5bWJvbCBpZiBpdCBleGlzdHNcclxuICAgICAgICAgICAgbGV0IGZpbmFsU3ltYm9sID0gc3ltYm9sID8gc3ltYm9sLmNsb25lKCkgOiBudWxsO1xyXG5cclxuICAgICAgICAgICAgLy8gSGFuZGxlIHBvbHlsaW5lOiBlbmZvcmNlIFNpbXBsZUxpbmVTeW1ib2xcclxuICAgICAgICAgICAgaWYgKGdyYXBoaWMuZ2VvbWV0cnk/LnR5cGUgPT09ICdwb2x5bGluZScpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZmluYWxTeW1ib2wgfHwgZmluYWxTeW1ib2wudHlwZSAhPT0gJ3NpbXBsZS1saW5lJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsU3ltYm9sID0gbmV3IFNpbXBsZUxpbmVTeW1ib2woe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogZmluYWxTeW1ib2w/LmNvbG9yIHx8IFswLCAwLCAwLCAxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGZpbmFsU3ltYm9sPy53aWR0aCB8fCAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogZmluYWxTeW1ib2w/LnN0eWxlIHx8ICdzb2xpZCdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSGFuZGxlIHRleHQ6IGVuc3VyZSBUZXh0U3ltYm9sIGhhcyByZXF1aXJlZCBwcm9wc1xyXG4gICAgICAgICAgICBpZiAoZmluYWxTeW1ib2w/LnR5cGUgPT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dFN5bWJvbCA9IGZpbmFsU3ltYm9sIGFzIFRleHRTeW1ib2w7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF0ZXh0U3ltYm9sLmNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFN5bWJvbC5jb2xvciA9IG5ldyBDb2xvcihbMCwgMCwgMCwgMV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdGV4dFN5bWJvbC5mb250KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFN5bWJvbC5mb250ID0gbmV3IEZvbnQoeyBzaXplOiAxMiB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIHJlcXVpcmVkIGZvbnQgZmllbGRzIGV4aXN0IHdpdGggYSBuZXcgRm9udCBvYmplY3RcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0U3ltYm9sLmZvbnQgPSBuZXcgRm9udCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbWlseTogdGV4dFN5bWJvbC5mb250LmZhbWlseSB8fCAnQXJpYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiB0ZXh0U3ltYm9sLmZvbnQuc2l6ZSB8fCAxMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHRleHRTeW1ib2wuZm9udC5zdHlsZSB8fCAnbm9ybWFsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiB0ZXh0U3ltYm9sLmZvbnQud2VpZ2h0IHx8ICdub3JtYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNvcmF0aW9uOiB0ZXh0U3ltYm9sLmZvbnQuZGVjb3JhdGlvbiB8fCAnbm9uZSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRleHRTeW1ib2wudGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRTeW1ib2wudGV4dCA9IGdyYXBoaWMuYXR0cmlidXRlcz8ubmFtZSB8fCAnTGFiZWwnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZpbmFsU3ltYm9sID0gdGV4dFN5bWJvbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQXNzaWduIHRoZSBmaW5hbCBzeW1ib2wgdG8gdGhlIGdyYXBoaWMgY2xvbmVcclxuICAgICAgICAgICAgZ3JhcGhpYy5zeW1ib2wgPSBmaW5hbFN5bWJvbDtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgYXJyYXkgaW4gc3RhdGVcclxuICAgICAgICAgICAgZHJhd2luZ3NbaW5kZXhdID0gZ3JhcGhpYztcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgZ3JhcGhpY3MgbGF5ZXIgd2l0aG91dCB0cmlnZ2VyaW5nIGEgd2F0Y2ggZXZlbnRcclxuICAgICAgICAgICAgdGhpcy5pZ25vcmVOZXh0R3JhcGhpY3NVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmdyYXBoaWNzTGF5ZXIucmVtb3ZlKG9yaWdpbmFsR3JhcGhpYyk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZ3JhcGhpY3NMYXllci5hZGQoZ3JhcGhpYyk7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgc3RhdGUgYW5kIHBlcnNpc3QgdG8gbG9jYWxTdG9yYWdlXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBkcmF3aW5ncyB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMucHJvcHMuYWxsb3dMb2NhbFN0b3JhZ2UgIT09IGZhbHNlKSAmJiB0aGlzLnN0YXRlLmNvbnNlbnRHcmFudGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlVG9Mb2NhbFN0b3JhZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgc3ltYm9sOicsIGVycik7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xvY2FsQWxlcnQoJ0Vycm9yIHVwZGF0aW5nIHN5bWJvbCcsICdlcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIGRyYXdpbmdzLCBzZWxlY3RlZEdyYXBoaWNJbmRleCwgc29ydE9wdGlvbiwgZWRpdGluZ0dyYXBoaWNJbmRleCxcclxuICAgICAgICAgICAgYWxlcnRNZXNzYWdlLCBhbGVydFR5cGUsIHNob3dBbGVydCwgY29uc2VudEdyYW50ZWQsXHJcbiAgICAgICAgICAgIGNvbmZpcm1EaWFsb2dPcGVuLCBjb25maXJtRGlhbG9nTWVzc2FnZSwgY29uZmlybURpYWxvZ1R5cGUsXHJcbiAgICAgICAgICAgIGltcG9ydERpYWxvZ09wZW4sIGltcG9ydEZpbGUsIHNlbGVjdGVkR3JhcGhpY3NcclxuICAgICAgICB9ID0gdGhpcy5zdGF0ZTtcclxuXHJcbiAgICAgICAgY29uc3QgdmVydGljYWxNYXA6IFJlY29yZDxWZXJ0aWNhbEFsaWduLCB7IGxhYmVsOiBzdHJpbmc7IHN0YXRlS2V5OiBrZXlvZiBNeURyYXdpbmdzUGFuZWxTdGF0ZSB9PiA9IHtcclxuICAgICAgICAgICAgdG9wOiB7IGxhYmVsOiAnVG9wJywgc3RhdGVLZXk6ICd2QWxpZ25Ub3BBY3RpdmUnIH0sXHJcbiAgICAgICAgICAgIG1pZGRsZTogeyBsYWJlbDogJ01pZGRsZScsIHN0YXRlS2V5OiAndkFsaWduTWlkQWN0aXZlJyB9LFxyXG4gICAgICAgICAgICBib3R0b206IHsgbGFiZWw6ICdCb3R0b20nLCBzdGF0ZUtleTogJ3ZBbGlnbkJvdEFjdGl2ZScgfSxcclxuICAgICAgICAgICAgYmFzZWxpbmU6IHsgbGFiZWw6ICdCYXNlJywgc3RhdGVLZXk6ICd2QWxpZ25CYXNlQWN0aXZlJyB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gQ3VzdG9tIHN0eWxlcyB0byBvdmVycmlkZSBhbnkgZ3JheSBiYWNrZ3JvdW5kc1xyXG4gICAgICAgIGNvbnN0IHdoaXRlQmFja2dyb3VuZFN0eWxlID0ge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyxcclxuICAgICAgICAgICAgYm94U2hhZG93OiAnbm9uZSdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBzdG9yYWdlRGlzY2xhaW1lckNvbnRlbnQgPSAoXHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtNCB0ZXh0LWNlbnRlclwiXHJcbiAgICAgICAgICAgICAgICByb2xlPVwiZGlhbG9nXCJcclxuICAgICAgICAgICAgICAgIGFyaWEtbW9kYWw9XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInN0b3JhZ2VEaXNjbGFpbWVyVGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cInN0b3JhZ2VEaXNjbGFpbWVyRGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiAnI2ZmZicgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGg1IGlkPVwic3RvcmFnZURpc2NsYWltZXJUaXRsZVwiIGNsYXNzTmFtZT1cIm1iLTNcIiB0YWJJbmRleD17LTF9PlxyXG4gICAgICAgICAgICAgICAgICAgIEltcG9ydGFudCBOb3RpY2VcclxuICAgICAgICAgICAgICAgIDwvaDU+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwic3RvcmFnZURpc2NsYWltZXJEZXNjcmlwdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBZb3VyIGRyYXdpbmdzIGFyZSBzYXZlZCBpbiB5b3VyIHdlYiBicm93c2VyIHVzaW5nIGxvY2FsIHN0b3JhZ2UuIFRoaXMgbWVhbnMgdGhleSdyZSBvbmx5IGF2YWlsYWJsZSBvbiB0aGlzIGRldmljZSBhbmQgaW4gdGhpcyBicm93c2VyLlxyXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgSWYgeW91IGNsZWFyIHlvdXIgYnJvd3NlciBkYXRhLCBzd2l0Y2ggdG8gYSBkaWZmZXJlbnQgYnJvd3NlciBvciBjb21wdXRlciwgb3IgaWYgdGhlIGFwcGxpY2F0aW9uIHJlY2VpdmVzIGFuIHVwZGF0ZSwgeW91ciBkcmF3aW5ncyBtYXkgYmUgbG9zdC5cclxuICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRvIGtlZXAgeW91ciB3b3JrIHNhZmUsIHBsZWFzZSB1c2UgdGhlIDxzdHJvbmc+SW1wb3J0PC9zdHJvbmc+IGFuZCA8c3Ryb25nPkV4cG9ydDwvc3Ryb25nPiBidXR0b25zIHRvIGJhY2sgdXAgYW5kIHJlc3RvcmUgeW91ciBkcmF3aW5ncy5cclxuICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJBY2tub3dsZWRnZSB0aGlzIG5vdGljZSBhbmQgY29udGludWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJBY2tub3dsZWRnZSBkaXNjbGFpbWVyIGFuZCBjb250aW51ZSB0byBNeSBEcmF3aW5ncyBwYW5lbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dTdG9yYWdlRGlzY2xhaW1lcjogZmFsc2UgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplQ29tcG9uZW50cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RyYXdpbmdQYW5lbEhlYWRlcicpPy5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgQ29udGludWVcclxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBIZWFkZXIgc3R5bGUgd2l0aCAhaW1wb3J0YW50IHRvIG92ZXJyaWRlIGFueSBleHRlcm5hbCBzdHlsZXNcclxuICAgICAgICBjb25zdCBoZWFkZXJTdHlsZSA9IHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZiAhaW1wb3J0YW50JyxcclxuICAgICAgICAgICAgYm94U2hhZG93OiAnbm9uZSdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBBZGQgYnV0dG9uIHN0eWxpbmcgdG8gbWFrZSB0aGVtIGVxdWFsIHdpZHRoXHJcblxyXG4gICAgICAgIGNvbnN0IGN1c3RvbUNzcyA9IGBcclxuICAvKiBGb3JjZSB3aGl0ZSBiYWNrZ3JvdW5kIG9uIHBvdGVudGlhbGx5IGdyYXkgZWxlbWVudHMgKi9cclxuICAubXktZHJhd2luZ3MtcGFuZWwsXHJcbiAgLm15LWRyYXdpbmdzLXBhbmVsIGg1LFxyXG4gIC5teS1kcmF3aW5ncy1wYW5lbCAuYm9yZGVyLWJvdHRvbSxcclxuICAubXktZHJhd2luZ3MtcGFuZWwgPiBkaXYsXHJcbiAgLm15LWRyYXdpbmdzLXBhbmVsID4gZGl2ID4gZGl2IHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZiAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLm15LWRyYXdpbmdzLXBhbmVsIC5kcmF3aW5nLWxpc3QtY29udGFpbmVyIHtcclxuICAgICAgb3ZlcmZsb3cteTogYXV0byAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLyogVGFyZ2V0IHBhbmVsIGhlYWRlcnMgdGhhdCBtaWdodCBiZSBnZXR0aW5nIHN0eWxlZCBieSB0aGUgZnJhbWV3b3JrICovXHJcbiAgLnBhbmVsLXRpdGxlLCBcclxuICAucGFuZWwtaGVhZGluZyxcclxuICAud2lkZ2V0LXRpdGxlLFxyXG4gIC53aWRnZXQtaGVhZGluZyxcclxuICAud2lkZ2V0LWhlYWRlciB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmYgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC8qIFN0eWxlIHRoZSBtYWluIHBhbmVsIGhlYWRlciBzcGVjaWZpY2FsbHkgKi9cclxuICAubXktZHJhd2luZ3Mge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAvKiBTQ1JPTExJTkcgSU1QUk9WRU1FTlRTICovXHJcbiAgLm15LWRyYXdpbmdzLXBhbmVsIHtcclxuICAgICAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uICFpbXBvcnRhbnQ7XHJcbiAgICAgIGhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgICBvdmVyZmxvdzogaGlkZGVuICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAuYWNjZXNzaWJsZS10b29sdGlwLXdyYXBwZXIge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5hY2Nlc3NpYmxlLXRvb2x0aXAtd3JhcHBlcjpob3ZlciAuYWNjZXNzaWJsZS10b29sdGlwLFxyXG4gIC5hY2Nlc3NpYmxlLXRvb2x0aXAtd3JhcHBlcjpmb2N1cy13aXRoaW4gLmFjY2Vzc2libGUtdG9vbHRpcCB7XHJcbiAgICAgIHZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDtcclxuICAgICAgb3BhY2l0eTogMSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLmFjY2Vzc2libGUtdG9vbHRpcC13cmFwcGVyIC5hY2Nlc3NpYmxlLXRvb2x0aXAge1xyXG4gICAgICB2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtcclxuICAgICAgb3BhY2l0eTogMCAhaW1wb3J0YW50O1xyXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGUgIWltcG9ydGFudDtcclxuICAgICAgei1pbmRleDogMTAwMCAhaW1wb3J0YW50O1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNzUpICFpbXBvcnRhbnQ7XHJcbiAgICAgIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xyXG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXIgIWltcG9ydGFudDtcclxuICAgICAgcGFkZGluZzogNXB4IDEwcHggIWltcG9ydGFudDtcclxuICAgICAgYm9yZGVyLXJhZGl1czogNHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTJweCAhaW1wb3J0YW50O1xyXG4gICAgICB3aGl0ZS1zcGFjZTogbm93cmFwICFpbXBvcnRhbnQ7XHJcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lICFpbXBvcnRhbnQ7XHJcbiAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4ycywgdmlzaWJpbGl0eSAwLjJzICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAvKiBQb3NpdGlvbiB0aGUgdG9vbHRpcCAqL1xyXG4gIC5hY2Nlc3NpYmxlLXRvb2x0aXAtd3JhcHBlciAuYWNjZXNzaWJsZS10b29sdGlwW2RhdGEtcGxhY2VtZW50PVwidG9wXCJdIHtcclxuICAgICAgYm90dG9tOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgICAgIGxlZnQ6IDUwJSAhaW1wb3J0YW50O1xyXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSkgdHJhbnNsYXRlWSgtNnB4KSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLmFjY2Vzc2libGUtdG9vbHRpcC13cmFwcGVyIC5hY2Nlc3NpYmxlLXRvb2x0aXBbZGF0YS1wbGFjZW1lbnQ9XCJib3R0b21cIl0ge1xyXG4gICAgICB0b3A6IDEwMCUgIWltcG9ydGFudDtcclxuICAgICAgbGVmdDogNTAlICFpbXBvcnRhbnQ7XHJcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKDZweCkgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5hY2Nlc3NpYmxlLXRvb2x0aXAtd3JhcHBlciAuYWNjZXNzaWJsZS10b29sdGlwW2RhdGEtcGxhY2VtZW50PVwibGVmdFwiXSB7XHJcbiAgICAgIHJpZ2h0OiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgICAgIHRvcDogNTAlICFpbXBvcnRhbnQ7XHJcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKSB0cmFuc2xhdGVYKC02cHgpICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAuYWNjZXNzaWJsZS10b29sdGlwLXdyYXBwZXIgLmFjY2Vzc2libGUtdG9vbHRpcFtkYXRhLXBsYWNlbWVudD1cInJpZ2h0XCJdIHtcclxuICAgICAgbGVmdDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgICB0b3A6IDUwJSAhaW1wb3J0YW50O1xyXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSkgdHJhbnNsYXRlWCg2cHgpICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAvKiBBZGQgYXJyb3dzICovXHJcbiAgLmFjY2Vzc2libGUtdG9vbHRpcC13cmFwcGVyIC5hY2Nlc3NpYmxlLXRvb2x0aXA6OmFmdGVyIHtcclxuICAgICAgY29udGVudDogXCJcIiAhaW1wb3J0YW50O1xyXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGUgIWltcG9ydGFudDtcclxuICAgICAgYm9yZGVyLXdpZHRoOiA1cHggIWltcG9ydGFudDtcclxuICAgICAgYm9yZGVyLXN0eWxlOiBzb2xpZCAhaW1wb3J0YW50O1xyXG4gICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAuYWNjZXNzaWJsZS10b29sdGlwLXdyYXBwZXIgLmFjY2Vzc2libGUtdG9vbHRpcFtkYXRhLXBsYWNlbWVudD1cInRvcFwiXTo6YWZ0ZXIge1xyXG4gICAgICBib3R0b206IC0xMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIGxlZnQ6IDUwJSAhaW1wb3J0YW50O1xyXG4gICAgICBtYXJnaW4tbGVmdDogLTVweCAhaW1wb3J0YW50O1xyXG4gICAgICBib3JkZXItY29sb3I6IHJnYmEoMCwgMCwgMCwgMC43NSkgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5hY2Nlc3NpYmxlLXRvb2x0aXAtd3JhcHBlciAuYWNjZXNzaWJsZS10b29sdGlwW2RhdGEtcGxhY2VtZW50PVwiYm90dG9tXCJdOjphZnRlciB7XHJcbiAgICAgIHRvcDogLTEwcHggIWltcG9ydGFudDtcclxuICAgICAgbGVmdDogNTAlICFpbXBvcnRhbnQ7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiAtNXB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgcmdiYSgwLCAwLCAwLCAwLjc1KSB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLmFjY2Vzc2libGUtdG9vbHRpcC13cmFwcGVyIC5hY2Nlc3NpYmxlLXRvb2x0aXBbZGF0YS1wbGFjZW1lbnQ9XCJsZWZ0XCJdOjphZnRlciB7XHJcbiAgICAgIHRvcDogNTAlICFpbXBvcnRhbnQ7XHJcbiAgICAgIHJpZ2h0OiAtMTBweCAhaW1wb3J0YW50O1xyXG4gICAgICBtYXJnaW4tdG9wOiAtNXB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgcmdiYSgwLCAwLCAwLCAwLjc1KSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLmFjY2Vzc2libGUtdG9vbHRpcC13cmFwcGVyIC5hY2Nlc3NpYmxlLXRvb2x0aXBbZGF0YS1wbGFjZW1lbnQ9XCJyaWdodFwiXTo6YWZ0ZXIge1xyXG4gICAgICB0b3A6IDUwJSAhaW1wb3J0YW50O1xyXG4gICAgICBsZWZ0OiAtMTBweCAhaW1wb3J0YW50O1xyXG4gICAgICBtYXJnaW4tdG9wOiAtNXB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgcmdiYSgwLCAwLCAwLCAwLjc1KSB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLyogTWFpbiBzY3JvbGxhYmxlIGNvbnRhaW5lciAqL1xyXG4gIC5teS1kcmF3aW5ncy1wYW5lbCAuZmxleC1ncm93LTEsXHJcbiAgLm15LWRyYXdpbmdzLXBhbmVsIC5kcmF3aW5nLWxpc3QtY29udGFpbmVyIHtcclxuICAgICAgb3ZlcmZsb3cteTogYXV0byAhaW1wb3J0YW50O1xyXG4gICAgICBmbGV4OiAxIDEgYXV0byAhaW1wb3J0YW50O1xyXG4gICAgICBoZWlnaHQ6IGF1dG8gIWltcG9ydGFudDtcclxuICAgICAgbWF4LWhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLyogRW5zdXJlIHRoZSB0b3AgY29udHJvbHMgZG9uJ3Qgc2hyaW5rICovXHJcbiAgLm15LWRyYXdpbmdzLXBhbmVsIC5ib3JkZXItYm90dG9tIHtcclxuICAgICAgZmxleC1zaHJpbms6IDAgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC8qID09PT09PT0gSU1QUk9WRUQgRFJBV0lORyBJVEVNIFNUWUxJTkcgPT09PT09PSAqL1xyXG5cclxuICAvKiBEcmF3aW5nIGl0ZW0gY29udGFpbmVyIHN0eWxpbmcgKi9cclxuICAuZHJhd2luZy1pdGVtIHtcclxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjZTBlMGUwO1xyXG4gICAgICBib3JkZXItcmFkaXVzOiA2cHg7XHJcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XHJcbiAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsMCwwLDAuMDUpO1xyXG4gICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xyXG4gIH1cclxuXHJcbiAgLyogSG92ZXIgZWZmZWN0IGZvciBkcmF3aW5nIGl0ZW1zICovXHJcbiAgLmRyYXdpbmctaXRlbTpob3ZlciB7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogI2MwYzBjMDtcclxuICAgICAgYm94LXNoYWRvdzogMCAycHggNXB4IHJnYmEoMCwwLDAsMC4wOCk7XHJcbiAgfVxyXG5cclxuICAvKiBTZWxlY3RlZCBpdGVtIHN0eWxpbmcgKi9cclxuICAuZHJhd2luZy1pdGVtLnNlbGVjdGVkLWRyYXdpbmcge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmN2ZmICFpbXBvcnRhbnQ7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogIzNiODJmNiAhaW1wb3J0YW50O1xyXG4gICAgICBib3JkZXItd2lkdGg6IDJweCAhaW1wb3J0YW50O1xyXG4gICAgICBib3JkZXItc3R5bGU6IHNvbGlkICFpbXBvcnRhbnQ7XHJcbiAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDU5LCAxMzAsIDI0NiwgMC4xNSkgIWltcG9ydGFudDtcclxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICB6LWluZGV4OiAxO1xyXG4gICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnMsIGJvcmRlci1jb2xvciAwLjI1cztcclxuICB9XHJcblxyXG4gIC8qIEFkZCBhIGxlZnQgYWNjZW50IGJhciBmb3Igc2VsZWN0ZWQgaXRlbXMgKi9cclxuICAuZHJhd2luZy1pdGVtLnNlbGVjdGVkLWRyYXdpbmc6OmJlZm9yZSB7XHJcbiAgICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgIGxlZnQ6IDA7XHJcbiAgICAgIHRvcDogMDtcclxuICAgICAgYm90dG9tOiAwO1xyXG4gICAgICB3aWR0aDogNHB4O1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2I4MmY2O1xyXG4gICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAzcHg7XHJcbiAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDNweDtcclxuICB9XHJcblxyXG4gIC8qIFRydW5jYXRlIHRleHQgbGFiZWxzIHRvIHByZXZlbnQgb3ZlcmZsb3cgKi9cclxuICAuZHJhd2luZy1pdGVtIC5mb250LXdlaWdodC1ib2xkLFxyXG4gIC5kcmF3aW5nLWl0ZW0gLnRleHQtbXV0ZWQge1xyXG4gICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICB9XHJcblxyXG4gIC8qID09PT09PT0gSU1QUk9WRUQgQlVUVE9OIFNUWUxJTkcgPT09PT09PSAqL1xyXG5cclxuICAvKiBDb250YWluIGJ1dHRvbnMgaW4gYSBwcm9wZXIgZ3JpZCBsYXlvdXQgKi9cclxuICAuZHJhd2luZy1pdGVtIC5kLWZsZXguZmxleC1jb2x1bW4ge1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgZ2FwOiA2cHg7XHJcbiAgfVxyXG5cclxuICAvKiBPUFRJTUlaRUQgQ09NUEFDVCBCVVRUT04gTEFZT1VUIEZPUiA0IEJVVFRPTlMgKi9cclxuICAuZHJhd2luZy1pdGVtIC5idXR0b24tY29udGFpbmVyIHtcclxuICAgICAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50O1xyXG4gICAgICBmbGV4LXdyYXA6IHdyYXAgIWltcG9ydGFudDtcclxuICAgICAgZ2FwOiAycHggIWltcG9ydGFudDtcclxuICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICAgICAgbWFyZ2luLXRvcDogOHB4ICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAvKiBJbmRpdmlkdWFsIGJ1dHRvbiBzdHlsaW5nIC0gb3B0aW1pemVkIGZvciA0IGJ1dHRvbnMgKi9cclxuICAuZHJhd2luZy1pdGVtIC5idG4ge1xyXG4gICAgICBmbGV4OiAxICFpbXBvcnRhbnQ7XHJcbiAgICAgIG1pbi13aWR0aDogNjVweCAhaW1wb3J0YW50O1xyXG4gICAgICBwYWRkaW5nOiA0cHggNXB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTFweCAhaW1wb3J0YW50O1xyXG4gICAgICB3aGl0ZS1zcGFjZTogbm93cmFwICFpbXBvcnRhbnQ7XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlciAhaW1wb3J0YW50O1xyXG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlciAhaW1wb3J0YW50O1xyXG4gICAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXIgIWltcG9ydGFudDtcclxuICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgIWltcG9ydGFudDtcclxuICAgICAgYm94LXNoYWRvdzogMCAxcHggMnB4IHJnYmEoMCwgMCwgMCwgMC4wNSkgIWltcG9ydGFudDtcclxuICAgICAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAvKiBFbnN1cmUgaWNvbnMgaGF2ZSBjb25zaXN0ZW50IHNwYWNpbmcgKi9cclxuICAuZHJhd2luZy1pdGVtIC5idG4gaSB7XHJcbiAgICAgIG1hcmdpbi1yaWdodDogM3B4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTBweCAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLyogQnV0dG9uIGhvdmVyIGVmZmVjdCAqL1xyXG4gIC5kcmF3aW5nLWl0ZW0gLmJ0bjpob3ZlciB7XHJcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMXB4KTtcclxuICAgICAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwwLDAsMC4xKTtcclxuICAgICAgei1pbmRleDogMTtcclxuICB9XHJcblxyXG4gIC8qIEVuc3VyZSBidXR0b24gYWN0aW9uIGhhcHBlbnMgb24gY2xpY2sgKi9cclxuICAuZHJhd2luZy1pdGVtIC5idG46YWN0aXZlIHtcclxuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDFweCk7XHJcbiAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDFweCByZ2JhKDAsMCwwLDAuMSk7XHJcbiAgfVxyXG5cclxuICAvKiBCdXR0b24gY29sb3JzICovXHJcbiAgLmRyYXdpbmctaXRlbSAuYnRuLWRhbmdlciB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGQ3ZGE7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogI2Y1YzZjYjtcclxuICAgICAgY29sb3I6ICM3MjFjMjQ7XHJcbiAgfVxyXG5cclxuICAuZHJhd2luZy1pdGVtIC5idG4tZGFuZ2VyOmhvdmVyIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YxYzFjNztcclxuICAgICAgYm9yZGVyLWNvbG9yOiAjZWZiMGI5O1xyXG4gIH1cclxuXHJcbiAgLyogRXh0cmEgY29tcGFjdCBzdHlsaW5nIGZvciB3aWRlciBzY3JlZW5zIC0gYWxsb3cgdG8gZml0IDQgYnV0dG9ucyAqL1xyXG4gIEBtZWRpYSAobWluLXdpZHRoOiA2NTFweCkge1xyXG4gICAgICAuZHJhd2luZy1pdGVtIC5idXR0b24tY29udGFpbmVyIHtcclxuICAgICAgICAgIGdhcDogM3B4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgLmRyYXdpbmctaXRlbSAuYnRuIHtcclxuICAgICAgICAgIG1pbi13aWR0aDogNzBweCAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgcGFkZGluZzogNHB4IDZweCAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgLmRyYXdpbmctaXRlbSAuYnRuIGkge1xyXG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiAzcHggIWltcG9ydGFudDtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMTFweCAhaW1wb3J0YW50O1xyXG4gICAgICB9XHJcbiAgfVxyXG5cclxuICAvKiA9PT09PT09IFRFWFQgU1RZTEUgRURJVE9SIElNUFJPVkVNRU5UUyA9PT09PT09ICovXHJcblxyXG4gIC8qIFRleHQgZWRpdG9yIGNvbnRhaW5lciAqL1xyXG4gIC50ZXh0LWVkaXRvciB7XHJcbiAgICAgIHBhZGRpbmc6IDEycHg7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOSAhaW1wb3J0YW50O1xyXG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjZTBlMGUwO1xyXG4gICAgICBtYXJnaW4tdG9wOiA4cHg7XHJcbiAgICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDNweCByZ2JhKDAsMCwwLDAuMDUpO1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICB9XHJcblxyXG4gIC8qIEZvcm0gZ3JvdXBzIHdpdGhpbiB0ZXh0IGVkaXRvciAqL1xyXG4gIC50ZXh0LWVkaXRvciAuZm9ybS1ncm91cCB7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDEycHg7XHJcbiAgICAgIHBhZGRpbmctYm90dG9tOiAxMnB4O1xyXG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLDAsMCwwLjA1KTtcclxuICB9XHJcblxyXG4gIC50ZXh0LWVkaXRvciAuZm9ybS1ncm91cDpsYXN0LWNoaWxkIHtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICAgICAgcGFkZGluZy1ib3R0b206IDA7XHJcbiAgICAgIGJvcmRlci1ib3R0b206IG5vbmU7XHJcbiAgfVxyXG5cclxuICAvKiBGb3JtIGNvbnRyb2xzICovXHJcbiAgLnRleHQtZWRpdG9yIGlucHV0LFxyXG4gIC50ZXh0LWVkaXRvciBzZWxlY3QsXHJcbiAgLnRleHQtZWRpdG9yIC5mb3JtLWNvbnRyb2wge1xyXG4gICAgICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG4gIH1cclxuXHJcbiAgLnRleHQtZWRpdG9yIGlucHV0W3R5cGU9XCJ0ZXh0XCJdLFxyXG4gIC50ZXh0LWVkaXRvciBpbnB1dFt0eXBlPVwibnVtYmVyXCJdIHtcclxuICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcbiAgfVxyXG5cclxuICAvKiBGb3JtIGxhYmVscyAqL1xyXG4gIC50ZXh0LWVkaXRvciBsYWJlbCB7XHJcbiAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gICAgICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogNHB4O1xyXG4gIH1cclxuXHJcbiAgLyogQ29sb3IgcGlja2VyIGFuZCBudW1iZXIgaW5wdXRzICovXHJcbiAgLnRleHQtZWRpdG9yIGlucHV0W3R5cGU9XCJjb2xvclwiXSB7XHJcbiAgICAgIGhlaWdodDogMzJweDtcclxuICAgICAgd2lkdGg6IDMycHg7XHJcbiAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgIG1pbi13aWR0aDogMzJweDtcclxuICB9XHJcblxyXG4gIC50ZXh0LWVkaXRvciBpbnB1dFt0eXBlPVwibnVtYmVyXCJdIHtcclxuICAgICAgbWF4LXdpZHRoOiA4MHB4O1xyXG4gIH1cclxuXHJcbiAgLyogUmFuZ2Ugc2xpZGVycyAqL1xyXG4gIC50ZXh0LWVkaXRvciBpbnB1dFt0eXBlPVwicmFuZ2VcIl0ge1xyXG4gICAgICBoZWlnaHQ6IDZweDtcclxuICAgICAgYmFja2dyb3VuZDogI2UwZTBlMDtcclxuICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcblxyXG4gIC8qIFRleHQgc3R5bGUgYnV0dG9uIGNvbnRyb2xzICovXHJcbiAgLnRleHQtZWRpdG9yIC50ZXh0LXN0eWxlLWJ0biB7XHJcbiAgICAgIG1pbi13aWR0aDogNDBweCAhaW1wb3J0YW50O1xyXG4gICAgICBoZWlnaHQ6IDQwcHggIWltcG9ydGFudDtcclxuICAgICAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50O1xyXG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyICFpbXBvcnRhbnQ7XHJcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyICFpbXBvcnRhbnQ7XHJcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50O1xyXG4gICAgICBtYXJnaW46IDAgMnB4O1xyXG4gIH1cclxuXHJcbiAgLyogQWN0aXZlIGJ1dHRvbnMgc3R5bGUgKi9cclxuICAudGV4dC1lZGl0b3IgLmJ0bi1wcmltYXJ5LnRleHQtc3R5bGUtYnRuOjphZnRlciB7XHJcbiAgICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgIGJvdHRvbTogM3B4O1xyXG4gICAgICBsZWZ0OiAzMCU7XHJcbiAgICAgIHdpZHRoOiA0MCU7XHJcbiAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICB9XHJcblxyXG4gIC8qIEFMSUdOTUVOVCBCVVRUT04gSU1QUk9WRU1FTlRTICovXHJcbiAgLnRleHQtYWxpZ25tZW50LWJ0biB7XHJcbiAgICAgIG1pbi13aWR0aDogMCAhaW1wb3J0YW50OyBcclxuICAgICAgZmxleDogMSAhaW1wb3J0YW50O1xyXG4gICAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4gIWltcG9ydGFudDtcclxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlciAhaW1wb3J0YW50O1xyXG4gICAgICBwYWRkaW5nOiA2cHggNHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIG1hcmdpbjogMCAycHggIWltcG9ydGFudDtcclxuICAgICAgb3ZlcmZsb3c6IGhpZGRlbiAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLnRleHQtYWxpZ25tZW50LWJ0biAuYWxpZ25tZW50LWxhYmVsIHtcclxuICAgICAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWwgIWltcG9ydGFudDtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogMnB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXAgIWltcG9ydGFudDtcclxuICAgICAgb3ZlcmZsb3c6IGhpZGRlbiAhaW1wb3J0YW50O1xyXG4gICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcyAhaW1wb3J0YW50O1xyXG4gICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXIgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC50ZXh0LWFsaWdubWVudC1idG4gLmFsaWdubWVudC1pY29uIHtcclxuICAgICAgZm9udC1zaXplOiA4cHggIWltcG9ydGFudDtcclxuICAgICAgb3BhY2l0eTogMC44ICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAudGV4dC1hbGlnbm1lbnQtYnRuLmFjdGl2ZSAuYWxpZ25tZW50LWxhYmVsIHtcclxuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC8qIEhvcml6b250YWwgYWxpZ25tZW50IHNwZWNpZmljIHN0eWxlcyAqL1xyXG4gIC5ob3Jpem9udGFsLWFsaWdubWVudC1jb250cm9scyB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXggIWltcG9ydGFudDtcclxuICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuICFpbXBvcnRhbnQ7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDEycHggIWltcG9ydGFudDtcclxuICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5ob3Jpem9udGFsLWFsaWdubWVudC1jb250cm9scyAuYnRuLWdyb3VwIHtcclxuICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICAgICAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50O1xyXG4gICAgICBnYXA6IDIlICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAvKiBWZXJ0aWNhbCBhbGlnbm1lbnQgc3BlY2lmaWMgc3R5bGVzICovXHJcbiAgLnZlcnRpY2FsLWFsaWdubWVudC1jb250cm9scyB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXggIWltcG9ydGFudDtcclxuICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuICFpbXBvcnRhbnQ7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDEycHggIWltcG9ydGFudDtcclxuICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC52ZXJ0aWNhbC1hbGlnbm1lbnQtY29udHJvbHMgLmJ0bi1ncm91cCB7XHJcbiAgICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXggIWltcG9ydGFudDtcclxuICAgICAgZ2FwOiAyJSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLyogQWxpZ25tZW50IGJ1dHRvbnMgKi9cclxuICAuYnRuLXNtLmFsaWdubWVudC1idXR0b24ge1xyXG4gICAgICBmbGV4OiAxICFpbXBvcnRhbnQ7XHJcbiAgICAgIG1pbi13aWR0aDogMCAhaW1wb3J0YW50O1xyXG4gICAgICBvdmVyZmxvdzogaGlkZGVuICFpbXBvcnRhbnQ7XHJcbiAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzICFpbXBvcnRhbnQ7XHJcbiAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXAgIWltcG9ydGFudDtcclxuICAgICAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIHBhZGRpbmc6IDRweCAycHggIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC8qIEltcHJvdmVkIHZpc3VhbCBpbmRpY2F0b3JzIGZvciBhbGlnbm1lbnQgc3RhdGVzICovXHJcbiAgLmFsaWdubWVudC1sYWJlbC1jb250YWluZXIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4gIWltcG9ydGFudDtcclxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlciAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLyogQnV0dG9uIGdyb3VwIGltcHJvdmVtZW50cyAqL1xyXG4gIC5hbGlnbm1lbnQtYnRuLWdyb3VwIHtcclxuICAgICAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50O1xyXG4gICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW4gIWltcG9ydGFudDtcclxuICAgICAgZ2FwOiAyJSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLyogQXBwbHkgYnV0dG9uIHN0eWxpbmcgKi9cclxuICAudGV4dC1lZGl0b3IgLmJ0bi1wcmltYXJ5IHtcclxuICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgIG1hcmdpbi10b3A6IDEycHg7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIH1cclxuXHJcbi8qID09PT09PT0gSU1QUk9WRUQgUkVTUE9OU0lWRSBUT09MQkFSIFNUWUxJTkcgPT09PT09PSAqL1xyXG5cclxuLyogRW5oYW5jZWQgcmVzcG9uc2l2ZSB0b29sYmFyIHN0eWxpbmcgKi9cclxuLm15LWRyYXdpbmdzLXBhbmVsIC50b3AtY29udHJvbHMge1xyXG4gICAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbiAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZzogOHB4IDhweCAhaW1wb3J0YW50O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlMGUwZTAgIWltcG9ydGFudDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmYgIWltcG9ydGFudDtcclxuICAgIGdhcDogNnB4ICFpbXBvcnRhbnQ7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA4cHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLyogRmlyc3QgbGluZSBjb250YWluZXIgd2l0aCBzb3J0LCBzZWxlY3QgYWxsLCBhbmQgZGVsZXRlIGFsbCAqL1xyXG4ubXktZHJhd2luZ3MtcGFuZWwgLnRvb2xiYXItZmlyc3QtbGluZSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XHJcbiAgICBmbGV4LXdyYXA6IHdyYXAgIWltcG9ydGFudDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXIgIWltcG9ydGFudDtcclxuICAgIGdhcDogNnB4ICFpbXBvcnRhbnQ7XHJcbiAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogNnB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi8qIFNvcnQgZHJvcGRvd24gY29udGFpbmVyIC0gZmxleGlibGUgd2lkdGggKi9cclxuLm15LWRyYXdpbmdzLXBhbmVsIC5zb3J0LXdyYXBwZXIge1xyXG4gICAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlciAhaW1wb3J0YW50O1xyXG4gICAgZ2FwOiA2cHggIWltcG9ydGFudDtcclxuICAgIGZsZXg6IDEgMSBhdXRvICFpbXBvcnRhbnQ7XHJcbiAgICBtaW4td2lkdGg6IDE1MHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5teS1kcmF3aW5ncy1wYW5lbCAuc29ydC1sYWJlbCB7XHJcbiAgICBmb250LXNpemU6IDEycHggIWltcG9ydGFudDtcclxuICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1xyXG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcCAhaW1wb3J0YW50O1xyXG4gICAgY29sb3I6ICM1NTUgIWltcG9ydGFudDtcclxuICAgIGZsZXgtc2hyaW5rOiAwICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5teS1kcmF3aW5ncy1wYW5lbCAuc29ydC1zZWxlY3Qge1xyXG4gICAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7XHJcbiAgICBoZWlnaHQ6IDI4cHggIWltcG9ydGFudDtcclxuICAgIG1pbi13aWR0aDogODBweCAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZzogMnB4IDZweCAhaW1wb3J0YW50O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4ICFpbXBvcnRhbnQ7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjICFpbXBvcnRhbnQ7XHJcbiAgICBmbGV4OiAxIDEgYXV0byAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4vKiBPdmVycmlkZSBCb290c3RyYXAncyBmb3JtLWNvbnRyb2wgcGFkZGluZyAqL1xyXG4ubXktZHJhd2luZ3MtcGFuZWwgLmZvcm0tY29udHJvbC1zbS5zb3J0LXNlbGVjdCB7XHJcbiAgICBwYWRkaW5nOiAycHggNnB4ICFpbXBvcnRhbnQ7XHJcbiAgICBoZWlnaHQ6IDI4cHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLyogU2VsZWN0IEFsbCBidXR0b24gc3R5bGluZyAtIENFTlRFUkVEIFRFWFQgKi9cclxuLm15LWRyYXdpbmdzLXBhbmVsIC5zZWxlY3QtYWxsLWJ0biB7XHJcbiAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyICFpbXBvcnRhbnQ7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlciAhaW1wb3J0YW50O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7XHJcbiAgICBnYXA6IDRweCAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZzogNXB4IDhweCAhaW1wb3J0YW50O1xyXG4gICAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7XHJcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwICFpbXBvcnRhbnQ7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4xNXMgZWFzZSAhaW1wb3J0YW50O1xyXG4gICAgYm94LXNoYWRvdzogMCAxcHggMnB4IHJnYmEoMCwwLDAsMC4wNSkgIWltcG9ydGFudDtcclxuICAgIGZsZXg6IDAgMCBhdXRvICFpbXBvcnRhbnQ7XHJcbiAgICBtaW4td2lkdGg6IGZpdC1jb250ZW50ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5teS1kcmF3aW5ncy1wYW5lbCAuc2VsZWN0LWFsbC1idG4gaSB7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDRweCAhaW1wb3J0YW50O1xyXG4gICAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7XHJcbiAgICBmbGV4LXNocmluazogMCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ubXktZHJhd2luZ3MtcGFuZWwgLnNlbGVjdC1hbGwtYnRuOmhvdmVyOm5vdCg6ZGlzYWJsZWQpIHtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMXB4KTtcclxuICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMTUpICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5teS1kcmF3aW5ncy1wYW5lbCAuc2VsZWN0LWFsbC1idG46ZGlzYWJsZWQge1xyXG4gICAgb3BhY2l0eTogMC41O1xyXG4gICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcclxufVxyXG5cclxuLyogV2hlbiBhbGwgaXRlbXMgYXJlIHNlbGVjdGVkLCBtYWtlIGl0IHByaW1hcnkgKGJsdWUpICovXHJcbi5teS1kcmF3aW5ncy1wYW5lbCAuc2VsZWN0LWFsbC1idG4uYnRuLXByaW1hcnkge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZiAhaW1wb3J0YW50O1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjMDA3YmZmICFpbXBvcnRhbnQ7XHJcbiAgICBjb2xvcjogd2hpdGUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLm15LWRyYXdpbmdzLXBhbmVsIC5zZWxlY3QtYWxsLWJ0bi5idG4tcHJpbWFyeTpob3Zlcjpub3QoOmRpc2FibGVkKSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1NmIzICFpbXBvcnRhbnQ7XHJcbiAgICBib3JkZXItY29sb3I6ICMwMDU2YjMgIWltcG9ydGFudDtcclxufVxyXG5cclxuLyogRGVsZXRlIEFsbCBidXR0b24gc3R5bGluZyAtIENFTlRFUkVEIFRFWFQgKi9cclxuLm15LWRyYXdpbmdzLXBhbmVsIC5kZWxldGUtYWxsLWJ0biB7XHJcbiAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyICFpbXBvcnRhbnQ7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlciAhaW1wb3J0YW50O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7XHJcbiAgICBnYXA6IDRweCAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZzogNXB4IDhweCAhaW1wb3J0YW50O1xyXG4gICAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7XHJcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwICFpbXBvcnRhbnQ7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4xNXMgZWFzZSAhaW1wb3J0YW50O1xyXG4gICAgYm94LXNoYWRvdzogMCAxcHggMnB4IHJnYmEoMCwwLDAsMC4wNSkgIWltcG9ydGFudDtcclxuICAgIGZsZXg6IDAgMCBhdXRvICFpbXBvcnRhbnQ7XHJcbiAgICBtaW4td2lkdGg6IGZpdC1jb250ZW50ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5teS1kcmF3aW5ncy1wYW5lbCAuZGVsZXRlLWFsbC1idG4gaSB7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDRweCAhaW1wb3J0YW50O1xyXG4gICAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7XHJcbiAgICBmbGV4LXNocmluazogMCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ubXktZHJhd2luZ3MtcGFuZWwgLmRlbGV0ZS1hbGwtYnRuOmhvdmVyOm5vdCg6ZGlzYWJsZWQpIHtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMXB4KTtcclxuICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDIyMCwgNTMsIDY5LCAwLjMpICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5teS1kcmF3aW5ncy1wYW5lbCAuZGVsZXRlLWFsbC1idG46ZGlzYWJsZWQge1xyXG4gICAgb3BhY2l0eTogMC41O1xyXG4gICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcclxufVxyXG5cclxuLyogU2Vjb25kIGxpbmU6IEFjdGlvbiBidXR0b25zIC0gRVFVQUwgV0lEVEggJiBDRU5URVJFRCAqL1xyXG4ubXktZHJhd2luZ3MtcGFuZWwgLmFjdGlvbi1idXR0b25zLXdyYXBwZXIge1xyXG4gICAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50O1xyXG4gICAgZmxleC13cmFwOiB3cmFwICFpbXBvcnRhbnQ7XHJcbiAgICBnYXA6IDZweCAhaW1wb3J0YW50O1xyXG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLyogQWN0aW9uIGJ1dHRvbiBzdHlsaW5nIC0gRVFVQUwgV0lEVEggYW5kIENFTlRFUkVEIFRFWFQgKi9cclxuLm15LWRyYXdpbmdzLXBhbmVsIC5hY3Rpb24tYnRuIHtcclxuICAgIGZsZXg6IDEgMSBjYWxjKDI1JSAtIDVweCkgIWltcG9ydGFudDtcclxuICAgIG1pbi13aWR0aDogOTBweCAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZzogNXB4IDhweCAhaW1wb3J0YW50O1xyXG4gICAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7XHJcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwICFpbXBvcnRhbnQ7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuICFpbXBvcnRhbnQ7XHJcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcyAhaW1wb3J0YW50O1xyXG4gICAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlciAhaW1wb3J0YW50O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXIgIWltcG9ydGFudDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlciAhaW1wb3J0YW50O1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMTVzIGVhc2UgIWltcG9ydGFudDtcclxuICAgIGJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsMCwwLDAuMDUpICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5teS1kcmF3aW5ncy1wYW5lbCAuYWN0aW9uLWJ0biBpIHtcclxuICAgIG1hcmdpbi1yaWdodDogNHB4ICFpbXBvcnRhbnQ7XHJcbiAgICBmb250LXNpemU6IDEycHggIWltcG9ydGFudDtcclxuICAgIGZsZXgtc2hyaW5rOiAwICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi8qIFJlc3BvbnNpdmUgYmVoYXZpb3IgZm9yIGV4dHJlbWVseSBuYXJyb3cgc2NyZWVucyAqL1xyXG5AbWVkaWEgKG1heC13aWR0aDogMzUwcHgpIHtcclxuICAgIC5kcmF3aW5nLWl0ZW0gLmJ1dHRvbi1jb250YWluZXIge1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4gIWltcG9ydGFudDtcclxuICAgIH1cclxuXHJcbiAgICAuZHJhd2luZy1pdGVtIC5idG4ge1xyXG4gICAgICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogNHB4ICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLnRleHQtZWRpdG9yIC5kLWZsZXgge1xyXG4gICAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIH1cclxuXHJcbiAgICAubXktZHJhd2luZ3MtcGFuZWwgLnRvb2xiYXItZmlyc3QtbGluZSB7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbiAhaW1wb3J0YW50O1xyXG4gICAgICAgIGFsaWduLWl0ZW1zOiBzdHJldGNoICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgZ2FwOiA4cHggIWltcG9ydGFudDtcclxuICAgIH1cclxuXHJcbiAgICAubXktZHJhd2luZ3MtcGFuZWwgLnNvcnQtd3JhcHBlcixcclxuICAgIC5teS1kcmF3aW5ncy1wYW5lbCAuc2VsZWN0LWFsbC1idG4sXHJcbiAgICAubXktZHJhd2luZ3MtcGFuZWwgLmRlbGV0ZS1hbGwtYnRuIHtcclxuICAgICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgICAgIGZsZXg6IDEgMSAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLm15LWRyYXdpbmdzLXBhbmVsIC5zZWxlY3QtYWxsLWJ0bixcclxuICAgIC5teS1kcmF3aW5ncy1wYW5lbCAuZGVsZXRlLWFsbC1idG4ge1xyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLm15LWRyYXdpbmdzLXBhbmVsIC5zb3J0LXNlbGVjdCB7XHJcbiAgICAgICAgZmxleC1ncm93OiAxICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICAgIH1cclxuXHJcbiAgICAvKiBTdGFjayBhY3Rpb24gYnV0dG9ucyB2ZXJ0aWNhbGx5IC0gRlVMTCBXSURUSCAqL1xyXG4gICAgLm15LWRyYXdpbmdzLXBhbmVsIC5hY3Rpb24tYnV0dG9ucy13cmFwcGVyIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbiAhaW1wb3J0YW50O1xyXG4gICAgICAgIGdhcDogNnB4ICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLm15LWRyYXdpbmdzLXBhbmVsIC5hY3Rpb24tYnRuIHtcclxuICAgICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgICAgIGZsZXg6IDEgMSAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgbWluLXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXIgIWltcG9ydGFudDtcclxuICAgIH1cclxufVxyXG5cclxuLyogUmVzcG9uc2l2ZSBiZWhhdmlvciBmb3IgbmFycm93IHNjcmVlbnMgLSAyIEJVVFRPTlMgUEVSIFJPVyAqL1xyXG5AbWVkaWEgKG1pbi13aWR0aDogMzUxcHgpIGFuZCAobWF4LXdpZHRoOiA1MDBweCkge1xyXG4gICAgLmRyYXdpbmctaXRlbSAuYnV0dG9uLWNvbnRhaW5lciB7XHJcbiAgICAgICAgZ2FwOiAycHggIWltcG9ydGFudDtcclxuICAgIH1cclxuXHJcbiAgICAuZHJhd2luZy1pdGVtIC5idG4ge1xyXG4gICAgICAgIHBhZGRpbmc6IDNweCAycHggIWltcG9ydGFudDtcclxuICAgICAgICBmb250LXNpemU6IDEwcHggIWltcG9ydGFudDtcclxuICAgICAgICBtaW4td2lkdGg6IDUwcHggIWltcG9ydGFudDtcclxuICAgIH1cclxuXHJcbiAgICAuZHJhd2luZy1pdGVtIC5idG4gaSB7XHJcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAycHggIWltcG9ydGFudDtcclxuICAgICAgICBmb250LXNpemU6IDlweCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIC5teS1kcmF3aW5ncy1wYW5lbCAuc29ydC13cmFwcGVyIHtcclxuICAgICAgICBmbGV4OiAxIDEgMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgICAgIG1pbi13aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIC5teS1kcmF3aW5ncy1wYW5lbCAuc2VsZWN0LWFsbC1idG4sXHJcbiAgICAubXktZHJhd2luZ3MtcGFuZWwgLmRlbGV0ZS1hbGwtYnRuIHtcclxuICAgICAgICBmbGV4OiAxIDEgY2FsYyg1MCUgLSAzcHgpICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyogMiBFUVVBTC1XSURUSCBhY3Rpb24gYnV0dG9ucyBwZXIgcm93ICovXHJcbiAgICAubXktZHJhd2luZ3MtcGFuZWwgLmFjdGlvbi1idG4ge1xyXG4gICAgICAgIGZsZXg6IDEgMSBjYWxjKDUwJSAtIDNweCkgIWltcG9ydGFudDtcclxuICAgICAgICBtaW4td2lkdGg6IGNhbGMoNTAlIC0gM3B4KSAhaW1wb3J0YW50O1xyXG4gICAgICAgIHBhZGRpbmc6IDVweCA2cHggIWltcG9ydGFudDtcclxuICAgICAgICBmb250LXNpemU6IDExcHggIWltcG9ydGFudDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlciAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIC5teS1kcmF3aW5ncy1wYW5lbCAuYWN0aW9uLWJ0biBpIHtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDNweCAhaW1wb3J0YW50O1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTBweCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG59XHJcblxyXG4vKiBNZWRpdW0gc2NyZWVucyAtIDIgQlVUVE9OUyBQRVIgUk9XIGV4cGFuZGluZyB0byA0ICovXHJcbkBtZWRpYSAobWluLXdpZHRoOiA1MDFweCkgYW5kIChtYXgtd2lkdGg6IDY1MHB4KSB7XHJcbiAgICAuZHJhd2luZy1pdGVtIC5idXR0b24tY29udGFpbmVyIHtcclxuICAgICAgICBnYXA6IDJweCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIC5kcmF3aW5nLWl0ZW0gLmJ0biB7XHJcbiAgICAgICAgcGFkZGluZzogNHB4IDNweCAhaW1wb3J0YW50O1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTFweCAhaW1wb3J0YW50O1xyXG4gICAgICAgIG1pbi13aWR0aDogNjBweCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIC5kcmF3aW5nLWl0ZW0gLmJ0biBpIHtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDJweCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIC5teS1kcmF3aW5ncy1wYW5lbCAuc29ydC13cmFwcGVyIHtcclxuICAgICAgICBtaW4td2lkdGg6IDE0MHB4ICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyogMi00IEVRVUFMLVdJRFRIIGJ1dHRvbnMgcGVyIHJvdyAqL1xyXG4gICAgLm15LWRyYXdpbmdzLXBhbmVsIC5hY3Rpb24tYnRuIHtcclxuICAgICAgICBmbGV4OiAxIDEgY2FsYyg1MCUgLSAzcHgpICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgbWluLXdpZHRoOiAxMTBweCAhaW1wb3J0YW50O1xyXG4gICAgICAgIHBhZGRpbmc6IDVweCA3cHggIWltcG9ydGFudDtcclxuICAgICAgICBmb250LXNpemU6IDExcHggIWltcG9ydGFudDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlciAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG59XHJcblxyXG4vKiBMYXJnZSBzY3JlZW5zIC0gNCBFUVVBTC1XSURUSCBCVVRUT05TIElOIE9ORSBST1cgKi9cclxuQG1lZGlhIChtaW4td2lkdGg6IDY1MXB4KSB7XHJcbiAgICAuZHJhd2luZy1pdGVtIC5idXR0b24tY29udGFpbmVyIHtcclxuICAgICAgICBnYXA6IDNweCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIC5kcmF3aW5nLWl0ZW0gLmJ0biB7XHJcbiAgICAgICAgbWluLXdpZHRoOiA3MHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgcGFkZGluZzogNHB4IDZweCAhaW1wb3J0YW50O1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTJweCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIC5kcmF3aW5nLWl0ZW0gLmJ0biBpIHtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDNweCAhaW1wb3J0YW50O1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTFweCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIC5teS1kcmF3aW5ncy1wYW5lbCAuc29ydC13cmFwcGVyIHtcclxuICAgICAgICBtaW4td2lkdGg6IDE1MHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgZmxleDogMSAxIGF1dG8gIWltcG9ydGFudDtcclxuICAgICAgICBtYXgtd2lkdGg6IDMwMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyogNCBFUVVBTC1XSURUSCBidXR0b25zIGluIG9uZSByb3cgKi9cclxuICAgIC5teS1kcmF3aW5ncy1wYW5lbCAuYWN0aW9uLWJ0biB7XHJcbiAgICAgICAgZmxleDogMSAxIGNhbGMoMjUlIC0gNXB4KSAhaW1wb3J0YW50O1xyXG4gICAgICAgIG1pbi13aWR0aDogMCAhaW1wb3J0YW50O1xyXG4gICAgICAgIHBhZGRpbmc6IDVweCA4cHggIWltcG9ydGFudDtcclxuICAgICAgICBmb250LXNpemU6IDEycHggIWltcG9ydGFudDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlciAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIC5teS1kcmF3aW5ncy1wYW5lbCAuYWN0aW9uLWJ0biBpIHtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDRweCAhaW1wb3J0YW50O1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTFweCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG59XHJcblxyXG4gIC8qID09PT09PT0gU0NST0xMQkFSIFNUWUxJTkcgPT09PT09PSAqL1xyXG5cclxuICAvKiBGaXJlZm94IHNjcm9sbGJhciAqL1xyXG4gIC5weC0zIHtcclxuICAgICAgc2Nyb2xsYmFyLXdpZHRoOiB0aGluO1xyXG4gICAgICBzY3JvbGxiYXItY29sb3I6IHJnYmEoMCwwLDAsMC4yKSB0cmFuc3BhcmVudDtcclxuICB9XHJcblxyXG4gIC8qIENocm9tZS9TYWZhcmkgc2Nyb2xsYmFyICovXHJcbiAgLnB4LTM6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICAgICAgd2lkdGg6IDZweDtcclxuICB9XHJcblxyXG4gIC5weC0zOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7XHJcbiAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gIH1cclxuXHJcbiAgLnB4LTM6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjIpO1xyXG4gICAgICBib3JkZXItcmFkaXVzOiAzcHg7XHJcbiAgfVxyXG5cclxuICAvKiBQcmV2ZW50IHRleHQgb3ZlcmZsb3cgaW4gYWxsIHRleHQgZWxlbWVudHMgKi9cclxuICAudGV4dC10cnVuY2F0ZSB7XHJcbiAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gICAgICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG5gO1xyXG5cclxuICAgICAgICAvLyBDdXN0b20gY29uZmlybWF0aW9uIGRpYWxvZyBmb3IgZGVsZXRlL2NsZWFyXHJcbiAgICAgICAgY29uc3QgY29uZmlybWF0aW9uRGlhbG9nID0gY29uZmlybURpYWxvZ09wZW4gJiYgKFxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjb25maXJtYXRpb24tZGlhbG9nLW92ZXJsYXlcIlxyXG4gICAgICAgICAgICAgICAgcm9sZT1cImRpYWxvZ1wiXHJcbiAgICAgICAgICAgICAgICBhcmlhLW1vZGFsPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJjb25maXJtYXRpb25EaWFsb2dUaXRsZVwiXHJcbiAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiY29uZmlybWF0aW9uRGlhbG9nTWVzc2FnZVwiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogMCxcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuNSknLFxyXG4gICAgICAgICAgICAgICAgICAgIHpJbmRleDogMTAwMCxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY29uZmlybWF0aW9uLWRpYWxvZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMjBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnODAlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6ICczMDBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogJzAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMiknXHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbmZpcm1hdGlvbi1kaWFsb2ctaGVhZGVyIG1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGlkPVwiY29uZmlybWF0aW9uRGlhbG9nVGl0bGVcIiB0YWJJbmRleD17LTF9IGNsYXNzTmFtZT1cIm0tMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29uZmlybSB7Y29uZmlybURpYWxvZ1R5cGUgPT09ICdkZWxldGUnID8gJ0RlbGV0ZScgOiAnQ2xlYXIgQWxsJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9oNT5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbmZpcm1hdGlvbi1kaWFsb2ctYm9keSBtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGlkPVwiY29uZmlybWF0aW9uRGlhbG9nTWVzc2FnZVwiIGNsYXNzTmFtZT1cIm0tMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbmZpcm1EaWFsb2dNZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb25maXJtYXRpb24tZGlhbG9nLWZvb3RlciBkLWZsZXgganVzdGlmeS1jb250ZW50LWVuZFwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9XCJDb25maXJtYXRpb24gb3B0aW9uc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXItMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsb3NlQ29uZmlybURpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQ2FuY2VsIGFuZCBjbG9zZSB0aGUgZGlhbG9nXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDYW5jZWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYW5jZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGFuZ2VyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZXhlY3V0ZUNvbmZpcm1BY3Rpb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkNvbmZpcm0gYW5kIHByb2NlZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNvbmZpcm0gYW5kIHByb2NlZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPS1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBJbXBvcnQgY29uZmlybWF0aW9uIGRpYWxvZ1xyXG4gICAgICAgIGNvbnN0IGltcG9ydERpYWxvZyA9IGltcG9ydERpYWxvZ09wZW4gJiYgKFxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjb25maXJtYXRpb24tZGlhbG9nLW92ZXJsYXlcIlxyXG4gICAgICAgICAgICAgICAgcm9sZT1cImRpYWxvZ1wiXHJcbiAgICAgICAgICAgICAgICBhcmlhLW1vZGFsPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJpbXBvcnREaWFsb2dUaXRsZVwiXHJcbiAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiaW1wb3J0RGlhbG9nRGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogMCxcclxuICAgICAgICAgICAgICAgICAgICBib3R0b206IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjUpJyxcclxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDEwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNvbmZpcm1hdGlvbi1kaWFsb2dcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzIwcHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzgwJScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiAnMzAwcHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6ICcwIDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjIpJ1xyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb25maXJtYXRpb24tZGlhbG9nLWhlYWRlciBtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBpZD1cImltcG9ydERpYWxvZ1RpdGxlXCIgdGFiSW5kZXg9ey0xfSBjbGFzc05hbWU9XCJtLTBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEltcG9ydCBEcmF3aW5nc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2g1PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJpbXBvcnREaWFsb2dEZXNjcmlwdGlvblwiIGNsYXNzTmFtZT1cImNvbmZpcm1hdGlvbi1kaWFsb2ctYm9keSBtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm0tMFwiPntpbXBvcnRGaWxlICYmIGBGaWxlOiAke2ltcG9ydEZpbGUubmFtZX1gfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiBtYi0wXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXb3VsZCB5b3UgbGlrZSB0byByZXBsYWNlIGV4aXN0aW5nIGRyYXdpbmdzIG9yIGFkZCB0byB0aGVtP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb25maXJtYXRpb24tZGlhbG9nLWZvb3RlciBkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW5cIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiSW1wb3J0IGFjdGlvbiBvcHRpb25zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsb3NlSW1wb3J0RGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJDYW5jZWwgaW1wb3J0IGFuZCBjbG9zZSBkaWFsb2dcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNhbmNlbCBpbXBvcnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYW5jZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtci0yXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUltcG9ydEFkZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkFkZCBpbXBvcnRlZCBkcmF3aW5ncyB0byBleGlzdGluZyBvbmVzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQWRkIGRyYXdpbmdzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImRhbmdlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVJbXBvcnRSZXBsYWNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiUmVwbGFjZSBleGlzdGluZyBkcmF3aW5ncyB3aXRoIGltcG9ydGVkIGZpbGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJSZXBsYWNlIGRyYXdpbmdzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXBsYWNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gQ29udGVudCBmb3Igd2hlbiBsb2NhbCBzdG9yYWdlIHBlcm1pc3Npb24gaXMgZGVuaWVkXHJcbiAgICAgICAgY29uc3QgcGVybWlzc2lvbkRlbmllZENvbnRlbnQgPSAoXHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm15LWRyYXdpbmdzLXBhbmVsIHAtM1wiXHJcbiAgICAgICAgICAgICAgICByb2xlPVwiZGlhbG9nXCJcclxuICAgICAgICAgICAgICAgIGFyaWEtbW9kYWw9XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInBlcm1pc3Npb25EZW5pZWRUaXRsZVwiXHJcbiAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwicGVybWlzc2lvbkRlbmllZERlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJyNmZmYnLCBoZWlnaHQ6ICcxMDAlJywgYm94U2hhZG93OiAnbm9uZScgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGg1IGlkPVwicGVybWlzc2lvbkRlbmllZFRpdGxlXCIgdGFiSW5kZXg9ey0xfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgTXkgRHJhd2luZ3MgRmVhdHVyZSBVbmF2YWlsYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgIDwvaDU+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cInBlcm1pc3Npb25EZW5pZWREZXNjcmlwdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cD5UaGlzIGZlYXR1cmUgcmVxdWlyZXMgbG9jYWwgc3RvcmFnZSBwZXJtaXNzaW9uIHRvIHNhdmUgeW91ciBkcmF3aW5ncy48L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ29uc2VudFllc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiRW5hYmxlIGxvY2FsIHN0b3JhZ2UgdG8gdXNlIHRoZSBNeSBEcmF3aW5ncyBmZWF0dXJlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJBbGxvdyBsb2NhbCBzdG9yYWdlIHBlcm1pc3Npb24gdG8gZW5hYmxlIE15IERyYXdpbmdzIGZlYXR1cmVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGxvdyBMb2NhbCBTdG9yYWdlIFBlcm1pc3Npb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICB7c2hvd0FsZXJ0ICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiIGFyaWEtbGl2ZT1cImFzc2VydGl2ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QWxlcnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGVkcmF3LWFsZXJ0IGVkcmF3LWFsZXJ0LSR7YWxlcnRUeXBlfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoSWNvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT17YWxlcnRUeXBlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dD17YWxlcnRNZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gT25seSBzaG93IGNvbnNlbnQgcHJvbXB0IGlmIGNvbnNlbnQgc3RhdHVzIGlzIHVuZGVjaWRlZCAobnVsbClcclxuICAgICAgICBjb25zdCBzaG93Q29uc2VudFByb21wdCA9IGNvbnNlbnRHcmFudGVkID09PSBudWxsO1xyXG5cclxuICAgICAgICAvLyBDb25zZW50IHByb21wdCBjb250ZW50XHJcbiAgICAgICAgY29uc3QgY29uc2VudFByb21wdENvbnRlbnQgPSAoXHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNvbnNlbnQtYmFubmVyIGJvcmRlciBwLTMgbWItMiB0ZXh0LWNlbnRlclwiXHJcbiAgICAgICAgICAgICAgICByb2xlPVwiZGlhbG9nXCJcclxuICAgICAgICAgICAgICAgIGFyaWEtbW9kYWw9XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cImNvbnNlbnRQcm9tcHRUaXRsZVwiXHJcbiAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiY29uc2VudFByb21wdERlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJyNmZmYnLCBoZWlnaHQ6ICcxMDAlJywgYm94U2hhZG93OiAnbm9uZScgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGg1IGlkPVwiY29uc2VudFByb21wdFRpdGxlXCIgY2xhc3NOYW1lPVwibWItM1wiIHRhYkluZGV4PXstMX0+XHJcbiAgICAgICAgICAgICAgICAgICAgU3RvcmFnZSBQZXJtaXNzaW9uIFJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgICA8L2g1PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cImNvbnNlbnRQcm9tcHREZXNjcmlwdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgVG8gdXNlIHRoZSBNeSBEcmF3aW5ncyBwYW5lbCwgeW91IG11c3QgYWxsb3cgc2F2aW5nIGRyYXdpbmdzIGluIHlvdXIgYnJvd3NlcidzIGxvY2FsIHN0b3JhZ2UuXHJcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBhbGxvd3MgeW91ciBkcmF3aW5ncyB0byBiZSByZW1lbWJlcmVkIHdoZW4geW91IHJldHVybiB0byB0aGlzIHBhZ2UgbGF0ZXIuXHJcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIG10LTNcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiQ29uc2VudCBjaG9pY2VzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1yLTNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUNvbnNlbnRZZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQWxsb3cgc2F2aW5nIGRyYXdpbmdzIHRvIHlvdXIgYnJvd3NlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJBbGxvdyBzYXZpbmcgZHJhd2luZ3MgdG8geW91ciBicm93c2VyXCJcclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFsbG93IExvY2FsIFN0b3JhZ2VcclxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJkYW5nZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUNvbnNlbnROb31cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEbyBub3QgYWxsb3cgc2F2aW5nIGRyYXdpbmdzIHRvIHlvdXIgYnJvd3NlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJEbyBub3QgYWxsb3cgc2F2aW5nIGRyYXdpbmdzIHRvIHlvdXIgYnJvd3NlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEb24ndCBBbGxvd1xyXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvYWRQcm9tcHRDb250ZW50ID0gKFxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTQgdGV4dC1jZW50ZXJcIlxyXG4gICAgICAgICAgICAgICAgcm9sZT1cImRpYWxvZ1wiXHJcbiAgICAgICAgICAgICAgICBhcmlhLW1vZGFsPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJsb2FkUHJvbXB0VGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImxvYWRQcm9tcHREZXNjcmlwdGlvblwiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJywgaGVpZ2h0OiAnMTAwJScgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGg1IGlkPVwibG9hZFByb21wdFRpdGxlXCIgY2xhc3NOYW1lPVwibWItM1wiIHRhYkluZGV4PXstMX0+XHJcbiAgICAgICAgICAgICAgICAgICAgRXhpc3RpbmcgRHJhd2luZ3MgRm91bmRcclxuICAgICAgICAgICAgICAgIDwvaDU+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwibG9hZFByb21wdERlc2NyaXB0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHA+WW91IGhhdmUgZHJhd2luZ3Mgc2F2ZWQgZnJvbSBhIHByZXZpb3VzIHNlc3Npb24uPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwPldvdWxkIHlvdSBsaWtlIHRvIGxvYWQgeW91ciBleGlzdGluZyBkcmF3aW5ncyBvciBkZWxldGUgYWxsIGFuZCBzdGFydCBuZXc/PC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIG10LTQgZ2FwLTNcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPVwiTG9hZCBvcHRpb25zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlTG9hZEV4aXN0aW5nRHJhd2luZ3N9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1yLTNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkxvYWQgeW91ciBwcmV2aW91c2x5IHNhdmVkIGRyYXdpbmdzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkxvYWQgcHJldmlvdXNseSBzYXZlZCBkcmF3aW5nc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBMb2FkIEV4aXN0aW5nIERyYXdpbmdzXHJcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGFuZ2VyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVTdGFydEZyZXNofVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkRlbGV0ZSBhbGwgc2F2ZWQgZHJhd2luZ3MgYW5kIHN0YXJ0IGZyZXNoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkRlbGV0ZSBhbGwgc2F2ZWQgZHJhd2luZ3MgYW5kIHN0YXJ0IGZyZXNoXCJcclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlbGV0ZSBBbGwgYW5kIFN0YXJ0IE5ld1xyXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1haW5QYW5lbENvbnRlbnQgPSAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXktZHJhd2luZ3MtcGFuZWwgcC0yXCIgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiAnI2ZmZicgfX0+XHJcbiAgICAgICAgICAgICAgICB7LyogVG9wIGNvbnRyb2xzIC0gY29tcGFjdCByZXNwb25zaXZlIGxheW91dCB3aXRoIGFjY2Vzc2libGUgdG9vbHRpcHMgKi99XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvcC1jb250cm9sc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIHsvKiBGaXJzdCBsaW5lOiBTb3J0LCBTZWxlY3QgQWxsLCBhbmQgRGVsZXRlIEFsbCAqL31cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXItZmlyc3QtbGluZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNvcnQtd3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic29ydC1sYWJlbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJzb3J0LWRyYXdpbmdzLWxhYmVsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9yPVwic29ydC1zZWxlY3RcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiU29ydCBkcmF3aW5ncyBieSBkaWZmZXJlbnQgY3JpdGVyaWFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNvcnQgQnk6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwic29ydC1zZWxlY3RcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzb3J0T3B0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVNvcnRPcHRpb25DaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic29ydC1zZWxlY3RcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInNvcnQtZHJhd2luZ3MtbGFiZWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiU29ydCBkcmF3aW5ncyBieSBuYW1lLCB0eXBlLCBvciBjcmVhdGlvbiBkYXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibmFtZVwiPk5hbWUgKEEg4oaSIFopPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInR5cGVcIj5UeXBlIChBIOKGkiBaKTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJjcmVhdGVkXCI+Q3JlYXRlZCAoTmV3ZXN0IEZpcnN0KTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIE5FVzogU2VsZWN0IEFsbCBhcyBCdXR0b24gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPXtzZWxlY3RlZEdyYXBoaWNzLnNpemUgPT09IGRyYXdpbmdzLmxlbmd0aCAmJiBkcmF3aW5ncy5sZW5ndGggPiAwID8gXCJwcmltYXJ5XCIgOiBcImRlZmF1bHRcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlVG9nZ2xlU2VsZWN0QWxsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2RyYXdpbmdzLmxlbmd0aCA9PT0gMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlbGVjdC1hbGwtYnRuXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e3NlbGVjdGVkR3JhcGhpY3Muc2l6ZSA9PT0gZHJhd2luZ3MubGVuZ3RoICYmIGRyYXdpbmdzLmxlbmd0aCA+IDAgPyBcIkRlc2VsZWN0IGFsbCBkcmF3aW5nc1wiIDogXCJTZWxlY3QgYWxsIGRyYXdpbmdzXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17c2VsZWN0ZWRHcmFwaGljcy5zaXplID09PSBkcmF3aW5ncy5sZW5ndGggJiYgZHJhd2luZ3MubGVuZ3RoID4gMCA/IFwiRGVzZWxlY3QgYWxsIGRyYXdpbmdzXCIgOiBcIlNlbGVjdCBhbGwgZHJhd2luZ3NcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCB3aWR0aDogJzEwMCUnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT17YGZhcyAke3NlbGVjdGVkR3JhcGhpY3Muc2l6ZSA9PT0gZHJhd2luZ3MubGVuZ3RoICYmIGRyYXdpbmdzLmxlbmd0aCA+IDAgPyAnZmEtY2hlY2stc3F1YXJlJyA6ICdmYS1zcXVhcmUnfWB9IGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAnNHB4JyB9fT48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkR3JhcGhpY3Muc2l6ZSA9PT0gZHJhd2luZ3MubGVuZ3RoICYmIGRyYXdpbmdzLmxlbmd0aCA+IDAgPyAnRGVzZWxlY3QgQWxsJyA6ICdTZWxlY3QgQWxsJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogRGVsZXRlIEFsbCBCdXR0b24gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGFuZ2VyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xlYXJBbGxDbGlja31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkcmF3aW5ncy5sZW5ndGggPT09IDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkZWxldGUtYWxsLWJ0blwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiRGVsZXRlIGFsbCBkcmF3aW5nc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkRlbGV0ZSBhbGwgZHJhd2luZ3NcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsIHdpZHRoOiAnMTAwJScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLXRyYXNoLWFsdFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAnNHB4JyB9fT48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVsZXRlIEFsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgey8qIFNlY29uZCBsaW5lOiBBY3Rpb24gYnV0dG9ucyAqL31cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXItc2Vjb25kLWxpbmVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb24tYnV0dG9ucy13cmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1wb3J0LWZpbGUnKS5jbGljaygpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFjdGlvbi1idG5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJJbXBvcnQgZHJhd2luZ3MgZnJvbSBmaWxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkltcG9ydCBkcmF3aW5ncyBmcm9tIGZpbGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1maWxlLWltcG9ydFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4gSW1wb3J0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUV4cG9ydH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZHJhd2luZ3MubGVuZ3RoID09PSAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFjdGlvbi1idG5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJFeHBvcnQgYWxsIGRyYXdpbmdzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkV4cG9ydCBhbGwgZHJhd2luZ3NcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1maWxlLWV4cG9ydFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4gRXhwb3J0IEFsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVFeHBvcnRTZWxlY3RlZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2VsZWN0ZWRHcmFwaGljcy5zaXplID09PSAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFjdGlvbi1idG5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJFeHBvcnQgc2VsZWN0ZWQgZHJhd2luZ3NcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiRXhwb3J0IHNlbGVjdGVkIGRyYXdpbmdzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtZmlsZS1kb3dubG9hZFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4gRXhwb3J0IFNlbGVjdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGFuZ2VyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZURlbGV0ZVNlbGVjdGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzZWxlY3RlZEdyYXBoaWNzLnNpemUgPT09IDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWN0aW9uLWJ0blwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkRlbGV0ZSBzZWxlY3RlZCBkcmF3aW5nc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEZWxldGUgc2VsZWN0ZWQgZHJhd2luZ3NcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS10cmFzaC1hbHRcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+IERlbGV0ZSBTZWxlY3RlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgey8qIEZJWEVEIEhFSUdIVCBzY3JvbGxhYmxlIGxpc3QgLSBhcyBzaW1wbGUgYXMgcG9zc2libGUgKi99XHJcbiAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBkcmF3aW5nLWxpc3RcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzUwMHB4JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnc2Nyb2xsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZidcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIHJvbGU9XCJsaXN0XCJcclxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiRHJhd2luZ3MgbGlzdFwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAge2RyYXdpbmdzLmxlbmd0aCA9PT0gMCA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBwLTMgYm9yZGVyIHJvdW5kZWRcIiBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTBcIj5ObyBkcmF3aW5ncyBhdmFpbGFibGUuIENyZWF0ZSBhIGRyYXdpbmcgaW4gdGhlIEFkZCBEcmF3aW5nIHRhYi48L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdpbmdzLm1hcCgoZ3JhcGhpYywgaW5kZXgpID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17YGRyYXdpbmctaXRlbS0ke2luZGV4fWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtgZHJhd2luZy0ke2dyYXBoaWMuYXR0cmlidXRlcz8udW5pcXVlSWQgfHwgaW5kZXh9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BkcmF3aW5nLWl0ZW0gYm9yZGVyIHAtMiBtYi0yIHJvdW5kZWQgJHtzZWxlY3RlZEdyYXBoaWNJbmRleCA9PT0gaW5kZXggPyAnc2VsZWN0ZWQtZHJhd2luZycgOiAnJ31gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuaGFuZGxlTGlzdEl0ZW1DbGljayhncmFwaGljLCBpbmRleCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZT1cImxpc3RpdGVtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLXNlbGVjdGVkPXtzZWxlY3RlZEdyYXBoaWNJbmRleCA9PT0gaW5kZXh9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiSW5kZXg9ezB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVMaXN0SXRlbUNsaWNrKGdyYXBoaWMsIGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWZsZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIENvbnRlbnQgYXJlYSAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxLCBtaW5XaWR0aDogMCB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXgnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDaGVja2JveCBmb3IgbXVsdGktc2VsZWN0ICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJkLWZsZXggYWxpZ24taXRlbXMtc3RhcnQgbXItMyBtdC0xIGN1cnNvci1wb2ludGVyXCIgb25DbGljaz17KGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNoZWNrLWlucHV0IG1yLTIgbXQtMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtzZWxlY3RlZEdyYXBoaWNzLmhhcyhpbmRleCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gdGhpcy5oYW5kbGVUb2dnbGVTZWxlY3QoaW5kZXgsIGUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17YFNlbGVjdCBkcmF3aW5nOiAke2dyYXBoaWMuYXR0cmlidXRlcz8ubmFtZSB8fCBgRHJhd2luZyAke2luZGV4ICsgMX1gfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17YFNlbGVjdCAke2dyYXBoaWMuYXR0cmlidXRlcz8ubmFtZSB8fCBgRHJhd2luZyAke2luZGV4ICsgMX1gfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17YGNoZWNrYm94LWRyYXdpbmctJHtpbmRleH1gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZWxlY3Qge2dyYXBoaWMuYXR0cmlidXRlcz8ubmFtZSB8fCBgRHJhd2luZyAke2luZGV4ICsgMX1gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogTmFtZSBvciBpbmxpbmUgcmVuYW1lIGlucHV0ICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlZGl0aW5nR3JhcGhpY0luZGV4ID09PSBpbmRleCA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj17YGVkaXQtbmFtZS1pbnB1dC0ke2luZGV4fWB9IGNsYXNzTmFtZT1cInNyLW9ubHlcIj5FZGl0IGRyYXdpbmcgbmFtZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtgZWRpdC1uYW1lLWlucHV0LSR7aW5kZXh9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgbWItMiBkcmF3aW5nLW5hbWUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Z3JhcGhpYy5hdHRyaWJ1dGVzPy5uYW1lIHx8ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXNlcnZlIHRoZSB2YWx1ZSBleGFjdGx5IGFzIHR5cGVkLCBpbmNsdWRpbmcgc3BhY2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dFZhbHVlID0gZS50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU5hbWVDaGFuZ2UoaW5kZXgsIGlucHV0VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJsdXI9e3RoaXMuc2F2ZU5hbWVFZGl0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbktleURvd249eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGV2ZW50IGZyb20gYnViYmxpbmcgdXAgdG8gcGFyZW50IGVsZW1lbnRzIHRoYXQgbWlnaHQgaW50ZXJmZXJlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZU5hbWVFZGl0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9Gb2N1c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBhbnkgYnJvd3NlciBmZWF0dXJlcyB0aGF0IG1pZ2h0IGludGVyZmVyZSB3aXRoIHNwYWNlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVsbENoZWNrPVwiZmFsc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvQ29tcGxldGU9XCJvZmZcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvQ29ycmVjdD1cIm9mZlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJFZGl0IGRyYXdpbmcgbmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiRWRpdCBkcmF3aW5nIG5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgaW5saW5lIHN0eWxlcyB0byBlbnN1cmUgc3BhY2VzIGFyZSBwcmVzZXJ2ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdwcmUtd3JhcCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JkQnJlYWs6ICdub3JtYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29yZFNwYWNpbmc6ICdub3JtYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFRyYW5zZm9ybTogJ25vbmUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQWRkIHNhdmUvY2FuY2VsIGJ1dHRvbnMgZm9yIGJldHRlciBVWCAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBtdC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtci0yXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmVOYW1lRWRpdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiU2F2ZSBuYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJTYXZlIGRyYXdpbmcgbmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxOYW1lRWRpdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQ2FuY2VsIGVkaXRpbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNhbmNlbCBuYW1lIGVkaXRpbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYW5jZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXdlaWdodC1ib2xkIHRleHQtdHJ1bmNhdGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2dyYXBoaWMuYXR0cmlidXRlcz8ubmFtZSB8fCBgRHJhd2luZyAke2luZGV4ICsgMX1gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1tdXRlZCBzbWFsbCBtYi0yIHRleHQtdHJ1bmNhdGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZToge3RoaXMuZ2V0RHJhd2luZ1R5cGVMYWJlbChncmFwaGljKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2dyYXBoaWMuYXR0cmlidXRlcz8uY3JlYXRlZERhdGUgJiYgYCDigKIgQ3JlYXRlZDogJHt0aGlzLmZvcm1hdENyZWF0ZWREYXRlKGdyYXBoaWMuYXR0cmlidXRlcy5jcmVhdGVkRGF0ZSl9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQWN0aW9uIEJ1dHRvbnMgKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbi1jb250YWluZXIgZHJhd1Rvb2xiYXJEaXZcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDb3B5RHJhd2luZyhpbmRleCwgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1saWdodFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2BDb3B5ICR7Z3JhcGhpYy5hdHRyaWJ1dGVzPy5uYW1lIHx8IGBEcmF3aW5nICR7aW5kZXggKyAxfWB9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJDcmVhdGUgYSBjb3B5IG9mIHRoaXMgZHJhd2luZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtY29weVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4gQ29weVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydEVkaXRpbmcoaW5kZXgsIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tbGlnaHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgUmVuYW1lICR7Z3JhcGhpYy5hdHRyaWJ1dGVzPy5uYW1lIHx8IGBEcmF3aW5nICR7aW5kZXggKyAxfWB9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJSZW5hbWUgdGhpcyBkcmF3aW5nXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1wZW5jaWwtYWx0XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPiBSZW5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRXhwb3J0U2luZ2xlKGluZGV4LCBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWxpZ2h0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17YERvd25sb2FkICR7Z3JhcGhpYy5hdHRyaWJ1dGVzPy5uYW1lIHx8IGBEcmF3aW5nICR7aW5kZXggKyAxfWB9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEb3dubG9hZCB0aGlzIGRyYXdpbmcgYXMgYSBmaWxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1kb3dubG9hZFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4gRG93bmxvYWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGFuZ2VyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURlbGV0ZUdyYXBoaWMoaW5kZXgsIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgRGVsZXRlICR7Z3JhcGhpYy5hdHRyaWJ1dGVzPy5uYW1lIHx8IGBEcmF3aW5nICR7aW5kZXggKyAxfWB9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEZWxldGUgdGhpcyBkcmF3aW5nXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS10cmFzaC1hbHRcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+IERlbGV0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogU3R5bGUgRWRpdG9yIChTeW1ib2xTZWxlY3RvciBvciBUZXh0U3R5bGVFZGl0b3IpICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkR3JhcGhpY0luZGV4ID09PSBpbmRleCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0zIGJvcmRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlPVwicmVnaW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlN0eWxlIGVkaXRvclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5pc1N1cHBvcnRlZFN5bWJvbChncmFwaGljLnN5bWJvbCwgZ3JhcGhpYy5nZW9tZXRyeT8udHlwZSkgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZ3JhcGhpYy5zeW1ib2wgYXMgYW55KT8udHlwZSA9PT0gJ3RleHQnID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtncmFwaGljICYmIChncmFwaGljLnN5bWJvbCBhcyBhbnkpPy50eXBlID09PSAndGV4dCcgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogLy9jb25zb2xlLmxvZyhcIvCfp6kgT3BlbmluZyBUZXh0U3R5bGVFZGl0b3Igd2l0aCBncmFwaGljOlwiLCBncmFwaGljKSAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogLy9jb25zb2xlLmxvZyhcIvCflKQgZ3JhcGhpYy5zeW1ib2wudGV4dDpcIiwgKGdyYXBoaWMuc3ltYm9sIGFzIFRleHRTeW1ib2wpPy50ZXh0KSAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogLy9jb25zb2xlLmxvZyhcIvCfk6YgSXMgVGV4dFN5bWJvbDpcIiwgZ3JhcGhpYy5zeW1ib2wgaW5zdGFuY2VvZiBUZXh0U3ltYm9sKSAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dFN0eWxlRWRpdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGV4dFN5bWJvbD17dGhpcy5zdGF0ZS5jdXJyZW50VGV4dFN5bWJvbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyYXBoaWM9e2dyYXBoaWN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVTeW1ib2w9eyhzeW0pID0+IHRoaXMudXBkYXRlU3ltYm9sV2l0aG91dENsb3Npbmcoc3ltLCBpbmRleCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93PXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEdyYXBoaWNJbmRleDogbnVsbCwgc2VsZWN0ZWRHcmFwaGljczogbmV3IFNldCgpIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN5bWJvbFNlbGVjdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbD17Z3JhcGhpYy5zeW1ib2wgYXMgYW55fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqaW11U3ltYm9sVHlwZT17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmFwaGljLmdlb21ldHJ5Py50eXBlID09PSAncG9pbnQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBKaW11U3ltYm9sVHlwZS5Qb2ludFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZ3JhcGhpYy5nZW9tZXRyeT8udHlwZSA9PT0gJ3BvbHlsaW5lJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IEppbXVTeW1ib2xUeXBlLlBvbHlsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogSmltdVN5bWJvbFR5cGUuUG9seWdvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUG9pbnRTeW1ib2xDaGFuZ2VkPXsoc3ltKSA9PiB0aGlzLnVwZGF0ZVN5bWJvbFdpdGhvdXRDbG9zaW5nKHN5bSwgaW5kZXgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblBvbHlsaW5lU3ltYm9sQ2hhbmdlZD17KHN5bSkgPT4gdGhpcy51cGRhdGVTeW1ib2xXaXRob3V0Q2xvc2luZyhzeW0sIGluZGV4KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Qb2x5Z29uU3ltYm9sQ2hhbmdlZD17KHN5bSkgPT4gdGhpcy51cGRhdGVTeW1ib2xXaXRob3V0Q2xvc2luZyhzeW0sIGluZGV4KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCI+VGhpcyBzeW1ib2wgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGZvciBzdHlsZSBlZGl0aW5nLjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICB7LyogSGlkZGVuIGZpbGUgaW5wdXQgZm9yIGltcG9ydCAqL31cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcclxuICAgICAgICAgICAgICAgICAgICBpZD1cImltcG9ydC1maWxlXCJcclxuICAgICAgICAgICAgICAgICAgICBhY2NlcHQ9XCIuanNvbiwuZ2VvanNvbixhcHBsaWNhdGlvbi9qc29uLGFwcGxpY2F0aW9uL2dlbytqc29uXCJcclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVJbXBvcnR9XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogJ25vbmUnIH19XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJteS1kcmF3aW5ncy1wYW5lbCBwLTJcIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxyXG4gICAgICAgICAgICAgICAgICAgIC4uLndoaXRlQmFja2dyb3VuZFN0eWxlXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7LyogU2NyZWVuIHJlYWRlciBhbGVydCBhcmVhICovfVxyXG4gICAgICAgICAgICAgICAge3Nob3dBbGVydCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIiBhcmlhLWxpdmU9XCJhc3NlcnRpdmVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEFsZXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BlZHJhdy1hbGVydCBlZHJhdy1hbGVydC0ke2FsZXJ0VHlwZX1gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aEljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9e2FsZXJ0VHlwZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9e2FsZXJ0TWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICAgICAgey8qIEFjY2Vzc2libGUgZGlhbG9ncyAqL31cclxuICAgICAgICAgICAgICAgIHtjb25maXJtYXRpb25EaWFsb2cgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm9sZT1cImRpYWxvZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbW9kYWw9XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwiY29uZmlybWF0aW9uRGlhbG9nVGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiY29uZmlybWF0aW9uRGlhbG9nRGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2NvbmZpcm1hdGlvbkRpYWxvZ31cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICAgICAge2ltcG9ydERpYWxvZyAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlPVwiZGlhbG9nXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1tb2RhbD1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJpbXBvcnREaWFsb2dUaXRsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJpbXBvcnREaWFsb2dEZXNjcmlwdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7aW1wb3J0RGlhbG9nfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgICAgICB7LyogRklYRUQ6IENvbmRpdGlvbmFsIHJlbmRlcmluZyB3aXRoIHByb3BlciBvcmRlciBhbmQgZm9jdXMgbWFuYWdlbWVudCAqL31cclxuICAgICAgICAgICAgICAgIHsvKiAxLiBGaXJzdCBjaGVjayBpZiBjb25zZW50IGlzIG5lZWRlZCAqL31cclxuICAgICAgICAgICAgICAgIHtzaG93Q29uc2VudFByb21wdCA/IChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pntjb25zZW50UHJvbXB0Q29udGVudH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICkgOiBjb25zZW50R3JhbnRlZCA9PT0gZmFsc2UgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj57cGVybWlzc2lvbkRlbmllZENvbnRlbnR9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICApIDogdGhpcy5zdGF0ZS5zaG93TG9hZFByb21wdCA/IChcclxuICAgICAgICAgICAgICAgICAgICAvKiAzLiBUaGVuIGxvYWQgcHJvbXB0IC0gVEhJUyBJUyBOT1cgSU4gVEhFIENPUlJFQ1QgT1JERVIgKi9cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pntsb2FkUHJvbXB0Q29udGVudH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICkgOiB0aGlzLnN0YXRlLnNob3dTdG9yYWdlRGlzY2xhaW1lciA/IChcclxuICAgICAgICAgICAgICAgICAgICAvKiAyLiBUaGVuIHN0b3JhZ2UgZGlzY2xhaW1lciAqL1xyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC00IHRleHQtY2VudGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiAnI2ZmZicgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcm9sZT1cInJlZ2lvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInN0b3JhZ2VEaXNjbGFpbWVyVGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGlkPVwic3RvcmFnZURpc2NsYWltZXJUaXRsZVwiIGNsYXNzTmFtZT1cIm1iLTNcIiB0YWJJbmRleD17LTF9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSW1wb3J0YW50IE5vdGljZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2g1PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBpZD1cInN0b3JhZ2VEaXNjbGFpbWVyRGVzY3JpcHRpb25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFlvdXIgZHJhd2luZ3MgYXJlIHNhdmVkIGluIHlvdXIgd2ViIGJyb3dzZXIgdXNpbmcgbG9jYWwgc3RvcmFnZS4gVGhpcyBtZWFucyB0aGV5J3JlIG9ubHkgYXZhaWxhYmxlIG9uIHRoaXMgZGV2aWNlIGFuZCBpbiB0aGlzIGJyb3dzZXIuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiB5b3UgY2xlYXIgeW91ciBicm93c2VyIGRhdGEsIHN3aXRjaCB0byBhIGRpZmZlcmVudCBicm93c2VyIG9yIGNvbXB1dGVyLCBvciBpZiB0aGUgYXBwbGljYXRpb24gcmVjZWl2ZXMgYW4gdXBkYXRlLCB5b3VyIGRyYXdpbmdzIG1heSBiZSBsb3N0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVG8ga2VlcCB5b3VyIHdvcmsgc2FmZSwgcGxlYXNlIHVzZSB0aGUgPHN0cm9uZz5JbXBvcnQ8L3N0cm9uZz4gYW5kIDxzdHJvbmc+RXhwb3J0PC9zdHJvbmc+IGJ1dHRvbnMgdG8gYmFjayB1cCBhbmQgcmVzdG9yZSB5b3VyIGRyYXdpbmdzLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQWNrbm93bGVkZ2UgdGhpcyBub3RpY2UgYW5kIGNvbnRpbnVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDb250aW51ZSB0byBkcmF3aW5nIHBhbmVsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dTdG9yYWdlRGlzY2xhaW1lcjogZmFsc2UgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJhd2luZ1BhbmVsSGVhZGVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbD8uZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTsgLy8gRW5zdXJlIERPTSBpcyByZWFkeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbnRpbnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAvKiA0LiBGaW5hbGx5IHRoZSBtYWluIHBhbmVsICovXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiByb2xlPVwicmVnaW9uXCIgYXJpYS1sYWJlbGxlZGJ5PVwiZHJhd2luZ1BhbmVsSGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD1cImRyYXdpbmdQYW5lbEhlYWRlclwiIHRhYkluZGV4PXstMX0gY2xhc3NOYW1lPVwic3Itb25seVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJhd2luZyBQYW5lbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2gyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7bWFpblBhbmVsQ29udGVudH1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICAgICAgey8qIEFkZCBhIHN0eWxlIHRhZyB3aXRoIG91ciBDU1Mgb3ZlcnJpZGVzICovfVxyXG4gICAgICAgICAgICAgICAgPHN0eWxlIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogY3VzdG9tQ3NzIH19IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE15RHJhd2luZ3NQYW5lbDsiLCJpbXBvcnQgeyBSZWFjdCwgSW1tdXRhYmxlT2JqZWN0IH0gZnJvbSAnamltdS1jb3JlJztcclxuaW1wb3J0IHsgQ29sbGFwc2FibGVDaGVja2JveCwgQWxlcnQgfSBmcm9tICdqaW11LXVpJztcclxuaW1wb3J0IHsgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcyc7XHJcbmltcG9ydCBGZWF0dXJlU25hcHBpbmdMYXllclNvdXJjZSBmcm9tICdlc3JpL3ZpZXdzL2ludGVyYWN0aXZlL3NuYXBwaW5nL0ZlYXR1cmVTbmFwcGluZ0xheWVyU291cmNlJztcclxuaW1wb3J0IEZlYXR1cmVMYXllciBmcm9tICdlc3JpL2xheWVycy9GZWF0dXJlTGF5ZXInO1xyXG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICdlc3JpL2NvcmUvQ29sbGVjdGlvbic7XHJcblxyXG5pbnRlcmZhY2UgU25hcHBpbmdDb250cm9sc1Byb3BzIHtcclxuICAgIGppbXVNYXBWaWV3OiBKaW11TWFwVmlldztcclxuICAgIHNrZXRjaFZpZXdNb2RlbDogX19lc3JpLlNrZXRjaFZpZXdNb2RlbDtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFNuYXBwaW5nQ29udHJvbHMgPSAocHJvcHM6IFNuYXBwaW5nQ29udHJvbHNQcm9wcyk6IEpTWC5FbGVtZW50ID0+IHtcclxuICAgIGNvbnN0IFtlbmFibGVkLCBzZXRFbmFibGVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcclxuICAgIGNvbnN0IFtzbmFwU291cmNlc0NvdW50LCBzZXRTbmFwU291cmNlc0NvdW50XSA9IFJlYWN0LnVzZVN0YXRlKDApO1xyXG4gICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSBSZWFjdC51c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICAgIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XHJcbiAgICBjb25zdCBwcm9jZXNzZWRMYXllcktleXMgPSBSZWFjdC51c2VSZWYobmV3IFNldDxzdHJpbmc+KCkpO1xyXG5cclxuICAgIGNvbnN0IGlzU25hcHBhYmxlTGF5ZXIgPSAobGF5ZXI6IGFueSk6IGJvb2xlYW4gPT4ge1xyXG4gICAgICAgIGlmICghbGF5ZXI/LnZpc2libGUpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBjb25zdCBzbmFwcGFibGVUeXBlcyA9IFsnZmVhdHVyZScsICdncmFwaGljcycsICdjc3YnLCAnZ2VvanNvbicsICd3ZnMnXTtcclxuICAgICAgICByZXR1cm4gc25hcHBhYmxlVHlwZXMuaW5jbHVkZXMobGF5ZXI/LnR5cGU/LnRvTG93ZXJDYXNlKCkgfHwgJycpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBhZGRTbmFwcGluZ1NvdXJjZSA9IChsYXllcjogYW55LCBzbmFwU291cmNlczogX19lc3JpLkZlYXR1cmVTbmFwcGluZ0xheWVyU291cmNlW10sIGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgaWYgKHByb2Nlc3NlZExheWVyS2V5cy5jdXJyZW50LmhhcyhrZXkpKSByZXR1cm47XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gbmV3IEZlYXR1cmVTbmFwcGluZ0xheWVyU291cmNlKHsgbGF5ZXIsIGVuYWJsZWQ6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIHNuYXBTb3VyY2VzLnB1c2goc291cmNlKTtcclxuICAgICAgICAgICAgcHJvY2Vzc2VkTGF5ZXJLZXlzLmN1cnJlbnQuYWRkKGtleSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgRmFpbGVkIHRvIGFkZCBzbmFwcGluZyBzb3VyY2UgZm9yICR7a2V5fTogJHtlcnIubWVzc2FnZX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHJlY3Vyc2VMYXllcnMgPSBhc3luYyAoXHJcbiAgICAgICAgbGF5ZXI6IGFueSxcclxuICAgICAgICBzbmFwU291cmNlczogX19lc3JpLkZlYXR1cmVTbmFwcGluZ0xheWVyU291cmNlW10sXHJcbiAgICAgICAgZGVwdGggPSAwXHJcbiAgICApID0+IHtcclxuICAgICAgICBpZiAoIWxheWVyIHx8IGRlcHRoID4gMTAgfHwgIWxheWVyLnZpc2libGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3Qga2V5ID0gbGF5ZXIuaWQgfHwgbGF5ZXIudXJsIHx8IGAke2xheWVyLnRpdGxlfS0ke2RlcHRofWA7XHJcblxyXG4gICAgICAgIGlmIChpc1NuYXBwYWJsZUxheWVyKGxheWVyKSkge1xyXG4gICAgICAgICAgICBhZGRTbmFwcGluZ1NvdXJjZShsYXllciwgc25hcFNvdXJjZXMsIGtleSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobGF5ZXI/LnVybCAmJiBsYXllcj8udHlwZSA9PT0gJ3N1YmxheWVyJyAmJiBsYXllcj8ubGF5ZXJUeXBlID09PSAnRmVhdHVyZSBMYXllcicpIHtcclxuICAgICAgICAgICAgY29uc3QgdXJsS2V5ID0gYHVybDoke2xheWVyLnVybH1gO1xyXG4gICAgICAgICAgICBpZiAoIXByb2Nlc3NlZExheWVyS2V5cy5jdXJyZW50Lmhhcyh1cmxLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVMYXllciA9IG5ldyBGZWF0dXJlTGF5ZXIoeyB1cmw6IGxheWVyLnVybCwgdmlzaWJsZTogdHJ1ZSwgb3V0RmllbGRzOiBbJyonXSB9KTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBmZWF0dXJlTGF5ZXIubG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZFNuYXBwaW5nU291cmNlKGZlYXR1cmVMYXllciwgc25hcFNvdXJjZXMsIHVybEtleSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYOKdjCBDb3VsZCBub3QgbG9hZCBmZWF0dXJlIGxheWVyIGZyb20gVVJMICR7bGF5ZXIudXJsfTogJHtlcnIubWVzc2FnZX1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgc3VibGF5ZXJDb2xsZWN0aW9ucyA9IFtcclxuICAgICAgICAgICAgbGF5ZXIuc3VibGF5ZXJzLFxyXG4gICAgICAgICAgICBsYXllci5hbGxTdWJsYXllcnMsXHJcbiAgICAgICAgICAgIGxheWVyLmxheWVycyxcclxuICAgICAgICAgICAgbGF5ZXIuc3ViTGF5ZXJzLFxyXG4gICAgICAgICAgICBsYXllci5sYXllckluZm9zXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBjb2xsIG9mIHN1YmxheWVyQ29sbGVjdGlvbnMpIHtcclxuICAgICAgICAgICAgaWYgKGNvbGw/Lml0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHN1YiBvZiBjb2xsLml0ZW1zKSBhd2FpdCByZWN1cnNlTGF5ZXJzKHN1Yiwgc25hcFNvdXJjZXMsIGRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb2xsKSkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzdWIgb2YgY29sbCkgYXdhaXQgcmVjdXJzZUxheWVycyhzdWIsIHNuYXBTb3VyY2VzLCBkZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBjb25maWd1cmVTbmFwcGluZyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XHJcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAgICAgcHJvY2Vzc2VkTGF5ZXJLZXlzLmN1cnJlbnQuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgY29uc3QgdmlldyA9IHByb3BzLmppbXVNYXBWaWV3Py52aWV3O1xyXG4gICAgICAgIGNvbnN0IHNrZXRjaFZNID0gcHJvcHMuc2tldGNoVmlld01vZGVsO1xyXG5cclxuICAgICAgICBpZiAoIXZpZXcpIHtcclxuICAgICAgICAgICAgc2V0RXJyb3IoJ01hcCB2aWV3IGlzIG5vdCBhdmFpbGFibGUuJyk7XHJcbiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFza2V0Y2hWTSkge1xyXG4gICAgICAgICAgICBzZXRFcnJvcignU2tldGNoVmlld01vZGVsIGlzIG5vdCBhdmFpbGFibGUuJyk7XHJcbiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNuYXBTb3VyY2VzOiBfX2VzcmkuRmVhdHVyZVNuYXBwaW5nTGF5ZXJTb3VyY2VbXSA9IFtdO1xyXG4gICAgICAgICAgICBjb25zdCBhbGxMYXllcnMgPSB2aWV3Lm1hcC5hbGxMYXllcnMudG9BcnJheSgpO1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAgICAgICAgICAgICBhbGxMYXllcnNcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChsKSA9PiBsLmxvYWQgJiYgIWwubG9hZGVkKVxyXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGwpID0+IGwubG9hZCgpLmNhdGNoKCgpID0+IHsgfSkpXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxheWVyIG9mIGFsbExheWVycykge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgcmVjdXJzZUxheWVycyhsYXllciwgc25hcFNvdXJjZXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGZlYXR1cmVFbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc2VsZkVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogMTUsXHJcbiAgICAgICAgICAgICAgICBmZWF0dXJlU291cmNlczogbmV3IENvbGxlY3Rpb24oc25hcFNvdXJjZXMpXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBza2V0Y2hWTS5zbmFwcGluZ09wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgICAgICAodmlldyBhcyBhbnkpLnNuYXBwaW5nT3B0aW9ucyA9IG9wdGlvbnM7XHJcblxyXG4gICAgICAgICAgICBzZXRTbmFwU291cmNlc0NvdW50KHNuYXBTb3VyY2VzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIGlmIChzbmFwU291cmNlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHNldEVycm9yKCdObyB2aXNpYmxlIHNuYXBwYWJsZSBsYXllcnMgZm91bmQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnI6IGFueSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb25maWd1cmluZyBzbmFwcGluZzonLCBlcnIpO1xyXG4gICAgICAgICAgICBzZXRFcnJvcihgU25hcHBpbmcgZmFpbGVkOiAke2Vyci5tZXNzYWdlfWApO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVUb2dnbGUgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV3U3RhdGUgPSAhZW5hYmxlZDtcclxuICAgICAgICBzZXRFbmFibGVkKG5ld1N0YXRlKTtcclxuICAgIH07XHJcblxyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAoZW5hYmxlZCAmJiBwcm9wcy5qaW11TWFwVmlldz8udmlldyAmJiBwcm9wcy5za2V0Y2hWaWV3TW9kZWwpIHtcclxuICAgICAgICAgICAgY29uZmlndXJlU25hcHBpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQWRkZWQgSmVmZlxyXG4gICAgICAgIGlmICghZW5hYmxlZCAmJiBwcm9wcy5qaW11TWFwVmlldz8udmlldyAmJiBwcm9wcy5za2V0Y2hWaWV3TW9kZWwpIHtcclxuICAgICAgICAgICAgcHJvcHMuc2tldGNoVmlld01vZGVsLnNuYXBwaW5nT3B0aW9ucy5lbmFibGVkID0gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9FbmQgSmVmZiBBZGRcclxuICAgIH0sIFtlbmFibGVkLCBwcm9wcy5qaW11TWFwVmlldywgcHJvcHMuc2tldGNoVmlld01vZGVsXSk7XHJcblxyXG4gICAgLy9KZWZmIGNoYW5nZWQgZGl2IGNsYXNzTmFtZSBmcm9tIHctMTAwIHRvIGRyYXdUb29sYmFyRGl2LCBDb2xsYXBzYWJsZUNoZWNrYm94IGNsYXNzbmFtZSB0byB3LTEwMCwgbWFrZSBsYWJlbCB0ZXh0IHJlc3BvbnNpdmVcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2RyYXdUb29sYmFyRGl2Jz5cclxuICAgICAgICAgICAgPENvbGxhcHNhYmxlQ2hlY2tib3hcclxuICAgICAgICAgICAgICAgIGxhYmVsPXtlbmFibGVkID8gJ0Rpc2FibGUgU25hcHBpbmcnIDogJ0VuYWJsZSBTbmFwcGluZyd9XHJcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtlbmFibGVkfVxyXG4gICAgICAgICAgICAgICAgb25DaGVja2VkQ2hhbmdlPXtoYW5kbGVUb2dnbGV9XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlQWN0aW9uRm9yVW5jaGVja2VkXHJcbiAgICAgICAgICAgICAgICBvcGVuRm9yQ2hlY2tcclxuICAgICAgICAgICAgICAgIGNsb3NlRm9yVW5jaGVja1xyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd3LTEwMCdcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21sLTMgbXktMSc+XHJcbiAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT0ndGV4dC1kYXJrIG0tMCBwbC0zIHNtYWxsJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpPkhvbGQgPHN0cm9uZz5DdHJsPC9zdHJvbmc+IChXaW5kb3dzKSBvciA8c3Ryb25nPkNtZDwvc3Ryb25nPiAoTWFjKSB0byB0ZW1wb3JhcmlseSBkaXNhYmxlIHNuYXBwaW5nLjwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5TbmFwIHRvIGZlYXR1cmUgdmVydGljZXMsIGVkZ2VzLCBhbmQgaW50ZXJzZWN0aW9ucyB3aGlsZSBkcmF3aW5nLjwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgICAgICB7aXNMb2FkaW5nICYmIDxwIGNsYXNzTmFtZT0ndGV4dC1pbmZvIG15LTEnPkNvbmZpZ3VyaW5nIHNuYXBwaW5nLi4uPC9wPn1cclxuICAgICAgICAgICAgICAgICAgICB7ZXJyb3IgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QWxlcnQgdHlwZT0nd2FybmluZycgY2xhc3NOYW1lPSdtdC0yJyB3aXRoSWNvbiB0ZXh0PXtlcnJvcn0gY2xvc2FibGUgLz5cclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvQ29sbGFwc2FibGVDaGVja2JveD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICk7XHJcbn07XHJcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7XHJcbiAgICBCdXR0b24sXHJcbiAgICBUZXh0SW5wdXQsXHJcbiAgICBOdW1lcmljSW5wdXQsXHJcbiAgICBMYWJlbCxcclxuICAgIEFkdmFuY2VkQnV0dG9uR3JvdXAsXHJcbiAgICBTZWxlY3QsXHJcbiAgICBPcHRpb24sXHJcbiAgICBJY29uXHJcbn0gZnJvbSAnamltdS11aSc7XHJcbmltcG9ydCB7IENvbG9yUGlja2VyIH0gZnJvbSAnamltdS11aS9iYXNpYy9jb2xvci1waWNrZXInO1xyXG5pbXBvcnQgVGV4dFN5bWJvbCBmcm9tICdlc3JpL3N5bWJvbHMvVGV4dFN5bWJvbCc7XHJcbmltcG9ydCBGb250IGZyb20gJ2Vzcmkvc3ltYm9scy9Gb250JztcclxuaW1wb3J0IENvbG9yIGZyb20gJ2VzcmkvQ29sb3InO1xyXG5cclxuaW1wb3J0IGZzQm9sZEljb24gZnJvbSAnLi4vYXNzZXRzL2JvbGQuc3ZnJztcclxuaW1wb3J0IGZJdGFsaWNJY29uIGZyb20gJy4uL2Fzc2V0cy9pdGFsaWMuc3ZnJztcclxuaW1wb3J0IGZVbmRlcmxpbmVJY29uIGZyb20gJy4uL2Fzc2V0cy91bmRlcmxpbmUuc3ZnJztcclxuaW1wb3J0IGhBbGlnbkxlZnQgZnJvbSAnamltdS1pY29ucy9zdmcvb3V0bGluZWQvZWRpdG9yL3RleHQtbGVmdC5zdmcnO1xyXG5pbXBvcnQgaEFsaWduQ2VudGVyIGZyb20gJ2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci90ZXh0LWNlbnRlci5zdmcnO1xyXG5pbXBvcnQgaEFsaWduUmlnaHQgZnJvbSAnamltdS1pY29ucy9zdmcvb3V0bGluZWQvZWRpdG9yL3RleHQtcmlnaHQuc3ZnJztcclxuaW1wb3J0IHZBbGlnblRvcCBmcm9tICcuLi9hc3NldHMvdGV4dC1hbGlnbi12LXQuc3ZnJztcclxuaW1wb3J0IHZBbGlnbk1pZCBmcm9tICcuLi9hc3NldHMvdGV4dC1hbGlnbi12LW0uc3ZnJztcclxuaW1wb3J0IHZBbGlnbkJvdCBmcm9tICcuLi9hc3NldHMvdGV4dC1hbGlnbi12LWIuc3ZnJztcclxuaW1wb3J0IHZBbGlnbkJhc2UgZnJvbSAnLi4vYXNzZXRzL3RleHQtYWxpZ24tdi1iYXNlLnN2Zyc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gICAgY3VycmVudFRleHRTeW1ib2w6IFRleHRTeW1ib2w7XHJcbiAgICB1cGRhdGVTeW1ib2w6ICh1cGRhdGVkOiBUZXh0U3ltYm9sKSA9PiB2b2lkO1xyXG4gICAgc2hvdzogYm9vbGVhbjtcclxuICAgIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XHJcbiAgICBncmFwaGljPzogYW55OyAvLyBPcHRpb25hbCBncmFwaGljIHJlZmVyZW5jZSB0aGF0IGNvbnRhaW5zIHRoaXMgdGV4dFxyXG59XHJcblxyXG4vKipcclxuICogVGV4dFN0eWxlRWRpdG9yIGNvbXBvbmVudCB3aXRoIHNwZWNpYWxpemVkIGhhbmRsaW5nIHRvOlxyXG4gKiAxLiBEaXJlY3RseSB1cGRhdGUgb25seSB0aGUgcHJvcGVydGllcyB0aGF0IGNoYW5nZVxyXG4gKiAyLiBQcm9wZXJseSBpbmhlcml0IHRleHQgY29udGVudCBmcm9tIHRoZSBtYXBcclxuICogMy4gQWxsb3cgc3BhY2VzIGluIHRoZSBMYWJlbCBUZXh0IGZpZWxkXHJcbiAqIDQuIFByZXNlcnZlIGFsbCBzdHlsaW5nIHByb3BlcnRpZXMgYmV0d2VlbiBlZGl0aW5nIHNlc3Npb25zXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgVGV4dFN0eWxlRWRpdG9yOiBSZWFjdC5GQzxQcm9wcz4gPSAoeyBjdXJyZW50VGV4dFN5bWJvbCwgdXBkYXRlU3ltYm9sLCBzaG93LCBvbkNsb3NlLCBncmFwaGljIH0pID0+IHtcclxuICAgIC8vIEFkZCBhIHJlZiB0byBzdG9yZSB0aGUgb3JpZ2luYWwgZGlzcGxheSB0ZXh0IGZyb20gdGhlIG1hcFxyXG4gICAgY29uc3Qgb3JpZ2luYWxEaXNwbGF5VGV4dFJlZiA9IFJlYWN0LnVzZVJlZjxzdHJpbmc+KCcnKTtcclxuXHJcbiAgICAvLyBEaXJlY3QgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHN5bWJvbCAobm8gY2xvbmluZylcclxuICAgIGNvbnN0IFtzeW1ib2wsIHNldFN5bWJvbF0gPSBSZWFjdC51c2VTdGF0ZTxUZXh0U3ltYm9sIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gICAgLy8gVHJhY2sgaWYgYW55IGNoYW5nZXMgd2VyZSBtYWRlXHJcbiAgICBjb25zdCBbaGFzQ2hhbmdlcywgc2V0SGFzQ2hhbmdlc10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gICAgLy8gVUkgc3RhdGUgLSBzZXBhcmF0ZSBmcm9tIHRoZSBhY3R1YWwgc3ltYm9sIHByb3BlcnRpZXNcclxuICAgIGNvbnN0IFt0ZXh0LCBzZXRUZXh0XSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZz4oJycpO1xyXG4gICAgY29uc3QgW2ZvbnRTaXplLCBzZXRGb250U2l6ZV0gPSBSZWFjdC51c2VTdGF0ZTxudW1iZXI+KDEyKTtcclxuICAgIGNvbnN0IFtmb250Q29sb3IsIHNldEZvbnRDb2xvcl0gPSBSZWFjdC51c2VTdGF0ZTxzdHJpbmc+KCcjMDAwMDAwJyk7XHJcbiAgICBjb25zdCBbZm9udEZhbWlseSwgc2V0Rm9udEZhbWlseV0gPSBSZWFjdC51c2VTdGF0ZTxzdHJpbmc+KCdBcmlhbCcpO1xyXG4gICAgY29uc3QgW2ZvbnRXZWlnaHQsIHNldEZvbnRXZWlnaHRdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nPignbm9ybWFsJyk7XHJcbiAgICBjb25zdCBbZm9udFN0eWxlLCBzZXRGb250U3R5bGVdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nPignbm9ybWFsJyk7XHJcbiAgICBjb25zdCBbZm9udERlY29yYXRpb24sIHNldEZvbnREZWNvcmF0aW9uXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZz4oJ25vbmUnKTtcclxuICAgIGNvbnN0IFtmb250Um90YXRpb24sIHNldEZvbnRSb3RhdGlvbl0gPSBSZWFjdC51c2VTdGF0ZTxudW1iZXI+KDApO1xyXG4gICAgY29uc3QgW2hvcml6b250YWxBbGlnbm1lbnQsIHNldEhvcml6b250YWxBbGlnbm1lbnRdID0gUmVhY3QudXNlU3RhdGU8J2xlZnQnIHwgJ2NlbnRlcicgfCAncmlnaHQnPignY2VudGVyJyk7XHJcbiAgICBjb25zdCBbdmVydGljYWxBbGlnbm1lbnQsIHNldFZlcnRpY2FsQWxpZ25tZW50XSA9IFJlYWN0LnVzZVN0YXRlPCd0b3AnIHwgJ21pZGRsZScgfCAnYm90dG9tJyB8ICdiYXNlbGluZSc+KCdtaWRkbGUnKTtcclxuXHJcbiAgICAvLyBFbmhhbmNlZCBET00gdGV4dCBzZWFyY2ggZnVuY3Rpb24gd2l0aCBsaXN0ZW5lciBjYXBhYmlsaXR5XHJcbiAgICBjb25zdCBmaW5kVGV4dEluRE9NID0gKCk6IHN0cmluZyB8IG51bGwgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gU2V0dXAgTXV0YXRpb25PYnNlcnZlciB0byB3YXRjaCBmb3IgRE9NIGNoYW5nZXMgdGhhdCBtaWdodCBpbmRpY2F0ZSB0ZXh0IHVwZGF0ZXNcclxuICAgICAgICAgICAgLy8gVGhpcyBoZWxwcyBkZXRlY3QgY2hhbmdlcyBldmVuIGFmdGVyIGluaXRpYWwgbG9hZGluZ1xyXG4gICAgICAgICAgICBpZiAoISh3aW5kb3cgYXMgYW55KS5fdGV4dENoYW5nZU9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2NoaWxkTGlzdCcgfHwgbXV0YXRpb24udHlwZSA9PT0gJ2NoYXJhY3RlckRhdGEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBtdXRhdGlvbi50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyByZWxhdGVkIHRvIHRleHQgZ3JhcGhpY3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2VzcmktdGV4dC1zeW1ib2wnKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAndGV4dCcgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RzcGFuJykpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHRhcmdldC50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGV4dCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LnRyaW0oKSAhPT0gJycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSB0aGUgb2JzZXJ2ZWQgdGV4dCBmb3IgbGF0ZXIgdXNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh3aW5kb3cgYXMgYW55KS5fbGFzdFRleHRDaGFuZ2VWYWx1ZSA9IHRleHQudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIE9ic2VydmUgdGhlIGVudGlyZSBkb2N1bWVudCBmb3IgdGV4dCBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0cmVlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAod2luZG93IGFzIGFueSkuX3RleHRDaGFuZ2VPYnNlcnZlciA9IG9ic2VydmVyO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBGaXJzdCBjaGVjayBpZiB3ZSBoYXZlIGEgcmVjZW50bHkgb2JzZXJ2ZWQgdGV4dCBjaGFuZ2VcclxuICAgICAgICAgICAgaWYgKCh3aW5kb3cgYXMgYW55KS5fbGFzdFRleHRDaGFuZ2VWYWx1ZSAmJlxyXG4gICAgICAgICAgICAgICAgKHdpbmRvdyBhcyBhbnkpLl9sYXN0VGV4dENoYW5nZVZhbHVlLnRyaW0oKSAhPT0gJycgJiZcclxuICAgICAgICAgICAgICAgICh3aW5kb3cgYXMgYW55KS5fbGFzdFRleHRDaGFuZ2VWYWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHdpbmRvdyBhcyBhbnkpLl9sYXN0VGV4dENoYW5nZVZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBUaGVuIGNoZWNrIGZvciBhbnkgXCJzZWxlY3RlZFwiIG9yIFwiYWN0aXZlXCIgdGV4dCBvbiB0aGUgbWFwXHJcblxyXG4gICAgICAgICAgICAvLyBFU1JJIHNwZWNpZmljIHNlbGVjdGlvbnMgLSBsb29rIGZvciB2aXN1YWwgc2VsZWN0aW9uIGluZGljYXRvcnNcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uSGFuZGxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICAgICAgICAgICAgICAnLmVzcmktdmlldyAuZXNyaS1mZWF0dXJlLXRhYmxlX19zZWxlY3Rpb24taW5kaWNhdG9yLCAnICtcclxuICAgICAgICAgICAgICAgICcuZXNyaS12aWV3IC5lc3JpLWZlYXR1cmVfX3NlbGVjdGlvbi1pbmRpY2F0b3IsICcgK1xyXG4gICAgICAgICAgICAgICAgJy5lc3JpLXZpZXcgLmVzcmktc2VsZWN0aW9uLWhhbmRsZSwgJyArXHJcbiAgICAgICAgICAgICAgICAnLmVzcmktdmlldyAuZXNyaS1lZGl0b3JfX3NlbGVjdGlvbi1oYW5kbGUsICcgK1xyXG4gICAgICAgICAgICAgICAgJy5lc3JpLXZpZXcgLmVzcmktdmlldy1zdXJmYWNlLXNlbGVjdGlvbiwgJyArXHJcbiAgICAgICAgICAgICAgICAnLmVzcmktdmlldyBbY2xhc3MqPVwic2VsZWN0aW9uXCJdLCAnICtcclxuICAgICAgICAgICAgICAgICcuZXNyaS12aWV3IFtjbGFzcyo9XCJzZWxlY3RlZFwiXSdcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZWxlY3Rpb25IYW5kbGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGZpbmQgc2VsZWN0aW9uIGhhbmRsZXMsIGxvb2sgZm9yIHRoZSBjbG9zZXN0IHRleHQgZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Rpb25IYW5kbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlID0gc2VsZWN0aW9uSGFuZGxlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgaGFuZGxlIGl0c2VsZiBjb250YWlucyB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZS50ZXh0Q29udGVudCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGUudGV4dENvbnRlbnQudHJpbSgpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGUudGV4dENvbnRlbnQudHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlLnRleHRDb250ZW50LnRyaW0oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIExvb2sgZm9yIG5lYXJieSB0ZXh0IGVsZW1lbnRzIChzaWJsaW5ncyBvciBwYXJlbnRzKVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50Tm9kZTogTm9kZSB8IG51bGwgPSBoYW5kbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnROb2RlICYmIGN1cnJlbnROb2RlLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgc2libGluZ3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2libGluZ3MgPSBBcnJheS5mcm9tKGN1cnJlbnROb2RlLnBhcmVudE5vZGUuY2hpbGROb2Rlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2libGluZyBvZiBzaWJsaW5ncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpYmxpbmcgIT09IGN1cnJlbnROb2RlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2libGluZy50ZXh0Q29udGVudCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpYmxpbmcudGV4dENvbnRlbnQudHJpbSgpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpYmxpbmcudGV4dENvbnRlbnQudHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaWJsaW5nLnRleHRDb250ZW50LnRyaW0oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNb3ZlIHVwIHRvIHBhcmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLnBhcmVudE5vZGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBwYXJlbnQgaGFzIHRleHQgY29udGVudCwgdXNlIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Tm9kZS50ZXh0Q29udGVudCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUudGV4dENvbnRlbnQudHJpbSgpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUudGV4dENvbnRlbnQudHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcGFyZW50IGlzIGEgdGV4dCBlbGVtZW50IGl0c2VsZlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnROb2RlLm5vZGVOYW1lID09PSAndGV4dCcgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5ub2RlTmFtZSA9PT0gJ3RzcGFuJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjdXJyZW50Tm9kZSBhcyBFbGVtZW50KS5jbGFzc0xpc3Q/LmNvbnRhaW5zKCdlc3JpLXRleHQtc3ltYm9sJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudE5vZGUudGV4dENvbnRlbnQudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGEgY3Vyc29yL2NhcmV0IG9uIHRoZSBtYXAgKHVzdWFsbHkgaW5kaWNhdGVzIHRleHQgZWRpdGluZylcclxuICAgICAgICAgICAgY29uc3QgY3Vyc29yRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICAgICAgICAgICAgJy5lc3JpLXZpZXcgLmVzcmktdGV4dC1lZGl0aW5nLWN1cnNvciwgJyArXHJcbiAgICAgICAgICAgICAgICAnLmVzcmktdmlldyAuZXNyaS1jYXJldCwgJyArXHJcbiAgICAgICAgICAgICAgICAnLmVzcmktdmlldyBbY2xhc3MqPVwiY3Vyc29yXCJdLCAnICtcclxuICAgICAgICAgICAgICAgICcuZXNyaS12aWV3IFtjbGFzcyo9XCJjYXJldFwiXSdcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjdXJzb3JFbGVtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGN1cnNvciBvZiBjdXJzb3JFbGVtZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBwYXJlbnQgdGV4dCBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmVudCA9IGN1cnNvci5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudC5ub2RlTmFtZSA9PT0gJ3RleHQnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQubm9kZU5hbWUgPT09ICd0c3BhbicgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5jbGFzc0xpc3Q/LmNvbnRhaW5zKCdlc3JpLXRleHQtc3ltYm9sJykpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50LnRleHRDb250ZW50ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnRleHRDb250ZW50LnRyaW0oKSAhPT0gJycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQudGV4dENvbnRlbnQudHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQudGV4dENvbnRlbnQudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gRGlyZWN0bHkgbG9vayBmb3IgU1ZHIHRleHQgZWxlbWVudHNcclxuICAgICAgICAgICAgLy8gU3RhcnQgd2l0aCBhbnkgdGhhdCBtaWdodCBoYXZlIGJlZW4gcmVjZW50bHkgYWRkZWQgb3IgbW9kaWZpZWRcclxuICAgICAgICAgICAgY29uc3QgYWxsVGV4dEVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZXNyaS12aWV3IHN2ZyB0ZXh0LCAuZXNyaS12aWV3IHN2ZyB0c3BhbicpKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNvcnQgYnkgYW55IHRpbWVzdGFtcCBvciBkYXRhIGF0dHJpYnV0ZSB0aGF0IG1pZ2h0IGluZGljYXRlIHJlY2VuY3lcclxuICAgICAgICAgICAgY29uc3Qgc29ydGVkRWxlbWVudHMgPSBhbGxUZXh0RWxlbWVudHMuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYVRpbWUgPSBwYXJzZUludChhLmdldEF0dHJpYnV0ZSgnZGF0YS10aW1lc3RhbXAnKSB8fCAnMCcsIDEwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJUaW1lID0gcGFyc2VJbnQoYi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGltZXN0YW1wJykgfHwgJzAnLCAxMCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYlRpbWUgLSBhVGltZTsgLy8gTW9zdCByZWNlbnQgZmlyc3RcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBQcm9jZXNzIHNvcnRlZCBlbGVtZW50cyAobW9zdCByZWNlbnQgZmlyc3QpXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbSBvZiBzb3J0ZWRFbGVtZW50cykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dENvbnRlbnQgPSBlbGVtLnRleHRDb250ZW50O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNraXAgZW1wdHkgb3IgZGVmYXVsdCB0ZXh0XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRleHRDb250ZW50IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dENvbnRlbnQudHJpbSgpID09PSAnJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHRleHRDb250ZW50LnRyaW0oKS50b0xvd2VyQ2FzZSgpID09PSAndGV4dCcgfHxcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0Q29udGVudC5pbmNsdWRlcygnTmFOJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTa2lwIGlmIGVsZW1lbnQgb3IgcGFyZW50IGhhcyBhIHN5c3RlbSBjbGFzcyAobGlrZSBlc3JpLWJhc2VtYXAtbGF5ZXIpXHJcbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID0gZWxlbS5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzU3lzdGVtTGFiZWwgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlsZSAocGFyZW50ICYmIHBhcmVudC5jbGFzc0xpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnZXNyaS1iYXNlbWFwLWxheWVyJykgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnZXNyaS1sZWdlbmQnKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlc3JpLWF0dHJpYnV0aW9uJykgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnZXNyaS1zY2FsZS1iYXInKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlc3JpLXVpJykgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnZXNyaS13aWRnZXQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1N5c3RlbUxhYmVsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghaXNTeXN0ZW1MYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0Q29udGVudC50cmltKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBFU1JJIHRleHQgc3ltYm9scyBzcGVjaWZpY2FsbHlcclxuICAgICAgICAgICAgY29uc3QgdGV4dFN5bWJvbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICAgICAgICAgICAgJy5lc3JpLXZpZXcgLmVzcmktdGV4dC1zeW1ib2wsICcgK1xyXG4gICAgICAgICAgICAgICAgJy5lc3JpLXZpZXcgLmVzcmktdGV4dC1ncmFwaGljLCAnICtcclxuICAgICAgICAgICAgICAgICcuZXNyaS12aWV3IC5lc3JpLWdyYXBoaWMtdGV4dCdcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc3ltYm9sIG9mIHRleHRTeW1ib2xzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3ltYm9sLnRleHRDb250ZW50ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgc3ltYm9sLnRleHRDb250ZW50LnRyaW0oKSAhPT0gJycgJiZcclxuICAgICAgICAgICAgICAgICAgICBzeW1ib2wudGV4dENvbnRlbnQudHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzeW1ib2wudGV4dENvbnRlbnQudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgcmVjZW50IGlucHV0IGluIHRleHQgZmllbGRzXHJcbiAgICAgICAgICAgIC8vIFRoaXMgbWlnaHQgY2F0Y2ggdGV4dCB0aGF0IHdhcyBlbnRlcmVkIGJ1dCBub3QgeWV0IGFwcGxpZWQgdG8gdGhlIG1hcFxyXG4gICAgICAgICAgICBjb25zdCB0ZXh0SW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInRleHRcIl0sIHRleHRhcmVhJyk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgaW5wdXQgb2YgdGV4dElucHV0cykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5wdXRFbGVtID0gaW5wdXQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGlmIChpbnB1dEVsZW0udmFsdWUgJiZcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dEVsZW0udmFsdWUudHJpbSgpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0RWxlbS52YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgbGlrZWx5IHJlbGF0ZWQgdG8gbWFwIHRleHRcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1RleHRMYWJlbCA9IGlucHV0RWxlbS5pZD8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygndGV4dCcpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0RWxlbS5uYW1lPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd0ZXh0JykgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRFbGVtLmNsYXNzTmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd0ZXh0JykgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRFbGVtLnBsYWNlaG9sZGVyPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd0ZXh0JykgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRFbGVtLmNsb3Nlc3QoJ1tjbGFzcyo9XCJ0ZXh0LWVkaXRvclwiXScpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0RWxlbS5jbG9zZXN0KCdbY2xhc3MqPVwibGFiZWwtZWRpdG9yXCJdJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1RleHRMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXRFbGVtLnZhbHVlLnRyaW0oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIExvb2sgZm9yIGFueSBwb3B1cCBjb250ZW50IHRoYXQgbWlnaHQgY29udGFpbiB0ZXh0XHJcbiAgICAgICAgICAgIGNvbnN0IHBvcHVwQ29udGVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZXNyaS1wb3B1cF9fY29udGVudCcpO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBvcHVwIG9mIHBvcHVwQ29udGVudHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwb3B1cC50ZXh0Q29udGVudCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHBvcHVwLnRleHRDb250ZW50LnRyaW0oKSAhPT0gJycgJiZcclxuICAgICAgICAgICAgICAgICAgICBwb3B1cC50ZXh0Q29udGVudC50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvcHVwLnRleHRDb250ZW50LnRyaW0oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIEVycm9yIGhhbmRsaW5nIHdpdGhvdXQgbG9nZ2luZ1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEFkZCBoZWxwZXIgZnVuY3Rpb24gdG8gZmluZCB0ZXh0IGluIG9iamVjdCB3aXRoIGFkdmFuY2VkIHR5cGUgaGFuZGxpbmdcclxuICAgIGNvbnN0IGZpbmRUZXh0SW5PYmplY3QgPSAob2JqOiBhbnksIHBhdGggPSAnJyk6IHsgdGV4dDogc3RyaW5nLCBwYXRoOiBzdHJpbmcgfSB8IG51bGwgPT4ge1xyXG4gICAgICAgIGlmICghb2JqKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gU2tpcCBudWxsIGFuZCB1bmRlZmluZWRcclxuICAgICAgICBpZiAob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdW5kZWZpbmVkKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhIFRleHRTeW1ib2wgd2l0aCBhIHRleHQgcHJvcGVydHlcclxuICAgICAgICBpZiAob2JqLmRlY2xhcmVkQ2xhc3MgPT09ICdlc3JpLnN5bWJvbHMuVGV4dFN5bWJvbCcgJiYgb2JqLnRleHQpIHtcclxuICAgICAgICAgICAgLy8gU2tpcCBkZWZhdWx0IHZhbHVlc1xyXG4gICAgICAgICAgICBpZiAob2JqLnRleHQudHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0JyAmJiBvYmoudGV4dC50cmltKCkgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0ZXh0OiBvYmoudGV4dCwgcGF0aDogYCR7cGF0aH0udGV4dGAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGNvbW1vbiB0ZXh0IHByb3BlcnRpZXMgb24gdGhlIG9iamVjdFxyXG4gICAgICAgIGNvbnN0IHRleHRQcm9wcyA9IFtcclxuICAgICAgICAgICAgJ3RleHQnLCAnbGFiZWwnLCAndmFsdWUnLCAnZGlzcGxheVZhbHVlJywgJ2Rpc3BsYXlUZXh0JywgJ3RleHRTdHJpbmcnLFxyXG4gICAgICAgICAgICAnY29udGVudCcsICdkZXNjcmlwdGlvbicsICduYW1lJywgJ3RpdGxlJywgJ2lubmVySFRNTCcsICd0ZXh0Q29udGVudCcsXHJcbiAgICAgICAgICAgICdpbm5lclRleHQnLCAnbGFiZWxUZXh0JywgJ2NhcHRpb24nLCAnaGVhZGluZydcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IHByb3Agb2YgdGV4dFByb3BzKSB7XHJcbiAgICAgICAgICAgIGlmIChvYmpbcHJvcF0gIT09IHVuZGVmaW5lZCAmJiBvYmpbcHJvcF0gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgdG8gc3RyaW5nIGlmIG5lZWRlZFxyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvcFZhbHVlID0gdHlwZW9mIG9ialtwcm9wXSA9PT0gJ3N0cmluZycgP1xyXG4gICAgICAgICAgICAgICAgICAgIG9ialtwcm9wXSA6IFN0cmluZyhvYmpbcHJvcF0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNraXAgZGVmYXVsdCB2YWx1ZXNcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wVmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0JyAmJiBwcm9wVmFsdWUudHJpbSgpICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHRleHQ6IHByb3BWYWx1ZSwgcGF0aDogYCR7cGF0aH0uJHtwcm9wfWAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZ3JhcGhpY3MgcHJvcGVydGllc1xyXG4gICAgICAgIGlmIChvYmouZ3JhcGhpYyAmJiB0eXBlb2Ygb2JqLmdyYXBoaWMgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdyYXBoaWNSZXN1bHQgPSBmaW5kVGV4dEluT2JqZWN0KG9iai5ncmFwaGljLCBgJHtwYXRofS5ncmFwaGljYCk7XHJcbiAgICAgICAgICAgIGlmIChncmFwaGljUmVzdWx0KSByZXR1cm4gZ3JhcGhpY1Jlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGF0dHJpYnV0ZXNcclxuICAgICAgICBpZiAob2JqLmF0dHJpYnV0ZXMgJiYgdHlwZW9mIG9iai5hdHRyaWJ1dGVzID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAvLyBGaXJzdCBjaGVjayBmb3IgY29tbW9uIHRleHQgYXR0cmlidXRlIG5hbWVzXHJcbiAgICAgICAgICAgIGNvbnN0IHRleHRBdHRycyA9IFtcclxuICAgICAgICAgICAgICAgICduYW1lJywgJ2xhYmVsJywgJ3RleHQnLCAnZGVzY3JpcHRpb24nLCAndGl0bGUnLCAnZGlzcGxheU5hbWUnLCAnZGlzcGxheScsXHJcbiAgICAgICAgICAgICAgICAnY2FwdGlvbicsICd2YWx1ZScsICdjb250ZW50JywgJ3RleHRTdHJpbmcnLCAnTkFNRScsICdMQUJFTCcsICdURVhUJyxcclxuICAgICAgICAgICAgICAgICdERVNDUklQVElPTicsICdUSVRMRScsICdESVNQTEFZX05BTUUnLCAnRElTUExBWSdcclxuICAgICAgICAgICAgXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgYXR0ciBvZiB0ZXh0QXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvYmouYXR0cmlidXRlc1thdHRyXSAhPT0gdW5kZWZpbmVkICYmIG9iai5hdHRyaWJ1dGVzW2F0dHJdICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0byBzdHJpbmcgaWYgbmVlZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0clZhbHVlID0gdHlwZW9mIG9iai5hdHRyaWJ1dGVzW2F0dHJdID09PSAnc3RyaW5nJyA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5hdHRyaWJ1dGVzW2F0dHJdIDogU3RyaW5nKG9iai5hdHRyaWJ1dGVzW2F0dHJdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCBkZWZhdWx0IG9yIGVtcHR5IHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRyVmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0JyAmJiBhdHRyVmFsdWUudHJpbSgpICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB0ZXh0OiBhdHRyVmFsdWUsIHBhdGg6IGAke3BhdGh9LmF0dHJpYnV0ZXMuJHthdHRyfWAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFRoZW4gY2hlY2sgYWxsIGF0dHJpYnV0ZXMgZm9yIGFueXRoaW5nIHRleHQtbGlrZVxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmouYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5hdHRyaWJ1dGVzW2tleV0gIT09IHVuZGVmaW5lZCAmJiBvYmouYXR0cmlidXRlc1trZXldICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmouYXR0cmlidXRlc1trZXldID09PSAnc3RyaW5nJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygb2JqLmF0dHJpYnV0ZXNba2V5XSA9PT0gJ251bWJlcicpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJWYWx1ZSA9IFN0cmluZyhvYmouYXR0cmlidXRlc1trZXldKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNraXAgZGVmYXVsdCBvciBlbXB0eSB2YWx1ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJWYWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyVmFsdWUudHJpbSgpICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdGV4dDogYXR0clZhbHVlLCBwYXRoOiBgJHtwYXRofS5hdHRyaWJ1dGVzLiR7a2V5fWAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgc3ltYm9sXHJcbiAgICAgICAgaWYgKG9iai5zeW1ib2wgJiYgdHlwZW9mIG9iai5zeW1ib2wgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN5bWJvbFJlc3VsdCA9IGZpbmRUZXh0SW5PYmplY3Qob2JqLnN5bWJvbCwgYCR7cGF0aH0uc3ltYm9sYCk7XHJcbiAgICAgICAgICAgIGlmIChzeW1ib2xSZXN1bHQpIHJldHVybiBzeW1ib2xSZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBwcm9wZXJ0aWVzIHRoYXQgY291bGQgY29udGFpbiB0ZXh0IGNvbnRlbnRcclxuICAgICAgICAvLyBUaGVzZSBtaWdodCBiZSBET00tbGlrZSBwcm9wZXJ0aWVzIG9yIGN1c3RvbSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgaWYgKG9iai50ZXh0Q29udGVudCAmJiB0eXBlb2Ygb2JqLnRleHRDb250ZW50ID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICBvYmoudGV4dENvbnRlbnQudHJpbSgpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICBvYmoudGV4dENvbnRlbnQudHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICByZXR1cm4geyB0ZXh0OiBvYmoudGV4dENvbnRlbnQsIHBhdGg6IGAke3BhdGh9LnRleHRDb250ZW50YCB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9iai5pbm5lclRleHQgJiYgdHlwZW9mIG9iai5pbm5lclRleHQgPT09ICdzdHJpbmcnICYmXHJcbiAgICAgICAgICAgIG9iai5pbm5lclRleHQudHJpbSgpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICBvYmouaW5uZXJUZXh0LnRyaW0oKS50b0xvd2VyQ2FzZSgpICE9PSAndGV4dCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdGV4dDogb2JqLmlubmVyVGV4dCwgcGF0aDogYCR7cGF0aH0uaW5uZXJUZXh0YCB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9iai5pbm5lckhUTUwgJiYgdHlwZW9mIG9iai5pbm5lckhUTUwgPT09ICdzdHJpbmcnICYmXHJcbiAgICAgICAgICAgIG9iai5pbm5lckhUTUwudHJpbSgpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICBvYmouaW5uZXJIVE1MLnRyaW0oKS50b0xvd2VyQ2FzZSgpICE9PSAndGV4dCcpIHtcclxuICAgICAgICAgICAgLy8gU3RyaXAgYW55IEhUTUwgdGFncyBmb3IgY2xlYW5lciB0ZXh0XHJcbiAgICAgICAgICAgIGNvbnN0IHRlbXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgdGVtcERpdi5pbm5lckhUTUwgPSBvYmouaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0T25seSA9IHRlbXBEaXYudGV4dENvbnRlbnQgfHwgdGVtcERpdi5pbm5lclRleHQgfHwgJyc7XHJcblxyXG4gICAgICAgICAgICBpZiAodGV4dE9ubHkudHJpbSgpICE9PSAnJyAmJiB0ZXh0T25seS50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0ZXh0OiB0ZXh0T25seSwgcGF0aDogYCR7cGF0aH0uaW5uZXJIVE1MYCB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBwcm9wZXJ0aWVzIHRoYXQgc3RhcnQgd2l0aCB1bmRlcnNjb3JlIChFU1JJIG9mdGVuIHVzZXMgdGhlc2UpXHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgICAgIC8vIFNraXAgbm9uLWVudW1lcmFibGUgcHJvcGVydGllcyBhbmQgZnVuY3Rpb25zXHJcbiAgICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iaiwga2V5KSB8fFxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIG9ialtrZXldID09PSAnZnVuY3Rpb24nKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIHN0cmluZyBwcm9wZXJ0aWVzIHRoYXQgc3RhcnQgd2l0aCB1bmRlcnNjb3JlXHJcbiAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnXycpICYmXHJcbiAgICAgICAgICAgICAgICAodHlwZW9mIG9ialtrZXldID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb2JqW2tleV0gPT09ICdudW1iZXInKSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleVZhbHVlID0gU3RyaW5nKG9ialtrZXldKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTa2lwIGRlZmF1bHQgb3IgZW1wdHkgdmFsdWVzXHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5VmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0JyAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGtleVZhbHVlLnRyaW0oKSAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB0ZXh0OiBrZXlWYWx1ZSwgcGF0aDogYCR7cGF0aH0uJHtrZXl9YCB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBSZWN1cnNpdmVseSBjaGVjayBvYmplY3RzIHdpdGggdW5kZXJzY29yZSBwcmVmaXggdGhhdCBtaWdodCBjb250YWluIHRleHRcclxuICAgICAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCdfJykgJiZcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBvYmpba2V5XSA9PT0gJ29iamVjdCcgJiZcclxuICAgICAgICAgICAgICAgIG9ialtrZXldICE9PSBudWxsICYmXHJcbiAgICAgICAgICAgICAgICAhQXJyYXkuaXNBcnJheShvYmpba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGZpbmRUZXh0SW5PYmplY3Qob2JqW2tleV0sIGAke3BhdGh9LiR7a2V5fWApO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTG9vayBmb3IgcHJvcGVydGllcyB0aGF0IG1pZ2h0IGNvbnRhaW4gdGV4dCBpdGVtcyBpbnNpZGUgY29sbGVjdGlvbnNcclxuICAgICAgICBjb25zdCBjb2xsZWN0aW9uUHJvcHMgPSBbJ2l0ZW1zJywgJ2dyYXBoaWNzJywgJ2ZlYXR1cmVzJywgJ2VsZW1lbnRzJywgJ19pdGVtcycsICdfZ3JhcGhpY3MnXTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBwcm9wIG9mIGNvbGxlY3Rpb25Qcm9wcykge1xyXG4gICAgICAgICAgICBpZiAob2JqW3Byb3BdICYmIEFycmF5LmlzQXJyYXkob2JqW3Byb3BdKSAmJiBvYmpbcHJvcF0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gUHJvY2VzcyBpbiByZXZlcnNlIG9yZGVyIChsYXRlc3QgaXRlbXMgZmlyc3QpXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gb2JqW3Byb3BdLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IG9ialtwcm9wXVtpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtUmVzdWx0ID0gZmluZFRleHRJbk9iamVjdChpdGVtLCBgJHtwYXRofS4ke3Byb3B9WyR7aX1dYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtUmVzdWx0KSByZXR1cm4gaXRlbVJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBBZGQgYSBtb3JlIGV4aGF1c3RpdmUgYXBwcm9hY2ggdG8gY2hlY2sgZm9yIHRleHQgaW4gQXJjR0lTL0VTUkkgZGF0YSBzdHJ1Y3R1cmVzXHJcbiAgICBjb25zdCBmaW5kVGV4dEluRXNyaU9iamVjdHMgPSAoKTogc3RyaW5nIHwgbnVsbCA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGFsbCBwb3NzaWJsZSBFU1JJLXNwZWNpZmljIGdsb2JhbCBvYmplY3RzIHRoYXQgbWlnaHQgY29udGFpbiBvdXIgdGV4dFxyXG5cclxuICAgICAgICAgICAgLy8gMS4gQ2hlY2sgZm9yIGFueSBzcGVjaWZpYyB0ZXh0IGVkaXRpbmcgc3RhdGVcclxuICAgICAgICAgICAgaWYgKCh3aW5kb3cgYXMgYW55KS50ZXh0QmVpbmdFZGl0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAod2luZG93IGFzIGFueSkudGV4dEJlaW5nRWRpdGVkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyAyLiBUcnkgdG8gZGlyZWN0bHkgYWNjZXNzIHRoZSBsYXRlc3QgdGV4dCBlbGVtZW50IGZyb20gdGhlIEVTUkkgZnJhbWV3b3JrXHJcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBkaXJlY3QgYXBwcm9hY2ggdG8gZ2V0IHRoZSB0ZXh0IHRoYXQgd2FzIGp1c3QgYWRkZWQgdG8gdGhlIG1hcFxyXG4gICAgICAgICAgICBpZiAoKHdpbmRvdyBhcyBhbnkpLl90ZXh0RWxlbWVudEp1c3RBZGRlZCB8fFxyXG4gICAgICAgICAgICAgICAgKHdpbmRvdyBhcyBhbnkpLl9sYXN0QWRkZWRUZXh0Q29udGVudCB8fFxyXG4gICAgICAgICAgICAgICAgKHdpbmRvdyBhcyBhbnkpLl9yZWNlbnRseUFkZGVkVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGlyZWN0VGV4dCA9ICh3aW5kb3cgYXMgYW55KS5fdGV4dEVsZW1lbnRKdXN0QWRkZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICAod2luZG93IGFzIGFueSkuX2xhc3RBZGRlZFRleHRDb250ZW50IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKHdpbmRvdyBhcyBhbnkpLl9yZWNlbnRseUFkZGVkVGV4dDtcclxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3RUZXh0ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGRpcmVjdFRleHQgPT09ICdzdHJpbmcnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0VGV4dC50cmltKCkgIT09ICcnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0VGV4dC50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpcmVjdFRleHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIExvb2sgZm9yIGFueSBuZXdseSBhZGRlZCB0ZXh0IGVsZW1lbnRzIGluIHRoZSBET01cclxuICAgICAgICAgICAgLy8gQ2hlY2tpbmcgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSBiZWVuIHJlY2VudGx5IGFkZGVkICh3aXRoaW4gbGFzdCBmZXcgc2Vjb25kcylcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWNlbnRUaHJlc2hvbGQgPSA1MDAwOyAvLyA1IHNlY29uZHNcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgZWxlbWVudHMgd2l0aCBhIGRhdGEtdGltZXN0YW1wIGF0dHJpYnV0ZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVjZW50VGV4dEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVzcmktdGV4dC1zeW1ib2xbZGF0YS10aW1lc3RhbXBdJyk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlY2VudFRleHRFbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW0gPSByZWNlbnRUZXh0RWxlbWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gcGFyc2VJbnQoZWxlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGltZXN0YW1wJykgfHwgJzAnLCAxMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGVsZW1lbnQgd2FzIGFkZGVkIHJlY2VudGx5XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChub3cgLSB0aW1lc3RhbXApIDwgcmVjZW50VGhyZXNob2xkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gZWxlbS50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRDb250ZW50ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29udGVudC50cmltKCkgIT09ICcnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29udGVudC50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgdGV4dCBlbGVtZW50cyB0aGF0IGhhdmUgYmVlbiBhZGRlZCByZWNlbnRseSAobm8gdGltZXN0YW1wKVxyXG4gICAgICAgICAgICAgICAgLy8gV2UgY2FuIGNoZWNrIGVsZW1lbnRzIHRoYXQgaGF2ZSBzcGVjaWZpYyBjbGFzc2VzIG9yIHByb3BlcnRpZXMgdGhhdCBpbmRpY2F0ZSB0aGV5J3JlIG5ld1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcG9zc2libHlOZXdFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICAgICAgICAgICAgICAgICAgJy5lc3JpLXRleHQtc3ltYm9sLmVzcmktdmlld19fYW5pbWF0aW9uLWRlbGF5LCAnICtcclxuICAgICAgICAgICAgICAgICAgICAnLmVzcmktdGV4dC1zeW1ib2wuZXNyaS1lZmZlY3QsICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICcuZXNyaS10ZXh0LXN5bWJvbDpub3QoW2RhdGEtcHJvY2Vzc2VkXSksICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICcuZXNyaS12aWV3IHRleHQ6bm90KFtkYXRhLXByb2Nlc3NlZF0pLCAnICtcclxuICAgICAgICAgICAgICAgICAgICAnLmVzcmktdmlldyB0c3Bhbjpub3QoW2RhdGEtcHJvY2Vzc2VkXSknXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9zc2libHlOZXdFbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW0gPSBwb3NzaWJseU5ld0VsZW1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gZWxlbS50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dENvbnRlbnQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbnRlbnQudHJpbSgpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29udGVudC50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXJrIGFzIHByb2Nlc3NlZCB0byBhdm9pZCByZS1wcm9jZXNzaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdkYXRhLXByb2Nlc3NlZCcsICd0cnVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIDMuIENoZWNrIGFjdGl2ZSBtYXAgdmlld1xyXG4gICAgICAgICAgICBsZXQgYWN0aXZlVmlldyA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCBhY3RpdmVNYXAgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgLy8gRXhwZXJpZW5jZSBCdWlsZGVyIHNwZWNpZmljXHJcbiAgICAgICAgICAgIGlmICgod2luZG93IGFzIGFueSkuamltdU1hcFZpZXcpIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZVZpZXcgPSAod2luZG93IGFzIGFueSkuamltdU1hcFZpZXcudmlldztcclxuICAgICAgICAgICAgICAgIGFjdGl2ZU1hcCA9IGFjdGl2ZVZpZXc/Lm1hcDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQXJjR0lTIEpTIEFQSSBzcGVjaWZpY1xyXG4gICAgICAgICAgICBpZiAoIWFjdGl2ZVZpZXcpIHtcclxuICAgICAgICAgICAgICAgIGlmICgod2luZG93IGFzIGFueSkuYWN0aXZlVmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZVZpZXcgPSAod2luZG93IGFzIGFueSkuYWN0aXZlVmlldztcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVNYXAgPSBhY3RpdmVWaWV3Py5tYXA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCh3aW5kb3cgYXMgYW55KS52aWV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlVmlldyA9ICh3aW5kb3cgYXMgYW55KS52aWV3O1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZU1hcCA9IGFjdGl2ZVZpZXc/Lm1hcDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKHdpbmRvdyBhcyBhbnkpLm1hcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZU1hcCA9ICh3aW5kb3cgYXMgYW55KS5tYXA7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIEFyY0dJUyBKUyAzLnhcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlTWFwLmluZm9XaW5kb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGFjdGl2ZU1hcC5pbmZvV2luZG93LmdldENvbnRlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudC50cmltKCkgIT09ICcnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LnRyaW0oKS50b0xvd2VyQ2FzZSgpICE9PSAndGV4dCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyA0LiBDaGVjayBEaXJlY3QgQXJjR0lTIEFQSSByZWZlcmVuY2VzIGZvciB0ZXh0IGVsZW1lbnRzXHJcbiAgICAgICAgICAgIC8vIFRoaXMgdGFyZ2V0cyBuZXdseSBjcmVhdGVkIHRleHQgZWxlbWVudHMgdGhhdCBtaWdodCBub3QgYmUgZnVsbHkgaW50ZWdyYXRlZCB5ZXRcclxuICAgICAgICAgICAgaWYgKCh3aW5kb3cgYXMgYW55KS52aWV3ICYmICh3aW5kb3cgYXMgYW55KS52aWV3Ll9zdGFnZSAmJlxyXG4gICAgICAgICAgICAgICAgKHdpbmRvdyBhcyBhbnkpLnZpZXcuX3N0YWdlLmdyYXBoaWNzICYmXHJcbiAgICAgICAgICAgICAgICAod2luZG93IGFzIGFueSkudmlldy5fc3RhZ2UuZ3JhcGhpY3MuX2l0ZW1zKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JhcGhpY3NJdGVtcyA9ICh3aW5kb3cgYXMgYW55KS52aWV3Ll9zdGFnZS5ncmFwaGljcy5faXRlbXM7XHJcbiAgICAgICAgICAgICAgICAvLyBMb29rIGZvciB0aGUgbW9zdCByZWNlbnRseSBhZGRlZCB0ZXh0IGdyYXBoaWNzXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gZ3JhcGhpY3NJdGVtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGcgPSBncmFwaGljc0l0ZW1zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChnICYmIGcuc3ltYm9sICYmIGcuc3ltYm9sLnRleHQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgZy5zeW1ib2wudGV4dC50cmltKCkgIT09ICcnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGcuc3ltYm9sLnRleHQudHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZy5zeW1ib2wudGV4dDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIDUuIENoZWNrIGZvciBhY3RpdmUgZHJhd2luZyB0b29scyBvciBza2V0Y2ggd2lkZ2V0c1xyXG4gICAgICAgICAgICBpZiAoKHdpbmRvdyBhcyBhbnkpLnNrZXRjaCB8fCAod2luZG93IGFzIGFueSkuYWN0aXZlU2tldGNoIHx8XHJcbiAgICAgICAgICAgICAgICAod2luZG93IGFzIGFueSkuZHJhd2luZ1Rvb2wgfHwgKHdpbmRvdyBhcyBhbnkpLmFjdGl2ZURyYXdpbmdUb29sKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2tldGNoID0gKHdpbmRvdyBhcyBhbnkpLnNrZXRjaCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICh3aW5kb3cgYXMgYW55KS5hY3RpdmVTa2V0Y2ggfHxcclxuICAgICAgICAgICAgICAgICAgICAod2luZG93IGFzIGFueSkuZHJhd2luZ1Rvb2wgfHxcclxuICAgICAgICAgICAgICAgICAgICAod2luZG93IGFzIGFueSkuYWN0aXZlRHJhd2luZ1Rvb2w7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNrZXRjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBhY3RpdmUvY3VycmVudCBza2V0Y2hcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2tldGNoLnZpZXdNb2RlbCAmJiBza2V0Y2gudmlld01vZGVsLmFjdGl2ZVRvb2wgPT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2tldGNoLnZpZXdNb2RlbC50ZXh0U3ltYm9sICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2V0Y2gudmlld01vZGVsLnRleHRTeW1ib2wudGV4dCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tldGNoLnZpZXdNb2RlbC50ZXh0U3ltYm9sLnRleHQudHJpbSgpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tldGNoLnZpZXdNb2RlbC50ZXh0U3ltYm9sLnRleHQudHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNrZXRjaC52aWV3TW9kZWwudGV4dFN5bWJvbC50ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgdGhlIGdyYXBoaWMgYmVpbmcgY3JlYXRlZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChza2V0Y2gudmlld01vZGVsICYmIHNrZXRjaC52aWV3TW9kZWwuZ3JhcGhpYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBncmFwaGljID0gc2tldGNoLnZpZXdNb2RlbC5ncmFwaGljO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JhcGhpYy5zeW1ib2wgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyYXBoaWMuc3ltYm9sLnRleHQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyYXBoaWMuc3ltYm9sLnRleHQudHJpbSgpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JhcGhpYy5zeW1ib2wudGV4dC50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ3JhcGhpYy5zeW1ib2wudGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gNi4gQ2hlY2sgc2VsZWN0ZWQvYWN0aXZlIGZlYXR1cmVzIGluIHRoZSB2aWV3XHJcbiAgICAgICAgICAgIGlmIChhY3RpdmVWaWV3KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBwb3B1cCBpcyBvcGVuIHdpdGggYSBzZWxlY3RlZCBmZWF0dXJlXHJcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlVmlldy5wb3B1cCAmJiBhY3RpdmVWaWV3LnBvcHVwLnZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUcnkgdG8gZ2V0IHRleHQgZnJvbSBwb3B1cCB0aXRsZSBvciBjb250ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9wdXBUaXRsZSA9IGFjdGl2ZVZpZXcucG9wdXAudGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwb3B1cFRpdGxlID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cFRpdGxlLnRyaW0oKSAhPT0gJycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBUaXRsZS50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3B1cFRpdGxlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9wdXBDb250ZW50ID0gYWN0aXZlVmlldy5wb3B1cC5jb250ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcG9wdXBDb250ZW50ID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cENvbnRlbnQudHJpbSgpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cENvbnRlbnQudHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9wdXBDb250ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgc2VsZWN0ZWQgZmVhdHVyZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVWaWV3LnBvcHVwLnNlbGVjdGVkRmVhdHVyZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlID0gYWN0aXZlVmlldy5wb3B1cC5zZWxlY3RlZEZlYXR1cmU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgdGV4dCBzeW1ib2xzIG9uIHRoZSBmZWF0dXJlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlLnN5bWJvbCAmJiBmZWF0dXJlLnN5bWJvbC5kZWNsYXJlZENsYXNzID09PSAnZXNyaS5zeW1ib2xzLlRleHRTeW1ib2wnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZS5zeW1ib2wudGV4dCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmUuc3ltYm9sLnRleHQudHJpbSgpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmUuc3ltYm9sLnRleHQudHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmZWF0dXJlLnN5bWJvbC50ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgdGV4dCBpbiBhdHRyaWJ1dGVzIC0gY29tbW9uIGluIEFyY0dJU1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZS5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0RmllbGRzID0gWydOQU1FJywgJ25hbWUnLCAnTEFCRUwnLCAnbGFiZWwnLCAnVEVYVCcsICd0ZXh0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnREVTQ1JJUFRJT04nLCAnZGVzY3JpcHRpb24nLCAnVElUTEUnLCAndGl0bGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdESVNQTEFZX05BTUUnLCAnZGlzcGxheV9uYW1lJywgJ0RJU1BMQVlOQU1FJywgJ2Rpc3BsYXluYW1lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRElTUExBWScsICdkaXNwbGF5J107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiB0ZXh0RmllbGRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZlYXR1cmUuYXR0cmlidXRlc1tmaWVsZF0gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZS5hdHRyaWJ1dGVzW2ZpZWxkXS50b1N0cmluZygpLnRyaW0oKSAhPT0gJycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZS5hdHRyaWJ1dGVzW2ZpZWxkXS50b1N0cmluZygpLnRyaW0oKS50b0xvd2VyQ2FzZSgpICE9PSAndGV4dCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZlYXR1cmUuYXR0cmlidXRlc1tmaWVsZF0udG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGFzdCByZXNvcnQ6IENoZWNrIGZvciBhbnkgdGV4dC1saWtlIGF0dHJpYnV0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZmVhdHVyZS5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmZWF0dXJlLmF0dHJpYnV0ZXNba2V5XSA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZS5hdHRyaWJ1dGVzW2tleV0udHJpbSgpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWF0dXJlLmF0dHJpYnV0ZXNba2V5XS50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmZWF0dXJlLmF0dHJpYnV0ZXNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gNy4gQ2hlY2sgZm9yIHNlbGVjdGVkIG9yIGhpZ2hsaWdodGVkIGdyYXBoaWNzXHJcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlVmlldy5ncmFwaGljcyAmJiBhY3RpdmVWaWV3LmdyYXBoaWNzLml0ZW1zICYmIGFjdGl2ZVZpZXcuZ3JhcGhpY3MuaXRlbXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0IGxvb2sgZm9yIHNlbGVjdGVkIGdyYXBoaWNzXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlbGVjdGVkR3JhcGhpY3MgPSBhY3RpdmVWaWV3LmdyYXBoaWNzLml0ZW1zLmZpbHRlcigoZzogYW55KSA9PiBnLnNlbGVjdGVkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgbm8gc2VsZWN0ZWQgcHJvcGVydHkgZm91bmQsIGxvb2sgZm9yIF9zZWxlY3RlZCBvciBzZWxlY3RlZCBhdHRyaWJ1dGVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdGVkR3JhcGhpY3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkR3JhcGhpY3MgPSBhY3RpdmVWaWV3LmdyYXBoaWNzLml0ZW1zLmZpbHRlcigoZzogYW55KSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZy5fc2VsZWN0ZWQgfHwgZy5hdHRyaWJ1dGVzPy5zZWxlY3RlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJvY2VzcyBzZWxlY3RlZCBncmFwaGljcyBpZiBmb3VuZFxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZyBvZiBzZWxlY3RlZEdyYXBoaWNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciB0ZXh0IHN5bWJvbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZy5zeW1ib2wgJiYgZy5zeW1ib2wuZGVjbGFyZWRDbGFzcyA9PT0gJ2Vzcmkuc3ltYm9scy5UZXh0U3ltYm9sJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGcuc3ltYm9sLnRleHQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnLnN5bWJvbC50ZXh0LnRyaW0oKSAhPT0gJycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnLnN5bWJvbC50ZXh0LnRyaW0oKS50b0xvd2VyQ2FzZSgpICE9PSAndGV4dCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZy5zeW1ib2wudGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgYXR0cmlidXRlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZy5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBnLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGcuYXR0cmlidXRlc1trZXldID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnLmF0dHJpYnV0ZXNba2V5XS50cmltKCkgIT09ICcnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGcuYXR0cmlidXRlc1trZXldLnRyaW0oKS50b0xvd2VyQ2FzZSgpICE9PSAndGV4dCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGcuYXR0cmlidXRlc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHRleHQgcHJvcGVydHkgZGlyZWN0bHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGcudGV4dCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZy50ZXh0LnRyaW0oKSAhPT0gJycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGcudGV4dC50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZy50ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBMb29rIGZvciBtb3N0IHJlY2VudGx5IGFkZGVkIGdyYXBoaWNzICh0aGV5J3JlIGxpa2VseSB0byBiZSB3aGF0IHdlJ3JlIGVkaXRpbmcpXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsR3JhcGhpY3MgPSBBcnJheS5mcm9tKGFjdGl2ZVZpZXcuZ3JhcGhpY3MuaXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvcnQgYnkgYW55IHRpbWVzdGFtcCBvciBjcmVhdGlvbiBwcm9wZXJ0eSBpZiBhdmFpbGFibGVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3J0ZWRHcmFwaGljcyA9IGFsbEdyYXBoaWNzLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYVRpbWUgPSAoYSBhcyBhbnkpLl9jcmVhdGlvblRpbWUgfHwgKGEgYXMgYW55KS50aW1lc3RhbXAgfHwgKGEgYXMgYW55KS5fdGltZXN0YW1wIHx8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJUaW1lID0gKGIgYXMgYW55KS5fY3JlYXRpb25UaW1lIHx8IChiIGFzIGFueSkudGltZXN0YW1wIHx8IChiIGFzIGFueSkuX3RpbWVzdGFtcCB8fCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYlRpbWUgLSBhVGltZTsgLy8gTW9zdCByZWNlbnQgZmlyc3RcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmlyc3QgY2hlY2sgb25seSB0ZXh0IGdyYXBoaWNzIChtb3N0IGxpa2VseSB3aGF0IHdlIHdhbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dEdyYXBoaWNzID0gc29ydGVkR3JhcGhpY3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoZzogYW55KSA9PiBnLnN5bWJvbCAmJiBnLnN5bWJvbC5kZWNsYXJlZENsYXNzID09PSAnZXNyaS5zeW1ib2xzLlRleHRTeW1ib2wnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBnIG9mIHRleHRHcmFwaGljcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGcgYXMgYW55KS5zeW1ib2wudGV4dCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGcgYXMgYW55KS5zeW1ib2wudGV4dC50cmltKCkgIT09ICcnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZyBhcyBhbnkpLnN5bWJvbC50ZXh0LnRyaW0oKS50b0xvd2VyQ2FzZSgpICE9PSAndGV4dCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoZyBhcyBhbnkpLnN5bWJvbC50ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBubyB0ZXh0IGdyYXBoaWNzIGZvdW5kLCBjaGVjayBhbGwgZ3JhcGhpY3MgZm9yIGFueSB0ZXh0IGNvbnRlbnRcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGcgb2Ygc29ydGVkR3JhcGhpY3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZGlyZWN0IHRleHQgcHJvcGVydHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChnIGFzIGFueSkudGV4dCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGcgYXMgYW55KS50ZXh0LnRyaW0oKSAhPT0gJycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChnIGFzIGFueSkudGV4dC50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGcgYXMgYW55KS50ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBhdHRyaWJ1dGVzIGZvciB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZyBhcyBhbnkpLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIChnIGFzIGFueSkuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKGcgYXMgYW55KS5hdHRyaWJ1dGVzW2tleV0gPT09ICdzdHJpbmcnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChnIGFzIGFueSkuYXR0cmlidXRlc1trZXldLnRyaW0oKSAhPT0gJycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGcgYXMgYW55KS5hdHRyaWJ1dGVzW2tleV0udHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGcgYXMgYW55KS5hdHRyaWJ1dGVzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIDguIENoZWNrIGZvciBhbnkgb3RoZXIgZ3JhcGhpY3MgY29sbGVjdGlvbnMgaW4gdGhlIHZpZXdcclxuICAgICAgICAgICAgICAgIC8vIFNvbWUgRVNSSSBpbXBsZW1lbnRhdGlvbnMgaGF2ZSBvdGhlciBjb2xsZWN0aW9uc1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JhcGhpY3NDb2xsZWN0aW9ucyA9IFtcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVWaWV3Ll9ncmFwaGljc0NvbGxlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlVmlldy5ncmFwaGljc0NvbGxlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlVmlldy5sYXllckNvbGxlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlVmlldy5ncmFwaGljcyxcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVWaWV3Ll9sYXllcnM/Lml0ZW1zXHJcbiAgICAgICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29sbGVjdGlvbiBvZiBncmFwaGljc0NvbGxlY3Rpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb2xsZWN0aW9uKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBjb2xsZWN0aW9uLml0ZW1zIHx8IGNvbGxlY3Rpb24uX2l0ZW1zIHx8IGNvbGxlY3Rpb247XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtcyB8fCAhaXRlbXMubGVuZ3RoKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJ5IHRvIGZpbmQgdGV4dCBncmFwaGljcyBpbiByZXZlcnNlIG9yZGVyIChtb3N0IHJlY2VudCBmaXJzdClcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZyA9IGl0ZW1zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWcpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHN5bWJvbCB3aXRoIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChnIGFzIGFueSkuc3ltYm9sICYmIChnIGFzIGFueSkuc3ltYm9sLnRleHQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChnIGFzIGFueSkuc3ltYm9sLnRleHQudHJpbSgpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGcgYXMgYW55KS5zeW1ib2wudGV4dC50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGcgYXMgYW55KS5zeW1ib2wudGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZGlyZWN0IHRleHQgcHJvcGVydHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChnIGFzIGFueSkudGV4dCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGcgYXMgYW55KS50ZXh0LnRyaW0oKSAhPT0gJycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChnIGFzIGFueSkudGV4dC50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGcgYXMgYW55KS50ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyA5LiBDaGVjayBpZiB0aGVyZSdzIGFuIGVkaXRvciB3aWRnZXQgYWN0aXZlIHdpdGggYSBmZWF0dXJlIGJlaW5nIGVkaXRlZFxyXG4gICAgICAgICAgICBsZXQgZWRpdG9yV2lkZ2V0ID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIC8vIEV4cGVyaWVuY2UgQnVpbGRlciBzcGVjaWZpYyBlZGl0b3Igd2lkZ2V0XHJcbiAgICAgICAgICAgIGlmICgod2luZG93IGFzIGFueSkuYWN0aXZlRWRpdG9yV2lkZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3JXaWRnZXQgPSAod2luZG93IGFzIGFueSkuYWN0aXZlRWRpdG9yV2lkZ2V0O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCh3aW5kb3cgYXMgYW55KS5lZGl0b3IpIHtcclxuICAgICAgICAgICAgICAgIGVkaXRvcldpZGdldCA9ICh3aW5kb3cgYXMgYW55KS5lZGl0b3I7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlVmlldyAmJiBhY3RpdmVWaWV3LnVpICYmIGFjdGl2ZVZpZXcudWkuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICAgICAgLy8gVHJ5IHRvIGZpbmQgZWRpdG9yIHdpZGdldCBpbiBVSSBjb21wb25lbnRzXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBhY3RpdmVWaWV3LnVpLmNvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50LndpZGdldCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoY29tcG9uZW50LndpZGdldC5kZWNsYXJlZENsYXNzID09PSAnZXNyaS53aWRnZXRzLkVkaXRvcicgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC53aWRnZXQuZGVjbGFyZWRDbGFzcyA9PT0gJ2Vzcmkud2lkZ2V0cy5UZXh0RWRpdG9yJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yV2lkZ2V0ID0gY29tcG9uZW50LndpZGdldDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZWRpdG9yV2lkZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGEgdmlld01vZGVsIHdpdGggYWN0aXZlIGZlYXR1cmVcclxuICAgICAgICAgICAgICAgIGlmIChlZGl0b3JXaWRnZXQudmlld01vZGVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgdm0gPSBlZGl0b3JXaWRnZXQudmlld01vZGVsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBlZGl0b3Igc3RhdGUgZm9yIGFjdGl2ZSBmZWF0dXJlc1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZlYXR1cmUgPSB2bS5hY3RpdmVGZWF0dXJlIHx8IHZtLmVkaXRGZWF0dXJlIHx8IHZtLmVkaXRpbmdGZWF0dXJlIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmZlYXR1cmUgfHwgdm0uY3VycmVudEZlYXR1cmU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciB0ZXh0IGluIGZlYXR1cmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZlYXR1cmUuc3ltYm9sICYmIGZlYXR1cmUuc3ltYm9sLmRlY2xhcmVkQ2xhc3MgPT09ICdlc3JpLnN5bWJvbHMuVGV4dFN5bWJvbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlLnN5bWJvbC50ZXh0ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZS5zeW1ib2wudGV4dC50cmltKCkgIT09ICcnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZS5zeW1ib2wudGV4dC50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZlYXR1cmUuc3ltYm9sLnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGF0dHJpYnV0ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZlYXR1cmUuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZmVhdHVyZS5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmZWF0dXJlLmF0dHJpYnV0ZXNba2V5XSA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZS5hdHRyaWJ1dGVzW2tleV0udHJpbSgpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWF0dXJlLmF0dHJpYnV0ZXNba2V5XS50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmZWF0dXJlLmF0dHJpYnV0ZXNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGRpcmVjdCB0ZXh0IHByb3BlcnR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlLnRleHQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmUudGV4dC50cmltKCkgIT09ICcnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWF0dXJlLnRleHQudHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZlYXR1cmUudGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZWRpdG9yIGlzIGluIHNwZWNpZmljIG1vZGVzIHRoYXQgbWlnaHQgY29udGFpbiB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZtLnN0YXRlID09PSAnZWRpdGluZycgfHwgdm0uc3RhdGUgPT09ICdjcmVhdGluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlVGVtcGxhdGUgPSB2bS5hY3RpdmVUZW1wbGF0ZSB8fCB2bS50ZW1wbGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZVRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlVGVtcGxhdGUubGFiZWwgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVUZW1wbGF0ZS5sYWJlbC50cmltKCkgIT09ICcnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGVtcGxhdGUubGFiZWwudHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmVUZW1wbGF0ZS5sYWJlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlVGVtcGxhdGUuZGVzY3JpcHRpb24gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVUZW1wbGF0ZS5kZXNjcmlwdGlvbi50cmltKCkgIT09ICcnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGVtcGxhdGUuZGVzY3JpcHRpb24udHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmVUZW1wbGF0ZS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gMTAuIEV4cGVyaWVuY2UgQnVpbGRlciBzcGVjaWZpYzogY2hlY2sgd2lkZ2V0IHN0YXRlXHJcbiAgICAgICAgICAgIGlmICgod2luZG93IGFzIGFueSkud2lkZ2V0U3RhdGUgJiYgKHdpbmRvdyBhcyBhbnkpLndpZGdldFN0YXRlLnRleHRDb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHdpbmRvdyBhcyBhbnkpLndpZGdldFN0YXRlLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyAxMS4gVHJ5IHRvIGNhcHR1cmUgZnJvbSByZWNlbnQgZXZlbnRzIC0gYSBtb3JlIGR5bmFtaWMgYXBwcm9hY2hcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIC8vIFNldHVwIGV2ZW50IGxpc3RlbmVycyBmb3IgdGV4dCBpbnB1dFxyXG4gICAgICAgICAgICAgICAgLy8gV2F0Y2ggZm9yIHBhc3RlIGV2ZW50cywga2V5ZG93biBldmVudHMsIGV0Yy5cclxuICAgICAgICAgICAgICAgIGxldCByZWNlbnRUZXh0ID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgaW5wdXQgZWxlbWVudHMgdGhhdCBtaWdodCBjb250YWluIHRoZSB0ZXh0XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0SW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInRleHRcIl0sIHRleHRhcmVhJyk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHRJbnB1dHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dCA9IHRleHRJbnB1dHNbaV0gYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQudmFsdWUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQudmFsdWUudHJpbSgpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlucHV0IGlzIHJlbGF0ZWQgdG8gbWFwIGxhYmVscyBvciB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzVGV4dExhYmVsID0gaW5wdXQuaWQ/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3RleHQnKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQubmFtZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygndGV4dCcpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5wbGFjZWhvbGRlcj8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygndGV4dCcpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5jbGFzc05hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygndGV4dCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVGV4dExhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlbnRUZXh0ID0gaW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVjZW50VGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWNlbnRUZXh0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gRXJyb3IgaGFuZGxpbmcgd2l0aG91dCBsb2dnaW5nXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcblxyXG4gICAgLy8gVHJ5IHRvIGNhcHR1cmUgdGhlIG1hcCB0ZXh0IGRpcmVjdGx5IHdoZW4gb3BlbmVkIC0gd2l0aCBhIHJldHJ5IG1lY2hhbmlzbVxyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAoIXNob3cpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gQWRkIGEgcmV0cnkgbWVjaGFuaXNtIHRvIGhhbmRsZSBjYXNlcyB3aGVyZSB0aGUgbWFwIG1pZ2h0IG5vdCBiZSBmdWxseSByZW5kZXJlZFxyXG4gICAgICAgIGNvbnN0IGF0dGVtcHRUb0ZpbmRUZXh0ID0gKGF0dGVtcHQgPSAwLCBtYXhBdHRlbXB0cyA9IDMpID0+IHtcclxuICAgICAgICAgICAgLy8gT25seSBydW4gdGhpcyBlZmZlY3Qgd2hlbiB0aGUgZWRpdG9yIGlzIHNob3duXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUcnkgdG8gZmluZCB0aGUgZGlzcGxheWVkIHRleHQgb24gdGhlIG1hcCBmaXJzdCB1c2luZyBET01cclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvbVRleHQgPSBmaW5kVGV4dEluRE9NKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9tVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRleHQoZG9tVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxEaXNwbGF5VGV4dFJlZi5jdXJyZW50ID0gZG9tVGV4dDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRleHRTeW1ib2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRleHRTeW1ib2wudGV4dCA9IGRvbVRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBTdWNjZXNzXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gc2VhcmNoaW5nIGluIGdyYXBoaWMvc3ltYm9sIG9iamVjdHNcclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGdsb2JhbCB2YXJpYWJsZXMgZm9yIHNlbGVjdGVkIHRleHRcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEVTUkkgc3BlY2lmaWM6IENoZWNrIGZvciBzZWxlY3RlZCB0ZXh0IGluIHRoZSBjdXJyZW50IHZpZXdcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHdpbmRvdyBhcyBhbnkpLmppbXVNYXBWaWV3Py52aWV3Py5wb3B1cD8uc2VsZWN0ZWRGZWF0dXJlPy5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSAod2luZG93IGFzIGFueSkuamltdU1hcFZpZXcudmlldy5wb3B1cC5zZWxlY3RlZEZlYXR1cmUuYXR0cmlidXRlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGNvbW1vbiB0ZXh0IGZpZWxkcyBpbiB0aGUgYXR0cmlidXRlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0RmllbGRzID0gWyduYW1lJywgJ2xhYmVsJywgJ3RleHQnLCAnZGVzY3JpcHRpb24nLCAndGl0bGUnLCAnZGlzcGxheV9uYW1lJywgJ2Rpc3BsYXluYW1lJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgdGV4dEZpZWxkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXNbZmllbGRdICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlc1tmaWVsZF0udHJpbSgpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbZmllbGRdLnRyaW0oKS50b0xvd2VyQ2FzZSgpICE9PSAndGV4dCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KGF0dHJpYnV0ZXNbZmllbGRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbERpc3BsYXlUZXh0UmVmLmN1cnJlbnQgPSBhdHRyaWJ1dGVzW2ZpZWxkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRleHRTeW1ib2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRleHRTeW1ib2wudGV4dCA9IGF0dHJpYnV0ZXNbZmllbGRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gU3VjY2Vzc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgYW55IGV4cGxpY2l0IHNlbGVjdGlvbnMgb3IgYWN0aXZlIHRleHQgZWxlbWVudHNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHdpbmRvdyBhcyBhbnkpLnNlbGVjdGVkR3JhcGhpY1RleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRUZXh0ID0gKHdpbmRvdyBhcyBhbnkpLnNlbGVjdGVkR3JhcGhpY1RleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFRleHQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkVGV4dC50cmltKCkgIT09ICcnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFRleHQudHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChzZWxlY3RlZFRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxEaXNwbGF5VGV4dFJlZi5jdXJyZW50ID0gc2VsZWN0ZWRUZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUZXh0U3ltYm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRleHRTeW1ib2wudGV4dCA9IHNlbGVjdGVkVGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBTdWNjZXNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlJ3MgYSBqaW11TWFwVmlldyB3aXRoIGFjdGl2ZS9zZWxlY3RlZCBncmFwaGljc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgod2luZG93IGFzIGFueSkuamltdU1hcFZpZXc/LnZpZXc/LmdyYXBoaWNzPy5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWV3ID0gKHdpbmRvdyBhcyBhbnkpLmppbXVNYXBWaWV3LnZpZXc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGaXJzdCBjaGVjayB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGdyYXBoaWMgZGlyZWN0bHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZpZXcucG9wdXAgJiYgdmlldy5wb3B1cC5zZWxlY3RlZEZlYXR1cmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkRmVhdHVyZSA9IHZpZXcucG9wdXAuc2VsZWN0ZWRGZWF0dXJlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkRmVhdHVyZS5zeW1ib2wgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEZlYXR1cmUuc3ltYm9sLnRleHQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEZlYXR1cmUuc3ltYm9sLnRleHQudHJpbSgpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRmVhdHVyZS5zeW1ib2wudGV4dC50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChzZWxlY3RlZEZlYXR1cmUuc3ltYm9sLnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRGlzcGxheVRleHRSZWYuY3VycmVudCA9IHNlbGVjdGVkRmVhdHVyZS5zeW1ib2wudGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRleHRTeW1ib2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRleHRTeW1ib2wudGV4dCA9IHNlbGVjdGVkRmVhdHVyZS5zeW1ib2wudGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIFN1Y2Nlc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlVGV4dFJlc3VsdCA9IGZpbmRUZXh0SW5PYmplY3Qoc2VsZWN0ZWRGZWF0dXJlLCAndmlldy5wb3B1cC5zZWxlY3RlZEZlYXR1cmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlVGV4dFJlc3VsdD8udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRleHQoZmVhdHVyZVRleHRSZXN1bHQudGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxEaXNwbGF5VGV4dFJlZi5jdXJyZW50ID0gZmVhdHVyZVRleHRSZXN1bHQudGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRleHRTeW1ib2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRleHRTeW1ib2wudGV4dCA9IGZlYXR1cmVUZXh0UmVzdWx0LnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBTdWNjZXNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExvb2sgZm9yIHNlbGVjdGVkIGdyYXBoaWNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkR3JhcGhpY3MgPSB2aWV3LmdyYXBoaWNzLml0ZW1zLmZpbHRlcigoZzogYW55KSA9PiBnLnNlbGVjdGVkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZyBvZiBzZWxlY3RlZEdyYXBoaWNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBnVGV4dFJlc3VsdCA9IGZpbmRUZXh0SW5PYmplY3QoZywgJ3ZpZXcuZ3JhcGhpY3Muc2VsZWN0ZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnVGV4dFJlc3VsdD8udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRleHQoZ1RleHRSZXN1bHQudGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxEaXNwbGF5VGV4dFJlZi5jdXJyZW50ID0gZ1RleHRSZXN1bHQudGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRleHRTeW1ib2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRleHRTeW1ib2wudGV4dCA9IGdUZXh0UmVzdWx0LnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBTdWNjZXNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIG5vIHNlbGVjdGVkIGdyYXBoaWNzIGZvdW5kIHdpdGggdGV4dCwgY2hlY2sgYWxsIGdyYXBoaWNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZyBvZiB2aWV3LmdyYXBoaWNzLml0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBnVGV4dFJlc3VsdCA9IGZpbmRUZXh0SW5PYmplY3QoZywgJ3ZpZXcuZ3JhcGhpY3MnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnVGV4dFJlc3VsdD8udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRleHQoZ1RleHRSZXN1bHQudGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxEaXNwbGF5VGV4dFJlZi5jdXJyZW50ID0gZ1RleHRSZXN1bHQudGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRleHRTeW1ib2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRleHRTeW1ib2wudGV4dCA9IGdUZXh0UmVzdWx0LnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBTdWNjZXNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFyY0dJUyBKYXZhU2NyaXB0IEFQSSBzcGVjaWZpYzogY2hlY2sgZm9yIGFjdGl2ZSBlZGl0b3Igd2lkZ2V0XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh3aW5kb3cgYXMgYW55KS5hY3RpdmVFZGl0b3JXaWRnZXQgJiYgKHdpbmRvdyBhcyBhbnkpLmFjdGl2ZUVkaXRvcldpZGdldC52aWV3TW9kZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWRpdG9yVk0gPSAod2luZG93IGFzIGFueSkuYWN0aXZlRWRpdG9yV2lkZ2V0LnZpZXdNb2RlbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlJ3MgYW4gYWN0aXZlIGZlYXR1cmUgYmVpbmcgZWRpdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZGl0b3JWTS5hY3RpdmVGZWF0dXJlIHx8IGVkaXRvclZNLmVkaXRGZWF0dXJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlID0gZWRpdG9yVk0uYWN0aXZlRmVhdHVyZSB8fCBlZGl0b3JWTS5lZGl0RmVhdHVyZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmVhdHVyZVRleHRSZXN1bHQgPSBmaW5kVGV4dEluT2JqZWN0KGZlYXR1cmUsICdlZGl0b3JWTS5mZWF0dXJlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZlYXR1cmVUZXh0UmVzdWx0Py50ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRleHQoZmVhdHVyZVRleHRSZXN1bHQudGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRGlzcGxheVRleHRSZWYuY3VycmVudCA9IGZlYXR1cmVUZXh0UmVzdWx0LnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGV4dFN5bWJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRleHRTeW1ib2wudGV4dCA9IGZlYXR1cmVUZXh0UmVzdWx0LnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIFN1Y2Nlc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGVkaXRvciBzdGF0ZXMgdGhhdCBtaWdodCBjb250YWluIHRoZSB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZGl0b3JWTS5zdGF0ZSAmJiBlZGl0b3JWTS5zdGF0ZSA9PT0gXCJlZGl0aW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVkaXRpbmdGZWF0dXJlID0gZWRpdG9yVk0uZWRpdGluZ0ZlYXR1cmUgfHwgZWRpdG9yVk0uZWRpdEZlYXR1cmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdGluZ0ZlYXR1cmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlVGV4dFJlc3VsdCA9IGZpbmRUZXh0SW5PYmplY3QoZWRpdGluZ0ZlYXR1cmUsICdlZGl0b3JWTS5lZGl0aW5nRmVhdHVyZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlVGV4dFJlc3VsdD8udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUZXh0KGZlYXR1cmVUZXh0UmVzdWx0LnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbERpc3BsYXlUZXh0UmVmLmN1cnJlbnQgPSBmZWF0dXJlVGV4dFJlc3VsdC50ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRleHRTeW1ib2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0U3ltYm9sLnRleHQgPSBmZWF0dXJlVGV4dFJlc3VsdC50ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBTdWNjZXNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gTm8gdGV4dCBmb3VuZFxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgLy8gRXJyb3IgaGFuZGxpbmcgd2l0aG91dCBsb2dnaW5nXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBUcnkgaW1tZWRpYXRlbHlcclxuICAgICAgICBjb25zdCBmb3VuZCA9IGF0dGVtcHRUb0ZpbmRUZXh0KCk7XHJcbiAgICAgICAgaWYgKGZvdW5kKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIElmIG5vdCBmb3VuZCwgcmV0cnkgYWZ0ZXIgYSBzaG9ydCBkZWxheSB0byBhbGxvdyBmb3IgcmVuZGVyaW5nXHJcbiAgICAgICAgY29uc3QgZGVsYXllZFNlYXJjaCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBmb3VuZE9uUmV0cnkgPSBhdHRlbXB0VG9GaW5kVGV4dCgxKTtcclxuICAgICAgICAgICAgaWYgKCFmb3VuZE9uUmV0cnkpIHtcclxuICAgICAgICAgICAgICAgIC8vIE9uZSBsYXN0IGF0dGVtcHQgd2l0aCBsb25nZXIgZGVsYXlcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gYXR0ZW1wdFRvRmluZFRleHQoMiksIDUwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCAxMDApO1xyXG5cclxuICAgICAgICAvLyBDbGVhbnVwXHJcbiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dChkZWxheWVkU2VhcmNoKTtcclxuICAgIH0sIFtzaG93LCBjdXJyZW50VGV4dFN5bWJvbF0pO1xyXG5cclxuICAgIC8vIEluaXRpYWxpemUgd2hlbiBzaG93biBvciBzeW1ib2wgY2hhbmdlc1xyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAoIWN1cnJlbnRUZXh0U3ltYm9sIHx8ICFzaG93KSByZXR1cm47XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIFN0b3JlIHJlZmVyZW5jZSB0byB0aGUgc3ltYm9sXHJcbiAgICAgICAgICAgIHNldFN5bWJvbChjdXJyZW50VGV4dFN5bWJvbCk7XHJcbiAgICAgICAgICAgIHNldEhhc0NoYW5nZXMoZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0IGluaXRpYWwgdGV4dCB1c2luZyBtdWx0aXBsZSBzdHJhdGVnaWVzXHJcblxyXG4gICAgICAgICAgICAvLyBGaXJzdCBjaGVjayBET00gZm9yIHZpc2libGUgdGV4dFxyXG4gICAgICAgICAgICBjb25zdCBkb21UZXh0ID0gZmluZFRleHRJbkRPTSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gVGhlbiBjaGVjayBFU1JJIHNwZWNpZmljIG9iamVjdHNcclxuICAgICAgICAgICAgY29uc3QgZXNyaVRleHQgPSBmaW5kVGV4dEluRXNyaU9iamVjdHMoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFN0YXJ0IHdpdGggdGhlIG9yaWdpbmFsIHRleHQgZnJvbSB0aGUgc3ltYm9sXHJcbiAgICAgICAgICAgIGxldCB0ZXh0Q29udGVudCA9IGdyYXBoaWM/LnN5bWJvbD8udGV4dCA/PyBjdXJyZW50VGV4dFN5bWJvbC50ZXh0O1xyXG5cclxuICAgICAgICAgICAgLy8gSXMgdGhpcyBhIGRlZmF1bHQgb3IgZW1wdHkgdGV4dCB2YWx1ZT9cclxuICAgICAgICAgICAgY29uc3QgaXNEZWZhdWx0VGV4dCA9XHJcbiAgICAgICAgICAgICAgICAhdGV4dENvbnRlbnQgfHxcclxuICAgICAgICAgICAgICAgIHRleHRDb250ZW50LnRyaW0oKS50b0xvd2VyQ2FzZSgpID09PSAndGV4dCcgfHxcclxuICAgICAgICAgICAgICAgIHRleHRDb250ZW50LnRyaW0oKSA9PT0gJyc7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiB3ZSBmb3VuZCB0ZXh0IGluIHRoZSBET00sIHByaW9yaXRpemUgdGhhdFxyXG4gICAgICAgICAgICBpZiAoZG9tVGV4dCAmJiBkb21UZXh0LnRyaW0oKS50b0xvd2VyQ2FzZSgpICE9PSAndGV4dCcpIHtcclxuICAgICAgICAgICAgICAgIHRleHRDb250ZW50ID0gZG9tVGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBPdGhlcndpc2UgY2hlY2sgRVNSSSBvYmplY3RzXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGVzcmlUZXh0ICYmIGVzcmlUZXh0LnRyaW0oKS50b0xvd2VyQ2FzZSgpICE9PSAndGV4dCcpIHtcclxuICAgICAgICAgICAgICAgIHRleHRDb250ZW50ID0gZXNyaVRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIGlmIHdlIGhhdmUgZGVmYXVsdCB0ZXh0LCB0cnkgdG8gZmluZCBzb21ldGhpbmcgYmV0dGVyXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRGVmYXVsdFRleHQpIHtcclxuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIDE6IFNlYXJjaCBncmFwaGljXHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JhcGhpYykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdyYXBoaWNUZXh0UmVzdWx0ID0gZmluZFRleHRJbk9iamVjdChncmFwaGljLCAnZ3JhcGhpYycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChncmFwaGljVGV4dFJlc3VsdD8udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29udGVudCA9IGdyYXBoaWNUZXh0UmVzdWx0LnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIDI6IFNlYXJjaCBzeW1ib2wgb2JqZWN0XHJcbiAgICAgICAgICAgICAgICBpZiAoKCF0ZXh0Q29udGVudCB8fCB0ZXh0Q29udGVudC50cmltKCkgPT09ICcnKSAmJiBjdXJyZW50VGV4dFN5bWJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN5bWJvbFRleHRSZXN1bHQgPSBmaW5kVGV4dEluT2JqZWN0KGN1cnJlbnRUZXh0U3ltYm9sLCAnc3ltYm9sJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN5bWJvbFRleHRSZXN1bHQ/LnRleHQgJiYgc3ltYm9sVGV4dFJlc3VsdC5wYXRoICE9PSAnc3ltYm9sLnRleHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb250ZW50ID0gc3ltYm9sVGV4dFJlc3VsdC50ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayAzOiBTZWFyY2ggd2luZG93IGNvbnRleHRcclxuICAgICAgICAgICAgICAgIGlmICgoIXRleHRDb250ZW50IHx8IHRleHRDb250ZW50LnRyaW0oKSA9PT0gJycpICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh3aW5kb3cgYXMgYW55KS5zZWxlY3RlZEdyYXBoaWNUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb250ZW50ID0gKHdpbmRvdyBhcyBhbnkpLnNlbGVjdGVkR3JhcGhpY1RleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBGaW5hbCBmYWxsYmFjayB0byBlbXB0eSBzdHJpbmdcclxuICAgICAgICAgICAgdGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudCB8fCAnJztcclxuICAgICAgICAgICAgb3JpZ2luYWxEaXNwbGF5VGV4dFJlZi5jdXJyZW50ID0gdGV4dENvbnRlbnQ7XHJcblxyXG4gICAgICAgICAgICAvLyBTeW5jIGJhY2sgdG8gc3ltYm9sIGlmIG5lZWRlZFxyXG4gICAgICAgICAgICBpZiAodGV4dENvbnRlbnQgIT09IGN1cnJlbnRUZXh0U3ltYm9sLnRleHQpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0U3ltYm9sLnRleHQgPSB0ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU2V0IHRoZSBVSSBzdGF0ZVxyXG4gICAgICAgICAgICBzZXRUZXh0KHRleHRDb250ZW50KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50VGV4dFN5bWJvbC5mb250KSB7XHJcbiAgICAgICAgICAgICAgICBzZXRGb250U2l6ZShjdXJyZW50VGV4dFN5bWJvbC5mb250LnNpemUgPz8gMTIpO1xyXG4gICAgICAgICAgICAgICAgc2V0Rm9udEZhbWlseShjdXJyZW50VGV4dFN5bWJvbC5mb250LmZhbWlseSA/PyAnQXJpYWwnKTtcclxuICAgICAgICAgICAgICAgIHNldEZvbnRXZWlnaHQoY3VycmVudFRleHRTeW1ib2wuZm9udC53ZWlnaHQgPz8gJ25vcm1hbCcpO1xyXG4gICAgICAgICAgICAgICAgc2V0Rm9udFN0eWxlKGN1cnJlbnRUZXh0U3ltYm9sLmZvbnQuc3R5bGUgPz8gJ25vcm1hbCcpO1xyXG4gICAgICAgICAgICAgICAgc2V0Rm9udERlY29yYXRpb24oY3VycmVudFRleHRTeW1ib2wuZm9udC5kZWNvcmF0aW9uID8/ICdub25lJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50VGV4dFN5bWJvbC5jb2xvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3JDc3MgPSBjdXJyZW50VGV4dFN5bWJvbC5jb2xvci50b0Nzc1xyXG4gICAgICAgICAgICAgICAgICAgID8gY3VycmVudFRleHRTeW1ib2wuY29sb3IudG9Dc3ModHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICA6ICcjMDAwMDAwJztcclxuICAgICAgICAgICAgICAgIHNldEZvbnRDb2xvcihjb2xvckNzcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZXRGb250Q29sb3IoJyMwMDAwMDAnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2V0Rm9udFJvdGF0aW9uKGN1cnJlbnRUZXh0U3ltYm9sLmFuZ2xlID8/IDApO1xyXG4gICAgICAgICAgICBzZXRIb3Jpem9udGFsQWxpZ25tZW50KChjdXJyZW50VGV4dFN5bWJvbC5ob3Jpem9udGFsQWxpZ25tZW50ID8/ICdjZW50ZXInKSBhcyBhbnkpO1xyXG4gICAgICAgICAgICBzZXRWZXJ0aWNhbEFsaWdubWVudCgoY3VycmVudFRleHRTeW1ib2wudmVydGljYWxBbGlnbm1lbnQgPz8gJ21pZGRsZScpIGFzIGFueSk7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiB3ZSBzdGlsbCBoYXZlIGRlZmF1bHQgdGV4dCwgcmV0cnkgYWZ0ZXIgYSBzaG9ydCBkZWxheVxyXG4gICAgICAgICAgICBpZiAodGV4dENvbnRlbnQudHJpbSgpID09PSAnJyB8fCB0ZXh0Q29udGVudC50cmltKCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUcnkgRE9NIGFnYWluIGFmdGVyIHJlbmRlclxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHJ5RG9tVGV4dCA9IGZpbmRUZXh0SW5ET00oKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmV0cnlEb21UZXh0ICYmIHJldHJ5RG9tVGV4dC50cmltKCkudG9Mb3dlckNhc2UoKSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRleHQocmV0cnlEb21UZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxEaXNwbGF5VGV4dFJlZi5jdXJyZW50ID0gcmV0cnlEb21UZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRleHRTeW1ib2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0U3ltYm9sLnRleHQgPSByZXRyeURvbVRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRIYXNDaGFuZ2VzKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJ5IEVTUkkgb2JqZWN0cyBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXRyeUVzcmlUZXh0ID0gZmluZFRleHRJbkVzcmlPYmplY3RzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXRyeUVzcmlUZXh0ICYmIHJldHJ5RXNyaVRleHQudHJpbSgpLnRvTG93ZXJDYXNlKCkgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGV4dChyZXRyeUVzcmlUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRGlzcGxheVRleHRSZWYuY3VycmVudCA9IHJldHJ5RXNyaVRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRleHRTeW1ib2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGV4dFN5bWJvbC50ZXh0ID0gcmV0cnlFc3JpVGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRIYXNDaGFuZ2VzKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgMzAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIEVycm9yIGhhbmRsaW5nIHdpdGhvdXQgbG9nZ2luZ1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtjdXJyZW50VGV4dFN5bWJvbCwgc2hvdywgZ3JhcGhpY10pO1xyXG5cclxuICAgIC8vIERJUkVDVCBQUk9QRVJUWSBVUERBVEUgRlVOQ1RJT05TXHJcbiAgICAvLyBUaGVzZSB1cGRhdGUgdGhlIGFjdHVhbCBzeW1ib2wgaW1tZWRpYXRlbHkgd2hlbiBhIHByb3BlcnR5IGNoYW5nZXNcclxuXHJcbiAgICBjb25zdCB1cGRhdGVUZXh0ID0gKG5ld1RleHQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGlmICghc3ltYm9sKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBVSSBzdGF0ZSAtIG1ha2Ugc3VyZSB0byBwcmVzZXJ2ZSBzcGFjZXNcclxuICAgICAgICBzZXRUZXh0KG5ld1RleHQpO1xyXG5cclxuICAgICAgICAvLyBEaXJlY3RseSB1cGRhdGUgdGhlIHN5bWJvbFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgdGV4dCBwcm9wZXJ0eSBpcyB1cGRhdGVkIG9uIHRoZSBzeW1ib2wgZGlyZWN0bHlcclxuICAgICAgICAgICAgLy8gYW5kIGVuc3VyZSBzcGFjZXMgYXJlIHByZXNlcnZlZFxyXG4gICAgICAgICAgICBzeW1ib2wudGV4dCA9IG5ld1RleHQ7XHJcblxyXG4gICAgICAgICAgICAvLyBBbHNvIHVwZGF0ZSB0aGUgb3JpZ2luYWwgZGlzcGxheSB0ZXh0IHJlZmVyZW5jZVxyXG4gICAgICAgICAgICBvcmlnaW5hbERpc3BsYXlUZXh0UmVmLmN1cnJlbnQgPSBuZXdUZXh0O1xyXG5cclxuICAgICAgICAgICAgLy8gVHJ5IHRvIHVwZGF0ZSB0aGUgdGV4dCBpbiBhbnkgZ2xvYmFsIHZhcmlhYmxlcyBvciBzZWxlY3RlZCBncmFwaGljc1xyXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgYml0IG9mIGEgaGFjaywgYnV0IG1pZ2h0IGhlbHAgdXBkYXRlIHRleHQgaW4gdGhlIEV4cGVyaWVuY2UgQnVpbGRlciBlbnZpcm9ubWVudFxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIGlmICgod2luZG93IGFzIGFueSkuc2VsZWN0ZWRHcmFwaGljVGV4dCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKHdpbmRvdyBhcyBhbnkpLnNlbGVjdGVkR3JhcGhpY1RleHQgPSBuZXdUZXh0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICgod2luZG93IGFzIGFueSkuamltdU1hcFZpZXcgJiYgKHdpbmRvdyBhcyBhbnkpLmppbXVNYXBWaWV3LnZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWV3ID0gKHdpbmRvdyBhcyBhbnkpLmppbXVNYXBWaWV3LnZpZXc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZpZXcuZ3JhcGhpY3MgJiYgdmlldy5ncmFwaGljcy5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZEdyYXBoaWNzID0gdmlldy5ncmFwaGljcy5pdGVtcy5maWx0ZXIoKGc6IGFueSkgPT4gZy5zZWxlY3RlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZyBvZiBzZWxlY3RlZEdyYXBoaWNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZy50ZXh0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnLnRleHQgPSBuZXdUZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGcuYXR0cmlidXRlcyAmJiBnLmF0dHJpYnV0ZXMudGV4dCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZy5hdHRyaWJ1dGVzLnRleHQgPSBuZXdUZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGcuc3ltYm9sICYmIGcuc3ltYm9sLnRleHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGcuc3ltYm9sLnRleHQgPSBuZXdUZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZXRIYXNDaGFuZ2VzKHRydWUpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgLy8gRXJyb3IgaGFuZGxpbmcgd2l0aG91dCBsb2dnaW5nXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVGb250U2l6ZSA9IChuZXdTaXplOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAoIXN5bWJvbCB8fCAhc3ltYm9sLmZvbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIFVJIHN0YXRlXHJcbiAgICAgICAgc2V0Rm9udFNpemUobmV3U2l6ZSk7XHJcblxyXG4gICAgICAgIC8vIERpcmVjdGx5IHVwZGF0ZSB0aGUgc3ltYm9sXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZm9udCA9IHN5bWJvbC5mb250LmNsb25lKCk7XHJcbiAgICAgICAgICAgIGZvbnQuc2l6ZSA9IG5ld1NpemU7XHJcbiAgICAgICAgICAgIHN5bWJvbC5mb250ID0gZm9udDtcclxuICAgICAgICAgICAgc2V0SGFzQ2hhbmdlcyh0cnVlKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIC8vIEVycm9yIGhhbmRsaW5nIHdpdGhvdXQgbG9nZ2luZ1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgdXBkYXRlRm9udENvbG9yID0gKG5ld0NvbG9yOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBpZiAoIXN5bWJvbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgVUkgc3RhdGVcclxuICAgICAgICBzZXRGb250Q29sb3IobmV3Q29sb3IpO1xyXG5cclxuICAgICAgICAvLyBEaXJlY3RseSB1cGRhdGUgdGhlIHN5bWJvbFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHN5bWJvbC5jb2xvciA9IG5ldyBDb2xvcihuZXdDb2xvcik7XHJcbiAgICAgICAgICAgIHNldEhhc0NoYW5nZXModHJ1ZSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBFcnJvciBoYW5kbGluZyB3aXRob3V0IGxvZ2dpbmdcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHVwZGF0ZUZvbnRGYW1pbHkgPSAobmV3RmFtaWx5OiBzdHJpbmcpID0+IHtcclxuICAgICAgICBpZiAoIXN5bWJvbCB8fCAhc3ltYm9sLmZvbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIFVJIHN0YXRlXHJcbiAgICAgICAgc2V0Rm9udEZhbWlseShuZXdGYW1pbHkpO1xyXG5cclxuICAgICAgICAvLyBEaXJlY3RseSB1cGRhdGUgdGhlIHN5bWJvbFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvbnQgPSBzeW1ib2wuZm9udC5jbG9uZSgpO1xyXG4gICAgICAgICAgICBmb250LmZhbWlseSA9IG5ld0ZhbWlseTtcclxuICAgICAgICAgICAgc3ltYm9sLmZvbnQgPSBmb250O1xyXG4gICAgICAgICAgICBzZXRIYXNDaGFuZ2VzKHRydWUpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgLy8gRXJyb3IgaGFuZGxpbmcgd2l0aG91dCBsb2dnaW5nXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVGb250V2VpZ2h0ID0gKG5ld1dlaWdodDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgaWYgKCFzeW1ib2wgfHwgIXN5bWJvbC5mb250KSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBVSSBzdGF0ZVxyXG4gICAgICAgIHNldEZvbnRXZWlnaHQobmV3V2VpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gRGlyZWN0bHkgdXBkYXRlIHRoZSBzeW1ib2xcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBmb250ID0gc3ltYm9sLmZvbnQuY2xvbmUoKTtcclxuICAgICAgICAgICAgZm9udC53ZWlnaHQgPSBuZXdXZWlnaHQgYXMgYW55O1xyXG4gICAgICAgICAgICBzeW1ib2wuZm9udCA9IGZvbnQ7XHJcbiAgICAgICAgICAgIHNldEhhc0NoYW5nZXModHJ1ZSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBFcnJvciBoYW5kbGluZyB3aXRob3V0IGxvZ2dpbmdcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHVwZGF0ZUZvbnRTdHlsZSA9IChuZXdTdHlsZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgaWYgKCFzeW1ib2wgfHwgIXN5bWJvbC5mb250KSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBVSSBzdGF0ZVxyXG4gICAgICAgIHNldEZvbnRTdHlsZShuZXdTdHlsZSk7XHJcblxyXG4gICAgICAgIC8vIERpcmVjdGx5IHVwZGF0ZSB0aGUgc3ltYm9sXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZm9udCA9IHN5bWJvbC5mb250LmNsb25lKCk7XHJcbiAgICAgICAgICAgIGZvbnQuc3R5bGUgPSBuZXdTdHlsZSBhcyBhbnk7XHJcbiAgICAgICAgICAgIHN5bWJvbC5mb250ID0gZm9udDtcclxuICAgICAgICAgICAgc2V0SGFzQ2hhbmdlcyh0cnVlKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIC8vIEVycm9yIGhhbmRsaW5nIHdpdGhvdXQgbG9nZ2luZ1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgdXBkYXRlRm9udERlY29yYXRpb24gPSAobmV3RGVjb3JhdGlvbjogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgaWYgKCFzeW1ib2wgfHwgIXN5bWJvbC5mb250KSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBVSSBzdGF0ZVxyXG4gICAgICAgIHNldEZvbnREZWNvcmF0aW9uKG5ld0RlY29yYXRpb24pO1xyXG5cclxuICAgICAgICAvLyBEaXJlY3RseSB1cGRhdGUgdGhlIHN5bWJvbFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvbnQgPSBzeW1ib2wuZm9udC5jbG9uZSgpO1xyXG4gICAgICAgICAgICBmb250LmRlY29yYXRpb24gPSBuZXdEZWNvcmF0aW9uIGFzIGFueTtcclxuICAgICAgICAgICAgc3ltYm9sLmZvbnQgPSBmb250O1xyXG4gICAgICAgICAgICBzZXRIYXNDaGFuZ2VzKHRydWUpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgLy8gRXJyb3IgaGFuZGxpbmcgd2l0aG91dCBsb2dnaW5nXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVGb250Um90YXRpb24gPSAobmV3Um90YXRpb246IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmICghc3ltYm9sKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBVSSBzdGF0ZVxyXG4gICAgICAgIHNldEZvbnRSb3RhdGlvbihuZXdSb3RhdGlvbik7XHJcblxyXG4gICAgICAgIC8vIERpcmVjdGx5IHVwZGF0ZSB0aGUgc3ltYm9sXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgc3ltYm9sLmFuZ2xlID0gbmV3Um90YXRpb247XHJcbiAgICAgICAgICAgIHNldEhhc0NoYW5nZXModHJ1ZSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBFcnJvciBoYW5kbGluZyB3aXRob3V0IGxvZ2dpbmdcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHVwZGF0ZUhvcml6b250YWxBbGlnbm1lbnQgPSAobmV3QWxpZ25tZW50OiAnbGVmdCcgfCAnY2VudGVyJyB8ICdyaWdodCcpID0+IHtcclxuICAgICAgICBpZiAoIXN5bWJvbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgVUkgc3RhdGVcclxuICAgICAgICBzZXRIb3Jpem9udGFsQWxpZ25tZW50KG5ld0FsaWdubWVudCk7XHJcblxyXG4gICAgICAgIC8vIERpcmVjdGx5IHVwZGF0ZSB0aGUgc3ltYm9sXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgc3ltYm9sLmhvcml6b250YWxBbGlnbm1lbnQgPSBuZXdBbGlnbm1lbnQ7XHJcbiAgICAgICAgICAgIHNldEhhc0NoYW5nZXModHJ1ZSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBFcnJvciBoYW5kbGluZyB3aXRob3V0IGxvZ2dpbmdcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHVwZGF0ZVZlcnRpY2FsQWxpZ25tZW50ID0gKG5ld0FsaWdubWVudDogJ3RvcCcgfCAnbWlkZGxlJyB8ICdib3R0b20nIHwgJ2Jhc2VsaW5lJykgPT4ge1xyXG4gICAgICAgIGlmICghc3ltYm9sKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBVSSBzdGF0ZVxyXG4gICAgICAgIHNldFZlcnRpY2FsQWxpZ25tZW50KG5ld0FsaWdubWVudCk7XHJcblxyXG4gICAgICAgIC8vIERpcmVjdGx5IHVwZGF0ZSB0aGUgc3ltYm9sXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgc3ltYm9sLnZlcnRpY2FsQWxpZ25tZW50ID0gbmV3QWxpZ25tZW50O1xyXG4gICAgICAgICAgICBzZXRIYXNDaGFuZ2VzKHRydWUpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgLy8gRXJyb3IgaGFuZGxpbmcgd2l0aG91dCBsb2dnaW5nXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVBcHBseSA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIXN5bWJvbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBJZiBubyBjaGFuZ2VzIHdlcmUgbWFkZSwganVzdCBjbG9zZVxyXG4gICAgICAgICAgICBpZiAoIWhhc0NoYW5nZXMpIHtcclxuICAgICAgICAgICAgICAgIG9uQ2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVGhlIHN5bWJvbCBoYXMgYWxyZWFkeSBiZWVuIHVwZGF0ZWQgd2l0aCBlYWNoIHByb3BlcnR5IGNoYW5nZVxyXG4gICAgICAgICAgICAvLyBIZXJlIHdlIGp1c3QgbmVlZCB0byBsZXQgdGhlIHBhcmVudCBjb21wb25lbnQga25vd1xyXG5cclxuICAgICAgICAgICAgLy8gTWFrZSBvbmUgZmluYWwgY2hlY2sgdG8gZW5zdXJlIHRleHQgaXMgc3luY2hyb25pemVkXHJcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbERpc3BsYXlUZXh0UmVmLmN1cnJlbnQgJiYgc3ltYm9sLnRleHQgIT09IG9yaWdpbmFsRGlzcGxheVRleHRSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgc3ltYm9sLnRleHQgPSBvcmlnaW5hbERpc3BsYXlUZXh0UmVmLmN1cnJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIENhbGwgdGhlIHBhcmVudCdzIHVwZGF0ZSBmdW5jdGlvblxyXG4gICAgICAgICAgICB1cGRhdGVTeW1ib2woc3ltYm9sKTtcclxuICAgICAgICAgICAgb25DbG9zZSgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIEVycm9yIGhhbmRsaW5nIHdpdGhvdXQgbG9nZ2luZ1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaWYgKCFzaG93KSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zdHlsZS1lZGl0b3IgcC0zXCI+XHJcbiAgICAgICAgICAgIDxMYWJlbCBjbGFzc05hbWU9XCJmb250LXdlaWdodC1zZW1pYm9sZFwiPkxhYmVsIFRleHQ8L0xhYmVsPlxyXG4gICAgICAgICAgICA8VGV4dElucHV0XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYi0yXCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXt0ZXh0fVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdXBkYXRlVGV4dChlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICBvbkFjY2VwdFZhbHVlPXt2YWx1ZSA9PiB1cGRhdGVUZXh0KHZhbHVlKX1cclxuICAgICAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHByZXNzaW5nIHNwYWNlIHdvcmtzIGNvcnJlY3RseVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJyAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgZGVmYXVsdCBpbiBjYXNlIHRoZXJlJ3MgYW55IHNwZWNpYWwgaGFuZGxpbmcgb2Ygc3BhY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHRleHQgd2l0aCBhIHNwYWNlIGFkZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVRleHQodGV4dCArICcgJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJFZGl0IGxhYmVsIHRleHRcIlxyXG4gICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICAgPExhYmVsIGNsYXNzTmFtZT1cImZvbnQtd2VpZ2h0LXNlbWlib2xkXCI+Rm9udCBTaXplPC9MYWJlbD5cclxuICAgICAgICAgICAgPE51bWVyaWNJbnB1dCBjbGFzc05hbWU9XCJtYi0yXCIgdmFsdWU9e2ZvbnRTaXplfSBtaW49ezF9IG1heD17MTIwfSBvbkNoYW5nZT17dXBkYXRlRm9udFNpemV9IGFyaWEtbGFiZWw9XCJGb250IHNpemVcIiAvPlxyXG5cclxuICAgICAgICAgICAgPExhYmVsIGNsYXNzTmFtZT1cImZvbnQtd2VpZ2h0LXNlbWlib2xkXCI+Rm9udCBDb2xvcjwvTGFiZWw+XHJcbiAgICAgICAgICAgIDxDb2xvclBpY2tlciBjb2xvcj17Zm9udENvbG9yfSBvbkNoYW5nZT17dXBkYXRlRm9udENvbG9yfSBjbGFzc05hbWU9XCJtYi0yXCIgYXJpYS1sYWJlbD1cIkZvbnQgY29sb3IgcGlja2VyXCIgLz5cclxuXHJcbiAgICAgICAgICAgIDxMYWJlbCBjbGFzc05hbWU9XCJmb250LXdlaWdodC1zZW1pYm9sZFwiPkZvbnQgRmFtaWx5PC9MYWJlbD5cclxuICAgICAgICAgICAgPFNlbGVjdCB2YWx1ZT17Zm9udEZhbWlseX0gb25DaGFuZ2U9e2UgPT4gdXBkYXRlRm9udEZhbWlseShlLnRhcmdldC52YWx1ZSl9IGNsYXNzTmFtZT1cIm1iLTJcIiBhcmlhLWxhYmVsPVwiRm9udCBmYW1pbHlcIj5cclxuICAgICAgICAgICAgICAgIHtbXHJcbiAgICAgICAgICAgICAgICAgICAgJ0FyaWFsJyxcclxuICAgICAgICAgICAgICAgICAgICAnQXZlbmlyIE5leHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICdKb3NlZmluIFNsYWInLFxyXG4gICAgICAgICAgICAgICAgICAgICdNZXJyaXdlYXRoZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICdNb250c2VycmF0JyxcclxuICAgICAgICAgICAgICAgICAgICAnTm90byBTYW5zJyxcclxuICAgICAgICAgICAgICAgICAgICAnTm90byBTZXJpZicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ09wZW4gU2FucycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1BsYXlmYWlyIERpc3BsYXknLFxyXG4gICAgICAgICAgICAgICAgICAgICdSb2JvdG8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdVYnVudHUnXHJcbiAgICAgICAgICAgICAgICBdLm1hcChmID0+IChcclxuICAgICAgICAgICAgICAgICAgICA8T3B0aW9uIGtleT17Zn0gdmFsdWU9e2Z9IHN0eWxlPXt7IGZvbnRGYW1pbHk6IGYgfX0+e2Z9PC9PcHRpb24+XHJcbiAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgPC9TZWxlY3Q+XHJcblxyXG4gICAgICAgICAgICA8TGFiZWwgY2xhc3NOYW1lPVwiZm9udC13ZWlnaHQtc2VtaWJvbGRcIj5Gb250IFN0eWxlPC9MYWJlbD5cclxuICAgICAgICAgICAgPEFkdmFuY2VkQnV0dG9uR3JvdXAgY2xhc3NOYW1lPVwibWItMiBkLWZsZXhcIj5cclxuICAgICAgICAgICAgICAgIDxCdXR0b24gaWNvbiBhY3RpdmU9e2ZvbnRXZWlnaHQgPT09ICdib2xkJ30gb25DbGljaz17KCkgPT4gdXBkYXRlRm9udFdlaWdodChmb250V2VpZ2h0ID09PSAnYm9sZCcgPyAnbm9ybWFsJyA6ICdib2xkJyl9IHRpdGxlPVwiQm9sZFwiIGFyaWEtbGFiZWw9XCJCb2xkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEljb24gaWNvbj17ZnNCb2xkSWNvbn0gLz5cclxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBpY29uIGFjdGl2ZT17Zm9udFN0eWxlID09PSAnaXRhbGljJ30gb25DbGljaz17KCkgPT4gdXBkYXRlRm9udFN0eWxlKGZvbnRTdHlsZSA9PT0gJ2l0YWxpYycgPyAnbm9ybWFsJyA6ICdpdGFsaWMnKX0gdGl0bGU9XCJJdGFsaWNcIiBhcmlhLWxhYmVsPVwiSXRhbGljXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEljb24gaWNvbj17Zkl0YWxpY0ljb259IC8+XHJcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDxCdXR0b24gaWNvbiBhY3RpdmU9e2ZvbnREZWNvcmF0aW9uID09PSAndW5kZXJsaW5lJ30gb25DbGljaz17KCkgPT4gdXBkYXRlRm9udERlY29yYXRpb24oZm9udERlY29yYXRpb24gPT09ICd1bmRlcmxpbmUnID8gJ25vbmUnIDogJ3VuZGVybGluZScpfSB0aXRsZT1cIlVuZGVybGluZVwiIGFyaWEtbGFiZWw9XCJVbmRlcmxpbmVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8SWNvbiBpY29uPXtmVW5kZXJsaW5lSWNvbn0gLz5cclxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICA8L0FkdmFuY2VkQnV0dG9uR3JvdXA+XHJcblxyXG4gICAgICAgICAgICA8TGFiZWwgY2xhc3NOYW1lPVwiZm9udC13ZWlnaHQtc2VtaWJvbGRcIj5Ib3Jpem9udGFsIEFsaWdubWVudDwvTGFiZWw+XHJcbiAgICAgICAgICAgIDxBZHZhbmNlZEJ1dHRvbkdyb3VwIGNsYXNzTmFtZT1cIm1iLTIgZC1mbGV4XCI+XHJcbiAgICAgICAgICAgICAgICA8QnV0dG9uIGljb24gYWN0aXZlPXtob3Jpem9udGFsQWxpZ25tZW50ID09PSAnbGVmdCd9IG9uQ2xpY2s9eygpID0+IHVwZGF0ZUhvcml6b250YWxBbGlnbm1lbnQoJ2xlZnQnKX0gdGl0bGU9XCJBbGlnbiBMZWZ0XCIgYXJpYS1sYWJlbD1cIkFsaWduIExlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8SWNvbiBpY29uPXtoQWxpZ25MZWZ0fSAvPlxyXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICA8QnV0dG9uIGljb24gYWN0aXZlPXtob3Jpem9udGFsQWxpZ25tZW50ID09PSAnY2VudGVyJ30gb25DbGljaz17KCkgPT4gdXBkYXRlSG9yaXpvbnRhbEFsaWdubWVudCgnY2VudGVyJyl9IHRpdGxlPVwiQWxpZ24gQ2VudGVyXCIgYXJpYS1sYWJlbD1cIkFsaWduIENlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxJY29uIGljb249e2hBbGlnbkNlbnRlcn0gLz5cclxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBpY29uIGFjdGl2ZT17aG9yaXpvbnRhbEFsaWdubWVudCA9PT0gJ3JpZ2h0J30gb25DbGljaz17KCkgPT4gdXBkYXRlSG9yaXpvbnRhbEFsaWdubWVudCgncmlnaHQnKX0gdGl0bGU9XCJBbGlnbiBSaWdodFwiIGFyaWEtbGFiZWw9XCJBbGlnbiBSaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxJY29uIGljb249e2hBbGlnblJpZ2h0fSAvPlxyXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgIDwvQWR2YW5jZWRCdXR0b25Hcm91cD5cclxuXHJcbiAgICAgICAgICAgIDxMYWJlbCBjbGFzc05hbWU9XCJmb250LXdlaWdodC1zZW1pYm9sZFwiPlZlcnRpY2FsIEFsaWdubWVudDwvTGFiZWw+XHJcbiAgICAgICAgICAgIDxBZHZhbmNlZEJ1dHRvbkdyb3VwIGNsYXNzTmFtZT1cIm1iLTMgZC1mbGV4XCI+XHJcbiAgICAgICAgICAgICAgICA8QnV0dG9uIGljb24gYWN0aXZlPXt2ZXJ0aWNhbEFsaWdubWVudCA9PT0gJ3RvcCd9IG9uQ2xpY2s9eygpID0+IHVwZGF0ZVZlcnRpY2FsQWxpZ25tZW50KCd0b3AnKX0gdGl0bGU9XCJBbGlnbiBUb3BcIiBhcmlhLWxhYmVsPVwiQWxpZ24gVG9wXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEljb24gaWNvbj17dkFsaWduVG9wfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICA8QnV0dG9uIGljb24gYWN0aXZlPXt2ZXJ0aWNhbEFsaWdubWVudCA9PT0gJ21pZGRsZSd9IG9uQ2xpY2s9eygpID0+IHVwZGF0ZVZlcnRpY2FsQWxpZ25tZW50KCdtaWRkbGUnKX0gdGl0bGU9XCJBbGlnbiBNaWRkbGVcIiBhcmlhLWxhYmVsPVwiQWxpZ24gTWlkZGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEljb24gaWNvbj17dkFsaWduTWlkfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICA8QnV0dG9uIGljb24gYWN0aXZlPXt2ZXJ0aWNhbEFsaWdubWVudCA9PT0gJ2JvdHRvbSd9IG9uQ2xpY2s9eygpID0+IHVwZGF0ZVZlcnRpY2FsQWxpZ25tZW50KCdib3R0b20nKX0gdGl0bGU9XCJBbGlnbiBCb3R0b21cIiBhcmlhLWxhYmVsPVwiQWxpZ24gQm90dG9tXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEljb24gaWNvbj17dkFsaWduQm90fSAvPlxyXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICA8QnV0dG9uIGljb24gYWN0aXZlPXt2ZXJ0aWNhbEFsaWdubWVudCA9PT0gJ2Jhc2VsaW5lJ30gb25DbGljaz17KCkgPT4gdXBkYXRlVmVydGljYWxBbGlnbm1lbnQoJ2Jhc2VsaW5lJyl9IHRpdGxlPVwiQWxpZ24gQmFzZWxpbmVcIiBhcmlhLWxhYmVsPVwiQWxpZ24gQmFzZWxpbmVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8SWNvbiBpY29uPXt2QWxpZ25CYXNlfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgIDwvQWR2YW5jZWRCdXR0b25Hcm91cD5cclxuXHJcbiAgICAgICAgICAgIDxMYWJlbCBjbGFzc05hbWU9XCJmb250LXdlaWdodC1zZW1pYm9sZFwiPlJvdGF0aW9uPC9MYWJlbD5cclxuICAgICAgICAgICAgPE51bWVyaWNJbnB1dCBjbGFzc05hbWU9XCJtYi0zXCIgdmFsdWU9e2ZvbnRSb3RhdGlvbn0gbWluPXstMzYwfSBtYXg9ezM2MH0gb25DaGFuZ2U9e3VwZGF0ZUZvbnRSb3RhdGlvbn0gYXJpYS1sYWJlbD1cIlJvdGF0aW9uIGFuZ2xlXCIgLz5cclxuXHJcbiAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17aGFuZGxlQXBwbHl9IHR5cGU9XCJwcmltYXJ5XCIgY2xhc3NOYW1lPVwidy0xMDBcIiB0aXRsZT1cIkFwcGx5IGNoYW5nZXMgYW5kIGNsb3NlXCIgYXJpYS1sYWJlbD1cIkFwcGx5IGFuZCBjbG9zZVwiPlxyXG4gICAgICAgICAgICAgICAgQXBwbHkgYW5kIENsb3NlXHJcbiAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxufTsiLCJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQ29sbGFwc2FibGVDaGVja2JveCwgQ2hlY2tib3gsIExhYmVsLCBTZWxlY3QsIE9wdGlvbiwgQWxlcnQsIE51bWVyaWNJbnB1dCwgQnV0dG9uLCBUZXh0SW5wdXQsIFNsaWRlciwgU3dpdGNoLCBBZHZhbmNlZEJ1dHRvbkdyb3VwLCBCdXR0b25Hcm91cCB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCB7IENvbG9yUGlja2VyIH0gZnJvbSAnamltdS11aS9iYXNpYy9jb2xvci1waWNrZXInXHJcbmltcG9ydCB7IFRyYXNoT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2VkaXRvci90cmFzaCdcclxuaW1wb3J0IHsgRWRpdE91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvZWRpdCdcclxuaW1wb3J0IEdyYXBoaWMgZnJvbSBcImVzcmkvR3JhcGhpY1wiO1xyXG5pbXBvcnQgUG9pbnQgZnJvbSAnZXNyaS9nZW9tZXRyeS9Qb2ludCc7XHJcbmltcG9ydCBQb2x5bGluZSBmcm9tICdlc3JpL2dlb21ldHJ5L1BvbHlsaW5lJztcclxuaW1wb3J0IFNwYXRpYWxSZWZlcmVuY2UgZnJvbSAnZXNyaS9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlJztcclxuaW1wb3J0IHByb2plY3RPcGVyYXRvciBmcm9tICdlc3JpL2dlb21ldHJ5L29wZXJhdG9ycy9wcm9qZWN0T3BlcmF0b3InO1xyXG5pbXBvcnQgZ2VvZGV0aWNBcmVhT3BlcmF0b3IgZnJvbSAnZXNyaS9nZW9tZXRyeS9vcGVyYXRvcnMvZ2VvZGV0aWNBcmVhT3BlcmF0b3InO1xyXG5pbXBvcnQgZ2VvZGV0aWNMZW5ndGhPcGVyYXRvciBmcm9tICdlc3JpL2dlb21ldHJ5L29wZXJhdG9ycy9nZW9kZXRpY0xlbmd0aE9wZXJhdG9yJztcclxuaW1wb3J0IGFyZWFPcGVyYXRvciBmcm9tICdlc3JpL2dlb21ldHJ5L29wZXJhdG9ycy9hcmVhT3BlcmF0b3InXHJcbmltcG9ydCBsZW5ndGhPcGVyYXRvciBmcm9tICdlc3JpL2dlb21ldHJ5L29wZXJhdG9ycy9sZW5ndGhPcGVyYXRvcidcclxuaW1wb3J0IENvbG9yIGZyb20gJ2VzcmkvQ29sb3InO1xyXG5pbXBvcnQgVGV4dFN5bWJvbCBmcm9tICdAYXJjZ2lzL2NvcmUvc3ltYm9scy9UZXh0U3ltYm9sJztcclxuaW1wb3J0IFNpbXBsZU1hcmtlclN5bWJvbCBmcm9tICdlc3JpL3N5bWJvbHMvU2ltcGxlTWFya2VyU3ltYm9sJztcclxuXHJcbi8vIEltcG9ydCBSZWFjdCBob29rcyBwcm9wZXJseVxyXG5jb25zdCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlSW1wZXJhdGl2ZUhhbmRsZSwgZm9yd2FyZFJlZiB9ID0gUmVhY3RcclxuXHJcbmludGVyZmFjZSBFeHRlbmRlZEdyYXBoaWMgZXh0ZW5kcyBfX2VzcmkuR3JhcGhpYyB7XHJcblx0bWVhc3VyZT86IHtcclxuXHRcdGdyYXBoaWM6IEV4dGVuZGVkR3JhcGhpYztcclxuXHRcdGFyZWFVbml0Pzogc3RyaW5nO1xyXG5cdFx0bGVuZ3RoVW5pdD86IHN0cmluZztcclxuXHR9O1xyXG5cdG1lYXN1cmVQYXJlbnQ/OiBFeHRlbmRlZEdyYXBoaWM7XHJcblx0Y2hlY2tlZD86IGJvb2xlYW47XHJcblx0b3JpZ2luYWxTeW1ib2w/OiBhbnk7XHJcblx0X3NlbGVjdGlvbk92ZXJsYXk/OiBfX2VzcmkuR3JhcGhpYztcclxuXHRfZHJhZ0hhbmRsZT86IF9fZXNyaS5HcmFwaGljO1xyXG5cdF9sYXN0Q2xpY2tUaW1lPzogbnVtYmVyO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTWVhc3VyZWRHcmFwaGljIGV4dGVuZHMgX19lc3JpLkdyYXBoaWMge1xyXG5cdG1lYXN1cmU/OiB7XHJcblx0XHRncmFwaGljOiBfX2VzcmkuR3JhcGhpYztcclxuXHR9O1xyXG5cdGF0dHJpYnV0ZXM6IHtcclxuXHRcdFtrZXk6IHN0cmluZ106IGFueTtcclxuXHRcdHVuaXF1ZUlkPzogc3RyaW5nO1xyXG5cdFx0cmVsYXRlZFNlZ21lbnRMYWJlbHM/OiBfX2VzcmkuR3JhcGhpY1tdO1xyXG5cdH07XHJcbn1cclxuXHJcbmludGVyZmFjZSBNZWFzdXJlUHJvcHMge1xyXG5cdG5sczogKGlkOiBzdHJpbmcpID0+IHN0cmluZztcclxuXHRjb25maWc6IGFueTtcclxuXHRkcmF3TGF5ZXI6IGFueTtcclxuXHRjdXJyZW50VGV4dFN5bWJvbDogYW55O1xyXG5cdHNrZXRjaFZpZXdNb2RlbDogYW55O1xyXG5cdGN1cnJlbnRUb29sOiBzdHJpbmc7XHJcblx0c2hvd1RleHRQcmV2aWV3OiBib29sZWFuO1xyXG5cdGN1cnJlbnRTeW1ib2w6IGFueTtcclxuXHRqaW11TWFwVmlldz86IGFueTtcclxuXHRpc0RyYXdpbmdBY3RpdmU6IGJvb2xlYW47XHJcblx0bWVhc3VyZW1lbnRFbmFibGVkPzogYm9vbGVhbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIE1lYXN1cmVSZWYge1xyXG5cdHVwZGF0ZU1lYXN1cmVtZW50c0ZvckdyYXBoaWM6IChncmFwaGljOiBFeHRlbmRlZEdyYXBoaWMpID0+IHZvaWQ7XHJcblx0ZW5hYmxlTWVhc3VyZW1lbnRzOiAoKSA9PiB2b2lkO1xyXG5cdGRpc2FibGVNZWFzdXJlbWVudHM6ICgpID0+IHZvaWQ7XHJcblx0cmVmcmVzaEFsbE1lYXN1cmVtZW50czogKCkgPT4gdm9pZDtcclxuXHRpc01lYXN1cmVtZW50RW5hYmxlZDogKCkgPT4gYm9vbGVhbjsgICAvLyDinpUgQWRkZWQ6IGV4cG9zZSBjaGVja2JveCBzdGF0ZVxyXG5cdGlzQnVzeTogKCkgPT4gYm9vbGVhbjtcclxuXHRoYW5kbGVNZWFzdXJlbWVudExhYmVsU2VsZWN0aW9uOiAobGFiZWxHcmFwaGljOiBhbnkpID0+IHZvaWQ7XHJcblx0Y2xlYW51cE1lYXN1cmVtZW50TGFiZWxTZWxlY3Rpb246ICgpID0+IHZvaWQ7XHJcblx0aXNFZGl0aW5nTWVhc3VyZW1lbnRzOiAoKSA9PiBib29sZWFuO1xyXG5cdHN0YXJ0TGFiZWxEcmFnOiAobGFiZWxHcmFwaGljOiBFeHRlbmRlZEdyYXBoaWMsIHNjcmVlblBvaW50PzogYW55KSA9PiB2b2lkO1xyXG5cdHN0b3BMYWJlbERyYWc6ICgpID0+IHZvaWQ7XHJcblx0cmVzZXRMYWJlbFBvc2l0aW9uOiAoKSA9PiB2b2lkO1xyXG5cdGlzRHJhZ2dpbmc6ICgpID0+IGJvb2xlYW47XHJcbn1cclxuXHJcbi8vIFByb3BlciBmb3J3YXJkUmVmIHN0cnVjdHVyZVxyXG5jb25zdCBNZWFzdXJlID0gZm9yd2FyZFJlZjxNZWFzdXJlUmVmLCBNZWFzdXJlUHJvcHM+KChwcm9wcywgcmVmKSA9PiB7XHJcblx0Y29uc3QgZHJhd0xheWVyID0gcHJvcHMuZHJhd0xheWVyXHJcblx0Y29uc3QgY3VycmVudFRleHRTeW1ib2wgPSBwcm9wcy5jdXJyZW50VGV4dFN5bWJvbFxyXG5cdGNvbnN0IHNrZXRjaFZpZXdNb2RlbCA9IHByb3BzLnNrZXRjaFZpZXdNb2RlbFxyXG5cdGNvbnN0IGN1cnJlbnRUb29sID0gcHJvcHMuY3VycmVudFRvb2xcclxuXHRjb25zdCBzaG93VGV4dFByZXZpZXcgPSBwcm9wcy5zaG93VGV4dFByZXZpZXdcclxuXHJcblx0Ly8gTWFwIHZpZXcgcmVmZXJlbmNlIGZvciBmb3JjaW5nIHJlZnJlc2hlc1xyXG5cdGxldCBjdXJyZW50TWFwVmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3IHwgbnVsbCA9IG51bGw7XHJcblxyXG5cdC8vIEFsbCB1c2VSZWYgY2FsbHMgbW92ZWQgdG8gdGhlIHRvcCBsZXZlbCBvZiB0aGUgY29tcG9uZW50XHJcblx0Y29uc3QgbWVhc3VyZUVuYWJsZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xyXG5cdGNvbnN0IGVkaXRhYmxlTWVhc3VyZW1lbnRzUmVmID0gdXNlUmVmKGZhbHNlKTtcclxuXHJcblx0Ly8g8J+UpyBORVc6IFN0b3JlIGxpc3RlbmVycyBpbiByZWZzIGZvciBpbW1lZGlhdGUgc3luY2hyb25vdXMgYWNjZXNzXHJcblx0Y29uc3QgdXBkYXRlTGlzdGVuZXJSZWYgPSB1c2VSZWYobnVsbCk7XHJcblx0Y29uc3QgY3JlYXRlTGlzdGVuZXJSZWYgPSB1c2VSZWYobnVsbCk7XHJcblx0Y29uc3QgcmVtb3ZhbExpc3RlbmVyUmVmID0gdXNlUmVmKG51bGwpO1xyXG5cclxuXHQvLyDwn5SnIE5FVzogR3VhcmQgYWdhaW5zdCBDb2xsYXBzYWJsZUNoZWNrYm94IGZpcmluZyBvbkNoZWNrZWRDaGFuZ2UgZHVyaW5nIG1vdW50XHJcblx0Y29uc3QgaXNJbml0aWFsTW91bnQgPSB1c2VSZWYodHJ1ZSk7XHJcblxyXG5cdGNvbnN0IHNldHRpbmdzUmVmID0gdXNlUmVmKHtcclxuXHRcdGRpc3RhbmNlVW5pdDogbnVsbCxcclxuXHRcdGFyZWFVbml0OiBudWxsLFxyXG5cdFx0c2VnbWVudHNPbjogZmFsc2UsXHJcblx0XHRsZW5ndGhPbjogdHJ1ZSxcclxuXHRcdGFyZWFPbjogdHJ1ZSxcclxuXHRcdHBlcmltZXRlck9uOiB0cnVlLFxyXG5cdFx0cmFkaXVzT246IHRydWUsXHJcblx0XHRwb2ludFJvdW5kOiA1LFxyXG5cdFx0b3RoZXJSb3VuZDogMixcclxuXHRcdHJvdGF0ZVNlZ21lbnRzOiB0cnVlXHJcblx0fSk7XHJcblxyXG5cdC8vIENvbmN1cnJlbmN5IHByb3RlY3Rpb25cclxuXHRjb25zdCBwcm9jZXNzaW5nUXVldWUgPSB1c2VSZWYobmV3IFNldCgpKTtcclxuXHRjb25zdCBtZWFzdXJlbWVudExvY2sgPSB1c2VSZWYoZmFsc2UpO1xyXG5cclxuXHQvLyBNb3ZlIGRlYm91bmNlIGZ1bmN0aW9uIHRvIHRvcCB0byBhdm9pZCBob2lzdGluZyBpc3N1ZXNcclxuXHRjb25zdCBkZWJvdW5jZSA9IChmdW5jLCB3YWl0KSA9PiB7XHJcblx0XHRsZXQgdGltZW91dDtcclxuXHRcdHJldHVybiBmdW5jdGlvbiBleGVjdXRlZEZ1bmN0aW9uKC4uLmFyZ3MpIHtcclxuXHRcdFx0Y29uc3QgbGF0ZXIgPSAoKSA9PiB7XHJcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG5cdFx0XHRcdGZ1bmMoLi4uYXJncyk7XHJcblx0XHRcdH07XHJcblx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuXHRcdFx0dGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRjb25zdCBpc1RleHRTeW1ib2wgPSAoc3ltYm9sOiBhbnkpOiBzeW1ib2wgaXMgX19lc3JpLlRleHRTeW1ib2wgPT4ge1xyXG5cdFx0cmV0dXJuIHN5bWJvbCAmJlxyXG5cdFx0XHR0eXBlb2Ygc3ltYm9sID09PSAnb2JqZWN0JyAmJlxyXG5cdFx0XHRzeW1ib2wudHlwZSA9PT0gJ3RleHQnICYmXHJcblx0XHRcdHR5cGVvZiBzeW1ib2wudGV4dCA9PT0gJ3N0cmluZyc7XHJcblx0fVxyXG5cclxuXHQvL0J1aWx0LWluIHVuaXRzXHJcblx0Y29uc3QgZGVmYXVsdEFyZWFVbml0cyA9IFtcclxuXHRcdHsgdW5pdDogJ3NxdWFyZS1raWxvbWV0ZXJzJywgbGFiZWw6IHByb3BzLm5scygnc3F1YXJlS2lsb21ldGVycycpIHx8ICdTcXVhcmUgS2lsb21ldGVycycsIGFiYnJldmlhdGlvbjogJ2ttwrInLCBjb252ZXJzaW9uOiAwLjAwMDAwMSB9LFxyXG5cdFx0eyB1bml0OiAnc3F1YXJlLW1pbGVzJywgbGFiZWw6IHByb3BzLm5scygnc3F1YXJlTWlsZXMnKSB8fCAnU3F1YXJlIE1pbGVzJywgYWJicmV2aWF0aW9uOiAnbWnCsicsIGNvbnZlcnNpb246IDMuODYxMDJlLTcgfSxcclxuXHRcdHsgdW5pdDogJ2FjcmVzJywgbGFiZWw6IHByb3BzLm5scygnYWNyZXMnKSB8fCAnQWNyZXMnLCBhYmJyZXZpYXRpb246ICdhYycsIGNvbnZlcnNpb246IDAuMDAwMjQ3MTA1IH0sXHJcblx0XHR7IHVuaXQ6ICdoZWN0YXJlcycsIGxhYmVsOiBwcm9wcy5ubHMoJ2hlY3RhcmVzJykgfHwgJ0hlY3RhcmVzJywgYWJicmV2aWF0aW9uOiAnaGEnLCBjb252ZXJzaW9uOiAwLjAwMDEgfSxcclxuXHRcdHsgdW5pdDogJ3NxdWFyZS1tZXRlcnMnLCBsYWJlbDogcHJvcHMubmxzKCdzcXVhcmVNZXRlcnMnKSB8fCAnU3F1YXJlIE1ldGVycycsIGFiYnJldmlhdGlvbjogJ23CsicsIGNvbnZlcnNpb246IDEgfSxcclxuXHRcdHsgdW5pdDogJ3NxdWFyZS1mZWV0JywgbGFiZWw6IHByb3BzLm5scygnc3F1YXJlRmVldCcpIHx8ICdTcXVhcmUgRmVldCcsIGFiYnJldmlhdGlvbjogJ2Z0wrInLCBjb252ZXJzaW9uOiAxMC43NjM5IH0sXHJcblx0XHR7IHVuaXQ6ICdzcXVhcmUteWFyZHMnLCBsYWJlbDogcHJvcHMubmxzKCdzcXVhcmVZYXJkcycpIHx8ICdTcXVhcmUgWWFyZHMnLCBhYmJyZXZpYXRpb246ICd5ZMKyJywgY29udmVyc2lvbjogMS4xOTU5OSB9XHJcblx0XTtcclxuXHJcblx0Y29uc3QgZGVmYXVsdERpc3RhbmNlVW5pdHMgPSBbXHJcblx0XHR7IHVuaXQ6ICdraWxvbWV0ZXJzJywgbGFiZWw6IHByb3BzLm5scygna2lsb21ldGVycycpIHx8ICdLaWxvbWV0ZXJzJywgYWJicmV2aWF0aW9uOiAna20nLCBjb252ZXJzaW9uOiAwLjAwMSB9LFxyXG5cdFx0eyB1bml0OiAnbWlsZXMnLCBsYWJlbDogcHJvcHMubmxzKCdtaWxlcycpIHx8ICdNaWxlcycsIGFiYnJldmlhdGlvbjogJ21pJywgY29udmVyc2lvbjogMC4wMDA2MjEzNzEgfSxcclxuXHRcdHsgdW5pdDogJ21ldGVycycsIGxhYmVsOiBwcm9wcy5ubHMoJ21ldGVycycpIHx8ICdNZXRlcnMnLCBhYmJyZXZpYXRpb246ICdtJywgY29udmVyc2lvbjogMSB9LFxyXG5cdFx0eyB1bml0OiAnbmF1dGljYWwtbWlsZXMnLCBsYWJlbDogcHJvcHMubmxzKCduYXV0aWNhbHMnKSB8fCAnTmF1dGljYWwgTWlsZXMnLCBhYmJyZXZpYXRpb246ICdOTScsIGNvbnZlcnNpb246IDAuMDAwNTM5OTU3IH0sXHJcblx0XHR7IHVuaXQ6ICdmZWV0JywgbGFiZWw6IHByb3BzLm5scygnZmVldCcpIHx8ICdGZWV0JywgYWJicmV2aWF0aW9uOiAnZnQnLCBjb252ZXJzaW9uOiAzLjI4MDg0IH0sXHJcblx0XHR7IHVuaXQ6ICd5YXJkcycsIGxhYmVsOiBwcm9wcy5ubHMoJ3lhcmRzJykgfHwgJ1lhcmRzJywgYWJicmV2aWF0aW9uOiAneWQnLCBjb252ZXJzaW9uOiAxLjA5MzYxIH1cclxuXHRdO1xyXG5cclxuXHQvL2NvbWJpbmUgYnVpbHQtaW4gYW5kIHVzZXIgZGVmaW5lZCB1bml0c1xyXG5cdGNvbnN0IGRpc3RhbmNlVW5pdHMgPSBbLi4uZGVmYXVsdERpc3RhbmNlVW5pdHMsIC4uLnByb3BzLmNvbmZpZy51c2VyRGlzdGFuY2VzXVxyXG5cdGNvbnN0IGFyZWFVbml0cyA9IFsuLi5kZWZhdWx0QXJlYVVuaXRzLCAuLi5wcm9wcy5jb25maWcudXNlckFyZWFzXVxyXG5cclxuXHQvLyBOT1cgdGhlIHN0YXRlIHZhcmlhYmxlcyBjYW4gdXNlIGRpc3RhbmNlVW5pdHMgYW5kIGFyZWFVbml0c1xyXG5cdGNvbnN0IFtkaXN0YW5jZVVuaXQsIHNldERpc3RhbmNlVW5pdF0gPSB1c2VTdGF0ZShkaXN0YW5jZVVuaXRzW3Byb3BzLmNvbmZpZy5kZWZhdWx0RGlzdGFuY2VdIHx8IGRpc3RhbmNlVW5pdHNbMF0pXHJcblx0Y29uc3QgW2FyZWFVbml0LCBzZXRBcmVhVW5pdF0gPSB1c2VTdGF0ZShhcmVhVW5pdHNbcHJvcHMuY29uZmlnLmRlZmF1bHRBcmVhXSB8fCBhcmVhVW5pdHNbMF0pXHJcblx0Y29uc3QgW2F2YWlsYWJsZURpc3RhbmNlVW5pdHMsIHNldEF2YWlsYWJsZURpc3RhbmNlVW5pdHNdID0gdXNlU3RhdGUoZGlzdGFuY2VVbml0cylcclxuXHRjb25zdCBbYXZhaWxhYmxlQXJlYVVuaXRzLCBzZXRBdmFpbGFibGVBcmVhVW5pdHNdID0gdXNlU3RhdGUoYXJlYVVuaXRzKVxyXG5cdGNvbnN0IFttZWFzdXJlRW5hYmxlZCwgc2V0TWVhc3VyZUVuYWJsZWRTdGF0ZV0gPSB1c2VTdGF0ZShmYWxzZSlcclxuXHJcblx0Y29uc3Qgc2V0TWVhc3VyZUVuYWJsZWQgPSAodmFsdWU6IGJvb2xlYW4pID0+IHtcclxuXHRcdC8vY29uc29sZS5sb2coJ/CflKcgc2V0TWVhc3VyZUVuYWJsZWQgY2FsbGVkOicsIHZhbHVlLCAnU3RhY2sgdHJhY2U6JywgbmV3IEVycm9yKCkuc3RhY2spO1xyXG5cdFx0c2V0TWVhc3VyZUVuYWJsZWRTdGF0ZSh2YWx1ZSk7XHJcblx0fTtcclxuXHRjb25zdCBbdXBkYXRlTGlzdGVuZXIsIHNldFVwZGF0ZUxpc3RlbmVyXSA9IHVzZVN0YXRlKG51bGwpXHJcblx0Y29uc3QgW2NyZWF0ZUxpc3RlbmVyLCBzZXRDcmVhdGVMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKVxyXG5cdGNvbnN0IFtyZW1vdmFsTGlzdGVuZXIsIHNldFJlbW92YWxMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKVxyXG5cdGNvbnN0IFt4eSwgc2V0WHldID0gdXNlU3RhdGUoZmFsc2UpXHJcblx0Y29uc3QgW2xhdExvbmcsIHNldExhdExvbmddID0gdXNlU3RhdGUodHJ1ZSlcclxuXHRjb25zdCBbd2tpZCwgc2V0V2tpZF0gPSB1c2VTdGF0ZShmYWxzZSlcclxuXHRjb25zdCBbbGVuZ3RoT24sIHNldExlbmd0aE9uXSA9IHVzZVN0YXRlKHRydWUpXHJcblx0Y29uc3QgW2FyZWFPbiwgc2V0QXJlYU9uXSA9IHVzZVN0YXRlKHRydWUpXHJcblx0Y29uc3QgW3BlcmltZXRlck9uLCBzZXRQZXJpbWV0ZXJPbl0gPSB1c2VTdGF0ZSh0cnVlKVxyXG5cdGNvbnN0IFtyYWRpdXNPbiwgc2V0UmFkaXVzT25dID0gdXNlU3RhdGUodHJ1ZSlcclxuXHRjb25zdCBbc2VnbWVudHNPbiwgc2V0U2VnbWVudHNPbl0gPSB1c2VTdGF0ZShmYWxzZSlcclxuXHRjb25zdCBbcm90YXRlU2VnbWVudHMsIHNldFJvdGF0ZVNlZ21lbnRzXSA9IHVzZVN0YXRlKHRydWUpXHJcblx0Y29uc3QgW2N1cnJlbnRHcmFwaGljLCBzZXRDdXJyZW50R3JhcGhpY10gPSB1c2VTdGF0ZShudWxsKVxyXG5cdGNvbnN0IFt0b29sVHlwZSwgc2V0VG9vbFR5cGVdID0gdXNlU3RhdGUoY3VycmVudFRvb2wpXHJcblx0Y29uc3QgW3Rvb2x0aXBzLCBzZXRUb29sdGlwc10gPSB1c2VTdGF0ZShmYWxzZSlcclxuXHRjb25zdCBbcG9pbnRSb3VuZCwgc2V0UG9pbnRSb3VuZF0gPSB1c2VTdGF0ZSg1KVxyXG5cdGNvbnN0IFtvdGhlclJvdW5kLCBzZXRPdGhlclJvdW5kXSA9IHVzZVN0YXRlKDIpXHJcblxyXG5cdC8vIFRyYWNrIHByb2Nlc3NlZCBncmFwaGljcyB0byBwcmV2ZW50IGR1cGxpY2F0ZSBsYWJlbHNcclxuXHRjb25zdCBbcHJvY2Vzc2VkR3JhcGhpY3MsIHNldFByb2Nlc3NlZEdyYXBoaWNzXSA9IHVzZVN0YXRlKG5ldyBTZXQoKSlcclxuXHJcblx0Ly8gUHJvY2Vzc2luZyBzdGF0ZSB0cmFja2luZ1xyXG5cdGNvbnN0IFtpc1Byb2Nlc3NpbmdNZWFzdXJlbWVudHMsIHNldElzUHJvY2Vzc2luZ01lYXN1cmVtZW50c10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblx0Y29uc3QgW2FjdGl2ZUV2ZW50cywgc2V0QWN0aXZlRXZlbnRzXSA9IHVzZVN0YXRlKG5ldyBTZXQoKSk7XHJcblxyXG5cdC8vIE1pbmltYWwgdGhyb3R0bGluZyBvbmx5IGZvciBjb21wbGV0ZSBldmVudHMsIG5vdCBhY3RpdmVcclxuXHRjb25zdCBbY29tcGxldGVUaW1lb3V0cywgc2V0Q29tcGxldGVUaW1lb3V0c10gPSB1c2VTdGF0ZShuZXcgTWFwKCkpXHJcblx0Y29uc3QgQ09NUExFVEVfVEhST1RUTEVfREVMQVkgPSAxMDA7XHJcblxyXG5cdC8vIFdhdGNoIGZvciBleHRlcm5hbCBncmFwaGljIGNoYW5nZXMgKGZyb20gTXlEcmF3aW5nc1BhbmVsKVxyXG5cdGNvbnN0IFtsYXllcldhdGNoZXIsIHNldExheWVyV2F0Y2hlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuXHJcblx0Ly8gTWVhc3VyZW1lbnQgbGFiZWwgZWRpdGluZyBzdGF0ZXNcclxuXHRjb25zdCBbZWRpdGFibGVNZWFzdXJlbWVudHMsIHNldEVkaXRhYmxlTWVhc3VyZW1lbnRzXSA9IHVzZVN0YXRlKGZhbHNlKVxyXG5cdGNvbnN0IFtzZWxlY3RlZE1lYXN1cmVtZW50TGFiZWwsIHNldFNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbF0gPSB1c2VTdGF0ZShudWxsKVxyXG5cdGNvbnN0IFttZWFzdXJlbWVudFRleHRTeW1ib2wsIHNldE1lYXN1cmVtZW50VGV4dFN5bWJvbF0gPSB1c2VTdGF0ZShudWxsKVxyXG5cdGNvbnN0IFttZWFzdXJlbWVudENsaWNrTGlzdGVuZXIsIHNldE1lYXN1cmVtZW50Q2xpY2tMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKVxyXG5cclxuXHQvLyBUZXh0IGVkaXRpbmcgc3RhdGVzIGZvciBtZWFzdXJlbWVudCBsYWJlbHNcclxuXHRjb25zdCBbbWVhc3VyZW1lbnRGb250Q29sb3IsIHNldE1lYXN1cmVtZW50Rm9udENvbG9yXSA9IHVzZVN0YXRlKCdyZ2JhKDAsMCwwLDEpJylcclxuXHRjb25zdCBbbWVhc3VyZW1lbnRGb250U2l6ZSwgc2V0TWVhc3VyZW1lbnRGb250U2l6ZV0gPSB1c2VTdGF0ZSgxNClcclxuXHRjb25zdCBbbWVhc3VyZW1lbnRGb250Um90YXRpb24sIHNldE1lYXN1cmVtZW50Rm9udFJvdGF0aW9uXSA9IHVzZVN0YXRlKDApXHJcblx0Y29uc3QgW21lYXN1cmVtZW50SGFsb0VuYWJsZWQsIHNldE1lYXN1cmVtZW50SGFsb0VuYWJsZWRdID0gdXNlU3RhdGUodHJ1ZSlcclxuXHRjb25zdCBbbWVhc3VyZW1lbnRIYWxvQ29sb3IsIHNldE1lYXN1cmVtZW50SGFsb0NvbG9yXSA9IHVzZVN0YXRlKCdyZ2JhKDI1NSwyNTUsMjU1LDEpJylcclxuXHRjb25zdCBbbWVhc3VyZW1lbnRIYWxvU2l6ZSwgc2V0TWVhc3VyZW1lbnRIYWxvU2l6ZV0gPSB1c2VTdGF0ZSgyKVxyXG5cdC8vIEFkZCB0aGVzZSB0aHJlZSBmdW5jdGlvbnMgdG8gaGFuZGxlIGZvbnQgZm9ybWF0dGluZyBmb3IgbWVhc3VyZW1lbnQgbGFiZWxzXHJcblxyXG5cdGNvbnN0IHVwZGF0ZU1lYXN1cmVtZW50Rm9udFdlaWdodCA9IChib2xkOiBib29sZWFuKSA9PiB7XHJcblx0XHQvL2NvbnNvbGUubG9nKCdVcGRhdGluZyBmb250IHdlaWdodCB0bzonLCBib2xkID8gJ2JvbGQnIDogJ25vcm1hbCcpO1xyXG5cdFx0aWYgKG1lYXN1cmVtZW50VGV4dFN5bWJvbCAmJiBzZWxlY3RlZE1lYXN1cmVtZW50TGFiZWwpIHtcclxuXHRcdFx0Ly8gVXBkYXRlIHRoZSBzeW1ib2wgaW1tZWRpYXRlbHkgYW5kIHN5bmNocm9ub3VzbHlcclxuXHRcdFx0Y29uc3QgdXBkYXRlZFN5bWJvbCA9IG1lYXN1cmVtZW50VGV4dFN5bWJvbC5jbG9uZSgpO1xyXG5cdFx0XHR1cGRhdGVkU3ltYm9sLmZvbnQgPSB1cGRhdGVkU3ltYm9sLmZvbnQuY2xvbmUoKTtcclxuXHRcdFx0dXBkYXRlZFN5bWJvbC5mb250LndlaWdodCA9IGJvbGQgPyAnYm9sZCcgOiAnbm9ybWFsJztcclxuXHJcblx0XHRcdC8vIFVwZGF0ZSBzdGF0ZVxyXG5cdFx0XHRzZXRNZWFzdXJlbWVudFRleHRTeW1ib2wodXBkYXRlZFN5bWJvbCk7XHJcblxyXG5cdFx0XHQvLyBBcHBseSBjaGFuZ2VzIGltbWVkaWF0ZWx5IHVzaW5nIHRoZSB1cGRhdGVkIHN5bWJvbFxyXG5cdFx0XHRhcHBseU1lYXN1cmVtZW50VGV4dENoYW5nZXNXaXRoU3ltYm9sKHVwZGF0ZWRTeW1ib2wpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdGNvbnN0IHVwZGF0ZU1lYXN1cmVtZW50Rm9udFN0eWxlID0gKGl0YWxpYzogYm9vbGVhbikgPT4ge1xyXG5cdFx0Ly9jb25zb2xlLmxvZygnVXBkYXRpbmcgZm9udCBzdHlsZSB0bzonLCBpdGFsaWMgPyAnaXRhbGljJyA6ICdub3JtYWwnKTtcclxuXHRcdGlmIChtZWFzdXJlbWVudFRleHRTeW1ib2wgJiYgc2VsZWN0ZWRNZWFzdXJlbWVudExhYmVsKSB7XHJcblx0XHRcdC8vIFVwZGF0ZSB0aGUgc3ltYm9sIGltbWVkaWF0ZWx5IGFuZCBzeW5jaHJvbm91c2x5XHJcblx0XHRcdGNvbnN0IHVwZGF0ZWRTeW1ib2wgPSBtZWFzdXJlbWVudFRleHRTeW1ib2wuY2xvbmUoKTtcclxuXHRcdFx0dXBkYXRlZFN5bWJvbC5mb250ID0gdXBkYXRlZFN5bWJvbC5mb250LmNsb25lKCk7XHJcblx0XHRcdHVwZGF0ZWRTeW1ib2wuZm9udC5zdHlsZSA9IGl0YWxpYyA/ICdpdGFsaWMnIDogJ25vcm1hbCc7XHJcblxyXG5cdFx0XHQvLyBVcGRhdGUgc3RhdGVcclxuXHRcdFx0c2V0TWVhc3VyZW1lbnRUZXh0U3ltYm9sKHVwZGF0ZWRTeW1ib2wpO1xyXG5cclxuXHRcdFx0Ly8gQXBwbHkgY2hhbmdlcyBpbW1lZGlhdGVseSB1c2luZyB0aGUgdXBkYXRlZCBzeW1ib2xcclxuXHRcdFx0YXBwbHlNZWFzdXJlbWVudFRleHRDaGFuZ2VzV2l0aFN5bWJvbCh1cGRhdGVkU3ltYm9sKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdCB1cGRhdGVNZWFzdXJlbWVudEZvbnREZWNvcmF0aW9uID0gKHVuZGVybGluZTogYm9vbGVhbikgPT4ge1xyXG5cdFx0Ly9jb25zb2xlLmxvZygnVXBkYXRpbmcgZm9udCBkZWNvcmF0aW9uIHRvOicsIHVuZGVybGluZSA/ICd1bmRlcmxpbmUnIDogJ25vbmUnKTtcclxuXHRcdGlmIChtZWFzdXJlbWVudFRleHRTeW1ib2wgJiYgc2VsZWN0ZWRNZWFzdXJlbWVudExhYmVsKSB7XHJcblx0XHRcdC8vIFVwZGF0ZSB0aGUgc3ltYm9sIGltbWVkaWF0ZWx5IGFuZCBzeW5jaHJvbm91c2x5XHJcblx0XHRcdGNvbnN0IHVwZGF0ZWRTeW1ib2wgPSBtZWFzdXJlbWVudFRleHRTeW1ib2wuY2xvbmUoKTtcclxuXHRcdFx0dXBkYXRlZFN5bWJvbC5mb250ID0gdXBkYXRlZFN5bWJvbC5mb250LmNsb25lKCk7XHJcblx0XHRcdHVwZGF0ZWRTeW1ib2wuZm9udC5kZWNvcmF0aW9uID0gdW5kZXJsaW5lID8gJ3VuZGVybGluZScgOiAnbm9uZSc7XHJcblxyXG5cdFx0XHQvLyBVcGRhdGUgc3RhdGVcclxuXHRcdFx0c2V0TWVhc3VyZW1lbnRUZXh0U3ltYm9sKHVwZGF0ZWRTeW1ib2wpO1xyXG5cclxuXHRcdFx0Ly8gQXBwbHkgY2hhbmdlcyBpbW1lZGlhdGVseSB1c2luZyB0aGUgdXBkYXRlZCBzeW1ib2xcclxuXHRcdFx0YXBwbHlNZWFzdXJlbWVudFRleHRDaGFuZ2VzV2l0aFN5bWJvbCh1cGRhdGVkU3ltYm9sKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdCBhcHBseU1lYXN1cmVtZW50VGV4dENoYW5nZXNXaXRoU3ltYm9sID0gKHN5bWJvbFRvQXBwbHk/OiBUZXh0U3ltYm9sKSA9PiB7XHJcblx0XHQvLyBjb25zb2xlLmxvZygnYXBwbHlNZWFzdXJlbWVudFRleHRDaGFuZ2VzV2l0aFN5bWJvbCBjYWxsZWQ6Jywge1xyXG5cdFx0Ly8gICBoYXNTZWxlY3RlZExhYmVsOiAhIXNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbCxcclxuXHRcdC8vICAgaGFzU3ltYm9sUGFyYW06ICEhc3ltYm9sVG9BcHBseSxcclxuXHRcdC8vICAgaGFzVGV4dFN5bWJvbDogISFtZWFzdXJlbWVudFRleHRTeW1ib2wsXHJcblx0XHQvLyAgIGhhc0RyYXdMYXllcjogISFkcmF3TGF5ZXJcclxuXHRcdC8vIH0pO1xyXG5cclxuXHJcblx0XHRpZiAoIXNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbCkge1xyXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdNaXNzaW5nIHNlbGVjdGVkIGxhYmVsIGZvciB0ZXh0IGNoYW5nZXMnKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFVzZSB0aGUgcHJvdmlkZWQgc3ltYm9sIG9yIGZhbGwgYmFjayB0byB0aGUgc3RhdGUgc3ltYm9sXHJcblx0XHRjb25zdCBzeW1ib2xTb3VyY2UgPSBzeW1ib2xUb0FwcGx5IHx8IG1lYXN1cmVtZW50VGV4dFN5bWJvbDtcclxuXHRcdGlmICghc3ltYm9sU291cmNlKSB7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ01pc3Npbmcgc3ltYm9sIHNvdXJjZSBmb3IgdGV4dCBjaGFuZ2VzJyk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBQcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgbWVhc3VyZW1lbnQgdGV4dFxyXG5cdFx0XHRjb25zdCBvcmlnaW5hbFRleHQgPSAoc2VsZWN0ZWRNZWFzdXJlbWVudExhYmVsLnN5bWJvbCBhcyBUZXh0U3ltYm9sKS50ZXh0O1xyXG5cclxuXHRcdFx0Ly8gQ3JlYXRlIGEgY29tcGxldGVseSBuZXcgc3ltYm9sIHVzaW5nIHRoZSBwcm92aWRlZCBzeW1ib2wgYXMgdGhlIHNvdXJjZVxyXG5cdFx0XHRjb25zdCB1cGRhdGVkU3ltYm9sID0gbmV3IFRleHRTeW1ib2woe1xyXG5cdFx0XHRcdHRleHQ6IG9yaWdpbmFsVGV4dCxcclxuXHRcdFx0XHRjb2xvcjogc3ltYm9sU291cmNlLmNvbG9yLCAvLyBVc2UgcHJvdmlkZWQgc3ltYm9sJ3MgY29sb3JcclxuXHRcdFx0XHRmb250OiB7XHJcblx0XHRcdFx0XHRzaXplOiBzeW1ib2xTb3VyY2UuZm9udC5zaXplLCAvLyBVc2UgcHJvdmlkZWQgc3ltYm9sJ3MgZm9udCBzaXplXHJcblx0XHRcdFx0XHR3ZWlnaHQ6IHN5bWJvbFNvdXJjZS5mb250LndlaWdodCwgLy8gVXNlIHByb3ZpZGVkIHN5bWJvbCdzIHdlaWdodFxyXG5cdFx0XHRcdFx0c3R5bGU6IHN5bWJvbFNvdXJjZS5mb250LnN0eWxlLCAvLyBVc2UgcHJvdmlkZWQgc3ltYm9sJ3Mgc3R5bGUgIFxyXG5cdFx0XHRcdFx0ZGVjb3JhdGlvbjogc3ltYm9sU291cmNlLmZvbnQuZGVjb3JhdGlvbiwgLy8gVXNlIHByb3ZpZGVkIHN5bWJvbCdzIGRlY29yYXRpb25cclxuXHRcdFx0XHRcdGZhbWlseTogc3ltYm9sU291cmNlLmZvbnQuZmFtaWx5IHx8ICdBcmlhbCdcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGFuZ2xlOiBzeW1ib2xTb3VyY2UuYW5nbGUsIC8vIFVzZSBwcm92aWRlZCBzeW1ib2wncyBhbmdsZVxyXG5cdFx0XHRcdC8vIEZJWEVEOiBVc2UgaGFsbyBwcm9wZXJ0aWVzIGZyb20gdGhlIHByb3ZpZGVkIHN5bWJvbCBpbnN0ZWFkIG9mIFJlYWN0IHN0YXRlXHJcblx0XHRcdFx0aGFsb0NvbG9yOiBzeW1ib2xTb3VyY2UuaGFsb0NvbG9yLCAvLyBVc2Ugc3ltYm9sJ3MgaGFsbyBjb2xvclxyXG5cdFx0XHRcdGhhbG9TaXplOiBzeW1ib2xTb3VyY2UuaGFsb1NpemUsIC8vIFVzZSBzeW1ib2wncyBoYWxvIHNpemVcclxuXHRcdFx0XHR2ZXJ0aWNhbEFsaWdubWVudDogc3ltYm9sU291cmNlLnZlcnRpY2FsQWxpZ25tZW50LFxyXG5cdFx0XHRcdGhvcml6b250YWxBbGlnbm1lbnQ6IHN5bWJvbFNvdXJjZS5ob3Jpem9udGFsQWxpZ25tZW50LFxyXG5cdFx0XHRcdHhvZmZzZXQ6IHN5bWJvbFNvdXJjZS54b2Zmc2V0LFxyXG5cdFx0XHRcdHlvZmZzZXQ6IHN5bWJvbFNvdXJjZS55b2Zmc2V0LFxyXG5cdFx0XHRcdGJhY2tncm91bmRDb2xvcjogc3ltYm9sU291cmNlLmJhY2tncm91bmRDb2xvclxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKCfwn5SEIEFwcGx5aW5nIHN5bWJvbCBjaGFuZ2VzOicsIHtcclxuXHRcdFx0Ly8gICBvcmlnaW5hbFRleHQsXHJcblx0XHRcdC8vICAgY29sb3I6IHVwZGF0ZWRTeW1ib2wuY29sb3IsXHJcblx0XHRcdC8vICAgZm9udFNpemU6IHVwZGF0ZWRTeW1ib2wuZm9udC5zaXplLFxyXG5cdFx0XHQvLyAgIGZvbnRXZWlnaHQ6IHVwZGF0ZWRTeW1ib2wuZm9udC53ZWlnaHQsXHJcblx0XHRcdC8vICAgZm9udFN0eWxlOiB1cGRhdGVkU3ltYm9sLmZvbnQuc3R5bGUsXHJcblx0XHRcdC8vICAgZm9udERlY29yYXRpb246IHVwZGF0ZWRTeW1ib2wuZm9udC5kZWNvcmF0aW9uLFxyXG5cdFx0XHQvLyAgIGFuZ2xlOiB1cGRhdGVkU3ltYm9sLmFuZ2xlLFxyXG5cdFx0XHQvLyAgIGhhbG9TaXplOiB1cGRhdGVkU3ltYm9sLmhhbG9TaXplLFxyXG5cdFx0XHQvLyAgIGhhbG9Db2xvcjogdXBkYXRlZFN5bWJvbC5oYWxvQ29sb3JcclxuXHRcdFx0Ly8gfSk7XHJcblxyXG5cdFx0XHQvLyBBcHBseSB0aGUgdXBkYXRlZCBzeW1ib2xcclxuXHRcdFx0c2VsZWN0ZWRNZWFzdXJlbWVudExhYmVsLnN5bWJvbCA9IHVwZGF0ZWRTeW1ib2w7XHJcblxyXG5cdFx0XHQvLyBNYXJrIGFzIGN1c3RvbWl6ZWRcclxuXHRcdFx0aWYgKCFzZWxlY3RlZE1lYXN1cmVtZW50TGFiZWwuYXR0cmlidXRlcykgc2VsZWN0ZWRNZWFzdXJlbWVudExhYmVsLmF0dHJpYnV0ZXMgPSB7fTtcclxuXHRcdFx0c2VsZWN0ZWRNZWFzdXJlbWVudExhYmVsLmF0dHJpYnV0ZXMuY3VzdG9taXplZCA9IHRydWU7XHJcblx0XHRcdHNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbC5hdHRyaWJ1dGVzLmxhc3RNb2RpZmllZCA9IERhdGUubm93KCk7XHJcblxyXG5cdFx0XHQvLyBGb3JjZSByZWZyZXNoIHN0cmF0ZWdpZXMgKHNhbWUgYXMgYmVmb3JlKVxyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdHNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbC52aXNpYmxlID0gZmFsc2U7XHJcblx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoc2VsZWN0ZWRNZWFzdXJlbWVudExhYmVsKSB7XHJcblx0XHRcdFx0XHRcdHNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbC52aXNpYmxlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LCA1MCk7XHJcblx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRjb25zb2xlLndhcm4oJ1Zpc2liaWxpdHkgdG9nZ2xlIHJlZnJlc2ggZmFpbGVkOicsIGUpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBMYXllciByZWZyZXNoXHJcblx0XHRcdGlmIChkcmF3TGF5ZXIgJiYgdHlwZW9mIChkcmF3TGF5ZXIgYXMgYW55KS5yZWZyZXNoID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdChkcmF3TGF5ZXIgYXMgYW55KS5yZWZyZXNoKCk7XHJcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCdMYXllciByZWZyZXNoIGNvbXBsZXRlZCcpO1xyXG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUud2FybignTGF5ZXIgcmVmcmVzaCBmYWlsZWQ6JywgZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBSZW1vdmUgYW5kIHJlLWFkZCBzdHJhdGVneVxyXG5cdFx0XHRpZiAoZHJhd0xheWVyICYmIHNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbC5sYXllciA9PT0gZHJhd0xheWVyKSB7XHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdGNvbnN0IHdhc1Zpc2libGUgPSBzZWxlY3RlZE1lYXN1cmVtZW50TGFiZWwudmlzaWJsZTtcclxuXHRcdFx0XHRcdGNvbnN0IGN1cnJlbnRHZW9tZXRyeSA9IHNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbC5nZW9tZXRyeTtcclxuXHJcblx0XHRcdFx0XHRkcmF3TGF5ZXIucmVtb3ZlKHNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbCk7XHJcblxyXG5cdFx0XHRcdFx0c2VsZWN0ZWRNZWFzdXJlbWVudExhYmVsLnZpc2libGUgPSB3YXNWaXNpYmxlO1xyXG5cdFx0XHRcdFx0c2VsZWN0ZWRNZWFzdXJlbWVudExhYmVsLmdlb21ldHJ5ID0gY3VycmVudEdlb21ldHJ5O1xyXG5cclxuXHRcdFx0XHRcdGRyYXdMYXllci5hZGQoc2VsZWN0ZWRNZWFzdXJlbWVudExhYmVsKTtcclxuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coJ1JlZnJlc2hlZCBncmFwaGljIHZpYSByZW1vdmUvYWRkJyk7XHJcblx0XHRcdFx0fSBjYXRjaCAocmVmcmVzaEVycm9yKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ1JlbW92ZS9hZGQgcmVmcmVzaCBmYWlsZWQ6JywgcmVmcmVzaEVycm9yKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEZvcmNlIHZpZXcgcmVkcmF3XHJcblx0XHRcdGlmIChjdXJyZW50TWFwVmlldykge1xyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIChjdXJyZW50TWFwVmlldyBhcyBhbnkpLnJlZHJhdyA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0XHQoY3VycmVudE1hcFZpZXcgYXMgYW55KS5yZWRyYXcoKTtcclxuXHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnTWFwIHZpZXcgcmVkcmF3IGNvbXBsZXRlZCcpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gY2F0Y2ggKHJlZHJhd0Vycm9yKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ01hcCByZWRyYXcgZmFpbGVkOicsIHJlZHJhd0Vycm9yKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vY29uc29sZS5sb2coJ+KchSBBcHBsaWVkIHRleHQgY2hhbmdlcyB0byBtZWFzdXJlbWVudCBsYWJlbCAtIG1hcmtlZCBhcyBjdXN0b21pemVkJyk7XHJcblxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcign4p2MIEVycm9yIGFwcGx5aW5nIG1lYXN1cmVtZW50IHRleHQgY2hhbmdlczonLCBlcnJvcik7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gTkVXOiBEcmFnIGZ1bmN0aW9uYWxpdHkgc3RhdGVzXHJcblx0Y29uc3QgW2lzRHJhZ2dpbmdMYWJlbCwgc2V0SXNEcmFnZ2luZ0xhYmVsXSA9IHVzZVN0YXRlKGZhbHNlKVxyXG5cdGNvbnN0IFtkcmFnU3RhcnRQb2ludCwgc2V0RHJhZ1N0YXJ0UG9pbnRdID0gdXNlU3RhdGUobnVsbClcclxuXHRjb25zdCBbZHJhZ01vdmVMaXN0ZW5lciwgc2V0RHJhZ01vdmVMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKVxyXG5cdGNvbnN0IFtkcmFnRW5kTGlzdGVuZXIsIHNldERyYWdFbmRMaXN0ZW5lcl0gPSB1c2VTdGF0ZShudWxsKVxyXG5cdGNvbnN0IFtsYWJlbEJlaW5nRHJhZ2dlZCwgc2V0TGFiZWxCZWluZ0RyYWdnZWRdID0gdXNlU3RhdGUobnVsbClcclxuXHRjb25zdCBpc0RyYWdnaW5nUmVmID0gdXNlUmVmKGZhbHNlKTtcclxuXHRjb25zdCBsYWJlbEJlaW5nRHJhZ2dlZFJlZiA9IHVzZVJlZjxFeHRlbmRlZEdyYXBoaWMgfCBudWxsPihudWxsKTtcclxuXHJcblx0Ly8gSGVscGVyIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHNlZ21lbnRzIHNob3VsZCBiZSBjcmVhdGVkXHJcblx0Y29uc3Qgc2hvdWxkQ3JlYXRlU2VnbWVudHMgPSAoZ2VvbWV0cnk6IF9fZXNyaS5HZW9tZXRyeSk6IGJvb2xlYW4gPT4ge1xyXG5cdFx0Ly8gU2VnbWVudHMgbXVzdCBiZSBleHBsaWNpdGx5IGVuYWJsZWRcclxuXHRcdGlmICghc2VnbWVudHNPbikgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdC8vIE9ubHkgcG9seWxpbmVzIGFuZCBwb2x5Z29ucyBzdXBwb3J0IHNlZ21lbnRzXHJcblx0XHRpZiAoZ2VvbWV0cnkudHlwZSAhPT0gJ3BvbHlsaW5lJyAmJiBnZW9tZXRyeS50eXBlICE9PSAncG9seWdvbicpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEZvciBwb2x5bGluZXM6IG9ubHkgY3JlYXRlIHNlZ21lbnRzIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBzZWdtZW50cyAobW9yZSB0aGFuIDIgcG9pbnRzKVxyXG5cdFx0aWYgKGdlb21ldHJ5LnR5cGUgPT09ICdwb2x5bGluZScpIHtcclxuXHRcdFx0Y29uc3QgcG9seWxpbmUgPSBnZW9tZXRyeSBhcyBfX2VzcmkuUG9seWxpbmU7XHJcblx0XHRcdGlmICghcG9seWxpbmUucGF0aHMgfHwgcG9seWxpbmUucGF0aHMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0XHQvLyBDaGVjayBpZiBhbnkgcGF0aCBoYXMgbW9yZSB0aGFuIDIgcG9pbnRzIChtZWFuaW5nIG11bHRpcGxlIHNlZ21lbnRzKVxyXG5cdFx0XHRjb25zdCBoYXNNdWx0aXBsZVNlZ21lbnRzID0gcG9seWxpbmUucGF0aHMuc29tZShwYXRoID0+IHBhdGgubGVuZ3RoID4gMik7XHJcblx0XHRcdHJldHVybiBoYXNNdWx0aXBsZVNlZ21lbnRzO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEZvciBwb2x5Z29uczogY2hlY2sgaWYgaXQncyBhIGNpcmNsZSBmaXJzdCAoY2lyY2xlcyBuZXZlciBnZXQgc2VnbWVudHMpXHJcblx0XHRpZiAoZ2VvbWV0cnkudHlwZSA9PT0gJ3BvbHlnb24nKSB7XHJcblx0XHRcdGNvbnN0IHBvbHlnb24gPSBnZW9tZXRyeSBhcyBfX2VzcmkuUG9seWdvbjtcclxuXHJcblx0XHRcdC8vIE5vIHJpbmdzIG1lYW5zIG5vIHNlZ21lbnRzXHJcblx0XHRcdGlmICghcG9seWdvbi5yaW5ncyB8fCBwb2x5Z29uLnJpbmdzLmxlbmd0aCA9PT0gMCB8fCAhcG9seWdvbi5yaW5nc1swXSkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQ2lyY2xlcyBhcmUgcmVwcmVzZW50ZWQgYXMgcG9seWdvbnMgd2l0aCBleGFjdGx5IDYxIHBvaW50cyAtIG5ldmVyIGFkZCBzZWdtZW50cyB0byBjaXJjbGVzXHJcblx0XHRcdGNvbnN0IGlzQ2lyY2xlID0gcG9seWdvbi5yaW5nc1swXS5sZW5ndGggPT09IDYxO1xyXG5cdFx0XHRpZiAoaXNDaXJjbGUpIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEFsbCBvdGhlciBwb2x5Z29ucyBjYW4gaGF2ZSBzZWdtZW50cyB3aGVuIGVuYWJsZWRcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRGVmYXVsdDogbm8gc2VnbWVudHNcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9O1xyXG5cclxuXHQvLyBNb3JlIHBlcm1pc3NpdmUgaGVscGVyIGZ1bmN0aW9uIHRvIGlkZW50aWZ5IG1lYXN1cmVtZW50IGxhYmVsc1xyXG5cdGNvbnN0IGlzTWVhc3VyZW1lbnRMYWJlbCA9IChncmFwaGljOiBhbnkpOiBib29sZWFuID0+IHtcclxuXHRcdGlmICghZ3JhcGhpYykgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdC8vIFByaW1hcnkgY2hlY2s6IGV4cGxpY2l0IG1lYXN1cmVtZW50IGxhYmVsIG1hcmtlcnNcclxuXHRcdGlmIChncmFwaGljLmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRMYWJlbCB8fFxyXG5cdFx0XHRncmFwaGljLmF0dHJpYnV0ZXM/LmhpZGVGcm9tTGlzdCB8fFxyXG5cdFx0XHRncmFwaGljLmF0dHJpYnV0ZXM/Lm1lYXN1cmVtZW50VHlwZSkge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDaGVjayBpZiBpdCBoYXMgYSBtZWFzdXJlUGFyZW50IChpbmRpY2F0ZXMgaXQncyBhIHNlZ21lbnQgbGFiZWwpXHJcblx0XHRpZiAoZ3JhcGhpYy5tZWFzdXJlUGFyZW50KSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEVuaGFuY2VkIHBhdHRlcm4gY2hlY2tpbmcgZm9yIHJlc3RvcmVkIGxhYmVsc1xyXG5cdFx0aWYgKGdyYXBoaWMuc3ltYm9sPy50eXBlID09PSAndGV4dCcpIHtcclxuXHRcdFx0Y29uc3QgdGV4dCA9IGdyYXBoaWMuc3ltYm9sLnRleHQ7XHJcblx0XHRcdC8vIE1vcmUgY29tcHJlaGVuc2l2ZSBtZWFzdXJlbWVudCBwYXR0ZXJuc1xyXG5cdFx0XHRjb25zdCBtZWFzdXJlbWVudFBhdHRlcm5zID0gW1xyXG5cdFx0XHRcdC9cXGQrKFxcLlxcZCspP1xccyooa218bWl8bXxmdHx5ZHxrbcKyfG1pwrJ8YWN8aGF8bcKyfGZ0wrJ8eWTCsikvLFxyXG5cdFx0XHRcdC9BcmVhOnxQZXJpbWV0ZXI6fFJhZGl1czp8VG90YWw6LyxcclxuXHRcdFx0XHQvTGF0OnxMb246fFg6fFk6LyxcclxuXHRcdFx0XHQvXltcXGQsXSsoXFwuXFxkKyk/XFxzKihrbXxtaXxtfGZ0fHlkKSQvXHJcblx0XHRcdF07XHJcblxyXG5cdFx0XHRyZXR1cm4gbWVhc3VyZW1lbnRQYXR0ZXJucy5zb21lKHBhdHRlcm4gPT4gcGF0dGVybi50ZXN0KHRleHQpKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgaWRlbnRpZnlBbmRNYXJrUmVzdG9yZWRNZWFzdXJlbWVudExhYmVscyA9ICgpID0+IHtcclxuXHRcdGlmICghZHJhd0xheWVyIHx8ICFpc0xheWVyQmFzaWNhbGx5VmFsaWQoKSkgcmV0dXJuO1xyXG5cclxuXHRcdGNvbnN0IGFsbEdyYXBoaWNzID0gZHJhd0xheWVyLmdyYXBoaWNzLnRvQXJyYXkoKTtcclxuXHJcblx0XHRhbGxHcmFwaGljcy5mb3JFYWNoKGdyYXBoaWMgPT4ge1xyXG5cdFx0XHQvLyBTa2lwIGlmIGFscmVhZHkgcHJvcGVybHkgaWRlbnRpZmllZFxyXG5cdFx0XHRpZiAoZ3JhcGhpYy5hdHRyaWJ1dGVzPy5pc01lYXN1cmVtZW50TGFiZWwpIHJldHVybjtcclxuXHJcblx0XHRcdC8vIENoZWNrIGlmIHRoaXMgbG9va3MgbGlrZSBhIG1lYXN1cmVtZW50IGxhYmVsXHJcblx0XHRcdGlmIChncmFwaGljLnN5bWJvbD8udHlwZSA9PT0gJ3RleHQnKSB7XHJcblx0XHRcdFx0Y29uc3QgdGV4dCA9IGdyYXBoaWMuc3ltYm9sLnRleHQ7XHJcblx0XHRcdFx0Y29uc3QgaGFzTWVhc3VyZW1lbnRQYXR0ZXJuID0gLyhcXGQrKFxcLlxcZCspP1xccyooa218bWl8bXxmdHx5ZHxrbcKyfG1pwrJ8YWN8aGF8bcKyfGZ0wrJ8eWTCsikpfEFyZWE6fFBlcmltZXRlcjp8UmFkaXVzOnxUb3RhbDp8TGF0OnxMb246fFg6fFk6Ly50ZXN0KHRleHQpO1xyXG5cclxuXHRcdFx0XHRpZiAoaGFzTWVhc3VyZW1lbnRQYXR0ZXJuKSB7XHJcblx0XHRcdFx0XHQvLyBNYXJrIGFzIG1lYXN1cmVtZW50IGxhYmVsXHJcblx0XHRcdFx0XHRpZiAoIWdyYXBoaWMuYXR0cmlidXRlcykgZ3JhcGhpYy5hdHRyaWJ1dGVzID0ge307XHJcblx0XHRcdFx0XHRncmFwaGljLmF0dHJpYnV0ZXMuaXNNZWFzdXJlbWVudExhYmVsID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGdyYXBoaWMuYXR0cmlidXRlcy5oaWRlRnJvbUxpc3QgPSB0cnVlO1xyXG5cdFx0XHRcdFx0Z3JhcGhpYy5hdHRyaWJ1dGVzLmRyYXdNb2RlID0gJ3RleHQnO1xyXG5cclxuXHRcdFx0XHRcdC8vIFRyeSB0byBmaW5kIHBhcmVudCBncmFwaGljIGJ5IHByb3hpbWl0eSBvciBhdHRyaWJ1dGVzXHJcblx0XHRcdFx0XHRjb25zdCBwYXJlbnRHcmFwaGljID0gZmluZFBhcmVudEdyYXBoaWNGb3JMYWJlbChncmFwaGljLCBhbGxHcmFwaGljcyk7XHJcblx0XHRcdFx0XHRpZiAocGFyZW50R3JhcGhpYykge1xyXG5cdFx0XHRcdFx0XHRncmFwaGljLmF0dHJpYnV0ZXMucGFyZW50R3JhcGhpY0lkID0gcGFyZW50R3JhcGhpYy5hdHRyaWJ1dGVzPy51bmlxdWVJZDtcclxuXHRcdFx0XHRcdFx0Z3JhcGhpYy5tZWFzdXJlUGFyZW50ID0gcGFyZW50R3JhcGhpYztcclxuXHJcblx0XHRcdFx0XHRcdC8vIEFzc29jaWF0ZSB3aXRoIHBhcmVudFxyXG5cdFx0XHRcdFx0XHRpZiAoIXBhcmVudEdyYXBoaWMubWVhc3VyZSAmJiAhZ3JhcGhpYy5hdHRyaWJ1dGVzLm1lYXN1cmVtZW50VHlwZT8uaW5jbHVkZXMoJ3NlZ21lbnQnKSkge1xyXG5cdFx0XHRcdFx0XHRcdHBhcmVudEdyYXBoaWMubWVhc3VyZSA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdGdyYXBoaWM6IGdyYXBoaWMsXHJcblx0XHRcdFx0XHRcdFx0XHRsZW5ndGhVbml0OiBncmFwaGljLmF0dHJpYnV0ZXM/Lmxlbmd0aFVuaXQgfHwgJ21ldGVycycsXHJcblx0XHRcdFx0XHRcdFx0XHRhcmVhVW5pdDogZ3JhcGhpYy5hdHRyaWJ1dGVzPy5hcmVhVW5pdCB8fCAnc3F1YXJlLW1ldGVycydcclxuXHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnSWRlbnRpZmllZCBhbmQgbWFya2VkIHJlc3RvcmVkIG1lYXN1cmVtZW50IGxhYmVsOicsIHRleHQuc3Vic3RyaW5nKDAsIDMwKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHRjb25zdCBmaW5kUGFyZW50R3JhcGhpY0ZvckxhYmVsID0gKGxhYmVsR3JhcGhpYzogYW55LCBhbGxHcmFwaGljczogYW55W10pID0+IHtcclxuXHRcdC8vIEZpcnN0IHRyeSB0byBmaW5kIGJ5IHN0b3JlZCBwYXJlbnRHcmFwaGljSWRcclxuXHRcdGlmIChsYWJlbEdyYXBoaWMuYXR0cmlidXRlcz8ucGFyZW50R3JhcGhpY0lkKSB7XHJcblx0XHRcdGNvbnN0IHBhcmVudEJ5SWQgPSBhbGxHcmFwaGljcy5maW5kKGcgPT5cclxuXHRcdFx0XHRnLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkID09PSBsYWJlbEdyYXBoaWMuYXR0cmlidXRlcy5wYXJlbnRHcmFwaGljSWRcclxuXHRcdFx0KTtcclxuXHRcdFx0aWYgKHBhcmVudEJ5SWQpIHJldHVybiBwYXJlbnRCeUlkO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEZhbGxiYWNrOiBmaW5kIGJ5IHByb3hpbWl0eSAoY2xvc2VzdCBub24tdGV4dCBncmFwaGljKVxyXG5cdFx0Y29uc3QgbGFiZWxQb2ludCA9IGxhYmVsR3JhcGhpYy5nZW9tZXRyeTtcclxuXHRcdGlmICghbGFiZWxQb2ludCkgcmV0dXJuIG51bGw7XHJcblxyXG5cdFx0bGV0IGNsb3Nlc3RHcmFwaGljID0gbnVsbDtcclxuXHRcdGxldCBjbG9zZXN0RGlzdGFuY2UgPSBJbmZpbml0eTtcclxuXHJcblx0XHRhbGxHcmFwaGljcy5mb3JFYWNoKGdyYXBoaWMgPT4ge1xyXG5cdFx0XHRpZiAoZ3JhcGhpYyA9PT0gbGFiZWxHcmFwaGljKSByZXR1cm47XHJcblx0XHRcdGlmIChncmFwaGljLnN5bWJvbD8udHlwZSA9PT0gJ3RleHQnKSByZXR1cm47XHJcblx0XHRcdGlmICghZ3JhcGhpYy5nZW9tZXRyeSkgcmV0dXJuO1xyXG5cclxuXHRcdFx0Y29uc3QgZ3JhcGhpY0NlbnRlciA9IGdyYXBoaWMuZ2VvbWV0cnkuZXh0ZW50Py5jZW50ZXIgfHwgZ3JhcGhpYy5nZW9tZXRyeTtcclxuXHRcdFx0aWYgKGdyYXBoaWNDZW50ZXIpIHtcclxuXHRcdFx0XHRjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydChcclxuXHRcdFx0XHRcdE1hdGgucG93KGxhYmVsUG9pbnQueCAtIGdyYXBoaWNDZW50ZXIueCwgMikgK1xyXG5cdFx0XHRcdFx0TWF0aC5wb3cobGFiZWxQb2ludC55IC0gZ3JhcGhpY0NlbnRlci55LCAyKVxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdGlmIChkaXN0YW5jZSA8IGNsb3Nlc3REaXN0YW5jZSkge1xyXG5cdFx0XHRcdFx0Y2xvc2VzdERpc3RhbmNlID0gZGlzdGFuY2U7XHJcblx0XHRcdFx0XHRjbG9zZXN0R3JhcGhpYyA9IGdyYXBoaWM7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRyZXR1cm4gY2xvc2VzdEdyYXBoaWM7XHJcblx0fTtcclxuXHJcblx0Ly8gTW9yZSBwZXJtaXNzaXZlIGhlbHBlciBmdW5jdGlvbiB0byBpZGVudGlmeSBhY3R1YWwgdXNlciBkcmF3aW5nc1xyXG5cdGNvbnN0IGlzQWN0dWFsRHJhd2luZyA9IChncmFwaGljOiBhbnkpOiBib29sZWFuID0+IHtcclxuXHRcdGlmICghZ3JhcGhpYyB8fCAhZ3JhcGhpYy5nZW9tZXRyeSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdC8vIFNraXAgbWVhc3VyZW1lbnQgbGFiZWxzIGZpcnN0XHJcblx0XHRpZiAoaXNNZWFzdXJlbWVudExhYmVsKGdyYXBoaWMpKSByZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0Ly8gTXVzdCBoYXZlIHN1cHBvcnRlZCBnZW9tZXRyeSB0eXBlXHJcblx0XHRjb25zdCBzdXBwb3J0ZWRUeXBlcyA9IFsncG9seWxpbmUnLCAncG9seWdvbicsICdwb2ludCddO1xyXG5cdFx0aWYgKCFzdXBwb3J0ZWRUeXBlcy5pbmNsdWRlcyhncmFwaGljLmdlb21ldHJ5LnR5cGUpKSByZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0Ly8gTEVTUyBSRVNUUklDVElWRTogQWNjZXB0IGdyYXBoaWNzIHVubGVzcyB0aGV5J3JlIGNsZWFybHkgdGVtcG9yYXJ5L3N5c3RlbSBnZW5lcmF0ZWRcclxuXHRcdGNvbnN0IG5hbWUgPSBncmFwaGljLmF0dHJpYnV0ZXM/Lm5hbWUgfHwgJyc7XHJcblxyXG5cdFx0Ly8gT25seSByZWplY3QgZ3JhcGhpY3Mgd2l0aCB2ZXJ5IHNwZWNpZmljIHBhdHRlcm5zIHRoYXQgaW5kaWNhdGUgdGhleSdyZSB0ZW1wb3JhcnlcclxuXHRcdGNvbnN0IGlzU3lzdGVtR2VuZXJhdGVkID1cclxuXHRcdFx0bmFtZS5pbmNsdWRlcygnX3RlbXBfJykgfHxcclxuXHRcdFx0bmFtZS5pbmNsdWRlcygnX3N5c3RlbV8nKSB8fFxyXG5cdFx0XHQvXnRlbXBfXFxkKyQvLnRlc3QobmFtZSkgfHxcclxuXHRcdFx0L15zeXN0ZW1fXFxkKyQvLnRlc3QobmFtZSk7XHJcblxyXG5cdFx0Ly8gQWNjZXB0IGFsbCBvdGhlcnMsIGluY2x1ZGluZyBlbXB0eSBuYW1lcyBhbmQgc2hvcnQgbmFtZXNcclxuXHRcdHJldHVybiAhaXNTeXN0ZW1HZW5lcmF0ZWQ7XHJcblx0fTtcclxuXHJcblx0Ly8gSGVscGVyIHRvIGlkZW50aWZ5IGdyYXBoaWNzIHRoYXQgc2hvdWxkIGhhdmUgbWVhc3VyZW1lbnRzXHJcblx0Y29uc3Qgc2hvdWxkSGF2ZU1lYXN1cmVtZW50ID0gKGdyYXBoaWM6IGFueSk6IGJvb2xlYW4gPT4ge1xyXG5cdFx0aWYgKCFncmFwaGljIHx8ICFtZWFzdXJlRW5hYmxlZFJlZi5jdXJyZW50KSByZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0cmV0dXJuIGlzQWN0dWFsRHJhd2luZyhncmFwaGljKSAmJlxyXG5cdFx0XHQhaXNNZWFzdXJlbWVudExhYmVsKGdyYXBoaWMpICYmXHJcblx0XHRcdCFncmFwaGljLm1lYXN1cmU7IC8vIERvZXNuJ3QgYWxyZWFkeSBoYXZlIGEgbWVhc3VyZW1lbnRcclxuXHR9O1xyXG5cclxuXHQvLyBEZWJvdW5jZWQgdXBkYXRlIGZ1bmN0aW9uXHJcblx0Y29uc3QgZGVib3VuY2VkVXBkYXRlTWVhc3VyZW1lbnRzID0gdXNlUmVmKFxyXG5cdFx0ZGVib3VuY2UoKGdyYXBoaWM6IEV4dGVuZGVkR3JhcGhpYykgPT4ge1xyXG5cdFx0XHRpZiAoIWlzUHJvY2Vzc2luZ01lYXN1cmVtZW50cyAmJiBtZWFzdXJlRW5hYmxlZFJlZi5jdXJyZW50KSB7XHJcblx0XHRcdFx0X2FkZE1lYXN1cmVtZW50KGdyYXBoaWMsIG51bGwsIHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9LCAyMDApXHJcblx0KTtcclxuXHJcblx0Ly8gSGVscGVyIGZ1bmN0aW9uIHRvIHZhbGlkYXRlIGlmIHRoZSBsYXllciBpcyBpbiBhIGdvb2Qgc3RhdGUgZm9yIHN0cmljdCBvcGVyYXRpb25zXHJcblx0Y29uc3QgaXNMYXllclZhbGlkID0gKCkgPT4ge1xyXG5cdFx0Ly8gQmFzaWMgZXhpc3RlbmNlIGNoZWNrXHJcblx0XHRpZiAoIWRyYXdMYXllcikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ2hlY2sgaWYgaXQncyBhbiBvYmplY3Qgd2l0aCByZXF1aXJlZCBtZXRob2RzXHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBNb3JlIHBlcm1pc3NpdmUgLSBvbmx5IGNoZWNrIGZvciBlc3NlbnRpYWwgbWV0aG9kc1xyXG5cdFx0XHRyZXR1cm4gdHlwZW9mIGRyYXdMYXllciA9PT0gJ29iamVjdCcgJiZcclxuXHRcdFx0XHR0eXBlb2YgZHJhd0xheWVyLmFkZCA9PT0gJ2Z1bmN0aW9uJyAmJlxyXG5cdFx0XHRcdHR5cGVvZiBkcmF3TGF5ZXIucmVtb3ZlID09PSAnZnVuY3Rpb24nICYmXHJcblx0XHRcdFx0ZHJhd0xheWVyLmdyYXBoaWNzICE9PSB1bmRlZmluZWQgJiZcclxuXHRcdFx0XHRkcmF3TGF5ZXIuZ3JhcGhpY3MgIT09IG51bGw7XHJcblx0XHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKCdMYXllciB2YWxpZGF0aW9uIGVycm9yOicsIGVycik7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvLyBBZGQgYSBtb3JlIHBlcm1pc3NpdmUgdmFsaWRhdGlvbiBmb3IgYmFzaWMgb3BlcmF0aW9uc1xyXG5cdGNvbnN0IGlzTGF5ZXJCYXNpY2FsbHlWYWxpZCA9ICgpID0+IHtcclxuXHRcdHJldHVybiBkcmF3TGF5ZXIgJiZcclxuXHRcdFx0dHlwZW9mIGRyYXdMYXllciA9PT0gJ29iamVjdCcgJiZcclxuXHRcdFx0dHlwZW9mIGRyYXdMYXllci5hZGQgPT09ICdmdW5jdGlvbic7XHJcblx0fTtcclxuXHJcblx0Ly8gU2FmZSByZW1vdmFsIHdpdGggbXVsdGlwbGUgc3RyYXRlZ2llc1xyXG5cdGNvbnN0IHNhZmVMYXllclJlbW92ZSA9IChncmFwaGljKSA9PiB7XHJcblx0XHRpZiAoIWRyYXdMYXllciB8fCAhZ3JhcGhpYykgcmV0dXJuIGZhbHNlO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gU3RyYXRlZ3kgMTogVXNlIHJlbW92ZSBtZXRob2QgaWYgYXZhaWxhYmxlXHJcblx0XHRcdGlmICh0eXBlb2YgZHJhd0xheWVyLnJlbW92ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdGRyYXdMYXllci5yZW1vdmUoZ3JhcGhpYyk7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gU3RyYXRlZ3kgMjogVXNlIGdyYXBoaWNzLnJlbW92ZSBpZiBhdmFpbGFibGVcclxuXHRcdFx0aWYgKGRyYXdMYXllci5ncmFwaGljcyAmJiB0eXBlb2YgZHJhd0xheWVyLmdyYXBoaWNzLnJlbW92ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdGRyYXdMYXllci5ncmFwaGljcy5yZW1vdmUoZ3JhcGhpYyk7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKCdFcnJvciByZW1vdmluZyBncmFwaGljIGZyb20gbGF5ZXI6JywgZXJyb3IpO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gU2FmZSBjb250YWlubWVudCBjaGVjayB3aXRoIGZhbGxiYWNrc1xyXG5cdGNvbnN0IHNhZmVMYXllckNvbnRhaW5zID0gKGdyYXBoaWMpID0+IHtcclxuXHRcdGlmICghZHJhd0xheWVyIHx8ICFncmFwaGljKSByZXR1cm4gZmFsc2U7XHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBQcmltYXJ5IGNoZWNrOiB1c2UgZ3JhcGhpY3MuaW5jbHVkZXMgaWYgYXZhaWxhYmxlXHJcblx0XHRcdGlmIChkcmF3TGF5ZXIuZ3JhcGhpY3MgJiYgdHlwZW9mIGRyYXdMYXllci5ncmFwaGljcy5pbmNsdWRlcyA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdHJldHVybiBkcmF3TGF5ZXIuZ3JhcGhpY3MuaW5jbHVkZXMoZ3JhcGhpYyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEZhbGxiYWNrOiB1c2UgY29udGFpbnMgbWV0aG9kIGlmIGF2YWlsYWJsZVxyXG5cdFx0XHRpZiAodHlwZW9mIGRyYXdMYXllci5jb250YWlucyA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdHJldHVybiBkcmF3TGF5ZXIuY29udGFpbnMoZ3JhcGhpYyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEFub3RoZXIgZmFsbGJhY2s6IGNoZWNrIGdyYXBoaWNzIGl0ZW1zIGFycmF5XHJcblx0XHRcdGlmIChkcmF3TGF5ZXIuZ3JhcGhpY3MgJiYgQXJyYXkuaXNBcnJheShkcmF3TGF5ZXIuZ3JhcGhpY3MuaXRlbXMpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGRyYXdMYXllci5ncmFwaGljcy5pdGVtcy5pbmNsdWRlcyhncmFwaGljKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gRmluYWwgZmFsbGJhY2s6IGl0ZXJhdGUgdGhyb3VnaCBncmFwaGljc1xyXG5cdFx0XHRpZiAoZHJhd0xheWVyLmdyYXBoaWNzICYmIGRyYXdMYXllci5ncmFwaGljcy50b0FycmF5KSB7XHJcblx0XHRcdFx0Y29uc3QgYWxsR3JhcGhpY3MgPSBkcmF3TGF5ZXIuZ3JhcGhpY3MudG9BcnJheSgpO1xyXG5cdFx0XHRcdHJldHVybiBhbGxHcmFwaGljcy5pbmNsdWRlcyhncmFwaGljKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKCdFcnJvciBjaGVja2luZyBpZiBsYXllciBjb250YWlucyBncmFwaGljOicsIGVycm9yKTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgdGhlIGNvcnJlY3QgY29vcmRpbmF0ZSBhcnJheXMgYmFzZWQgb24gZ2VvbWV0cnkgdHlwZVxyXG5cdGNvbnN0IGdldENvb3JkaW5hdGVBcnJheXMgPSAoZ2VvbWV0cnk6IF9fZXNyaS5HZW9tZXRyeSk6IG51bWJlcltdW11bXSA9PiB7XHJcblx0XHRpZiAoZ2VvbWV0cnkudHlwZSA9PT0gJ3BvbHlsaW5lJykge1xyXG5cdFx0XHRjb25zdCBwb2x5bGluZSA9IGdlb21ldHJ5IGFzIF9fZXNyaS5Qb2x5bGluZTtcclxuXHRcdFx0cmV0dXJuIHBvbHlsaW5lLnBhdGhzIHx8IFtdO1xyXG5cdFx0fSBlbHNlIGlmIChnZW9tZXRyeS50eXBlID09PSAncG9seWdvbicpIHtcclxuXHRcdFx0Y29uc3QgcG9seWdvbiA9IGdlb21ldHJ5IGFzIF9fZXNyaS5Qb2x5Z29uO1xyXG5cdFx0XHRyZXR1cm4gcG9seWdvbi5yaW5ncyB8fCBbXTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBbXTtcclxuXHR9O1xyXG5cclxuXHQvLyBHZW5lcmF0ZSB1bmlxdWUgSUQgZm9yIGdyYXBoaWNzIHRvIHByZXZlbnQgZHVwbGljYXRlIHByb2Nlc3NpbmdcclxuXHRjb25zdCBnZXRHcmFwaGljSWQgPSAoZ3JhcGhpYykgPT4ge1xyXG5cdFx0aWYgKGdyYXBoaWMuYXR0cmlidXRlcz8udW5pcXVlSWQpIHtcclxuXHRcdFx0cmV0dXJuIGdyYXBoaWMuYXR0cmlidXRlcy51bmlxdWVJZDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBHZW5lcmF0ZSBhIHNpbXBsZSBJRCBiYXNlZCBvbiBnZW9tZXRyeSBhbmQgdGltZXN0YW1wXHJcblx0XHRjb25zdCBnZW9tVHlwZSA9IGdyYXBoaWMuZ2VvbWV0cnk/LnR5cGUgfHwgJ3Vua25vd24nO1xyXG5cdFx0Y29uc3QgY29vcmRzID0gZ3JhcGhpYy5nZW9tZXRyeT8uZXh0ZW50ID9cclxuXHRcdFx0YCR7Z3JhcGhpYy5nZW9tZXRyeS5leHRlbnQueG1pbn1fJHtncmFwaGljLmdlb21ldHJ5LmV4dGVudC55bWlufWAgOlxyXG5cdFx0XHQnbm9jb29yZHMnO1xyXG5cdFx0cmV0dXJuIGAke2dlb21UeXBlfV8ke2Nvb3Jkc31fJHtEYXRlLm5vdygpfWA7XHJcblx0fTtcclxuXHJcblx0Ly8gRHJhZyBmdW5jdGlvbmFsaXR5IG1ldGhvZHNcclxuXHRjb25zdCBzZXR1cExhYmVsRHJhZ0hhbmRsZXJzID0gKGxhYmVsR3JhcGhpYzogRXh0ZW5kZWRHcmFwaGljKSA9PiB7XHJcblx0XHRpZiAoIWN1cnJlbnRNYXBWaWV3IHx8ICFsYWJlbEdyYXBoaWMgfHwgIWVkaXRhYmxlTWVhc3VyZW1lbnRzKSByZXR1cm47XHJcblxyXG5cdFx0Ly8gQ3JlYXRlIGRyYWcgaGFuZGxlIG92ZXJsYXkgKHZpc3VhbCBpbmRpY2F0b3IgdGhhdCBsYWJlbCBjYW4gYmUgbW92ZWQpXHJcblx0XHRjb25zdCBkcmFnSGFuZGxlU3ltYm9sID0gbmV3IFNpbXBsZU1hcmtlclN5bWJvbCh7XHJcblx0XHRcdHN0eWxlOiAnY2lyY2xlJyxcclxuXHRcdFx0c2l6ZTogMTIsXHJcblx0XHRcdGNvbG9yOiBbMCwgMTUwLCAyNTUsIDAuM10sIC8vIExpZ2h0IGJsdWVcclxuXHRcdFx0b3V0bGluZToge1xyXG5cdFx0XHRcdGNvbG9yOiBbMCwgMTUwLCAyNTUsIDAuOF0sXHJcblx0XHRcdFx0d2lkdGg6IDIsXHJcblx0XHRcdFx0c3R5bGU6ICdzb2xpZCdcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gUmVtb3ZlIGV4aXN0aW5nIGRyYWcgaGFuZGxlIGlmIGl0IGV4aXN0c1xyXG5cdFx0aWYgKGxhYmVsR3JhcGhpYy5fZHJhZ0hhbmRsZSkge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGRyYXdMYXllci5yZW1vdmUobGFiZWxHcmFwaGljLl9kcmFnSGFuZGxlKTtcclxuXHRcdFx0fSBjYXRjaCAoZSkgeyB9XHJcblx0XHRcdGxhYmVsR3JhcGhpYy5fZHJhZ0hhbmRsZSA9IG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZHJhZ0hhbmRsZSA9IG5ldyBHcmFwaGljKHtcclxuXHRcdFx0Z2VvbWV0cnk6IGxhYmVsR3JhcGhpYy5nZW9tZXRyeSxcclxuXHRcdFx0c3ltYm9sOiBkcmFnSGFuZGxlU3ltYm9sLFxyXG5cdFx0XHRhdHRyaWJ1dGVzOiB7XHJcblx0XHRcdFx0aXNEcmFnSGFuZGxlOiB0cnVlLFxyXG5cdFx0XHRcdHBhcmVudExhYmVsSWQ6IGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzPy51bmlxdWVJZCB8fCAndW5rbm93bidcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0ZHJhd0xheWVyLmFkZChkcmFnSGFuZGxlKTtcclxuXHRcdFx0bGFiZWxHcmFwaGljLl9kcmFnSGFuZGxlID0gZHJhZ0hhbmRsZTtcclxuXHRcdFx0Ly9jb25zb2xlLmxvZygnQWRkZWQgZHJhZyBoYW5kbGUgZm9yIG1lYXN1cmVtZW50IGxhYmVsJyk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBkcmFnIGhhbmRsZTonLCBlcnJvcik7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Y29uc3QgcmVtb3ZlTGFiZWxEcmFnSGFuZGxlcnMgPSAobGFiZWxHcmFwaGljOiBFeHRlbmRlZEdyYXBoaWMpID0+IHtcclxuXHRcdGlmIChsYWJlbEdyYXBoaWM/Ll9kcmFnSGFuZGxlKSB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0ZHJhd0xheWVyLnJlbW92ZShsYWJlbEdyYXBoaWMuX2RyYWdIYW5kbGUpO1xyXG5cdFx0XHR9IGNhdGNoIChlKSB7IH1cclxuXHRcdFx0bGFiZWxHcmFwaGljLl9kcmFnSGFuZGxlID0gbnVsbDtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRsZXQgYWN0aXZlRHJhZ01vdmVMaXN0ZW5lciA9IG51bGw7XHJcblx0bGV0IGFjdGl2ZURyYWdFbmRMaXN0ZW5lciA9IG51bGw7XHJcblxyXG5cdGNvbnN0IHN0YXJ0TGFiZWxEcmFnID0gKGxhYmVsR3JhcGhpYzogRXh0ZW5kZWRHcmFwaGljLCBzY3JlZW5Qb2ludD86IGFueSkgPT4ge1xyXG5cdFx0aWYgKCFjdXJyZW50TWFwVmlldyB8fCAhbGFiZWxHcmFwaGljKSB7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ+KdjCBDYW5ub3Qgc3RhcnQgZHJhZyAtIG1pc3NpbmcgbWFwVmlldyBvciBncmFwaGljJyk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNEcmFnZ2luZ1JlZi5jdXJyZW50KSB7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ+KaoO+4jyBEcmFnIGFscmVhZHkgaW4gcHJvZ3Jlc3MnKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vY29uc29sZS5sb2coJ/CfmoAgU3RhcnRpbmcgbGFiZWwgZHJhZyBmb3I6JywgbGFiZWxHcmFwaGljLmF0dHJpYnV0ZXM/Lm5hbWUpO1xyXG5cclxuXHRcdC8vIFNldCBkcmFnIHJlZnMgaW1tZWRpYXRlbHkgKHN5bmNocm9ub3VzKVxyXG5cdFx0aXNEcmFnZ2luZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcclxuXHRcdGxhYmVsQmVpbmdEcmFnZ2VkUmVmLmN1cnJlbnQgPSBsYWJlbEdyYXBoaWM7XHJcblxyXG5cdFx0Ly8gQWxzbyB1cGRhdGUgc3RhdGUgZm9yIFVJXHJcblx0XHRzZXRJc0RyYWdnaW5nTGFiZWwodHJ1ZSk7XHJcblx0XHRzZXRMYWJlbEJlaW5nRHJhZ2dlZChsYWJlbEdyYXBoaWMpO1xyXG5cdFx0c2V0RHJhZ1N0YXJ0UG9pbnQoc2NyZWVuUG9pbnQpO1xyXG5cclxuXHRcdC8vIERpc2FibGUgYmFzaWMgbmF2aWdhdGlvblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y3VycmVudE1hcFZpZXcubmF2aWdhdGlvbi5tb3VzZVdoZWVsWm9vbUVuYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0Y3VycmVudE1hcFZpZXcubmF2aWdhdGlvbi5icm93c2VyVG91Y2hQYW5FbmFibGVkID0gZmFsc2U7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ+KchSBEaXNhYmxlZCBiYXNpYyBtYXAgbmF2aWdhdGlvbicpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcign4p2MIEVycm9yIGRpc2FibGluZyBtYXAgbmF2aWdhdGlvbjonLCBlcnJvcik7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2V0IGN1cnNvclxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgY29udGFpbmVyID0gY3VycmVudE1hcFZpZXcuY29udGFpbmVyIGFzIEhUTUxFbGVtZW50O1xyXG5cdFx0XHRpZiAoY29udGFpbmVyKSB7XHJcblx0XHRcdFx0Y29udGFpbmVyLnN0eWxlLmN1cnNvciA9ICdtb3ZlJztcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCfinIUgU2V0IGN1cnNvciB0byBtb3ZlJyk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBzZXR0aW5nIGN1cnNvcjonLCBlcnJvcik7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2V0IHVwIGV2ZW50IGxpc3RlbmVycyAtIENSSVRJQ0FMOiBTdG9yZSByZWZlcmVuY2VzIGltbWVkaWF0ZWx5IGluIG1vZHVsZSB2YXJpYWJsZXNcclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIENsZWFuIHVwIGFueSBleGlzdGluZyBsaXN0ZW5lcnMgZmlyc3RcclxuXHRcdFx0aWYgKGFjdGl2ZURyYWdNb3ZlTGlzdGVuZXIpIHtcclxuXHRcdFx0XHRhY3RpdmVEcmFnTW92ZUxpc3RlbmVyLnJlbW92ZSgpO1xyXG5cdFx0XHRcdGFjdGl2ZURyYWdNb3ZlTGlzdGVuZXIgPSBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChhY3RpdmVEcmFnRW5kTGlzdGVuZXIpIHtcclxuXHRcdFx0XHRhY3RpdmVEcmFnRW5kTGlzdGVuZXIucmVtb3ZlKCk7XHJcblx0XHRcdFx0YWN0aXZlRHJhZ0VuZExpc3RlbmVyID0gbnVsbDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0YWN0aXZlRHJhZ01vdmVMaXN0ZW5lciA9IGN1cnJlbnRNYXBWaWV3Lm9uKCdwb2ludGVyLW1vdmUnLCAoZXZlbnQpID0+IHtcclxuXHRcdFx0XHRoYW5kbGVMYWJlbERyYWdNb3ZlUmVmKGV2ZW50KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRhY3RpdmVEcmFnRW5kTGlzdGVuZXIgPSBjdXJyZW50TWFwVmlldy5vbigncG9pbnRlci11cCcsIChldmVudCkgPT4ge1xyXG5cdFx0XHRcdGhhbmRsZUxhYmVsRHJhZ0VuZFJlZihldmVudCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly9jb25zb2xlLmxvZygn4pyFIERyYWcgZXZlbnQgbGlzdGVuZXJzIHNldCB1cCBzdWNjZXNzZnVsbHknKTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBzZXR0aW5nIHVwIGRyYWcgbGlzdGVuZXJzOicsIGVycm9yKTtcclxuXHRcdFx0Ly8gUmVzZXQgc3RhdGUgaWYgbGlzdGVuZXIgc2V0dXAgZmFpbHNcclxuXHRcdFx0aXNEcmFnZ2luZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcblx0XHRcdGxhYmVsQmVpbmdEcmFnZ2VkUmVmLmN1cnJlbnQgPSBudWxsO1xyXG5cdFx0XHRzZXRJc0RyYWdnaW5nTGFiZWwoZmFsc2UpO1xyXG5cdFx0XHRzZXRMYWJlbEJlaW5nRHJhZ2dlZChudWxsKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdCBoYW5kbGVMYWJlbERyYWdNb3ZlUmVmID0gKGV2ZW50OiBhbnkpID0+IHtcclxuXHRcdC8vY29uc29sZS5sb2coJ/Cfjq8gaGFuZGxlTGFiZWxEcmFnTW92ZVJlZiBjYWxsZWQnKTtcclxuXHJcblx0XHRpZiAoIWlzRHJhZ2dpbmdSZWYuY3VycmVudCB8fCAhbGFiZWxCZWluZ0RyYWdnZWRSZWYuY3VycmVudCB8fCAhY3VycmVudE1hcFZpZXcpIHtcclxuXHRcdFx0Ly8gY29uc29sZS5sb2coJ+KdjCBEcmFnIG1vdmUgY29uZGl0aW9ucyBub3QgbWV0OicsIHtcclxuXHRcdFx0Ly8gICBpc0RyYWdnaW5nOiBpc0RyYWdnaW5nUmVmLmN1cnJlbnQsXHJcblx0XHRcdC8vICAgaGFzTGFiZWw6ICEhbGFiZWxCZWluZ0RyYWdnZWRSZWYuY3VycmVudCxcclxuXHRcdFx0Ly8gICBoYXNNYXBWaWV3OiAhIWN1cnJlbnRNYXBWaWV3XHJcblx0XHRcdC8vIH0pO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly9jb25zb2xlLmxvZygn4pyFIFByb2Nlc3NpbmcgZHJhZyBtb3ZlIC0gbW91c2UgYXQ6JywgZXZlbnQueCwgZXZlbnQueSk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgbWFwUG9pbnQgPSBjdXJyZW50TWFwVmlldy50b01hcCh7IHg6IGV2ZW50LngsIHk6IGV2ZW50LnkgfSk7XHJcblxyXG5cdFx0XHRpZiAobWFwUG9pbnQgJiYgbGFiZWxCZWluZ0RyYWdnZWRSZWYuY3VycmVudCkge1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ/Cfk40gTW92aW5nIGxhYmVsIHRvIG1hcCBjb29yZHM6JywgbWFwUG9pbnQueC50b0ZpeGVkKDIpLCBtYXBQb2ludC55LnRvRml4ZWQoMikpO1xyXG5cclxuXHRcdFx0XHRsYWJlbEJlaW5nRHJhZ2dlZFJlZi5jdXJyZW50Lmdlb21ldHJ5ID0gbWFwUG9pbnQ7XHJcblxyXG5cdFx0XHRcdGlmIChsYWJlbEJlaW5nRHJhZ2dlZFJlZi5jdXJyZW50Ll9kcmFnSGFuZGxlKSB7XHJcblx0XHRcdFx0XHRsYWJlbEJlaW5nRHJhZ2dlZFJlZi5jdXJyZW50Ll9kcmFnSGFuZGxlLmdlb21ldHJ5ID0gbWFwUG9pbnQ7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAobGFiZWxCZWluZ0RyYWdnZWRSZWYuY3VycmVudC5fc2VsZWN0aW9uT3ZlcmxheSkge1xyXG5cdFx0XHRcdFx0bGFiZWxCZWluZ0RyYWdnZWRSZWYuY3VycmVudC5fc2VsZWN0aW9uT3ZlcmxheS5nZW9tZXRyeSA9IG1hcFBvaW50O1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gTWFyayBhcyBjdXN0b20gcG9zaXRpb25cclxuXHRcdFx0XHRpZiAoIWxhYmVsQmVpbmdEcmFnZ2VkUmVmLmN1cnJlbnQuYXR0cmlidXRlcykge1xyXG5cdFx0XHRcdFx0bGFiZWxCZWluZ0RyYWdnZWRSZWYuY3VycmVudC5hdHRyaWJ1dGVzID0ge307XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxhYmVsQmVpbmdEcmFnZ2VkUmVmLmN1cnJlbnQuYXR0cmlidXRlcy5oYXNDdXN0b21Qb3NpdGlvbiA9IHRydWU7XHJcblx0XHRcdFx0bGFiZWxCZWluZ0RyYWdnZWRSZWYuY3VycmVudC5hdHRyaWJ1dGVzLmxhc3RNb3ZlZCA9IERhdGUubm93KCk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBkdXJpbmcgbGFiZWwgZHJhZyBtb3ZlOicsIGVycm9yKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvLyBUcnVlIG9ubHkgZm9yIG1lYXN1cmVtZW50IGxhYmVscy9vdmVybGF5cy9oYW5kbGVzXHJcblx0Y29uc3QgaXNNZWFzdXJlbWVudE9ubHlHcmFwaGljID0gKGc6IGFueSkgPT5cclxuXHRcdCEhKGc/LmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRMYWJlbCB8fCBnPy5hdHRyaWJ1dGVzPy5pc0RyYWdIYW5kbGUgfHwgZz8uX3NlbGVjdGlvbk92ZXJsYXkgfHwgZz8ubWVhc3VyZVBhcmVudCk7XHJcblxyXG5cclxuXHRjb25zdCBoYW5kbGVMYWJlbERyYWdFbmRSZWYgPSAoZXZlbnQ/OiBhbnkpID0+IHtcclxuXHRcdC8vY29uc29sZS5sb2coJ/Cfj4EgaGFuZGxlTGFiZWxEcmFnRW5kUmVmIGNhbGxlZCcpO1xyXG5cclxuXHRcdGlmICghaXNEcmFnZ2luZ1JlZi5jdXJyZW50IHx8ICFsYWJlbEJlaW5nRHJhZ2dlZFJlZi5jdXJyZW50KSB7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ+KaoO+4jyBObyBhY3RpdmUgZHJhZyB0byBlbmQnKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vY29uc29sZS5sb2coJ/Cfjq8gUHJvY2Vzc2luZyBkcmFnIGVuZCBmb3I6JywgbGFiZWxCZWluZ0RyYWdnZWRSZWYuY3VycmVudC5hdHRyaWJ1dGVzPy5uYW1lKTtcclxuXHJcblx0XHRjb25zdCBkcmFnZ2VkTGFiZWwgPSBsYWJlbEJlaW5nRHJhZ2dlZFJlZi5jdXJyZW50O1xyXG5cclxuXHRcdGlmIChldmVudCAmJiBldmVudC5zdG9wUHJvcGFnYXRpb24pIHtcclxuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHR9XHJcblx0XHRpZiAoZXZlbnQgJiYgZXZlbnQucHJldmVudERlZmF1bHQpIHtcclxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdH1cclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBSZW1vdmUgbGlzdGVuZXJzXHJcblx0XHRcdGlmIChhY3RpdmVEcmFnTW92ZUxpc3RlbmVyKSB7XHJcblx0XHRcdFx0YWN0aXZlRHJhZ01vdmVMaXN0ZW5lci5yZW1vdmUoKTtcclxuXHRcdFx0XHRhY3RpdmVEcmFnTW92ZUxpc3RlbmVyID0gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoYWN0aXZlRHJhZ0VuZExpc3RlbmVyKSB7XHJcblx0XHRcdFx0YWN0aXZlRHJhZ0VuZExpc3RlbmVyLnJlbW92ZSgpO1xyXG5cdFx0XHRcdGFjdGl2ZURyYWdFbmRMaXN0ZW5lciA9IG51bGw7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRyYWdNb3ZlTGlzdGVuZXIpIHtcclxuXHRcdFx0XHRkcmFnTW92ZUxpc3RlbmVyLnJlbW92ZSgpO1xyXG5cdFx0XHRcdHNldERyYWdNb3ZlTGlzdGVuZXIobnVsbCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRyYWdFbmRMaXN0ZW5lcikge1xyXG5cdFx0XHRcdGRyYWdFbmRMaXN0ZW5lci5yZW1vdmUoKTtcclxuXHRcdFx0XHRzZXREcmFnRW5kTGlzdGVuZXIobnVsbCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFJlLWVuYWJsZSBuYXZpZ2F0aW9uXHJcblx0XHRcdGlmIChjdXJyZW50TWFwVmlldykge1xyXG5cdFx0XHRcdGN1cnJlbnRNYXBWaWV3Lm5hdmlnYXRpb24ubW91c2VXaGVlbFpvb21FbmFibGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRjdXJyZW50TWFwVmlldy5uYXZpZ2F0aW9uLmJyb3dzZXJUb3VjaFBhbkVuYWJsZWQgPSB0cnVlO1xyXG5cclxuXHRcdFx0XHRjb25zdCBjb250YWluZXIgPSBjdXJyZW50TWFwVmlldy5jb250YWluZXIgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdFx0aWYgKGNvbnRhaW5lcikge1xyXG5cdFx0XHRcdFx0Y29udGFpbmVyLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIE1hcmsgYXMgY3VzdG9taXplZFxyXG5cdFx0XHRpZiAoZHJhZ2dlZExhYmVsLmF0dHJpYnV0ZXMgJiYgZHJhZ2dlZExhYmVsLmdlb21ldHJ5KSB7XHJcblx0XHRcdFx0Y29uc3QgbGFiZWxQb2ludCA9IGRyYWdnZWRMYWJlbC5nZW9tZXRyeSBhcyBfX2VzcmkuUG9pbnQ7XHJcblx0XHRcdFx0ZHJhZ2dlZExhYmVsLmF0dHJpYnV0ZXMuY3VzdG9taXplZCA9IHRydWU7XHJcblx0XHRcdFx0ZHJhZ2dlZExhYmVsLmF0dHJpYnV0ZXMubGFzdE1vZGlmaWVkID0gRGF0ZS5ub3coKTtcclxuXHRcdFx0XHRkcmFnZ2VkTGFiZWwuYXR0cmlidXRlcy5oYXNDdXN0b21Qb3NpdGlvbiA9IHRydWU7XHJcblx0XHRcdFx0ZHJhZ2dlZExhYmVsLmF0dHJpYnV0ZXMuY3VzdG9tUG9zaXRpb24gPSB7XHJcblx0XHRcdFx0XHR4OiBsYWJlbFBvaW50LngsXHJcblx0XHRcdFx0XHR5OiBsYWJlbFBvaW50LnksXHJcblx0XHRcdFx0XHRzcGF0aWFsUmVmZXJlbmNlOiBsYWJlbFBvaW50LnNwYXRpYWxSZWZlcmVuY2VcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdGRyYWdnZWRMYWJlbC5hdHRyaWJ1dGVzLmxhc3RNb3ZlZCA9IERhdGUubm93KCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIOKcqCBORVc6IENsZWFuIHVwIEFMTCBtZWFzdXJlbWVudCBvdmVybGF5cyBhZnRlciBkcmFnIGNvbXBsZXRlc1xyXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRjbGVhbnVwQWxsTWVhc3VyZW1lbnRPdmVybGF5cygpO1xyXG5cdFx0XHR9LCAxMDApO1xyXG5cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBlbmRpbmcgbGFiZWwgZHJhZzonLCBlcnJvcik7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRpc0RyYWdnaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuXHRcdFx0bGFiZWxCZWluZ0RyYWdnZWRSZWYuY3VycmVudCA9IG51bGw7XHJcblx0XHRcdHNldElzRHJhZ2dpbmdMYWJlbChmYWxzZSk7XHJcblx0XHRcdHNldExhYmVsQmVpbmdEcmFnZ2VkKG51bGwpO1xyXG5cdFx0XHRzZXREcmFnU3RhcnRQb2ludChudWxsKTtcclxuXHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdGlmIChkcmFnZ2VkTGFiZWwgJiYgZWRpdGFibGVNZWFzdXJlbWVudHNSZWYuY3VycmVudCkge1xyXG5cdFx0XHRcdFx0aGFuZGxlTWVhc3VyZW1lbnRMYWJlbFNlbGVjdGlvbihkcmFnZ2VkTGFiZWwpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSwgMjUwKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdCBoYW5kbGVMYWJlbERyYWdNb3ZlID0gKGV2ZW50OiBhbnkpID0+IHtcclxuXHRcdC8vY29uc29sZS5sb2coJ/Cfjq8gaGFuZGxlTGFiZWxEcmFnTW92ZSBjYWxsZWQnKTtcclxuXHJcblx0XHRpZiAoIWlzRHJhZ2dpbmdMYWJlbCB8fCAhbGFiZWxCZWluZ0RyYWdnZWQgfHwgIWN1cnJlbnRNYXBWaWV3KSB7XHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKCfinYwgRHJhZyBtb3ZlIGNvbmRpdGlvbnMgbm90IG1ldDonLCB7XHJcblx0XHRcdC8vICAgaXNEcmFnZ2luZzogaXNEcmFnZ2luZ0xhYmVsLFxyXG5cdFx0XHQvLyAgIGhhc0xhYmVsOiAhIWxhYmVsQmVpbmdEcmFnZ2VkLFxyXG5cdFx0XHQvLyAgIGhhc01hcFZpZXc6ICEhY3VycmVudE1hcFZpZXdcclxuXHRcdFx0Ly8gfSk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvL2NvbnNvbGUubG9nKCfwn5ONIFByb2Nlc3NpbmcgZHJhZyBtb3ZlIC0gbW91c2UgYXQ6JywgZXZlbnQueCwgZXZlbnQueSk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gQ29udmVydCBzY3JlZW4gY29vcmRpbmF0ZXMgdG8gbWFwIGNvb3JkaW5hdGVzXHJcblx0XHRcdGNvbnN0IG1hcFBvaW50ID0gY3VycmVudE1hcFZpZXcudG9NYXAoe1xyXG5cdFx0XHRcdHg6IGV2ZW50LngsXHJcblx0XHRcdFx0eTogZXZlbnQueVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGlmIChtYXBQb2ludCAmJiBsYWJlbEJlaW5nRHJhZ2dlZCkge1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ+KchSBNb3ZpbmcgbGFiZWwgdG8gbWFwIGNvb3JkczonLCBtYXBQb2ludC54LnRvRml4ZWQoMiksIG1hcFBvaW50LnkudG9GaXhlZCgyKSk7XHJcblxyXG5cdFx0XHRcdC8vIFVwZGF0ZSBsYWJlbCBwb3NpdGlvblxyXG5cdFx0XHRcdGxhYmVsQmVpbmdEcmFnZ2VkLmdlb21ldHJ5ID0gbWFwUG9pbnQ7XHJcblxyXG5cdFx0XHRcdC8vIFVwZGF0ZSBvdmVybGF5IHBvc2l0aW9ucyBpZiB0aGV5IGV4aXN0XHJcblx0XHRcdFx0aWYgKGxhYmVsQmVpbmdEcmFnZ2VkLl9kcmFnSGFuZGxlKSB7XHJcblx0XHRcdFx0XHRsYWJlbEJlaW5nRHJhZ2dlZC5fZHJhZ0hhbmRsZS5nZW9tZXRyeSA9IG1hcFBvaW50O1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGxhYmVsQmVpbmdEcmFnZ2VkLl9zZWxlY3Rpb25PdmVybGF5KSB7XHJcblx0XHRcdFx0XHRsYWJlbEJlaW5nRHJhZ2dlZC5fc2VsZWN0aW9uT3ZlcmxheS5nZW9tZXRyeSA9IG1hcFBvaW50O1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gTWFyayBhcyBoYXZpbmcgY3VzdG9tIHBvc2l0aW9uXHJcblx0XHRcdFx0aWYgKCFsYWJlbEJlaW5nRHJhZ2dlZC5hdHRyaWJ1dGVzKSB7XHJcblx0XHRcdFx0XHRsYWJlbEJlaW5nRHJhZ2dlZC5hdHRyaWJ1dGVzID0ge307XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxhYmVsQmVpbmdEcmFnZ2VkLmF0dHJpYnV0ZXMuaGFzQ3VzdG9tUG9zaXRpb24gPSB0cnVlO1xyXG5cdFx0XHRcdGxhYmVsQmVpbmdEcmFnZ2VkLmF0dHJpYnV0ZXMuY3VzdG9tUG9zaXRpb24gPSB7XHJcblx0XHRcdFx0XHR4OiBtYXBQb2ludC54LFxyXG5cdFx0XHRcdFx0eTogbWFwUG9pbnQueSxcclxuXHRcdFx0XHRcdHNwYXRpYWxSZWZlcmVuY2U6IG1hcFBvaW50LnNwYXRpYWxSZWZlcmVuY2VcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdGxhYmVsQmVpbmdEcmFnZ2VkLmF0dHJpYnV0ZXMubGFzdE1vdmVkID0gRGF0ZS5ub3coKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcign4p2MIEVycm9yIGR1cmluZyBsYWJlbCBkcmFnIG1vdmU6JywgZXJyb3IpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdGNvbnN0IGhhbmRsZUxhYmVsRHJhZ0VuZCA9IChldmVudD86IGFueSkgPT4ge1xyXG5cdFx0Ly9jb25zb2xlLmxvZygn8J+PgSBoYW5kbGVMYWJlbERyYWdFbmQgY2FsbGVkJyk7XHJcblxyXG5cdFx0aWYgKCFpc0RyYWdnaW5nTGFiZWwgfHwgIWxhYmVsQmVpbmdEcmFnZ2VkKSB7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ+KaoO+4jyBObyBhY3RpdmUgZHJhZyB0byBlbmQnKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vY29uc29sZS5sb2coJ/Cfjq8gUHJvY2Vzc2luZyBkcmFnIGVuZCBmb3I6JywgbGFiZWxCZWluZ0RyYWdnZWQuYXR0cmlidXRlcz8ubmFtZSk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gUmUtZW5hYmxlIG1hcCBuYXZpZ2F0aW9uXHJcblx0XHRcdGlmIChjdXJyZW50TWFwVmlldykge1xyXG5cdFx0XHRcdGN1cnJlbnRNYXBWaWV3Lm5hdmlnYXRpb24ubW91c2VXaGVlbFpvb21FbmFibGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRjdXJyZW50TWFwVmlldy5uYXZpZ2F0aW9uLmJyb3dzZXJUb3VjaFBhbkVuYWJsZWQgPSB0cnVlO1xyXG5cclxuXHRcdFx0XHRjb25zdCBjb250YWluZXIgPSBjdXJyZW50TWFwVmlldy5jb250YWluZXIgYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdFx0aWYgKGNvbnRhaW5lcikge1xyXG5cdFx0XHRcdFx0Y29udGFpbmVyLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcclxuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coJ+KchSBSZXNldCBjdXJzb3IgdG8gZGVmYXVsdCcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCfinIUgUmVzdG9yZWQgbWFwIG5hdmlnYXRpb24nKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQ2xlYW4gdXAgZXZlbnQgbGlzdGVuZXJzXHJcblx0XHRcdGlmIChkcmFnTW92ZUxpc3RlbmVyKSB7XHJcblx0XHRcdFx0ZHJhZ01vdmVMaXN0ZW5lci5yZW1vdmUoKTtcclxuXHRcdFx0XHRzZXREcmFnTW92ZUxpc3RlbmVyKG51bGwpO1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ+KchSBSZW1vdmVkIG1vdmUgbGlzdGVuZXInKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoZHJhZ0VuZExpc3RlbmVyKSB7XHJcblx0XHRcdFx0ZHJhZ0VuZExpc3RlbmVyLnJlbW92ZSgpO1xyXG5cdFx0XHRcdHNldERyYWdFbmRMaXN0ZW5lcihudWxsKTtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCfinIUgUmVtb3ZlZCBlbmQgbGlzdGVuZXInKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gTWFyayB0aGUgbGFiZWwgYXMgY3VzdG9taXplZFxyXG5cdFx0XHRpZiAobGFiZWxCZWluZ0RyYWdnZWQuYXR0cmlidXRlcykge1xyXG5cdFx0XHRcdGxhYmVsQmVpbmdEcmFnZ2VkLmF0dHJpYnV0ZXMuY3VzdG9taXplZCA9IHRydWU7XHJcblx0XHRcdFx0bGFiZWxCZWluZ0RyYWdnZWQuYXR0cmlidXRlcy5sYXN0TW9kaWZpZWQgPSBEYXRlLm5vdygpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvL2NvbnNvbGUubG9nKCfinIUgTGFiZWwgbW92ZWQgdG8gbmV3IHBvc2l0aW9uJyk7XHJcblxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcign4p2MIEVycm9yIGVuZGluZyBsYWJlbCBkcmFnOicsIGVycm9yKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdC8vIFJlc2V0IGRyYWcgc3RhdGVcclxuXHRcdFx0c2V0SXNEcmFnZ2luZ0xhYmVsKGZhbHNlKTtcclxuXHRcdFx0c2V0TGFiZWxCZWluZ0RyYWdnZWQobnVsbCk7XHJcblx0XHRcdHNldERyYWdTdGFydFBvaW50KG51bGwpO1xyXG5cclxuXHRcdFx0Ly9jb25zb2xlLmxvZygn8J+PgSBEcmFnIHN0YXRlIHJlc2V0IGNvbXBsZXRlJyk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gUmVzcGVjdCBjdXN0b20gcG9zaXRpb24gd2hlbiB1cGRhdGluZyBtZWFzdXJlbWVudHNcclxuXHRjb25zdCByZXNwZWN0Q3VzdG9tUG9zaXRpb24gPSAobGFiZWxHcmFwaGljOiBFeHRlbmRlZEdyYXBoaWMsIGRlZmF1bHRMYWJlbFBvaW50OiBfX2VzcmkuUG9pbnQpID0+IHtcclxuXHRcdC8vIElmIHRoZSBsYWJlbCBoYXMgYSBjdXN0b20gcG9zaXRpb24sIHVzZSBpdCBpbnN0ZWFkIG9mIHRoZSBjYWxjdWxhdGVkIHBvc2l0aW9uXHJcblx0XHRpZiAobGFiZWxHcmFwaGljLmF0dHJpYnV0ZXM/Lmhhc0N1c3RvbVBvc2l0aW9uICYmIGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzPy5jdXN0b21Qb3NpdGlvbikge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGNvbnN0IGN1c3RvbVBvcyA9IGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzLmN1c3RvbVBvc2l0aW9uO1xyXG5cdFx0XHRcdGNvbnN0IGN1c3RvbVBvaW50ID0gbmV3IFBvaW50KHtcclxuXHRcdFx0XHRcdHg6IGN1c3RvbVBvcy54LFxyXG5cdFx0XHRcdFx0eTogY3VzdG9tUG9zLnksXHJcblx0XHRcdFx0XHRzcGF0aWFsUmVmZXJlbmNlOiBjdXN0b21Qb3Muc3BhdGlhbFJlZmVyZW5jZVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdVc2luZyBjdXN0b20gcG9zaXRpb24gZm9yIG1lYXN1cmVtZW50IGxhYmVsJyk7XHJcblx0XHRcdFx0cmV0dXJuIGN1c3RvbVBvaW50O1xyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdGNvbnNvbGUud2FybignRXJyb3IgbG9hZGluZyBjdXN0b20gcG9zaXRpb24sIGZhbGxpbmcgYmFjayB0byBkZWZhdWx0OicsIGVycm9yKTtcclxuXHRcdFx0XHQvLyBDbGVhciBpbnZhbGlkIGN1c3RvbSBwb3NpdGlvblxyXG5cdFx0XHRcdGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzLmhhc0N1c3RvbVBvc2l0aW9uID0gZmFsc2U7XHJcblx0XHRcdFx0bGFiZWxHcmFwaGljLmF0dHJpYnV0ZXMuY3VzdG9tUG9zaXRpb24gPSBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGRlZmF1bHRMYWJlbFBvaW50O1xyXG5cdH07XHJcblxyXG5cdGNvbnN0IGNsZWFudXBBbGxNZWFzdXJlbWVudE92ZXJsYXlzID0gKCkgPT4ge1xyXG5cdFx0aWYgKCFkcmF3TGF5ZXIgfHwgIWlzTGF5ZXJCYXNpY2FsbHlWYWxpZCgpKSByZXR1cm47XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgYWxsR3JhcGhpY3MgPSBkcmF3TGF5ZXIuZ3JhcGhpY3MudG9BcnJheSgpO1xyXG5cclxuXHRcdFx0Ly8gRmluZCBhbGwgbWVhc3VyZW1lbnQtcmVsYXRlZCBvdmVybGF5cyBhbmQgaGFuZGxlc1xyXG5cdFx0XHRjb25zdCBtZWFzdXJlbWVudE92ZXJsYXlzID0gYWxsR3JhcGhpY3MuZmlsdGVyKGcgPT5cclxuXHRcdFx0XHRnLmF0dHJpYnV0ZXM/LmlzU2VsZWN0aW9uT3ZlcmxheSAmJiBnLmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRPdmVybGF5IHx8XHJcblx0XHRcdFx0Zy5hdHRyaWJ1dGVzPy5pc0RyYWdIYW5kbGVcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdC8vIFJlbW92ZSB0aGVtXHJcblx0XHRcdG1lYXN1cmVtZW50T3ZlcmxheXMuZm9yRWFjaChvdmVybGF5ID0+IHtcclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0ZHJhd0xheWVyLnJlbW92ZShvdmVybGF5KTtcclxuXHRcdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0Vycm9yIHJlbW92aW5nIG1lYXN1cmVtZW50IG92ZXJsYXk6JywgZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIEFsc28gY2xlYXIgcmVmZXJlbmNlcyBvbiBtZWFzdXJlbWVudCBsYWJlbHNcclxuXHRcdFx0YWxsR3JhcGhpY3MuZm9yRWFjaChnID0+IHtcclxuXHRcdFx0XHRpZiAoaXNNZWFzdXJlbWVudExhYmVsKGcpKSB7XHJcblx0XHRcdFx0XHRpZiAoKGcgYXMgYW55KS5fc2VsZWN0aW9uT3ZlcmxheSkge1xyXG5cdFx0XHRcdFx0XHQoZyBhcyBhbnkpLl9zZWxlY3Rpb25PdmVybGF5ID0gbnVsbDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmICgoZyBhcyBhbnkpLl9kcmFnSGFuZGxlKSB7XHJcblx0XHRcdFx0XHRcdChnIGFzIGFueSkuX2RyYWdIYW5kbGUgPSBudWxsO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvL2NvbnNvbGUubG9nKGBDbGVhbmVkIHVwICR7bWVhc3VyZW1lbnRPdmVybGF5cy5sZW5ndGh9IG1lYXN1cmVtZW50IG92ZXJsYXlzYCk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciBpbiBjbGVhbnVwQWxsTWVhc3VyZW1lbnRPdmVybGF5czonLCBlcnJvcik7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Y29uc3QgZW5oYW5jZWRNZWFzdXJlbWVudExhYmVsQ2xpY2tIYW5kbGVyID0gYXN5bmMgKGV2ZW50OiBhbnkpID0+IHtcclxuXHRcdC8vY29uc29sZS5sb2coJ01lYXN1cmVtZW50IGNsaWNrIGhhbmRsZXIgdHJpZ2dlcmVkJyk7XHJcblxyXG5cdFx0Ly8gQ2hlY2sgdG9vbCBzdGF0ZSBmaXJzdFxyXG5cdFx0aWYgKGN1cnJlbnRUb29sICYmIGN1cnJlbnRUb29sICE9PSAnJyAmJiBjdXJyZW50VG9vbCAhPT0gJ3RleHQnKSB7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ0RyYXdpbmcgdG9vbCBhY3RpdmUgLSBieXBhc3NpbmcgbWVhc3VyZW1lbnQgaGFuZGxlcjonLCBjdXJyZW50VG9vbCk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBpc0VkaXRpbmdFbmFibGVkID0gZWRpdGFibGVNZWFzdXJlbWVudHNSZWYuY3VycmVudDtcclxuXHRcdC8vY29uc29sZS5sb2coJ0VkaXRpbmcgZW5hYmxlZDonLCBpc0VkaXRpbmdFbmFibGVkKTtcclxuXHJcblx0XHRpZiAoIWlzRWRpdGluZ0VuYWJsZWQgfHwgIWN1cnJlbnRNYXBWaWV3KSB7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ0VkaXRpbmcgZGlzYWJsZWQgb3Igbm8gbWFwIHZpZXcnKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ1BlcmZvcm1pbmcgaGl0IHRlc3QgZm9yIG1lYXN1cmVtZW50IGxhYmVscy4uLicpO1xyXG5cclxuXHRcdFx0Ly8gVXNlIGEgbW9yZSBkZWZlbnNpdmUgaGl0IHRlc3QgdGhhdCBkb2Vzbid0IHJlbHkgb24gbGF5ZXIgdmlld1xyXG5cdFx0XHRjb25zdCBoaXRUZXN0UmVzdWx0ID0gYXdhaXQgY3VycmVudE1hcFZpZXcuaGl0VGVzdChldmVudCwge1xyXG5cdFx0XHRcdC8vIERvbid0IHNwZWNpZnkgaW5jbHVkZS9leGNsdWRlIHRvIGF2b2lkIGxheWVyIHZpZXcgaXNzdWVzXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly9jb25zb2xlLmxvZygnSGl0IHRlc3QgcmVzdWx0czonLCBoaXRUZXN0UmVzdWx0LnJlc3VsdHMubGVuZ3RoKTtcclxuXHJcblx0XHRcdC8vIEZpbHRlciByZXN1bHRzIHRvIGZpbmQgbWVhc3VyZW1lbnQgbGFiZWxzXHJcblx0XHRcdGNvbnN0IG1lYXN1cmVtZW50UmVzdWx0cyA9IGhpdFRlc3RSZXN1bHQucmVzdWx0cy5maWx0ZXIocmVzdWx0ID0+IHtcclxuXHRcdFx0XHRpZiAoIXJlc3VsdCB8fCAhKCdncmFwaGljJyBpbiByZXN1bHQpIHx8ICFyZXN1bHQuZ3JhcGhpYykgcmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdGNvbnN0IGdyYXBoaWMgPSByZXN1bHQuZ3JhcGhpYztcclxuXHJcblx0XHRcdFx0Ly8gTW9yZSBkZWZlbnNpdmUgbWVhc3VyZW1lbnQgbGFiZWwgaWRlbnRpZmljYXRpb25cclxuXHRcdFx0XHRpZiAoIWdyYXBoaWMuc3ltYm9sIHx8IGdyYXBoaWMuc3ltYm9sLnR5cGUgIT09ICd0ZXh0JykgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdFx0XHQvLyBDaGVjayBmb3IgbWVhc3VyZW1lbnQgcGF0dGVybnMgd2l0aG91dCByZWx5aW5nIG9uIGxheWVyIG1lbWJlcnNoaXBcclxuXHRcdFx0XHRjb25zdCB0ZXh0ID0gKGdyYXBoaWMuc3ltYm9sIGFzIGFueSkudGV4dCB8fCAnJztcclxuXHRcdFx0XHRjb25zdCBoYXNNZWFzdXJlbWVudFBhdHRlcm4gPSAvKFxcZCsoXFwuXFxkKyk/XFxzKihrbXxtaXxtfGZ0fHlkfGttwrJ8bWnCsnxhY3xoYXxtwrJ8ZnTCsnx5ZMKyKSl8QXJlYTp8UGVyaW1ldGVyOnxSYWRpdXM6fFRvdGFsOnxMYXQ6fExvbjp8WDp8WTovLnRlc3QodGV4dCk7XHJcblxyXG5cdFx0XHRcdHJldHVybiBoYXNNZWFzdXJlbWVudFBhdHRlcm4gfHwgZ3JhcGhpYy5hdHRyaWJ1dGVzPy5pc01lYXN1cmVtZW50TGFiZWw7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly9jb25zb2xlLmxvZygnRm91bmQgbWVhc3VyZW1lbnQgcmVzdWx0czonLCBtZWFzdXJlbWVudFJlc3VsdHMubGVuZ3RoKTtcclxuXHJcblx0XHRcdGlmIChtZWFzdXJlbWVudFJlc3VsdHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ1Byb2Nlc3NpbmcgbWVhc3VyZW1lbnQgbGFiZWwgY2xpY2snKTtcclxuXHRcdFx0XHRjb25zdCByZXN1bHQgPSBtZWFzdXJlbWVudFJlc3VsdHNbMF0gYXMgYW55O1xyXG5cdFx0XHRcdGNvbnN0IGNsaWNrZWRHcmFwaGljID0gcmVzdWx0LmdyYXBoaWM7XHJcblxyXG5cdFx0XHRcdGhhbmRsZU1lYXN1cmVtZW50TGFiZWxTZWxlY3Rpb24oY2xpY2tlZEdyYXBoaWMpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ05vIG1lYXN1cmVtZW50IGxhYmVscyBmb3VuZCAtIGNsZWFyaW5nIHNlbGVjdGlvbicpO1xyXG5cdFx0XHRcdGNsZWFudXBNZWFzdXJlbWVudExhYmVsU2VsZWN0aW9uKCk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIG1lYXN1cmVtZW50IGxhYmVsIGNsaWNrIGhhbmRsZXI6JywgZXJyb3IpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8vIEF1dG9tYXRpY2FsbHkgc2VsZWN0IG1lYXN1cmVtZW50IGxhYmVsIGZvciB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGdyYXBoaWNcclxuXHRjb25zdCBhdXRvU2VsZWN0Q3VycmVudEdyYXBoaWNNZWFzdXJlbWVudExhYmVsID0gKCkgPT4ge1xyXG5cdFx0Ly8gVHJ5IHRvIGdldCBjdXJyZW50bHkgc2VsZWN0ZWQgZ3JhcGhpYyBmcm9tIHZhcmlvdXMgc291cmNlc1xyXG5cdFx0bGV0IHNlbGVjdGVkR3JhcGhpYyA9IG51bGw7XHJcblxyXG5cdFx0Ly8gTWV0aG9kIDE6IEZyb20gc2tldGNoVmlld01vZGVsIHVwZGF0ZUdyYXBoaWNzXHJcblx0XHRpZiAoc2tldGNoVmlld01vZGVsPy51cGRhdGVHcmFwaGljcz8ubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRzZWxlY3RlZEdyYXBoaWMgPSBza2V0Y2hWaWV3TW9kZWwudXBkYXRlR3JhcGhpY3MuZ2V0SXRlbUF0KDApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE1ldGhvZCAyOiBGcm9tIGN1cnJlbnRHcmFwaGljIHN0YXRlXHJcblx0XHRpZiAoIXNlbGVjdGVkR3JhcGhpYyAmJiBjdXJyZW50R3JhcGhpYykge1xyXG5cdFx0XHRzZWxlY3RlZEdyYXBoaWMgPSBjdXJyZW50R3JhcGhpYztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBNZXRob2QgMzogVHJ5IHRvIGZpbmQgYSByZWNlbnRseSBzZWxlY3RlZCBncmFwaGljIGluIHRoZSBsYXllclxyXG5cdFx0aWYgKCFzZWxlY3RlZEdyYXBoaWMgJiYgZHJhd0xheWVyKSB7XHJcblx0XHRcdC8vIExvb2sgZm9yIGdyYXBoaWNzIHRoYXQgbWlnaHQgYmUgc2VsZWN0ZWQgKHRoaXMgaXMgaW1wbGVtZW50YXRpb24tc3BlY2lmaWMpXHJcblx0XHRcdGNvbnN0IGFsbEdyYXBoaWNzID0gZHJhd0xheWVyLmdyYXBoaWNzLnRvQXJyYXkoKTtcclxuXHRcdFx0Y29uc3QgZHJhd2luZ0dyYXBoaWNzID0gYWxsR3JhcGhpY3MuZmlsdGVyKGcgPT5cclxuXHRcdFx0XHRpc0FjdHVhbERyYXdpbmcoZykgJiYgIWlzTWVhc3VyZW1lbnRMYWJlbChnKVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Ly8gSWYgdGhlcmUncyBvbmx5IG9uZSBkcmF3aW5nLCBzZWxlY3QgaXRcclxuXHRcdFx0aWYgKGRyYXdpbmdHcmFwaGljcy5sZW5ndGggPT09IDEpIHtcclxuXHRcdFx0XHRzZWxlY3RlZEdyYXBoaWMgPSBkcmF3aW5nR3JhcGhpY3NbMF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoc2VsZWN0ZWRHcmFwaGljICYmIHNlbGVjdGVkR3JhcGhpYy5tZWFzdXJlPy5ncmFwaGljKSB7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ0F1dG8tc2VsZWN0aW5nIG1lYXN1cmVtZW50IGxhYmVsIGZvciBjdXJyZW50IGdyYXBoaWMnKTtcclxuXHRcdFx0aGFuZGxlTWVhc3VyZW1lbnRMYWJlbFNlbGVjdGlvbihzZWxlY3RlZEdyYXBoaWMubWVhc3VyZS5ncmFwaGljKTtcclxuXHRcdH0gZWxzZSBpZiAoc2VsZWN0ZWRHcmFwaGljKSB7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ1NlbGVjdGVkIGdyYXBoaWMgZm91bmQgYnV0IG5vIG1lYXN1cmVtZW50IGxhYmVsIGF2YWlsYWJsZScpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly9jb25zb2xlLmxvZygnTm8gZ3JhcGhpYyBjdXJyZW50bHkgc2VsZWN0ZWQgZm9yIG1lYXN1cmVtZW50IGxhYmVsIGVkaXRpbmcnKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdCB0b2dnbGVNZWFzdXJlbWVudEVkaXRpbmcgPSAoZSkgPT4ge1xyXG5cdFx0Y29uc3QgbmV3RWRpdGluZ1N0YXRlID0gZTtcclxuXHRcdC8vY29uc29sZS5sb2coJ1RvZ2dsaW5nIG1lYXN1cmVtZW50IGVkaXRpbmcgZnJvbScsIGVkaXRhYmxlTWVhc3VyZW1lbnRzLCAndG8nLCBuZXdFZGl0aW5nU3RhdGUpO1xyXG5cclxuXHRcdGlmICghZHJhd0xheWVyKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0RyYXdMYXllciBpcyBudWxsIC0gY2Fubm90IHNldCB1cCBtZWFzdXJlbWVudCBlZGl0aW5nJyk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBXaGVuIERJU0FCTElORyBtZWFzdXJlbWVudCBlZGl0aW5nIC0gY2xlYW51cCBGSVJTVCBiZWZvcmUgc3RhdGUgY2hhbmdlc1xyXG5cdFx0aWYgKCFuZXdFZGl0aW5nU3RhdGUpIHtcclxuXHRcdFx0Ly8gU1RFUCAxOiBDbGVhbiB1cCBhbGwgbWVhc3VyZW1lbnQgb3ZlcmxheXMgYW5kIHNlbGVjdGlvbnNcclxuXHRcdFx0Y2xlYW51cE1lYXN1cmVtZW50TGFiZWxTZWxlY3Rpb24oKTtcclxuXHJcblx0XHRcdC8vIFNURVAgMjogUmUtZW5hYmxlIFNrZXRjaFZpZXdNb2RlbFxyXG5cdFx0XHRpZiAoc2tldGNoVmlld01vZGVsICYmIHNrZXRjaFZpZXdNb2RlbC52aWV3KSB7XHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdHNrZXRjaFZpZXdNb2RlbC51cGRhdGVPbkdyYXBoaWNDbGljayA9IHRydWU7XHJcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCdSZS1lbmFibGVkIFNrZXRjaFZpZXdNb2RlbCBhZnRlciBtZWFzdXJlbWVudCBlZGl0aW5nJyk7XHJcblx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUud2FybignRXJyb3IgcmUtZW5hYmxpbmcgU2tldGNoVmlld01vZGVsOicsIGVycm9yKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFNURVAgMzogRm9yY2UgY3Vyc29yIHJlc2V0XHJcblx0XHRcdGxldCBtYXBWaWV3ID0gY3VycmVudE1hcFZpZXc7XHJcblx0XHRcdGlmICghbWFwVmlldyAmJiBza2V0Y2hWaWV3TW9kZWw/LnZpZXcpIHtcclxuXHRcdFx0XHRtYXBWaWV3ID0gc2tldGNoVmlld01vZGVsLnZpZXc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFtYXBWaWV3ICYmIHByb3BzLmppbXVNYXBWaWV3Py52aWV3KSB7XHJcblx0XHRcdFx0bWFwVmlldyA9IHByb3BzLmppbXVNYXBWaWV3LnZpZXc7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChtYXBWaWV3Py5jb250YWluZXIpIHtcclxuXHRcdFx0XHQobWFwVmlldy5jb250YWluZXIgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdGb3JjZSByZXNldCBjdXJzb3Igb24gZGlzYWJsZScpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBTVEVQIDQ6IFJlc2V0IGRyYWcgcmVmcyBpZiB0aGV5IGV4aXN0XHJcblx0XHRcdGlmIChpc0RyYWdnaW5nUmVmKSB7XHJcblx0XHRcdFx0aXNEcmFnZ2luZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGxhYmVsQmVpbmdEcmFnZ2VkUmVmKSB7XHJcblx0XHRcdFx0bGFiZWxCZWluZ0RyYWdnZWRSZWYuY3VycmVudCA9IG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFNURVAgNTogQ2xlYW4gdXAgYW55IHJlbWFpbmluZyBldmVudCBsaXN0ZW5lcnNcclxuXHRcdFx0aWYgKGRyYWdNb3ZlTGlzdGVuZXIpIHtcclxuXHRcdFx0XHRkcmFnTW92ZUxpc3RlbmVyLnJlbW92ZSgpO1xyXG5cdFx0XHRcdHNldERyYWdNb3ZlTGlzdGVuZXIobnVsbCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRyYWdFbmRMaXN0ZW5lcikge1xyXG5cdFx0XHRcdGRyYWdFbmRMaXN0ZW5lci5yZW1vdmUoKTtcclxuXHRcdFx0XHRzZXREcmFnRW5kTGlzdGVuZXIobnVsbCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBXaGVuIEVOQUJMSU5HIG1lYXN1cmVtZW50IGVkaXRpbmdcclxuXHRcdGlmIChuZXdFZGl0aW5nU3RhdGUgJiYgc2tldGNoVmlld01vZGVsICYmIHNrZXRjaFZpZXdNb2RlbC52aWV3KSB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Ly8gQ2FuY2VsIGFueSBhY3RpdmUgb3BlcmF0aW9ucyBmaXJzdFxyXG5cdFx0XHRcdGlmIChza2V0Y2hWaWV3TW9kZWwuc3RhdGUgPT09ICdhY3RpdmUnICYmIHNrZXRjaFZpZXdNb2RlbC5hY3RpdmVUb29sKSB7XHJcblx0XHRcdFx0XHRza2V0Y2hWaWV3TW9kZWwuY2FuY2VsKCk7XHJcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCdDYW5jZWxsZWQgYWN0aXZlIFNrZXRjaFZpZXdNb2RlbCBvcGVyYXRpb25zIGZvciBtZWFzdXJlbWVudCBlZGl0aW5nJyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBDUklUSUNBTDogRGlzYWJsZSBTa2V0Y2hWaWV3TW9kZWwgY29tcGxldGVseSBkdXJpbmcgbWVhc3VyZW1lbnQgZWRpdGluZ1xyXG5cdFx0XHRcdHNrZXRjaFZpZXdNb2RlbC51cGRhdGVPbkdyYXBoaWNDbGljayA9IGZhbHNlO1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ0Rpc2FibGVkIFNrZXRjaFZpZXdNb2RlbCBmb3IgbWVhc3VyZW1lbnQgZWRpdGluZycpO1xyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdGNvbnNvbGUud2FybignRXJyb3IgZGlzYWJsaW5nIFNrZXRjaFZpZXdNb2RlbDonLCBlcnJvcik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBVcGRhdGUgc3RhdGUgLSB0aGUgdXNlRWZmZWN0IHdpbGwgaGFuZGxlIHRoZSBhY3R1YWwgc2V0dXAvY2xlYW51cFxyXG5cdFx0c2V0RWRpdGFibGVNZWFzdXJlbWVudHMobmV3RWRpdGluZ1N0YXRlKTtcclxuXHR9O1xyXG5cclxuXHQvLyBTZXQgdXAgY2xpY2sgbGlzdGVuZXIgZm9yIG1lYXN1cmVtZW50IGxhYmVsc1xyXG5cdGNvbnN0IHNldHVwRW5oYW5jZWRNZWFzdXJlbWVudExhYmVsQ2xpY2tMaXN0ZW5lciA9ICgpID0+IHtcclxuXHRcdGlmICghY3VycmVudE1hcFZpZXcpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcignQ2Fubm90IHNldHVwIGNsaWNrIGxpc3RlbmVyIC0gY3VycmVudE1hcFZpZXcgaXMgbnVsbCcpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFza2V0Y2hWaWV3TW9kZWwgfHwgIXNrZXRjaFZpZXdNb2RlbC52aWV3KSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Nhbm5vdCBzZXR1cCBjbGljayBsaXN0ZW5lciAtIFNrZXRjaFZpZXdNb2RlbCBub3QgcmVhZHknKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENSSVRJQ0FMIEZJWDogRG9uJ3QgdHJ5IHRvIGFjY2VzcyBsYXllciB2aWV3IGF0IGFsbCBkdXJpbmcgc2V0dXBcclxuXHRcdC8vIFRoaXMgcHJldmVudHMgdGhlIExheWVyTGF5ZXJWaWV3SW5mbyBlcnJvclxyXG5cclxuXHRcdC8vY29uc29sZS5sb2coJ1NldHRpbmcgdXAgbWVhc3VyZW1lbnQgbGFiZWwgY2xpY2sgbGlzdGVuZXIgV0lUSE9VVCBsYXllciB2aWV3IGFjY2VzcycpO1xyXG5cclxuXHRcdC8vIFJlbW92ZSBleGlzdGluZyBsaXN0ZW5lciBmaXJzdFxyXG5cdFx0cmVtb3ZlTWVhc3VyZW1lbnRMYWJlbENsaWNrTGlzdGVuZXIoKTtcclxuXHJcblx0XHQvLyBTZXQgdXAgdGhlIGNsaWNrIGxpc3RlbmVyIHdpdGhvdXQgYW55IGxheWVyIHZpZXcgb3BlcmF0aW9uc1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgY2xpY2tMaXN0ZW5lciA9IGN1cnJlbnRNYXBWaWV3Lm9uKCdpbW1lZGlhdGUtY2xpY2snLCBlbmhhbmNlZE1lYXN1cmVtZW50TGFiZWxDbGlja0hhbmRsZXIpO1xyXG5cdFx0XHRzZXRNZWFzdXJlbWVudENsaWNrTGlzdGVuZXIoY2xpY2tMaXN0ZW5lcik7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ01lYXN1cmVtZW50IGNsaWNrIGxpc3RlbmVyIHNldCB1cCBzdWNjZXNzZnVsbHknKTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNldHRpbmcgdXAgY2xpY2sgbGlzdGVuZXI6JywgZXJyb3IpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8vIFJlbW92ZSBtZWFzdXJlbWVudCBsYWJlbCBjbGljayBsaXN0ZW5lclxyXG5cdGNvbnN0IHJlbW92ZU1lYXN1cmVtZW50TGFiZWxDbGlja0xpc3RlbmVyID0gKCkgPT4ge1xyXG5cdFx0aWYgKG1lYXN1cmVtZW50Q2xpY2tMaXN0ZW5lcikge1xyXG5cdFx0XHRtZWFzdXJlbWVudENsaWNrTGlzdGVuZXIucmVtb3ZlKCk7XHJcblx0XHRcdHNldE1lYXN1cmVtZW50Q2xpY2tMaXN0ZW5lcihudWxsKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdCBoYW5kbGVNZWFzdXJlbWVudExhYmVsU2VsZWN0aW9uID0gKGxhYmVsR3JhcGhpYzogRXh0ZW5kZWRHcmFwaGljKSA9PiB7XHJcblx0XHRpZiAoIWVkaXRhYmxlTWVhc3VyZW1lbnRzKSByZXR1cm47XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gTW9yZSBwZXJtaXNzaXZlIGNoZWNrIGZvciB0ZXh0IHN5bWJvbHMgLSBoYW5kbGUgcmVzdG9yZWQgbGFiZWxzXHJcblx0XHRcdGNvbnN0IGlzVGV4dFN5bWJvbCA9IGxhYmVsR3JhcGhpYy5zeW1ib2w/LnR5cGUgPT09ICd0ZXh0JztcclxuXHRcdFx0aWYgKCFpc1RleHRTeW1ib2wpIHtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdTZWxlY3RlZCBncmFwaGljIGlzIG5vdCBhIHRleHQgc3ltYm9sJyk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBDYXN0IHRvIFRleHRTeW1ib2wgc2luY2Ugd2UndmUgdmVyaWZpZWQgdGhlIHR5cGVcclxuXHRcdFx0Y29uc3QgdGV4dFN5bWJvbCA9IGxhYmVsR3JhcGhpYy5zeW1ib2wgYXMgVGV4dFN5bWJvbDtcclxuXHJcblx0XHRcdC8vIElmIG5vdCBhbHJlYWR5IG1hcmtlZCBhcyBtZWFzdXJlbWVudCBsYWJlbCwgY2hlY2sgaWYgaXQgbG9va3MgbGlrZSBvbmVcclxuXHRcdFx0aWYgKCFsYWJlbEdyYXBoaWMuYXR0cmlidXRlcz8uaXNNZWFzdXJlbWVudExhYmVsKSB7XHJcblx0XHRcdFx0Y29uc3QgdGV4dCA9IHRleHRTeW1ib2wudGV4dCB8fCAnJztcclxuXHRcdFx0XHRjb25zdCBoYXNNZWFzdXJlbWVudFBhdHRlcm4gPSAvKFxcZCsoXFwuXFxkKyk/XFxzKihrbXxtaXxtfGZ0fHlkfGttwrJ8bWnCsnxhY3xoYXxtwrJ8ZnTCsnx5ZMKyKSl8QXJlYTp8UGVyaW1ldGVyOnxSYWRpdXM6fFRvdGFsOnxMYXQ6fExvbjp8WDp8WTovLnRlc3QodGV4dCk7XHJcblxyXG5cdFx0XHRcdGlmICghaGFzTWVhc3VyZW1lbnRQYXR0ZXJuKSB7XHJcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCdTZWxlY3RlZCB0ZXh0IGdyYXBoaWMgZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgbWVhc3VyZW1lbnQgbGFiZWw6JywgdGV4dC5zdWJzdHJpbmcoMCwgMzApKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIE1hcmsgaXQgbm93IGZvciBmdXR1cmUgcmVmZXJlbmNlIC0gdGhpcyBoYW5kbGVzIHJlc3RvcmVkIGxhYmVsc1xyXG5cdFx0XHRcdGlmICghbGFiZWxHcmFwaGljLmF0dHJpYnV0ZXMpIGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzID0ge307XHJcblx0XHRcdFx0bGFiZWxHcmFwaGljLmF0dHJpYnV0ZXMuaXNNZWFzdXJlbWVudExhYmVsID0gdHJ1ZTtcclxuXHRcdFx0XHRsYWJlbEdyYXBoaWMuYXR0cmlidXRlcy5oaWRlRnJvbUxpc3QgPSB0cnVlO1xyXG5cdFx0XHRcdGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzLmRyYXdNb2RlID0gJ3RleHQnO1xyXG5cclxuXHRcdFx0XHQvLyBUcnkgdG8gaWRlbnRpZnkgbWVhc3VyZW1lbnQgdHlwZSBmcm9tIGNvbnRlbnRcclxuXHRcdFx0XHRpZiAodGV4dC5pbmNsdWRlcygnQXJlYTonKSB8fCB0ZXh0LmluY2x1ZGVzKCdQZXJpbWV0ZXI6JykgfHwgdGV4dC5pbmNsdWRlcygnUmFkaXVzOicpKSB7XHJcblx0XHRcdFx0XHRsYWJlbEdyYXBoaWMuYXR0cmlidXRlcy5tZWFzdXJlbWVudFR5cGUgPSAnbWFpbic7XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0ZXh0LmluY2x1ZGVzKCdUb3RhbDonKSkge1xyXG5cdFx0XHRcdFx0bGFiZWxHcmFwaGljLmF0dHJpYnV0ZXMubWVhc3VyZW1lbnRUeXBlID0gJ21haW4nO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAodGV4dC5pbmNsdWRlcygnTGF0OicpIHx8IHRleHQuaW5jbHVkZXMoJ0xvbjonKSB8fCB0ZXh0LmluY2x1ZGVzKCdYOicpIHx8IHRleHQuaW5jbHVkZXMoJ1k6JykpIHtcclxuXHRcdFx0XHRcdGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzLm1lYXN1cmVtZW50VHlwZSA9ICdjb29yZGluYXRlJztcclxuXHRcdFx0XHR9IGVsc2UgaWYgKC9eXFxkKyhcXC5cXGQrKT9cXHMqKGttfG1pfG18ZnR8eWQpJC8udGVzdCh0ZXh0LnRyaW0oKSkpIHtcclxuXHRcdFx0XHRcdGxhYmVsR3JhcGhpYy5hdHRyaWJ1dGVzLm1lYXN1cmVtZW50VHlwZSA9ICdzZWdtZW50JztcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0bGFiZWxHcmFwaGljLmF0dHJpYnV0ZXMubWVhc3VyZW1lbnRUeXBlID0gJ21haW4nO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ0lkZW50aWZpZWQgYW5kIG1hcmtlZCByZXN0b3JlZCBtZWFzdXJlbWVudCBsYWJlbDonLCB7XHJcblx0XHRcdFx0Ly8gICB0ZXh0OiB0ZXh0LnN1YnN0cmluZygwLCAzMCksXHJcblx0XHRcdFx0Ly8gICB0eXBlOiBsYWJlbEdyYXBoaWMuYXR0cmlidXRlcy5tZWFzdXJlbWVudFR5cGVcclxuXHRcdFx0XHQvLyB9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQ2xlYXIgcHJldmlvdXMgc2VsZWN0aW9uXHJcblx0XHRcdGNsZWFudXBNZWFzdXJlbWVudExhYmVsU2VsZWN0aW9uKCk7XHJcblxyXG5cdFx0XHQvLyBTZXQgbmV3IHNlbGVjdGlvblxyXG5cdFx0XHRzZXRTZWxlY3RlZE1lYXN1cmVtZW50TGFiZWwobGFiZWxHcmFwaGljKTtcclxuXHJcblx0XHRcdC8vIEluaXRpYWxpemUgdGV4dCBzeW1ib2wgZnJvbSBzZWxlY3RlZCBsYWJlbCAtIHVzZSB0aGUgY2FzdCBzeW1ib2xcclxuXHRcdFx0Y29uc3QgY3VycmVudFN5bWJvbCA9IHRleHRTeW1ib2w7XHJcblx0XHRcdHNldE1lYXN1cmVtZW50VGV4dFN5bWJvbChjdXJyZW50U3ltYm9sLmNsb25lKCkpO1xyXG5cclxuXHRcdFx0Ly8gY29uc29sZS5sb2coJ/CflI0gUmVhZGluZyBzeW1ib2wgcHJvcGVydGllcyBmb3IgVUkgc3luYzonLCB7XHJcblx0XHRcdC8vICAgY29sb3I6IGN1cnJlbnRTeW1ib2wuY29sb3IsXHJcblx0XHRcdC8vICAgZm9udFNpemU6IGN1cnJlbnRTeW1ib2wuZm9udC5zaXplLFxyXG5cdFx0XHQvLyAgIGZvbnRXZWlnaHQ6IGN1cnJlbnRTeW1ib2wuZm9udC53ZWlnaHQsXHJcblx0XHRcdC8vICAgZm9udFN0eWxlOiBjdXJyZW50U3ltYm9sLmZvbnQuc3R5bGUsXHJcblx0XHRcdC8vICAgZm9udERlY29yYXRpb246IGN1cnJlbnRTeW1ib2wuZm9udC5kZWNvcmF0aW9uLFxyXG5cdFx0XHQvLyAgIGFuZ2xlOiBjdXJyZW50U3ltYm9sLmFuZ2xlLFxyXG5cdFx0XHQvLyAgIGhhbG9TaXplOiBjdXJyZW50U3ltYm9sLmhhbG9TaXplLFxyXG5cdFx0XHQvLyAgIGhhbG9Db2xvcjogY3VycmVudFN5bWJvbC5oYWxvQ29sb3JcclxuXHRcdFx0Ly8gfSk7XHJcblxyXG5cdFx0XHQvLyBFTkhBTkNFRDogTW9yZSB0aG9yb3VnaCBzdGF0ZSBzeW5jaHJvbml6YXRpb24gZnJvbSBhY3R1YWwgc3ltYm9sXHJcblx0XHRcdHNldE1lYXN1cmVtZW50Rm9udENvbG9yKGNvbnZlcnRTeW1ib2xDb2xvclRvQ29sb3JQaWNrZXJWYWx1ZShjdXJyZW50U3ltYm9sLmNvbG9yKSk7XHJcblx0XHRcdHNldE1lYXN1cmVtZW50Rm9udFNpemUoY3VycmVudFN5bWJvbC5mb250LnNpemUgfHwgMTQpO1xyXG5cdFx0XHRzZXRNZWFzdXJlbWVudEZvbnRSb3RhdGlvbihjdXJyZW50U3ltYm9sLmFuZ2xlIHx8IDApO1xyXG5cclxuXHRcdFx0Ly8gRklYRUQ6IFByb3BlciBoYWxvIHN0YXRlIGRldGVjdGlvblxyXG5cdFx0XHRjb25zdCBoYXNIYWxvID0gISEoY3VycmVudFN5bWJvbC5oYWxvU2l6ZSAmJiBjdXJyZW50U3ltYm9sLmhhbG9TaXplID4gMCk7XHJcblx0XHRcdHNldE1lYXN1cmVtZW50SGFsb0VuYWJsZWQoaGFzSGFsbyk7XHJcblxyXG5cdFx0XHRpZiAoY3VycmVudFN5bWJvbC5oYWxvQ29sb3IpIHtcclxuXHRcdFx0XHRzZXRNZWFzdXJlbWVudEhhbG9Db2xvcihjb252ZXJ0U3ltYm9sQ29sb3JUb0NvbG9yUGlja2VyVmFsdWUoY3VycmVudFN5bWJvbC5oYWxvQ29sb3IpKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRzZXRNZWFzdXJlbWVudEhhbG9Db2xvcigncmdiYSgyNTUsMjU1LDI1NSwxKScpOyAvLyBEZWZhdWx0IHdoaXRlIGhhbG9cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c2V0TWVhc3VyZW1lbnRIYWxvU2l6ZShjdXJyZW50U3ltYm9sLmhhbG9TaXplIHx8IDIpO1xyXG5cclxuXHRcdFx0Ly8gY29uc29sZS5sb2coJ+KchSBVSSBzdGF0ZSBzeW5jaHJvbml6ZWQ6Jywge1xyXG5cdFx0XHQvLyAgIGZvbnRDb2xvcjogY29udmVydFN5bWJvbENvbG9yVG9Db2xvclBpY2tlclZhbHVlKGN1cnJlbnRTeW1ib2wuY29sb3IpLFxyXG5cdFx0XHQvLyAgIGZvbnRTaXplOiBjdXJyZW50U3ltYm9sLmZvbnQuc2l6ZSB8fCAxNCxcclxuXHRcdFx0Ly8gICBmb250Um90YXRpb246IGN1cnJlbnRTeW1ib2wuYW5nbGUgfHwgMCxcclxuXHRcdFx0Ly8gICBoYWxvRW5hYmxlZDogaGFzSGFsbyxcclxuXHRcdFx0Ly8gICBoYWxvQ29sb3I6IGN1cnJlbnRTeW1ib2wuaGFsb0NvbG9yID8gY29udmVydFN5bWJvbENvbG9yVG9Db2xvclBpY2tlclZhbHVlKGN1cnJlbnRTeW1ib2wuaGFsb0NvbG9yKSA6ICdyZ2JhKDI1NSwyNTUsMjU1LDEpJyxcclxuXHRcdFx0Ly8gICBoYWxvU2l6ZTogY3VycmVudFN5bWJvbC5oYWxvU2l6ZSB8fCAyXHJcblx0XHRcdC8vIH0pO1xyXG5cclxuXHRcdFx0Ly8gQ3JlYXRlIHNlbGVjdGlvbiBvdmVybGF5XHJcblx0XHRcdGNyZWF0ZU1lYXN1cmVtZW50TGFiZWxPdmVybGF5KGxhYmVsR3JhcGhpYyk7XHJcblxyXG5cdFx0XHQvLyBTZXQgdXAgZHJhZyBoYW5kbGVyc1xyXG5cdFx0XHRzZXR1cExhYmVsRHJhZ0hhbmRsZXJzKGxhYmVsR3JhcGhpYyk7XHJcblxyXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdTZWxlY3RlZCBtZWFzdXJlbWVudCBsYWJlbCBmb3IgZWRpdGluZyBhbmQgbW92ZW1lbnQnKTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbGVjdGluZyBtZWFzdXJlbWVudCBsYWJlbDonLCBlcnJvcik7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gQ3JlYXRlIHNlbGVjdGlvbiBvdmVybGF5IGZvciBtZWFzdXJlbWVudCBsYWJlbFxyXG5cdGNvbnN0IGNyZWF0ZU1lYXN1cmVtZW50TGFiZWxPdmVybGF5ID0gKGxhYmVsR3JhcGhpYzogRXh0ZW5kZWRHcmFwaGljKSA9PiB7XHJcblx0XHRpZiAoIWRyYXdMYXllciB8fCAhbGFiZWxHcmFwaGljLmdlb21ldHJ5KSByZXR1cm47XHJcblxyXG5cdFx0Ly8gUmVtb3ZlIGV4aXN0aW5nIG92ZXJsYXlcclxuXHRcdGlmIChsYWJlbEdyYXBoaWMuX3NlbGVjdGlvbk92ZXJsYXkpIHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRkcmF3TGF5ZXIucmVtb3ZlKGxhYmVsR3JhcGhpYy5fc2VsZWN0aW9uT3ZlcmxheSk7XHJcblx0XHRcdH0gY2F0Y2ggKGUpIHsgfVxyXG5cdFx0XHRsYWJlbEdyYXBoaWMuX3NlbGVjdGlvbk92ZXJsYXkgPSBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IG92ZXJsYXlTeW1ib2wgPSBuZXcgU2ltcGxlTWFya2VyU3ltYm9sKHtcclxuXHRcdFx0c3R5bGU6ICdkaWFtb25kJyxcclxuXHRcdFx0c2l6ZTogMjQsXHJcblx0XHRcdGNvbG9yOiBbMjU1LCAxNjUsIDAsIDAuMl0sIC8vIE9yYW5nZSBvdmVybGF5IGZvciBtZWFzdXJlbWVudCBsYWJlbHNcclxuXHRcdFx0b3V0bGluZToge1xyXG5cdFx0XHRcdGNvbG9yOiBbMjU1LCAxNjUsIDAsIDAuOF0sXHJcblx0XHRcdFx0d2lkdGg6IDIsXHJcblx0XHRcdFx0c3R5bGU6ICdkYXNoJ1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRjb25zdCBvdmVybGF5ID0gbmV3IEdyYXBoaWMoe1xyXG5cdFx0XHRnZW9tZXRyeTogbGFiZWxHcmFwaGljLmdlb21ldHJ5LFxyXG5cdFx0XHRzeW1ib2w6IG92ZXJsYXlTeW1ib2wsXHJcblx0XHRcdGF0dHJpYnV0ZXM6IHtcclxuXHRcdFx0XHRpc1NlbGVjdGlvbk92ZXJsYXk6IHRydWUsXHJcblx0XHRcdFx0aXNNZWFzdXJlbWVudE92ZXJsYXk6IHRydWUsXHJcblx0XHRcdFx0cGFyZW50R3JhcGhpY0lkOiBsYWJlbEdyYXBoaWMuYXR0cmlidXRlcz8udW5pcXVlSWQgfHwgJ21lYXN1cmVtZW50X292ZXJsYXknXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdGRyYXdMYXllci5hZGQob3ZlcmxheSk7XHJcblx0XHRcdGxhYmVsR3JhcGhpYy5fc2VsZWN0aW9uT3ZlcmxheSA9IG92ZXJsYXk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBtZWFzdXJlbWVudCBsYWJlbCBvdmVybGF5OicsIGVycm9yKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdCBjbGVhbnVwTWVhc3VyZW1lbnRMYWJlbFNlbGVjdGlvbiA9ICgpID0+IHtcclxuXHRcdGlmIChzZWxlY3RlZE1lYXN1cmVtZW50TGFiZWwpIHtcclxuXHRcdFx0Ly8gUmVtb3ZlIHNlbGVjdGlvbiBvdmVybGF5XHJcblx0XHRcdGlmIChzZWxlY3RlZE1lYXN1cmVtZW50TGFiZWwuX3NlbGVjdGlvbk92ZXJsYXkpIHtcclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0ZHJhd0xheWVyLnJlbW92ZShzZWxlY3RlZE1lYXN1cmVtZW50TGFiZWwuX3NlbGVjdGlvbk92ZXJsYXkpO1xyXG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xyXG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKCdFcnJvciByZW1vdmluZyBvdmVybGF5OicsIGVycik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbC5fc2VsZWN0aW9uT3ZlcmxheSA9IG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFJlbW92ZSBkcmFnIGhhbmRsZXJzXHJcblx0XHRcdHJlbW92ZUxhYmVsRHJhZ0hhbmRsZXJzKHNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbCk7XHJcblxyXG5cdFx0XHQvLyBDbGVhciBSZWFjdCBzdGF0ZVxyXG5cdFx0XHRzZXRTZWxlY3RlZE1lYXN1cmVtZW50TGFiZWwobnVsbCk7XHJcblx0XHRcdHNldE1lYXN1cmVtZW50VGV4dFN5bWJvbChudWxsKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDbGVhbiB1cCBhbnkgb25nb2luZyBkcmFnIG9wZXJhdGlvblxyXG5cdFx0aWYgKGlzRHJhZ2dpbmdMYWJlbCkge1xyXG5cdFx0XHRoYW5kbGVMYWJlbERyYWdFbmQobnVsbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gKipBREQgVEhJUyoqOiBGb3JjZSBjbGVhbnVwIG9mIEFMTCBtZWFzdXJlbWVudCBvdmVybGF5cyB3aGVuIGRpc2FibGluZ1xyXG5cdFx0aWYgKGRyYXdMYXllciAmJiBpc0xheWVyQmFzaWNhbGx5VmFsaWQoKSkge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGNvbnN0IGFsbEdyYXBoaWNzID0gZHJhd0xheWVyLmdyYXBoaWNzLnRvQXJyYXkoKTtcclxuXHRcdFx0XHRjb25zdCBtZWFzdXJlbWVudE92ZXJsYXlzID0gYWxsR3JhcGhpY3MuZmlsdGVyKGcgPT5cclxuXHRcdFx0XHRcdGcuYXR0cmlidXRlcz8uaXNTZWxlY3Rpb25PdmVybGF5ICYmIGcuYXR0cmlidXRlcz8uaXNNZWFzdXJlbWVudE92ZXJsYXlcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHRtZWFzdXJlbWVudE92ZXJsYXlzLmZvckVhY2gob3ZlcmxheSA9PiB7XHJcblx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRkcmF3TGF5ZXIucmVtb3ZlKG92ZXJsYXkpO1xyXG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0Vycm9yIHJlbW92aW5nIG9ycGhhbmVkIG92ZXJsYXk6JywgZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdC8vIEFsc28gY2xlYXIgYW55IF9zZWxlY3Rpb25PdmVybGF5IHJlZmVyZW5jZXMgb24gbWVhc3VyZW1lbnQgbGFiZWxzXHJcblx0XHRcdFx0YWxsR3JhcGhpY3MuZm9yRWFjaChnID0+IHtcclxuXHRcdFx0XHRcdGlmIChpc01lYXN1cmVtZW50TGFiZWwoZykgJiYgKGcgYXMgYW55KS5fc2VsZWN0aW9uT3ZlcmxheSkge1xyXG5cdFx0XHRcdFx0XHQoZyBhcyBhbnkpLl9zZWxlY3Rpb25PdmVybGF5ID0gbnVsbDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly9jb25zb2xlLmxvZyhgQ2xlYW5lZCB1cCAke21lYXN1cmVtZW50T3ZlcmxheXMubGVuZ3RofSBtZWFzdXJlbWVudCBvdmVybGF5c2ApO1xyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGNvbXByZWhlbnNpdmUgb3ZlcmxheSBjbGVhbnVwOicsIGVycm9yKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8vIEFwcGx5IHRleHQgY2hhbmdlcyB0byBzZWxlY3RlZCBtZWFzdXJlbWVudCBsYWJlbFxyXG5cdGNvbnN0IGFwcGx5TWVhc3VyZW1lbnRUZXh0Q2hhbmdlcyA9ICgpID0+IHtcclxuXHRcdGFwcGx5TWVhc3VyZW1lbnRUZXh0Q2hhbmdlc1dpdGhTeW1ib2wobWVhc3VyZW1lbnRUZXh0U3ltYm9sKTtcclxuXHR9O1xyXG5cclxuXHQvLyBSZXNldCBtZWFzdXJlbWVudCBsYWJlbCB0byBkZWZhdWx0XHJcblx0Y29uc3QgcmVzZXRNZWFzdXJlbWVudExhYmVsVG9EZWZhdWx0ID0gKCkgPT4ge1xyXG5cdFx0aWYgKCFzZWxlY3RlZE1lYXN1cmVtZW50TGFiZWwpIHJldHVybjtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBGaW5kIHBhcmVudCBncmFwaGljIGFuZCByZWdlbmVyYXRlIG1lYXN1cmVtZW50XHJcblx0XHRcdGNvbnN0IHBhcmVudEdyYXBoaWNJZCA9IHNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbC5hdHRyaWJ1dGVzPy5wYXJlbnRHcmFwaGljSWQ7XHJcblx0XHRcdGlmIChwYXJlbnRHcmFwaGljSWQgJiYgZHJhd0xheWVyKSB7XHJcblx0XHRcdFx0Y29uc3QgcGFyZW50R3JhcGhpYyA9IGRyYXdMYXllci5ncmFwaGljcy5maW5kKFxyXG5cdFx0XHRcdFx0KGc6IGFueSkgPT4gZy5hdHRyaWJ1dGVzPy51bmlxdWVJZCA9PT0gcGFyZW50R3JhcGhpY0lkXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0aWYgKHBhcmVudEdyYXBoaWMpIHtcclxuXHRcdFx0XHRcdC8vIEZvcmNlIHJlZ2VuZXJhdGUgdGhlIG1lYXN1cmVtZW50XHJcblx0XHRcdFx0XHRfYWRkTWVhc3VyZW1lbnQocGFyZW50R3JhcGhpYyBhcyBFeHRlbmRlZEdyYXBoaWMsIG51bGwsIHRydWUpO1xyXG5cdFx0XHRcdFx0Y2xlYW51cE1lYXN1cmVtZW50TGFiZWxTZWxlY3Rpb24oKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlc2V0dGluZyBtZWFzdXJlbWVudCBsYWJlbDonLCBlcnJvcik7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gUmVzZXQgbGFiZWwgcG9zaXRpb24gdG8gZGVmYXVsdCBjYWxjdWxhdGVkIHBvc2l0aW9uXHJcblx0Y29uc3QgcmVzZXRMYWJlbFBvc2l0aW9uID0gKCkgPT4ge1xyXG5cdFx0aWYgKCFzZWxlY3RlZE1lYXN1cmVtZW50TGFiZWwgfHwgIXNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbC5tZWFzdXJlUGFyZW50KSByZXR1cm47XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gQ2xlYXIgY3VzdG9tIHBvc2l0aW9uIGZsYWdzXHJcblx0XHRcdHNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbC5hdHRyaWJ1dGVzLmhhc0N1c3RvbVBvc2l0aW9uID0gZmFsc2U7XHJcblx0XHRcdHNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbC5hdHRyaWJ1dGVzLmN1c3RvbVBvc2l0aW9uID0gbnVsbDtcclxuXHJcblx0XHRcdGNvbnN0IHBhcmVudEdyYXBoaWMgPSBzZWxlY3RlZE1lYXN1cmVtZW50TGFiZWwubWVhc3VyZVBhcmVudDtcclxuXHRcdFx0bGV0IGRlZmF1bHRMYWJlbFBvaW50O1xyXG5cclxuXHRcdFx0Ly8gRklYRUQ6IENoZWNrIGlmIHRoaXMgaXMgYSBzZWdtZW50IGxhYmVsXHJcblx0XHRcdGNvbnN0IGlzU2VnbWVudExhYmVsID0gc2VsZWN0ZWRNZWFzdXJlbWVudExhYmVsLmF0dHJpYnV0ZXM/Lm1lYXN1cmVtZW50VHlwZSA9PT0gJ3NlZ21lbnQnO1xyXG5cclxuXHRcdFx0aWYgKGlzU2VnbWVudExhYmVsKSB7XHJcblx0XHRcdFx0Ly8gRm9yIHNlZ21lbnQgbGFiZWxzLCB3ZSBuZWVkIHRvIGZpbmQgdGhlIHNwZWNpZmljIHNlZ21lbnQncyBtaWRwb2ludFxyXG5cdFx0XHRcdC8vIFRoaXMgcmVxdWlyZXMgc3RvcmluZyBzZWdtZW50IGluZm8gd2hlbiB0aGUgbGFiZWwgd2FzIGNyZWF0ZWRcclxuXHRcdFx0XHRjb25zdCBzZWdtZW50SW5mbyA9IHNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbC5hdHRyaWJ1dGVzPy5zZWdtZW50SW5mbztcclxuXHJcblx0XHRcdFx0aWYgKHNlZ21lbnRJbmZvICYmIHNlZ21lbnRJbmZvLnBvaW50MSAmJiBzZWdtZW50SW5mby5wb2ludDIpIHtcclxuXHRcdFx0XHRcdC8vIENhbGN1bGF0ZSBtaWRwb2ludCBvZiB0aGUgc3BlY2lmaWMgc2VnbWVudFxyXG5cdFx0XHRcdFx0ZGVmYXVsdExhYmVsUG9pbnQgPSBfZ2V0U2VnbWVudE1pZHBvaW50KFxyXG5cdFx0XHRcdFx0XHRzZWdtZW50SW5mby5wb2ludDEsXHJcblx0XHRcdFx0XHRcdHNlZ21lbnRJbmZvLnBvaW50MixcclxuXHRcdFx0XHRcdFx0cGFyZW50R3JhcGhpYy5nZW9tZXRyeVxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Ly8gRmFsbGJhY2sgaWYgc2VnbWVudCBpbmZvIG5vdCBhdmFpbGFibGVcclxuXHRcdFx0XHRcdGRlZmF1bHRMYWJlbFBvaW50ID0gX2dldExhYmVsUG9pbnQocGFyZW50R3JhcGhpYy5nZW9tZXRyeSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIEZvciBtYWluIGxhYmVscywgdXNlIHRoZSBzdGFuZGFyZCBsYWJlbCBwb2ludCBjYWxjdWxhdGlvblxyXG5cdFx0XHRcdGRlZmF1bHRMYWJlbFBvaW50ID0gX2dldExhYmVsUG9pbnQocGFyZW50R3JhcGhpYy5nZW9tZXRyeSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChkZWZhdWx0TGFiZWxQb2ludCkge1xyXG5cdFx0XHRcdC8vIE1vdmUgbGFiZWwgYmFjayB0byBkZWZhdWx0IHBvc2l0aW9uXHJcblx0XHRcdFx0c2VsZWN0ZWRNZWFzdXJlbWVudExhYmVsLmdlb21ldHJ5ID0gZGVmYXVsdExhYmVsUG9pbnQ7XHJcblxyXG5cdFx0XHRcdC8vIFVwZGF0ZSBkcmFnIGhhbmRsZSBwb3NpdGlvbiBpZiBpdCBleGlzdHNcclxuXHRcdFx0XHRpZiAoc2VsZWN0ZWRNZWFzdXJlbWVudExhYmVsLl9kcmFnSGFuZGxlKSB7XHJcblx0XHRcdFx0XHRzZWxlY3RlZE1lYXN1cmVtZW50TGFiZWwuX2RyYWdIYW5kbGUuZ2VvbWV0cnkgPSBkZWZhdWx0TGFiZWxQb2ludDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFVwZGF0ZSBzZWxlY3Rpb24gb3ZlcmxheSBwb3NpdGlvbiBpZiBpdCBleGlzdHNcclxuXHRcdFx0XHRpZiAoc2VsZWN0ZWRNZWFzdXJlbWVudExhYmVsLl9zZWxlY3Rpb25PdmVybGF5KSB7XHJcblx0XHRcdFx0XHRzZWxlY3RlZE1lYXN1cmVtZW50TGFiZWwuX3NlbGVjdGlvbk92ZXJsYXkuZ2VvbWV0cnkgPSBkZWZhdWx0TGFiZWxQb2ludDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ1Jlc2V0IG1lYXN1cmVtZW50IGxhYmVsIHRvIGRlZmF1bHQgcG9zaXRpb24nKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3IgcmVzZXR0aW5nIGxhYmVsIHBvc2l0aW9uOicsIGVycm9yKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udmVydCBzeW1ib2wgY29sb3IgdG8gY29sb3IgcGlja2VyIHZhbHVlXHJcblx0Y29uc3QgY29udmVydFN5bWJvbENvbG9yVG9Db2xvclBpY2tlclZhbHVlID0gKGNvbG9yOiBhbnkpID0+IHtcclxuXHRcdGlmIChjb2xvciAmJiBjb2xvci50b1JnYmEpIHtcclxuXHRcdFx0Y29uc3QgcmdiYUNsciA9IGNvbG9yLnRvUmdiYSgpO1xyXG5cdFx0XHRyZXR1cm4gYHJnYmEoJHtyZ2JhQ2xyWzBdfSwke3JnYmFDbHJbMV19LCR7cmdiYUNsclsyXX0sJHtyZ2JhQ2xyWzNdfSlgO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuICdyZ2JhKDAsMCwwLDEpJztcclxuXHR9O1xyXG5cclxuXHRjb25zdCB1cGRhdGVNZWFzdXJlbWVudEhhbG8gPSAoZW5hYmxlZDogYm9vbGVhbiwgY29sb3I/OiBzdHJpbmcsIHNpemU/OiBudW1iZXIpID0+IHtcclxuXHRcdC8vY29uc29sZS5sb2coJ1VwZGF0aW5nIGhhbG8gLSBlbmFibGVkOicsIGVuYWJsZWQsICdjb2xvcjonLCBjb2xvciwgJ3NpemU6Jywgc2l6ZSk7XHJcblxyXG5cdFx0aWYgKCFtZWFzdXJlbWVudFRleHRTeW1ib2wgfHwgIXNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbCkge1xyXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdNaXNzaW5nIHJlcXVpcmVkIG9iamVjdHMgZm9yIGhhbG8gdXBkYXRlJyk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDYWxjdWxhdGUgdGhlIGFjdHVhbCB2YWx1ZXMgdG8gdXNlIChwcmlvcml0aXplIHBhcmFtZXRlcnMgb3ZlciBjdXJyZW50IHN0YXRlKVxyXG5cdFx0Y29uc3QgYWN0dWFsRW5hYmxlZCA9IGVuYWJsZWQ7XHJcblx0XHRjb25zdCBhY3R1YWxDb2xvciA9IGNvbG9yICE9PSB1bmRlZmluZWQgPyBjb2xvciA6IG1lYXN1cmVtZW50SGFsb0NvbG9yO1xyXG5cdFx0Y29uc3QgYWN0dWFsU2l6ZSA9IHNpemUgIT09IHVuZGVmaW5lZCA/IHNpemUgOiBtZWFzdXJlbWVudEhhbG9TaXplO1xyXG5cclxuXHRcdC8vIFVwZGF0ZSBzdGF0ZSB2YXJpYWJsZXMgZm9yIFVJIGNvbnNpc3RlbmN5XHJcblx0XHRzZXRNZWFzdXJlbWVudEhhbG9FbmFibGVkKGFjdHVhbEVuYWJsZWQpO1xyXG5cdFx0aWYgKGNvbG9yICE9PSB1bmRlZmluZWQpIHNldE1lYXN1cmVtZW50SGFsb0NvbG9yKGNvbG9yKTtcclxuXHRcdGlmIChzaXplICE9PSB1bmRlZmluZWQpIHNldE1lYXN1cmVtZW50SGFsb1NpemUoc2l6ZSk7XHJcblxyXG5cdFx0Ly8gQ3JlYXRlIHVwZGF0ZWQgc3ltYm9sIGltbWVkaWF0ZWx5IGFuZCBzeW5jaHJvbm91c2x5IHVzaW5nIGFjdHVhbCB2YWx1ZXNcclxuXHRcdGNvbnN0IHVwZGF0ZWRTeW1ib2wgPSBtZWFzdXJlbWVudFRleHRTeW1ib2wuY2xvbmUoKTtcclxuXHJcblx0XHQvLyBBcHBseSBoYWxvIGNoYW5nZXMgdG8gdGhlIGNsb25lZCBzeW1ib2wgdXNpbmcgYWN0dWFsIHZhbHVlcyAobm90IHN0YXRlKVxyXG5cdFx0aWYgKGFjdHVhbEVuYWJsZWQpIHtcclxuXHRcdFx0dXBkYXRlZFN5bWJvbC5oYWxvQ29sb3IgPSBuZXcgQ29sb3IoYWN0dWFsQ29sb3IpO1xyXG5cdFx0XHR1cGRhdGVkU3ltYm9sLmhhbG9TaXplID0gYWN0dWFsU2l6ZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHVwZGF0ZWRTeW1ib2wuaGFsb0NvbG9yID0gbnVsbDtcclxuXHRcdFx0dXBkYXRlZFN5bWJvbC5oYWxvU2l6ZSA9IG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVXBkYXRlIHRoZSBtZWFzdXJlbWVudCB0ZXh0IHN5bWJvbCBzdGF0ZVxyXG5cdFx0c2V0TWVhc3VyZW1lbnRUZXh0U3ltYm9sKHVwZGF0ZWRTeW1ib2wpO1xyXG5cclxuXHRcdC8vIEFwcGx5IGNoYW5nZXMgaW1tZWRpYXRlbHkgdXNpbmcgdGhlIHVwZGF0ZWQgc3ltYm9sXHJcblx0XHRhcHBseU1lYXN1cmVtZW50VGV4dENoYW5nZXNXaXRoU3ltYm9sKHVwZGF0ZWRTeW1ib2wpO1xyXG5cdH07XHJcblxyXG5cdGNvbnN0IHVwZGF0ZU1lYXN1cmVtZW50Rm9udENvbG9yID0gKGNvbG9yVmFsdWU6IHN0cmluZykgPT4ge1xyXG5cdFx0Ly9jb25zb2xlLmxvZygnVXBkYXRpbmcgZm9udCBjb2xvciB0bzonLCBjb2xvclZhbHVlKTtcclxuXHJcblx0XHRpZiAoIW1lYXN1cmVtZW50VGV4dFN5bWJvbCB8fCAhc2VsZWN0ZWRNZWFzdXJlbWVudExhYmVsKSB7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ01pc3NpbmcgcmVxdWlyZWQgb2JqZWN0cyBmb3IgY29sb3IgdXBkYXRlJyk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBVcGRhdGUgc3RhdGUgZm9yIFVJIGNvbnNpc3RlbmN5XHJcblx0XHRzZXRNZWFzdXJlbWVudEZvbnRDb2xvcihjb2xvclZhbHVlKTtcclxuXHJcblx0XHQvLyBDcmVhdGUgdXBkYXRlZCBzeW1ib2wgaW1tZWRpYXRlbHkgdXNpbmcgdGhlIG5ldyBjb2xvciB2YWx1ZVxyXG5cdFx0Y29uc3QgdXBkYXRlZFN5bWJvbCA9IG1lYXN1cmVtZW50VGV4dFN5bWJvbC5jbG9uZSgpO1xyXG5cdFx0dXBkYXRlZFN5bWJvbC5jb2xvciA9IG5ldyBDb2xvcihjb2xvclZhbHVlKTtcclxuXHJcblx0XHQvLyBVcGRhdGUgc3ltYm9sIHN0YXRlXHJcblx0XHRzZXRNZWFzdXJlbWVudFRleHRTeW1ib2wodXBkYXRlZFN5bWJvbCk7XHJcblxyXG5cdFx0Ly8gQXBwbHkgY2hhbmdlcyBpbW1lZGlhdGVseSB1c2luZyB0aGUgdXBkYXRlZCBzeW1ib2xcclxuXHRcdGFwcGx5TWVhc3VyZW1lbnRUZXh0Q2hhbmdlc1dpdGhTeW1ib2wodXBkYXRlZFN5bWJvbCk7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgdXBkYXRlTWVhc3VyZW1lbnRGb250U2l6ZSA9IChzaXplOiBudW1iZXIpID0+IHtcclxuXHRcdC8vY29uc29sZS5sb2coJ1VwZGF0aW5nIGZvbnQgc2l6ZSB0bzonLCBzaXplKTtcclxuXHJcblx0XHRpZiAoIW1lYXN1cmVtZW50VGV4dFN5bWJvbCB8fCAhc2VsZWN0ZWRNZWFzdXJlbWVudExhYmVsKSB7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ01pc3NpbmcgcmVxdWlyZWQgb2JqZWN0cyBmb3Igc2l6ZSB1cGRhdGUnKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFVwZGF0ZSBzdGF0ZSBmb3IgVUkgY29uc2lzdGVuY3lcclxuXHRcdHNldE1lYXN1cmVtZW50Rm9udFNpemUoc2l6ZSk7XHJcblxyXG5cdFx0Ly8gQ3JlYXRlIHVwZGF0ZWQgc3ltYm9sIGltbWVkaWF0ZWx5IHVzaW5nIHRoZSBuZXcgc2l6ZSB2YWx1ZVxyXG5cdFx0Y29uc3QgdXBkYXRlZFN5bWJvbCA9IG1lYXN1cmVtZW50VGV4dFN5bWJvbC5jbG9uZSgpO1xyXG5cdFx0dXBkYXRlZFN5bWJvbC5mb250ID0gdXBkYXRlZFN5bWJvbC5mb250LmNsb25lKCk7XHJcblx0XHR1cGRhdGVkU3ltYm9sLmZvbnQuc2l6ZSA9IHNpemU7IC8vIFVzZSBwYXJhbWV0ZXIgdmFsdWUgZGlyZWN0bHlcclxuXHJcblx0XHQvLyBVcGRhdGUgc3ltYm9sIHN0YXRlXHJcblx0XHRzZXRNZWFzdXJlbWVudFRleHRTeW1ib2wodXBkYXRlZFN5bWJvbCk7XHJcblxyXG5cdFx0Ly8gQXBwbHkgY2hhbmdlcyBpbW1lZGlhdGVseSB1c2luZyB0aGUgdXBkYXRlZCBzeW1ib2xcclxuXHRcdGFwcGx5TWVhc3VyZW1lbnRUZXh0Q2hhbmdlc1dpdGhTeW1ib2wodXBkYXRlZFN5bWJvbCk7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgdXBkYXRlTWVhc3VyZW1lbnRGb250Um90YXRpb24gPSAocm90YXRpb246IG51bWJlcikgPT4ge1xyXG5cdFx0Ly9jb25zb2xlLmxvZygnVXBkYXRpbmcgZm9udCByb3RhdGlvbiB0bzonLCByb3RhdGlvbik7XHJcblxyXG5cdFx0aWYgKCFtZWFzdXJlbWVudFRleHRTeW1ib2wgfHwgIXNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbCkge1xyXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdNaXNzaW5nIHJlcXVpcmVkIG9iamVjdHMgZm9yIHJvdGF0aW9uIHVwZGF0ZScpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVXBkYXRlIHN0YXRlIGZvciBVSSBjb25zaXN0ZW5jeVxyXG5cdFx0c2V0TWVhc3VyZW1lbnRGb250Um90YXRpb24ocm90YXRpb24pO1xyXG5cclxuXHRcdC8vIENyZWF0ZSB1cGRhdGVkIHN5bWJvbCBpbW1lZGlhdGVseSB1c2luZyB0aGUgbmV3IHJvdGF0aW9uIHZhbHVlXHJcblx0XHRjb25zdCB1cGRhdGVkU3ltYm9sID0gbWVhc3VyZW1lbnRUZXh0U3ltYm9sLmNsb25lKCk7XHJcblx0XHR1cGRhdGVkU3ltYm9sLmFuZ2xlID0gcm90YXRpb247IC8vIFVzZSBwYXJhbWV0ZXIgdmFsdWUgZGlyZWN0bHlcclxuXHJcblx0XHQvLyBVcGRhdGUgc3ltYm9sIHN0YXRlXHJcblx0XHRzZXRNZWFzdXJlbWVudFRleHRTeW1ib2wodXBkYXRlZFN5bWJvbCk7XHJcblxyXG5cdFx0Ly8gQXBwbHkgY2hhbmdlcyBpbW1lZGlhdGVseSB1c2luZyB0aGUgdXBkYXRlZCBzeW1ib2xcclxuXHRcdGFwcGx5TWVhc3VyZW1lbnRUZXh0Q2hhbmdlc1dpdGhTeW1ib2wodXBkYXRlZFN5bWJvbCk7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgX2NhbGN1bGF0ZUFuZ2xlID0gKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpID0+IHtcclxuXHRcdGNvbnN0IGR4ID0geDIgLSB4MVxyXG5cdFx0Y29uc3QgZHkgPSB5MiAtIHkxXHJcblx0XHRjb25zdCBhbmdsZVJhZCA9IE1hdGguYXRhbjIoZHksIGR4KVxyXG5cdFx0bGV0IGFuZ2xlRGVnID0gYW5nbGVSYWQgKiAtMTgwIC8gTWF0aC5QSVxyXG5cdFx0aWYgKGFuZ2xlRGVnID4gOTAgfHwgYW5nbGVEZWcgPCAtOTApIHtcclxuXHRcdFx0YW5nbGVEZWcgPSAoYW5nbGVEZWcgKyAxODApICUgMzYwXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gYW5nbGVEZWdcclxuXHR9XHJcblxyXG5cdC8vIENhbGN1bGF0ZSB0aGUgb3ZlcmFsbCBhbmdsZS9kaXJlY3Rpb24gb2YgYSBwb2x5bGluZSBmb3IgbWFpbiBsYWJlbCByb3RhdGlvblxyXG5cdGNvbnN0IF9jYWxjdWxhdGVQb2x5bGluZUFuZ2xlID0gKGdlb21ldHJ5OiBfX2VzcmkuUG9seWxpbmUpID0+IHtcclxuXHRcdGlmICghZ2VvbWV0cnkgfHwgIWdlb21ldHJ5LnBhdGhzIHx8IGdlb21ldHJ5LnBhdGhzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBwYXRoID0gZ2VvbWV0cnkucGF0aHNbMF07IC8vIFVzZSB0aGUgZmlyc3QgcGF0aFxyXG5cdFx0aWYgKCFwYXRoIHx8IHBhdGgubGVuZ3RoIDwgMikge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBGb3Igc2ltcGxlIHBvbHlsaW5lcywgdXNlIHRoZSBhbmdsZSBvZiB0aGUgbG9uZ2VzdCBzZWdtZW50XHJcblx0XHRsZXQgbG9uZ2VzdFNlZ21lbnRMZW5ndGggPSAwO1xyXG5cdFx0bGV0IGxvbmdlc3RTZWdtZW50QW5nbGUgPSBudWxsO1xyXG5cclxuXHRcdGZvciAobGV0IGkgPSAxOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCBwb2ludDEgPSBwYXRoW2kgLSAxXTtcclxuXHRcdFx0Y29uc3QgcG9pbnQyID0gcGF0aFtpXTtcclxuXHJcblx0XHRcdC8vIENhbGN1bGF0ZSBzZWdtZW50IGxlbmd0aFxyXG5cdFx0XHRjb25zdCBkeCA9IHBvaW50MlswXSAtIHBvaW50MVswXTtcclxuXHRcdFx0Y29uc3QgZHkgPSBwb2ludDJbMV0gLSBwb2ludDFbMV07XHJcblx0XHRcdGNvbnN0IHNlZ21lbnRMZW5ndGggPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xyXG5cclxuXHRcdFx0Ly8gSWYgdGhpcyBpcyB0aGUgbG9uZ2VzdCBzZWdtZW50IHNvIGZhciwgdXNlIGl0cyBhbmdsZVxyXG5cdFx0XHRpZiAoc2VnbWVudExlbmd0aCA+IGxvbmdlc3RTZWdtZW50TGVuZ3RoKSB7XHJcblx0XHRcdFx0bG9uZ2VzdFNlZ21lbnRMZW5ndGggPSBzZWdtZW50TGVuZ3RoO1xyXG5cdFx0XHRcdGxvbmdlc3RTZWdtZW50QW5nbGUgPSBfY2FsY3VsYXRlQW5nbGUocG9pbnQxWzBdLCBwb2ludDFbMV0sIHBvaW50MlswXSwgcG9pbnQyWzFdKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBsb25nZXN0U2VnbWVudEFuZ2xlO1xyXG5cdH07XHJcblxyXG5cdC8vZmluZHMgd2hlcmUgdG8gcGxhY2UgYSBsYWJlbFxyXG5cdGNvbnN0IF9nZXRMYWJlbFBvaW50ID0gKGdlb21ldHJ5KSA9PiB7XHJcblx0XHRpZiAoIWdlb21ldHJ5KSByZXR1cm4gbnVsbDtcclxuXHJcblx0XHQvLyBJZiBhbHJlYWR5IGEgcG9pbnQsIHJldHVybiBpdCBkaXJlY3RseVxyXG5cdFx0aWYgKGdlb21ldHJ5LnR5cGUgPT09ICdwb2ludCcpIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBQb2ludCh7XHJcblx0XHRcdFx0eDogZ2VvbWV0cnkueCxcclxuXHRcdFx0XHR5OiBnZW9tZXRyeS55LFxyXG5cdFx0XHRcdHNwYXRpYWxSZWZlcmVuY2U6IGdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2VcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSWYgdGhlIGdlb21ldHJ5IHN1cHBvcnRzIGNlbnRyb2lkIChlLmcuIFBvbHlnb24pLCB1c2UgaXRcclxuXHRcdGlmICgnY2VudHJvaWQnIGluIGdlb21ldHJ5ICYmIGdlb21ldHJ5LmNlbnRyb2lkKSB7XHJcblx0XHRcdHJldHVybiBnZW9tZXRyeS5jZW50cm9pZDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBGYWxsYmFjayB0byBleHRlbnQgY2VudGVyIGlmIGF2YWlsYWJsZVxyXG5cdFx0aWYgKGdlb21ldHJ5LmV4dGVudD8uY2VudGVyKSB7XHJcblx0XHRcdHJldHVybiBnZW9tZXRyeS5leHRlbnQuY2VudGVyO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnNvbGUud2FybignVW5hYmxlIHRvIGRldGVybWluZSBsYWJlbCBwb2ludCBmb3IgZ2VvbWV0cnkgdHlwZTonLCBnZW9tZXRyeS50eXBlKTtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH07XHJcblxyXG5cdC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgc2VnbWVudCBtaWRwb2ludFxyXG5cdGNvbnN0IF9nZXRTZWdtZW50TWlkcG9pbnQgPSAocG9pbnQxOiBudW1iZXJbXSwgcG9pbnQyOiBudW1iZXJbXSwgZ2VvbWV0cnk6IF9fZXNyaS5HZW9tZXRyeSk6IF9fZXNyaS5Qb2ludCB8IG51bGwgPT4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgbWlkWCA9IChwb2ludDFbMF0gKyBwb2ludDJbMF0pIC8gMjtcclxuXHRcdFx0Y29uc3QgbWlkWSA9IChwb2ludDFbMV0gKyBwb2ludDJbMV0pIC8gMjtcclxuXHJcblx0XHRcdHJldHVybiBuZXcgUG9pbnQoe1xyXG5cdFx0XHRcdHg6IG1pZFgsXHJcblx0XHRcdFx0eTogbWlkWSxcclxuXHRcdFx0XHRzcGF0aWFsUmVmZXJlbmNlOiBnZW9tZXRyeS5zcGF0aWFsUmVmZXJlbmNlXHJcblx0XHRcdH0pO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3IgY2FsY3VsYXRpbmcgc2VnbWVudCBtaWRwb2ludDonLCBlcnJvcik7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8vIEhlbHBlciBmdW5jdGlvbiB0byBmb3JjZSBtYXAgcmVmcmVzaFxyXG5cdGNvbnN0IGZvcmNlTWFwUmVmcmVzaCA9ICgpID0+IHtcclxuXHRcdGlmICghY3VycmVudE1hcFZpZXcpIHJldHVybjtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBNZXRob2QgMTogVXNlIHJlZHJhdyBtZXRob2QgaWYgYXZhaWxhYmxlXHJcblx0XHRcdGlmICh0eXBlb2YgKGN1cnJlbnRNYXBWaWV3IGFzIGFueSkucmVkcmF3ID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0KGN1cnJlbnRNYXBWaWV3IGFzIGFueSkucmVkcmF3KCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIE1ldGhvZCAyOiBUb2dnbGUgbGF5ZXIgdmlzaWJpbGl0eSBicmllZmx5XHJcblx0XHRcdGlmIChkcmF3TGF5ZXIgJiYgZHJhd0xheWVyLnZpc2libGUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdGNvbnN0IHdhc1Zpc2libGUgPSBkcmF3TGF5ZXIudmlzaWJsZTtcclxuXHRcdFx0XHRkcmF3TGF5ZXIudmlzaWJsZSA9IGZhbHNlO1xyXG5cdFx0XHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoZHJhd0xheWVyKSB7XHJcblx0XHRcdFx0XHRcdGRyYXdMYXllci52aXNpYmxlID0gd2FzVmlzaWJsZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gTWV0aG9kIDM6IEZvcmNlIGxheWVyIHJlZnJlc2ggaWYgYXZhaWxhYmxlXHJcblx0XHRcdGlmIChkcmF3TGF5ZXIgJiYgdHlwZW9mIChkcmF3TGF5ZXIgYXMgYW55KS5yZWZyZXNoID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0KGRyYXdMYXllciBhcyBhbnkpLnJlZnJlc2goKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKCdFcnJvciBmb3JjaW5nIG1hcCByZWZyZXNoOicsIGVycm9yKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvLyBGdW5jdGlvbiB0byBlbnN1cmUgbGFiZWwgdmlzaWJpbGl0eVxyXG5cdGNvbnN0IGVuc3VyZUxhYmVsVmlzaWJpbGl0eSA9IChsYWJlbEdyYXBoaWM6IEV4dGVuZGVkR3JhcGhpYykgPT4ge1xyXG5cdFx0aWYgKCFsYWJlbEdyYXBoaWMgfHwgIWRyYXdMYXllcikgcmV0dXJuO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIEZvcmNlIHRoZSBsYWJlbCB0byBiZSB2aXNpYmxlXHJcblx0XHRcdGxhYmVsR3JhcGhpYy52aXNpYmxlID0gdHJ1ZTtcclxuXHJcblx0XHRcdC8vIFJlb3JkZXIgdGhlIGxhYmVsIHRvIGVuc3VyZSBpdCdzIG9uIHRvcFxyXG5cdFx0XHRpZiAoZHJhd0xheWVyLmdyYXBoaWNzLmluY2x1ZGVzKGxhYmVsR3JhcGhpYykpIHtcclxuXHRcdFx0XHRkcmF3TGF5ZXIucmVtb3ZlKGxhYmVsR3JhcGhpYyk7XHJcblx0XHRcdFx0ZHJhd0xheWVyLmFkZChsYWJlbEdyYXBoaWMpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBGb3JjZSBhIHJlZnJlc2ggYWZ0ZXIgYSBicmllZiBkZWxheVxyXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRmb3JjZU1hcFJlZnJlc2goKTtcclxuXHRcdFx0fSwgMTAwKTtcclxuXHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLndhcm4oJ0Vycm9yIGVuc3VyaW5nIGxhYmVsIHZpc2liaWxpdHk6JywgZXJyb3IpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8vIE1pbmltYWwgdGhyb3R0bGluZyBvbmx5IGZvciBjb21wbGV0ZSBldmVudHNcclxuXHRjb25zdCB0aHJvdHRsZWRDb21wbGV0ZVVwZGF0ZSA9IChncmFwaGljOiBFeHRlbmRlZEdyYXBoaWMpID0+IHtcclxuXHRcdGlmICghZ3JhcGhpYyB8fCAhZ3JhcGhpYy5nZW9tZXRyeSB8fCBpc01lYXN1cmVtZW50TGFiZWwoZ3JhcGhpYykpIHJldHVybjtcclxuXHJcblx0XHRjb25zdCBncmFwaGljSWQgPSBnZXRHcmFwaGljSWQoZ3JhcGhpYyk7XHJcblxyXG5cdFx0Ly8gQ2xlYXIgYW55IGV4aXN0aW5nIHRpbWVvdXQgZm9yIHRoaXMgZ3JhcGhpY1xyXG5cdFx0Y29uc3QgZXhpc3RpbmdUaW1lb3V0ID0gY29tcGxldGVUaW1lb3V0cy5nZXQoZ3JhcGhpY0lkKTtcclxuXHRcdGlmIChleGlzdGluZ1RpbWVvdXQpIHtcclxuXHRcdFx0Y2xlYXJUaW1lb3V0KGV4aXN0aW5nVGltZW91dCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2NoZWR1bGUgdXBkYXRlIHdpdGggbWluaW1hbCBkZWxheSBmb3IgY29tcGxldGUgZXZlbnRzIG9ubHlcclxuXHRcdGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRfYWRkTWVhc3VyZW1lbnQoZ3JhcGhpYywgbnVsbCwgdHJ1ZSk7IC8vIEZvcmNlIHVwZGF0ZVxyXG5cdFx0XHRzZXRDb21wbGV0ZVRpbWVvdXRzKHByZXYgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IG5ld01hcCA9IG5ldyBNYXAocHJldik7XHJcblx0XHRcdFx0bmV3TWFwLmRlbGV0ZShncmFwaGljSWQpO1xyXG5cdFx0XHRcdHJldHVybiBuZXdNYXA7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSwgQ09NUExFVEVfVEhST1RUTEVfREVMQVkpO1xyXG5cclxuXHRcdHNldENvbXBsZXRlVGltZW91dHMocHJldiA9PiBuZXcgTWFwKHByZXYpLnNldChncmFwaGljSWQsIHRpbWVvdXRJZCkpO1xyXG5cdH07XHJcblxyXG5cdC8vIFNpbXBsZSBjbGVhbnVwIGZvciBjb21wbGV0ZSB0aW1lb3V0cyBvbmx5XHJcblx0Y29uc3QgY2xlYW51cENvbXBsZXRlVGhyb3R0bGluZyA9IChncmFwaGljOiBFeHRlbmRlZEdyYXBoaWMpID0+IHtcclxuXHRcdGlmICghZ3JhcGhpYykgcmV0dXJuO1xyXG5cclxuXHRcdGNvbnN0IGdyYXBoaWNJZCA9IGdldEdyYXBoaWNJZChncmFwaGljKTtcclxuXHJcblx0XHQvLyBDbGVhciB0aW1lb3V0XHJcblx0XHRjb25zdCBleGlzdGluZ1RpbWVvdXQgPSBjb21wbGV0ZVRpbWVvdXRzLmdldChncmFwaGljSWQpO1xyXG5cdFx0aWYgKGV4aXN0aW5nVGltZW91dCkge1xyXG5cdFx0XHRjbGVhclRpbWVvdXQoZXhpc3RpbmdUaW1lb3V0KTtcclxuXHRcdFx0c2V0Q29tcGxldGVUaW1lb3V0cyhwcmV2ID0+IHtcclxuXHRcdFx0XHRjb25zdCBuZXdNYXAgPSBuZXcgTWFwKHByZXYpO1xyXG5cdFx0XHRcdG5ld01hcC5kZWxldGUoZ3JhcGhpY0lkKTtcclxuXHRcdFx0XHRyZXR1cm4gbmV3TWFwO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvLyBHYXRlOiBvbmx5IGFsbG93IGdlbmVyYXRpb24gd2hlbiB0b2dnbGUgaXMgT04gYW5kIHRoaXMgaXMgbm90IGEgbGFiZWwgaXRzZWxmXHJcblx0Y29uc3Qgc2hvdWxkR2VuZXJhdGVNZWFzdXJlbWVudHMgPSAoZz86IEV4dGVuZGVkR3JhcGhpYykgPT5cclxuXHRcdCEhbWVhc3VyZUVuYWJsZWRSZWYuY3VycmVudCAmJiAoIWcgfHwgIWlzTWVhc3VyZW1lbnRMYWJlbChnKSk7XHJcblxyXG5cdC8vIEJlc3QtZWZmb3J0IGNhbmNlbCBvZiBxdWV1ZWQgd29yayBzbyBub3RoaW5nIHJ1bnMgYWZ0ZXIgd2UgdHVybiBPRkZcclxuXHRjb25zdCBjYW5jZWxQZW5kaW5nTWVhc3VyZW1lbnRXb3JrID0gKCkgPT4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cHJvY2Vzc2luZ1F1ZXVlLmN1cnJlbnQ/LmNsZWFyPy4oKTtcclxuXHRcdH0gY2F0Y2ggeyB9XHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBJZiB5b3VyIGRlYm91bmNlZCBmbiBleHBvc2VzIGNhbmNlbCgpIChsb2Rhc2guZGVib3VuY2UpLCBjYWxsIGl0OlxyXG5cdFx0XHRkZWJvdW5jZWRVcGRhdGVNZWFzdXJlbWVudHMuY3VycmVudCA9IGRlYm91bmNlKChnOiBFeHRlbmRlZEdyYXBoaWMpID0+IHtcclxuXHRcdFx0XHRpZiAoIXNob3VsZEdlbmVyYXRlTWVhc3VyZW1lbnRzKGcpKSByZXR1cm47XHJcblx0XHRcdFx0X2FkZE1lYXN1cmVtZW50KGcsIG51bGwsIGZhbHNlKTtcclxuXHRcdFx0fSwgMTIwKTtcclxuXHRcdH0gY2F0Y2ggeyB9XHJcblx0fTtcclxuXHJcblxyXG5cdC8vY2FsY3VsYXRlIG1lYXN1cmVtZW50cyBhbmQgcmV0dXJuIGEgdGV4dCB2YWx1ZVxyXG5cdGNvbnN0IF9nZXRNZWFzdXJlVGV4dCA9IChnZW9tZXRyeSwgcGFyZW50R3JhcGhpYywgY3VzdG9tRGlzdGFuY2VVbml0ID0gbnVsbCwgY3VzdG9tQXJlYVVuaXQgPSBudWxsLCBncmFwaGljID0gbnVsbCkgPT4ge1xyXG5cdFx0aWYgKCFnZW9tZXRyeSkgcmV0dXJuICcnO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnREaXN0YW5jZVVuaXQgPSBjdXN0b21EaXN0YW5jZVVuaXQgfHwgZGlzdGFuY2VVbml0LnVuaXQ7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRBcmVhVW5pdCA9IGN1c3RvbUFyZWFVbml0IHx8IGFyZWFVbml0LnVuaXQ7XHJcblxyXG5cdFx0XHRzd2l0Y2ggKGdlb21ldHJ5LnR5cGUpIHtcclxuXHRcdFx0XHRjYXNlICdwb2x5bGluZSc6IHtcclxuXHRcdFx0XHRcdGNvbnN0IGxlbmd0aCA9IF9jYWxjdWxhdGVQb2x5bGluZUxlbmd0aChnZW9tZXRyeSk7XHJcblx0XHRcdFx0XHRjb25zdCBsZW5ndGhVbml0SW5mbyA9IGF2YWlsYWJsZURpc3RhbmNlVW5pdHMuZmluZCh1ID0+IHUudW5pdCA9PT0gY3VycmVudERpc3RhbmNlVW5pdCk7XHJcblx0XHRcdFx0XHRjb25zdCBsZW5ndGhVbml0TGFiZWwgPSBsZW5ndGhVbml0SW5mbyA/IGxlbmd0aFVuaXRJbmZvLmFiYnJldmlhdGlvbiA6IGN1cnJlbnREaXN0YW5jZVVuaXQ7XHJcblxyXG5cdFx0XHRcdFx0bGV0IHBvbHlsaW5lUGF0dGVybiA9IGxlbmd0aE9uID8gcHJvcHMuY29uZmlnLm1lYXN1cmVQb2x5bGluZUxhYmVsIHx8ICd7e2xlbmd0aH19IHt7bGVuZ3RoVW5pdH19JyA6ICcnO1xyXG5cdFx0XHRcdFx0aWYgKHNob3VsZENyZWF0ZVNlZ21lbnRzKGdlb21ldHJ5KSkge1xyXG5cdFx0XHRcdFx0XHRwb2x5bGluZVBhdHRlcm4gPSAnVG90YWw6ICcgKyBwb2x5bGluZVBhdHRlcm5cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmIChwYXJlbnRHcmFwaGljKSB7XHJcblx0XHRcdFx0XHRcdHBvbHlsaW5lUGF0dGVybiA9IHByb3BzLmNvbmZpZy5tZWFzdXJlUG9seWxpbmVMYWJlbCB8fCAne3tsZW5ndGh9fSB7e2xlbmd0aFVuaXR9fSc7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIHBvbHlsaW5lUGF0dGVyblxyXG5cdFx0XHRcdFx0XHQucmVwbGFjZSgve3tsZW5ndGh9fS9nLCBfcm91bmQobGVuZ3RoLCBvdGhlclJvdW5kKS50b0xvY2FsZVN0cmluZygpKVxyXG5cdFx0XHRcdFx0XHQucmVwbGFjZSgve3tsZW5ndGhVbml0fX0vZywgbGVuZ3RoVW5pdExhYmVsKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGNhc2UgJ3BvbHlnb24nOiB7XHJcblx0XHRcdFx0XHRjb25zdCBhcmVhID0gX2NhbGN1bGF0ZVBvbHlnb25BcmVhKGdlb21ldHJ5KVxyXG5cdFx0XHRcdFx0Y29uc3QgcGVyaW1ldGVyID0gX2NhbGN1bGF0ZVBvbHlnb25QZXJpbWV0ZXIoZ2VvbWV0cnkpO1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IGFyZWFVbml0SW5mbyA9IGFyZWFVbml0cy5maW5kKHUgPT4gdS51bml0ID09PSBjdXJyZW50QXJlYVVuaXQpO1xyXG5cdFx0XHRcdFx0Y29uc3QgYXJlYVVuaXRMYWJlbCA9IGFyZWFVbml0SW5mbyA/IGFyZWFVbml0SW5mby5hYmJyZXZpYXRpb24gOiBjdXJyZW50QXJlYVVuaXQ7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgcGVyaW1ldGVyVW5pdEluZm8gPSBhdmFpbGFibGVEaXN0YW5jZVVuaXRzLmZpbmQodSA9PiB1LnVuaXQgPT09IGN1cnJlbnREaXN0YW5jZVVuaXQpO1xyXG5cdFx0XHRcdFx0Y29uc3QgcGVyaW1ldGVyVW5pdExhYmVsID0gcGVyaW1ldGVyVW5pdEluZm8gPyBwZXJpbWV0ZXJVbml0SW5mby5hYmJyZXZpYXRpb24gOiBjdXJyZW50RGlzdGFuY2VVbml0O1xyXG5cclxuXHRcdFx0XHRcdGxldCBkZWZhdWx0UGF0dGVybiA9ICcnXHJcblx0XHRcdFx0XHRpZiAoYXJlYU9uICYmIHBlcmltZXRlck9uKSB7XHJcblx0XHRcdFx0XHRcdGRlZmF1bHRQYXR0ZXJuID0gJ0FyZWE6IHt7YXJlYX19IHt7YXJlYVVuaXR9fVxcblBlcmltZXRlcjoge3tsZW5ndGh9fSB7e2xlbmd0aFVuaXR9fSdcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoYXJlYU9uKSB7XHJcblx0XHRcdFx0XHRcdGRlZmF1bHRQYXR0ZXJuID0gJ0FyZWE6IHt7YXJlYX19IHt7YXJlYVVuaXR9fSdcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAocGVyaW1ldGVyT24pIHtcclxuXHRcdFx0XHRcdFx0ZGVmYXVsdFBhdHRlcm4gPSAnUGVyaW1ldGVyOiB7e2xlbmd0aH19IHt7bGVuZ3RoVW5pdH19J1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Y29uc3QgcG9seWdvblBhdHRlcm4gPSBwcm9wcy5jb25maWcubWVhc3VyZVBvbHlnb25MYWJlbCB8fCBkZWZhdWx0UGF0dGVybjtcclxuXHJcblx0XHRcdFx0XHRsZXQgcmVzdWx0ID0gcG9seWdvblBhdHRlcm5cclxuXHRcdFx0XHRcdFx0LnJlcGxhY2UoL3t7YXJlYX19L2csIF9yb3VuZChhcmVhLCBvdGhlclJvdW5kKS50b0xvY2FsZVN0cmluZygpKVxyXG5cdFx0XHRcdFx0XHQucmVwbGFjZSgve3thcmVhVW5pdH19L2csIGFyZWFVbml0TGFiZWwpXHJcblx0XHRcdFx0XHRcdC5yZXBsYWNlKC97e2xlbmd0aH19L2csIF9yb3VuZChwZXJpbWV0ZXIsIG90aGVyUm91bmQpLnRvTG9jYWxlU3RyaW5nKCkpXHJcblx0XHRcdFx0XHRcdC5yZXBsYWNlKC97e2xlbmd0aFVuaXR9fS9nLCBwZXJpbWV0ZXJVbml0TGFiZWwpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChnZW9tZXRyeS5yaW5nc1swXS5sZW5ndGggPT09IDYxICYmIHJhZGl1c09uKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHJhZGl1cyA9IE1hdGguYWJzKHBlcmltZXRlciAvICgyICogTWF0aC5QSSkpOyAvLyBFbnN1cmUgcG9zaXRpdmUgcmFkaXVzXHJcblx0XHRcdFx0XHRcdHJlc3VsdCArPSBgXFxuUmFkaXVzOiAke19yb3VuZChyYWRpdXMsIG90aGVyUm91bmQpLnRvTG9jYWxlU3RyaW5nKCl9ICR7cGVyaW1ldGVyVW5pdEluZm8uYWJicmV2aWF0aW9ufWA7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oYFVuc3VwcG9ydGVkIGdlb21ldHJ5IHR5cGUgZm9yIG1lYXN1cmVtZW50OiAke2dlb21ldHJ5LnR5cGV9YCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbGN1bGF0aW5nIG1lYXN1cmVtZW50OicsIGVycm9yKTtcclxuXHRcdFx0cmV0dXJuICdFcnJvciBjYWxjdWxhdGluZyBtZWFzdXJlbWVudCc7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly9maW5kIGxlbmd0aCBvZiBsaW5lXHJcblx0Y29uc3QgX2NhbGN1bGF0ZVBvbHlsaW5lTGVuZ3RoID0gKHBvbHlsaW5lKSA9PiB7XHJcblx0XHRsZXQgdG90YWxMZW5ndGggPSAwO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0aWYgKHBvbHlsaW5lLnNwYXRpYWxSZWZlcmVuY2UuaXNXR1M4NCB8fCBwb2x5bGluZS5zcGF0aWFsUmVmZXJlbmNlLmlzV2ViTWVyY2F0b3IpIHtcclxuXHRcdFx0XHR0b3RhbExlbmd0aCA9IGdlb2RldGljTGVuZ3RoT3BlcmF0b3IuZXhlY3V0ZShwb2x5bGluZSwgeyB1bml0OiAnbWV0ZXJzJyB9KVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRvdGFsTGVuZ3RoID0gbGVuZ3RoT3BlcmF0b3IuZXhlY3V0ZShwb2x5bGluZSwgeyB1bml0OiAnbWV0ZXJzJyB9KVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBfY29udmVydExlbmd0aChNYXRoLmFicyh0b3RhbExlbmd0aCksIGRpc3RhbmNlVW5pdCk7IC8vIEVuc3VyZSBwb3NpdGl2ZSBsZW5ndGhcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbGN1bGF0aW5nIHBvbHlsaW5lIGxlbmd0aDonLCBlcnJvcik7XHJcblx0XHRcdHJldHVybiAwO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8vZmluZCBwZXJpbWV0ZXJcclxuXHRjb25zdCBfY2FsY3VsYXRlUG9seWdvblBlcmltZXRlciA9IChwb2x5Z29uKSA9PiB7XHJcblx0XHRsZXQgcGVyaW1ldGVyID0gMDtcclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIFVzZSBwcm9wZXIgdHlwaW5nIGZvciBwb2x5Z29uXHJcblx0XHRcdGNvbnN0IHBvbHlnb25HZW9tZXRyeSA9IHBvbHlnb24gYXMgX19lc3JpLlBvbHlnb247XHJcblx0XHRcdGNvbnN0IHJpbmdzID0gcG9seWdvbkdlb21ldHJ5LnJpbmdzIHx8IFtdO1xyXG5cclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByaW5ncy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGNvbnN0IHBvaW50QXJyYXkgPSByaW5nc1tpXTtcclxuXHRcdFx0XHRmb3IgKGxldCBqID0gMTsgaiA8IHBvaW50QXJyYXkubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdGNvbnN0IHRlbXBHcmFwaGljID0gbWFrZVRlbXBMaW5lR3JhcGhpYyhwb2ludEFycmF5W2ogLSAxXSwgcG9pbnRBcnJheVtqXSwgcG9seWdvbik7XHJcblx0XHRcdFx0XHRsZXQgc2VnbWVudExlbmd0aCA9IDA7XHJcblx0XHRcdFx0XHRpZiAocG9seWdvbi5zcGF0aWFsUmVmZXJlbmNlLmlzV0dTODQgfHwgcG9seWdvbi5zcGF0aWFsUmVmZXJlbmNlLmlzV2ViTWVyY2F0b3IpIHtcclxuXHRcdFx0XHRcdFx0c2VnbWVudExlbmd0aCA9IGdlb2RldGljTGVuZ3RoT3BlcmF0b3IuZXhlY3V0ZSh0ZW1wR3JhcGhpYy5nZW9tZXRyeSwgeyB1bml0OiAnbWV0ZXJzJyB9KTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHNlZ21lbnRMZW5ndGggPSBsZW5ndGhPcGVyYXRvci5leGVjdXRlKHRlbXBHcmFwaGljLmdlb21ldHJ5LCB7IHVuaXQ6ICdtZXRlcnMnIH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cGVyaW1ldGVyICs9IE1hdGguYWJzKHNlZ21lbnRMZW5ndGgpOyAvLyBFbnN1cmUgcG9zaXRpdmUgc2VnbWVudCBsZW5ndGhcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIF9jb252ZXJ0TGVuZ3RoKHBlcmltZXRlciwgZGlzdGFuY2VVbml0KTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbGN1bGF0aW5nIHBvbHlnb24gcGVyaW1ldGVyOicsIGVycm9yKTtcclxuXHRcdFx0cmV0dXJuIDA7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly9maW5kIGFyZWFcclxuXHRjb25zdCBfY2FsY3VsYXRlUG9seWdvbkFyZWEgPSAocG9seWdvbikgPT4ge1xyXG5cdFx0bGV0IGFyZWEgPSAwO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0aWYgKHBvbHlnb24uc3BhdGlhbFJlZmVyZW5jZS5pc1dHUzg0IHx8IHBvbHlnb24uc3BhdGlhbFJlZmVyZW5jZS5pc1dlYk1lcmNhdG9yKSB7XHJcblx0XHRcdFx0YXJlYSA9IGdlb2RldGljQXJlYU9wZXJhdG9yLmV4ZWN1dGUocG9seWdvbiwgeyB1bml0OiAnc3F1YXJlLW1ldGVycycgfSlcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRhcmVhID0gYXJlYU9wZXJhdG9yLmV4ZWN1dGUocG9seWdvbiwgeyB1bml0OiAnc3F1YXJlLW1ldGVycycgfSlcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gX2NvbnZlcnRBcmVhKGFyZWEsIGFyZWFVbml0KTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbGN1bGF0aW5nIHBvbHlnb24gYXJlYTonLCBlcnJvcik7XHJcblx0XHRcdHJldHVybiAwO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8vIGNvbnZlcnQgbGVuZ3RoIHRvIGRlc2lyZWQgdW5pdFxyXG5cdGNvbnN0IF9jb252ZXJ0TGVuZ3RoID0gKGxlbmd0aCwgdW5pdCkgPT4ge1xyXG5cdFx0Y29uc3QgZmFjdG9yID0gdW5pdC5jb252ZXJzaW9uIHx8IDE7XHJcblx0XHRyZXR1cm4gbGVuZ3RoICogZmFjdG9yO1xyXG5cdH07XHJcblxyXG5cdC8vY29udmVydCBhcmVhIHRvIGRlc2lyZWQgdW5pdFxyXG5cdGNvbnN0IF9jb252ZXJ0QXJlYSA9IChhcmVhLCB1bml0KSA9PiB7XHJcblx0XHRjb25zdCBmYWN0b3IgPSB1bml0LmNvbnZlcnNpb24gfHwgMTtcclxuXHRcdHJldHVybiBhcmVhICogZmFjdG9yO1xyXG5cdH07XHJcblxyXG5cdC8vIEhlbHBlciBmdW5jdGlvbiB0byBjYWxjdWxhdGUgc2VnbWVudCBsZW5ndGggZGlyZWN0bHlcclxuXHRjb25zdCBfY2FsY3VsYXRlU2VnbWVudExlbmd0aCA9IChwb2ludDE6IG51bWJlcltdLCBwb2ludDI6IG51bWJlcltdLCBnZW9tZXRyeTogX19lc3JpLkdlb21ldHJ5KTogbnVtYmVyID0+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHRlbXBMaW5lID0gbmV3IFBvbHlsaW5lKHtcclxuXHRcdFx0XHRwYXRoczogW1twb2ludDEsIHBvaW50Ml1dLFxyXG5cdFx0XHRcdHNwYXRpYWxSZWZlcmVuY2U6IGdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2VcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRsZXQgc2VnbWVudExlbmd0aCA9IDA7XHJcblx0XHRcdGlmIChnZW9tZXRyeS5zcGF0aWFsUmVmZXJlbmNlLmlzV0dTODQgfHwgZ2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZS5pc1dlYk1lcmNhdG9yKSB7XHJcblx0XHRcdFx0c2VnbWVudExlbmd0aCA9IGdlb2RldGljTGVuZ3RoT3BlcmF0b3IuZXhlY3V0ZSh0ZW1wTGluZSwgeyB1bml0OiAnbWV0ZXJzJyB9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRzZWdtZW50TGVuZ3RoID0gbGVuZ3RoT3BlcmF0b3IuZXhlY3V0ZSh0ZW1wTGluZSwgeyB1bml0OiAnbWV0ZXJzJyB9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIF9jb252ZXJ0TGVuZ3RoKE1hdGguYWJzKHNlZ21lbnRMZW5ndGgpLCBkaXN0YW5jZVVuaXQpOyAvLyBFbnN1cmUgcG9zaXRpdmUgc2VnbWVudCBsZW5ndGhcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbGN1bGF0aW5nIHNlZ21lbnQgbGVuZ3RoOicsIGVycm9yKTtcclxuXHRcdFx0cmV0dXJuIDA7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly9yb3VuZCBvdXRwdXQgdG8gZGVzaXJlZCBkZWNpbWFscyBhbmQgZW5zdXJlIG5vIG5lZ2F0aXZlIHZhbHVlc1xyXG5cdGNvbnN0IF9yb3VuZCA9IChudW1iZXIsIGRlY2ltYWxzID0gMCkgPT4ge1xyXG5cdFx0cmV0dXJuIE51bWJlcihNYXRoLmFicyhudW1iZXIpLnRvRml4ZWQoZGVjaW1hbHMpKVxyXG5cdH1cclxuXHJcblx0Ly9tYWtlcyBhbiBpbnZpc2libGUgY29weSBvZiBhIGxpbmUgc2VnbWVudCBmb3IgY2FsY3VsYXRpbmcgZGlzdGFuY2UgYW5kIHBsYWNpbmcgdGV4dFxyXG5cdGNvbnN0IG1ha2VUZW1wTGluZUdyYXBoaWMgPSAocG9pbnQxLCBwb2ludDIsIGdlb21ldHJ5KSA9PiB7XHJcblx0XHRjb25zdCB0ZW1wTGluZSA9IG5ldyBQb2x5bGluZSh7XHJcblx0XHRcdHBhdGhzOiBbW3BvaW50MSwgcG9pbnQyXV0sXHJcblx0XHRcdHNwYXRpYWxSZWZlcmVuY2U6IGdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2VcclxuXHRcdH0pXHJcblx0XHRjb25zdCB0ZW1wR3JhcGhpYyA9IG5ldyBHcmFwaGljKHtcclxuXHRcdFx0Z2VvbWV0cnk6IHRlbXBMaW5lLFxyXG5cdFx0XHRzeW1ib2w6IHtcclxuXHRcdFx0XHR0eXBlOiAnc2ltcGxlLWxpbmUnXHJcblx0XHRcdH0sXHJcblx0XHRcdHZpc2libGU6IGZhbHNlXHJcblx0XHR9KVxyXG5cdFx0cmV0dXJuIHRlbXBHcmFwaGljXHJcblx0fVxyXG5cclxuXHRjb25zdCBlbnN1cmVQYXJlbnRPbkxheWVyQW5kVmlzaWJsZSA9IGFzeW5jIChnOiBFeHRlbmRlZEdyYXBoaWMpID0+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGlmICghZykgcmV0dXJuO1xyXG5cdFx0XHQvLyBNYXJrIGFzIGRyYXdpbmcgKGhlbHBzIG90aGVyIGNvZGVwYXRocyBpZ25vcmUgaXQgZHVyaW5nIGxhYmVsIGNsZWFudXBzKVxyXG5cdFx0XHRnLmF0dHJpYnV0ZXMgPSBnLmF0dHJpYnV0ZXMgfHwge307XHJcblx0XHRcdGcuYXR0cmlidXRlcy5pc0RyYXdpbmcgPSB0cnVlOyAvLyBuZXZlciBzZXQgdGhpcyBvbiBsYWJlbHNcclxuXHJcblx0XHRcdC8vIEVuc3VyZSBpdOKAmXMgb24gdGhlIGxheWVyIGFuZCB2aXNpYmxlXHJcblx0XHRcdGlmICghc2FmZUxheWVyQ29udGFpbnMoZykpIGRyYXdMYXllci5hZGQoZyk7XHJcblx0XHRcdGlmIChnLnZpc2libGUgPT09IGZhbHNlKSBnLnZpc2libGUgPSB0cnVlO1xyXG5cclxuXHRcdFx0Ly8gRm9yY2UgYSByZW5kZXIgdHVybiBiZWZvcmUgd2UgYWRkIGxhYmVsc1xyXG5cdFx0XHRjb25zdCB2ID0gc2tldGNoVmlld01vZGVsPy52aWV3O1xyXG5cdFx0XHRpZiAodiAmJiB0eXBlb2Ygdi53aGVuTGF5ZXJWaWV3ID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0dHJ5IHsgYXdhaXQgdi53aGVuTGF5ZXJWaWV3KGRyYXdMYXllciBhcyBhbnkpOyB9IGNhdGNoIHsgLyogbm9vcCAqLyB9XHJcblx0XHRcdH1cclxuXHRcdFx0YXdhaXQgbmV3IFByb21pc2UociA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gcihudWxsKSkpO1xyXG5cclxuXHRcdFx0Ly8gVHJ5IGEgc29mdCByZWZyZXNoIGlmIGF2YWlsYWJsZVxyXG5cdFx0XHRpZiAodHlwZW9mIChkcmF3TGF5ZXIgYXMgYW55KS5yZWZyZXNoID09PSAnZnVuY3Rpb24nKSAoZHJhd0xheWVyIGFzIGFueSkucmVmcmVzaCgpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRjb25zb2xlLndhcm4oJ1BhcmVudCBwZXJzaXN0ZW5jZSBmYWlsZWQ6JywgZSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblxyXG5cdGNvbnN0IGNsZWFuRXhpc3RpbmdNZWFzdXJlbWVudHMgPSAoZ3JhcGhpYykgPT4ge1xyXG5cdFx0aWYgKCFncmFwaGljKSByZXR1cm47XHJcblxyXG5cdFx0Ly8gTmV2ZXIgdG91Y2ggbm9uLXRleHQgcGFyZW50IGRyYXdpbmdzIGhlcmVcclxuXHRcdC8vIE9ubHkgY2xlYXIgbWVhc3VyZW1lbnQgcmVmZXJlbmNlcyBvbiB0aGUgcGFyZW50LCBhbmQgcmVtb3ZlIG1lYXN1cmVtZW50LW9ubHkgZ3JhcGhpY3MuXHJcblx0XHRpZiAoIWlzTGF5ZXJCYXNpY2FsbHlWYWxpZCgpKSB7XHJcblx0XHRcdGNvbnNvbGUud2FybignRHJhd0xheWVyIG5vdCBhdmFpbGFibGUgZm9yIGNsZWFudXAgLSBjbGVhcmluZyByZWZlcmVuY2VzIG9ubHknKTtcclxuXHRcdFx0aWYgKGdyYXBoaWMubWVhc3VyZT8uZ3JhcGhpYykgZ3JhcGhpYy5tZWFzdXJlID0gbnVsbDtcclxuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoZ3JhcGhpYy5hdHRyaWJ1dGVzPy5yZWxhdGVkU2VnbWVudExhYmVscykpIGdyYXBoaWMuYXR0cmlidXRlcy5yZWxhdGVkU2VnbWVudExhYmVscyA9IFtdO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTWFpbiBtZWFzdXJlbWVudCBsYWJlbFxyXG5cdFx0aWYgKGdyYXBoaWMubWVhc3VyZT8uZ3JhcGhpYykge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGNvbnN0IG1nID0gZ3JhcGhpYy5tZWFzdXJlLmdyYXBoaWM7XHJcblx0XHRcdFx0aWYgKG1nICYmIGlzTWVhc3VyZW1lbnRPbmx5R3JhcGhpYyhtZykgJiYgc2FmZUxheWVyQ29udGFpbnMobWcpKSBzYWZlTGF5ZXJSZW1vdmUobWcpO1xyXG5cdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0Y29uc29sZS53YXJuKCdGYWlsZWQgdG8gcmVtb3ZlIG1lYXN1cmVtZW50IGxhYmVsOicsIGUpO1xyXG5cdFx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRcdGdyYXBoaWMubWVhc3VyZSA9IG51bGw7IC8vIGFsd2F5cyBjbGVhciByZWZlcmVuY2VcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFNlZ21lbnQgbGFiZWxzXHJcblx0XHRpZiAoQXJyYXkuaXNBcnJheShncmFwaGljLmF0dHJpYnV0ZXM/LnJlbGF0ZWRTZWdtZW50TGFiZWxzKSkge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGdyYXBoaWMuYXR0cmlidXRlcy5yZWxhdGVkU2VnbWVudExhYmVscy5mb3JFYWNoKChzZWcpID0+IHtcclxuXHRcdFx0XHRcdGlmIChzZWcgJiYgaXNNZWFzdXJlbWVudE9ubHlHcmFwaGljKHNlZykpIHtcclxuXHRcdFx0XHRcdFx0dHJ5IHsgaWYgKHNhZmVMYXllckNvbnRhaW5zKHNlZykpIHNhZmVMYXllclJlbW92ZShzZWcpOyB9IGNhdGNoIChlZSkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUud2FybignRmFpbGVkIHRvIHJlbW92ZSBhIHNlZ21lbnQgbGFiZWw6JywgZWUpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0gZmluYWxseSB7XHJcblx0XHRcdFx0Z3JhcGhpYy5hdHRyaWJ1dGVzLnJlbGF0ZWRTZWdtZW50TGFiZWxzID0gW107XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHJcblxyXG5cdC8vcmVtb3ZlcyBleGlzdGluZyBtZWFzdXJlbWVudHMgd2hlbiBncmFwaGljIHVwZGF0ZXNcclxuXHRjb25zdCByZW1vdmVNZWFzdXJlbWVudHNPblVwZGF0ZSA9ICgpID0+IHtcclxuXHRcdGlmICghc2tldGNoVmlld01vZGVsIHx8ICFza2V0Y2hWaWV3TW9kZWwudmlldykge1xyXG5cdFx0XHRjb25zb2xlLndhcm4oJ1NrZXRjaFZpZXdNb2RlbCBub3QgYXZhaWxhYmxlIGZvciByZW1vdmVNZWFzdXJlbWVudHNPblVwZGF0ZScpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcmVtb3ZhbExpc3RlbmVyID0gc2tldGNoVmlld01vZGVsLm9uKCd1cGRhdGUnLCAoZXZlbnQpID0+IHtcclxuXHRcdFx0Ly8gVmFsaWRhdGUgU2tldGNoVmlld01vZGVsIGF0IGV2ZW50IHN0YXJ0XHJcblx0XHRcdGlmICghc2tldGNoVmlld01vZGVsIHx8ICFza2V0Y2hWaWV3TW9kZWwudmlldykge1xyXG5cdFx0XHRcdGNvbnNvbGUud2FybignU2tldGNoVmlld01vZGVsIG5vdCBhdmFpbGFibGUgZHVyaW5nIHJlbW92YWwgdXBkYXRlJyk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIWV2ZW50Py5ncmFwaGljcz8ubGVuZ3RoKSByZXR1cm47XHJcblxyXG5cdFx0XHRjb25zdCBncmFwaGljID0gZXZlbnQuZ3JhcGhpY3NbMF07XHJcblxyXG5cdFx0XHQvLyBTa2lwIGlmIG1lYXN1cmVtZW50IGlzIHN0aWxsIGVuYWJsZWQgb3IgZ3JhcGhpYyBpcyBpbnZhbGlkXHJcblx0XHRcdGlmICghZ3JhcGhpYyB8fCBtZWFzdXJlRW5hYmxlZCkgcmV0dXJuO1xyXG5cclxuXHRcdFx0Ly8gVXNlIG1vcmUgcGVybWlzc2l2ZSB2YWxpZGF0aW9uXHJcblx0XHRcdGlmICghaXNMYXllckJhc2ljYWxseVZhbGlkKCkpIHtcclxuXHRcdFx0XHRjb25zb2xlLndhcm4oJ0RyYXdMYXllciBpcyBub3QgYXZhaWxhYmxlIGZvciByZW1vdmFsIG9wZXJhdGlvbnMnKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFJlbW92ZSBtYWluIG1lYXN1cmVtZW50IGxhYmVsIHdpdGggc2FmZSBtZXRob2RzXHJcblx0XHRcdGlmIChncmFwaGljLm1lYXN1cmU/LmdyYXBoaWMpIHtcclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0aWYgKHNhZmVMYXllckNvbnRhaW5zKGdyYXBoaWMubWVhc3VyZS5ncmFwaGljKSkge1xyXG5cdFx0XHRcdFx0XHRzYWZlTGF5ZXJSZW1vdmUoZ3JhcGhpYy5tZWFzdXJlLmdyYXBoaWMpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xyXG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKCdGYWlsZWQgdG8gcmVtb3ZlIG1lYXN1cmVtZW50IGdyYXBoaWM6JywgZXJyKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFJlbW92ZSByZWxhdGVkIHNlZ21lbnQgbGFiZWxzIHdpdGggZW5oYW5jZWQgc2FmZXR5XHJcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KGdyYXBoaWMuYXR0cmlidXRlcz8ucmVsYXRlZFNlZ21lbnRMYWJlbHMpKSB7XHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdGNvbnN0IHNlZ21lbnRMYWJlbHMgPSBncmFwaGljLmF0dHJpYnV0ZXMucmVsYXRlZFNlZ21lbnRMYWJlbHM7XHJcblx0XHRcdFx0XHRzZWdtZW50TGFiZWxzLmZvckVhY2gobGFiZWwgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAobGFiZWwgJiYgc2FmZUxheWVyQ29udGFpbnMobGFiZWwpKSB7XHJcblx0XHRcdFx0XHRcdFx0c2FmZUxheWVyUmVtb3ZlKGxhYmVsKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRncmFwaGljLmF0dHJpYnV0ZXMucmVsYXRlZFNlZ21lbnRMYWJlbHMgPSBbXTtcclxuXHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUud2FybignRmFpbGVkIHRvIHJlbW92ZSBzZWdtZW50IGxhYmVsczonLCBlcnIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0c2V0UmVtb3ZhbExpc3RlbmVyKHJlbW92YWxMaXN0ZW5lcik7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgcHJlc2VydmVDdXN0b21MYWJlbFByb3BlcnRpZXMgPSAoZXhpc3RpbmdMYWJlbDogYW55LCBuZXdTeW1ib2w6IGFueSk6IGFueSA9PiB7XHJcblx0XHRpZiAoIWV4aXN0aW5nTGFiZWwgfHwgIWV4aXN0aW5nTGFiZWwuYXR0cmlidXRlcyB8fCAhZXhpc3RpbmdMYWJlbC5hdHRyaWJ1dGVzLmN1c3RvbWl6ZWQpIHtcclxuXHRcdFx0cmV0dXJuIG5ld1N5bWJvbDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBJZiB0aGUgbGFiZWwgd2FzIGN1c3RvbWl6ZWQsIHByZXNlcnZlIHRoZSBjdXN0b20gcHJvcGVydGllc1xyXG5cdFx0Y29uc3QgcHJlc2VydmVkU3ltYm9sID0gbmV3U3ltYm9sLmNsb25lKCk7XHJcblx0XHRjb25zdCBleGlzdGluZ1N5bWJvbCA9IGV4aXN0aW5nTGFiZWwuc3ltYm9sO1xyXG5cclxuXHRcdGlmIChpc1RleHRTeW1ib2woZXhpc3RpbmdTeW1ib2wpICYmIGlzVGV4dFN5bWJvbChwcmVzZXJ2ZWRTeW1ib2wpKSB7XHJcblx0XHRcdC8vIFByZXNlcnZlIGN1c3RvbSBmb250IHByb3BlcnRpZXNcclxuXHRcdFx0cHJlc2VydmVkU3ltYm9sLmNvbG9yID0gZXhpc3RpbmdTeW1ib2wuY29sb3I7XHJcblx0XHRcdHByZXNlcnZlZFN5bWJvbC5mb250LnNpemUgPSBleGlzdGluZ1N5bWJvbC5mb250LnNpemU7XHJcblx0XHRcdHByZXNlcnZlZFN5bWJvbC5hbmdsZSA9IGV4aXN0aW5nU3ltYm9sLmFuZ2xlO1xyXG5cdFx0XHRwcmVzZXJ2ZWRTeW1ib2wudmVydGljYWxBbGlnbm1lbnQgPSBleGlzdGluZ1N5bWJvbC52ZXJ0aWNhbEFsaWdubWVudDtcclxuXHRcdFx0cHJlc2VydmVkU3ltYm9sLnhvZmZzZXQgPSBleGlzdGluZ1N5bWJvbC54b2Zmc2V0O1xyXG5cdFx0XHRwcmVzZXJ2ZWRTeW1ib2wueW9mZnNldCA9IGV4aXN0aW5nU3ltYm9sLnlvZmZzZXQ7XHJcblxyXG5cdFx0XHQvLyBQcmVzZXJ2ZSBoYWxvIHByb3BlcnRpZXNcclxuXHRcdFx0aWYgKGV4aXN0aW5nU3ltYm9sLmhhbG9TaXplKSB7XHJcblx0XHRcdFx0cHJlc2VydmVkU3ltYm9sLmhhbG9TaXplID0gZXhpc3RpbmdTeW1ib2wuaGFsb1NpemU7XHJcblx0XHRcdFx0cHJlc2VydmVkU3ltYm9sLmhhbG9Db2xvciA9IGV4aXN0aW5nU3ltYm9sLmhhbG9Db2xvcjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gUHJlc2VydmUgYmFja2dyb3VuZCBwcm9wZXJ0aWVzXHJcblx0XHRcdGlmIChleGlzdGluZ1N5bWJvbC5iYWNrZ3JvdW5kQ29sb3IpIHtcclxuXHRcdFx0XHRwcmVzZXJ2ZWRTeW1ib2wuYmFja2dyb3VuZENvbG9yID0gZXhpc3RpbmdTeW1ib2wuYmFja2dyb3VuZENvbG9yO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHByZXNlcnZlZFN5bWJvbDtcclxuXHR9O1xyXG5cclxuXHR1c2VFZmZlY3QoKCkgPT4ge1xyXG5cdFx0aWYgKHR5cGVvZiBwcm9wcy5tZWFzdXJlbWVudEVuYWJsZWQgPT09ICdib29sZWFuJykge1xyXG5cdFx0XHRtZWFzdXJlRW5hYmxlZFJlZi5jdXJyZW50ID0gcHJvcHMubWVhc3VyZW1lbnRFbmFibGVkO1xyXG5cdFx0XHRzZXRNZWFzdXJlRW5hYmxlZChwcm9wcy5tZWFzdXJlbWVudEVuYWJsZWQpO1xyXG5cdFx0XHRpZiAoIXByb3BzLm1lYXN1cmVtZW50RW5hYmxlZCAmJiBlZGl0YWJsZU1lYXN1cmVtZW50c1JlZi5jdXJyZW50KSB7XHJcblx0XHRcdFx0c2V0RWRpdGFibGVNZWFzdXJlbWVudHMoZmFsc2UpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSwgW3Byb3BzLm1lYXN1cmVtZW50RW5hYmxlZF0pO1xyXG5cclxuXHR1c2VFZmZlY3QoKCkgPT4ge1xyXG5cdFx0aXNJbml0aWFsTW91bnQuY3VycmVudCA9IGZhbHNlO1xyXG5cdH0sIFtdKTtcclxuXHJcblx0Ly8g8J+UpyBORVc6IENsZWFuIHVwIEFMTCBsaXN0ZW5lcnMgb24gY29tcG9uZW50IHVubW91bnRcclxuXHR1c2VFZmZlY3QoKCkgPT4ge1xyXG5cdFx0cmV0dXJuICgpID0+IHtcclxuXHRcdFx0Ly9jb25zb2xlLmxvZygn8J+nuSBDb21wb25lbnQgdW5tb3VudGluZyAtIGNsZWFuaW5nIHVwIGFsbCBsaXN0ZW5lcnMnKTtcclxuXHJcblx0XHRcdC8vIFJlbW92ZSBsaXN0ZW5lcnMgdmlhIHJlZnMgKHN5bmNocm9ub3VzKVxyXG5cdFx0XHRpZiAodXBkYXRlTGlzdGVuZXJSZWYuY3VycmVudCkge1xyXG5cdFx0XHRcdHRyeSB7IHVwZGF0ZUxpc3RlbmVyUmVmLmN1cnJlbnQucmVtb3ZlKCk7IH0gY2F0Y2ggeyB9XHJcblx0XHRcdFx0dXBkYXRlTGlzdGVuZXJSZWYuY3VycmVudCA9IG51bGw7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGNyZWF0ZUxpc3RlbmVyUmVmLmN1cnJlbnQpIHtcclxuXHRcdFx0XHR0cnkgeyBjcmVhdGVMaXN0ZW5lclJlZi5jdXJyZW50LnJlbW92ZSgpOyB9IGNhdGNoIHsgfVxyXG5cdFx0XHRcdGNyZWF0ZUxpc3RlbmVyUmVmLmN1cnJlbnQgPSBudWxsO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBBbHNvIHJlbW92ZSB2aWEgc3RhdGUgKGRlZmVuc2l2ZSlcclxuXHRcdFx0aWYgKHVwZGF0ZUxpc3RlbmVyKSB7XHJcblx0XHRcdFx0dHJ5IHsgdXBkYXRlTGlzdGVuZXIucmVtb3ZlKCk7IH0gY2F0Y2ggeyB9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGNyZWF0ZUxpc3RlbmVyKSB7XHJcblx0XHRcdFx0dHJ5IHsgY3JlYXRlTGlzdGVuZXIucmVtb3ZlKCk7IH0gY2F0Y2ggeyB9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFJlc2V0IHRoZSByZWYgdG8gZmFsc2VcclxuXHRcdFx0aWYgKG1lYXN1cmVFbmFibGVkUmVmKSB7XHJcblx0XHRcdFx0bWVhc3VyZUVuYWJsZWRSZWYuY3VycmVudCA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH0sIFtdKTsgLy8gRW1wdHkgZGVwcyA9IHJ1bnMgb25seSBvbiBtb3VudC91bm1vdW50XHJcblxyXG5cdHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiAoe1xyXG5cdFx0dXBkYXRlTWVhc3VyZW1lbnRzRm9yR3JhcGhpYzogKGdyYXBoaWM6IEV4dGVuZGVkR3JhcGhpYykgPT4ge1xyXG5cdFx0XHRpZiAoIXNrZXRjaFZpZXdNb2RlbCB8fCAhc2tldGNoVmlld01vZGVsLnZpZXcpIHtcclxuXHRcdFx0XHRjb25zb2xlLndhcm4oJ1NrZXRjaFZpZXdNb2RlbCBub3QgYXZhaWxhYmxlIGZvciB1cGRhdGVNZWFzdXJlbWVudHNGb3JHcmFwaGljJyk7IHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIWRyYXdMYXllciB8fCAhaXNMYXllckJhc2ljYWxseVZhbGlkKCkpIHtcclxuXHRcdFx0XHRjb25zb2xlLndhcm4oJ0RyYXdMYXllciBub3QgYXZhaWxhYmxlIGZvciB1cGRhdGVNZWFzdXJlbWVudHNGb3JHcmFwaGljJyk7IHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAobWVhc3VyZUVuYWJsZWRSZWYuY3VycmVudCAmJiBncmFwaGljICYmICFpc01lYXN1cmVtZW50TGFiZWwoZ3JhcGhpYykpIHtcclxuXHRcdFx0XHRkZWJvdW5jZWRVcGRhdGVNZWFzdXJlbWVudHMuY3VycmVudCA9IGRlYm91bmNlKChnOiBFeHRlbmRlZEdyYXBoaWMpID0+IHtcclxuXHRcdFx0XHRcdGlmICghc2hvdWxkR2VuZXJhdGVNZWFzdXJlbWVudHMoZykpIHJldHVybjtcclxuXHRcdFx0XHRcdF9hZGRNZWFzdXJlbWVudChnLCBudWxsLCBmYWxzZSk7XHJcblx0XHRcdFx0fSwgMTIwKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRpc01lYXN1cmVtZW50RW5hYmxlZDogKCkgPT4gISFtZWFzdXJlRW5hYmxlZFJlZi5jdXJyZW50LFxyXG5cclxuXHRcdHNldE1lYXN1cmVtZW50RW5hYmxlZDogKGVuYWJsZWQ6IGJvb2xlYW4pID0+IHtcclxuXHRcdFx0Y29uc3Qgb24gPSAhIWVuYWJsZWQ7XHJcblx0XHRcdG1lYXN1cmVFbmFibGVkUmVmLmN1cnJlbnQgPSBvbjtcclxuXHJcblx0XHRcdGlmICghb24pIHtcclxuXHRcdFx0XHQvLyDwn5SnIElNTUVESUFURUxZIHJlbW92ZSBsaXN0ZW5lcnMgdXNpbmcgcmVmcyAoc3luY2hyb25vdXMpXHJcblx0XHRcdFx0aWYgKHVwZGF0ZUxpc3RlbmVyUmVmLmN1cnJlbnQpIHtcclxuXHRcdFx0XHRcdHRyeSB7IHVwZGF0ZUxpc3RlbmVyUmVmLmN1cnJlbnQucmVtb3ZlKCk7IH0gY2F0Y2ggeyB9XHJcblx0XHRcdFx0XHR1cGRhdGVMaXN0ZW5lclJlZi5jdXJyZW50ID0gbnVsbDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKGNyZWF0ZUxpc3RlbmVyUmVmLmN1cnJlbnQpIHtcclxuXHRcdFx0XHRcdHRyeSB7IGNyZWF0ZUxpc3RlbmVyUmVmLmN1cnJlbnQucmVtb3ZlKCk7IH0gY2F0Y2ggeyB9XHJcblx0XHRcdFx0XHRjcmVhdGVMaXN0ZW5lclJlZi5jdXJyZW50ID0gbnVsbDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIEFsc28gY2xlYW4gdXAgc3RhdGUtYmFzZWQgbGlzdGVuZXJzIChkZWZlbnNpdmUpXHJcblx0XHRcdFx0aWYgKHVwZGF0ZUxpc3RlbmVyKSB7XHJcblx0XHRcdFx0XHR0cnkgeyB1cGRhdGVMaXN0ZW5lci5yZW1vdmUoKTsgfSBjYXRjaCB7IH1cclxuXHRcdFx0XHRcdHNldFVwZGF0ZUxpc3RlbmVyKG51bGwpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoY3JlYXRlTGlzdGVuZXIpIHtcclxuXHRcdFx0XHRcdHRyeSB7IGNyZWF0ZUxpc3RlbmVyLnJlbW92ZSgpOyB9IGNhdGNoIHsgfVxyXG5cdFx0XHRcdFx0c2V0Q3JlYXRlTGlzdGVuZXIobnVsbCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBlbnN1cmUgZWRpdCBtb2RlIGlzIG9mZiBidXQgRE8gTk9UIHJlbW92ZSBleGlzdGluZyBsYWJlbHNcclxuXHRcdFx0XHRpZiAoZWRpdGFibGVNZWFzdXJlbWVudHNSZWYuY3VycmVudCkgc2V0RWRpdGFibGVNZWFzdXJlbWVudHMoZmFsc2UpO1xyXG5cdFx0XHRcdC8vIPCflJIgYWJzb2x1dGVseSBzdG9wIGFueSBpbi1mbGlnaHQgbGFiZWwgY3JlYXRpb25cclxuXHRcdFx0XHRjYW5jZWxQZW5kaW5nTWVhc3VyZW1lbnRXb3JrKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFVwZGF0ZSBzdGF0ZSBsYXN0ICh0aGlzIHdpbGwgdHJpZ2dlciB1c2VFZmZlY3QgYnV0IGxpc3RlbmVycyBhbHJlYWR5IHJlbW92ZWQpXHJcblx0XHRcdHNldE1lYXN1cmVFbmFibGVkKG9uKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0ZW5hYmxlTWVhc3VyZW1lbnRzOiAoKSA9PiB7XHJcblx0XHRcdGlmICghc2tldGNoVmlld01vZGVsIHx8ICFza2V0Y2hWaWV3TW9kZWwudmlldykgeyBjb25zb2xlLndhcm4oJ1NrZXRjaFZpZXdNb2RlbCBub3QgcmVhZHkgLSBjYW5ub3QgZW5hYmxlIG1lYXN1cmVtZW50cycpOyByZXR1cm47IH1cclxuXHRcdFx0aWYgKCFkcmF3TGF5ZXIgfHwgIWlzTGF5ZXJCYXNpY2FsbHlWYWxpZCgpKSB7IGNvbnNvbGUud2FybignRHJhd0xheWVyIG5vdCBhdmFpbGFibGUgLSBjYW5ub3QgZW5hYmxlIG1lYXN1cmVtZW50cycpOyByZXR1cm47IH1cclxuXHRcdFx0bWVhc3VyZUVuYWJsZWRSZWYuY3VycmVudCA9IHRydWU7XHJcblx0XHRcdHNldE1lYXN1cmVFbmFibGVkKHRydWUpO1xyXG5cdFx0fSxcclxuXHJcblx0XHRkaXNhYmxlTWVhc3VyZW1lbnRzOiAoKSA9PiB7XHJcblx0XHRcdG1lYXN1cmVFbmFibGVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuXHJcblx0XHRcdC8vIPCflKcgUmVtb3ZlIGxpc3RlbmVycyB1c2luZyByZWZzIGZpcnN0IChzeW5jaHJvbm91cylcclxuXHRcdFx0aWYgKHVwZGF0ZUxpc3RlbmVyUmVmLmN1cnJlbnQpIHtcclxuXHRcdFx0XHR0cnkgeyB1cGRhdGVMaXN0ZW5lclJlZi5jdXJyZW50LnJlbW92ZSgpOyB9IGNhdGNoIHsgfVxyXG5cdFx0XHRcdHVwZGF0ZUxpc3RlbmVyUmVmLmN1cnJlbnQgPSBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChjcmVhdGVMaXN0ZW5lclJlZi5jdXJyZW50KSB7XHJcblx0XHRcdFx0dHJ5IHsgY3JlYXRlTGlzdGVuZXJSZWYuY3VycmVudC5yZW1vdmUoKTsgfSBjYXRjaCB7IH1cclxuXHRcdFx0XHRjcmVhdGVMaXN0ZW5lclJlZi5jdXJyZW50ID0gbnVsbDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c2V0TWVhc3VyZUVuYWJsZWQoZmFsc2UpO1xyXG5cdFx0XHRpZiAoZWRpdGFibGVNZWFzdXJlbWVudHNSZWYuY3VycmVudCkgc2V0RWRpdGFibGVNZWFzdXJlbWVudHMoZmFsc2UpO1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGlmIChkcmF3TGF5ZXIgJiYgZHJhd0xheWVyLmdyYXBoaWNzKSB7XHJcblx0XHRcdFx0XHRjb25zdCBhbGwgPSBkcmF3TGF5ZXIuZ3JhcGhpY3MudG9BcnJheSgpO1xyXG5cdFx0XHRcdFx0YWxsLmZvckVhY2goZyA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGlzTGFiZWwgPSBnPy5hdHRyaWJ1dGVzPy5pc01lYXN1cmVtZW50TGFiZWwgfHwgZz8uYXR0cmlidXRlcz8ubWVhc3VyZW1lbnRUeXBlIHx8IGc/Lm1lYXN1cmVQYXJlbnQ7XHJcblx0XHRcdFx0XHRcdGlmIChpc0xhYmVsKSB7IHRyeSB7IGRyYXdMYXllci5yZW1vdmUoZyk7IH0gY2F0Y2ggeyB9IH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0YWxsLmZvckVhY2goZyA9PiB7XHJcblx0XHRcdFx0XHRcdGlmIChnICYmIGcubWVhc3VyZSkgZy5tZWFzdXJlID0gbnVsbDtcclxuXHRcdFx0XHRcdFx0aWYgKGc/LmF0dHJpYnV0ZXM/LnJlbGF0ZWRTZWdtZW50TGFiZWxzKSBnLmF0dHJpYnV0ZXMucmVsYXRlZFNlZ21lbnRMYWJlbHMgPSBbXTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiAoZHJhd0xheWVyIGFzIGFueSkucmVmcmVzaCA9PT0gJ2Z1bmN0aW9uJykgeyB0cnkgeyAoZHJhd0xheWVyIGFzIGFueSkucmVmcmVzaCgpOyB9IGNhdGNoIHsgfSB9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGNhdGNoIChlcnIpIHsgY29uc29sZS53YXJuKCdFcnJvciByZW1vdmluZyBtZWFzdXJlbWVudCBsYWJlbHMgb24gZGlzYWJsZTonLCBlcnIpOyB9XHJcblx0XHR9LFxyXG5cclxuXHRcdGRpc2FibGVNZWFzdXJlbWVudEVkaXRpbmc6ICgpID0+IHtcclxuXHRcdFx0aWYgKGVkaXRhYmxlTWVhc3VyZW1lbnRzUmVmLmN1cnJlbnQpIHNldEVkaXRhYmxlTWVhc3VyZW1lbnRzKGZhbHNlKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0cmVmcmVzaEFsbE1lYXN1cmVtZW50czogKCkgPT4ge1xyXG5cdFx0XHRpZiAoIXNrZXRjaFZpZXdNb2RlbCB8fCAhc2tldGNoVmlld01vZGVsLnZpZXcpIHsgY29uc29sZS53YXJuKCdTa2V0Y2hWaWV3TW9kZWwgbm90IGF2YWlsYWJsZSBmb3IgcmVmcmVzaEFsbE1lYXN1cmVtZW50cycpOyByZXR1cm47IH1cclxuXHRcdFx0aWYgKCFkcmF3TGF5ZXIgfHwgIWlzTGF5ZXJCYXNpY2FsbHlWYWxpZCgpKSB7IGNvbnNvbGUud2FybignRHJhd0xheWVyIG5vdCBhdmFpbGFibGUgZm9yIHJlZnJlc2hBbGxNZWFzdXJlbWVudHMnKTsgcmV0dXJuOyB9XHJcblx0XHRcdGlmICghbWVhc3VyZUVuYWJsZWRSZWYuY3VycmVudCB8fCBpc1Byb2Nlc3NpbmdNZWFzdXJlbWVudHMpIHsgY29uc29sZS53YXJuKCdDYW5ub3QgcmVmcmVzaCBtZWFzdXJlbWVudHMgLSBkaXNhYmxlZCBvciBjdXJyZW50bHkgcHJvY2Vzc2luZycpOyByZXR1cm47IH1cclxuXHRcdFx0Y29uc3QgYWxsR3JhcGhpY3MgPSBkcmF3TGF5ZXIuZ3JhcGhpY3MudG9BcnJheSgpO1xyXG5cdFx0XHRjb25zdCBkcmF3aW5nR3JhcGhpY3MgPSBhbGxHcmFwaGljcy5maWx0ZXIoZyA9PiBpc0FjdHVhbERyYXdpbmcoZykgJiYgIWcubWVhc3VyZSk7XHJcblx0XHRcdGRyYXdpbmdHcmFwaGljcy5mb3JFYWNoKChncmFwaGljLCBpbmRleCkgPT4ge1xyXG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKG1lYXN1cmVFbmFibGVkUmVmLmN1cnJlbnQgJiYgIXByb2Nlc3NpbmdRdWV1ZS5jdXJyZW50LmhhcyhnZXRHcmFwaGljSWQoZ3JhcGhpYykpKSB7XHJcblx0XHRcdFx0XHRcdF9hZGRNZWFzdXJlbWVudChncmFwaGljIGFzIEV4dGVuZGVkR3JhcGhpYywgbnVsbCwgdHJ1ZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwgaW5kZXggKiA1MCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHJcblx0XHRpc0J1c3k6ICgpID0+IGlzUHJvY2Vzc2luZ01lYXN1cmVtZW50cyB8fCBwcm9jZXNzaW5nUXVldWUuY3VycmVudC5zaXplID4gMCxcclxuXHRcdGlzRWRpdGluZ01lYXN1cmVtZW50czogKCkgPT4gZWRpdGFibGVNZWFzdXJlbWVudHNSZWYuY3VycmVudCxcclxuXHJcblx0XHRoYW5kbGVNZWFzdXJlbWVudExhYmVsU2VsZWN0aW9uOiAobGFiZWxHcmFwaGljOiBhbnkpID0+IHtcclxuXHRcdFx0aWYgKCFlZGl0YWJsZU1lYXN1cmVtZW50c1JlZi5jdXJyZW50KSB7IGNvbnNvbGUud2FybignTWVhc3VyZW1lbnQgZWRpdGluZyBub3QgZW5hYmxlZCcpOyByZXR1cm47IH1cclxuXHRcdFx0aGFuZGxlTWVhc3VyZW1lbnRMYWJlbFNlbGVjdGlvbihsYWJlbEdyYXBoaWMpO1xyXG5cdFx0fSxcclxuXHJcblx0XHRjbGVhbnVwTWVhc3VyZW1lbnRMYWJlbFNlbGVjdGlvbjogKCkgPT4geyBjbGVhbnVwTWVhc3VyZW1lbnRMYWJlbFNlbGVjdGlvbigpOyB9LFxyXG5cdFx0YXV0b1NlbGVjdEN1cnJlbnRHcmFwaGljTWVhc3VyZW1lbnRMYWJlbDogKCkgPT4geyBhdXRvU2VsZWN0Q3VycmVudEdyYXBoaWNNZWFzdXJlbWVudExhYmVsKCk7IH0sXHJcblxyXG5cdFx0c2VsZWN0R3JhcGhpY01lYXN1cmVtZW50TGFiZWw6IChncmFwaGljOiBFeHRlbmRlZEdyYXBoaWMpID0+IHtcclxuXHRcdFx0aWYgKCFlZGl0YWJsZU1lYXN1cmVtZW50c1JlZi5jdXJyZW50KSB7IGNvbnNvbGUud2FybignTWVhc3VyZW1lbnQgZWRpdGluZyBub3QgZW5hYmxlZCcpOyByZXR1cm47IH1cclxuXHRcdFx0aWYgKGdyYXBoaWM/Lm1lYXN1cmU/LmdyYXBoaWMpIHsgaGFuZGxlTWVhc3VyZW1lbnRMYWJlbFNlbGVjdGlvbihncmFwaGljLm1lYXN1cmUuZ3JhcGhpYyk7IH1cclxuXHRcdFx0ZWxzZSB7IGNvbnNvbGUud2FybignTm8gbWVhc3VyZW1lbnQgbGFiZWwgZm91bmQgZm9yIHByb3ZpZGVkIGdyYXBoaWMnKTsgfVxyXG5cdFx0fSxcclxuXHJcblx0XHRzdGFydExhYmVsRHJhZzogKGxhYmVsR3JhcGhpYzogRXh0ZW5kZWRHcmFwaGljLCBzY3JlZW5Qb2ludD86IGFueSkgPT4gc3RhcnRMYWJlbERyYWcobGFiZWxHcmFwaGljLCBzY3JlZW5Qb2ludCksXHJcblx0XHRzdG9wTGFiZWxEcmFnOiAoKSA9PiBoYW5kbGVMYWJlbERyYWdFbmQobnVsbCksXHJcblx0XHRyZXNldExhYmVsUG9zaXRpb246ICgpID0+IHJlc2V0TGFiZWxQb3NpdGlvbigpLFxyXG5cdFx0aXNEcmFnZ2luZzogKCkgPT4gaXNEcmFnZ2luZ0xhYmVsXHJcblx0fSkpO1xyXG5cclxuXHJcblx0Ly8gMS4gVXBkYXRlIHJlZnMgd2hlbiBzdGF0ZSBjaGFuZ2VzIChrZWVwIGFzLWlzIGJ1dCBvcHRpbWl6ZWQpXHJcblx0dXNlRWZmZWN0KCgpID0+IHtcclxuXHRcdG1lYXN1cmVFbmFibGVkUmVmLmN1cnJlbnQgPSBtZWFzdXJlRW5hYmxlZDtcclxuXHRcdGVkaXRhYmxlTWVhc3VyZW1lbnRzUmVmLmN1cnJlbnQgPSBlZGl0YWJsZU1lYXN1cmVtZW50cztcclxuXHRcdHNldHRpbmdzUmVmLmN1cnJlbnQgPSB7XHJcblx0XHRcdGRpc3RhbmNlVW5pdCxcclxuXHRcdFx0YXJlYVVuaXQsXHJcblx0XHRcdHNlZ21lbnRzT24sXHJcblx0XHRcdGxlbmd0aE9uLFxyXG5cdFx0XHRhcmVhT24sXHJcblx0XHRcdHBlcmltZXRlck9uLFxyXG5cdFx0XHRyYWRpdXNPbixcclxuXHRcdFx0cG9pbnRSb3VuZCxcclxuXHRcdFx0b3RoZXJSb3VuZCxcclxuXHRcdFx0cm90YXRlU2VnbWVudHNcclxuXHRcdH07XHJcblx0fSwgW21lYXN1cmVFbmFibGVkLCBlZGl0YWJsZU1lYXN1cmVtZW50cywgZGlzdGFuY2VVbml0LCBhcmVhVW5pdCwgc2VnbWVudHNPbiwgbGVuZ3RoT24sIGFyZWFPbiwgcGVyaW1ldGVyT24sIHJhZGl1c09uLCBwb2ludFJvdW5kLCBvdGhlclJvdW5kLCByb3RhdGVTZWdtZW50c10pO1xyXG5cclxuXHQvLyAyLiBTSU1QTElGSUVEOiBNZWFzdXJlbWVudCBlZGl0aW5nIHNldHVwIHdpdGggbWluaW1hbCBkZWxheXNcclxuXHQvLyBBbHRlcm5hdGl2ZSBtZWFzdXJlbWVudCBlZGl0aW5nIHNldHVwIHdpdGggcHJvcGVyIFR5cGVTY3JpcHQgaGFuZGxpbmdcclxuXHQvLyAyLiBDT01QTEVURUxZIElTT0xBVEVEOiBNZWFzdXJlbWVudCBlZGl0aW5nIHNldHVwIHRoYXQgYXZvaWRzIFNrZXRjaFZpZXdNb2RlbCBjb25mbGljdHNcclxuXHR1c2VFZmZlY3QoKCkgPT4ge1xyXG5cdFx0aWYgKGVkaXRhYmxlTWVhc3VyZW1lbnRzKSB7XHJcblx0XHRcdGlmIChza2V0Y2hWaWV3TW9kZWw/LnZpZXcpIHtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdTZXR0aW5nIHVwIGlzb2xhdGVkIG1lYXN1cmVtZW50IGVkaXRpbmcnKTtcclxuXHRcdFx0XHRjdXJyZW50TWFwVmlldyA9IHNrZXRjaFZpZXdNb2RlbC52aWV3O1xyXG5cclxuXHRcdFx0XHQvLyBDbGVhbiB1cCBleGlzdGluZyBsaXN0ZW5lciBmaXJzdFxyXG5cdFx0XHRcdGlmIChtZWFzdXJlbWVudENsaWNrTGlzdGVuZXIpIHtcclxuXHRcdFx0XHRcdG1lYXN1cmVtZW50Q2xpY2tMaXN0ZW5lci5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdHNldE1lYXN1cmVtZW50Q2xpY2tMaXN0ZW5lcihudWxsKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFVzZSBhIG11Y2ggbG9uZ2VyIGRlbGF5IHRvIGNvbXBsZXRlbHkgYXZvaWQgU2tldGNoVmlld01vZGVsIGNvbmZsaWN0c1xyXG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKCFlZGl0YWJsZU1lYXN1cmVtZW50cykgcmV0dXJuOyAvLyBDaGVjayBpZiBzdGlsbCBlbmFibGVkXHJcblxyXG5cdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0Ly8gVXNlICdwb2ludGVyLWRvd24nIGluc3RlYWQgb2YgJ2NsaWNrJyB0byBhdm9pZCBTa2V0Y2hWaWV3TW9kZWwgaW50ZXJmZXJlbmNlXHJcblx0XHRcdFx0XHRcdGNvbnN0IGlzb2xhdGVkQ2xpY2tIYW5kbGVyID0gY3VycmVudE1hcFZpZXcub24oJ3BvaW50ZXItZG93bicsIGFzeW5jIChldmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IHByb2Nlc3MgaWYgbm8gZHJhd2luZyB0b29sIGlzIGFjdGl2ZVxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRUb29sICYmIGN1cnJlbnRUb29sICE9PSAnJyAmJiBjdXJyZW50VG9vbCAhPT0gJ3RleHQnKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0XHQvLyBQcmV2ZW50IGV2ZW50IGZyb20gcmVhY2hpbmcgU2tldGNoVmlld01vZGVsXHJcblx0XHRcdFx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHQvLyBTaW1wbGUgaGl0IHRlc3Qgd2l0aG91dCBhbnkgbGF5ZXIgY29uc3RyYWludHNcclxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGhpdFRlc3QgPSBhd2FpdCBjdXJyZW50TWFwVmlldy5oaXRUZXN0KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0eDogZXZlbnQueCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0eTogZXZlbnQueVxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gTG9vayBmb3IgbWVhc3VyZW1lbnQgbGFiZWxzXHJcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBtZWFzdXJlbWVudExhYmVscyA9IGhpdFRlc3QucmVzdWx0cy5maWx0ZXIocmVzdWx0ID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFyZXN1bHQgfHwgISgnZ3JhcGhpYycgaW4gcmVzdWx0KSkgcmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBncmFwaGljID0gKHJlc3VsdCBhcyBfX2VzcmkuR3JhcGhpY0hpdCkuZ3JhcGhpYztcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChncmFwaGljPy5zeW1ib2w/LnR5cGUgIT09ICd0ZXh0JykgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgdGV4dCA9IChncmFwaGljLnN5bWJvbCBhcyBhbnkpLnRleHQgfHwgJyc7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAvKFxcZCsoXFwuXFxkKyk/XFxzKihrbXxtaXxtfGZ0fHlkfGttwrJ8bWnCsnxhY3xoYXxtwrJ8ZnTCsnx5ZMKyKSl8QXJlYTp8UGVyaW1ldGVyOnxSYWRpdXM6fFRvdGFsOnxMYXQ6fExvbjp8WDp8WTovLnRlc3QodGV4dCkgfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRncmFwaGljLmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRMYWJlbDtcclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGlmIChtZWFzdXJlbWVudExhYmVscy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2coJ0ZvdW5kIG1lYXN1cmVtZW50IGxhYmVsIHZpYSBpc29sYXRlZCBoYW5kbGVyJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGdyYXBoaWNIaXQgPSBtZWFzdXJlbWVudExhYmVsc1swXSBhcyBfX2VzcmkuR3JhcGhpY0hpdDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aGFuZGxlTWVhc3VyZW1lbnRMYWJlbFNlbGVjdGlvbihncmFwaGljSGl0LmdyYXBoaWMgYXMgRXh0ZW5kZWRHcmFwaGljKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdC8vIENsZWFyIHNlbGVjdGlvbiB3aGVuIGNsaWNraW5nIGVsc2V3aGVyZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGVhbnVwTWVhc3VyZW1lbnRMYWJlbFNlbGVjdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0lzb2xhdGVkIG1lYXN1cmVtZW50IGhhbmRsZXIgZXJyb3I6JywgZXJyb3IpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRzZXRNZWFzdXJlbWVudENsaWNrTGlzdGVuZXIoaXNvbGF0ZWRDbGlja0hhbmRsZXIpO1xyXG5cdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCdJc29sYXRlZCBtZWFzdXJlbWVudCBoYW5kbGVyIHNldCB1cCBzdWNjZXNzZnVsbHknKTtcclxuXHRcdFx0XHRcdH0gY2F0Y2ggKHNldHVwRXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3Igc2V0dGluZyB1cCBpc29sYXRlZCBtZWFzdXJlbWVudCBoYW5kbGVyOicsIHNldHVwRXJyb3IpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sIDE1MDApOyAvLyBWZXJ5IGxvbmcgZGVsYXkgdG8gYXZvaWQgYWxsIFNrZXRjaFZpZXdNb2RlbCBvcGVyYXRpb25zXHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ0NsZWFuaW5nIHVwIG1lYXN1cmVtZW50IGVkaXRpbmcnKTtcclxuXHJcblx0XHRcdGlmIChtZWFzdXJlbWVudENsaWNrTGlzdGVuZXIpIHtcclxuXHRcdFx0XHRtZWFzdXJlbWVudENsaWNrTGlzdGVuZXIucmVtb3ZlKCk7XHJcblx0XHRcdFx0c2V0TWVhc3VyZW1lbnRDbGlja0xpc3RlbmVyKG51bGwpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjbGVhbnVwTWVhc3VyZW1lbnRMYWJlbFNlbGVjdGlvbigpO1xyXG5cdFx0fVxyXG5cdH0sIFtlZGl0YWJsZU1lYXN1cmVtZW50cywgc2tldGNoVmlld01vZGVsXSk7XHJcblxyXG5cdC8vIDMuIENPTlNPTElEQVRFRDogSGFuZGxlIGRyYXdpbmcgdG9vbCBhY3RpdmF0aW9uIChyZW1vdmUgZHVwbGljYXRlKVxyXG5cdHVzZUVmZmVjdCgoKSA9PiB7XHJcblx0XHQvLyBEaXNhYmxlIG1lYXN1cmVtZW50IGVkaXRpbmcgd2hlbiBkcmF3aW5nIHRvb2xzIGJlY29tZSBhY3RpdmVcclxuXHRcdGlmIChlZGl0YWJsZU1lYXN1cmVtZW50cyAmJiBjdXJyZW50VG9vbCAmJiBjdXJyZW50VG9vbCAhPT0gJycgJiYgY3VycmVudFRvb2wgIT09ICd0ZXh0Jykge1xyXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdEcmF3aW5nIHRvb2wgYWN0aXZhdGVkIHZpYSBwcm9wIC0gZGlzYWJsaW5nIG1lYXN1cmVtZW50IGVkaXRpbmc6JywgY3VycmVudFRvb2wpO1xyXG5cdFx0XHRzZXRFZGl0YWJsZU1lYXN1cmVtZW50cyhmYWxzZSk7XHJcblx0XHRcdGNsZWFudXBNZWFzdXJlbWVudExhYmVsU2VsZWN0aW9uKCk7XHJcblx0XHRcdHJlbW92ZU1lYXN1cmVtZW50TGFiZWxDbGlja0xpc3RlbmVyKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSGFuZGxlIHRvb2wgdHlwZSBjaGFuZ2VzIGZvciBtZWFzdXJlbWVudCBzZXR0aW5nc1xyXG5cdFx0aWYgKGN1cnJlbnRUb29sID09PSAndGV4dCcpIHtcclxuXHRcdFx0c2V0TWVhc3VyZUVuYWJsZWQoZmFsc2UpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGN1cnJlbnRUb29sID09PSAnZXh0ZW50Jykge1xyXG5cdFx0XHRzZXRUb29sVHlwZSgncG9seWdvbicpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c2V0VG9vbFR5cGUoY3VycmVudFRvb2wpO1xyXG5cdFx0fVxyXG5cdH0sIFtjdXJyZW50VG9vbCwgZWRpdGFibGVNZWFzdXJlbWVudHNdKTtcclxuXHJcblx0Ly8gNC4gSW5pdGlhbGl6ZSBtYXAgdmlldyB3aGVuIGF2YWlsYWJsZVxyXG5cdHVzZUVmZmVjdCgoKSA9PiB7XHJcblx0XHRjb25zdCBpbml0aWFsaXplTWFwVmlldyA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0bGV0IG5ld01hcFZpZXcgPSBudWxsO1xyXG5cclxuXHRcdFx0aWYgKHByb3BzLmppbXVNYXBWaWV3Py52aWV3KSB7XHJcblx0XHRcdFx0bmV3TWFwVmlldyA9IHByb3BzLmppbXVNYXBWaWV3LnZpZXc7XHJcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygnTWFwIHZpZXcgc2V0IGZyb20gamltdU1hcFZpZXcgcHJvcCcpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHNrZXRjaFZpZXdNb2RlbD8udmlldykge1xyXG5cdFx0XHRcdG5ld01hcFZpZXcgPSBza2V0Y2hWaWV3TW9kZWwudmlldztcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdNYXAgdmlldyBzZXQgZnJvbSBza2V0Y2hWaWV3TW9kZWwnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKG5ld01hcFZpZXcgJiYgbmV3TWFwVmlldyAhPT0gY3VycmVudE1hcFZpZXcpIHtcclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0Ly8gV2FpdCBmb3IgdGhlIHZpZXcgdG8gYmUgcmVhZHkgYmVmb3JlIHByb2NlZWRpbmdcclxuXHRcdFx0XHRcdGF3YWl0IG5ld01hcFZpZXcud2hlbigpO1xyXG5cclxuXHRcdFx0XHRcdGN1cnJlbnRNYXBWaWV3ID0gbmV3TWFwVmlldztcclxuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coJ2N1cnJlbnRNYXBWaWV3IHVwZGF0ZWQgYW5kIHJlYWR5Jyk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gT25seSByZS1zZXR1cCBtZWFzdXJlbWVudCBlZGl0aW5nIGlmIGl0IHdhcyBwcmV2aW91c2x5IGVuYWJsZWRcclxuXHRcdFx0XHRcdGlmIChlZGl0YWJsZU1lYXN1cmVtZW50cyAmJiBjdXJyZW50TWFwVmlldyAmJiBza2V0Y2hWaWV3TW9kZWw/LnZpZXcpIHtcclxuXHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnUmUtc2V0dGluZyB1cCBtZWFzdXJlbWVudCBlZGl0aW5nIGFmdGVyIG1hcFZpZXcgc3luYycpO1xyXG5cdFx0XHRcdFx0XHRyZW1vdmVNZWFzdXJlbWVudExhYmVsQ2xpY2tMaXN0ZW5lcigpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gQWRkIGRlbGF5IHRvIHByZXZlbnQgY29uZmxpY3RzXHJcblx0XHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChlZGl0YWJsZU1lYXN1cmVtZW50cykge1xyXG5cdFx0XHRcdFx0XHRcdFx0c2V0dXBFbmhhbmNlZE1lYXN1cmVtZW50TGFiZWxDbGlja0xpc3RlbmVyKCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9LCAzMDApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciBpbml0aWFsaXppbmcgbWFwIHZpZXc6JywgZXJyb3IpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRpbml0aWFsaXplTWFwVmlldygpO1xyXG5cdH0sIFtwcm9wcy5qaW11TWFwVmlldywgc2tldGNoVmlld01vZGVsLCBlZGl0YWJsZU1lYXN1cmVtZW50c10pO1xyXG5cclxuXHQvLyA1LiBBbHRlcm5hdGl2ZSBtYXAgdmlldyBpbml0aWFsaXphdGlvblxyXG5cdHVzZUVmZmVjdCgoKSA9PiB7XHJcblx0XHRpZiAocHJvcHMuamltdU1hcFZpZXc/LnZpZXcpIHtcclxuXHRcdFx0Y3VycmVudE1hcFZpZXcgPSBwcm9wcy5qaW11TWFwVmlldy52aWV3O1xyXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdNYXAgdmlldyBpbml0aWFsaXplZCBmcm9tIGppbXVNYXBWaWV3IHByb3AnKTtcclxuXHRcdH1cclxuXHR9LCBbcHJvcHMuamltdU1hcFZpZXddKTtcclxuXHJcblx0Ly8gNi4gRU5IQU5DRUQ6IFNrZXRjaFZpZXdNb2RlbCByZWFkaW5lc3MgYW5kIG1lYXN1cmVtZW50IHN5c3RlbSBjb29yZGluYXRpb25cclxuXHR1c2VFZmZlY3QoKCkgPT4ge1xyXG5cdFx0Ly8gRWFybHkgcmV0dXJuIGlmIFNrZXRjaFZpZXdNb2RlbCBpc24ndCByZWFkeSAtIGRvbid0IHdhcm4sIGp1c3QgZGVmZXJcclxuXHRcdGlmICghc2tldGNoVmlld01vZGVsIHx8ICFza2V0Y2hWaWV3TW9kZWwudmlldykge1xyXG5cdFx0XHQvLyBJZiB3ZSBoYXZlIGEgc2tldGNoVmlld01vZGVsIGJ1dCBubyB2aWV3LCBpdCBtaWdodCBiZSBsb2FkaW5nXHJcblx0XHRcdGlmIChza2V0Y2hWaWV3TW9kZWwgJiYgIXNrZXRjaFZpZXdNb2RlbC52aWV3KSB7XHJcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygnU2tldGNoVmlld01vZGVsIGV4aXN0cyBidXQgdmlldyBub3QgcmVhZHksIGRlZmVycmluZyBjb25maWd1cmF0aW9uLi4uJyk7XHJcblx0XHRcdFx0Ly8gU2V0IHVwIGEgb25lLXRpbWUgbGlzdGVuZXIgdG8gY29uZmlndXJlIHdoZW4gdmlldyBiZWNvbWVzIGF2YWlsYWJsZVxyXG5cdFx0XHRcdGNvbnN0IHZpZXdSZWFkeVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdGlmIChza2V0Y2hWaWV3TW9kZWw/LnZpZXcpIHtcclxuXHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnU2tldGNoVmlld01vZGVsIHZpZXcgYmVjYW1lIHJlYWR5LCBjb25maWd1cmluZyBub3cuLi4nKTtcclxuXHRcdFx0XHRcdFx0Y29uZmlndXJlU2tldGNoVmlld01vZGVsKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwgNTAwKTsgLy8gQ2hlY2sgYWdhaW4gaW4gNTAwbXNcclxuXHJcblx0XHRcdFx0cmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh2aWV3UmVhZHlUaW1lb3V0KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm47IC8vIFNpbGVudGx5IGRlZmVyIGlmIGNvbXBsZXRlbHkgdW5hdmFpbGFibGVcclxuXHRcdH1cclxuXHJcblx0XHQvL2NvbnNvbGUubG9nKCdTa2V0Y2hWaWV3TW9kZWwgcmVhZHkgZm9yIGNvbmZpZ3VyYXRpb24nKTtcclxuXHRcdGNvbmZpZ3VyZVNrZXRjaFZpZXdNb2RlbCgpO1xyXG5cclxuXHRcdC8vIEV4dHJhY3RlZCBjb25maWd1cmF0aW9uIGZ1bmN0aW9uIGZvciByZXVzZVxyXG5cdFx0ZnVuY3Rpb24gY29uZmlndXJlU2tldGNoVmlld01vZGVsKCkge1xyXG5cdFx0XHRpZiAoIXNrZXRjaFZpZXdNb2RlbD8udmlldykgcmV0dXJuO1xyXG5cclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHQvLyBDb25maWd1cmUgdG9vbHRpcHNcclxuXHRcdFx0XHRpZiAodG9vbHRpcHMpIHtcclxuXHRcdFx0XHRcdHNrZXRjaFZpZXdNb2RlbC50b29sdGlwT3B0aW9ucy5lbmFibGVkID0gdHJ1ZTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0c2tldGNoVmlld01vZGVsLnRvb2x0aXBPcHRpb25zLmVuYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIENvbmZpZ3VyZSB2YWx1ZSBvcHRpb25zXHJcblx0XHRcdFx0Y29uc3QgZm91bmRVbml0ID0gZGVmYXVsdERpc3RhbmNlVW5pdHMuZmluZChkZWZhdWx0VW5pdCA9PiBkZWZhdWx0VW5pdC51bml0ID09PSBkaXN0YW5jZVVuaXQudW5pdCk7XHJcblx0XHRcdFx0Y29uc3QgZm91bmRBcmVhVW5pdCA9IGRlZmF1bHRBcmVhVW5pdHMuZmluZChkZWZhdWx0VW5pdCA9PiBkZWZhdWx0VW5pdC51bml0ID09PSBhcmVhVW5pdC51bml0KTtcclxuXHJcblx0XHRcdFx0c2tldGNoVmlld01vZGVsLnZhbHVlT3B0aW9ucyA9IHtcclxuXHRcdFx0XHRcdGRpc3BsYXlVbml0czoge1xyXG5cdFx0XHRcdFx0XHRsZW5ndGg6IGZvdW5kVW5pdD8udW5pdCB8fCAnbWV0ZXJzJyxcclxuXHRcdFx0XHRcdFx0YXJlYTogZm91bmRBcmVhVW5pdD8udW5pdCB8fCAnc3F1YXJlLW1ldGVycydcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRpbnB1dFVuaXRzOiB7XHJcblx0XHRcdFx0XHRcdGxlbmd0aDogZm91bmRVbml0Py51bml0IHx8ICdtZXRlcnMnLFxyXG5cdFx0XHRcdFx0XHRhcmVhOiBmb3VuZEFyZWFVbml0Py51bml0IHx8ICdzcXVhcmUtbWV0ZXJzJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ1NrZXRjaFZpZXdNb2RlbCBjb25maWd1cmF0aW9uIGFwcGxpZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0Y29uc29sZS53YXJuKCdFcnJvciBjb25maWd1cmluZyBTa2V0Y2hWaWV3TW9kZWw6JywgZXJyb3IpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSwgW3NrZXRjaFZpZXdNb2RlbCwgc2tldGNoVmlld01vZGVsPy52aWV3LCB0b29sdGlwcywgZGlzdGFuY2VVbml0LnVuaXQsIGFyZWFVbml0LnVuaXRdKTtcclxuXHJcblx0Ly8gNy4gRU5IQU5DRUQ6IE1lYXN1cmVtZW50IHN5c3RlbSBsaWZlY3ljbGUgbWFuYWdlbWVudFxyXG5cdHVzZUVmZmVjdCgoKSA9PiB7XHJcblx0XHQvLyBjb25zb2xlLmxvZygn8J+TiiBNZWFzdXJlbWVudCBsaWZlY3ljbGUgdXNlRWZmZWN0IHRyaWdnZXJlZDonLCB7XHJcblx0XHQvLyAgIG1lYXN1cmVFbmFibGVkLFxyXG5cdFx0Ly8gICBtZWFzdXJlRW5hYmxlZFJlZjogbWVhc3VyZUVuYWJsZWRSZWY/LmN1cnJlbnQsXHJcblx0XHQvLyAgIGhhc1NrZXRjaFZpZXdNb2RlbDogISFza2V0Y2hWaWV3TW9kZWwsXHJcblx0XHQvLyAgIGhhc1ZpZXc6ICEhc2tldGNoVmlld01vZGVsPy52aWV3LFxyXG5cdFx0Ly8gICB1cGRhdGVMaXN0ZW5lckV4aXN0czogISF1cGRhdGVMaXN0ZW5lclJlZi5jdXJyZW50LFxyXG5cdFx0Ly8gICBjcmVhdGVMaXN0ZW5lckV4aXN0czogISFjcmVhdGVMaXN0ZW5lclJlZi5jdXJyZW50XHJcblx0XHQvLyB9KTtcclxuXHJcblxyXG5cdFx0Ly8gS2VlcCB0aGUgcmVmIGluIHBlcmZlY3Qgc3luYyBpbW1lZGlhdGVseSB0byBhdm9pZCBzdGFsZSBjbG9zdXJlc1xyXG5cdFx0aWYgKG1lYXN1cmVFbmFibGVkUmVmKSB7XHJcblx0XHRcdG1lYXN1cmVFbmFibGVkUmVmLmN1cnJlbnQgPSBtZWFzdXJlRW5hYmxlZDtcclxuXHRcdFx0Ly9jb25zb2xlLmxvZygn8J+UhCBVcGRhdGVkIG1lYXN1cmVFbmFibGVkUmVmIHRvOicsIG1lYXN1cmVFbmFibGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAobWVhc3VyZUVuYWJsZWQpIHtcclxuXHRcdFx0Ly9jb25zb2xlLmxvZygn4pyFIEVuYWJsaW5nIG1lYXN1cmVtZW50cyBhbmQgc2V0dGluZyB1cCBsaXN0ZW5lcnMnKTtcclxuXHRcdFx0Ly8gRW5zdXJlIG9wZXJhdG9ycyBhcmUgcmVhZHkgYW5kIHdpcmUgbGl2ZSBtZWFzdXJlbWVudCBsaXN0ZW5lcnNcclxuXHRcdFx0Z2VvZGV0aWNBcmVhT3BlcmF0b3IubG9hZCgpO1xyXG5cdFx0XHRnZW9kZXRpY0xlbmd0aE9wZXJhdG9yLmxvYWQoKTtcclxuXHRcdFx0bGl2ZU1lYXN1cmUoKTtcclxuXHJcblx0XHRcdC8vIENsZWFyIGFueSBleGlzdGluZyByZW1vdmFsIGxpc3RlbmVyXHJcblx0XHRcdGlmIChyZW1vdmFsTGlzdGVuZXIpIHtcclxuXHRcdFx0XHR0cnkgeyByZW1vdmFsTGlzdGVuZXIucmVtb3ZlKCk7IH0gY2F0Y2ggeyB9XHJcblx0XHRcdFx0c2V0UmVtb3ZhbExpc3RlbmVyKG51bGwpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ+KchSBNZWFzdXJlbWVudCBsaXN0ZW5lcnMgc2V0IHVwIGNvbXBsZXRlJyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvL2NvbnNvbGUubG9nKCfinYwgRGlzYWJsaW5nIG1lYXN1cmVtZW50cyBhbmQgdGVhcmluZyBkb3duIGxpc3RlbmVycycpO1xyXG5cclxuXHRcdFx0Ly8gVGVhciBkb3duIG1lYXN1cmVtZW50IGxpc3RlbmVyc1xyXG5cdFx0XHQvLyDwn5SnIFVzZSByZWZzIGZvciBzeW5jaHJvbm91cyByZW1vdmFsXHJcblx0XHRcdGlmICh1cGRhdGVMaXN0ZW5lclJlZi5jdXJyZW50KSB7XHJcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygn8J+Xke+4jyBSZW1vdmluZyB1cGRhdGVMaXN0ZW5lciB2aWEgcmVmJyk7XHJcblx0XHRcdFx0dHJ5IHsgdXBkYXRlTGlzdGVuZXJSZWYuY3VycmVudC5yZW1vdmUoKTsgfSBjYXRjaCB7IH1cclxuXHRcdFx0XHR1cGRhdGVMaXN0ZW5lclJlZi5jdXJyZW50ID0gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoY3JlYXRlTGlzdGVuZXJSZWYuY3VycmVudCkge1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ/Cfl5HvuI8gUmVtb3ZpbmcgY3JlYXRlTGlzdGVuZXIgdmlhIHJlZicpO1xyXG5cdFx0XHRcdHRyeSB7IGNyZWF0ZUxpc3RlbmVyUmVmLmN1cnJlbnQucmVtb3ZlKCk7IH0gY2F0Y2ggeyB9XHJcblx0XHRcdFx0Y3JlYXRlTGlzdGVuZXJSZWYuY3VycmVudCA9IG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEFsc28gY2xlYW4gdXAgc3RhdGUgbGlzdGVuZXJzXHJcblx0XHRcdGlmICh1cGRhdGVMaXN0ZW5lcikge1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ/Cfl5HvuI8gUmVtb3ZpbmcgdXBkYXRlTGlzdGVuZXIgdmlhIHN0YXRlJyk7XHJcblx0XHRcdFx0dHJ5IHsgdXBkYXRlTGlzdGVuZXIucmVtb3ZlKCk7IH0gY2F0Y2ggeyB9XHJcblx0XHRcdFx0c2V0VXBkYXRlTGlzdGVuZXIobnVsbCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGNyZWF0ZUxpc3RlbmVyKSB7XHJcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygn8J+Xke+4jyBSZW1vdmluZyBjcmVhdGVMaXN0ZW5lciB2aWEgc3RhdGUnKTtcclxuXHRcdFx0XHR0cnkgeyBjcmVhdGVMaXN0ZW5lci5yZW1vdmUoKTsgfSBjYXRjaCB7IH1cclxuXHRcdFx0XHRzZXRDcmVhdGVMaXN0ZW5lcihudWxsKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gU2V0IHVwIHJlbW92YWwgbGlzdGVuZXIgZm9yIHdoZW4gbWVhc3VyZW1lbnRzIGFyZSBkaXNhYmxlZFxyXG5cdFx0XHRpZiAoc2tldGNoVmlld01vZGVsKSB7XHJcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygn8J+UpyBTZXR0aW5nIHVwIHJlbW92YWwgbGlzdGVuZXInKTtcclxuXHRcdFx0XHRyZW1vdmVNZWFzdXJlbWVudHNPblVwZGF0ZSgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvL2NvbnNvbGUubG9nKCfinYwgTWVhc3VyZW1lbnQgdGVhcmRvd24gY29tcGxldGUnKTtcclxuXHRcdH1cclxuXHR9LCBbbWVhc3VyZUVuYWJsZWQsIHNrZXRjaFZpZXdNb2RlbF0pO1xyXG5cclxuXHQvLyA4LiBFTkhBTkNFRDogU2V0dGluZ3MgY2hhbmdlIGhhbmRsZXIgKHJlYnVpbGQgbGlzdGVuZXJzIHdoZW4gc2V0dGluZ3MgY2hhbmdlKVxyXG5cdHVzZUVmZmVjdCgoKSA9PiB7XHJcblx0XHQvLyBPbmx5IHJlYnVpbGQgaWYgbGlzdGVuZXJzIGV4aXN0IChtZWFzdXJlbWVudCBpcyBlbmFibGVkKVxyXG5cdFx0aWYgKHVwZGF0ZUxpc3RlbmVyICYmIGNyZWF0ZUxpc3RlbmVyICYmIG1lYXN1cmVFbmFibGVkKSB7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ01lYXN1cmVtZW50IHNldHRpbmdzIGNoYW5nZWQgLSByZWJ1aWxkaW5nIGxpc3RlbmVycycpO1xyXG5cdFx0XHR1cGRhdGVMaXN0ZW5lci5yZW1vdmUoKTtcclxuXHRcdFx0Y3JlYXRlTGlzdGVuZXIucmVtb3ZlKCk7XHJcblx0XHRcdGxpdmVNZWFzdXJlKCk7XHJcblx0XHR9XHJcblx0fSwgW2Rpc3RhbmNlVW5pdC51bml0LCBhcmVhVW5pdC51bml0LCB3a2lkLCBsYXRMb25nLCB4eSwgbGVuZ3RoT24sIHNlZ21lbnRzT24sIGFyZWFPbiwgcGVyaW1ldGVyT24sIHJhZGl1c09uLCBwb2ludFJvdW5kLCBvdGhlclJvdW5kLCByb3RhdGVTZWdtZW50cywgbWVhc3VyZUVuYWJsZWRdKTtcclxuXHJcblx0Ly8gOS4gSGFuZGxlIHRleHQgcHJldmlldyBtb2RlXHJcblx0dXNlRWZmZWN0KCgpID0+IHtcclxuXHRcdGlmIChzaG93VGV4dFByZXZpZXcpIHtcclxuXHRcdFx0c2V0TWVhc3VyZUVuYWJsZWQoZmFsc2UpO1xyXG5cdFx0fVxyXG5cdH0sIFtzaG93VGV4dFByZXZpZXddKTtcclxuXHJcblx0Ly8gMTAuIEVOSEFOQ0VEOiBIYW5kbGUgZ3JhcGhpYyBzZWxlY3Rpb24gYW5kIHR5cGUgZGV0ZWN0aW9uXHJcblx0dXNlRWZmZWN0KCgpID0+IHtcclxuXHRcdC8vIFByaW1hcnk6IFVzZSBjdXJyZW50VG9vbCB0byBzZXQgdG9vbFR5cGUgd2hlbiBhY3RpdmVseSBkcmF3aW5nXHJcblx0XHRpZiAoY3VycmVudFRvb2wgJiYgY3VycmVudFRvb2wgIT09ICcnKSB7XHJcblx0XHRcdGxldCBtYXBwZWRUeXBlID0gY3VycmVudFRvb2w7XHJcblxyXG5cdFx0XHQvLyBNYXAgZHJhd2luZyB0b29sIG5hbWVzIHRvIGdlb21ldHJ5IHR5cGVzIGZvciBtZWFzdXJlbWVudCBzZXR0aW5nc1xyXG5cdFx0XHRpZiAoY3VycmVudFRvb2wgPT09ICdleHRlbnQnKSB7XHJcblx0XHRcdFx0bWFwcGVkVHlwZSA9ICdwb2x5Z29uJztcclxuXHRcdFx0fSBlbHNlIGlmIChjdXJyZW50VG9vbCA9PT0gJ2ZyZWVwb2x5bGluZScpIHtcclxuXHRcdFx0XHRtYXBwZWRUeXBlID0gJ3BvbHlsaW5lJztcclxuXHRcdFx0fSBlbHNlIGlmIChjdXJyZW50VG9vbCA9PT0gJ2ZyZWVwb2x5Z29uJykge1xyXG5cdFx0XHRcdG1hcHBlZFR5cGUgPSAncG9seWdvbic7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIE9ubHkgdXBkYXRlIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lY2Vzc2FyeSByZS1yZW5kZXJzXHJcblx0XHRcdGlmICh0b29sVHlwZSAhPT0gbWFwcGVkVHlwZSkge1xyXG5cdFx0XHRcdHNldFRvb2xUeXBlKG1hcHBlZFR5cGUpO1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ1Rvb2wgdHlwZSB1cGRhdGVkIGZyb20gY3VycmVudFRvb2w6JywgY3VycmVudFRvb2wsICfihpInLCBtYXBwZWRUeXBlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm47IC8vIENSSVRJQ0FMOiBFeGl0IGVhcmx5IHRvIHByZXZlbnQgY3VycmVudEdyYXBoaWMgZnJvbSBvdmVycmlkaW5nXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2Vjb25kYXJ5OiBIYW5kbGUgU2tldGNoVmlld01vZGVsIHVwZGF0ZUdyYXBoaWNzICh3aGVuIGVkaXRpbmcgZXhpc3RpbmcgZ3JhcGhpY3MpXHJcblx0XHQvLyBPbmx5IHVzZSB0aGlzIHdoZW4gTk8gdG9vbCBpcyBhY3RpdmVcclxuXHRcdGlmIChza2V0Y2hWaWV3TW9kZWw/LnVwZGF0ZUdyYXBoaWNzICYmIHNrZXRjaFZpZXdNb2RlbC51cGRhdGVHcmFwaGljcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdGNvbnN0IGdyYXBoaWMgPSBza2V0Y2hWaWV3TW9kZWwudXBkYXRlR3JhcGhpY3MuaXRlbXNbMF07XHJcblx0XHRcdGlmIChncmFwaGljPy52aXNpYmxlICYmIGdyYXBoaWM/Lmdlb21ldHJ5KSB7XHJcblx0XHRcdFx0Y29uc3QgZ3JhcGhpY1R5cGUgPSBncmFwaGljLmdlb21ldHJ5LnR5cGU7XHJcblx0XHRcdFx0bGV0IG91dHB1dCA9IGdyYXBoaWNUeXBlO1xyXG5cclxuXHRcdFx0XHRpZiAoZ3JhcGhpY1R5cGUgPT09ICdwb2x5Z29uJykge1xyXG5cdFx0XHRcdFx0aWYgKGdyYXBoaWMuZ2VvbWV0cnkucmluZ3MgJiYgZ3JhcGhpYy5nZW9tZXRyeS5yaW5nc1swXSAmJiBncmFwaGljLmdlb21ldHJ5LnJpbmdzWzBdLmxlbmd0aCA9PT0gNjEpIHtcclxuXHRcdFx0XHRcdFx0b3V0cHV0ID0gJ2NpcmNsZSc7XHJcblx0XHRcdFx0XHRcdHNldFNlZ21lbnRzT24oZmFsc2UpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0b3V0cHV0ID0gJ3BvbHlnb24nO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKHRvb2xUeXBlICE9PSBvdXRwdXQpIHtcclxuXHRcdFx0XHRcdHNldFRvb2xUeXBlKG91dHB1dCk7XHJcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCdUb29sIHR5cGUgdXBkYXRlZCBmcm9tIHVwZGF0ZUdyYXBoaWNzOicsIG91dHB1dCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHQvLyBUZXJ0aWFyeTogSGFuZGxlIGN1cnJlbnRHcmFwaGljIGNoYW5nZXMgKGZhbGxiYWNrKVxyXG5cdFx0Ly8gT25seSB3aGVuIG5vIHRvb2wgaXMgYWN0aXZlIGFuZCBubyB1cGRhdGVHcmFwaGljc1xyXG5cdFx0ZWxzZSBpZiAoY3VycmVudEdyYXBoaWM/LnZpc2libGUgJiYgY3VycmVudEdyYXBoaWM/Lmdlb21ldHJ5KSB7XHJcblx0XHRcdGNvbnN0IGdyYXBoaWNUeXBlID0gY3VycmVudEdyYXBoaWMuZ2VvbWV0cnkudHlwZTtcclxuXHRcdFx0bGV0IG91dHB1dCA9IGdyYXBoaWNUeXBlO1xyXG5cclxuXHRcdFx0aWYgKGdyYXBoaWNUeXBlID09PSAncG9seWdvbicpIHtcclxuXHRcdFx0XHRpZiAoY3VycmVudEdyYXBoaWMuZ2VvbWV0cnkucmluZ3MgJiYgY3VycmVudEdyYXBoaWMuZ2VvbWV0cnkucmluZ3NbMF0gJiYgY3VycmVudEdyYXBoaWMuZ2VvbWV0cnkucmluZ3NbMF0ubGVuZ3RoID09PSA2MSkge1xyXG5cdFx0XHRcdFx0b3V0cHV0ID0gJ2NpcmNsZSc7XHJcblx0XHRcdFx0XHRzZXRTZWdtZW50c09uKGZhbHNlKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0b3V0cHV0ID0gJ3BvbHlnb24nO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHRvb2xUeXBlICE9PSBvdXRwdXQpIHtcclxuXHRcdFx0XHRzZXRUb29sVHlwZShvdXRwdXQpO1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ1Rvb2wgdHlwZSB1cGRhdGVkIGZyb20gY3VycmVudEdyYXBoaWM6Jywgb3V0cHV0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sIFtjdXJyZW50VG9vbCwgc2tldGNoVmlld01vZGVsPy51cGRhdGVHcmFwaGljcz8ubGVuZ3RoLCBjdXJyZW50R3JhcGhpYywgdG9vbFR5cGVdKTtcclxuXHJcblx0Ly8gMTEuIEhhbmRsZSByZXN0b3JlZCBtZWFzdXJlbWVudCBsYWJlbHNcclxuXHR1c2VFZmZlY3QoKCkgPT4ge1xyXG5cdFx0aWYgKGRyYXdMYXllciAmJiBkcmF3TGF5ZXIuZ3JhcGhpY3MubGVuZ3RoID4gMCkge1xyXG5cdFx0XHQvLyBHaXZlIHRoZSBsYXllciBhIG1vbWVudCB0byBzZXR0bGUgYWZ0ZXIgZ3JhcGhpY3MgYXJlIGxvYWRlZFxyXG5cdFx0XHRjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRpZGVudGlmeUFuZE1hcmtSZXN0b3JlZE1lYXN1cmVtZW50TGFiZWxzKCk7XHJcblx0XHRcdH0sIDUwMCk7XHJcblxyXG5cdFx0XHRyZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcblx0XHR9XHJcblx0fSwgW2RyYXdMYXllcj8uZ3JhcGhpY3M/Lmxlbmd0aF0pO1xyXG5cclxuXHQvLyAxMi4gRU5IQU5DRUQ6IENsZWFudXAgYW5kIGNvb3JkaW5hdGlvbiB3aGVuIG1lYXN1cmVtZW50cyBkaXNhYmxlZFxyXG5cdHVzZUVmZmVjdCgoKSA9PiB7XHJcblx0XHRpZiAoIW1lYXN1cmVFbmFibGVkICYmIGVkaXRhYmxlTWVhc3VyZW1lbnRzKSB7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ01lYXN1cmVtZW50cyBkaXNhYmxlZCAtIGNsZWFuaW5nIHVwIGVkaXRpbmcgbW9kZScpO1xyXG5cdFx0XHR0b2dnbGVNZWFzdXJlbWVudEVkaXRpbmcoZmFsc2UpOyAvLyBQYXNzIGZhbHNlIHRvIGRpc2FibGVcclxuXHRcdH1cclxuXHR9LCBbbWVhc3VyZUVuYWJsZWQsIGVkaXRhYmxlTWVhc3VyZW1lbnRzXSk7XHJcblxyXG5cdC8vIDEzLiBFTkhBTkNFRDogQ29tcG9uZW50IGNsZWFudXAgb24gdW5tb3VudFxyXG5cdHVzZUVmZmVjdCgoKSA9PiB7XHJcblx0XHRyZXR1cm4gKCkgPT4ge1xyXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdDbGVhbmluZyB1cCBtZWFzdXJlbWVudCBjb21wb25lbnQnKTtcclxuXHJcblx0XHRcdC8vIENsZWFuIHVwIGFsbCBwZW5kaW5nIHRpbWVvdXRzXHJcblx0XHRcdGNvbXBsZXRlVGltZW91dHMuZm9yRWFjaCh0aW1lb3V0SWQgPT4ge1xyXG5cdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIENsZWFuIHVwIGxheWVyIHdhdGNoZXJcclxuXHRcdFx0aWYgKGxheWVyV2F0Y2hlcikge1xyXG5cdFx0XHRcdGxheWVyV2F0Y2hlci5yZW1vdmUoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gUmVzZXQgcHJvY2Vzc2luZyBzdGF0ZXNcclxuXHRcdFx0cHJvY2Vzc2luZ1F1ZXVlLmN1cnJlbnQuY2xlYXIoKTtcclxuXHRcdFx0bWVhc3VyZW1lbnRMb2NrLmN1cnJlbnQgPSBmYWxzZTtcclxuXHJcblx0XHRcdC8vIENsZWFuIHVwIG1lYXN1cmVtZW50IGVkaXRpbmdcclxuXHRcdFx0Y2xlYW51cE1lYXN1cmVtZW50TGFiZWxTZWxlY3Rpb24oKTtcclxuXHRcdFx0cmVtb3ZlTWVhc3VyZW1lbnRMYWJlbENsaWNrTGlzdGVuZXIoKTtcclxuXHJcblx0XHRcdC8vIENsZWFuIHVwIG1lYXN1cmVtZW50IGxpc3RlbmVyc1xyXG5cdFx0XHRpZiAodXBkYXRlTGlzdGVuZXIpIHtcclxuXHRcdFx0XHR0cnkgeyB1cGRhdGVMaXN0ZW5lci5yZW1vdmUoKTsgfSBjYXRjaCB7IH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoY3JlYXRlTGlzdGVuZXIpIHtcclxuXHRcdFx0XHR0cnkgeyBjcmVhdGVMaXN0ZW5lci5yZW1vdmUoKTsgfSBjYXRjaCB7IH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAocmVtb3ZhbExpc3RlbmVyKSB7XHJcblx0XHRcdFx0dHJ5IHsgcmVtb3ZhbExpc3RlbmVyLnJlbW92ZSgpOyB9IGNhdGNoIHsgfVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH0sIFtdKTtcclxuXHJcblx0Ly8gMTQuIE1hbmFnZXMgbWVhc3VyZW1lbnQgZWRpdGluZyBtb2RlIGxpZmVjeWNsZTogc2V0cyB1cCBjbGljayBoYW5kbGVycyB3aGVuIGVuYWJsZWQsIGNsZWFucyB1cCBsaXN0ZW5lcnMgYW5kIG9ycGhhbmVkIHZpc3VhbCBvdmVybGF5cyB3aGVuIGRpc2FibGVkXHJcblx0dXNlRWZmZWN0KCgpID0+IHtcclxuXHRcdGlmIChlZGl0YWJsZU1lYXN1cmVtZW50cykge1xyXG5cdFx0XHQvLyAuLi4gZXhpc3Rpbmcgc2V0dXAgY29kZSAuLi5cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ0NsZWFuaW5nIHVwIG1lYXN1cmVtZW50IGVkaXRpbmcnKTtcclxuXHJcblx0XHRcdGlmIChtZWFzdXJlbWVudENsaWNrTGlzdGVuZXIpIHtcclxuXHRcdFx0XHRtZWFzdXJlbWVudENsaWNrTGlzdGVuZXIucmVtb3ZlKCk7XHJcblx0XHRcdFx0c2V0TWVhc3VyZW1lbnRDbGlja0xpc3RlbmVyKG51bGwpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjbGVhbnVwTWVhc3VyZW1lbnRMYWJlbFNlbGVjdGlvbigpO1xyXG5cclxuXHRcdFx0Ly8gQ2xlYW4gdXAgYW55IG9ycGhhbmVkIG92ZXJsYXlzIHdoZW4gZGlzYWJsaW5nXHJcblx0XHRcdGNsZWFudXBBbGxNZWFzdXJlbWVudE92ZXJsYXlzKCk7XHJcblx0XHR9XHJcblx0fSwgW2VkaXRhYmxlTWVhc3VyZW1lbnRzLCBza2V0Y2hWaWV3TW9kZWxdKTtcclxuXHJcblx0Ly8gT3B0aW1pemVkIGxpdmUgbWVhc3VyZW1lbnQgZnVuY3Rpb24gLSBvbmx5IHVwZGF0ZXMgbWFpbiBsYWJlbCwgbm8gc2VnbWVudHNcclxuXHRjb25zdCBfYWRkTWVhc3VyZW1lbnRMaXZlID0gYXN5bmMgKGdyYXBoaWM6IEV4dGVuZGVkR3JhcGhpYykgPT4ge1xyXG5cdFx0Ly8gQWRkIFNrZXRjaFZpZXdNb2RlbCB2YWxpZGF0aW9uXHJcblx0XHRpZiAoIXNrZXRjaFZpZXdNb2RlbCB8fCAhc2tldGNoVmlld01vZGVsLnZpZXcpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKCdTa2V0Y2hWaWV3TW9kZWwgbm90IGF2YWlsYWJsZSBmb3IgbGl2ZSBtZWFzdXJlbWVudHMnKTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFNhZmVndWFyZCAtIHByZXZlbnQgcHJvY2Vzc2luZyBtZWFzdXJlbWVudCBsYWJlbHNcclxuXHRcdGlmIChpc01lYXN1cmVtZW50TGFiZWwoZ3JhcGhpYykpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEVhcmx5IHZhbGlkYXRpb24gY2hlY2tzXHJcblx0XHRpZiAoIWdyYXBoaWMgfHwgIWdyYXBoaWMuZ2VvbWV0cnkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChncmFwaGljLnN5bWJvbD8udHlwZSA9PT0gJ3RleHQnKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFVzZSBtb3JlIHBlcm1pc3NpdmUgdmFsaWRhdGlvbiBmb3Igbm9ybWFsIG1lYXN1cmVtZW50IG9wZXJhdGlvbnNcclxuXHRcdGlmICghaXNMYXllckJhc2ljYWxseVZhbGlkKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGdlb21ldHJ5ID0gZ3JhcGhpYy5nZW9tZXRyeTtcclxuXHRcdGNvbnN0IGxhYmVsUG9pbnQgPSBfZ2V0TGFiZWxQb2ludChnZW9tZXRyeSk7XHJcblx0XHRpZiAoIWxhYmVsUG9pbnQpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGlzUG9pbnQgPSBnZW9tZXRyeS50eXBlID09PSAncG9pbnQnO1xyXG5cdFx0bGV0IHRleHQ6IHN0cmluZztcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHQvL2ZvciBwb2ludCBncmFwaGljc1xyXG5cdFx0XHRpZiAoaXNQb2ludCkge1xyXG5cdFx0XHRcdGxldCB4eUNvb3JkcyA9ICcnXHJcblx0XHRcdFx0bGV0IHNyV2tpZCA9ICcnXHJcblx0XHRcdFx0aWYgKHh5KSB7XHJcblx0XHRcdFx0XHR4eUNvb3JkcyA9IGBYOiAke2xhYmVsUG9pbnQueC50b0ZpeGVkKHBvaW50Um91bmQpfSBcXG5ZOiAke2xhYmVsUG9pbnQueS50b0ZpeGVkKHBvaW50Um91bmQpfWBcclxuXHRcdFx0XHRcdGlmICh3a2lkKSB7XHJcblx0XHRcdFx0XHRcdHNyV2tpZCA9ICdcXG5XS0lEOiAnICsgbGFiZWxQb2ludC5zcGF0aWFsUmVmZXJlbmNlPy5sYXRlc3RXa2lkIHx8IGxhYmVsUG9pbnQuc3BhdGlhbFJlZmVyZW5jZT8ud2tpZCB8fCAndW5rbm93bic7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxldCB3Z3NDb29yZHMgPSAnJztcclxuXHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdGlmICghcHJvamVjdE9wZXJhdG9yLmlzTG9hZGVkKCkpIHtcclxuXHRcdFx0XHRcdFx0YXdhaXQgcHJvamVjdE9wZXJhdG9yLmxvYWQoKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRjb25zdCBbcHJvamVjdGVkXSA9IHByb2plY3RPcGVyYXRvci5leGVjdXRlTWFueShbbGFiZWxQb2ludF0sIFNwYXRpYWxSZWZlcmVuY2UuV0dTODQpIGFzIF9fZXNyaS5Qb2ludFtdO1xyXG5cclxuXHRcdFx0XHRcdGlmIChwcm9qZWN0ZWQgJiYgbGF0TG9uZykge1xyXG5cdFx0XHRcdFx0XHR3Z3NDb29yZHMgPSBgXFxuTGF0OiAke3Byb2plY3RlZC55LnRvRml4ZWQocG9pbnRSb3VuZCl9XFxuTG9uOiAke3Byb2plY3RlZC54LnRvRml4ZWQocG9pbnRSb3VuZCl9YDtcclxuXHRcdFx0XHRcdFx0aWYgKHdraWQpIHtcclxuXHRcdFx0XHRcdFx0XHR3Z3NDb29yZHMgPSB3Z3NDb29yZHMgKyAnXFxuV0tJRDogNDMyNidcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xyXG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKCdQcm9qZWN0aW9uIHRvIFdHUzg0IGZhaWxlZDonLCBlcnIpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0dGV4dCA9IGAke3h5Q29vcmRzfSR7c3JXa2lkfSR7d2dzQ29vcmRzfWA7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vY2FsY3VsYXRlcyBtZWFzdXJlbWVudHMgYW5kIHJldHVybnMgdGV4dFxyXG5cdFx0XHRcdHRleHQgPSBfZ2V0TWVhc3VyZVRleHQoZ2VvbWV0cnksIG51bGwpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIXRleHQgfHwgdGV4dC50cmltKCkgPT09ICcnKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIG1lYXN1cmVtZW50IHRleHQ6JywgZXJyb3IpO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZXhpc3RpbmdNZWFzdXJlR3JhcGhpYyA9IGdyYXBoaWMubWVhc3VyZSAmJiBncmFwaGljLm1lYXN1cmUuZ3JhcGhpYyA/IGdyYXBoaWMubWVhc3VyZS5ncmFwaGljIDogZmFsc2U7XHJcblxyXG5cdFx0Ly8gT25seSB1cGRhdGUgZXhpc3RpbmcgbWVhc3VyZW1lbnQgb3IgY3JlYXRlIG5ldyBvbmUgLSBOTyBTRUdNRU5UIEhBTkRMSU5HIGR1cmluZyBsaXZlIHVwZGF0ZXNcclxuXHRcdGlmIChleGlzdGluZ01lYXN1cmVHcmFwaGljKSB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Ly8gU2ltcGxlIHVwZGF0ZSBvZiBleGlzdGluZyBsYWJlbFxyXG5cdFx0XHRcdGlmIChpc1RleHRTeW1ib2woZXhpc3RpbmdNZWFzdXJlR3JhcGhpYy5zeW1ib2wpKSB7XHJcblx0XHRcdFx0XHRleGlzdGluZ01lYXN1cmVHcmFwaGljLnN5bWJvbC50ZXh0ID0gdGV4dDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZXhpc3RpbmdNZWFzdXJlR3JhcGhpYy5hdHRyaWJ1dGVzLm5hbWUgPSB0ZXh0O1xyXG5cclxuXHRcdFx0XHQvLyBVc2UgY3VzdG9tIHBvc2l0aW9uIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIHVzZSBjYWxjdWxhdGVkIHBvc2l0aW9uXHJcblx0XHRcdFx0Y29uc3QgZmluYWxMYWJlbFBvaW50ID0gcmVzcGVjdEN1c3RvbVBvc2l0aW9uKGV4aXN0aW5nTWVhc3VyZUdyYXBoaWMsIGxhYmVsUG9pbnQpO1xyXG5cdFx0XHRcdGV4aXN0aW5nTWVhc3VyZUdyYXBoaWMuZ2VvbWV0cnkgPSBmaW5hbExhYmVsUG9pbnQ7XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgZXhpc3RpbmcgbWVhc3VyZW1lbnQ6JywgZXJyb3IpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Ly9jb3B5IHRleHRTeW1ib2wgYW5kIGluc2VydCBtZWFzdXJlbWVudCB0ZXh0XHJcblx0XHRcdFx0Y29uc3QgdGV4dFN5bWJvbCA9IGN1cnJlbnRUZXh0U3ltYm9sLmNsb25lKClcclxuXHRcdFx0XHR0ZXh0U3ltYm9sLnRleHQgPSB0ZXh0XHJcblxyXG5cdFx0XHRcdC8vaWYgaXQncyBhIHBvaW50IG9mZnNldCB0aGUgdGV4dCBsb2NhdGlvblxyXG5cdFx0XHRcdGlmIChpc1BvaW50KSB7XHJcblx0XHRcdFx0XHRsZXQgbGluZXMgPSAwXHJcblx0XHRcdFx0XHRpZiAoeHkpIHtcclxuXHRcdFx0XHRcdFx0bGluZXMgPSAtMS41XHJcblx0XHRcdFx0XHRcdGlmICh3a2lkKSB7XHJcblx0XHRcdFx0XHRcdFx0bGluZXMgLT0gLjc1XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmIChsYXRMb25nKSB7XHJcblx0XHRcdFx0XHRcdGxpbmVzIC09IDEuNVxyXG5cdFx0XHRcdFx0XHRpZiAod2tpZCkge1xyXG5cdFx0XHRcdFx0XHRcdGxpbmVzIC09IC43NVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRjb25zdCBmb250T2Zmc2V0ID0gdGV4dFN5bWJvbC5mb250LnNpemUgKiBsaW5lc1xyXG5cdFx0XHRcdFx0dGV4dFN5bWJvbC55b2Zmc2V0ID0gZm9udE9mZnNldFxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly9hZGQgaGFsbyBpZiBubyBoYWxvXHJcblx0XHRcdFx0aWYgKCF0ZXh0U3ltYm9sLmhhbG9TaXplKSB7XHJcblx0XHRcdFx0XHR0ZXh0U3ltYm9sLmhhbG9TaXplID0gMlxyXG5cdFx0XHRcdFx0dGV4dFN5bWJvbC5oYWxvQ29sb3IgPSAnd2hpdGUnXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvL21ha2UgYW55IGJhY2tncm91bmQgY29sb3IgdHJhbnNwYXJlbnRcclxuXHRcdFx0XHRpZiAodGV4dFN5bWJvbC5iYWNrZ3JvdW5kQ29sb3I/LmEgPiAwKSB7XHJcblx0XHRcdFx0XHR0ZXh0U3ltYm9sLmJhY2tncm91bmRDb2xvci5hID0gMFxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gQ3JlYXRlIGxhYmVsIGdyYXBoaWNcclxuXHRcdFx0XHRjb25zdCBsYWJlbEdyYXBoaWMgPSBuZXcgR3JhcGhpYyh7XHJcblx0XHRcdFx0XHRnZW9tZXRyeTogbGFiZWxQb2ludCxcclxuXHRcdFx0XHRcdHN5bWJvbDogdGV4dFN5bWJvbCxcclxuXHRcdFx0XHRcdHZpc2libGU6IHRydWUsXHJcblx0XHRcdFx0XHRhdHRyaWJ1dGVzOiB7XHJcblx0XHRcdFx0XHRcdG5hbWU6IHRleHQsXHJcblx0XHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBpc1BvaW50ID8gJ0Nvb3JkaW5hdGUgTGFiZWwnIDogJ01lYXN1cmVtZW50IExhYmVsJyxcclxuXHRcdFx0XHRcdFx0aXNNZWFzdXJlbWVudExhYmVsOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRoaWRlRnJvbUxpc3Q6IHRydWUsXHJcblx0XHRcdFx0XHRcdGRyYXdNb2RlOiAndGV4dCcsXHJcblx0XHRcdFx0XHRcdGxlbmd0aFVuaXQ6IGRpc3RhbmNlVW5pdC51bml0LFxyXG5cdFx0XHRcdFx0XHRhcmVhVW5pdDogYXJlYVVuaXQudW5pdCxcclxuXHRcdFx0XHRcdFx0cGFyZW50R3JhcGhpY0lkOiBncmFwaGljLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkLFxyXG5cdFx0XHRcdFx0XHRtZWFzdXJlbWVudFR5cGU6IGlzUG9pbnQgPyAnY29vcmRpbmF0ZScgOiAnbWFpbidcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0fSkgYXMgRXh0ZW5kZWRHcmFwaGljO1xyXG5cclxuXHRcdFx0XHQvLyBBZGQgdG8gbGF5ZXJcclxuXHRcdFx0XHRpZiAoZHJhd0xheWVyICYmIHR5cGVvZiBkcmF3TGF5ZXIuYWRkID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0XHRsYWJlbEdyYXBoaWMudmlzaWJsZSA9IHRydWU7XHJcblx0XHRcdFx0XHRkcmF3TGF5ZXIuYWRkKGxhYmVsR3JhcGhpYyk7XHJcblxyXG5cdFx0XHRcdFx0Ly9hc3NvY2lhdGUgbGFiZWwgZ3JhcGhpYyB3aXRoIGRyYXdpbmdcclxuXHRcdFx0XHRcdGxhYmVsR3JhcGhpYy5tZWFzdXJlUGFyZW50ID0gZ3JhcGhpYztcclxuXHRcdFx0XHRcdGdyYXBoaWMubWVhc3VyZSA9IHtcclxuXHRcdFx0XHRcdFx0Z3JhcGhpYzogbGFiZWxHcmFwaGljLFxyXG5cdFx0XHRcdFx0XHRsZW5ndGhVbml0OiBkaXN0YW5jZVVuaXQudW5pdCxcclxuXHRcdFx0XHRcdFx0YXJlYVVuaXQ6IGFyZWFVbml0LnVuaXQsXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBjYXRjaCAoYWRkRXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcignRmFpbGVkIHRvIGFkZCBtZWFzdXJlbWVudCBsYWJlbDonLCBhZGRFcnIpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE5PIFNFR01FTlQgSEFORExJTkcgZHVyaW5nIGxpdmUgdXBkYXRlcyAtIHRoaXMgZWxpbWluYXRlcyBmbGlja2VyaW5nXHJcblx0XHRzZXRDdXJyZW50R3JhcGhpYyhncmFwaGljKVxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgX2FkZE1lYXN1cmVtZW50ID0gYXN5bmMgKFxyXG5cdFx0Z3JhcGhpYzogRXh0ZW5kZWRHcmFwaGljLFxyXG5cdFx0cGFyZW50PzogRXh0ZW5kZWRHcmFwaGljLFxyXG5cdFx0Zm9yY2VVcGRhdGUgPSBmYWxzZSxcclxuXHRcdGFuZ2xlOiBudW1iZXIgPSBudWxsXHJcblx0KSA9PiB7XHJcblx0XHQvLyBjb25zb2xlLmxvZygn8J+UjSBDUkVBVEUgRVZFTlQ6Jywge1xyXG5cdFx0Ly8gICBzdGF0ZTogZXZlbnQuc3RhdGUsXHJcblx0XHQvLyAgIG1lYXN1cmVFbmFibGVkUmVmOiBtZWFzdXJlRW5hYmxlZFJlZi5jdXJyZW50LFxyXG5cdFx0Ly8gICBtZWFzdXJlRW5hYmxlZFN0YXRlOiBtZWFzdXJlRW5hYmxlZCxcclxuXHRcdC8vICAgaGFzR3JhcGhpYzogISFldmVudC5ncmFwaGljXHJcblx0XHQvLyB9KTtcclxuXHJcblx0XHRpZiAoIXNob3VsZEdlbmVyYXRlTWVhc3VyZW1lbnRzKGdyYXBoaWMpKSByZXR1cm47XHJcblx0XHQvLyAtLS0tLS0tLS0gSGFyZCBndWFyZHMgJiByZWFkaW5lc3MgLS0tLS0tLS0tXHJcblx0XHRpZiAoIWdyYXBoaWMgfHwgIWdyYXBoaWMuZ2VvbWV0cnkpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKCdJbnZhbGlkIGdyYXBoaWMgb3IgZ2VvbWV0cnkgaW4gX2FkZE1lYXN1cmVtZW50Jyk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHRcdC8vIENSSVRJQ0FMIEZJWDogRG9uJ3QgcHJvY2VzcyBncmFwaGljcyB0aGF0IGFyZSBiZWluZyBvciBoYXZlIGJlZW4gZGVsZXRlZFxyXG5cdFx0aWYgKCFncmFwaGljLmxheWVyIHx8IChncmFwaGljLmxheWVyICYmIGdyYXBoaWMubGF5ZXIgIT09IGRyYXdMYXllcikpIHtcclxuXHRcdFx0Ly9jb25zb2xlLmxvZygn4pqg77iPIEdyYXBoaWMgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIGxheWVyLCBhYm9ydGluZyBtZWFzdXJlbWVudCcpO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHQvLyBTa2lwIG1lYXN1cmVtZW50IGxhYmVsc1xyXG5cdFx0aWYgKGlzTWVhc3VyZW1lbnRMYWJlbChncmFwaGljKSB8fCBncmFwaGljLnN5bWJvbD8udHlwZSA9PT0gJ3RleHQnKSByZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHQvLyBWaWV3IC8gbGF5ZXIgbXVzdCBleGlzdFxyXG5cdFx0aWYgKCFza2V0Y2hWaWV3TW9kZWwgfHwgIXNrZXRjaFZpZXdNb2RlbC52aWV3KSB7XHJcblx0XHRcdGNvbnNvbGUud2FybignU2tldGNoVmlld01vZGVsIG5vdCBhdmFpbGFibGUgZm9yIG1lYXN1cmVtZW50cycpO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRpZiAoIWlzTGF5ZXJCYXNpY2FsbHlWYWxpZCgpKSB7XHJcblx0XHRcdGNvbnNvbGUud2FybignRHJhd0xheWVyIGlzIG5vdCBhdmFpbGFibGUgZm9yIG1lYXN1cmVtZW50IHByb2Nlc3NpbmcnKTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFdhaXQgZm9yIHN0YWJsZSBJRCBmb3IgdG9wLWxldmVsIChub24tc2VnbWVudCkgd29ya1xyXG5cdFx0Y29uc3QgaGFzVWlkID0gISFncmFwaGljLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkO1xyXG5cdFx0aWYgKCFwYXJlbnQgJiYgIWhhc1VpZCkge1xyXG5cdFx0XHQvLyBEZWZlciBleGFjdGx5IG9uY2UgdG8gbGV0IHdpZGdldCBhc3NpZ24gdW5pcXVlSWQgb24gY3JlYXRlLWNvbXBsZXRlXHJcblx0XHRcdGlmICghZm9yY2VVcGRhdGUpIHtcclxuXHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IF9hZGRNZWFzdXJlbWVudChncmFwaGljLCBwYXJlbnQsIHRydWUsIGFuZ2xlKSwgMTgwKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gLS0tLS0tLS0tIENvbmN1cnJlbmN5IGNvbnRyb2xzIC0tLS0tLS0tLVxyXG5cdFx0aWYgKG1lYXN1cmVtZW50TG9jay5jdXJyZW50ICYmICFmb3JjZVVwZGF0ZSAmJiAhcGFyZW50KSByZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0Y29uc3QgZ3JhcGhpY0lkID0gZ2V0R3JhcGhpY0lkKGdyYXBoaWMpO1xyXG5cdFx0aWYgKHByb2Nlc3NpbmdRdWV1ZS5jdXJyZW50LmhhcyhncmFwaGljSWQpICYmICFmb3JjZVVwZGF0ZSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdHByb2Nlc3NpbmdRdWV1ZS5jdXJyZW50LmFkZChncmFwaGljSWQpO1xyXG5cdFx0aWYgKCFwYXJlbnQgJiYgIWZvcmNlVXBkYXRlKSB7XHJcblx0XHRcdG1lYXN1cmVtZW50TG9jay5jdXJyZW50ID0gdHJ1ZTtcclxuXHRcdFx0c2V0SXNQcm9jZXNzaW5nTWVhc3VyZW1lbnRzKHRydWUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHZpZXcgPSBza2V0Y2hWaWV3TW9kZWwudmlldyBhcyBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXc7XHJcblxyXG5cdFx0XHQvLyAtLS0tLS0tLS0gRW5zdXJlIHBhcmVudCBncmFwaGljIGlzIGFjdHVhbGx5IHJlbmRlcmFibGUgLS0tLS0tLS0tXHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Ly8gbWFyayBleHBsaWNpdGx5IGFzIGEgcmVhbCBkcmF3aW5nIChoZWxwcyBvdGhlciBjb2RlcGF0aHMgaWdub3JlIGl0IGluIGNsZWFudXApXHJcblx0XHRcdFx0Z3JhcGhpYy5hdHRyaWJ1dGVzID0gZ3JhcGhpYy5hdHRyaWJ1dGVzIHx8IHt9O1xyXG5cdFx0XHRcdGdyYXBoaWMuYXR0cmlidXRlcy5pc0RyYXdpbmcgPSB0cnVlO1xyXG5cclxuXHRcdFx0XHQvLyBGSVhFRDogTW9yZSBjYXJlZnVsIGxheWVyIGNvbnRhaW5tZW50IGNoZWNrXHJcblx0XHRcdFx0Y29uc3QgaXNPbkxheWVyID0gZHJhd0xheWVyLmdyYXBoaWNzICYmIGRyYXdMYXllci5ncmFwaGljcy5pbmNsdWRlcyAmJiBkcmF3TGF5ZXIuZ3JhcGhpY3MuaW5jbHVkZXMoZ3JhcGhpYyk7XHJcblxyXG5cdFx0XHRcdC8vIElmIHRoZSBwYXJlbnQgc29tZWhvdyBnb3QgZGV0YWNoZWQsIHJlLWFkZCBpdCAtIGJ1dCBiZSBtb3JlIGNhcmVmdWxcclxuXHRcdFx0XHRpZiAoIWlzT25MYXllcikge1xyXG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnUmUtYWRkaW5nIGdyYXBoaWMgdG8gbGF5ZXIgZm9yIG1lYXN1cmVtZW50cycpO1xyXG5cdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0ZHJhd0xheWVyLmFkZChncmFwaGljKTtcclxuXHRcdFx0XHRcdH0gY2F0Y2ggKGFkZEVycm9yKSB7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUud2FybignQ291bGQgbm90IHJlLWFkZCBncmFwaGljIHRvIGxheWVyOicsIGFkZEVycm9yKTtcclxuXHRcdFx0XHRcdFx0Ly8gSWYgd2UgY2FuJ3QgYWRkIGl0LCBhdCBsZWFzdCBlbnN1cmUgaXQncyB2aXNpYmxlIHdoZXJlIGl0IGlzXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBNYWtlIHN1cmUgaXQncyB2aXNpYmxlIC0gYnV0IGRvbid0IGZvcmNlIGlmIGl0IHdhcyBpbnRlbnRpb25hbGx5IGhpZGRlblxyXG5cdFx0XHRcdGlmIChncmFwaGljLnZpc2libGUgPT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCdNYWtpbmcgZ3JhcGhpYyB2aXNpYmxlIGZvciBtZWFzdXJlbWVudHMnKTtcclxuXHRcdFx0XHRcdGdyYXBoaWMudmlzaWJsZSA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBGb3JjZSBhIHRpbnkgcmVuZGVyIHR1cm4gYmVmb3JlIGFkZGluZyBsYWJlbHMgLSBidXQgZG9uJ3QgYXdhaXQgaWYgaXQgZmFpbHNcclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0YXdhaXQgdmlldy53aGVuTGF5ZXJWaWV3KGRyYXdMYXllciBhcyBhbnkpO1xyXG5cdFx0XHRcdH0gY2F0Y2ggKGxheWVyVmlld0Vycm9yKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0xheWVyIHZpZXcgbm90IHJlYWR5LCBwcm9jZWVkaW5nIGFueXdheTonLCBsYXllclZpZXdFcnJvcik7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRhd2FpdCBuZXcgUHJvbWlzZSgocikgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHIobnVsbCkpKTtcclxuXHRcdFx0fSBjYXRjaCAocmVoeWRyYXRlRXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS53YXJuKCdGYWlsZWQgdG8gZW5zdXJlIHBhcmVudCBncmFwaGljIGlzIHZpc2libGUvcHJlc2VudDonLCByZWh5ZHJhdGVFcnIpO1xyXG5cdFx0XHRcdC8vIERvbid0IHJldHVybiBmYWxzZSBoZXJlIC0gY29udGludWUgd2l0aCBtZWFzdXJlbWVudCBjcmVhdGlvbiBldmVuIGlmIHJlaHlkcmF0aW9uIGZhaWxlZFxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBnZW9tZXRyeSA9IGdyYXBoaWMuZ2VvbWV0cnk7XHJcblx0XHRcdGNvbnN0IGxhYmVsUG9pbnQgPSBfZ2V0TGFiZWxQb2ludChnZW9tZXRyeSk7XHJcblx0XHRcdGlmICghbGFiZWxQb2ludCkge1xyXG5cdFx0XHRcdGNvbnNvbGUud2FybignQ291bGQgbm90IGRldGVybWluZSBsYWJlbCBwb2ludCBmb3IgZ3JhcGhpYycpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gRGVjaWRlIHVwZGF0ZSBzZW1hbnRpY3NcclxuXHRcdFx0Y29uc3QgYWxyZWFkeVByb2Nlc3NlZCA9IHByb2Nlc3NlZEdyYXBoaWNzLmhhcyhncmFwaGljSWQpO1xyXG5cdFx0XHRjb25zdCBpc1VwZGF0ZSA9ICEhKGZvcmNlVXBkYXRlIHx8ICghcGFyZW50ICYmIGFscmVhZHlQcm9jZXNzZWQpKTtcclxuXHJcblx0XHRcdC8vIC0tLS0tLS0tLSBQcmVzZXJ2ZSBjdXN0b21pemF0aW9ucyBCRUZPUkUgY2xlYW51cCAtLS0tLS0tLS1cclxuXHRcdFx0bGV0IHByZXNlcnZlZE1haW5MYWJlbFByb3BlcnRpZXM6IG51bGwgfCB7XHJcblx0XHRcdFx0c3ltYm9sOiBfX2VzcmkuVGV4dFN5bWJvbDtcclxuXHRcdFx0XHRhdHRyaWJ1dGVzOiB7XHJcblx0XHRcdFx0XHRjdXN0b21pemVkPzogYm9vbGVhbjtcclxuXHRcdFx0XHRcdGxhc3RNb2RpZmllZD86IG51bWJlcjtcclxuXHRcdFx0XHRcdGhhc0N1c3RvbVBvc2l0aW9uPzogYm9vbGVhbjtcclxuXHRcdFx0XHRcdGN1c3RvbVBvc2l0aW9uPzogYW55O1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH0gPSBudWxsO1xyXG5cclxuXHRcdFx0Y29uc3QgcHJlc2VydmVkU2VnbWVudExhYmVsUHJvcGVydGllczogTWFwPFxyXG5cdFx0XHRcdHN0cmluZyxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRzeW1ib2w6IF9fZXNyaS5UZXh0U3ltYm9sO1xyXG5cdFx0XHRcdFx0YXR0cmlidXRlczoge1xyXG5cdFx0XHRcdFx0XHRjdXN0b21pemVkPzogYm9vbGVhbjtcclxuXHRcdFx0XHRcdFx0bGFzdE1vZGlmaWVkPzogbnVtYmVyO1xyXG5cdFx0XHRcdFx0XHRoYXNDdXN0b21Qb3NpdGlvbj86IGJvb2xlYW47XHJcblx0XHRcdFx0XHRcdGN1c3RvbVBvc2l0aW9uPzogYW55O1xyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdD4gPSBuZXcgTWFwKCk7XHJcblxyXG5cdFx0XHRpZiAoIXBhcmVudCAmJiAoaXNVcGRhdGUgfHwgIWFscmVhZHlQcm9jZXNzZWQgfHwgZm9yY2VVcGRhdGUpKSB7XHJcblx0XHRcdFx0aWYgKGdyYXBoaWMubWVhc3VyZT8uZ3JhcGhpYz8uYXR0cmlidXRlcz8uY3VzdG9taXplZCAmJiBncmFwaGljLm1lYXN1cmU/LmdyYXBoaWM/LnN5bWJvbCkge1xyXG5cdFx0XHRcdFx0cHJlc2VydmVkTWFpbkxhYmVsUHJvcGVydGllcyA9IHtcclxuXHRcdFx0XHRcdFx0c3ltYm9sOiAoZ3JhcGhpYy5tZWFzdXJlLmdyYXBoaWMuc3ltYm9sIGFzIF9fZXNyaS5UZXh0U3ltYm9sKS5jbG9uZSgpLFxyXG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiB7XHJcblx0XHRcdFx0XHRcdFx0Y3VzdG9taXplZDogZ3JhcGhpYy5tZWFzdXJlLmdyYXBoaWMuYXR0cmlidXRlcy5jdXN0b21pemVkLFxyXG5cdFx0XHRcdFx0XHRcdGxhc3RNb2RpZmllZDogZ3JhcGhpYy5tZWFzdXJlLmdyYXBoaWMuYXR0cmlidXRlcy5sYXN0TW9kaWZpZWQsXHJcblx0XHRcdFx0XHRcdFx0aGFzQ3VzdG9tUG9zaXRpb246IGdyYXBoaWMubWVhc3VyZS5ncmFwaGljLmF0dHJpYnV0ZXMuaGFzQ3VzdG9tUG9zaXRpb24sXHJcblx0XHRcdFx0XHRcdFx0Y3VzdG9tUG9zaXRpb246IGdyYXBoaWMubWVhc3VyZS5ncmFwaGljLmF0dHJpYnV0ZXMuY3VzdG9tUG9zaXRpb25cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChBcnJheS5pc0FycmF5KGdyYXBoaWMuYXR0cmlidXRlcz8ucmVsYXRlZFNlZ21lbnRMYWJlbHMpKSB7XHJcblx0XHRcdFx0XHRncmFwaGljLmF0dHJpYnV0ZXMucmVsYXRlZFNlZ21lbnRMYWJlbHMuZm9yRWFjaCgoc2VnbWVudExhYmVsOiBhbnkpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHNlZ21lbnRMYWJlbD8uYXR0cmlidXRlcz8uY3VzdG9taXplZCAmJiBzZWdtZW50TGFiZWw/LnN5bWJvbCAmJiBzZWdtZW50TGFiZWw/Lmdlb21ldHJ5KSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3Qga2V5ID0gYCR7TWF0aC5yb3VuZChzZWdtZW50TGFiZWwuZ2VvbWV0cnkueCl9XyR7TWF0aC5yb3VuZChzZWdtZW50TGFiZWwuZ2VvbWV0cnkueSl9YDtcclxuXHRcdFx0XHRcdFx0XHRwcmVzZXJ2ZWRTZWdtZW50TGFiZWxQcm9wZXJ0aWVzLnNldChrZXksIHtcclxuXHRcdFx0XHRcdFx0XHRcdHN5bWJvbDogKHNlZ21lbnRMYWJlbC5zeW1ib2wgYXMgX19lc3JpLlRleHRTeW1ib2wpLmNsb25lKCksXHJcblx0XHRcdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGN1c3RvbWl6ZWQ6IHNlZ21lbnRMYWJlbC5hdHRyaWJ1dGVzLmN1c3RvbWl6ZWQsXHJcblx0XHRcdFx0XHRcdFx0XHRcdGxhc3RNb2RpZmllZDogc2VnbWVudExhYmVsLmF0dHJpYnV0ZXMubGFzdE1vZGlmaWVkLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRoYXNDdXN0b21Qb3NpdGlvbjogc2VnbWVudExhYmVsLmF0dHJpYnV0ZXMuaGFzQ3VzdG9tUG9zaXRpb24sXHJcblx0XHRcdFx0XHRcdFx0XHRcdGN1c3RvbVBvc2l0aW9uOiBzZWdtZW50TGFiZWwuYXR0cmlidXRlcy5jdXN0b21Qb3NpdGlvblxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIE9ubHkgY2xlYW4gbWVhc3VyZW1lbnRzIChsYWJlbHMpIOKAlCBuZXZlciB0b3VjaCB0aGUgZHJhd2luZyBpdHNlbGZcclxuXHRcdFx0XHRjbGVhbkV4aXN0aW5nTWVhc3VyZW1lbnRzKGdyYXBoaWMpO1xyXG5cclxuXHRcdFx0XHQvLyBNYXJrIHByb2Nlc3NlZCBldmVuIGluIGRlZmVycmVkIGZvcmNlVXBkYXRlIHRvIHByZXZlbnQgZG91YmxlIHBhc3Nlc1xyXG5cdFx0XHRcdHNldFByb2Nlc3NlZEdyYXBoaWNzKChwcmV2KSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBuZXh0ID0gbmV3IFNldChwcmV2KTtcclxuXHRcdFx0XHRcdG5leHQuYWRkKGdyYXBoaWNJZCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gbmV4dDtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gLS0tLS0tLS0tIEJ1aWxkIG1lYXN1cmVtZW50IHRleHQgLS0tLS0tLS0tXHJcblx0XHRcdGxldCB0ZXh0OiBzdHJpbmc7XHJcblx0XHRcdGNvbnN0IGlzUG9pbnQgPSBnZW9tZXRyeS50eXBlID09PSAncG9pbnQnO1xyXG5cdFx0XHRjb25zdCBpc0ZyZWVoYW5kUG9seWxpbmUgPVxyXG5cdFx0XHRcdGdyYXBoaWMuYXR0cmlidXRlcz8uZHJhd01vZGUgPT09ICdmcmVlcG9seWxpbmUnIHx8IGN1cnJlbnRUb29sID09PSAnZnJlZXBvbHlsaW5lJyB8fCB0b29sVHlwZSA9PT0gJ2ZyZWVwb2x5bGluZSc7XHJcblxyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGlmIChpc1BvaW50KSB7XHJcblx0XHRcdFx0XHRsZXQgeHlDb29yZHMgPSAnJztcclxuXHRcdFx0XHRcdGxldCBzcldraWQgPSAnJztcclxuXHRcdFx0XHRcdGlmICh4eSkge1xyXG5cdFx0XHRcdFx0XHR4eUNvb3JkcyA9IGBYOiAke2xhYmVsUG9pbnQueC50b0ZpeGVkKHBvaW50Um91bmQpfSBcXG5ZOiAke2xhYmVsUG9pbnQueS50b0ZpeGVkKHBvaW50Um91bmQpfWA7XHJcblx0XHRcdFx0XHRcdGlmICh3a2lkKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3Qgd2sgPSBsYWJlbFBvaW50LnNwYXRpYWxSZWZlcmVuY2U/LmxhdGVzdFdraWQgfHwgbGFiZWxQb2ludC5zcGF0aWFsUmVmZXJlbmNlPy53a2lkIHx8ICd1bmtub3duJztcclxuXHRcdFx0XHRcdFx0XHRzcldraWQgPSBgXFxuV0tJRDogJHt3a31gO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRsZXQgd2dzQ29vcmRzID0gJyc7XHJcblx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRpZiAoIXByb2plY3RPcGVyYXRvci5pc0xvYWRlZCgpKSBhd2FpdCBwcm9qZWN0T3BlcmF0b3IubG9hZCgpO1xyXG5cdFx0XHRcdFx0XHRjb25zdCBbcHJvamVjdGVkXSA9IHByb2plY3RPcGVyYXRvci5leGVjdXRlTWFueShbbGFiZWxQb2ludF0sIFNwYXRpYWxSZWZlcmVuY2UuV0dTODQpIGFzIF9fZXNyaS5Qb2ludFtdO1xyXG5cdFx0XHRcdFx0XHRpZiAocHJvamVjdGVkICYmIGxhdExvbmcpIHtcclxuXHRcdFx0XHRcdFx0XHR3Z3NDb29yZHMgPSBgXFxuTGF0OiAke3Byb2plY3RlZC55LnRvRml4ZWQocG9pbnRSb3VuZCl9XFxuTG9uOiAke3Byb2plY3RlZC54LnRvRml4ZWQocG9pbnRSb3VuZCl9YDtcclxuXHRcdFx0XHRcdFx0XHRpZiAod2tpZCkgd2dzQ29vcmRzID0gYCR7d2dzQ29vcmRzfVxcbldLSUQ6IDQzMjZgO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGNhdGNoIChwcm9qRXJyKSB7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUud2FybignUHJvamVjdGlvbiB0byBXR1M4NCBmYWlsZWQ6JywgcHJvakVycik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0ZXh0ID0gYCR7eHlDb29yZHN9JHtzcldraWR9JHt3Z3NDb29yZHN9YDtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dGV4dCA9IF9nZXRNZWFzdXJlVGV4dChnZW9tZXRyeSwgcGFyZW50KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICghdGV4dCB8fCB0ZXh0LnRyaW0oKSA9PT0gJycpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUud2FybignTm8gbWVhc3VyZW1lbnQgdGV4dCBnZW5lcmF0ZWQgZm9yIGdyYXBoaWMnKTtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gY2F0Y2ggKGJ1aWxkRXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3IgZ2VuZXJhdGluZyBtZWFzdXJlbWVudCB0ZXh0OicsIGJ1aWxkRXJyKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIC0tLS0tLS0tLSBVcGRhdGUgb3IgY3JlYXRlIHRoZSBsYWJlbCAtLS0tLS0tLS1cclxuXHRcdFx0Y29uc3QgZXhpc3RpbmdNZWFzdXJlR3JhcGhpYyA9IGdyYXBoaWMubWVhc3VyZT8uZ3JhcGhpYyB8fCBudWxsO1xyXG5cclxuXHRcdFx0aWYgKGV4aXN0aW5nTWVhc3VyZUdyYXBoaWMpIHtcclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0aWYgKGlzVGV4dFN5bWJvbChleGlzdGluZ01lYXN1cmVHcmFwaGljLnN5bWJvbCkpIHtcclxuXHRcdFx0XHRcdFx0aWYgKHByZXNlcnZlZE1haW5MYWJlbFByb3BlcnRpZXMpIHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBwcmVzZXJ2ZWQgPSBwcmVzZXJ2ZWRNYWluTGFiZWxQcm9wZXJ0aWVzLnN5bWJvbC5jbG9uZSgpO1xyXG5cdFx0XHRcdFx0XHRcdHByZXNlcnZlZC50ZXh0ID0gdGV4dDtcclxuXHRcdFx0XHRcdFx0XHRleGlzdGluZ01lYXN1cmVHcmFwaGljLnN5bWJvbCA9IHByZXNlcnZlZDtcclxuXHRcdFx0XHRcdFx0XHRleGlzdGluZ01lYXN1cmVHcmFwaGljLmF0dHJpYnV0ZXMuY3VzdG9taXplZCA9ICEhcHJlc2VydmVkTWFpbkxhYmVsUHJvcGVydGllcy5hdHRyaWJ1dGVzLmN1c3RvbWl6ZWQ7XHJcblx0XHRcdFx0XHRcdFx0ZXhpc3RpbmdNZWFzdXJlR3JhcGhpYy5hdHRyaWJ1dGVzLmxhc3RNb2RpZmllZCA9XHJcblx0XHRcdFx0XHRcdFx0XHRwcmVzZXJ2ZWRNYWluTGFiZWxQcm9wZXJ0aWVzLmF0dHJpYnV0ZXMubGFzdE1vZGlmaWVkIHx8IERhdGUubm93KCk7XHJcblx0XHRcdFx0XHRcdFx0ZXhpc3RpbmdNZWFzdXJlR3JhcGhpYy5hdHRyaWJ1dGVzLmhhc0N1c3RvbVBvc2l0aW9uID1cclxuXHRcdFx0XHRcdFx0XHRcdCEhcHJlc2VydmVkTWFpbkxhYmVsUHJvcGVydGllcy5hdHRyaWJ1dGVzLmhhc0N1c3RvbVBvc2l0aW9uO1xyXG5cdFx0XHRcdFx0XHRcdGV4aXN0aW5nTWVhc3VyZUdyYXBoaWMuYXR0cmlidXRlcy5jdXN0b21Qb3NpdGlvbiA9XHJcblx0XHRcdFx0XHRcdFx0XHRwcmVzZXJ2ZWRNYWluTGFiZWxQcm9wZXJ0aWVzLmF0dHJpYnV0ZXMuY3VzdG9tUG9zaXRpb24gfHwgbnVsbDtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQoZXhpc3RpbmdNZWFzdXJlR3JhcGhpYy5zeW1ib2wgYXMgX19lc3JpLlRleHRTeW1ib2wpLnRleHQgPSB0ZXh0O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRleGlzdGluZ01lYXN1cmVHcmFwaGljLmF0dHJpYnV0ZXMubmFtZSA9IHRleHQ7XHJcblx0XHRcdFx0XHRleGlzdGluZ01lYXN1cmVHcmFwaGljLmdlb21ldHJ5ID0gcmVzcGVjdEN1c3RvbVBvc2l0aW9uKGV4aXN0aW5nTWVhc3VyZUdyYXBoaWMsIGxhYmVsUG9pbnQpO1xyXG5cdFx0XHRcdFx0ZW5zdXJlTGFiZWxWaXNpYmlsaXR5KGV4aXN0aW5nTWVhc3VyZUdyYXBoaWMpO1xyXG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGV4aXN0aW5nIG1lYXN1cmVtZW50OicsIGUpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0Y29uc3QgdGV4dFN5bWJvbCA9IGN1cnJlbnRUZXh0U3ltYm9sLmNsb25lKCk7XHJcblx0XHRcdFx0XHR0ZXh0U3ltYm9sLnRleHQgPSB0ZXh0O1xyXG5cclxuXHRcdFx0XHRcdGlmIChwcmVzZXJ2ZWRNYWluTGFiZWxQcm9wZXJ0aWVzKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHAgPSBwcmVzZXJ2ZWRNYWluTGFiZWxQcm9wZXJ0aWVzLnN5bWJvbDtcclxuXHRcdFx0XHRcdFx0dGV4dFN5bWJvbC5jb2xvciA9IHAuY29sb3I7XHJcblx0XHRcdFx0XHRcdHRleHRTeW1ib2wuZm9udCA9IHAuZm9udDtcclxuXHRcdFx0XHRcdFx0dGV4dFN5bWJvbC5hbmdsZSA9IHAuYW5nbGU7XHJcblx0XHRcdFx0XHRcdHRleHRTeW1ib2wuaGFsb1NpemUgPSBwLmhhbG9TaXplO1xyXG5cdFx0XHRcdFx0XHR0ZXh0U3ltYm9sLmhhbG9Db2xvciA9IHAuaGFsb0NvbG9yO1xyXG5cdFx0XHRcdFx0XHR0ZXh0U3ltYm9sLnZlcnRpY2FsQWxpZ25tZW50ID0gcC52ZXJ0aWNhbEFsaWdubWVudDtcclxuXHRcdFx0XHRcdFx0dGV4dFN5bWJvbC54b2Zmc2V0ID0gcC54b2Zmc2V0O1xyXG5cdFx0XHRcdFx0XHR0ZXh0U3ltYm9sLnlvZmZzZXQgPSBwLnlvZmZzZXQ7XHJcblx0XHRcdFx0XHRcdGlmIChwLmJhY2tncm91bmRDb2xvcikgdGV4dFN5bWJvbC5iYWNrZ3JvdW5kQ29sb3IgPSBwLmJhY2tncm91bmRDb2xvcjtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGlmIChhbmdsZSAhPT0gbnVsbCAmJiByb3RhdGVTZWdtZW50cykge1xyXG5cdFx0XHRcdFx0XHRcdHRleHRTeW1ib2wuYW5nbGUgPSBhbmdsZTtcclxuXHRcdFx0XHRcdFx0XHR0ZXh0U3ltYm9sLnZlcnRpY2FsQWxpZ25tZW50ID0gJ2JvdHRvbSc7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgZGlzdGFuY2UgPSA0O1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGFuZ2xlUmFkID0gYW5nbGUgKiBNYXRoLlBJIC8gMTgwO1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHBlcnBlbmRpY3VsYXIgPSBhbmdsZVJhZCArIE1hdGguUEkgLyAyO1xyXG5cdFx0XHRcdFx0XHRcdHRleHRTeW1ib2wueW9mZnNldCA9IE1hdGguc2luKHBlcnBlbmRpY3VsYXIpICogZGlzdGFuY2U7XHJcblx0XHRcdFx0XHRcdFx0dGV4dFN5bWJvbC54b2Zmc2V0ID0gTWF0aC5jb3MocGVycGVuZGljdWxhcikgKiBkaXN0YW5jZSAqIC0xLjU7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoXHJcblx0XHRcdFx0XHRcdFx0Z2VvbWV0cnkudHlwZSA9PT0gJ3BvbHlsaW5lJyAmJlxyXG5cdFx0XHRcdFx0XHRcdCFwYXJlbnQgJiZcclxuXHRcdFx0XHRcdFx0XHQhaXNGcmVlaGFuZFBvbHlsaW5lICYmXHJcblx0XHRcdFx0XHRcdFx0IXNob3VsZENyZWF0ZVNlZ21lbnRzKGdlb21ldHJ5KSAmJlxyXG5cdFx0XHRcdFx0XHRcdHJvdGF0ZVNlZ21lbnRzXHJcblx0XHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGlzU2luZ2xlU2VnbWVudCA9XHJcblx0XHRcdFx0XHRcdFx0XHRnZW9tZXRyeS5wYXRocyAmJiBnZW9tZXRyeS5wYXRocy5sZW5ndGggPiAwICYmIGdlb21ldHJ5LnBhdGhzWzBdICYmIGdlb21ldHJ5LnBhdGhzWzBdLmxlbmd0aCA9PT0gMjtcclxuXHRcdFx0XHRcdFx0XHRpZiAoaXNTaW5nbGVTZWdtZW50KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBwb2x5bGluZUFuZ2xlID0gX2NhbGN1bGF0ZVBvbHlsaW5lQW5nbGUoZ2VvbWV0cnkpO1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHBvbHlsaW5lQW5nbGUgIT09IG51bGwpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGV4dFN5bWJvbC5hbmdsZSA9IHBvbHlsaW5lQW5nbGU7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRleHRTeW1ib2wudmVydGljYWxBbGlnbm1lbnQgPSAnYm90dG9tJztcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgZGlzdGFuY2UgPSAxMjtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgYW5nbGVSYWQgPSBwb2x5bGluZUFuZ2xlICogTWF0aC5QSSAvIDE4MDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgcGVycGVuZGljdWxhciA9IGFuZ2xlUmFkICsgTWF0aC5QSSAvIDI7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRleHRTeW1ib2wueW9mZnNldCA9IE1hdGguc2luKHBlcnBlbmRpY3VsYXIpICogZGlzdGFuY2U7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRleHRTeW1ib2wueG9mZnNldCA9IE1hdGguY29zKHBlcnBlbmRpY3VsYXIpICogZGlzdGFuY2UgKiAtMS41O1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGlzUG9pbnQpIHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgbGluZXMgPSAwO1xyXG5cdFx0XHRcdFx0XHRcdGlmICh4eSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0bGluZXMgPSAtMS41O1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHdraWQpIGxpbmVzIC09IDAuNzU7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdGlmIChsYXRMb25nKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRsaW5lcyAtPSAxLjU7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAod2tpZCkgbGluZXMgLT0gMC43NTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0dGV4dFN5bWJvbC55b2Zmc2V0ID0gdGV4dFN5bWJvbC5mb250LnNpemUgKiBsaW5lcztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAoIXRleHRTeW1ib2wuaGFsb1NpemUpIHtcclxuXHRcdFx0XHRcdFx0XHR0ZXh0U3ltYm9sLmhhbG9TaXplID0gMjtcclxuXHRcdFx0XHRcdFx0XHR0ZXh0U3ltYm9sLmhhbG9Db2xvciA9ICd3aGl0ZSc7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKHRleHRTeW1ib2wuYmFja2dyb3VuZENvbG9yPy5hID4gMCkgdGV4dFN5bWJvbC5iYWNrZ3JvdW5kQ29sb3IuYSA9IDA7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gRmluYWwgbGFiZWwgcG9zaXRpb24gKHByZXNlcnZlIGlmIGN1c3RvbWl6ZWQpXHJcblx0XHRcdFx0XHRsZXQgZmluYWxMYWJlbFBvaW50ID0gbGFiZWxQb2ludDtcclxuXHRcdFx0XHRcdGlmIChcclxuXHRcdFx0XHRcdFx0cHJlc2VydmVkTWFpbkxhYmVsUHJvcGVydGllcz8uYXR0cmlidXRlcz8uaGFzQ3VzdG9tUG9zaXRpb24gJiZcclxuXHRcdFx0XHRcdFx0cHJlc2VydmVkTWFpbkxhYmVsUHJvcGVydGllcz8uYXR0cmlidXRlcz8uY3VzdG9tUG9zaXRpb25cclxuXHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGNwID0gcHJlc2VydmVkTWFpbkxhYmVsUHJvcGVydGllcy5hdHRyaWJ1dGVzLmN1c3RvbVBvc2l0aW9uO1xyXG5cdFx0XHRcdFx0XHRcdGZpbmFsTGFiZWxQb2ludCA9IG5ldyBQb2ludCh7IHg6IGNwLngsIHk6IGNwLnksIHNwYXRpYWxSZWZlcmVuY2U6IGNwLnNwYXRpYWxSZWZlcmVuY2UgfSk7XHJcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0Vycm9yIGxvYWRpbmcgcHJlc2VydmVkIGN1c3RvbSBwb3NpdGlvbiwgdXNpbmcgZGVmYXVsdDonLCBlKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGNvbnN0IGxhYmVsR3JhcGhpYyA9IG5ldyBHcmFwaGljKHtcclxuXHRcdFx0XHRcdFx0Z2VvbWV0cnk6IGZpbmFsTGFiZWxQb2ludCxcclxuXHRcdFx0XHRcdFx0c3ltYm9sOiB0ZXh0U3ltYm9sLFxyXG5cdFx0XHRcdFx0XHR2aXNpYmxlOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiB7XHJcblx0XHRcdFx0XHRcdFx0bmFtZTogdGV4dCxcclxuXHRcdFx0XHRcdFx0XHRkZXNjcmlwdGlvbjogaXNQb2ludCA/ICdDb29yZGluYXRlIExhYmVsJyA6ICdNZWFzdXJlbWVudCBMYWJlbCcsXHJcblx0XHRcdFx0XHRcdFx0aXNNZWFzdXJlbWVudExhYmVsOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdGhpZGVGcm9tTGlzdDogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHRkcmF3TW9kZTogJ3RleHQnLFxyXG5cdFx0XHRcdFx0XHRcdGxlbmd0aFVuaXQ6IGRpc3RhbmNlVW5pdC51bml0LFxyXG5cdFx0XHRcdFx0XHRcdGFyZWFVbml0OiBhcmVhVW5pdC51bml0LFxyXG5cdFx0XHRcdFx0XHRcdHBhcmVudEdyYXBoaWNJZDogZ3JhcGhpYy5hdHRyaWJ1dGVzPy51bmlxdWVJZCxcclxuXHRcdFx0XHRcdFx0XHRtZWFzdXJlbWVudFR5cGU6IGlzUG9pbnQgPyAnY29vcmRpbmF0ZScgOiAocGFyZW50ID8gJ3NlZ21lbnQnIDogJ21haW4nKSxcclxuXHRcdFx0XHRcdFx0XHRjdXN0b21pemVkOiAhIXByZXNlcnZlZE1haW5MYWJlbFByb3BlcnRpZXM/LmF0dHJpYnV0ZXM/LmN1c3RvbWl6ZWQsXHJcblx0XHRcdFx0XHRcdFx0bGFzdE1vZGlmaWVkOiBwcmVzZXJ2ZWRNYWluTGFiZWxQcm9wZXJ0aWVzPy5hdHRyaWJ1dGVzPy5sYXN0TW9kaWZpZWQgfHwgbnVsbCxcclxuXHRcdFx0XHRcdFx0XHRoYXNDdXN0b21Qb3NpdGlvbjogISFwcmVzZXJ2ZWRNYWluTGFiZWxQcm9wZXJ0aWVzPy5hdHRyaWJ1dGVzPy5oYXNDdXN0b21Qb3NpdGlvbixcclxuXHRcdFx0XHRcdFx0XHRjdXN0b21Qb3NpdGlvbjogcHJlc2VydmVkTWFpbkxhYmVsUHJvcGVydGllcz8uYXR0cmlidXRlcz8uY3VzdG9tUG9zaXRpb24gfHwgbnVsbFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KSBhcyBFeHRlbmRlZEdyYXBoaWM7XHJcblxyXG5cdFx0XHRcdFx0ZHJhd0xheWVyLmFkZChsYWJlbEdyYXBoaWMpO1xyXG5cdFx0XHRcdFx0bGFiZWxHcmFwaGljLm1lYXN1cmVQYXJlbnQgPSBncmFwaGljO1xyXG5cdFx0XHRcdFx0Z3JhcGhpYy5tZWFzdXJlID0geyBncmFwaGljOiBsYWJlbEdyYXBoaWMsIGxlbmd0aFVuaXQ6IGRpc3RhbmNlVW5pdC51bml0LCBhcmVhVW5pdDogYXJlYVVuaXQudW5pdCB9O1xyXG5cclxuXHRcdFx0XHRcdGlmIChwYXJlbnQpIHtcclxuXHRcdFx0XHRcdFx0aWYgKHBhcmVudC5hdHRyaWJ1dGVzLnJlbGF0ZWRTZWdtZW50TGFiZWxzKSBwYXJlbnQuYXR0cmlidXRlcy5yZWxhdGVkU2VnbWVudExhYmVscy5wdXNoKGxhYmVsR3JhcGhpYyk7XHJcblx0XHRcdFx0XHRcdGVsc2UgcGFyZW50LmF0dHJpYnV0ZXMucmVsYXRlZFNlZ21lbnRMYWJlbHMgPSBbbGFiZWxHcmFwaGljXTtcclxuXHRcdFx0XHRcdFx0bGFiZWxHcmFwaGljLmF0dHJpYnV0ZXMucGFyZW50R3JhcGhpY0lkID0gcGFyZW50LmF0dHJpYnV0ZXM/LnVuaXF1ZUlkO1xyXG5cdFx0XHRcdFx0XHRsYWJlbEdyYXBoaWMubWVhc3VyZVBhcmVudCA9IHBhcmVudDtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRlbnN1cmVMYWJlbFZpc2liaWxpdHkobGFiZWxHcmFwaGljKTtcclxuXHRcdFx0XHR9IGNhdGNoIChhZGRFcnIpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBhZGQgbWVhc3VyZW1lbnQgbGFiZWw6JywgYWRkRXJyKTtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIC0tLS0tLS0tLSBTZWdtZW50IGxhYmVscyAoZGlyZWN0IGNyZWF0aW9uKSAtLS0tLS0tLS1cclxuXHRcdFx0aWYgKCFwYXJlbnQgJiYgc2hvdWxkQ3JlYXRlU2VnbWVudHMoZ2VvbWV0cnkpKSB7XHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdGNvbnN0IGNvb3JkaW5hdGVBcnJheXMgPSBnZXRDb29yZGluYXRlQXJyYXlzKGdlb21ldHJ5KTtcclxuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY29vcmRpbmF0ZUFycmF5cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBwYXRoID0gY29vcmRpbmF0ZUFycmF5c1tpXTtcclxuXHRcdFx0XHRcdFx0Zm9yIChsZXQgaiA9IDE7IGogPCBwYXRoLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3Qgc2VnTGVuID0gX2NhbGN1bGF0ZVNlZ21lbnRMZW5ndGgocGF0aFtqIC0gMV0sIHBhdGhbal0sIGdlb21ldHJ5KTtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBzZWdNaWQgPSBfZ2V0U2VnbWVudE1pZHBvaW50KHBhdGhbaiAtIDFdLCBwYXRoW2pdLCBnZW9tZXRyeSk7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCFzZWdNaWQgfHwgc2VnTGVuIDw9IDApIGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRjb25zdCBsZW5ndGhVbml0SW5mbyA9IGF2YWlsYWJsZURpc3RhbmNlVW5pdHMuZmluZCgodSkgPT4gdS51bml0ID09PSBkaXN0YW5jZVVuaXQudW5pdCk7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgbGVuZ3RoVW5pdExhYmVsID0gbGVuZ3RoVW5pdEluZm8gPyBsZW5ndGhVbml0SW5mby5hYmJyZXZpYXRpb24gOiBkaXN0YW5jZVVuaXQudW5pdDtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBzZWdUZXh0ID0gYCR7X3JvdW5kKHNlZ0xlbiwgb3RoZXJSb3VuZCkudG9Mb2NhbGVTdHJpbmcoKX0gJHtsZW5ndGhVbml0TGFiZWx9YDtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBzZWdBbmdsZSA9IF9jYWxjdWxhdGVBbmdsZShwYXRoW2ogLSAxXVswXSwgcGF0aFtqIC0gMV1bMV0sIHBhdGhbal1bMF0sIHBhdGhbal1bMV0pO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRsZXQgc2VnU3ltID0gY3VycmVudFRleHRTeW1ib2wuY2xvbmUoKTtcclxuXHRcdFx0XHRcdFx0XHRzZWdTeW0udGV4dCA9IHNlZ1RleHQ7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IG1pZHBvaW50S2V5ID0gYCR7TWF0aC5yb3VuZChzZWdNaWQueCl9XyR7TWF0aC5yb3VuZChzZWdNaWQueSl9YDtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBwcmVzZXJ2ZWQgPSBwcmVzZXJ2ZWRTZWdtZW50TGFiZWxQcm9wZXJ0aWVzLmdldChtaWRwb2ludEtleSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGxldCBzZWdGaW5hbFBvaW50ID0gc2VnTWlkO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAocHJlc2VydmVkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBwID0gcHJlc2VydmVkLnN5bWJvbDtcclxuXHRcdFx0XHRcdFx0XHRcdHNlZ1N5bS5jb2xvciA9IHAuY29sb3I7XHJcblx0XHRcdFx0XHRcdFx0XHRzZWdTeW0uZm9udCA9IHAuZm9udDtcclxuXHRcdFx0XHRcdFx0XHRcdHNlZ1N5bS5hbmdsZSA9IHAuYW5nbGU7XHJcblx0XHRcdFx0XHRcdFx0XHRzZWdTeW0uaGFsb1NpemUgPSBwLmhhbG9TaXplO1xyXG5cdFx0XHRcdFx0XHRcdFx0c2VnU3ltLmhhbG9Db2xvciA9IHAuaGFsb0NvbG9yO1xyXG5cdFx0XHRcdFx0XHRcdFx0c2VnU3ltLnZlcnRpY2FsQWxpZ25tZW50ID0gcC52ZXJ0aWNhbEFsaWdubWVudDtcclxuXHRcdFx0XHRcdFx0XHRcdHNlZ1N5bS54b2Zmc2V0ID0gcC54b2Zmc2V0O1xyXG5cdFx0XHRcdFx0XHRcdFx0c2VnU3ltLnlvZmZzZXQgPSBwLnlvZmZzZXQ7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAocC5iYWNrZ3JvdW5kQ29sb3IpIHNlZ1N5bS5iYWNrZ3JvdW5kQ29sb3IgPSBwLmJhY2tncm91bmRDb2xvcjtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRpZiAocHJlc2VydmVkLmF0dHJpYnV0ZXM/Lmhhc0N1c3RvbVBvc2l0aW9uICYmIHByZXNlcnZlZC5hdHRyaWJ1dGVzPy5jdXN0b21Qb3NpdGlvbikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGNwID0gcHJlc2VydmVkLmF0dHJpYnV0ZXMuY3VzdG9tUG9zaXRpb247XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2VnRmluYWxQb2ludCA9IG5ldyBQb2ludCh7IHg6IGNwLngsIHk6IGNwLnksIHNwYXRpYWxSZWZlcmVuY2U6IGNwLnNwYXRpYWxSZWZlcmVuY2UgfSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0Vycm9yIGxvYWRpbmcgcHJlc2VydmVkIHNlZ21lbnQgY3VzdG9tIHBvc2l0aW9uLCB1c2luZyBkZWZhdWx0OicsIGUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmIChcclxuXHRcdFx0XHRcdFx0XHRcdHJvdGF0ZVNlZ21lbnRzICYmXHJcblx0XHRcdFx0XHRcdFx0XHQhKGdyYXBoaWMuYXR0cmlidXRlcz8uZHJhd01vZGUgPT09ICdmcmVlcG9seWxpbmUnIHx8IGN1cnJlbnRUb29sID09PSAnZnJlZXBvbHlsaW5lJyB8fCB0b29sVHlwZSA9PT0gJ2ZyZWVwb2x5bGluZScpXHJcblx0XHRcdFx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRzZWdTeW0uYW5nbGUgPSBzZWdBbmdsZTtcclxuXHRcdFx0XHRcdFx0XHRcdHNlZ1N5bS52ZXJ0aWNhbEFsaWdubWVudCA9ICdib3R0b20nO1xyXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgZGlzdGFuY2UgPSA0O1xyXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgYW5nID0gc2VnQW5nbGUgKiBNYXRoLlBJIC8gMTgwO1xyXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgcGVycCA9IGFuZyArIE1hdGguUEkgLyAyO1xyXG5cdFx0XHRcdFx0XHRcdFx0c2VnU3ltLnlvZmZzZXQgPSBNYXRoLnNpbihwZXJwKSAqIGRpc3RhbmNlO1xyXG5cdFx0XHRcdFx0XHRcdFx0c2VnU3ltLnhvZmZzZXQgPSBNYXRoLmNvcyhwZXJwKSAqIGRpc3RhbmNlICogLTEuNTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmICghc2VnU3ltLmhhbG9TaXplKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRzZWdTeW0uaGFsb1NpemUgPSAyO1xyXG5cdFx0XHRcdFx0XHRcdFx0c2VnU3ltLmhhbG9Db2xvciA9ICd3aGl0ZSc7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdGlmIChzZWdTeW0uYmFja2dyb3VuZENvbG9yPy5hID4gMCkgc2VnU3ltLmJhY2tncm91bmRDb2xvci5hID0gMDtcclxuXHJcblx0XHRcdFx0XHRcdFx0Y29uc3Qgc2VnTGFiZWwgPSBuZXcgR3JhcGhpYyh7XHJcblx0XHRcdFx0XHRcdFx0XHRnZW9tZXRyeTogc2VnRmluYWxQb2ludCxcclxuXHRcdFx0XHRcdFx0XHRcdHN5bWJvbDogc2VnU3ltLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmlzaWJsZTogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bmFtZTogc2VnVGV4dCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdTZWdtZW50IExhYmVsJyxcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXNNZWFzdXJlbWVudExhYmVsOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRoaWRlRnJvbUxpc3Q6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdGRyYXdNb2RlOiAndGV4dCcsXHJcblx0XHRcdFx0XHRcdFx0XHRcdG1lYXN1cmVtZW50VHlwZTogJ3NlZ21lbnQnLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRwYXJlbnRHcmFwaGljSWQ6IGdyYXBoaWMuYXR0cmlidXRlcz8udW5pcXVlSWQsXHJcblx0XHRcdFx0XHRcdFx0XHRcdGN1c3RvbWl6ZWQ6ICEhcHJlc2VydmVkPy5hdHRyaWJ1dGVzPy5jdXN0b21pemVkLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRsYXN0TW9kaWZpZWQ6IHByZXNlcnZlZD8uYXR0cmlidXRlcz8ubGFzdE1vZGlmaWVkIHx8IG51bGwsXHJcblx0XHRcdFx0XHRcdFx0XHRcdGhhc0N1c3RvbVBvc2l0aW9uOiAhIXByZXNlcnZlZD8uYXR0cmlidXRlcz8uaGFzQ3VzdG9tUG9zaXRpb24sXHJcblx0XHRcdFx0XHRcdFx0XHRcdGN1c3RvbVBvc2l0aW9uOiBwcmVzZXJ2ZWQ/LmF0dHJpYnV0ZXM/LmN1c3RvbVBvc2l0aW9uIHx8IG51bGwsXHJcblx0XHRcdFx0XHRcdFx0XHRcdC8vIEZJWEVEOiBTdG9yZSBzZWdtZW50IGVuZHBvaW50cyBmb3IgcHJvcGVyIHJlc2V0IGZ1bmN0aW9uYWxpdHlcclxuXHRcdFx0XHRcdFx0XHRcdFx0c2VnbWVudEluZm86IChwcmVzZXJ2ZWQ/LmF0dHJpYnV0ZXMgYXMgYW55KT8uc2VnbWVudEluZm8gfHwge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBvaW50MTogcGF0aFtqIC0gMV0sXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cG9pbnQyOiBwYXRoW2pdXHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KSBhcyBFeHRlbmRlZEdyYXBoaWM7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGRyYXdMYXllci5hZGQoc2VnTGFiZWwpO1xyXG5cdFx0XHRcdFx0XHRcdHNlZ0xhYmVsLm1lYXN1cmVQYXJlbnQgPSBncmFwaGljO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChncmFwaGljLmF0dHJpYnV0ZXMucmVsYXRlZFNlZ21lbnRMYWJlbHMpIGdyYXBoaWMuYXR0cmlidXRlcy5yZWxhdGVkU2VnbWVudExhYmVscy5wdXNoKHNlZ0xhYmVsKTtcclxuXHRcdFx0XHRcdFx0XHRlbHNlIGdyYXBoaWMuYXR0cmlidXRlcy5yZWxhdGVkU2VnbWVudExhYmVscyA9IFtzZWdMYWJlbF07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGNhdGNoIChzZWdFcnIpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFkZGluZyBzZWdtZW50IG1lYXN1cmVtZW50czonLCBzZWdFcnIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQ1JJVElDQUw6IEZpbmFsIHNhbml0eSBjaGVjayB0byBlbnN1cmUgdGhlIG1haW4gZ3JhcGhpYyByZW1haW5zIHZpc2libGUgYW5kIG9uIHRoZSBsYXllclxyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdC8vIERvdWJsZS1jaGVjayBncmFwaGljIHZpc2liaWxpdHlcclxuXHRcdFx0XHRpZiAoZ3JhcGhpYy52aXNpYmxlID09PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnUmVzdG9yaW5nIGdyYXBoaWMgdmlzaWJpbGl0eSBhZnRlciBtZWFzdXJlbWVudCBwcm9jZXNzaW5nJyk7XHJcblx0XHRcdFx0XHRncmFwaGljLnZpc2libGUgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gRW5zdXJlIGl0J3Mgc3RpbGwgb24gdGhlIGxheWVyXHJcblx0XHRcdFx0Y29uc3QgaXNTdGlsbE9uTGF5ZXIgPSBkcmF3TGF5ZXIuZ3JhcGhpY3MgJiYgZHJhd0xheWVyLmdyYXBoaWNzLmluY2x1ZGVzICYmIGRyYXdMYXllci5ncmFwaGljcy5pbmNsdWRlcyhncmFwaGljKTtcclxuXHRcdFx0XHRpZiAoIWlzU3RpbGxPbkxheWVyKSB7XHJcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCdSZS1hZGRpbmcgZ3JhcGhpYyB0byBsYXllciBhZnRlciBtZWFzdXJlbWVudCBwcm9jZXNzaW5nJyk7XHJcblx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRkcmF3TGF5ZXIuYWRkKGdyYXBoaWMpO1xyXG5cdFx0XHRcdFx0fSBjYXRjaCAoZmluYWxBZGRFcnJvcikge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0ZpbmFsIGFkZCBhdHRlbXB0IGZhaWxlZDonLCBmaW5hbEFkZEVycm9yKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFRyeSByZWZyZXNoIG1ldGhvZHNcclxuXHRcdFx0XHRpZiAoJ3JlZHJhdycgaW4gdmlldyAmJiB0eXBlb2YgKHZpZXcgYXMgYW55KS5yZWRyYXcgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRcdCh2aWV3IGFzIGFueSkucmVkcmF3KCk7XHJcblx0XHRcdFx0fSBlbHNlIGlmICgncmVmcmVzaCcgaW4gZHJhd0xheWVyICYmIHR5cGVvZiAoZHJhd0xheWVyIGFzIGFueSkucmVmcmVzaCA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0KGRyYXdMYXllciBhcyBhbnkpLnJlZnJlc2goKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gY2F0Y2ggKGZpbmFsRXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS53YXJuKCdGaW5hbCBzYW5pdHkgY2hlY2sgZmFpbGVkLCBidXQgY29udGludWluZzonLCBmaW5hbEVycik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNldEN1cnJlbnRHcmFwaGljKGdyYXBoaWMpO1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdHByb2Nlc3NpbmdRdWV1ZS5jdXJyZW50LmRlbGV0ZShncmFwaGljSWQpO1xyXG5cdFx0XHRpZiAoIXBhcmVudCAmJiAhZm9yY2VVcGRhdGUpIHtcclxuXHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdG1lYXN1cmVtZW50TG9jay5jdXJyZW50ID0gZmFsc2U7XHJcblx0XHRcdFx0XHRzZXRJc1Byb2Nlc3NpbmdNZWFzdXJlbWVudHMoZmFsc2UpO1xyXG5cdFx0XHRcdH0sIDEwMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdCBsaXZlTWVhc3VyZSA9ICgpID0+IHtcclxuXHRcdC8vIFNpbGVudGx5IGRlZmVyIGlmIFNrZXRjaFZpZXdNb2RlbCBpc24ndCByZWFkeSAtIGRvbid0IHdhcm4sIGp1c3QgcmV0dXJuXHJcblx0XHRpZiAoIXNrZXRjaFZpZXdNb2RlbCB8fCAhc2tldGNoVmlld01vZGVsLnZpZXcpIHtcclxuXHRcdFx0Ly9jb25zb2xlLmxvZygnU2tldGNoVmlld01vZGVsIG5vdCByZWFkeSBmb3IgbWVhc3VyZW1lbnQgc2V0dXAsIGRlZmVycmluZy4uLicpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly9jb25zb2xlLmxvZygnU2V0dGluZyB1cCBtZWFzdXJlbWVudCBsaXN0ZW5lcnMuLi4nKTtcclxuXHJcblx0XHQvLyDwn5SnIFJlbW92ZSBleGlzdGluZyBsaXN0ZW5lcnMgdXNpbmcgcmVmcyBmaXJzdCAoc3luY2hyb25vdXMpXHJcblx0XHRpZiAodXBkYXRlTGlzdGVuZXJSZWYuY3VycmVudCkge1xyXG5cdFx0XHR0cnkgeyB1cGRhdGVMaXN0ZW5lclJlZi5jdXJyZW50LnJlbW92ZSgpOyB9IGNhdGNoIHsgLyogbm8tb3AgKi8gfVxyXG5cdFx0XHR1cGRhdGVMaXN0ZW5lclJlZi5jdXJyZW50ID0gbnVsbDtcclxuXHRcdH1cclxuXHRcdGlmIChjcmVhdGVMaXN0ZW5lclJlZi5jdXJyZW50KSB7XHJcblx0XHRcdHRyeSB7IGNyZWF0ZUxpc3RlbmVyUmVmLmN1cnJlbnQucmVtb3ZlKCk7IH0gY2F0Y2ggeyAvKiBuby1vcCAqLyB9XHJcblx0XHRcdGNyZWF0ZUxpc3RlbmVyUmVmLmN1cnJlbnQgPSBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEFsc28gY2xlYW4gdXAgc3RhdGUtYmFzZWQgbGlzdGVuZXJzIChkZWZlbnNpdmUpXHJcblx0XHRpZiAodXBkYXRlTGlzdGVuZXIpIHtcclxuXHRcdFx0dHJ5IHsgdXBkYXRlTGlzdGVuZXIucmVtb3ZlKCk7IH0gY2F0Y2ggeyAvKiBuby1vcCAqLyB9XHJcblx0XHRcdHNldFVwZGF0ZUxpc3RlbmVyKG51bGwpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGNyZWF0ZUxpc3RlbmVyKSB7XHJcblx0XHRcdHRyeSB7IGNyZWF0ZUxpc3RlbmVyLnJlbW92ZSgpOyB9IGNhdGNoIHsgLyogbm8tb3AgKi8gfVxyXG5cdFx0XHRzZXRDcmVhdGVMaXN0ZW5lcihudWxsKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyAtLS0gVVBEQVRFIGxpc3RlbmVyIChlZGl0L21vdmUvcmVzaGFwZSwgZXRjLikgLS0tXHJcblx0XHRjb25zdCBuZXdVcGRhdGVMaXN0ZW5lciA9IHNrZXRjaFZpZXdNb2RlbC5vbigndXBkYXRlJywgYXN5bmMgKGV2ZW50KSA9PiB7XHJcblx0XHRcdGlmICghc2tldGNoVmlld01vZGVsIHx8ICFza2V0Y2hWaWV3TW9kZWwudmlldyB8fCAhaXNMYXllckJhc2ljYWxseVZhbGlkKCkpIHJldHVybjtcclxuXHJcblx0XHRcdGNvbnN0IGdyYXBoaWMgPSBldmVudC5ncmFwaGljcz8uWzBdO1xyXG5cdFx0XHRpZiAoIWdyYXBoaWMgfHwgaXNNZWFzdXJlbWVudExhYmVsKGdyYXBoaWMpKSByZXR1cm47XHJcblxyXG5cdFx0XHQvLyBJTVBPUlRBTlQ6IG9iZXkgdGhlICpjdXJyZW50KiBlbmFibGVkIHN0YXRlIChyZWYpLCBidXQgc3RpbGwgYWxsb3cgdXBkYXRlc1xyXG5cdFx0XHQvLyB0byBleGlzdGluZyBtZWFzdXJlZCBncmFwaGljcyAoc28gdGhlaXIgbGFiZWxzIGZvbGxvdyBlZGl0cyB3aGlsZSBlbmFibGVkKS5cclxuXHRcdFx0aWYgKCFtZWFzdXJlRW5hYmxlZFJlZi5jdXJyZW50ICYmICEoZ3JhcGhpYyBhcyBFeHRlbmRlZEdyYXBoaWMpLm1lYXN1cmUpIHJldHVybjtcclxuXHJcblx0XHRcdGNvbnN0IGdyYXBoaWNJZCA9IGdldEdyYXBoaWNJZChncmFwaGljKTtcclxuXHRcdFx0aWYgKGFjdGl2ZUV2ZW50cy5oYXMoZ3JhcGhpY0lkKSkge1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ1NraXBwaW5nIHVwZGF0ZSAtIGFscmVhZHkgcHJvY2Vzc2luZzonLCBncmFwaGljSWQpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c2V0QWN0aXZlRXZlbnRzKHByZXYgPT4gbmV3IFNldChwcmV2KS5hZGQoZ3JhcGhpY0lkKSk7XHJcblxyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGlmIChldmVudC5zdGF0ZSA9PT0gJ2FjdGl2ZScpIHtcclxuXHRcdFx0XHRcdC8vIExpZ2h0d2VpZ2h0IHVwZGF0ZXMgd2hpbGUgYWN0aXZlbHkgZWRpdGluZ1xyXG5cdFx0XHRcdFx0YXdhaXQgX2FkZE1lYXN1cmVtZW50TGl2ZShncmFwaGljIGFzIEV4dGVuZGVkR3JhcGhpYyk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChldmVudC5zdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xyXG5cdFx0XHRcdFx0Ly8gSGVhdmllciB1cGRhdGVzIHdoZW4gZWRpdCBjb21wbGV0ZXNcclxuXHRcdFx0XHRcdGNsZWFudXBDb21wbGV0ZVRocm90dGxpbmcoZ3JhcGhpYyBhcyBFeHRlbmRlZEdyYXBoaWMpO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhyb3R0bGVkQ29tcGxldGVVcGRhdGUoZ3JhcGhpYyBhcyBFeHRlbmRlZEdyYXBoaWMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdHNldEFjdGl2ZUV2ZW50cyhwcmV2ID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7XHJcblx0XHRcdFx0XHRcdG5leHQuZGVsZXRlKGdyYXBoaWNJZCk7XHJcblx0XHRcdFx0XHRcdHJldHVybiBuZXh0O1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSwgMjAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gLS0tIENSRUFURSBsaXN0ZW5lciAobmV3IGdlb21ldHJpZXMpIC0tLVxyXG5cdFx0Y29uc3QgbmV3Q3JlYXRlTGlzdGVuZXIgPSBza2V0Y2hWaWV3TW9kZWwub24oJ2NyZWF0ZScsIGFzeW5jIChldmVudCkgPT4ge1xyXG5cdFx0XHQvLyBjb25zb2xlLmxvZygn8J+UjSBDUkVBVEUgRVZFTlQ6Jywge1xyXG5cdFx0XHQvLyAgIHN0YXRlOiBldmVudC5zdGF0ZSxcclxuXHRcdFx0Ly8gICBtZWFzdXJlRW5hYmxlZFJlZjogbWVhc3VyZUVuYWJsZWRSZWYuY3VycmVudCxcclxuXHRcdFx0Ly8gICBtZWFzdXJlRW5hYmxlZFN0YXRlOiBtZWFzdXJlRW5hYmxlZCxcclxuXHRcdFx0Ly8gICBoYXNHcmFwaGljOiAhIWV2ZW50LmdyYXBoaWNcclxuXHRcdFx0Ly8gfSk7XHJcblxyXG5cdFx0XHRpZiAoIXNrZXRjaFZpZXdNb2RlbCB8fCAhc2tldGNoVmlld01vZGVsLnZpZXcgfHwgIWlzTGF5ZXJCYXNpY2FsbHlWYWxpZCgpKSB7XHJcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygn4p2MIFNraXBwaW5nIC0gU2tldGNoVmlld01vZGVsIG9yIGxheWVyIG5vdCB2YWxpZCcpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQ1JJVElDQUw6IGlmIG1lYXN1cmVtZW50cyBhcmUgZGlzYWJsZWQgKnJpZ2h0IG5vdyosIGRvIG5vdGhpbmdcclxuXHRcdFx0aWYgKCFtZWFzdXJlRW5hYmxlZFJlZi5jdXJyZW50IHx8IGV2ZW50LnN0YXRlID09PSAnY2FuY2VsJykge1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ+KdjCBTa2lwcGluZyBjcmVhdGUgLSBtZWFzdXJlRW5hYmxlZFJlZjonLCBtZWFzdXJlRW5hYmxlZFJlZi5jdXJyZW50LCAnc3RhdGU6JywgZXZlbnQuc3RhdGUpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgZ3JhcGhpYyA9IGV2ZW50LmdyYXBoaWMgYXMgRXh0ZW5kZWRHcmFwaGljIHwgdW5kZWZpbmVkO1xyXG5cdFx0XHRpZiAoIWdyYXBoaWMgfHwgaXNNZWFzdXJlbWVudExhYmVsKGdyYXBoaWMpKSB7XHJcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygn4p2MIFNraXBwaW5nIC0gbm8gZ3JhcGhpYyBvciBpcyBtZWFzdXJlbWVudCBsYWJlbCcpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly9jb25zb2xlLmxvZygn4pyFIFByb2NlZWRpbmcgd2l0aCBtZWFzdXJlbWVudCBjcmVhdGlvbiBmb3I6JywgZ3JhcGhpYy5nZW9tZXRyeT8udHlwZSk7XHJcblxyXG5cdFx0XHRjb25zdCBncmFwaGljSWQgPSBnZXRHcmFwaGljSWQoZ3JhcGhpYyk7XHJcblxyXG5cdFx0XHQvLyBEb24ndCB0cmFjayBhY3RpdmUgZXZlbnRzIGZvciAnYWN0aXZlJyBzdGF0ZSAtIG9ubHkgZm9yICdjb21wbGV0ZSdcclxuXHRcdFx0aWYgKGV2ZW50LnN0YXRlID09PSAnY29tcGxldGUnKSB7XHJcblx0XHRcdFx0aWYgKGFjdGl2ZUV2ZW50cy5oYXMoZ3JhcGhpY0lkKSkge1xyXG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygn4pqg77iPIFNraXBwaW5nIGNyZWF0ZSAtIGFscmVhZHkgcHJvY2Vzc2luZzonLCBncmFwaGljSWQpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzZXRBY3RpdmVFdmVudHMocHJldiA9PiBuZXcgU2V0KHByZXYpLmFkZChncmFwaGljSWQpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRpZiAoZXZlbnQuc3RhdGUgPT09ICdhY3RpdmUnKSB7XHJcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCfwn5OKIENyZWF0aW5nIGxpdmUgbWVhc3VyZW1lbnQnKTtcclxuXHRcdFx0XHRcdC8vIFNob3cgbGl2ZSBtZWFzdXJlbWVudHMgZHVyaW5nIGFjdGl2ZSBkcmF3aW5nIC0gYnV0IGRvbid0IHRyYWNrIGluIGFjdGl2ZUV2ZW50c1xyXG5cdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0YXdhaXQgX2FkZE1lYXN1cmVtZW50TGl2ZShncmFwaGljKTtcclxuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUud2FybignRXJyb3IgaW4gbGl2ZSBtZWFzdXJlbWVudCBkdXJpbmcgY3JlYXRlOicsIGVycm9yKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2UgaWYgKGV2ZW50LnN0YXRlID09PSAnY29tcGxldGUnKSB7XHJcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCfinIUgQ3JlYXRlIGNvbXBsZXRlIC0gc2NoZWR1bGluZyBmaW5hbCBtZWFzdXJlbWVudCcpO1xyXG5cdFx0XHRcdFx0Ly8gQWRkIGEgc21hbGwgZGVsYXkgdG8gZW5zdXJlIHRoZSBncmFwaGljIGlzIGZ1bGx5IHByb2Nlc3NlZCBieSB0aGUgd2lkZ2V0IGZpcnN0XHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygn8J+UhCBQcm9jZXNzaW5nIGZpbmFsIG1lYXN1cmVtZW50IGZvcjonLCBncmFwaGljSWQpO1xyXG5cdFx0XHRcdFx0XHRjbGVhbnVwQ29tcGxldGVUaHJvdHRsaW5nKGdyYXBoaWMpO1xyXG5cdFx0XHRcdFx0XHR0aHJvdHRsZWRDb21wbGV0ZVVwZGF0ZShncmFwaGljKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIEVuc3VyZSB2aXNpYmlsaXR5IGFmdGVyIG1lYXN1cmVtZW50IHByb2Nlc3NpbmdcclxuXHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGdyYXBoaWMubWVhc3VyZT8uZ3JhcGhpYykge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZW5zdXJlTGFiZWxWaXNpYmlsaXR5KGdyYXBoaWMubWVhc3VyZS5ncmFwaGljKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8vIENSSVRJQ0FMOiBFbnN1cmUgdGhlIG1haW4gZ3JhcGhpYyBzdGF5cyB2aXNpYmxlXHJcblx0XHRcdFx0XHRcdFx0aWYgKGdyYXBoaWMudmlzaWJsZSA9PT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2coJ/CflIQgUmVzdG9yaW5nIGdyYXBoaWMgdmlzaWJpbGl0eSBhZnRlciBtZWFzdXJlbWVudCBwcm9jZXNzaW5nJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRncmFwaGljLnZpc2libGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSwgMTAwKTtcclxuXHRcdFx0XHRcdH0sIDEwMCk7IC8vIFNtYWxsIGRlbGF5IHRvIGxldCB3aWRnZXQgZmluaXNoIGl0cyBwcm9jZXNzaW5nXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRcdC8vIE9ubHkgY2xlYW4gdXAgYWN0aXZlRXZlbnRzIGZvciBjb21wbGV0ZSBzdGF0ZVxyXG5cdFx0XHRcdGlmIChldmVudC5zdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xyXG5cdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHNldEFjdGl2ZUV2ZW50cyhwcmV2ID0+IHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBuZXh0ID0gbmV3IFNldChwcmV2KTtcclxuXHRcdFx0XHRcdFx0XHRuZXh0LmRlbGV0ZShncmFwaGljSWQpO1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBuZXh0O1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0sIDIwMCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyAtLS0gREVMRVRFIGxpc3RlbmVyIChjbGVhbiB1cCBsYWJlbHMvc2VnbWVudHMpIC0tLVxyXG5cdFx0Y29uc3QgbmV3RGVsZXRlTGlzdGVuZXIgPSBza2V0Y2hWaWV3TW9kZWwub24oJ2RlbGV0ZScsIChldmVudCkgPT4ge1xyXG5cdFx0XHQvLyBET04nVCBjaGVjayBza2V0Y2hWaWV3TW9kZWwgaGVyZSAtIHdlJ3JlIGFscmVhZHkgaW4gaXRzIGV2ZW50IGhhbmRsZXIhXHJcblx0XHRcdGNvbnN0IGdyYXBoaWMgPSBldmVudC5ncmFwaGljcz8uWzBdIGFzIEV4dGVuZGVkR3JhcGhpYyB8IHVuZGVmaW5lZDtcclxuXHRcdFx0aWYgKCFncmFwaGljKSByZXR1cm47XHJcblxyXG5cdFx0XHRjb25zdCBncmFwaGljSWQgPSBnZXRHcmFwaGljSWQoZ3JhcGhpYyk7XHJcblxyXG5cdFx0XHQvLyBSZW1vdmUgZnJvbSBhbGwgdHJhY2tpbmdcclxuXHRcdFx0Y2xlYW51cENvbXBsZXRlVGhyb3R0bGluZyhncmFwaGljKTtcclxuXHRcdFx0c2V0UHJvY2Vzc2VkR3JhcGhpY3MocHJldiA9PiB7XHJcblx0XHRcdFx0Y29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7XHJcblx0XHRcdFx0bmV4dC5kZWxldGUoZ3JhcGhpY0lkKTtcclxuXHRcdFx0XHRyZXR1cm4gbmV4dDtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNldEFjdGl2ZUV2ZW50cyhwcmV2ID0+IHtcclxuXHRcdFx0XHRjb25zdCBuZXh0ID0gbmV3IFNldChwcmV2KTtcclxuXHRcdFx0XHRuZXh0LmRlbGV0ZShncmFwaGljSWQpO1xyXG5cdFx0XHRcdHJldHVybiBuZXh0O1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIENsZWFuIHVwIG1lYXN1cmVtZW50cyAtIHVzZSBtb3JlIHBlcm1pc3NpdmUgbGF5ZXIgY2hlY2tcclxuXHRcdFx0aWYgKGlzTGF5ZXJCYXNpY2FsbHlWYWxpZCgpKSB7XHJcblx0XHRcdFx0aWYgKGdyYXBoaWMubWVhc3VyZT8uZ3JhcGhpYyAmJiBzYWZlTGF5ZXJDb250YWlucyhncmFwaGljLm1lYXN1cmUuZ3JhcGhpYykpIHtcclxuXHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdHNhZmVMYXllclJlbW92ZShncmFwaGljLm1lYXN1cmUuZ3JhcGhpYyk7XHJcblx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2coJ+KchSBSZW1vdmVkIG1lYXN1cmVtZW50IGxhYmVsIGZvciBkZWxldGVkIGdyYXBoaWMnKTtcclxuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycikge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oXCJDb3VsZG4ndCByZW1vdmUgbWVhc3VyZW1lbnQgbGFiZWw6XCIsIGVycik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChBcnJheS5pc0FycmF5KGdyYXBoaWMuYXR0cmlidXRlcz8ucmVsYXRlZFNlZ21lbnRMYWJlbHMpKSB7XHJcblx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRncmFwaGljLmF0dHJpYnV0ZXMucmVsYXRlZFNlZ21lbnRMYWJlbHMuZm9yRWFjaChzZWdtZW50TGFiZWwgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChzZWdtZW50TGFiZWwgJiYgc2FmZUxheWVyQ29udGFpbnMoc2VnbWVudExhYmVsKSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0c2FmZUxheWVyUmVtb3ZlKHNlZ21lbnRMYWJlbCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9IGNhdGNoIChyZW1vdmVFcnIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKFwiQ291bGRuJ3QgcmVtb3ZlIHNlZ21lbnQgbGFiZWw6XCIsIHJlbW92ZUVycik7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0Z3JhcGhpYy5hdHRyaWJ1dGVzLnJlbGF0ZWRTZWdtZW50TGFiZWxzID0gW107XHJcblx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2coJ+KchSBSZW1vdmVkIHNlZ21lbnQgbGFiZWxzIGZvciBkZWxldGVkIGdyYXBoaWMnKTtcclxuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycikge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oXCJDb3VsZG4ndCByZW1vdmUgc2VnbWVudCBsYWJlbHM6XCIsIGVycik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIFN0aWxsIGNsZWFyIHJlZmVyZW5jZXMgZXZlbiBpZiBsYXllciBpc24ndCB2YWxpZFxyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ+KaoO+4jyBMYXllciBub3QgdmFsaWQsIGNsZWFyaW5nIHJlZmVyZW5jZXMgb25seScpO1xyXG5cdFx0XHRcdGlmIChncmFwaGljLm1lYXN1cmUpIGdyYXBoaWMubWVhc3VyZSA9IG51bGw7XHJcblx0XHRcdFx0aWYgKGdyYXBoaWMuYXR0cmlidXRlcz8ucmVsYXRlZFNlZ21lbnRMYWJlbHMpIGdyYXBoaWMuYXR0cmlidXRlcy5yZWxhdGVkU2VnbWVudExhYmVscyA9IFtdO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zb2xlLmxvZygn8J+Xke+4jyBHcmFwaGljIGRlbGV0aW9uIGNsZWFudXAgY29tcGxldGU6JywgZ3JhcGhpY0lkKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIPCflKcgU3RvcmUgaW4gcmVmcyBmb3Igc3luY2hyb25vdXMgYWNjZXNzXHJcblx0XHR1cGRhdGVMaXN0ZW5lclJlZi5jdXJyZW50ID0gbmV3VXBkYXRlTGlzdGVuZXI7XHJcblx0XHRjcmVhdGVMaXN0ZW5lclJlZi5jdXJyZW50ID0gbmV3Q3JlYXRlTGlzdGVuZXI7XHJcblxyXG5cdFx0Ly8gQWxzbyBzdG9yZSBpbiBzdGF0ZSBmb3IgdXNlRWZmZWN0IGNsZWFudXBcclxuXHRcdHNldFVwZGF0ZUxpc3RlbmVyKG5ld1VwZGF0ZUxpc3RlbmVyKTtcclxuXHRcdHNldENyZWF0ZUxpc3RlbmVyKG5ld0NyZWF0ZUxpc3RlbmVyKTtcclxuXHRcdC8vY29uc29sZS5sb2coJ01lYXN1cmVtZW50IGxpc3RlbmVycyBzZXQgdXAgc3VjY2Vzc2Z1bGx5Jyk7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgcmVuZGVyRW5oYW5jZWRNZWFzdXJlbWVudEVkaXRpbmdDb250cm9scyA9ICgpID0+IHtcclxuXHRcdGlmIChwcm9wcy5pc0RyYXdpbmdBY3RpdmUgfHwgIW1lYXN1cmVFbmFibGVkKSByZXR1cm4gbnVsbDtcclxuXHJcblx0XHQvLyBORVc6IENoZWNrIGlmIHRoZXJlIGFyZSBhbnkgYWN0dWFsIGRyYXdpbmdzIChleGNsdWRlIG1lYXN1cmVtZW50IGxhYmVscyBhbmQgYnVmZmVycylcclxuXHRcdGNvbnN0IGhhc0RyYXdpbmdzID0gZHJhd0xheWVyICYmIGRyYXdMYXllci5ncmFwaGljcyAmJlxyXG5cdFx0XHRkcmF3TGF5ZXIuZ3JhcGhpY3MudG9BcnJheSgpLnNvbWUoZyA9PlxyXG5cdFx0XHRcdCFnLmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRMYWJlbCAmJlxyXG5cdFx0XHRcdCFnLmF0dHJpYnV0ZXM/LmlzQnVmZmVyICYmXHJcblx0XHRcdFx0IWcuYXR0cmlidXRlcz8uaXNQcmV2aWV3QnVmZmVyICYmXHJcblx0XHRcdFx0IWcuYXR0cmlidXRlcz8uaGlkZUZyb21MaXN0XHJcblx0XHRcdCk7XHJcblxyXG5cdFx0Ly8gSGlkZSBpZiBubyBkcmF3aW5ncyBPUiBpZiBjdXJyZW50bHkgaW4gZHJhd2luZyBtb2RlXHJcblx0XHRpZiAoIWhhc0RyYXdpbmdzIHx8IGN1cnJlbnRUb29sICE9PSAnJykge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHQ8Q29sbGFwc2FibGVDaGVja2JveFxyXG5cdFx0XHRcdGxhYmVsPSdFZGl0IE1lYXN1cmVtZW50IExhYmVscydcclxuXHRcdFx0XHRvbkNoZWNrZWRDaGFuZ2U9eyhlKSA9PiB7XHJcblx0XHRcdFx0XHQvLyDwn5SnIEd1YXJkIGFnYWluc3Qgc3B1cmlvdXMgZmlyaW5nIGR1cmluZyBtb3VudC9yZW1vdW50XHJcblx0XHRcdFx0XHRpZiAoIWlzSW5pdGlhbE1vdW50LmN1cnJlbnQpIHtcclxuXHRcdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ/CflKcgVXNlciB0b2dnbGVkIG1lYXN1cmVtZW50IGVkaXRpbmcgdG86JywgZSk7XHJcblx0XHRcdFx0XHRcdHRvZ2dsZU1lYXN1cmVtZW50RWRpdGluZyhlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9fVxyXG5cdFx0XHRcdGNoZWNrZWQ9e2VkaXRhYmxlTWVhc3VyZW1lbnRzfSAgLy8g4pyFIE1ha2UgaXQgY29udHJvbGxlZFxyXG5cdFx0XHRcdGRpc2FibGVBY3Rpb25Gb3JVbmNoZWNrZWRcclxuXHRcdFx0XHRvcGVuRm9yQ2hlY2tcclxuXHRcdFx0XHRjbG9zZUZvclVuY2hlY2tcclxuXHRcdFx0XHRjbGFzc05hbWU9J3ctMTAwJ1xyXG5cdFx0XHQ+XHJcblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2QtZmxleCBmbGV4LWNvbHVtbic+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nbWwtMyBteS0xJz5cclxuXHRcdFx0XHRcdFx0PHVsIGNsYXNzTmFtZT0ndGV4dC1kYXJrIG0tMCBwbC0zIHNtYWxsJz5cclxuXHRcdFx0XHRcdFx0XHR7IXNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbCAmJiAoXHJcblx0XHRcdFx0XHRcdFx0XHQ8bGk+Q2xpY2sgYSBtZWFzdXJlbWVudCBsYWJlbCB0byBzZWxlY3QgaXQgYW5kIGJlZ2luIGVkaXRpbmc8L2xpPlxyXG5cdFx0XHRcdFx0XHRcdCl9XHJcblx0XHRcdFx0XHRcdFx0e2VkaXRhYmxlTWVhc3VyZW1lbnRzICYmIHNlbGVjdGVkTWVhc3VyZW1lbnRMYWJlbCAmJiAhaXNEcmFnZ2luZ0xhYmVsICYmIChcclxuXHRcdFx0XHRcdFx0XHRcdDxsaSBjbGFzc05hbWU9J3RleHQtc3VjY2Vzcyc+PHN0cm9uZz5MYWJlbCBzZWxlY3RlZDwvc3Ryb25nPjwvbGk+XHJcblx0XHRcdFx0XHRcdFx0KX1cclxuXHRcdFx0XHRcdFx0XHR7aXNEcmFnZ2luZ0xhYmVsICYmIChcclxuXHRcdFx0XHRcdFx0XHRcdDxsaSBjbGFzc05hbWU9J3RleHQtaW5mbyc+PHN0cm9uZz5EcmFnZ2luZyBhY3RpdmUgLSBtb3ZlIG1vdXNlIGFuZCBjbGljayB0byBwbGFjZTwvc3Ryb25nPjwvbGk+XHJcblx0XHRcdFx0XHRcdFx0KX1cclxuXHRcdFx0XHRcdFx0PC91bD5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdHtzZWxlY3RlZE1lYXN1cmVtZW50TGFiZWwgJiZcclxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdtbC0zIG15LTEnPlxyXG5cdFx0XHRcdFx0XHR7LyogRm9udCwgSGFsbywgYW5kIFRleHQgRm9ybWF0dGluZyBDb250cm9scyAtIFRocmVlIENvbHVtbiBMYXlvdXQgKi99XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggbWItMScgc3R5bGU9e3sgZ2FwOiAnMTJweCcgfX0+XHJcblx0XHRcdFx0XHRcdFx0ey8qIExlZnQgQ29sdW1uIC0gRm9udCBQcm9wZXJ0aWVzICovfVxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgc3R5bGU9e3sgZmxleDogJzEnIH19PlxyXG5cdFx0XHRcdFx0XHRcdFx0PGg2IGNsYXNzTmFtZT0nbWItMic+Rm9udDwvaDY+XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0ey8qIEZvbnQgQ29sb3IgKi99XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBtYi0yJz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PExhYmVsIGNsYXNzTmFtZT0nbWItMCcgc3R5bGU9e3sgbWluV2lkdGg6ICc3MHB4JywgZm9udFNpemU6ICcxMnB4JyB9fT5Db2xvcjo8L0xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8Q29sb3JQaWNrZXJcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xvcj17bWVhc3VyZW1lbnRGb250Q29sb3J9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9e3VwZGF0ZU1lYXN1cmVtZW50Rm9udENvbG9yfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdpZHRoPXsyNH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRoZWlnaHQ9ezI0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvPlxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0ey8qIEZvbnQgU2l6ZSAqL31cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIG1iLTInPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8TGFiZWwgY2xhc3NOYW1lPSdtYi0wJyBzdHlsZT17eyBtaW5XaWR0aDogJzcwcHgnLCBmb250U2l6ZTogJzEycHgnIH19PlNpemU6PC9MYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PE51bWVyaWNJbnB1dFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNpemU9J3NtJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlPXttZWFzdXJlbWVudEZvbnRTaXplfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXt1cGRhdGVNZWFzdXJlbWVudEZvbnRTaXplfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1pbj17OH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXg9ezQ4fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHN0ZXA9ezF9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU9e3sgd2lkdGg6ICc2MHB4JyB9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvPlxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0ey8qIEZvbnQgUm90YXRpb24gKi99XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBtYi0yJz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PExhYmVsIGNsYXNzTmFtZT0nbWItMCcgc3R5bGU9e3sgbWluV2lkdGg6ICc3MHB4JywgZm9udFNpemU6ICcxMnB4JyB9fT5Sb3RhdGlvbjo8L0xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8TnVtZXJpY0lucHV0XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2l6ZT0nc20nXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU9e21lYXN1cmVtZW50Rm9udFJvdGF0aW9ufVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXt1cGRhdGVNZWFzdXJlbWVudEZvbnRSb3RhdGlvbn1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtaW49ey0xODB9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWF4PXsxODB9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3RlcD17NX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzdHlsZT17eyB3aWR0aDogJzYwcHgnIH19XHJcblx0XHRcdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHJcblx0XHRcdFx0XHRcdFx0ey8qIE1pZGRsZSBDb2x1bW4gLSBIYWxvIFByb3BlcnRpZXMgKi99XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBzdHlsZT17eyBmbGV4OiAnMScgfX0+XHJcblx0XHRcdFx0XHRcdFx0XHQ8aDYgY2xhc3NOYW1lPSdtYi0yJz5IYWxvPC9oNj5cclxuXHJcblx0XHRcdFx0XHRcdFx0XHR7LyogRW5hYmxlIEhhbG8gKi99XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBtYi0yJz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PExhYmVsIGNsYXNzTmFtZT0nbWItMCcgc3R5bGU9e3sgbWluV2lkdGg6ICc3MHB4JywgZm9udFNpemU6ICcxMnB4JyB9fT5FbmFibGU6PC9MYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PFN3aXRjaFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNpemU9J3NtJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrZWQ9e21lYXN1cmVtZW50SGFsb0VuYWJsZWR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9eyhlKSA9PiB1cGRhdGVNZWFzdXJlbWVudEhhbG8oZS50YXJnZXQuY2hlY2tlZCl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHJcblx0XHRcdFx0XHRcdFx0XHR7LyogSGFsbyBDb2xvciAqL31cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIG1iLTInPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8TGFiZWwgY2xhc3NOYW1lPSdtYi0wJyBzdHlsZT17e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1pbldpZHRoOiAnNzBweCcsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFNpemU6ICcxMnB4JyxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiBtZWFzdXJlbWVudEhhbG9FbmFibGVkID8gMSA6IDAuNVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9fT5Db2xvcjo8L0xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8Q29sb3JQaWNrZXJcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xvcj17bWVhc3VyZW1lbnRIYWxvQ29sb3J9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9eyhjb2xvcikgPT4gdXBkYXRlTWVhc3VyZW1lbnRIYWxvKHRydWUsIGNvbG9yKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aWR0aD17MjR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aGVpZ2h0PXsyNH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkaXNhYmxlZD17IW1lYXN1cmVtZW50SGFsb0VuYWJsZWR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHJcblx0XHRcdFx0XHRcdFx0XHR7LyogSGFsbyBTaXplICovfVxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW4gbWItMic+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxMYWJlbCBjbGFzc05hbWU9J21iLTAnIHN0eWxlPXt7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWluV2lkdGg6ICc3MHB4JyxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmb250U2l6ZTogJzEycHgnLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9wYWNpdHk6IG1lYXN1cmVtZW50SGFsb0VuYWJsZWQgPyAxIDogMC41XHJcblx0XHRcdFx0XHRcdFx0XHRcdH19PlNpemU6PC9MYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PE51bWVyaWNJbnB1dFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNpemU9J3NtJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlPXttZWFzdXJlbWVudEhhbG9TaXplfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXsoc2l6ZSkgPT4gdXBkYXRlTWVhc3VyZW1lbnRIYWxvKHRydWUsIHVuZGVmaW5lZCwgc2l6ZSl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWluPXsxfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1heD17MTB9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3RlcD17MX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzdHlsZT17eyB3aWR0aDogJzYwcHgnIH19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGlzYWJsZWQ9eyFtZWFzdXJlbWVudEhhbG9FbmFibGVkfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvPlxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHR7LyogUmlnaHQgQ29sdW1uIC0gVGV4dCBGb3JtYXR0aW5nICovfVxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuJz5cclxuXHRcdFx0XHRcdFx0XHR7LyogQm9sZCAqL31cclxuXHRcdFx0XHRcdFx0XHQ8TGFiZWwgY2VudHJpYyBzdHlsZT17eyBtaW5XaWR0aDogJzcwcHgnLCBmb250U2l6ZTogJzEycHgnIH19PkJvbGQ6XHJcblx0XHRcdFx0XHRcdFx0XHQ8U3dpdGNoXHJcblx0XHRcdFx0XHRcdFx0XHRcdHNpemU9J3NtJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjaGVja2VkPXttZWFzdXJlbWVudFRleHRTeW1ib2w/LmZvbnQ/LndlaWdodCA9PT0gJ2JvbGQnfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRvbkNoYW5nZT17KGUpID0+IHVwZGF0ZU1lYXN1cmVtZW50Rm9udFdlaWdodChlLnRhcmdldC5jaGVja2VkKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdtbC0xJ1xyXG5cdFx0XHRcdFx0XHRcdFx0Lz5cclxuXHRcdFx0XHRcdFx0XHQ8L0xhYmVsPlxyXG5cclxuXHRcdFx0XHRcdFx0XHR7LyogSXRhbGljICovfVxyXG5cdFx0XHRcdFx0XHRcdDxMYWJlbCBjZW50cmljIHN0eWxlPXt7IG1pbldpZHRoOiAnNzBweCcsIGZvbnRTaXplOiAnMTJweCcgfX0+SXRhbGljOlxyXG5cdFx0XHRcdFx0XHRcdFx0PFN3aXRjaFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzaXplPSdzbSdcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tlZD17bWVhc3VyZW1lbnRUZXh0U3ltYm9sPy5mb250Py5zdHlsZSA9PT0gJ2l0YWxpYyd9XHJcblx0XHRcdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXsoZSkgPT4gdXBkYXRlTWVhc3VyZW1lbnRGb250U3R5bGUoZS50YXJnZXQuY2hlY2tlZCl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nbWwtMSdcclxuXHRcdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHRcdFx0PC9MYWJlbD5cclxuXHJcblx0XHRcdFx0XHRcdFx0ey8qIFVuZGVybGluZSAqL31cclxuXHRcdFx0XHRcdFx0XHQ8TGFiZWwgY2VudHJpYyBzdHlsZT17eyBtaW5XaWR0aDogJzcwcHgnLCBmb250U2l6ZTogJzEycHgnIH19PlVuZGVybGluZTpcclxuXHRcdFx0XHRcdFx0XHRcdDxTd2l0Y2hcclxuXHRcdFx0XHRcdFx0XHRcdFx0c2l6ZT0nc20nXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrZWQ9e21lYXN1cmVtZW50VGV4dFN5bWJvbD8uZm9udD8uZGVjb3JhdGlvbiA9PT0gJ3VuZGVybGluZSd9XHJcblx0XHRcdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXsoZSkgPT4gdXBkYXRlTWVhc3VyZW1lbnRGb250RGVjb3JhdGlvbihlLnRhcmdldC5jaGVja2VkKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdtbC0xJ1xyXG5cdFx0XHRcdFx0XHRcdFx0Lz5cclxuXHRcdFx0XHRcdFx0XHQ8L0xhYmVsPlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHJcblx0XHRcdFx0XHRcdHsvKiBQb3NpdGlvbiBDb250cm9scyDigJQgZXF1YWwtd2lkdGggYnV0dG9ucyAqL31cclxuXHRcdFx0XHRcdFx0PEJ1dHRvbkdyb3VwXHJcblx0XHRcdFx0XHRcdFx0YmxvY2tcclxuXHRcdFx0XHRcdFx0XHR2YXJpYW50PSdjb250YWluZWQnXHJcblx0XHRcdFx0XHRcdFx0c2l6ZT0nc20nXHJcblx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHQ8QnV0dG9uXHJcblx0XHRcdFx0XHRcdFx0XHRjb2xvcj0ncHJpbWFyeSdcclxuXHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFjdXJyZW50TWFwVmlldykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChza2V0Y2hWaWV3TW9kZWw/LnZpZXcpIGN1cnJlbnRNYXBWaWV3ID0gc2tldGNoVmlld01vZGVsLnZpZXc7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZWxzZSBpZiAocHJvcHMuamltdU1hcFZpZXc/LnZpZXcpIGN1cnJlbnRNYXBWaWV3ID0gcHJvcHMuamltdU1hcFZpZXcudmlldztcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoc2VsZWN0ZWRNZWFzdXJlbWVudExhYmVsICYmIGN1cnJlbnRNYXBWaWV3KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3RhcnRMYWJlbERyYWcoc2VsZWN0ZWRNZWFzdXJlbWVudExhYmVsLCBudWxsKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fX1cclxuXHRcdFx0XHRcdFx0XHRcdGRpc2FibGVkPXtpc0RyYWdnaW5nTGFiZWx9XHJcblx0XHRcdFx0XHRcdFx0XHR0aXRsZT0nQ2xpY2sgdG8gc3RhcnQgbW92aW5nIHRoaXMgbGFiZWwnXHJcblx0XHRcdFx0XHRcdFx0XHRzdHlsZT17eyBtYXJnaW46IDAgfX1cclxuXHRcdFx0XHRcdFx0XHQ+XHJcblx0XHRcdFx0XHRcdFx0XHR7aXNEcmFnZ2luZ0xhYmVsID8gJ0RyYWdnaW5nLi4uJyA6ICdNb3ZlIExhYmVsJ31cclxuXHRcdFx0XHRcdFx0XHQ8L0J1dHRvbj5cclxuXHRcdFx0XHRcdFx0XHQ8QnV0dG9uXHJcblx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXtyZXNldExhYmVsUG9zaXRpb259XHJcblx0XHRcdFx0XHRcdFx0XHR0aXRsZT0nUmVzZXQgbGFiZWwgdG8gZGVmYXVsdCBjYWxjdWxhdGVkIHBvc2l0aW9uJ1xyXG5cdFx0XHRcdFx0XHRcdFx0ZGlzYWJsZWQ9eyFzZWxlY3RlZE1lYXN1cmVtZW50TGFiZWwuYXR0cmlidXRlcz8uaGFzQ3VzdG9tUG9zaXRpb259XHJcblx0XHRcdFx0XHRcdFx0XHRzdHlsZT17eyBtYXJnaW46IDAgfX1cclxuXHRcdFx0XHRcdFx0XHRcdHZhcmlhbnQ9J291dGxpbmVkJ1xyXG5cdFx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHRcdFJlc2V0IFBvc2l0aW9uXHJcblx0XHRcdFx0XHRcdFx0PC9CdXR0b24+XHJcblx0XHRcdFx0XHRcdDwvQnV0dG9uR3JvdXA+XHJcblx0XHRcdFx0XHRcdDxCdXR0b25cclxuXHRcdFx0XHRcdFx0XHRzaXplPSdzbSdcclxuXHRcdFx0XHRcdFx0XHR2YXJpYW50PSdjb250YWluZWQnXHJcblx0XHRcdFx0XHRcdFx0b25DbGljaz17Y2xlYW51cE1lYXN1cmVtZW50TGFiZWxTZWxlY3Rpb259XHJcblx0XHRcdFx0XHRcdFx0dGl0bGU9J0NsZWFyIHNlbGVjdGlvbiBhbmQgc2VsZWN0IGEgZGlmZmVyZW50IGdyYXBoaWMnXHJcblx0XHRcdFx0XHRcdFx0YmxvY2tcclxuXHRcdFx0XHRcdFx0XHRzdHlsZT17eyBtYXJnaW46IDAgfX1cclxuXHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdENsZWFyIFNlbGVjdGlvblxyXG5cdFx0XHRcdFx0XHQ8L0J1dHRvbj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdH1cclxuXHRcdFx0PC9Db2xsYXBzYWJsZUNoZWNrYm94PlxyXG5cdFx0KTtcclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gKFxyXG5cdFx0PGRpdiBjbGFzc05hbWU9J2RyYXdUb29sYmFyRGl2Jz5cclxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J2QtZmxleCBmbGV4LWNvbHVtbic+XHJcblxyXG5cdFx0XHRcdHsvKiBTdGFjayB0aGUgdHdvIG1haW4gdG9nZ2xlcyB0b2dldGhlciAoQ1NTIG5vdyBjb250cm9scyBzcGFjaW5nID0gbm9uZSkgKi99XHJcblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJtZWFzdXJlLXRvZ2dsZS1zdGFja1wiPlxyXG5cdFx0XHRcdFx0e3Nob3dUZXh0UHJldmlldyA/IChcclxuXHRcdFx0XHRcdFx0PD48Lz5cclxuXHRcdFx0XHRcdCkgOiAoXHJcblx0XHRcdFx0XHRcdDw+XHJcblx0XHRcdFx0XHRcdFx0eyFlZGl0YWJsZU1lYXN1cmVtZW50cyA/IChcclxuXHRcdFx0XHRcdFx0XHRcdDxDb2xsYXBzYWJsZUNoZWNrYm94XHJcblx0XHRcdFx0XHRcdFx0XHRcdGxhYmVsPXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkcmF3TGF5ZXI/LmdyYXBoaWNzPy5sZW5ndGggPCAxXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ/ICdFbmFibGUgTWVhc3VyZW1lbnRzJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0OiBtZWFzdXJlRW5hYmxlZFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ/ICdNZWFzdXJlbWVudHMgW0FkZGluZyBNZWFzdXJlbWVudHNdJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ6ICdNZWFzdXJlbWVudHMgW1JlbW92aW5nIE1lYXN1cmVtZW50c10nXHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0b25DaGVja2VkQ2hhbmdlPXsoZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2coJ/CflKcgVXNlciB0b2dnbGVkIG1lYXN1cmVtZW50czonLCBlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzZXRNZWFzdXJlRW5hYmxlZChlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tlZD17bWVhc3VyZUVuYWJsZWR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdGRpc2FibGVBY3Rpb25Gb3JVbmNoZWNrZWRcclxuXHRcdFx0XHRcdFx0XHRcdFx0b3BlbkZvckNoZWNrXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNsb3NlRm9yVW5jaGVja1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J3ctMTAwJ1xyXG5cdFx0XHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGZsZXgtY29sdW1uJz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7dG9vbFR5cGUgPT09ICdwb2ludCcgfHwgdG9vbFR5cGUgPT09ICcnIHx8IHRvb2xUeXBlID09PSAndGV4dCcgPyAoXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8PjwvPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCkgOiAoXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8TGFiZWwgY2xhc3NOYW1lPSdkcmF3VG9vbGJhckRpdic+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdExpbmVhciBVbml0czpcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PFNlbGVjdFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRpdGxlPSdMaW5lYXIgVW5pdHMnXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9eyhlKSA9PiBzZXREaXN0YW5jZVVuaXQoZS50YXJnZXQudmFsdWUpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmF1bHRWYWx1ZT17YXZhaWxhYmxlRGlzdGFuY2VVbml0c1twcm9wcy5jb25maWcuZGVmYXVsdERpc3RhbmNlXX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHthdmFpbGFibGVEaXN0YW5jZVVuaXRzLm1hcCgodW5pdCwgaW5kZXgpID0+IChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxPcHRpb24ga2V5PXtpbmRleH0gdmFsdWU9e3VuaXR9PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7dW5pdC5sYWJlbCArICcgKCcgKyB1bml0LmFiYnJldmlhdGlvbiArICcpJ31cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvT3B0aW9uPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCkpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L1NlbGVjdD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvTGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0KX1cclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3Rvb2xUeXBlID09PSAncG9pbnQnIHx8IHRvb2xUeXBlID09PSAncG9seWxpbmUnIHx8IHRvb2xUeXBlID09PSAnZnJlZXBvbHlsaW5lJyB8fCB0b29sVHlwZSA9PT0gJycgfHwgdG9vbFR5cGUgPT09ICd0ZXh0JyA/IChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDw+PC8+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0KSA6IChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxMYWJlbCBjbGFzc05hbWU9J2RyYXdUb29sYmFyRGl2Jz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0QXJlYSBVbml0czpcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PFNlbGVjdFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRpdGxlPSdBcmVhIFVuaXRzJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXsoZSkgPT4gc2V0QXJlYVVuaXQoZS50YXJnZXQudmFsdWUpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmF1bHRWYWx1ZT17YXZhaWxhYmxlQXJlYVVuaXRzW3Byb3BzLmNvbmZpZy5kZWZhdWx0QXJlYV19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7YXZhaWxhYmxlQXJlYVVuaXRzLm1hcCgodW5pdCwgaW5kZXgpID0+IChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxPcHRpb24ga2V5PXtpbmRleH0gdmFsdWU9e3VuaXR9PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7dW5pdC5sYWJlbCArICcgKCcgKyB1bml0LmFiYnJldmlhdGlvbiArICcpJ31cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvT3B0aW9uPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCkpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L1NlbGVjdD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvTGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0KX1cclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3Rvb2xUeXBlID09PSAncG9pbnQnID8gKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2QtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8TGFiZWwgY2VudHJpYz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxDaGVja2JveFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J21yLTIgbXQtMiBtYi0yIG1sLTQnXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrZWQ9e3h5fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNoYW5nZT17KCkgPT4gc2V0WHkoIXh5KX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRYWVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvTGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PExhYmVsIGNlbnRyaWM+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8Q2hlY2tib3hcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdtci0yIG10LTIgbWItMiBtbC00J1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja2VkPXtsYXRMb25nfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNoYW5nZT17KCkgPT4gc2V0TGF0TG9uZyghbGF0TG9uZyl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0TGF0L0xvbmdcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L0xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt4eSB8fCBsYXRMb25nID8gKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PExhYmVsIGNlbnRyaWM+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxDaGVja2JveFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nbXItMiBtdC0yIG1iLTIgbWwtNCdcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja2VkPXt3a2lkfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXsoKSA9PiBzZXRXa2lkKCF3a2lkKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Lz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0V0tJRFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9MYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpIDogKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PD48Lz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PExhYmVsIGNlbnRyaWMgY2xhc3NOYW1lPSdkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlcic+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0RGVjaW1hbCBQbGFjZXM6XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PE51bWVyaWNJbnB1dFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdkZWNpbWFsSW5wdXQgbWwtMidcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNpemU9J3NtJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWF4PXsxMH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1pbj17MH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0ZXA9ezF9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZT17cG9pbnRSb3VuZH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXsodmFsdWUpID0+IHNldFBvaW50Um91bmQodmFsdWUpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvTGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpIDogKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PD48Lz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpfVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7dG9vbFR5cGUgPT09ICdwb2x5bGluZScgfHwgdG9vbFR5cGUgPT09ICdmcmVlcG9seWxpbmUnID8gKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2QtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8TGFiZWwgY2VudHJpYz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxDaGVja2JveFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J21yLTIgbXQtMiBtYi0yIG1sLTQnXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoZWNrZWQ9e2xlbmd0aE9ufVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNoYW5nZT17KCkgPT4gc2V0TGVuZ3RoT24oIWxlbmd0aE9uKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRMZW5ndGhcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L0xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxMYWJlbCBjZW50cmljPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PENoZWNrYm94XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nbXItMiBtdC0yIG1iLTIgbWwtNCdcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tlZD17c2VnbWVudHNPbn1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9eygpID0+IHNldFNlZ21lbnRzT24oIXNlZ21lbnRzT24pfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Lz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdExpbmUgU2VnbWVudHNcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L0xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3NlZ21lbnRzT24gJiYgKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciB3LTEwMCc+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8TGFiZWwgY2VudHJpYz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PFN3aXRjaFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nbXItMidcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja2VkPXtyb3RhdGVTZWdtZW50c31cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNoYW5nZT17KCkgPT4gc2V0Um90YXRlU2VnbWVudHMoIXJvdGF0ZVNlZ21lbnRzKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Lz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Um90YXRlIExpbmUgU2VnbWVudCBMYWJlbHNcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvTGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxMYWJlbCBjZW50cmljIGNsYXNzTmFtZT0nZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdERlY2ltYWwgUGxhY2VzOlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxOdW1lcmljSW5wdXRcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nZGVjaW1hbElucHV0IG1sLTInXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzaXplPSdzbSdcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1heD17MTB9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtaW49ezB9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdGVwPXsxfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU9e290aGVyUm91bmR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNoYW5nZT17KHZhbHVlKSA9PiBzZXRPdGhlclJvdW5kKHZhbHVlKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L0xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7dG9vbFR5cGUgPT09ICdmcmVlcG9seWxpbmUnID8gKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxBbGVydCBjbGFzc05hbWU9J3ctMTAwJz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdExpbmUgU2VnbWVudHMgbm90IHJlY29tbWVuZGVkIGZvciBmcmVlaGFuZCB0b29scy5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L0FsZXJ0PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpIDogKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDw+PC8+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpIDogKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PD48Lz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpfVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7dG9vbFR5cGUgPT09ICdwb2x5Z29uJyB8fCB0b29sVHlwZSA9PT0gJ2ZyZWVwb2x5Z29uJyB8fCB0b29sVHlwZSA9PT0gJ2NpcmNsZScgPyAoXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxMYWJlbCBjZW50cmljPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PENoZWNrYm94XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nbXItMiBtdC0yIG1iLTIgbWwtNCdcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tlZD17YXJlYU9ufVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNoYW5nZT17KCkgPT4gc2V0QXJlYU9uKCFhcmVhT24pfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Lz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdEFyZWFcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L0xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxMYWJlbCBjZW50cmljPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PENoZWNrYm94XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nbXItMiBtdC0yIG1iLTIgbWwtNCdcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tlZD17cGVyaW1ldGVyT259XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXsoKSA9PiBzZXRQZXJpbWV0ZXJPbighcGVyaW1ldGVyT24pfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Lz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFBlcmltZXRlclxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvTGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3Rvb2xUeXBlID09PSAnY2lyY2xlJyA/IChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxMYWJlbCBjZW50cmljPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8Q2hlY2tib3hcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J21yLTIgbXQtMiBtYi0yIG1sLTQnXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tlZD17cmFkaXVzT259XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9eygpID0+IHNldFJhZGl1c09uKCFyYWRpdXNPbil9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFJhZGl1c1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9MYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpIDogKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PD48Lz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt0b29sVHlwZSA9PT0gJ3BvbHlnb24nIHx8IHRvb2xUeXBlID09PSAnZnJlZXBvbHlnb24nID8gKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PExhYmVsIGNlbnRyaWM+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxDaGVja2JveFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nbXItMiBtdC0yIG1iLTIgbWwtNCdcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGVja2VkPXtzZWdtZW50c09ufVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXsoKSA9PiBzZXRTZWdtZW50c09uKCFzZWdtZW50c09uKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Lz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0TGluZSBTZWdtZW50c1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9MYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpIDogKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PD48Lz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3NlZ21lbnRzT24gJiYgKHRvb2xUeXBlID09PSAncG9seWdvbicgfHwgdG9vbFR5cGUgPT09ICdmcmVlcG9seWdvbicpICYmIChcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIgdy0xMDAnPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PExhYmVsIGNlbnRyaWM+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxTd2l0Y2hcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J21yLTInXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tlZD17cm90YXRlU2VnbWVudHN9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9eygpID0+IHNldFJvdGF0ZVNlZ21lbnRzKCFyb3RhdGVTZWdtZW50cyl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFJvdGF0ZSBMaW5lIFNlZ21lbnQgTGFiZWxzXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L0xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8TGFiZWwgY2VudHJpYyBjbGFzc05hbWU9J2QtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHREZWNpbWFsIFBsYWNlczpcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8TnVtZXJpY0lucHV0XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J2RlY2ltYWxJbnB1dCBtbC0yJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2l6ZT0nc20nXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtYXg9ezEwfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWluPXswfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3RlcD17MX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlPXtvdGhlclJvdW5kfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9eyh2YWx1ZSkgPT4gc2V0T3RoZXJSb3VuZCh2YWx1ZSl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Lz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9MYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3Rvb2xUeXBlID09PSAnZnJlZXBvbHlnb24nID8gKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxBbGVydCBjbGFzc05hbWU9J3ctMTAwJz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdExpbmUgU2VnbWVudHMgbm90IHJlY29tbWVuZGVkIGZvciBmcmVlaGFuZCB0b29scy5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L0FsZXJ0PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpIDogKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDw+PC8+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpIDogKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PD48Lz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvQ29sbGFwc2FibGVDaGVja2JveD5cclxuXHRcdFx0XHRcdFx0XHQpIDogPD48Lz59XHJcblxyXG5cdFx0XHRcdFx0XHRcdHsvKiDirIfvuI8gRWRpdCBNZWFzdXJlbWVudCBMYWJlbHMgKi99XHJcblx0XHRcdFx0XHRcdFx0e3JlbmRlckVuaGFuY2VkTWVhc3VyZW1lbnRFZGl0aW5nQ29udHJvbHMoKX1cclxuXHRcdFx0XHRcdFx0PC8+XHJcblx0XHRcdFx0XHQpfVxyXG5cclxuXHRcdFx0XHRcdHsvKiBUb29sdGlwcyB0b2dnbGUgKi99XHJcblx0XHRcdFx0XHQ8Q29sbGFwc2FibGVDaGVja2JveFxyXG5cdFx0XHRcdFx0XHRjbGFzc05hbWU9J3ctMTAwJ1xyXG5cdFx0XHRcdFx0XHRjaGVja2VkPXt0b29sdGlwc31cclxuXHRcdFx0XHRcdFx0b25DaGVja2VkQ2hhbmdlPXsoKSA9PiBzZXRUb29sdGlwcyghdG9vbHRpcHMpfVxyXG5cdFx0XHRcdFx0XHRkaXNhYmxlQWN0aW9uRm9yVW5jaGVja2VkXHJcblx0XHRcdFx0XHRcdG9wZW5Gb3JDaGVja1xyXG5cdFx0XHRcdFx0XHRjbG9zZUZvclVuY2hlY2tcclxuXHRcdFx0XHRcdFx0bGFiZWw9e3Rvb2x0aXBzID8gJ0Rpc2FibGUgVG9vbHRpcHMnIDogJ0VuYWJsZSBUb29sdGlwcyd9XHJcblx0XHRcdFx0XHQ+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdtbC0zIG15LTEnPlxyXG5cdFx0XHRcdFx0XHRcdDx1bCBjbGFzc05hbWU9J3RleHQtZGFyayBtLTAgcGwtMyBzbWFsbCc+XHJcblx0XHRcdFx0XHRcdFx0XHQ8bGk+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFByZXNzIDxzdHJvbmc+VGFiPC9zdHJvbmc+IHRvIG1hbnVhbGx5IGVudGVyIHZhbHVlcy5cclxuXHRcdFx0XHRcdFx0XHRcdDwvbGk+XHJcblx0XHRcdFx0XHRcdFx0PC91bD5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8L0NvbGxhcHNhYmxlQ2hlY2tib3g+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0PC9kaXY+XHJcblx0KTtcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1lYXN1cmUiLCJpbXBvcnQgeyBUaGVtZVZhcmlhYmxlcywgY3NzLCBTZXJpYWxpemVkU3R5bGVzIH0gZnJvbSAnamltdS1jb3JlJztcclxuaW1wb3J0IHsgSU1Db25maWcgfSBmcm9tICcuLi8uLi9jb25maWcnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0eWxlKHRoZW1lOiBUaGVtZVZhcmlhYmxlcywgd2lkZ2V0Q29uZmlnOiBJTUNvbmZpZyk6IFNlcmlhbGl6ZWRTdHlsZXMge1xyXG5cclxuICByZXR1cm4gY3NzYFxyXG4gIC5kcmF3VG9vbGJhckRpdiB7XHJcbiAgICBtYXJnaW46IDhweDtcclxuICB9XHJcblxyXG4gIC5kcmF3VG9vbGJhckJvdHRvbURpdiB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBwYWRkaW5nLXRvcDogMTJweDtcclxuICB9XHJcblxyXG4gIC5kcmF3VG9vbGJhckRpdiBidXR0b24sXHJcbiAgLmRyYXdUb29sYmFyQm90dG9tRGl2IGJ1dHRvbiB7XHJcbiAgICBtYXJnaW46IDRweDtcclxuICB9XHJcblxyXG4gIC5kcmF3VG9vbGJhckRpdj5idXR0b24+SW1nLmppbXUtaWNvbixcclxuICAuZHJhd1Rvb2xiYXJCb3R0b21EaXY+YnV0dG9uPkltZy5qaW11LWljb24ge1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gIH1cclxuXHJcbiAgLmppbXUtYnRuLmJ0bi5idG4tZGVmYXVsdC5idG4tc20uYWN0aXZlIGltZyxcclxuICAuamltdS1idG4uYnRuLmJ0bi1wcmltYXJ5LmJ0bi1zbSBpbWcge1xyXG4gICAgZmlsdGVyOiBpbnZlcnQoMSk7XHJcbiAgfVxyXG4gIC5qaW11LWRyYXctc3ltYm9sLWRpdmlkZS1saW5lIHtcclxuICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkIHJnYigxODIsIDE4MiwgMTgyKTtcclxuICAgIGhlaWdodDogMjZweDtcclxuICB9XHJcbiAgLmNvbG9yLXByZXNlbnRlciB7XHJcbiAgICBpbnNldDogMnB4O1xyXG4gIH1cclxuXHJcbiAgLnN5bWJvbC13YXBwZXIub3V0ZXItcHJldmlldy1idG4ge1xyXG4gICAgaGVpZ2h0OiAyNnB4O1xyXG4gICAgd2lkdGg6IDI2cHg7XHJcbiAgfVxyXG4gIGBcclxufSIsImV4cG9ydCBkZWZhdWx0IHtcclxuICBfd2lkZ2V0TGFiZWw6ICdEcmF3JyxcclxuICBkcmF3UG9pbnQ6ICdEcmF3IHBvaW50JyxcclxuICBkcmF3TGluZTogJ0RyYXcgcG9seWxpbmUnLFxyXG4gIGRyYXdGcmVlTGluZTogJ0RyYXcgZnJlZWhhbmQgcG9seWxpbmUnLFxyXG4gIGRyYXdSZWN0YW5nbGU6ICdEcmF3IHJlY3RhbmdsZScsXHJcbiAgZHJhd1BvbHlnb246ICdEcmF3IHBvbHlnb24nLFxyXG4gIGRyYXdGcmVlUG9seWdvbjogJ0RyYXcgZnJlZWhhbmQgcG9seWdvbicsXHJcbiAgZHJhd1VuZG86ICdVbmRvJyxcclxuICBkcmF3UmVkbzogJ1JlZG8nLFxyXG4gIGRyYXdDbGVhcjogJ0NsZWFyIGFsbCBncmFwaGljcycsXHJcbiAgZHJhd0NsZWFyU2VsZWN0ZWQ6ICdDbGVhciBzZWxlY3RlZCBncmFwaGljJyxcclxuICBkcmF3Q2lyY2xlOiAnRHJhdyBjaXJjbGUnLFxyXG4gIGRyYXdUZXh0OiAnRHJhdyB0ZXh0JyxcclxuICBwcmV2aWV3OiAnUHJldmlldycsXHJcbiAgZm9udENvbG9yOiAnRm9udCBjb2xvcicsXHJcbiAgZm9udFNpemU6ICdGb250IHNpemUnLFxyXG4gIGZvbnRIYWxvU2l6ZTogJ0ZvbnQgaGFsbyBzaXplJyxcclxuICBmb250SGFsb0NvbG9yOiAnRm9udCBoYWxvIGNvbG9yJyxcclxuICBlbmFibGVGb250SGFsbzogJ0VuYWJsZSBmb250IGhhbG8nLFxyXG4gIGZvbnRIYWxvOiAnRm9udCBoYWxvJyxcclxuICBmb250Um90YXRpb246ICdGb250IGFuZ2xlJyxcclxuICBmb250VkFiYXNlOiAnRm9udCB2ZXJ0aWNhbCBhbGlnbiBiYXNlbGluZScsXHJcbiAgZm9udFZBdG9wOiAnRm9udCB2ZXJ0aWNhbCBhbGlnbiB0b3AnLFxyXG4gIGZvbnRWQWJvdHRvbTogJ0ZvbnQgdmVydGljYWwgYWxpZ24gYm90dG9tJyxcclxuICBmb250VkFtaWQ6ICdGb250IHZlcnRpY2FsIGFsaWduIG1pZGRsZScsXHJcbiAgZm9udEJvbGQ6ICdCb2xkJyxcclxuICBmb250SXRhbGljOiAnSXRhbGljJywgXHJcbiAgZm9udFVuZGVybGluZTogJ1VuZGVybGluZScsXHJcbiAgZm9udEhBbGVmdDogJ0ZvbnQgaG9yaXpvbnRhbCBhbGlnbiBsZWZ0JyxcclxuICBmb250SEFjZW50ZXI6ICdGb250IGhvcml6b250YWwgYWxpZ24gY2VudGVyJyxcclxuICAgIGZvbnRIQXJpZ2h0OiAnRm9udCBob3Jpem9udGFsIGFsaWduIHJpZ2h0JyxcclxuICAgIGtpbG9tZXRlcnM6ICdLaWxvbWV0ZXJzJyxcclxuICAgIG1pbGVzOiAnTWlsZXMnLFxyXG4gICAgbWV0ZXJzOiAnTWV0ZXJzJyxcclxuICAgIG5hdXRpY2FsczogJ05hdXRpY2FsIE1pbGVzJyxcclxuICAgIGZlZXQ6ICdGZWV0JyxcclxuICAgIHlhcmRzOiAnWWFyZHMnLFxyXG4gICAgc3F1YXJlS2lsb21ldGVyczogJ1NxdWFyZSBLaWxvbWV0ZXJzJyxcclxuICAgIHNxdWFyZU1pbGVzOiAnU3F1YXJlIE1pbGVzJyxcclxuICAgIGFjcmVzOiAnQWNyZXMnLFxyXG4gICAgaGVjdGFyZXM6ICdIZWN0YXJlcycsXHJcbiAgICBzcXVhcmVNZXRlcnM6ICdTcXVhcmUgTWV0ZXJzJyxcclxuICAgIHNxdWFyZUZlZXQ6ICdTcXVhcmUgRmVldCcsXHJcbiAgc3F1YXJlWWFyZHM6ICdTcXVhcmUgWWFyZHMnXHJcbn0iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLnVzZVsxXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVzb2x2ZS11cmwtbG9hZGVyL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLnVzZVsyXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbM10udXNlWzNdIS4vd2lkZ2V0LmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xub3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1szXS51c2VbMV0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Jlc29sdmUtdXJsLWxvYWRlci9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1szXS51c2VbMl0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLnVzZVszXSEuL3dpZGdldC5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfX2FyY2dpc19jb3JlX0NvbG9yX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX19lbW90aW9uX3JlYWN0X2pzeF9ydW50aW1lX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2VzcmlfR3JhcGhpY19fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9lc3JpX2NvcmVfQ29sbGVjdGlvbl9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9lc3JpX2dlb21ldHJ5X1BvaW50X187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2VzcmlfZ2VvbWV0cnlfUG9seWxpbmVfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfZXNyaV9nZW9tZXRyeV9TcGF0aWFsUmVmZXJlbmNlX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2VzcmlfZ2VvbWV0cnlfZ2VvbWV0cnlFbmdpbmVBc3luY19fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9lc3JpX2dlb21ldHJ5X29wZXJhdG9yc19hcmVhT3BlcmF0b3JfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfZXNyaV9nZW9tZXRyeV9vcGVyYXRvcnNfZ2VvZGV0aWNBcmVhT3BlcmF0b3JfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfZXNyaV9nZW9tZXRyeV9vcGVyYXRvcnNfZ2VvZGV0aWNMZW5ndGhPcGVyYXRvcl9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9lc3JpX2dlb21ldHJ5X29wZXJhdG9yc19sZW5ndGhPcGVyYXRvcl9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9lc3JpX2dlb21ldHJ5X29wZXJhdG9yc19wcm9qZWN0T3BlcmF0b3JfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfZXNyaV9nZW9tZXRyeV9wcm9qZWN0aW9uX187IiwiaWYodHlwZW9mIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfZXNyaV9nZW9tZXRyeV9zdXBwb3J0X3dlYk1lcmNhdG9yVXRpbHNfXyA9PT0gJ3VuZGVmaW5lZCcpIHsgdmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ2VzcmkvZ2VvbWV0cnkvc3VwcG9ydC93ZWJNZXJjYXRvclV0aWxzJ1wiKTsgZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnOyB0aHJvdyBlOyB9XG5cbm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9lc3JpX2dlb21ldHJ5X3N1cHBvcnRfd2ViTWVyY2F0b3JVdGlsc19fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9lc3JpX2xheWVyc19GZWF0dXJlTGF5ZXJfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfZXNyaV9sYXllcnNfR3JhcGhpY3NMYXllcl9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9lc3JpX3N5bWJvbHNfRm9udF9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9lc3JpX3N5bWJvbHNfU2ltcGxlRmlsbFN5bWJvbF9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9lc3JpX3N5bWJvbHNfU2ltcGxlTGluZVN5bWJvbF9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9lc3JpX3N5bWJvbHNfU2ltcGxlTWFya2VyU3ltYm9sX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2Vzcmlfc3ltYm9sc19UZXh0U3ltYm9sX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2Vzcmlfdmlld3NfaW50ZXJhY3RpdmVfc25hcHBpbmdfRmVhdHVyZVNuYXBwaW5nTGF5ZXJTb3VyY2VfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfZXNyaV93aWRnZXRzX1NrZXRjaF9Ta2V0Y2hWaWV3TW9kZWxfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9hcmNnaXNfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9jb3JlX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfdWlfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV91aV9hZHZhbmNlZF9tYXBfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV91aV9hZHZhbmNlZF9zZXR0aW5nX2NvbXBvbmVudHNfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV91aV9hZHZhbmNlZF9zdHlsZV9zZXR0aW5nX2NvbXBvbmVudHNfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV91aV9iYXNpY19jb2xvcl9waWNrZXJfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfcmVhY3RfXzsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsIi8qKlxyXG4gKiBXZWJwYWNrIHdpbGwgcmVwbGFjZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB3aXRoIF9fd2VicGFja19yZXF1aXJlX18ucCB0byBzZXQgdGhlIHB1YmxpYyBwYXRoIGR5bmFtaWNhbGx5LlxyXG4gKiBUaGUgcmVhc29uIHdoeSB3ZSBjYW4ndCBzZXQgdGhlIHB1YmxpY1BhdGggaW4gd2VicGFjayBjb25maWcgaXM6IHdlIGNoYW5nZSB0aGUgcHVibGljUGF0aCB3aGVuIGRvd25sb2FkLlxyXG4gKiAqL1xyXG5fX3dlYnBhY2tfcHVibGljX3BhdGhfXyA9IHdpbmRvdy5qaW11Q29uZmlnLmJhc2VVcmxcclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7IFJlYWN0LCBBbGxXaWRnZXRQcm9wcywganN4LCBXaWRnZXRTdGF0ZSB9IGZyb20gJ2ppbXUtY29yZSc7XHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgSU1Db25maWcsIERyYXdNb2RlIH0gZnJvbSAnLi4vY29uZmlnJztcclxuaW1wb3J0IHtcclxuXHRJY29uLCBCdXR0b24sIFRleHRJbnB1dCwgTnVtZXJpY0lucHV0LCBTd2l0Y2gsIFRleHRBbGlnblZhbHVlLCBQb3BwZXIsIENoZWNrYm94LFxyXG5cdFNsaWRlciwgTGFiZWwsIGRlZmF1bHRNZXNzYWdlcywgQWR2YW5jZWRCdXR0b25Hcm91cCwgU2VsZWN0LCBPcHRpb24sIENvbGxhcHNhYmxlUGFuZWxcclxufSBmcm9tICdqaW11LXVpJztcclxuaW1wb3J0IHsgVHJhc2hPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL3RyYXNoJztcclxuaW1wb3J0IHsgQXJyb3dSZWRvT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2RpcmVjdGlvbmFsL2Fycm93LXJlZG8nO1xyXG5pbXBvcnQgeyBBcnJvd1VuZG9PdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvYXJyb3ctdW5kbyc7XHJcbmltcG9ydCB7IFdyb25nT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL3N1Z2dlc3RlZC93cm9uZyc7XHJcbmltcG9ydCB7IENsb3NlT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2VkaXRvci9jbG9zZSc7XHJcbmltcG9ydCBTZXR0aW5nT3V0bGluZWQgZnJvbSAnamltdS1pY29ucy9zdmcvb3V0bGluZWQvYXBwbGljYXRpb24vc2V0dGluZy5zdmcnXHJcbmltcG9ydCB7IEppbXVNYXBWaWV3LCBKaW11TWFwVmlld0NvbXBvbmVudCB9IGZyb20gJ2ppbXUtYXJjZ2lzJztcclxuaW1wb3J0IHsgZ2V0U3R5bGUgfSBmcm9tICcuL2xpYi9zdHlsZSc7XHJcbmltcG9ydCBkZWZNZXNzYWdlcyBmcm9tICcuL3RyYW5zbGF0aW9ucy9kZWZhdWx0JztcclxuaW1wb3J0IFNrZXRjaFZpZXdNb2RlbCBmcm9tICdlc3JpL3dpZGdldHMvU2tldGNoL1NrZXRjaFZpZXdNb2RlbCc7XHJcbmltcG9ydCB7IFN5bWJvbFNlbGVjdG9yLCBKaW11U3ltYm9sVHlwZSB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvbWFwJztcclxuaW1wb3J0IHsgSW5wdXRVbml0IH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zdHlsZS1zZXR0aW5nLWNvbXBvbmVudHMnO1xyXG5pbXBvcnQgeyBDb2xvclBpY2tlciB9IGZyb20gJ2ppbXUtdWkvYmFzaWMvY29sb3ItcGlja2VyJztcclxuaW1wb3J0IENvbG9yIGZyb20gJ0BhcmNnaXMvY29yZS9Db2xvcic7XHJcbmltcG9ydCBHcmFwaGljc0xheWVyIGZyb20gJ2VzcmkvbGF5ZXJzL0dyYXBoaWNzTGF5ZXInO1xyXG5pbXBvcnQgR3JhcGhpYyBmcm9tICdlc3JpL0dyYXBoaWMnO1xyXG5pbXBvcnQgVGV4dFN5bWJvbCBmcm9tICdlc3JpL3N5bWJvbHMvVGV4dFN5bWJvbCc7XHJcbmltcG9ydCBoQWxpZ25MZWZ0IGZyb20gJ2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci90ZXh0LWxlZnQuc3ZnJztcclxuaW1wb3J0IGhBbGlnbkNlbnRlciBmcm9tICdqaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvdGV4dC1jZW50ZXIuc3ZnJztcclxuaW1wb3J0IGhBbGlnblJpZ2h0IGZyb20gJ2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci90ZXh0LXJpZ2h0LnN2Zyc7XHJcbmltcG9ydCBlc3JpQ29sb3IgZnJvbSAnZXNyaS9Db2xvcic7XHJcbmltcG9ydCAnLi93aWRnZXQuY3NzJztcclxuaW1wb3J0IE1lYXN1cmUgZnJvbSAnLi9jb21wb25lbnRzL21lYXN1cmUnO1xyXG5pbXBvcnQgeyBNeURyYXdpbmdzUGFuZWwgfSBmcm9tICcuL2NvbXBvbmVudHMvTXlEcmF3aW5nc1BhbmVsJztcclxuaW1wb3J0IHsgU25hcHBpbmdDb250cm9scyB9IGZyb20gJy4vY29tcG9uZW50cy9TbmFwcGluZ0NvbnRyb2xzJztcclxuaW1wb3J0IHsgQnVmZmVyQ29udHJvbHMgfSBmcm9tICcuL2NvbXBvbmVudHMvQnVmZmVyQ29udHJvbHMnO1xyXG5pbXBvcnQgeyBUYWJzLCBUYWIgfSBmcm9tICdqaW11LXVpJztcclxuaW1wb3J0IFNpbXBsZUxpbmVTeW1ib2wgZnJvbSAnZXNyaS9zeW1ib2xzL1NpbXBsZUxpbmVTeW1ib2wnO1xyXG5pbXBvcnQgU2ltcGxlRmlsbFN5bWJvbCBmcm9tICdlc3JpL3N5bWJvbHMvU2ltcGxlRmlsbFN5bWJvbCc7XHJcbmltcG9ydCBTaW1wbGVNYXJrZXJTeW1ib2wgZnJvbSAnZXNyaS9zeW1ib2xzL1NpbXBsZU1hcmtlclN5bWJvbCc7XHJcblxyXG5jb25zdCBwaW5JY29uID0gcmVxdWlyZSgnLi9hc3NldHMvcGluLnN2ZycpO1xyXG5jb25zdCBjdXJ2ZUljb24gPSByZXF1aXJlKCcuL2Fzc2V0cy9jdXJ2ZS5zdmcnKTtcclxuY29uc3QgbGluZUljb24gPSByZXF1aXJlKCcuL2Fzc2V0cy9wb2x5Z29uYWwuc3ZnJyk7XHJcbmNvbnN0IHJlY3RJY29uID0gcmVxdWlyZSgnLi9hc3NldHMvcmVjdGFuZ2xlLnN2ZycpO1xyXG5jb25zdCBwb2x5SWNvbiA9IHJlcXVpcmUoJy4vYXNzZXRzL3BvbHlnb24uc3ZnJyk7XHJcbmNvbnN0IGZyZWVQb2x5SWNvbiA9IHJlcXVpcmUoJy4vYXNzZXRzL2lycmVndWxhci5zdmcnKTtcclxuY29uc3QgY2lyY2xlSWNvbiA9IHJlcXVpcmUoJy4vYXNzZXRzL2NpcmNsZS5zdmcnKTtcclxuY29uc3QgdGV4dEljb24gPSByZXF1aXJlKCcuL2Fzc2V0cy90ZXh0LnN2ZycpO1xyXG5jb25zdCB2QWxpZ25Ub3AgPSByZXF1aXJlKCcuL2Fzc2V0cy90ZXh0LWFsaWduLXYtdC5zdmcnKTtcclxuY29uc3QgdkFsaWduQm90ID0gcmVxdWlyZSgnLi9hc3NldHMvdGV4dC1hbGlnbi12LWIuc3ZnJyk7XHJcbmNvbnN0IHZBbGlnbk1pZCA9IHJlcXVpcmUoJy4vYXNzZXRzL3RleHQtYWxpZ24tdi1tLnN2ZycpO1xyXG5jb25zdCB2QWxpZ25CYXNlID0gcmVxdWlyZSgnLi9hc3NldHMvdGV4dC1hbGlnbi12LWJhc2Uuc3ZnJyk7XHJcbmNvbnN0IGZzQm9sZEljb24gPSByZXF1aXJlKCcuL2Fzc2V0cy9ib2xkLnN2ZycpO1xyXG5jb25zdCBmSXRhbGljSWNvbiA9IHJlcXVpcmUoJy4vYXNzZXRzL2l0YWxpYy5zdmcnKTtcclxuY29uc3QgZlVuZGVybGluZUljb24gPSByZXF1aXJlKCcuL2Fzc2V0cy91bmRlcmxpbmUuc3ZnJyk7XHJcblxyXG5pbnRlcmZhY2UgU3RhdGVzIHtcclxuXHRjdXJyZW50SmltdU1hcFZpZXc6IEppbXVNYXBWaWV3O1xyXG5cdGdyYXBoaWNzPzogYW55W107XHJcblx0cG9pbnRCdG5BY3RpdmU6IGJvb2xlYW47XHJcblx0bGluZUJ0bkFjdGl2ZTogYm9vbGVhbjtcclxuXHRmbGluZUJ0bkFjdGl2ZTogYm9vbGVhbjtcclxuXHRyZWN0QnRuQWN0aXZlOiBib29sZWFuO1xyXG5cdHBvbHlnb25CdG5BY3RpdmU6IGJvb2xlYW47XHJcblx0ZnBvbHlnb25CdG5BY3RpdmU6IGJvb2xlYW47XHJcblx0Y2lyY2xlQnRuQWN0aXZlOiBib29sZWFuO1xyXG5cdHVuZG9CdG5BY3RpdmU6IGJvb2xlYW47XHJcblx0cmVkb0J0bkFjdGl2ZTogYm9vbGVhbjtcclxuXHRjbGVhckJ0bkFjdGl2ZTogYm9vbGVhbjtcclxuXHR0ZXh0QnRuQWN0aXZlOiBib29sZWFuO1xyXG5cdHNob3dTeW1QcmV2aWV3OiBib29sZWFuO1xyXG5cdHNob3dUZXh0UHJldmlldzogYm9vbGVhbjtcclxuXHRjdXJyZW50U3ltYm9sOiBhbnk7XHJcblx0Y3VycmVudFN5bWJvbFR5cGU6IEppbXVTeW1ib2xUeXBlO1xyXG5cdGN1cnJlbnRUZXh0U3ltYm9sOiBUZXh0U3ltYm9sO1xyXG5cdGRyYXdHTExlbmd0aGNoZWNrOiBib29sZWFuO1xyXG5cdGN1cnJlbnRUb29sOiAncG9pbnQnIHwgJ3BvbHlsaW5lJyB8ICdmcmVlcG9seWxpbmUnIHwgJ2V4dGVudCcgfCAncG9seWdvbicgfCAnY2lyY2xlJyB8ICdmcmVlcG9seWdvbicgfCAndGV4dCcgfCAnJztcclxuXHRjbGVhckJ0blRpdGxlOiBzdHJpbmc7XHJcblx0Y2FuVW5kbzogYm9vbGVhbjtcclxuXHRjYW5SZWRvOiBib29sZWFuO1xyXG5cdHRleHRTeW1QcmV2aWV3VGV4dDogc3RyaW5nO1xyXG5cdGZvbnRDb2xvcjogc3RyaW5nO1xyXG5cdGZvbnRTaXplOiBzdHJpbmc7XHJcblx0Zm9udEhhbG9TaXplOiBudW1iZXI7XHJcblx0Zm9udEhhbG9Db2xvcjogc3RyaW5nO1xyXG5cdGZvbnRIYWxvRW5hYmxlZDogYm9vbGVhbjtcclxuXHRmb250SGFsbzogc3RyaW5nO1xyXG5cdGZvbnRXZWlnaHQ6IHN0cmluZztcclxuXHRmb250RGVjb3JhdGlvbjogc3RyaW5nO1xyXG5cdGZvbnRTdHlsZTogc3RyaW5nO1xyXG5cdGhUZXh0QWxpZ246IFRleHRBbGlnblZhbHVlO1xyXG5cdHZUZXh0QWxpZ246ICdiYXNlbGluZScgfCAndG9wJyB8ICdtaWRkbGUnIHwgJ2JvdHRvbSc7XHJcblx0Zm9udFJvdGF0aW9uOiBudW1iZXI7XHJcblx0dkFsaWduQmFzZUJ0bkFjdGl2ZTogYm9vbGVhbjtcclxuXHR2QWxpZ25Ub3BCdG5BY3RpdmU6IGJvb2xlYW47XHJcblx0dkFsaWduTWlkQnRuQWN0aXZlOiBib29sZWFuO1xyXG5cdHZBbGlnbkJvdEJ0bkFjdGl2ZTogYm9vbGVhbjtcclxuXHR0ZXh0UHJldmlld0hlaWdodDogbnVtYmVyO1xyXG5cdGhBbGlnbkxlZnRCdG5BY3RpdmU6IGJvb2xlYW47XHJcblx0aEFsaWduQ2VudGVyQnRuQWN0aXZlOiBib29sZWFuO1xyXG5cdGhBbGlnblJpZ2h0QnRuQWN0aXZlOiBib29sZWFuO1xyXG5cdGZzQm9sZEJ0bkFjdGl2ZTogYm9vbGVhbjtcclxuXHRmc0l0YWxpY0J0bkFjdGl2ZTogYm9vbGVhbjtcclxuXHRmc1VuZGVybGluZUJ0bkFjdGl2ZTogYm9vbGVhbjtcclxuXHR3aWRnZXRJbml0OiBib29sZWFuO1xyXG5cdHRleHRQcmV2aWV3aXNPcGVuOiBib29sZWFuO1xyXG5cdGZvbnRPcGFjaXR5OiBudW1iZXI7XHJcblx0Zm9udEhhbG9PcGFjaXR5OiBudW1iZXI7XHJcblx0dGV4dEhhc0NoYW5nZWQ6IGJvb2xlYW47XHJcblx0cm90YXRpb25Nb2RlOiBib29sZWFuO1xyXG5cdGRyYXdMYXllclRpdGxlOiBzdHJpbmc7XHJcblx0bGlzdE1vZGU6IHN0cmluZztcclxuXHRjb25maXJtRGVsZXRlOiBib29sZWFuO1xyXG5cdGZvbnRCYWNrZ3JvdW5kQ29sb3I6IHN0cmluZyB8IG51bGwgfCBlc3JpQ29sb3I7XHJcblx0c2hvd0RyYXdpbmdzUGFuZWw6IGJvb2xlYW47IC8vIEFkZGVkIEJNXHJcblx0c2VsZWN0ZWREcmF3aW5nSW5kZXg6IG51bWJlciB8IG51bGw7IC8vIEFkZGVkIEJNXHJcblx0YWN0aXZlVGFiOiAnZHJhdycgfCAnbXlkcmF3aW5ncyc7IC8vIEFkZGVkIEJNXHJcblx0c2VsZWN0ZWRHcmFwaGljSW5kZXg6IG51bWJlciB8IG51bGw7XHJcblx0c2VsZWN0ZWRHcmFwaGljczogU2V0PG51bWJlcj47XHJcblx0YXJyb3dFbmFibGVkOiBib29sZWFuO1xyXG5cdGFycm93UG9zaXRpb246ICdzdGFydCcgfCAnZW5kJyB8ICdib3RoJztcclxuXHRhcnJvd1NpemU6IG51bWJlcjtcclxuXHRtZWFzdXJlbWVudENoZWNrYm94T246IGJvb2xlYW47XHJcbn1cclxuaW50ZXJmYWNlIFNjcm9sbEluZGljYXRvclByb3BzIHtcclxuXHRjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xyXG5cdGNsYXNzTmFtZT86IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIEV4dGVuZGVkR3JhcGhpYyBleHRlbmRzIF9fZXNyaS5HcmFwaGljIHtcclxuXHRtZWFzdXJlPzoge1xyXG5cdFx0Z3JhcGhpYzogRXh0ZW5kZWRHcmFwaGljO1xyXG5cdFx0YXJlYVVuaXQ/OiBzdHJpbmc7XHJcblx0XHRsZW5ndGhVbml0Pzogc3RyaW5nO1xyXG5cdH07XHJcblx0bWVhc3VyZVBhcmVudD86IEV4dGVuZGVkR3JhcGhpYztcclxuXHRjaGVja2VkPzogYm9vbGVhbjtcclxuXHRvcmlnaW5hbFN5bWJvbD86IGFueTtcclxuXHRpc0J1ZmZlckRyYXdpbmc/OiBib29sZWFuO1xyXG5cdHNvdXJjZUdyYXBoaWNJZD86IHN0cmluZztcclxuXHRidWZmZXJHcmFwaGljPzogRXh0ZW5kZWRHcmFwaGljO1xyXG5cdF9zZWxlY3Rpb25PdmVybGF5PzogX19lc3JpLkdyYXBoaWMgfCBudWxsO1xyXG5cdGJ1ZmZlclNldHRpbmdzPzoge1xyXG5cdFx0ZGlzdGFuY2U6IG51bWJlcjtcclxuXHRcdHVuaXQ6IHN0cmluZztcclxuXHRcdGVuYWJsZWQ6IGJvb2xlYW47XHJcblx0XHRvcGFjaXR5PzogbnVtYmVyO1xyXG5cdH07XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBTY3JvbGxhYmxlQ29udGFpbmVyOiBSZWFjdC5GQzxTY3JvbGxJbmRpY2F0b3JQcm9wcz4gPSAoe1xyXG5cdGNoaWxkcmVuLFxyXG5cdGNsYXNzTmFtZSA9ICcnXHJcbn0pID0+IHtcclxuXHRjb25zdCBjb250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xyXG5cdGNvbnN0IFtzaG93VG9wU2hhZG93LCBzZXRTaG93VG9wU2hhZG93XSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHRjb25zdCBbc2hvd0JvdHRvbVNoYWRvdywgc2V0U2hvd0JvdHRvbVNoYWRvd10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG5cdGNvbnN0IGNoZWNrU2Nyb2xsID0gKCkgPT4ge1xyXG5cdFx0aWYgKCFjb250YWluZXJSZWYuY3VycmVudCkgcmV0dXJuO1xyXG5cclxuXHRcdGNvbnN0IHsgc2Nyb2xsVG9wLCBzY3JvbGxIZWlnaHQsIGNsaWVudEhlaWdodCB9ID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XHJcblxyXG5cdFx0Ly8gU2hvdyB0b3Agc2hhZG93IGlmIHNjcm9sbGVkIGRvd25cclxuXHRcdHNldFNob3dUb3BTaGFkb3coc2Nyb2xsVG9wID4gMTApO1xyXG5cclxuXHRcdC8vIFNob3cgYm90dG9tIHNoYWRvdyBpZiB0aGVyZSdzIG1vcmUgY29udGVudCBiZWxvd1xyXG5cdFx0c2V0U2hvd0JvdHRvbVNoYWRvdyhzY3JvbGxUb3AgKyBjbGllbnRIZWlnaHQgPCBzY3JvbGxIZWlnaHQgLSAxMCk7XHJcblx0fTtcclxuXHJcblx0dXNlRWZmZWN0KCgpID0+IHtcclxuXHRcdGNvbnN0IGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xyXG5cdFx0aWYgKCFjb250YWluZXIpIHJldHVybjtcclxuXHJcblx0XHQvLyBJbml0aWFsIGNoZWNrXHJcblx0XHRjaGVja1Njcm9sbCgpO1xyXG5cclxuXHRcdC8vIEFkZCBzY3JvbGwgbGlzdGVuZXJcclxuXHRcdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBjaGVja1Njcm9sbCk7XHJcblxyXG5cdFx0Ly8gQWRkIHJlc2l6ZSBvYnNlcnZlciB0byBoYW5kbGUgZHluYW1pYyBjb250ZW50IGNoYW5nZXNcclxuXHRcdGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHtcclxuXHRcdFx0c2V0VGltZW91dChjaGVja1Njcm9sbCwgMTAwKTsgLy8gRGVsYXkgdG8gYWxsb3cgY29udGVudCB0byBzZXR0bGVcclxuXHRcdH0pO1xyXG5cclxuXHRcdHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoY29udGFpbmVyKTtcclxuXHJcblx0XHRyZXR1cm4gKCkgPT4ge1xyXG5cdFx0XHRjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgY2hlY2tTY3JvbGwpO1xyXG5cdFx0XHRyZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcblx0XHR9O1xyXG5cdH0sIFtdKTtcclxuXHJcblx0cmV0dXJuIChcclxuXHRcdDxkaXYgY2xhc3NOYW1lPVwic2Nyb2xsYWJsZS1jb250YWluZXItd3JhcHBlclwiPlxyXG5cdFx0XHR7LyogVG9wIHNjcm9sbCBpbmRpY2F0b3IgKi99XHJcblx0XHRcdDxkaXZcclxuXHRcdFx0XHRjbGFzc05hbWU9e2BzY3JvbGwtc2hhZG93IHNjcm9sbC1zaGFkb3ctdG9wICR7c2hvd1RvcFNoYWRvdyA/ICd2aXNpYmxlJyA6ICcnfWB9XHJcblx0XHRcdFx0c3R5bGU9e3tcclxuXHRcdFx0XHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG5cdFx0XHRcdFx0dG9wOiAwLFxyXG5cdFx0XHRcdFx0bGVmdDogMCxcclxuXHRcdFx0XHRcdHJpZ2h0OiAwLFxyXG5cdFx0XHRcdFx0aGVpZ2h0OiAnOHB4JyxcclxuXHRcdFx0XHRcdGJhY2tncm91bmQ6ICdsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCByZ2JhKDAsMCwwLDAuMSksIHRyYW5zcGFyZW50KScsXHJcblx0XHRcdFx0XHRwb2ludGVyRXZlbnRzOiAnbm9uZScsXHJcblx0XHRcdFx0XHR6SW5kZXg6IDUsXHJcblx0XHRcdFx0XHRvcGFjaXR5OiBzaG93VG9wU2hhZG93ID8gMSA6IDAsXHJcblx0XHRcdFx0XHR0cmFuc2l0aW9uOiAnb3BhY2l0eSAwLjNzIGVhc2UnXHJcblx0XHRcdFx0fX1cclxuXHRcdFx0Lz5cclxuXHJcblx0XHRcdHsvKiBTY3JvbGxhYmxlIGNvbnRlbnQgKi99XHJcblx0XHRcdDxkaXZcclxuXHRcdFx0XHRyZWY9e2NvbnRhaW5lclJlZn1cclxuXHRcdFx0XHRjbGFzc05hbWU9e2B0YWItY29udGVudCAke2NsYXNzTmFtZX1gfVxyXG5cdFx0XHRcdHN0eWxlPXt7XHJcblx0XHRcdFx0XHRmbGV4OiAxLFxyXG5cdFx0XHRcdFx0b3ZlcmZsb3dZOiAnYXV0bycsXHJcblx0XHRcdFx0XHRvdmVyZmxvd1g6ICdoaWRkZW4nLFxyXG5cdFx0XHRcdFx0bWluSGVpZ2h0OiAwLFxyXG5cdFx0XHRcdFx0cG9zaXRpb246ICdyZWxhdGl2ZSdcclxuXHRcdFx0XHR9fVxyXG5cdFx0XHQ+XHJcblx0XHRcdFx0e2NoaWxkcmVufVxyXG5cdFx0XHQ8L2Rpdj5cclxuXHJcblx0XHRcdHsvKiBCb3R0b20gc2Nyb2xsIGluZGljYXRvciAqL31cclxuXHRcdFx0PGRpdlxyXG5cdFx0XHRcdGNsYXNzTmFtZT17YHNjcm9sbC1zaGFkb3cgc2Nyb2xsLXNoYWRvdy1ib3R0b20gJHtzaG93Qm90dG9tU2hhZG93ID8gJ3Zpc2libGUnIDogJyd9YH1cclxuXHRcdFx0XHRzdHlsZT17e1xyXG5cdFx0XHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXHJcblx0XHRcdFx0XHRib3R0b206IDAsXHJcblx0XHRcdFx0XHRsZWZ0OiAwLFxyXG5cdFx0XHRcdFx0cmlnaHQ6IDAsXHJcblx0XHRcdFx0XHRoZWlnaHQ6ICc4cHgnLFxyXG5cdFx0XHRcdFx0YmFja2dyb3VuZDogJ2xpbmVhci1ncmFkaWVudCh0byB0b3AsIHJnYmEoMCwwLDAsMC4xKSwgdHJhbnNwYXJlbnQpJyxcclxuXHRcdFx0XHRcdHBvaW50ZXJFdmVudHM6ICdub25lJyxcclxuXHRcdFx0XHRcdHpJbmRleDogNSxcclxuXHRcdFx0XHRcdG9wYWNpdHk6IHNob3dCb3R0b21TaGFkb3cgPyAxIDogMCxcclxuXHRcdFx0XHRcdHRyYW5zaXRpb246ICdvcGFjaXR5IDAuM3MgZWFzZSdcclxuXHRcdFx0XHR9fVxyXG5cdFx0XHQvPlxyXG5cdFx0PC9kaXY+XHJcblx0KTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdpZGdldCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8QWxsV2lkZ2V0UHJvcHM8SU1Db25maWc+LCBTdGF0ZXM+IHtcclxuXHR0ZXh0UHJldmlld1NwYW46IFJlYWN0LlJlZk9iamVjdDxIVE1MU3BhbkVsZW1lbnQ+ID0gUmVhY3QuY3JlYXRlUmVmKCk7XHJcblx0c2tldGNoVmlld01vZGVsOiBTa2V0Y2hWaWV3TW9kZWw7XHJcblx0ZHJhd0xheWVyOiBHcmFwaGljc0xheWVyID0gbnVsbDtcclxuXHRHcmFwaGljOiB0eXBlb2YgX19lc3JpLkdyYXBoaWMgPSBudWxsO1xyXG5cdGNyZWF0aW9uTW9kZTogRHJhd01vZGU7XHJcblx0Y3VycmVudFN5bWJvbDogX19lc3JpLlNpbXBsZU1hcmtlclN5bWJvbCB8IF9fZXNyaS5QaWN0dXJlTWFya2VyU3ltYm9sIHwgX19lc3JpLlBvaW50U3ltYm9sM0QgfCBfX2VzcmkuU2ltcGxlRmlsbFN5bWJvbCB8IF9fZXNyaS5Qb2x5Z29uU3ltYm9sM0QgfCBfX2VzcmkuU2ltcGxlTGluZVN5bWJvbCB8IF9fZXNyaS5MaW5lU3ltYm9sM0Q7XHJcblx0bWVhc3VyZVJlZjogUmVhY3QuUmVmT2JqZWN0PGFueT4gPSBSZWFjdC5jcmVhdGVSZWYoKTtcclxuXHRcclxuXHRwcml2YXRlIF9zZWxlY3Rpb25FcG9jaCA9IDA7XHJcblx0cHJpdmF0ZSBfbWVhc3VyZW1lbnRXYXNFbmFibGVkOiBib29sZWFuID0gZmFsc2U7XHJcblx0cHJpdmF0ZSBfbWVhc3VyZW1lbnRVcGRhdGVUaW1lb3V0OiBhbnkgPSBudWxsO1xyXG5cdHByaXZhdGUgX2FjdGl2ZU1lYXN1cmVtZW50VXBkYXRlVGltZW91dDogYW55ID0gbnVsbDtcclxuXHRwcml2YXRlIF9wb3NpdGlvbldhdGNoZXJzOiB7IFtrZXk6IHN0cmluZ106IF9fZXNyaS5XYXRjaEhhbmRsZSB9ID0ge307XHJcblx0cHJpdmF0ZSBoYW5kbGVUYWJDaGFuZ2UgPSAobmV4dFRhYjogJ2RyYXcnIHwgJ215ZHJhd2luZ3MnKSA9PiB7XHJcblx0XHRpZiAobmV4dFRhYiA9PT0gJ215ZHJhd2luZ3MnKSB7XHJcblx0XHRcdGNvbnN0IGRyYXdpbmdzID0gdGhpcy5zbmFwc2hvdERyYXdpbmdzRnJvbUxheWVyKCk7XHJcblx0XHRcdHRoaXMubXlEcmF3aW5nc1JlZj8uY3VycmVudD8uaW5nZXN0RHJhd2luZ3M/LihkcmF3aW5ncyk7XHJcblxyXG5cdFx0XHQvLyBTdG9wIGFueSBhY3RpdmUgZHJhd2luZyBzbyBjbGlja3Mgb24gTXkgRHJhd2luZ3Mgd29uJ3QgY29tcGxldGUgYSBzaGFwZVxyXG5cdFx0XHR0aGlzLnNldERyYXdUb29sQnRuU3RhdGUoJycpO1xyXG5cdFx0XHR0cnkgeyB0aGlzLnNrZXRjaFZpZXdNb2RlbD8uY2FuY2VsKCk7IH0gY2F0Y2ggeyB9XHJcblxyXG5cdFx0XHQvLyBUdXJuIG9mZiBlZGl0IG1vZGUgb25seSAoa2VlcCBleGlzdGluZyBtZWFzdXJlbWVudCBsYWJlbHMgdmlzaWJsZSlcclxuXHRcdFx0dGhpcy5tZWFzdXJlUmVmPy5jdXJyZW50Py5kaXNhYmxlTWVhc3VyZW1lbnRFZGl0aW5nPy4oKTtcclxuXHJcblx0XHRcdHRoaXMuc2V0U3RhdGUoeyBncmFwaGljczogZHJhd2luZ3MsIGFjdGl2ZVRhYjogJ215ZHJhd2luZ3MnIH0pO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQmFjayB0byBEcmF3OiBGSVJTVCBkaXNhYmxlIG1lYXN1cmVtZW50cyBzeW5jaHJvbm91c2x5XHJcblx0XHRpZiAodGhpcy5tZWFzdXJlUmVmPy5jdXJyZW50KSB7XHJcblx0XHRcdC8vIERpc2FibGUgbWVhc3VyZW1lbnRzIElNTUVESUFURUxZIGJlZm9yZSBhbnkgc3RhdGUgY2hhbmdlc1xyXG5cdFx0XHR0aGlzLm1lYXN1cmVSZWYuY3VycmVudC5zZXRNZWFzdXJlbWVudEVuYWJsZWQ/LihmYWxzZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVEhFTiBjbGVhciBkcmF3aW5nIHRvb2wgYW5kIHVwZGF0ZSBzdGF0ZVxyXG5cdFx0dGhpcy5zZXREcmF3VG9vbEJ0blN0YXRlKCcnKTtcclxuXHJcblx0XHR0aGlzLnNldFN0YXRlKHtcclxuXHRcdFx0YWN0aXZlVGFiOiBuZXh0VGFiLFxyXG5cdFx0XHRtZWFzdXJlbWVudENoZWNrYm94T246IGZhbHNlLFxyXG5cdFx0XHQvLyBDbGVhciBhbGwgZHJhd2luZyB0b29sIHN0YXRlc1xyXG5cdFx0XHRwb2ludEJ0bkFjdGl2ZTogZmFsc2UsXHJcblx0XHRcdGxpbmVCdG5BY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHRmbGluZUJ0bkFjdGl2ZTogZmFsc2UsXHJcblx0XHRcdHJlY3RCdG5BY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHRwb2x5Z29uQnRuQWN0aXZlOiBmYWxzZSxcclxuXHRcdFx0ZnBvbHlnb25CdG5BY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHRjaXJjbGVCdG5BY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHR0ZXh0QnRuQWN0aXZlOiBmYWxzZSxcclxuXHRcdFx0Y3VycmVudFRvb2w6ICcnXHJcblx0XHR9KTtcclxuXHR9O1xyXG5cdHByaXZhdGUgb25NZWFzdXJlbWVudENoZWNrYm94Q2hhbmdlID0gKGNoZWNrZWQ6IGJvb2xlYW4pID0+IHtcclxuXHRcdC8vIFVwZGF0ZSB5b3VyIG93biBVSSBzdGF0ZSBpZiB5b3UgdHJhY2sgaXRcclxuXHRcdHRoaXMuc2V0U3RhdGUoeyBtZWFzdXJlbWVudENoZWNrYm94T246IGNoZWNrZWQgfSk7XHJcblxyXG5cdFx0Ly8gUHVzaCBzdGF0ZSB0byBNZWFzdXJlIHNvIE9OTFkgdGhlIGNoZWNrYm94IGNvbnRyb2xzIG5ldyBsYWJlbCBnZW5lcmF0aW9uXHJcblx0XHR0aGlzLm1lYXN1cmVSZWY/LmN1cnJlbnQ/LnNldE1lYXN1cmVtZW50RW5hYmxlZD8uKGNoZWNrZWQpO1xyXG5cdH07XHJcblx0cHJpdmF0ZSBfc2F2ZVBvc2l0aW9uVGltZW91dDogYW55ID0gbnVsbDtcclxuXHRwcml2YXRlIHJlbmRlclN5bWJvbFNlbGVjdG9yU2VjdGlvbigpIHtcclxuXHRcdGNvbnN0IHsgY3VycmVudFN5bWJvbCwgY3VycmVudFN5bWJvbFR5cGUsIHJvdGF0aW9uTW9kZSB9ID0gdGhpcy5zdGF0ZTtcclxuXHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nbWItMic+XHJcblx0XHRcdFx0PGg2IGNsYXNzTmFtZT0nZHJhd1Rvb2xiYXJEaXYnPkNoYW5nZSBzeW1ib2wgc3R5bGU6PC9oNj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cIm15c3MgYm9yZGVyXCIgc3R5bGU9e3t3aWR0aDogJzkwJScsIG1hcmdpbjogJzAgYXV0byd9fT5cclxuXHRcdFx0XHRcdDxTeW1ib2xTZWxlY3RvclxyXG5cdFx0XHRcdFx0XHRzeW1ib2w9e2N1cnJlbnRTeW1ib2x9XHJcblx0XHRcdFx0XHRcdGppbXVTeW1ib2xUeXBlPXtjdXJyZW50U3ltYm9sVHlwZX1cclxuXHRcdFx0XHRcdFx0YnRuU2l6ZT17J3NtJ31cclxuXHRcdFx0XHRcdFx0b25Qb3BwZXJUb2dnbGU9e3RoaXMub25TeW1ib2xQb3BwZXJ9XHJcblx0XHRcdFx0XHRcdG9uUG9pbnRTeW1ib2xDaGFuZ2VkPXt0aGlzLm9uUG9pbnRTeW1DaGFuZ2VkfVxyXG5cdFx0XHRcdFx0XHRvblBvbHlnb25TeW1ib2xDaGFuZ2VkPXt0aGlzLm9uUG9seWdvblN5bWJvbENoYW5nZWR9XHJcblx0XHRcdFx0XHRcdG9uUG9seWxpbmVTeW1ib2xDaGFuZ2VkPXt0aGlzLm9uUG9seWxpbmVTeW1ib2xDaGFuZ2VkfVxyXG5cdFx0XHRcdFx0XHR0aGVtZT17dGhpcy5wcm9wcy50aGVtZX1cclxuXHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0PC9kaXY+XHJcblxyXG5cdFx0XHRcdHsvKiBQb2ludCBzeW1ib2wgcm90YXRpb24gY29udHJvbHMgKi99XHJcblx0XHRcdFx0e3JvdGF0aW9uTW9kZSAmJiAoXHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nZHJhd1Rvb2xiYXJEaXYnPlxyXG5cdFx0XHRcdFx0XHQ8aDYgY2xhc3NOYW1lPSdtdC0yJz5Sb3RhdGUgUG9pbnQgU3ltYm9sOjwvaDY+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyJz5cclxuXHRcdFx0XHRcdFx0XHQ8TnVtZXJpY0lucHV0XHJcblx0XHRcdFx0XHRcdFx0XHRzaXplPSdzbSdcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlPXt0aGlzLnN0YXRlLmN1cnJlbnRTeW1ib2wuYW5nbGV9XHJcblx0XHRcdFx0XHRcdFx0XHRtaW49ezB9XHJcblx0XHRcdFx0XHRcdFx0XHRtYXg9ezM2MH1cclxuXHRcdFx0XHRcdFx0XHRcdHN0ZXA9ezAuMX1cclxuXHRcdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXsoZSkgPT4gdGhpcy5oYW5kbGVQb2ludFJvdGF0aW9uKGUpfVxyXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdtci0yIGRlY2ltYWxJbnB1dCdcclxuXHRcdFx0XHRcdFx0XHQvPlxyXG5cdFx0XHRcdFx0XHRcdDxzcGFuPjDCsDwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHQ8U2xpZGVyXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZT17dGhpcy5zdGF0ZS5jdXJyZW50U3ltYm9sLmFuZ2xlfVxyXG5cdFx0XHRcdFx0XHRcdFx0bWluPXswfVxyXG5cdFx0XHRcdFx0XHRcdFx0bWF4PXszNjB9XHJcblx0XHRcdFx0XHRcdFx0XHRzdGVwPXswLjF9XHJcblx0XHRcdFx0XHRcdFx0XHRvbkNoYW5nZT17KGUpID0+IHRoaXMuaGFuZGxlUG9pbnRSb3RhdGlvbihlKX1cclxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nbXgtMiBmbGV4LWdyb3ctMSdcclxuXHRcdFx0XHRcdFx0XHQvPlxyXG5cdFx0XHRcdFx0XHRcdDxzcGFuPjM2MMKwPC9zcGFuPlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdCl9XHJcblxyXG5cdFx0XHRcdHsvKiBBcnJvdyBjb250cm9scyBmb3IgcG9seWxpbmVzICovfVxyXG5cdFx0XHRcdHtjdXJyZW50U3ltYm9sVHlwZSA9PT0gSmltdVN5bWJvbFR5cGUuUG9seWxpbmUgJiYgdGhpcy5yZW5kZXJBcnJvd0NvbnRyb2xzKCl9XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0KTtcclxuXHR9XHJcblx0cHJpdmF0ZSBzbmFwc2hvdERyYXdpbmdzRnJvbUxheWVyID0gKCk6IGFueVtdID0+IHtcclxuXHRcdGlmICghdGhpcy5kcmF3TGF5ZXIgfHwgIXRoaXMuZHJhd0xheWVyLmdyYXBoaWNzKSByZXR1cm4gW107XHJcblx0XHRjb25zdCBhbGwgPSB0aGlzLmRyYXdMYXllci5ncmFwaGljcy50b0FycmF5KCk7XHJcblxyXG5cdFx0Ly8gRXhjbHVkZSBsYWJlbHMvb3ZlcmxheXMvYnVmZmVycywga2VlcCByZWFsIHVzZXIgZHJhd2luZ3NcclxuXHRcdHJldHVybiBhbGwuZmlsdGVyKChnOiBhbnkpID0+IHtcclxuXHRcdFx0aWYgKGc/LmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRMYWJlbCkgcmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRpZiAoZz8uYXR0cmlidXRlcz8uaXNTZWxlY3Rpb25PdmVybGF5KSByZXR1cm4gZmFsc2U7XHJcblx0XHRcdGlmIChnPy5hdHRyaWJ1dGVzPy5pc1ByZXZpZXdCdWZmZXIgfHwgZz8uYXR0cmlidXRlcz8uaXNCdWZmZXIgfHwgZz8uYXR0cmlidXRlcz8uaXNCdWZmZXJEcmF3aW5nKSByZXR1cm4gZmFsc2U7XHJcblx0XHRcdHJldHVybiAhIWc/Lmdlb21ldHJ5O1xyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0cHJpdmF0ZSBteURyYXdpbmdzUmVmOiBSZWFjdC5SZWZPYmplY3Q8TXlEcmF3aW5nc1BhbmVsPiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xyXG5cdHByaXZhdGUgX2RyYXdpbmdNYXA6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwKCk7XHJcblx0cHJpdmF0ZSByZW5kZXJUZXh0U3ltYm9sUHJldmlld0J1dHRvbigpIHtcclxuXHRcdGNvbnN0IHsgZm9udENvbG9yLCBmb250U2l6ZSwgZm9udFdlaWdodCwgZm9udFN0eWxlLCBmb250RGVjb3JhdGlvbiwgZm9udFJvdGF0aW9uLCBmb250SGFsbywgY3VycmVudFRleHRTeW1ib2wgfSA9IHRoaXMuc3RhdGU7XHJcblxyXG5cdFx0Ly8gQ29udmVydCBDb2xvciBvYmplY3QgdG8gQ1NTIGNvbG9yIHN0cmluZyB3aXRoIHByb3BlciB0eXBlIGNoZWNraW5nXHJcblx0XHRjb25zdCBiYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSBjdXJyZW50VGV4dFN5bWJvbC5iYWNrZ3JvdW5kQ29sb3JcclxuXHRcdFx0PyAodHlwZW9mIGN1cnJlbnRUZXh0U3ltYm9sLmJhY2tncm91bmRDb2xvciA9PT0gJ3N0cmluZydcclxuXHRcdFx0XHQ/IGN1cnJlbnRUZXh0U3ltYm9sLmJhY2tncm91bmRDb2xvclxyXG5cdFx0XHRcdDogYHJnYmEoJHtjdXJyZW50VGV4dFN5bWJvbC5iYWNrZ3JvdW5kQ29sb3Iucn0sICR7Y3VycmVudFRleHRTeW1ib2wuYmFja2dyb3VuZENvbG9yLmd9LCAke2N1cnJlbnRUZXh0U3ltYm9sLmJhY2tncm91bmRDb2xvci5ifSwgJHtjdXJyZW50VGV4dFN5bWJvbC5iYWNrZ3JvdW5kQ29sb3IuYX0pYClcclxuXHRcdFx0OiAndHJhbnNwYXJlbnQnO1xyXG5cclxuXHRcdHJldHVybiAoXHJcblx0XHRcdDxkaXYgY2xhc3NOYW1lPSdtYi0yJz5cclxuXHRcdFx0XHQ8aDYgY2xhc3NOYW1lPSdkcmF3VG9vbGJhckRpdic+Q2hhbmdlIHRleHQgb3B0aW9uczo8L2g2PlxyXG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwibXlzc1wiPlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJqaW11LXN5bWJvbC1zZWxlY3RvclwiIHN0eWxlPXt7IHdpZHRoOiAnOTAlJywgbWFyZ2luOiAnMCBhdXRvJyB9fT5cclxuXHRcdFx0XHRcdFx0PEJ1dHRvblxyXG5cdFx0XHRcdFx0XHRcdHNpemU9J3NtJ1xyXG5cdFx0XHRcdFx0XHRcdHR5cGU9J2RlZmF1bHQnXHJcblx0XHRcdFx0XHRcdFx0b25DbGljaz17dGhpcy5zaG93VGV4dFN5bWJvbFBvcHBlcn1cclxuXHRcdFx0XHRcdFx0XHRpZD17dGhpcy5wcm9wcy53aWRnZXRJZCArICdfYnRuVGV4dFN5bWJvbCd9XHJcblx0XHRcdFx0XHRcdFx0c3R5bGU9e3tcclxuXHRcdFx0XHRcdFx0XHRcdHdpZHRoOiAnMTAwJScsXHJcblx0XHRcdFx0XHRcdFx0XHRoZWlnaHQ6ICczNnB4JyxcclxuXHRcdFx0XHRcdFx0XHRcdHBhZGRpbmc6ICcwJyxcclxuXHRcdFx0XHRcdFx0XHRcdGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZENvbG9yU3RyaW5nXHJcblx0XHRcdFx0XHRcdFx0fX1cclxuXHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT0naWNvbi1idG4tc2l6ZXInPlxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlciBzeW1ib2wtd2FwcGVyIG91dGVyLXByZXZpZXctYnRuIGQtZmxleFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInctMTAwIGgtMTAwIGp1c3RpZnktY29udGVudC1jZW50ZXIgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBzeW1ib2wtaXRlbSB0ZXh0LXN5bWJvbC1pdGVtXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSd0ZXh0LXN5bWJvbC1zcGFuJyBzdHlsZT17e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29sb3I6IGZvbnRDb2xvcixcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRTaXplOiBgJHtmb250U2l6ZX1weGAsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmb250V2VpZ2h0LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFN0eWxlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udEZhbWlseTogY3VycmVudFRleHRTeW1ib2wuZm9udC5mYW1pbHksXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0ZXh0RGVjb3JhdGlvbjogZm9udERlY29yYXRpb24sXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR6SW5kZXg6IDEwMCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFdlYmtpdFRyYW5zZm9ybTogYHJvdGF0ZSgke2ZvbnRSb3RhdGlvbn1kZWcpYFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH19PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e2N1cnJlbnRUZXh0U3ltYm9sLnRleHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIHN0eWxlPXt7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xvcjogZm9udENvbG9yLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFNpemU6IGAke2ZvbnRTaXplfXB4YCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFdlYmtpdFRleHRTdHJva2U6IGZvbnRIYWxvLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFdlaWdodCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRTdHlsZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRGYW1pbHk6IGN1cnJlbnRUZXh0U3ltYm9sLmZvbnQuZmFtaWx5LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGV4dERlY29yYXRpb246IGZvbnREZWNvcmF0aW9uLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRXZWJraXRUcmFuc2Zvcm06IGByb3RhdGUoJHtmb250Um90YXRpb259ZGVnKWBcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9fT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtjdXJyZW50VGV4dFN5bWJvbC50ZXh0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8L3NwYW4+XHJcblx0XHRcdFx0XHRcdDwvQnV0dG9uPlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0KTtcclxuXHR9XHJcblx0cHJpdmF0ZSBlbnN1cmVCdWZmZXJXYXRjaGVyc0ZvclNlbGVjdGVkR3JhcGhpYyA9IChncmFwaGljOiBhbnkpID0+IHtcclxuXHRcdC8vIElmIHRoZSBncmFwaGljIGhhcyBidWZmZXIgc2V0dGluZ3MsIGVuc3VyZSBnZW9tZXRyeSB3YXRjaGVyIGlzIGFjdGl2ZVxyXG5cdFx0aWYgKGdyYXBoaWMuYnVmZmVyU2V0dGluZ3MgJiYgZ3JhcGhpYy5idWZmZXJTZXR0aW5ncy5lbmFibGVkICYmIGdyYXBoaWMuYnVmZmVyR3JhcGhpYykge1xyXG5cdFx0XHRjb25zdCBwYXJlbnRJZCA9IGdyYXBoaWMuYXR0cmlidXRlcz8udW5pcXVlSWQ7XHJcblxyXG5cdFx0XHRpZiAocGFyZW50SWQpIHtcclxuXHRcdFx0XHQvLy8vY29uc29sZS5sb2coYPCflKcgV2lkZ2V0OiBFbnN1cmluZyBidWZmZXIgd2F0Y2hlciBmb3Igc2VsZWN0ZWQgZ3JhcGhpYzogJHtwYXJlbnRJZH1gKTtcclxuXHJcblx0XHRcdFx0Ly8gU2V0IHVwIGdlb21ldHJ5IHdhdGNoZXIgZm9yIHJlYWwtdGltZSBidWZmZXIgdXBkYXRlc1xyXG5cdFx0XHRcdGNvbnN0IHdhdGNoZXJLZXkgPSBwYXJlbnRJZCArICdfd2lkZ2V0X2J1ZmZlcic7XHJcblx0XHRcdFx0Y29uc3QgZXhpc3RpbmdXYXRjaGVyID0gdGhpcy5fcG9zaXRpb25XYXRjaGVyc1t3YXRjaGVyS2V5XTtcclxuXHRcdFx0XHRpZiAoZXhpc3RpbmdXYXRjaGVyKSB7XHJcblx0XHRcdFx0XHRleGlzdGluZ1dhdGNoZXIucmVtb3ZlKCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBDcmVhdGUgYSBnZW9tZXRyeSB3YXRjaGVyIHNwZWNpZmljYWxseSBmb3IgYnVmZmVyIHVwZGF0ZXNcclxuXHRcdFx0XHR0aGlzLl9wb3NpdGlvbldhdGNoZXJzW3dhdGNoZXJLZXldID0gZ3JhcGhpYy53YXRjaCgnZ2VvbWV0cnknLCBhc3luYyAobmV3R2VvbWV0cnkpID0+IHtcclxuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coYPCflIQgV2lkZ2V0OiBHZW9tZXRyeSBjaGFuZ2VkLCB1cGRhdGluZyBidWZmZXIgZm9yICR7cGFyZW50SWR9YCk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGdyYXBoaWMuYnVmZmVyR3JhcGhpYyAmJiBncmFwaGljLmJ1ZmZlclNldHRpbmdzKSB7XHJcblx0XHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gVXBkYXRlIGJ1ZmZlciBpbW1lZGlhdGVseVxyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMudXBkYXRlQXR0YWNoZWRCdWZmZXIoZ3JhcGhpYyk7XHJcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcign4p2MIFdpZGdldDogRXJyb3IgdXBkYXRpbmcgYnVmZmVyOicsIGVycm9yKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHQvLyBBZGQgdGhpcyBtZXRob2QgdG8gdGhlIFdpZGdldCBjbGFzc1xyXG5cdHByaXZhdGUgZW5zdXJlUG9pbnRUZXh0T3ZlcmxheUZyb21NYXAgPSAoZ3JhcGhpYzogRXh0ZW5kZWRHcmFwaGljKSA9PiB7XHJcblx0XHQvLyBjb25zb2xlLmxvZygn8J+UtiBlbnN1cmVQb2ludFRleHRPdmVybGF5RnJvbU1hcCBjYWxsZWQgd2l0aDonLCB7XHJcblx0XHQvLyAgIGhhc0dyYXBoaWM6ICEhZ3JhcGhpYyxcclxuXHRcdC8vICAgaGFzRHJhd0xheWVyOiAhIXRoaXMuZHJhd0xheWVyLFxyXG5cdFx0Ly8gICBnZW9tZXRyeVR5cGU6IGdyYXBoaWM/Lmdlb21ldHJ5Py50eXBlLFxyXG5cdFx0Ly8gICBzeW1ib2xUeXBlOiBncmFwaGljPy5zeW1ib2w/LnR5cGUsXHJcblx0XHQvLyAgIGdyYXBoaWNOYW1lOiBncmFwaGljPy5hdHRyaWJ1dGVzPy5uYW1lXHJcblx0XHQvLyB9KTtcclxuXHJcblx0XHQvLyBHdWFyZHNcclxuXHRcdGlmICghZ3JhcGhpYyB8fCAhdGhpcy5kcmF3TGF5ZXIpIHtcclxuXHRcdFx0Ly9jb25zb2xlLmxvZygn4p2MIGVuc3VyZVBvaW50VGV4dE92ZXJsYXlGcm9tTWFwOiBtaXNzaW5nIGdyYXBoaWMgb3IgbGF5ZXInKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFncmFwaGljLmdlb21ldHJ5IHx8IGdyYXBoaWMuZ2VvbWV0cnkudHlwZSAhPT0gJ3BvaW50Jykge1xyXG5cdFx0XHQvL2NvbnNvbGUubG9nKCfinYwgZW5zdXJlUG9pbnRUZXh0T3ZlcmxheUZyb21NYXA6IG5vdCBhIHBvaW50IGdlb21ldHJ5Jyk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBFbnN1cmUgYXR0cmlidXRlcyAmIHVuaXF1ZUlkICh1c2VkIGZvciBvdmVybGF54oaScGFyZW50IGxpbmthZ2UpXHJcblx0XHR0cnkge1xyXG5cdFx0XHRpZiAoIShncmFwaGljIGFzIGFueSkuYXR0cmlidXRlcykgKGdyYXBoaWMgYXMgYW55KS5hdHRyaWJ1dGVzID0ge307XHJcblx0XHRcdGlmICghKGdyYXBoaWMgYXMgYW55KS5hdHRyaWJ1dGVzLnVuaXF1ZUlkKSB7XHJcblx0XHRcdFx0KGdyYXBoaWMgYXMgYW55KS5hdHRyaWJ1dGVzLnVuaXF1ZUlkID0gYGF1dG9fJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIsIDgpfWA7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKCdlbnN1cmVQb2ludFRleHRPdmVybGF5RnJvbU1hcDogY291bGQgbm90IGVuc3VyZSB1bmlxdWVJZDonLCBlKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBTSU5HTEUtU0VMRUNUSU9OIFBPTElDWTogY2xlYXIgQUxMIG90aGVyIG92ZXJsYXlzIGJlZm9yZSBjcmVhdGluZyB0aGlzIG9uZVxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgYWxsID0gdGhpcy5kcmF3TGF5ZXIuZ3JhcGhpY3MudG9BcnJheSgpO1xyXG5cdFx0XHRmb3IgKGNvbnN0IGcgb2YgYWxsIGFzIGFueVtdKSB7XHJcblx0XHRcdFx0aWYgKGcgJiYgZy5hdHRyaWJ1dGVzPy5pc1NlbGVjdGlvbk92ZXJsYXkpIHtcclxuXHRcdFx0XHRcdHRyeSB7IHRoaXMuZHJhd0xheWVyLnJlbW92ZShnKTsgfSBjYXRjaCB7IH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKGcgJiYgZy5fc2VsZWN0aW9uT3ZlcmxheSAmJiBnICE9PSBncmFwaGljKSB7XHJcblx0XHRcdFx0XHR0cnkgeyBpZiAoZy5fc2VsZWN0aW9uT3ZlcmxheS5sYXllciA9PT0gdGhpcy5kcmF3TGF5ZXIpIHRoaXMuZHJhd0xheWVyLnJlbW92ZShnLl9zZWxlY3Rpb25PdmVybGF5KTsgfSBjYXRjaCB7IH1cclxuXHRcdFx0XHRcdGcuX3NlbGVjdGlvbk92ZXJsYXkgPSBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRjb25zb2xlLndhcm4oJ2Vuc3VyZVBvaW50VGV4dE92ZXJsYXlGcm9tTWFwOiBmYWlsZWQgY2xlYXJpbmcgcHJpb3Igb3ZlcmxheXM6JywgZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSWYgdGhpcyBncmFwaGljIGFscmVhZHkgaGFkIGFuIG92ZXJsYXksIHJlbW92ZSBpdCBzbyB3ZSBjYW4gcmVjcmVhdGUgY2xlYW5seVxyXG5cdFx0aWYgKChncmFwaGljIGFzIGFueSkuX3NlbGVjdGlvbk92ZXJsYXkpIHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRpZiAoKGdyYXBoaWMgYXMgYW55KS5fc2VsZWN0aW9uT3ZlcmxheS5sYXllciA9PT0gdGhpcy5kcmF3TGF5ZXIpIHtcclxuXHRcdFx0XHRcdHRoaXMuZHJhd0xheWVyLnJlbW92ZSgoZ3JhcGhpYyBhcyBhbnkpLl9zZWxlY3Rpb25PdmVybGF5KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gY2F0Y2ggeyB9XHJcblx0XHRcdChncmFwaGljIGFzIGFueSkuX3NlbGVjdGlvbk92ZXJsYXkgPSBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEJ1aWxkIGhhbG8gc3ltYm9sIChzcXVhcmUgZm9yIHRleHQsIGNpcmNsZSBmb3IgbWFya2Vycyk7IGZhaW50IGZpbGwgc28gaGl0VGVzdCBjYW4gcGljayBpdFxyXG5cdFx0Y29uc3QgaXNUZXh0ID0gKGdyYXBoaWMuc3ltYm9sIGFzIGFueSk/LnR5cGUgPT09ICd0ZXh0JztcclxuXHRcdGNvbnN0IG92ZXJsYXlTeW1ib2wgPSBuZXcgU2ltcGxlTWFya2VyU3ltYm9sKHtcclxuXHRcdFx0c3R5bGU6IGlzVGV4dCA/ICdzcXVhcmUnIDogJ2NpcmNsZScsXHJcblx0XHRcdHNpemU6IGlzVGV4dCA/IDI4IDogMjQsXHJcblx0XHRcdGNvbG9yOiBbMjU1LCAxMjgsIDAsIDAuMTBdLCAgICAgICAgICAgICAgICAgLy8gZmFpbnQgb3JhbmdlIGZpbGwgKGhpdC10ZXN0YWJsZSlcclxuXHRcdFx0b3V0bGluZTogeyBjb2xvcjogWzI1NSwgMTI4LCAwLCAxXSwgd2lkdGg6IDIgfVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29uc3Qgb3ZlcmxheSA9IG5ldyBHcmFwaGljKHtcclxuXHRcdFx0Z2VvbWV0cnk6IGdyYXBoaWMuZ2VvbWV0cnksXHJcblx0XHRcdHN5bWJvbDogb3ZlcmxheVN5bWJvbCxcclxuXHRcdFx0YXR0cmlidXRlczoge1xyXG5cdFx0XHRcdGhpZGVGcm9tTGlzdDogdHJ1ZSxcclxuXHRcdFx0XHRpc01lYXN1cmVtZW50TGFiZWw6IGZhbHNlLFxyXG5cdFx0XHRcdGlzU2VsZWN0aW9uT3ZlcmxheTogdHJ1ZSxcclxuXHRcdFx0XHRwYXJlbnRHcmFwaGljSWQ6IChncmFwaGljIGFzIGFueSkuYXR0cmlidXRlcz8udW5pcXVlSWQgPz8gbnVsbFxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBBZGQgKyBhdHRhY2ggcG9pbnRlciBvbiBwYXJlbnRcclxuXHRcdFx0dGhpcy5kcmF3TGF5ZXIuYWRkKG92ZXJsYXkpO1xyXG5cdFx0XHQoZ3JhcGhpYyBhcyBhbnkpLl9zZWxlY3Rpb25PdmVybGF5ID0gb3ZlcmxheTtcclxuXHJcblx0XHRcdC8vIFByZWZlciB0b3Atb2YtbGF5ZXIgb3JkZXI6IHJlbW92ZeKGkmFkZCBub3csIHRoZW4gYWdhaW4gbmV4dCBmcmFtZVxyXG5cdFx0XHRjb25zdCBicmluZ1RvRnJvbnQgPSAoKSA9PiB7XHJcblx0XHRcdFx0dHJ5IHsgdGhpcy5kcmF3TGF5ZXIucmVtb3ZlKG92ZXJsYXkpOyB9IGNhdGNoIHsgfVxyXG5cdFx0XHRcdHRoaXMuZHJhd0xheWVyLmFkZChvdmVybGF5KTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGJyaW5nVG9Gcm9udCgpO1xyXG5cclxuXHRcdFx0Ly8gTmV4dCBtYWNyb3Rhc2sgKGd1YXJkcyBhZ2FpbnN0IFNWTSByZXBhaW50IG9uIHRoZSBzYW1lIHRpY2spXHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRpZiAoKGdyYXBoaWMgYXMgYW55KS5fc2VsZWN0aW9uT3ZlcmxheSAmJiAoZ3JhcGhpYyBhcyBhbnkpLl9zZWxlY3Rpb25PdmVybGF5LmxheWVyID09PSB0aGlzLmRyYXdMYXllcikge1xyXG5cdFx0XHRcdFx0XHRicmluZ1RvRnJvbnQoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ092ZXJsYXkgYnJpbmctdG8tZnJvbnQgbmV4dC10aWNrIGZhaWxlZDonLCBlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sIDApO1xyXG5cclxuXHRcdFx0Ly8gSWYgekluZGV4IGlzIHN1cHBvcnRlZCBieSB5b3VyIEFQSSB2ZXJzaW9uLCBwdXNoIGl0IHVwIChoYXJtbGVzcyBpZiB1bnN1cHBvcnRlZClcclxuXHRcdFx0dHJ5IHsgKG92ZXJsYXkgYXMgYW55KS56SW5kZXggPSA5OTk5OTsgfSBjYXRjaCB7IH1cclxuXHJcblx0XHRcdC8vIEZpbmFsIHZlcmlmaWNhdGlvbiArIHBydW5lIGFueSBzdHJheSBkdXBsaWNhdGUgb3ZlcmxheXMgdGhhdCBtYXkgaGF2ZSBzbGlwcGVkIGluXHJcblx0XHRcdGNvbnN0IG92ZXJsYXlzID0gdGhpcy5kcmF3TGF5ZXIuZ3JhcGhpY3MudG9BcnJheSgpLmZpbHRlcigoZzogYW55KSA9PiBnLmF0dHJpYnV0ZXM/LmlzU2VsZWN0aW9uT3ZlcmxheSk7XHJcblx0XHRcdGlmIChvdmVybGF5cy5sZW5ndGggPiAxKSB7XHJcblx0XHRcdFx0b3ZlcmxheXMuZm9yRWFjaCgoZzogYW55KSA9PiB7IGlmIChnICE9PSBvdmVybGF5KSB7IHRyeSB7IHRoaXMuZHJhd0xheWVyLnJlbW92ZShnKTsgfSBjYXRjaCB7IH0gfSB9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3Qgb3ZlcmxheUluTGF5ZXIgPSB0aGlzLmRyYXdMYXllci5ncmFwaGljcy50b0FycmF5KClcclxuXHRcdFx0XHQuc29tZSgoZzogYW55KSA9PiBnID09PSBvdmVybGF5IHx8IGcuYXR0cmlidXRlcz8uaXNTZWxlY3Rpb25PdmVybGF5KTtcclxuXHRcdFx0Y29uc29sZS5sb2coJ/CflI0gT3ZlcmxheSBwcmVzZW50IGluIGxheWVyOicsIG92ZXJsYXlJbkxheWVyKTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBjcmVhdGluZyBvdmVybGF5OicsIGVycm9yKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRwcml2YXRlIHVwZGF0ZUF0dGFjaGVkQnVmZmVyID0gYXN5bmMgKHBhcmVudEdyYXBoaWM6IGFueSkgPT4ge1xyXG5cdFx0aWYgKCF0aGlzLmRyYXdMYXllciB8fCAhcGFyZW50R3JhcGhpYy5idWZmZXJHcmFwaGljIHx8ICFwYXJlbnRHcmFwaGljLmJ1ZmZlclNldHRpbmdzKSByZXR1cm47XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgeyBkaXN0YW5jZSwgdW5pdCwgb3BhY2l0eSB9ID0gcGFyZW50R3JhcGhpYy5idWZmZXJTZXR0aW5ncztcclxuXHJcblx0XHRcdC8vY29uc29sZS5sb2coYPCflIQgV2lkZ2V0OiBDcmVhdGluZyBuZXcgYnVmZmVyIGdlb21ldHJ5IGZvciAke3BhcmVudEdyYXBoaWMuYXR0cmlidXRlcz8udW5pcXVlSWR9IHdpdGggJHtvcGFjaXR5IHx8IDUwfSUgb3BhY2l0eWApO1xyXG5cclxuXHRcdFx0Ly8gQ3JlYXRlIG5ldyBidWZmZXIgZ2VvbWV0cnkgdXNpbmcgYXN5bmMgZ2VvbWV0cnkgZW5naW5lXHJcblx0XHRcdGNvbnN0IG5ld0J1ZmZlckdlb21ldHJ5ID0gYXdhaXQgdGhpcy5jcmVhdGVCdWZmZXJHZW9tZXRyeShcclxuXHRcdFx0XHRwYXJlbnRHcmFwaGljLmdlb21ldHJ5LFxyXG5cdFx0XHRcdGRpc3RhbmNlLFxyXG5cdFx0XHRcdHVuaXRcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdGlmIChuZXdCdWZmZXJHZW9tZXRyeSkge1xyXG5cdFx0XHRcdC8vIFVwZGF0ZSB0aGUgYnVmZmVyIGdyYXBoaWMncyBnZW9tZXRyeSBpbW1lZGlhdGVseVxyXG5cdFx0XHRcdGNvbnN0IGJ1ZmZlckdyYXBoaWMgPSBwYXJlbnRHcmFwaGljLmJ1ZmZlckdyYXBoaWM7XHJcblxyXG5cdFx0XHRcdC8vIPCflKcgRU5IQU5DRUQ6IEFsc28gdXBkYXRlIHRoZSBzeW1ib2wgdG8gcmVmbGVjdCBhbnkgb3BhY2l0eSBjaGFuZ2VzXHJcblx0XHRcdFx0Y29uc3QgdXBkYXRlZFN5bWJvbCA9IHRoaXMuY3JlYXRlQnVmZmVyU3ltYm9sV2l0aE9wYWNpdHkocGFyZW50R3JhcGhpYywgb3BhY2l0eSB8fCA1MCk7XHJcblx0XHRcdFx0YnVmZmVyR3JhcGhpYy5zeW1ib2wgPSB1cGRhdGVkU3ltYm9sO1xyXG5cclxuXHRcdFx0XHQvLyBSZW1vdmUgZnJvbSBsYXllclxyXG5cdFx0XHRcdHRoaXMuZHJhd0xheWVyLnJlbW92ZShidWZmZXJHcmFwaGljKTtcclxuXHJcblx0XHRcdFx0Ly8gVXBkYXRlIGdlb21ldHJ5XHJcblx0XHRcdFx0YnVmZmVyR3JhcGhpYy5nZW9tZXRyeSA9IG5ld0J1ZmZlckdlb21ldHJ5O1xyXG5cclxuXHRcdFx0XHQvLyBSZS1hZGQgdG8gbGF5ZXIgYXQgY29ycmVjdCBwb3NpdGlvblxyXG5cdFx0XHRcdGNvbnN0IHBhcmVudEluZGV4ID0gdGhpcy5kcmF3TGF5ZXIuZ3JhcGhpY3MuaW5kZXhPZihwYXJlbnRHcmFwaGljKTtcclxuXHRcdFx0XHRpZiAocGFyZW50SW5kZXggPj0gMCkge1xyXG5cdFx0XHRcdFx0dGhpcy5kcmF3TGF5ZXIuZ3JhcGhpY3MuYWRkKGJ1ZmZlckdyYXBoaWMsIHBhcmVudEluZGV4KTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dGhpcy5kcmF3TGF5ZXIuYWRkKGJ1ZmZlckdyYXBoaWMpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly9jb25zb2xlLmxvZyhg4pyFIFdpZGdldDogQnVmZmVyIGdlb21ldHJ5IHVwZGF0ZWQgYW5kIHJlZnJlc2hlZCBmb3IgZ3JhcGhpYyAke3BhcmVudEdyYXBoaWMuYXR0cmlidXRlcz8udW5pcXVlSWR9IHdpdGggJHtvcGFjaXR5IHx8IDUwfSUgb3BhY2l0eWApO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKCfinYwgV2lkZ2V0OiBFcnJvciB1cGRhdGluZyBhdHRhY2hlZCBidWZmZXI6JywgZXJyb3IpO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0cHJpdmF0ZSBjcmVhdGVCdWZmZXJTeW1ib2xXaXRoT3BhY2l0eSA9IChwYXJlbnRHcmFwaGljOiBhbnksIG9wYWNpdHk6IG51bWJlcik6IFNpbXBsZUZpbGxTeW1ib2wgPT4ge1xyXG5cdFx0Y29uc3QgZ2VvbVR5cGUgPSBwYXJlbnRHcmFwaGljLmdlb21ldHJ5Py50eXBlO1xyXG5cdFx0Y29uc3QgcGFyZW50U3ltYm9sID0gcGFyZW50R3JhcGhpYy5zeW1ib2w7XHJcblx0XHRjb25zdCBvcGFjaXR5TXVsdGlwbGllciA9IG9wYWNpdHkgLyAxMDA7XHJcblxyXG5cdFx0bGV0IGZpbGxDb2xvciA9IG5ldyBDb2xvcihbMCwgMCwgMCwgMC4xNSAqIG9wYWNpdHlNdWx0aXBsaWVyXSk7XHJcblx0XHRsZXQgb3V0bGluZUNvbG9yID0gbmV3IENvbG9yKFswLCAwLCAwLCAwLjYgKiBvcGFjaXR5TXVsdGlwbGllcl0pO1xyXG5cdFx0bGV0IG91dGxpbmVXaWR0aCA9IDEuNTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHRpZiAoZ2VvbVR5cGUgPT09ICdwb2x5Z29uJyAmJiBwYXJlbnRTeW1ib2wpIHtcclxuXHRcdFx0XHRjb25zdCBmaWxsU3ltID0gcGFyZW50U3ltYm9sIGFzIF9fZXNyaS5TaW1wbGVGaWxsU3ltYm9sO1xyXG5cdFx0XHRcdGlmIChmaWxsU3ltPy5jb2xvcikge1xyXG5cdFx0XHRcdFx0Y29uc3QgcmdiYSA9IGZpbGxTeW0uY29sb3IudG9SZ2JhID8gZmlsbFN5bS5jb2xvci50b1JnYmEoKSA6IFswLCAwLCAwLCAxXTtcclxuXHRcdFx0XHRcdGZpbGxDb2xvciA9IG5ldyBDb2xvcihbcmdiYVswXSwgcmdiYVsxXSwgcmdiYVsyXSwgTWF0aC5taW4ocmdiYVszXSAqIG9wYWNpdHlNdWx0aXBsaWVyLCAxLjApXSk7XHJcblx0XHRcdFx0XHRvdXRsaW5lQ29sb3IgPSBuZXcgQ29sb3IoW3JnYmFbMF0sIHJnYmFbMV0sIHJnYmFbMl0sIE1hdGgubWluKHJnYmFbM10gKiBvcGFjaXR5TXVsdGlwbGllciwgMS4wKV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoZmlsbFN5bT8ub3V0bGluZT8uY29sb3IpIHtcclxuXHRcdFx0XHRcdGNvbnN0IHJnYmEgPSBmaWxsU3ltLm91dGxpbmUuY29sb3IudG9SZ2JhID8gZmlsbFN5bS5vdXRsaW5lLmNvbG9yLnRvUmdiYSgpIDogWzAsIDAsIDAsIDFdO1xyXG5cdFx0XHRcdFx0b3V0bGluZUNvbG9yID0gbmV3IENvbG9yKFtyZ2JhWzBdLCByZ2JhWzFdLCByZ2JhWzJdLCBNYXRoLm1pbihyZ2JhWzNdICogb3BhY2l0eU11bHRpcGxpZXIsIDEuMCldKTtcclxuXHRcdFx0XHRcdGlmIChmaWxsU3ltLm91dGxpbmU/LndpZHRoKSB7XHJcblx0XHRcdFx0XHRcdG91dGxpbmVXaWR0aCA9IGZpbGxTeW0ub3V0bGluZS53aWR0aCAqIDAuODtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAoZ2VvbVR5cGUgPT09ICdwb2x5bGluZScgJiYgcGFyZW50U3ltYm9sKSB7XHJcblx0XHRcdFx0Y29uc3QgbGluZVN5bSA9IHBhcmVudFN5bWJvbCBhcyBfX2VzcmkuU2ltcGxlTGluZVN5bWJvbDtcclxuXHRcdFx0XHRpZiAobGluZVN5bT8uY29sb3IpIHtcclxuXHRcdFx0XHRcdGNvbnN0IHJnYmEgPSBsaW5lU3ltLmNvbG9yLnRvUmdiYSA/IGxpbmVTeW0uY29sb3IudG9SZ2JhKCkgOiBbMCwgMCwgMCwgMV07XHJcblx0XHRcdFx0XHRmaWxsQ29sb3IgPSBuZXcgQ29sb3IoW3JnYmFbMF0sIHJnYmFbMV0sIHJnYmFbMl0sIE1hdGgubWluKHJnYmFbM10gKiAwLjYgKiBvcGFjaXR5TXVsdGlwbGllciwgMS4wKV0pO1xyXG5cdFx0XHRcdFx0b3V0bGluZUNvbG9yID0gbmV3IENvbG9yKFtyZ2JhWzBdLCByZ2JhWzFdLCByZ2JhWzJdLCBNYXRoLm1pbihyZ2JhWzNdICogb3BhY2l0eU11bHRpcGxpZXIsIDEuMCldKTtcclxuXHRcdFx0XHRcdGlmIChsaW5lU3ltLndpZHRoKSB7XHJcblx0XHRcdFx0XHRcdG91dGxpbmVXaWR0aCA9IGxpbmVTeW0ud2lkdGggKiAwLjg7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKGdlb21UeXBlID09PSAncG9pbnQnICYmIHBhcmVudFN5bWJvbCkge1xyXG5cdFx0XHRcdGNvbnN0IG1hcmtlclN5bSA9IHBhcmVudFN5bWJvbCBhcyBfX2VzcmkuU2ltcGxlTWFya2VyU3ltYm9sO1xyXG5cdFx0XHRcdGlmIChtYXJrZXJTeW0/LmNvbG9yKSB7XHJcblx0XHRcdFx0XHRjb25zdCByZ2JhID0gbWFya2VyU3ltLmNvbG9yLnRvUmdiYSA/IG1hcmtlclN5bS5jb2xvci50b1JnYmEoKSA6IFswLCAwLCAwLCAxXTtcclxuXHRcdFx0XHRcdGZpbGxDb2xvciA9IG5ldyBDb2xvcihbcmdiYVswXSwgcmdiYVsxXSwgcmdiYVsyXSwgTWF0aC5taW4ocmdiYVszXSAqIDAuNiAqIG9wYWNpdHlNdWx0aXBsaWVyLCAxLjApXSk7XHJcblx0XHRcdFx0XHRvdXRsaW5lQ29sb3IgPSBuZXcgQ29sb3IoW3JnYmFbMF0sIHJnYmFbMV0sIHJnYmFbMl0sIE1hdGgubWluKHJnYmFbM10gKiBvcGFjaXR5TXVsdGlwbGllciwgMS4wKV0pO1xyXG5cdFx0XHRcdFx0aWYgKG1hcmtlclN5bS5vdXRsaW5lPy53aWR0aCkge1xyXG5cdFx0XHRcdFx0XHRvdXRsaW5lV2lkdGggPSBtYXJrZXJTeW0ub3V0bGluZS53aWR0aCAqIDAuODtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUud2FybignRXJyb3IgcHJvY2Vzc2luZyBjb2xvcnM6JywgZXJyb3IpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vY29uc29sZS5sb2coYPCfjqggV2lkZ2V0OiBDcmVhdGluZyBidWZmZXIgc3ltYm9sIHdpdGggJHtvcGFjaXR5fSUgb3BhY2l0eWApO1xyXG5cclxuXHRcdHJldHVybiBuZXcgU2ltcGxlRmlsbFN5bWJvbCh7XHJcblx0XHRcdGNvbG9yOiBmaWxsQ29sb3IsXHJcblx0XHRcdG91dGxpbmU6IG5ldyBTaW1wbGVMaW5lU3ltYm9sKHtcclxuXHRcdFx0XHRjb2xvcjogb3V0bGluZUNvbG9yLFxyXG5cdFx0XHRcdHdpZHRoOiBvdXRsaW5lV2lkdGgsXHJcblx0XHRcdFx0c3R5bGU6ICdkYXNoJ1xyXG5cdFx0XHR9KVxyXG5cdFx0fSk7XHJcblx0fTtcclxuXHRwcml2YXRlIGNyZWF0ZUJ1ZmZlckdlb21ldHJ5ID0gYXN5bmMgKGdlb21ldHJ5OiBfX2VzcmkuR2VvbWV0cnksIGRpc3RhbmNlOiBudW1iZXIsIHVuaXQ6IHN0cmluZyk6IFByb21pc2U8X19lc3JpLkdlb21ldHJ5IHwgbnVsbD4gPT4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgdmlldyA9IHRoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3Py52aWV3O1xyXG5cdFx0XHRpZiAoIXZpZXcpIHJldHVybiBudWxsO1xyXG5cclxuXHRcdFx0Y29uc3QgbGluZWFyVW5pdCA9IHVuaXQgYXMgX19lc3JpLkxpbmVhclVuaXRzO1xyXG5cdFx0XHRsZXQgYnVmZmVyUmVzdWx0OiBfX2VzcmkuR2VvbWV0cnkgfCBfX2VzcmkuR2VvbWV0cnlbXSB8IG51bGwgPSBudWxsO1xyXG5cclxuXHRcdFx0Ly8gSW1wb3J0IGdlb21ldHJ5IGVuZ2luZSBhc3luYyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXHJcblx0XHRcdGNvbnN0IGdlb21ldHJ5RW5naW5lQXN5bmMgPSBhd2FpdCBpbXBvcnQoXCJlc3JpL2dlb21ldHJ5L2dlb21ldHJ5RW5naW5lQXN5bmNcIik7XHJcblxyXG5cdFx0XHRpZiAodmlldy5zcGF0aWFsUmVmZXJlbmNlPy5pc0dlb2dyYXBoaWMgfHwgdmlldy5zcGF0aWFsUmVmZXJlbmNlPy5pc1dlYk1lcmNhdG9yKSB7XHJcblx0XHRcdFx0YnVmZmVyUmVzdWx0ID0gYXdhaXQgZ2VvbWV0cnlFbmdpbmVBc3luYy5nZW9kZXNpY0J1ZmZlcihnZW9tZXRyeSBhcyBhbnksIGRpc3RhbmNlLCBsaW5lYXJVbml0KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRidWZmZXJSZXN1bHQgPSBhd2FpdCBnZW9tZXRyeUVuZ2luZUFzeW5jLmJ1ZmZlcihnZW9tZXRyeSBhcyBhbnksIGRpc3RhbmNlLCBsaW5lYXJVbml0LCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCFidWZmZXJSZXN1bHQpIHtcclxuXHRcdFx0XHRjb25zb2xlLndhcm4oJ1dpZGdldDogQnVmZmVyIG9wZXJhdGlvbiByZXR1cm5lZCBudWxsJyk7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KGJ1ZmZlclJlc3VsdCkpIHtcclxuXHRcdFx0XHRpZiAoYnVmZmVyUmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKCdXaWRnZXQ6IEJ1ZmZlciBvcGVyYXRpb24gcmV0dXJuZWQgZW1wdHkgYXJyYXknKTtcclxuXHRcdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gYnVmZmVyUmVzdWx0WzBdO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gYnVmZmVyUmVzdWx0O1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcignV2lkZ2V0OiBFcnJvciBjcmVhdGluZyBidWZmZXIgZ2VvbWV0cnk6JywgZXJyb3IpO1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRwcml2YXRlIGNyZWF0ZUxpbmVTeW1ib2xXaXRoQnVpbHRJbkFycm93cyA9IChcclxuXHRcdGJhc2U6IF9fZXNyaS5TaW1wbGVMaW5lU3ltYm9sLFxyXG5cdFx0YXJyb3dQb3NpdGlvbjogJ3N0YXJ0JyB8ICdlbmQnIHwgJ2JvdGgnLFxyXG5cdFx0YXJyb3dTaXplOiBudW1iZXJcclxuXHQpOiBfX2VzcmkuU2ltcGxlTGluZVN5bWJvbCA9PiB7XHJcblx0XHQvLyBjb25zb2xlLmxvZygnQ3JlYXRpbmcgU2ltcGxlTGluZVN5bWJvbCB3aXRoIGJ1aWx0LWluIGFycm93czonLCB7XHJcblx0XHQvLyAgIGJhc2VDb2xvcjogYmFzZS5jb2xvcixcclxuXHRcdC8vICAgYmFzZVdpZHRoOiBiYXNlLndpZHRoLFxyXG5cdFx0Ly8gICBhcnJvd1Bvc2l0aW9uXHJcblx0XHQvLyB9KTtcclxuXHJcblx0XHQvLyBNYXAgYXJyb3cgcG9zaXRpb24gdG8gQVBJIHBsYWNlbWVudCB2YWx1ZXNcclxuXHRcdGxldCBwbGFjZW1lbnQ6ICdiZWdpbicgfCAnZW5kJyB8ICdiZWdpbi1lbmQnO1xyXG5cdFx0c3dpdGNoIChhcnJvd1Bvc2l0aW9uKSB7XHJcblx0XHRcdGNhc2UgJ3N0YXJ0JzpcclxuXHRcdFx0XHRwbGFjZW1lbnQgPSAnYmVnaW4nO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdlbmQnOlxyXG5cdFx0XHRcdHBsYWNlbWVudCA9ICdlbmQnO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdib3RoJzpcclxuXHRcdFx0XHRwbGFjZW1lbnQgPSAnYmVnaW4tZW5kJztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRjb25zb2xlLndhcm4oJ1Vua25vd24gYXJyb3cgcG9zaXRpb246JywgYXJyb3dQb3NpdGlvbiwgJ2RlZmF1bHRpbmcgdG8gZW5kJyk7XHJcblx0XHRcdFx0cGxhY2VtZW50ID0gJ2VuZCc7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly9jb25zb2xlLmxvZygnTWFwcGVkIHBsYWNlbWVudDonLCBwbGFjZW1lbnQpO1xyXG5cclxuXHRcdC8vIENyZWF0ZSBTaW1wbGVMaW5lU3ltYm9sIHdpdGggbWFya2VyIC0gYXJyb3dzIHNjYWxlIHdpdGggbGluZSB3aWR0aFxyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IFNpbXBsZUxpbmVTeW1ib2woe1xyXG5cdFx0XHRjb2xvcjogYmFzZS5jb2xvcixcclxuXHRcdFx0c3R5bGU6IGJhc2Uuc3R5bGUsXHJcblx0XHRcdHdpZHRoOiBiYXNlLndpZHRoLFxyXG5cdFx0XHRtYXJrZXI6IHtcclxuXHRcdFx0XHR0eXBlOiAnbGluZS1tYXJrZXInLFxyXG5cdFx0XHRcdHN0eWxlOiAnYXJyb3cnLFxyXG5cdFx0XHRcdHBsYWNlbWVudDogcGxhY2VtZW50LFxyXG5cdFx0XHRcdGNvbG9yOiBiYXNlLmNvbG9yXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vY29uc29sZS5sb2coJ0NyZWF0ZWQgU2ltcGxlTGluZVN5bWJvbCB3aXRoIGFycm93cycpO1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9O1xyXG5cclxuXHRwcml2YXRlIHJlbmRlckFycm93Q29udHJvbHMoKSB7XHJcblx0XHRjb25zdCB7IGFycm93RW5hYmxlZCwgYXJyb3dQb3NpdGlvbiB9ID0gdGhpcy5zdGF0ZTtcclxuXHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImFycm93LWNvbnRyb2xzIG10LTNcIj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgZHJhd1Rvb2xiYXJEaXZcIj5cclxuXHRcdFx0XHRcdDxMYWJlbCBjZW50cmljPlxyXG5cdFx0XHRcdFx0XHRFbmFibGUgQXJyb3dzXHJcblx0XHRcdFx0XHRcdDxTd2l0Y2hcclxuXHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9XCJtbC0yXCJcclxuXHRcdFx0XHRcdFx0XHRjaGVja2VkPXthcnJvd0VuYWJsZWR9XHJcblx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMuaGFuZGxlQXJyb3dUb2dnbGV9XHJcblx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHQ8L0xhYmVsPlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cclxuXHRcdFx0XHR7YXJyb3dFbmFibGVkICYmIChcclxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBtYi0yIGRyYXdUb29sYmFyRGl2XCI+XHJcblx0XHRcdFx0XHRcdDxMYWJlbCBjZW50cmljIGNsYXNzTmFtZT1cIm1iLTBcIj5BcnJvdyBQb3NpdGlvbjpcclxuXHRcdFx0XHRcdFx0XHQ8QWR2YW5jZWRCdXR0b25Hcm91cCBjbGFzc05hbWU9J21sLTInPlxyXG5cdFx0XHRcdFx0XHRcdFx0PEJ1dHRvblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J20tMCdcclxuXHRcdFx0XHRcdFx0XHRcdFx0c2l6ZT1cInNtXCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZT17YXJyb3dQb3NpdGlvbiA9PT0gJ3N0YXJ0JyA/ICdwcmltYXJ5JyA6ICdzZWNvbmRhcnknfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRhY3RpdmU9e2Fycm93UG9zaXRpb24gPT09ICdzdGFydCd9XHJcblx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCdBcnJvdyBwb3NpdGlvbiBidXR0b24gY2xpY2tlZDogc3RhcnQnKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldFN0YXRlKHsgYXJyb3dQb3NpdGlvbjogJ3N0YXJ0JyB9LCAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCdBcnJvdyBwb3NpdGlvbiB1cGRhdGVkIHRvOicsIHRoaXMuc3RhdGUuYXJyb3dQb3NpdGlvbik7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnVwZGF0ZUxpbmVBcnJvd3MoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fX1cclxuXHRcdFx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0U3RhcnRcclxuXHRcdFx0XHRcdFx0XHRcdDwvQnV0dG9uPlxyXG5cdFx0XHRcdFx0XHRcdFx0PEJ1dHRvblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J20tMCdcclxuXHRcdFx0XHRcdFx0XHRcdFx0c2l6ZT1cInNtXCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZT17YXJyb3dQb3NpdGlvbiA9PT0gJ2VuZCcgPyAncHJpbWFyeScgOiAnc2Vjb25kYXJ5J31cclxuXHRcdFx0XHRcdFx0XHRcdFx0YWN0aXZlPXthcnJvd1Bvc2l0aW9uID09PSAnZW5kJ31cclxuXHRcdFx0XHRcdFx0XHRcdFx0b25DbGljaz17KCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2coJ0Fycm93IHBvc2l0aW9uIGJ1dHRvbiBjbGlja2VkOiBlbmQnKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldFN0YXRlKHsgYXJyb3dQb3NpdGlvbjogJ2VuZCcgfSwgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnQXJyb3cgcG9zaXRpb24gdXBkYXRlZCB0bzonLCB0aGlzLnN0YXRlLmFycm93UG9zaXRpb24pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy51cGRhdGVMaW5lQXJyb3dzKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH19XHJcblx0XHRcdFx0XHRcdFx0XHQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdEVuZFxyXG5cdFx0XHRcdFx0XHRcdFx0PC9CdXR0b24+XHJcblx0XHRcdFx0XHRcdFx0XHQ8QnV0dG9uXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nbS0wJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRzaXplPVwic21cIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlPXthcnJvd1Bvc2l0aW9uID09PSAnYm90aCcgPyAncHJpbWFyeScgOiAnc2Vjb25kYXJ5J31cclxuXHRcdFx0XHRcdFx0XHRcdFx0YWN0aXZlPXthcnJvd1Bvc2l0aW9uID09PSAnYm90aCd9XHJcblx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCdBcnJvdyBwb3NpdGlvbiBidXR0b24gY2xpY2tlZDogYm90aCcpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuc2V0U3RhdGUoeyBhcnJvd1Bvc2l0aW9uOiAnYm90aCcgfSwgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnQXJyb3cgcG9zaXRpb24gdXBkYXRlZCB0bzonLCB0aGlzLnN0YXRlLmFycm93UG9zaXRpb24pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy51cGRhdGVMaW5lQXJyb3dzKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH19XHJcblx0XHRcdFx0XHRcdFx0XHQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdEJvdGhcclxuXHRcdFx0XHRcdFx0XHRcdDwvQnV0dG9uPlxyXG5cdFx0XHRcdFx0XHRcdDwvQWR2YW5jZWRCdXR0b25Hcm91cD5cclxuXHRcdFx0XHRcdFx0PC9MYWJlbD5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdCl9XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdXBkYXRlTGluZUFycm93cyA9ICgpID0+IHtcclxuXHRcdC8vY29uc29sZS5sb2coJ1VwZGF0aW5nIGxpbmUgYXJyb3dzIHdpdGggYnVpbHQtaW4gbWFya2VycywgZW5hYmxlZDonLCB0aGlzLnN0YXRlLmFycm93RW5hYmxlZCk7XHJcblx0XHQvL2NvbnNvbGUubG9nKCdVc2luZyBhcnJvdyBzaXplOicsIHRoaXMuc3RhdGUuYXJyb3dTaXplKTtcclxuXHJcblx0XHQvLyBWYWxpZGF0ZSBTa2V0Y2hWaWV3TW9kZWwgYmVmb3JlIHByb2NlZWRpbmdcclxuXHRcdGlmICghdGhpcy5za2V0Y2hWaWV3TW9kZWwgfHwgIXRoaXMuc2tldGNoVmlld01vZGVsLnZpZXcpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKCdTa2V0Y2hWaWV3TW9kZWwgbm90IGF2YWlsYWJsZSBmb3IgdXBkYXRlTGluZUFycm93cycpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVXBkYXRlIGV4aXN0aW5nIGdyYXBoaWNzXHJcblx0XHRpZiAodGhpcy5zdGF0ZS5ncmFwaGljcz8ubGVuZ3RoID4gMCkge1xyXG5cdFx0XHR0aGlzLnN0YXRlLmdyYXBoaWNzLmZvckVhY2goKGdyYTogR3JhcGhpYykgPT4ge1xyXG5cdFx0XHRcdGlmIChncmEuZ2VvbWV0cnk/LnR5cGUgIT09ICdwb2x5bGluZScpIHJldHVybjtcclxuXHJcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygnVXBkYXRpbmcgYXJyb3dzIGZvciBwb2x5bGluZTonLCBncmEuYXR0cmlidXRlcz8udW5pcXVlSWQpO1xyXG5cclxuXHRcdFx0XHQvLyBHZXQgY2xlYW4gYmFzZSBzeW1ib2wgKHJlbW92ZSBhbnkgZXhpc3RpbmcgbWFya2VyKVxyXG5cdFx0XHRcdGxldCBiYXNlU3ltYm9sOiBfX2VzcmkuU2ltcGxlTGluZVN5bWJvbDtcclxuXHJcblx0XHRcdFx0aWYgKGdyYS5zeW1ib2w/LnR5cGUgPT09ICdzaW1wbGUtbGluZScpIHtcclxuXHRcdFx0XHRcdGJhc2VTeW1ib2wgPSAoZ3JhLnN5bWJvbCBhcyBfX2VzcmkuU2ltcGxlTGluZVN5bWJvbCkuY2xvbmUoKTtcclxuXHRcdFx0XHRcdGRlbGV0ZSAoYmFzZVN5bWJvbCBhcyBhbnkpLm1hcmtlcjsgLy8gUmVtb3ZlIGV4aXN0aW5nIG1hcmtlclxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQvLyBGYWxsIGJhY2sgdG8gU2tldGNoVmlld01vZGVsJ3MgZGVmYXVsdCAtIHdpdGggdmFsaWRhdGlvblxyXG5cdFx0XHRcdFx0aWYgKCF0aGlzLnNrZXRjaFZpZXdNb2RlbC5wb2x5bGluZVN5bWJvbCkge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ1NrZXRjaFZpZXdNb2RlbCBwb2x5bGluZVN5bWJvbCBub3QgYXZhaWxhYmxlJyk7XHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGJhc2VTeW1ib2wgPSAodGhpcy5za2V0Y2hWaWV3TW9kZWwucG9seWxpbmVTeW1ib2wgYXMgX19lc3JpLlNpbXBsZUxpbmVTeW1ib2wpLmNsb25lKCk7XHJcblx0XHRcdFx0XHRkZWxldGUgKGJhc2VTeW1ib2wgYXMgYW55KS5tYXJrZXI7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoIWJhc2VTeW1ib2wgfHwgYmFzZVN5bWJvbC50eXBlICE9PSAnc2ltcGxlLWxpbmUnKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0NvdWxkIG5vdCBmaW5kIHZhbGlkIGJhc2UgbGluZSBzeW1ib2wnKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIEFwcGx5IGFycm93cyBvciByZW1vdmUgdGhlbSAtIFBBU1MgQ1VSUkVOVCBTVEFURSBWQUxVRVMgRElSRUNUTFlcclxuXHRcdFx0XHRpZiAodGhpcy5zdGF0ZS5hcnJvd0VuYWJsZWQpIHtcclxuXHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGFycm93U3ltYm9sID0gdGhpcy5jcmVhdGVMaW5lU3ltYm9sV2l0aEJ1aWx0SW5BcnJvd3MoXHJcblx0XHRcdFx0XHRcdFx0YmFzZVN5bWJvbCxcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnN0YXRlLmFycm93UG9zaXRpb24sXHJcblx0XHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5hcnJvd1NpemVcclxuXHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0Z3JhLnN5bWJvbCA9IGFycm93U3ltYm9sO1xyXG5cdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCdBcHBsaWVkIGJ1aWx0LWluIGFycm93cyB0byBncmFwaGljIHdpdGggc2l6ZTonLCB0aGlzLnN0YXRlLmFycm93U2l6ZSk7XHJcblx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0Vycm9yIGFwcGx5aW5nIGFycm93cyB0byBncmFwaGljOicsIGVycm9yKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Z3JhLnN5bWJvbCA9IGJhc2VTeW1ib2w7IC8vIFJlbW92ZSBhcnJvd3MsIHVzZSBiYXNlIHN5bWJvbFxyXG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnUmVtb3ZlZCBhcnJvd3MgZnJvbSBncmFwaGljJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBVcGRhdGUgdGhlIFNrZXRjaFZpZXdNb2RlbCBzeW1ib2wgZm9yIG5ldyBkcmF3aW5ncyAtIEZJWEVEIFZFUlNJT05cclxuXHRcdGNvbnN0IHN2bUJhc2UgPSB0aGlzLnNrZXRjaFZpZXdNb2RlbC5wb2x5bGluZVN5bWJvbCBhcyBfX2VzcmkuU2ltcGxlTGluZVN5bWJvbDtcclxuXHRcdGlmIChzdm1CYXNlICYmIHN2bUJhc2UudHlwZSA9PT0gJ3NpbXBsZS1saW5lJykge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdC8vIENyZWF0ZSBhIGNvbXBsZXRlbHkgY2xlYW4gYmFzZSBzeW1ib2wgd2l0aG91dCBhbnkgbWFya2VyIHByb3BlcnRpZXNcclxuXHRcdFx0XHRjb25zdCBjbGVhbkJhc2UgPSBuZXcgU2ltcGxlTGluZVN5bWJvbCh7XHJcblx0XHRcdFx0XHRjb2xvcjogc3ZtQmFzZS5jb2xvcixcclxuXHRcdFx0XHRcdHdpZHRoOiBzdm1CYXNlLndpZHRoLFxyXG5cdFx0XHRcdFx0c3R5bGU6IHN2bUJhc2Uuc3R5bGVcclxuXHRcdFx0XHRcdC8vIEV4cGxpY2l0bHkgTk9UIGNvcHlpbmcgdGhlIG1hcmtlciBwcm9wZXJ0eVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRjb25zdCB1cGRhdGVkU3ltYm9sID0gdGhpcy5zdGF0ZS5hcnJvd0VuYWJsZWRcclxuXHRcdFx0XHRcdD8gdGhpcy5jcmVhdGVMaW5lU3ltYm9sV2l0aEJ1aWx0SW5BcnJvd3MoXHJcblx0XHRcdFx0XHRcdGNsZWFuQmFzZSxcclxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5hcnJvd1Bvc2l0aW9uLFxyXG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLmFycm93U2l6ZVxyXG5cdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0OiBjbGVhbkJhc2U7XHJcblxyXG5cdFx0XHRcdHRoaXMuc2tldGNoVmlld01vZGVsLnBvbHlsaW5lU3ltYm9sID0gdXBkYXRlZFN5bWJvbDtcclxuXHRcdFx0XHR0aGlzLnNldFN0YXRlKHsgY3VycmVudFN5bWJvbDogdXBkYXRlZFN5bWJvbCB9KTtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdVcGRhdGVkIFNrZXRjaFZpZXdNb2RlbCBwb2x5bGluZSBzeW1ib2wgLSBhcnJvd3MgZW5hYmxlZDonLCB0aGlzLnN0YXRlLmFycm93RW5hYmxlZCk7XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0Y29uc29sZS53YXJuKCdFcnJvciB1cGRhdGluZyBTa2V0Y2hWaWV3TW9kZWwgcG9seWxpbmUgc3ltYm9sOicsIGVycm9yKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdGhhbmRsZUFycm93VG9nZ2xlID0gKGUpID0+IHtcclxuXHRcdGNvbnN0IGVuYWJsZWQgPSBlLnRhcmdldC5jaGVja2VkO1xyXG5cdFx0Ly9jb25zb2xlLmxvZygnQXJyb3cgdG9nZ2xlIGNoYW5nZWQ6JywgZW5hYmxlZCk7XHJcblxyXG5cdFx0dGhpcy5zZXRTdGF0ZSh7IGFycm93RW5hYmxlZDogZW5hYmxlZCB9LCAoKSA9PiB7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ1N0YXRlIHVwZGF0ZWQsIGNhbGxpbmcgdXBkYXRlTGluZUFycm93cycpO1xyXG5cdFx0XHR0aGlzLnVwZGF0ZUxpbmVBcnJvd3MoKTtcclxuXHRcdH0pO1xyXG5cdH07XHJcblx0cHJpdmF0ZSBpbnZhbGlkYXRlUGVuZGluZ092ZXJsYXlzID0gKCkgPT4ge1xyXG5cdFx0Ly8gQnVtcCBlcG9jaCBzbyBhbnkgc2NoZWR1bGVkIG92ZXJsYXkgdGFza3MgZnJvbSBwcmV2aW91cyBzZWxlY3Rpb25zIGFyZSBpZ25vcmVkXHJcblx0XHR0aGlzLl9zZWxlY3Rpb25FcG9jaCsrO1xyXG5cdH07XHJcblxyXG5cdHByaXZhdGUgY2xlYXJBbGxTZWxlY3Rpb25PdmVybGF5cyA9ICgpID0+IHtcclxuXHRcdGlmICghdGhpcy5kcmF3TGF5ZXIpIHJldHVybjtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHRoaXMuZHJhd0xheWVyLmdyYXBoaWNzLnRvQXJyYXkoKS5mb3JFYWNoKChnOiBhbnkpID0+IHtcclxuXHRcdFx0XHRpZiAoZyAmJiBnLl9zZWxlY3Rpb25PdmVybGF5KSB7XHJcblx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRpZiAoZy5fc2VsZWN0aW9uT3ZlcmxheS5sYXllciA9PT0gdGhpcy5kcmF3TGF5ZXIpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmRyYXdMYXllci5yZW1vdmUoZy5fc2VsZWN0aW9uT3ZlcmxheSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0gY2F0Y2ggeyB9XHJcblx0XHRcdFx0XHRnLl9zZWxlY3Rpb25PdmVybGF5ID0gbnVsbDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSBjYXRjaCB7IH1cclxuXHR9O1xyXG5cclxuXHRwcml2YXRlIHJlbW92ZUF0dGFjaGVkQnVmZmVyID0gKHBhcmVudEdyYXBoaWM6IGFueSkgPT4ge1xyXG5cdFx0aWYgKCF0aGlzLmRyYXdMYXllciB8fCAhcGFyZW50R3JhcGhpYykgcmV0dXJuO1xyXG5cclxuXHRcdGNvbnN0IHBhcmVudElkID0gcGFyZW50R3JhcGhpYy5hdHRyaWJ1dGVzPy51bmlxdWVJZDtcclxuXHRcdGlmICghcGFyZW50SWQpIHJldHVybjtcclxuXHJcblx0XHQvL2NvbnNvbGUubG9nKGDwn5eR77iPIFdpZGdldDogUmVtb3ZpbmcgYXR0YWNoZWQgYnVmZmVyIGZvciBncmFwaGljICR7cGFyZW50SWR9YCk7XHJcblxyXG5cdFx0Ly8gUmVtb3ZlIGJ1ZmZlciBncmFwaGljIGZyb20gbGF5ZXJcclxuXHRcdGlmIChwYXJlbnRHcmFwaGljLmJ1ZmZlckdyYXBoaWMpIHtcclxuXHRcdFx0dGhpcy5kcmF3TGF5ZXIucmVtb3ZlKHBhcmVudEdyYXBoaWMuYnVmZmVyR3JhcGhpYyk7XHJcblx0XHRcdHBhcmVudEdyYXBoaWMuYnVmZmVyR3JhcGhpYyA9IG51bGw7XHJcblx0XHRcdC8vY29uc29sZS5sb2coYOKchSBXaWRnZXQ6IFJlbW92ZWQgYXR0YWNoZWQgYnVmZmVyIGdyYXBoaWNgKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDbGVhciBidWZmZXIgc2V0dGluZ3NcclxuXHRcdGlmIChwYXJlbnRHcmFwaGljLmJ1ZmZlclNldHRpbmdzKSB7XHJcblx0XHRcdHBhcmVudEdyYXBoaWMuYnVmZmVyU2V0dGluZ3MgPSBudWxsO1xyXG5cdFx0XHQvL2NvbnNvbGUubG9nKGDinIUgV2lkZ2V0OiBDbGVhcmVkIGJ1ZmZlciBzZXR0aW5nc2ApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFJlbW92ZSBnZW9tZXRyeSB3YXRjaGVyIGlmIGl0IGV4aXN0c1xyXG5cdFx0Y29uc3Qgd2F0Y2hlcktleSA9IHBhcmVudElkICsgJ193aWRnZXRfYnVmZmVyJztcclxuXHRcdGlmICh0aGlzLl9wb3NpdGlvbldhdGNoZXJzICYmIHRoaXMuX3Bvc2l0aW9uV2F0Y2hlcnNbd2F0Y2hlcktleV0pIHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHR0aGlzLl9wb3NpdGlvbldhdGNoZXJzW3dhdGNoZXJLZXldLnJlbW92ZSgpO1xyXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLl9wb3NpdGlvbldhdGNoZXJzW3dhdGNoZXJLZXldO1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coYOKchSBXaWRnZXQ6IFJlbW92ZWQgYnVmZmVyIGdlb21ldHJ5IHdhdGNoZXJgKTtcclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRjb25zb2xlLndhcm4oJ1dpZGdldDogRXJyb3IgcmVtb3ZpbmcgYnVmZmVyIGdlb21ldHJ5IHdhdGNoZXI6JywgZXJyb3IpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHRwcml2YXRlIGNsZWFudXBPcnBoYW5lZEJ1ZmZlcnMgPSAoKSA9PiB7XHJcblx0XHRpZiAoIXRoaXMuZHJhd0xheWVyKSByZXR1cm47XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgYWxsR3JhcGhpY3MgPSB0aGlzLmRyYXdMYXllci5ncmFwaGljcy50b0FycmF5KCk7XHJcblxyXG5cdFx0XHQvLyBHZXQgYWxsIGJ1ZmZlciBncmFwaGljcyAoaW5jbHVkaW5nIHByZXZpZXcgYnVmZmVycyBhbmQgYXR0YWNoZWQgYnVmZmVycylcclxuXHRcdFx0Y29uc3QgYWxsQnVmZmVycyA9IGFsbEdyYXBoaWNzLmZpbHRlcihnID0+XHJcblx0XHRcdFx0Zy5hdHRyaWJ1dGVzPy5pc1ByZXZpZXdCdWZmZXIgfHxcclxuXHRcdFx0XHRnLmF0dHJpYnV0ZXM/LmlzQnVmZmVyIHx8XHJcblx0XHRcdFx0Zy5hdHRyaWJ1dGVzPy5pc0J1ZmZlckRyYXdpbmdcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdGNvbnN0IG1lYXN1cmVtZW50TGFiZWxzID0gYWxsR3JhcGhpY3MuZmlsdGVyKGcgPT4gZy5hdHRyaWJ1dGVzPy5pc01lYXN1cmVtZW50TGFiZWwpO1xyXG5cclxuXHRcdFx0Ly8gR2V0IGFsbCBtYWluIGdyYXBoaWNzIChwb3RlbnRpYWwgcGFyZW50cylcclxuXHRcdFx0Y29uc3QgbWFpbkdyYXBoaWNzID0gYWxsR3JhcGhpY3MuZmlsdGVyKGcgPT5cclxuXHRcdFx0XHQhZy5hdHRyaWJ1dGVzPy5pc1ByZXZpZXdCdWZmZXIgJiZcclxuXHRcdFx0XHQhZy5hdHRyaWJ1dGVzPy5pc0J1ZmZlciAmJlxyXG5cdFx0XHRcdCFnLmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRMYWJlbCAmJlxyXG5cdFx0XHRcdCFnLmF0dHJpYnV0ZXM/LmhpZGVGcm9tTGlzdCAmJlxyXG5cdFx0XHRcdCFnLmF0dHJpYnV0ZXM/LmlzQnVmZmVyRHJhd2luZ1xyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Ly8gQ3JlYXRlIHNldCBvZiB2YWxpZCBwYXJlbnQgSURzXHJcblx0XHRcdGNvbnN0IHZhbGlkUGFyZW50SWRzID0gbmV3IFNldChcclxuXHRcdFx0XHRtYWluR3JhcGhpY3NcclxuXHRcdFx0XHRcdC5tYXAoZyA9PiBnLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkKVxyXG5cdFx0XHRcdFx0LmZpbHRlcihpZCA9PiBpZClcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdC8vIEZpbmQgb3JwaGFuZWQgYnVmZmVyc1xyXG5cdFx0XHRjb25zdCBvcnBoYW5lZEJ1ZmZlcnMgPSBhbGxCdWZmZXJzLmZpbHRlcihidWZmZXIgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHBhcmVudElkID0gYnVmZmVyLmF0dHJpYnV0ZXM/LnBhcmVudElkIHx8XHJcblx0XHRcdFx0XHRidWZmZXIuYXR0cmlidXRlcz8uc291cmNlR3JhcGhpY0lkO1xyXG5cdFx0XHRcdHJldHVybiAhcGFyZW50SWQgfHwgIXZhbGlkUGFyZW50SWRzLmhhcyhwYXJlbnRJZCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gRmluZCBvcnBoYW5lZCBtZWFzdXJlbWVudCBsYWJlbHNcclxuXHRcdFx0Y29uc3Qgb3JwaGFuZWRNZWFzdXJlbWVudExhYmVscyA9IG1lYXN1cmVtZW50TGFiZWxzLmZpbHRlcihsYWJlbCA9PiB7XHJcblx0XHRcdFx0Y29uc3QgcGFyZW50SWQgPSBsYWJlbC5hdHRyaWJ1dGVzPy5wYXJlbnRHcmFwaGljSWQ7XHJcblx0XHRcdFx0cmV0dXJuICFwYXJlbnRJZCB8fCAhdmFsaWRQYXJlbnRJZHMuaGFzKHBhcmVudElkKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBSZW1vdmUgb3JwaGFuZWQgaXRlbXNcclxuXHRcdFx0aWYgKG9ycGhhbmVkQnVmZmVycy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0Ly9jb25zb2xlLmxvZyhgV2lkZ2V0OiBDbGVhbmluZyB1cCAke29ycGhhbmVkQnVmZmVycy5sZW5ndGh9IG9ycGhhbmVkIGJ1ZmZlciBncmFwaGljc2ApO1xyXG5cdFx0XHRcdG9ycGhhbmVkQnVmZmVycy5mb3JFYWNoKGJ1ZmZlciA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLmRyYXdMYXllci5yZW1vdmUoYnVmZmVyKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKG9ycGhhbmVkTWVhc3VyZW1lbnRMYWJlbHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coYFdpZGdldDogQ2xlYW5pbmcgdXAgJHtvcnBoYW5lZE1lYXN1cmVtZW50TGFiZWxzLmxlbmd0aH0gb3JwaGFuZWQgbWVhc3VyZW1lbnQgbGFiZWxzYCk7XHJcblx0XHRcdFx0b3JwaGFuZWRNZWFzdXJlbWVudExhYmVscy5mb3JFYWNoKGxhYmVsID0+IHtcclxuXHRcdFx0XHRcdHRoaXMuZHJhd0xheWVyLnJlbW92ZShsYWJlbCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChvcnBoYW5lZEJ1ZmZlcnMubGVuZ3RoID4gMCB8fCBvcnBoYW5lZE1lYXN1cmVtZW50TGFiZWxzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKGDinIUgV2lkZ2V0OiBCdWZmZXIgY2xlYW51cCBjb21wbGV0ZWQgLSByZW1vdmVkICR7b3JwaGFuZWRCdWZmZXJzLmxlbmd0aH0gYnVmZmVycyBhbmQgJHtvcnBoYW5lZE1lYXN1cmVtZW50TGFiZWxzLmxlbmd0aH0gbGFiZWxzYCk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ+KdjCBXaWRnZXQ6IEVycm9yIGNsZWFuaW5nIHVwIG9ycGhhbmVkIGdyYXBoaWNzOicsIGVycm9yKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG5cdFx0c3VwZXIocHJvcHMpO1xyXG5cdFx0dGhpcy5zdGF0ZSA9IHtcclxuXHRcdFx0Y3VycmVudEppbXVNYXBWaWV3OiBudWxsLFxyXG5cdFx0XHRncmFwaGljczogW10sXHJcblx0XHRcdHBvaW50QnRuQWN0aXZlOiBmYWxzZSxcclxuXHRcdFx0bGluZUJ0bkFjdGl2ZTogZmFsc2UsXHJcblx0XHRcdGZsaW5lQnRuQWN0aXZlOiBmYWxzZSxcclxuXHRcdFx0cmVjdEJ0bkFjdGl2ZTogZmFsc2UsXHJcblx0XHRcdHBvbHlnb25CdG5BY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHRmcG9seWdvbkJ0bkFjdGl2ZTogZmFsc2UsXHJcblx0XHRcdGNpcmNsZUJ0bkFjdGl2ZTogZmFsc2UsXHJcblx0XHRcdHRleHRCdG5BY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHRzaG93U3ltUHJldmlldzogZmFsc2UsXHJcblx0XHRcdGN1cnJlbnRTeW1ib2w6IG51bGwsXHJcblx0XHRcdGN1cnJlbnRTeW1ib2xUeXBlOiBudWxsLFxyXG5cdFx0XHRjdXJyZW50VGV4dFN5bWJvbDogbmV3IFRleHRTeW1ib2woe1xyXG5cdFx0XHRcdHZlcnRpY2FsQWxpZ25tZW50OiAnbWlkZGxlJyxcclxuXHRcdFx0XHRmb250OiB7IGZhbWlseTogJ0F2ZW5pciBOZXh0IExUIFBybycgfSxcclxuXHRcdFx0XHR0ZXh0OiAnVGV4dCdcclxuXHRcdFx0fSksXHJcblx0XHRcdHVuZG9CdG5BY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHRyZWRvQnRuQWN0aXZlOiBmYWxzZSxcclxuXHRcdFx0Y2xlYXJCdG5BY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHRkcmF3R0xMZW5ndGhjaGVjazogZmFsc2UsXHJcblx0XHRcdGN1cnJlbnRUb29sOiAnJyxcclxuXHRcdFx0Y2xlYXJCdG5UaXRsZTogdGhpcy5ubHMoJ2RyYXdDbGVhcicpLFxyXG5cdFx0XHRjYW5VbmRvOiBmYWxzZSxcclxuXHRcdFx0Y2FuUmVkbzogZmFsc2UsXHJcblx0XHRcdHNob3dUZXh0UHJldmlldzogZmFsc2UsXHJcblx0XHRcdHRleHRTeW1QcmV2aWV3VGV4dDogJ1RleHQnLFxyXG5cdFx0XHRmb250Q29sb3I6ICdyZ2JhKDAsMCwwLDEpJyxcclxuXHRcdFx0Zm9udFNpemU6IGAke25ldyBUZXh0U3ltYm9sKCkuZm9udC5zaXplID8/IDE0fWAsXHJcblx0XHRcdGZvbnRIYWxvU2l6ZTogMSxcclxuXHRcdFx0Zm9udEhhbG9Db2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMSknLFxyXG5cdFx0XHRmb250SGFsb0VuYWJsZWQ6IGZhbHNlLFxyXG5cdFx0XHRmb250SGFsbzogJ3Vuc2V0JyxcclxuXHRcdFx0Zm9udFdlaWdodDogJ25vcm1hbCcsXHJcblx0XHRcdGZvbnREZWNvcmF0aW9uOiAnbm9uZScsXHJcblx0XHRcdGZvbnRTdHlsZTogJ25vcm1hbCcsXHJcblx0XHRcdGhUZXh0QWxpZ246IFRleHRBbGlnblZhbHVlLkNFTlRFUixcclxuXHRcdFx0dlRleHRBbGlnbjogJ21pZGRsZScsXHJcblx0XHRcdGZvbnRSb3RhdGlvbjogMCxcclxuXHRcdFx0dkFsaWduQmFzZUJ0bkFjdGl2ZTogZmFsc2UsXHJcblx0XHRcdHZBbGlnblRvcEJ0bkFjdGl2ZTogZmFsc2UsXHJcblx0XHRcdHZBbGlnbk1pZEJ0bkFjdGl2ZTogdHJ1ZSxcclxuXHRcdFx0dkFsaWduQm90QnRuQWN0aXZlOiBmYWxzZSxcclxuXHRcdFx0dGV4dFByZXZpZXdIZWlnaHQ6IDI1LFxyXG5cdFx0XHRoQWxpZ25MZWZ0QnRuQWN0aXZlOiBmYWxzZSxcclxuXHRcdFx0aEFsaWduQ2VudGVyQnRuQWN0aXZlOiB0cnVlLFxyXG5cdFx0XHRoQWxpZ25SaWdodEJ0bkFjdGl2ZTogZmFsc2UsXHJcblx0XHRcdGZzQm9sZEJ0bkFjdGl2ZTogZmFsc2UsXHJcblx0XHRcdGZzSXRhbGljQnRuQWN0aXZlOiBmYWxzZSxcclxuXHRcdFx0ZnNVbmRlcmxpbmVCdG5BY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHR3aWRnZXRJbml0OiBmYWxzZSxcclxuXHRcdFx0dGV4dFByZXZpZXdpc09wZW46IGZhbHNlLFxyXG5cdFx0XHRmb250T3BhY2l0eTogMSxcclxuXHRcdFx0Zm9udEhhbG9PcGFjaXR5OiAxLFxyXG5cdFx0XHR0ZXh0SGFzQ2hhbmdlZDogZmFsc2UsXHJcblx0XHRcdHJvdGF0aW9uTW9kZTogZmFsc2UsXHJcblx0XHRcdGRyYXdMYXllclRpdGxlOiB0aGlzLnByb3BzLmNvbmZpZy50aXRsZSxcclxuXHRcdFx0bGlzdE1vZGU6IHRoaXMucHJvcHMuY29uZmlnLmxpc3RNb2RlID8gJ3Nob3cnIDogJ2hpZGUnLFxyXG5cdFx0XHRjb25maXJtRGVsZXRlOiBmYWxzZSxcclxuXHRcdFx0Zm9udEJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsMCknLFxyXG5cdFx0XHRzaG93RHJhd2luZ3NQYW5lbDogZmFsc2UsIC8vIEFkZGVkIEJNXHJcblx0XHRcdHNlbGVjdGVkRHJhd2luZ0luZGV4OiBudWxsLCAvLyBBZGRlZCBCTVxyXG5cdFx0XHRhY3RpdmVUYWI6ICdkcmF3JywgLy8gQWRkZWQgQk1cclxuXHRcdFx0c2VsZWN0ZWRHcmFwaGljSW5kZXg6IG51bGwsXHJcblx0XHRcdHNlbGVjdGVkR3JhcGhpY3M6IG5ldyBTZXQ8bnVtYmVyPigpLFxyXG5cdFx0XHRhcnJvd0VuYWJsZWQ6IGZhbHNlLFxyXG5cdFx0XHRhcnJvd1Bvc2l0aW9uOiAnZW5kJyxcclxuXHRcdFx0YXJyb3dTaXplOiAyNCxcclxuXHRcdFx0bWVhc3VyZW1lbnRDaGVja2JveE9uOiBmYWxzZVxyXG5cdFx0fTtcclxuXHRcdHRoaXMuY3JlYXRpb25Nb2RlID0gdGhpcy5wcm9wcy5jb25maWcuY3JlYXRpb25Nb2RlIHx8IERyYXdNb2RlLlNJTkdMRTtcclxuXHR9XHJcblxyXG5cdG5scyA9IChpZDogc3RyaW5nKSA9PiB7XHJcblx0XHRyZXR1cm4gdGhpcy5wcm9wcy5pbnRsID8gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogaWQsIGRlZmF1bHRNZXNzYWdlOiBkZWZNZXNzYWdlc1tpZF0gfSkgOiBpZDtcclxuXHR9XHJcblxyXG5cdGNvbXBvbmVudERpZE1vdW50KCkge1xyXG5cdFx0dGhpcy5zZXRTdGF0ZSh7IHdpZGdldEluaXQ6IHRydWUgfSk7XHJcblx0XHR0aGlzLmRyYXdMYXllciA9IG5ldyBHcmFwaGljc0xheWVyKHtcclxuXHRcdFx0aWQ6ICdEcmF3R0wnLFxyXG5cdFx0XHRsaXN0TW9kZTogdGhpcy5wcm9wcy5jb25maWcubGlzdE1vZGUgPyAnc2hvdycgOiAnaGlkZScsXHJcblx0XHRcdHRpdGxlOiB0aGlzLnByb3BzLmNvbmZpZy50aXRsZVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gSW5pdGlhbGl6ZSBkcmF3aW5nIG1hcCBmb3IgZ3JhcGhpYyB0cmFja2luZ1xyXG5cdFx0dGhpcy5fZHJhd2luZ01hcCA9IG5ldyBNYXAoKTtcclxuXHJcblx0XHQvLyBMaXN0ZW4gZm9yIHNhdmUgZXZlbnRzIGZyb20gQnVmZmVyQ29udHJvbHNcclxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzYXZlRHJhd2luZ3NUb1N0b3JhZ2UnLCB0aGlzLmhhbmRsZVNhdmVFdmVudCk7XHJcblx0fVxyXG5cclxuXHQvLyBBZGQgdGhpcyBuZXcgbWV0aG9kIHRvIGhhbmRsZSBzYXZlIGV2ZW50c1xyXG5cdHByaXZhdGUgaGFuZGxlU2F2ZUV2ZW50ID0gKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xyXG5cdFx0Ly9jb25zb2xlLmxvZygn8J+TpiBSZWNlaXZlZCBzYXZlIGV2ZW50IGZyb20gQnVmZmVyQ29udHJvbHMnKTtcclxuXHJcblx0XHQvLyBUcmlnZ2VyIHRoZSBzYXZlIHRvIGxvY2FsU3RvcmFnZVxyXG5cdFx0aWYgKHRoaXMuZHJhd0xheWVyKSB7XHJcblx0XHRcdGNvbnN0IGFsbERyYXdpbmdzID0gdGhpcy5kcmF3TGF5ZXIuZ3JhcGhpY3MudG9BcnJheSgpO1xyXG5cdFx0XHR0aGlzLmhhbmRsZURyYXdpbmdzVXBkYXRlKGFsbERyYXdpbmdzKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBSZWFkb25seTxBbGxXaWRnZXRQcm9wczxJTUNvbmZpZz4+LCBwcmV2U3RhdGU6IFJlYWRvbmx5PFN0YXRlcz4pIHtcclxuXHRcdGlmICh0aGlzLnN0YXRlLmN1cnJlbnRKaW11TWFwVmlldykge1xyXG5cdFx0XHRjb25zdCB3aWRnZXRTdGF0ZTogV2lkZ2V0U3RhdGUgPSB0aGlzLnByb3BzLnN0YXRlO1xyXG5cdFx0XHRjb25zdCB2aWV3ID0gdGhpcy5zdGF0ZS5jdXJyZW50SmltdU1hcFZpZXcudmlldztcclxuXHJcblx0XHRcdGlmICh3aWRnZXRTdGF0ZSA9PT0gV2lkZ2V0U3RhdGUuQ2xvc2VkICYmIHRoaXMuc2tldGNoVmlld01vZGVsKSB7XHJcblx0XHRcdFx0Ly8gUHJvcGVybHkgY2FuY2VsIGFueSBhY3RpdmUgb3BlcmF0aW9uc1xyXG5cdFx0XHRcdHRoaXMuc2tldGNoVmlld01vZGVsLmNhbmNlbCgpO1xyXG5cdFx0XHRcdHRoaXMuc2tldGNoVmlld01vZGVsLnVwZGF0ZU9uR3JhcGhpY0NsaWNrID0gZmFsc2U7XHJcblxyXG5cdFx0XHRcdC8vIENsZWFyIGFueSBhY3RpdmUgZHJhd2luZyBzdGF0ZXMgdG8gcHJldmVudCBpbnRlcmZlcmVuY2Ugd2l0aCBtYXAgaW50ZXJhY3Rpb25zXHJcblx0XHRcdFx0dGhpcy5zZXREcmF3VG9vbEJ0blN0YXRlKG51bGwpO1xyXG5cclxuXHRcdFx0XHQvLyBSZXN0b3JlIG9yaWdpbmFsIHBvcHVwIHN0YXRlXHJcblx0XHRcdFx0aWYgKHZpZXcpIHtcclxuXHRcdFx0XHRcdC8vIE9ubHkgcmVzdG9yZSBpZiB3ZSBoYXZlIHRoZSBvcmlnaW5hbCB2YWx1ZVxyXG5cdFx0XHRcdFx0aWYgKHRoaXMub3JpZ2luYWxQb3B1cEVuYWJsZWQgIT09IG51bGwpIHtcclxuXHRcdFx0XHRcdFx0dmlldy5wb3B1cEVuYWJsZWQgPSB0aGlzLm9yaWdpbmFsUG9wdXBFbmFibGVkO1xyXG5cdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCdSZXN0b3JlZCBwb3B1cCBzdGF0ZSB0bzonLCB0aGlzLm9yaWdpbmFsUG9wdXBFbmFibGVkKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAodmlldy5wb3B1cCAmJiBcImF1dG9DbG9zZUVuYWJsZWRcIiBpbiB2aWV3LnBvcHVwKSB7XHJcblx0XHRcdFx0XHRcdHZpZXcucG9wdXAuYXV0b0Nsb3NlRW5hYmxlZCA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gUmVzdG9yZSBoaWdobGlnaHQgYXBwZWFyYW5jZVxyXG5cdFx0XHRcdFx0dmlldy5oaWdobGlnaHRPcHRpb25zID0ge1xyXG5cdFx0XHRcdFx0XHRjb2xvcjogWzAsIDI1NSwgMjU1LCAxXSxcclxuXHRcdFx0XHRcdFx0ZmlsbE9wYWNpdHk6IDAuMCxcclxuXHRcdFx0XHRcdFx0aGFsb09wYWNpdHk6IDAuOFxyXG5cdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHQvLyBSZXN0b3JlIGxheWVyLWxldmVsIGhpZ2hsaWdodCBzdHlsaW5nXHJcblx0XHRcdFx0XHR2aWV3Lm1hcC5sYXllcnMuZm9yRWFjaChsYXllciA9PiB7XHJcblx0XHRcdFx0XHRcdHZpZXcud2hlbkxheWVyVmlldyhsYXllcikudGhlbigobGF5ZXJWaWV3OiBfX2VzcmkuTGF5ZXJWaWV3KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGxheWVyLnR5cGUgPT09IFwiZmVhdHVyZVwiKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBmZWF0dXJlTGF5ZXJWaWV3ID0gbGF5ZXJWaWV3IGFzIGFueTtcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChcImhpZ2hsaWdodE9wdGlvbnNcIiBpbiBmZWF0dXJlTGF5ZXJWaWV3KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGZlYXR1cmVMYXllclZpZXcuaGlnaGxpZ2h0T3B0aW9ucyA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xvcjogWzAsIDI1NSwgMjU1LCAxXSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmaWxsT3BhY2l0eTogMC4wLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGhhbG9PcGFjaXR5OiAwLjhcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gQ2xlYXIgd2lkZ2V0IGdyYXBoaWNzIGJ1dCBwcmVzZXJ2ZSBkcmF3IGxheWVyXHJcblx0XHRcdFx0XHRjb25zdCBhbGxHcmFwaGljcyA9IHZpZXcuZ3JhcGhpY3MudG9BcnJheSgpO1xyXG5cdFx0XHRcdFx0Y29uc3QgZ3JhcGhpY3NUb1JlbW92ZSA9IGFsbEdyYXBoaWNzLmZpbHRlcihncmFwaGljID0+XHJcblx0XHRcdFx0XHRcdGdyYXBoaWMubGF5ZXIgIT09IHRoaXMuZHJhd0xheWVyXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0dmlldy5ncmFwaGljcy5yZW1vdmVNYW55KGdyYXBoaWNzVG9SZW1vdmUpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKHRoaXMucHJvcHMuY29uZmlnLnR1cm5PZmZPbkNsb3NlKSB7XHJcblx0XHRcdFx0XHR0aGlzLnNldERyYXdUb29sQnRuU3RhdGUobnVsbCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKHdpZGdldFN0YXRlID09PSBXaWRnZXRTdGF0ZS5PcGVuZWQgJiYgdGhpcy5za2V0Y2hWaWV3TW9kZWwpIHtcclxuXHRcdFx0XHR0aGlzLnNrZXRjaFZpZXdNb2RlbC51cGRhdGVPbkdyYXBoaWNDbGljayA9IHRydWU7XHJcblxyXG5cdFx0XHRcdC8vIERpc2FibGUgaW50ZXJhY3Rpb25zIHdoZW4gd2lkZ2V0IG9wZW5zXHJcblx0XHRcdFx0aWYgKHZpZXcpIHtcclxuXHRcdFx0XHRcdC8vIFN0b3JlIG9yaWdpbmFsIHN0YXRlIG9ubHkgaWYgbm90IGFscmVhZHkgc3RvcmVkXHJcblx0XHRcdFx0XHRpZiAodGhpcy5vcmlnaW5hbFBvcHVwRW5hYmxlZCA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLm9yaWdpbmFsUG9wdXBFbmFibGVkID0gdmlldy5wb3B1cEVuYWJsZWQ7XHJcblx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2coJ1N0b3JlZCBvcmlnaW5hbCBwb3B1cCBzdGF0ZTonLCB0aGlzLm9yaWdpbmFsUG9wdXBFbmFibGVkKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBEaXNhYmxlIHBvcHVwcyBhbmQgaW50ZXJhY3Rpb25zXHJcblx0XHRcdFx0XHR2aWV3LnBvcHVwRW5hYmxlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0aWYgKHZpZXcucG9wdXAgJiYgXCJhdXRvQ2xvc2VFbmFibGVkXCIgaW4gdmlldy5wb3B1cCkge1xyXG5cdFx0XHRcdFx0XHR2aWV3LnBvcHVwLmF1dG9DbG9zZUVuYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHZpZXcucG9wdXAudmlzaWJsZSA9IGZhbHNlO1xyXG5cclxuXHRcdFx0XHRcdC8vIE1ha2UgaGlnaGxpZ2h0cyBpbnZpc2libGVcclxuXHRcdFx0XHRcdHZpZXcuaGlnaGxpZ2h0T3B0aW9ucyA9IHtcclxuXHRcdFx0XHRcdFx0Y29sb3I6IFswLCAwLCAwLCAwXSxcclxuXHRcdFx0XHRcdFx0ZmlsbE9wYWNpdHk6IDAsXHJcblx0XHRcdFx0XHRcdGhhbG9PcGFjaXR5OiAwXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQmFja3VwIGNoZWNrIGZvciB3aWRnZXRzIHdpdGhvdXQgc3RhdGUgbWFuYWdlbWVudCAodXNlZCBvdXRzaWRlIHdpZGdldCBjb250cm9sbGVyKVxyXG5cdFx0XHRpZiAodmlldyAmJiB0aGlzLm9yaWdpbmFsUG9wdXBFbmFibGVkICE9PSBudWxsKSB7XHJcblx0XHRcdFx0Ly8gQ2hlY2sgaWYgd2lkZ2V0IHN0YXRlIGlzIHVuZGVmaW5lZC9udWxsIChub3QgbWFuYWdlZCBieSBjb250cm9sbGVyKVxyXG5cdFx0XHRcdGNvbnN0IGlzV2lkZ2V0Q29udHJvbGxlZCA9IHdpZGdldFN0YXRlICE9PSB1bmRlZmluZWQgJiYgd2lkZ2V0U3RhdGUgIT09IG51bGw7XHJcblxyXG5cdFx0XHRcdGlmICghaXNXaWRnZXRDb250cm9sbGVkKSB7XHJcblx0XHRcdFx0XHQvLyBGb3IgdW5jb250cm9sbGVkIHdpZGdldHMsIHJlc3RvcmUgcG9wdXBzIHdoZW4gbm90IGluIGRyYXdpbmcgbW9kZVxyXG5cdFx0XHRcdFx0Y29uc3QgaXNEcmF3aW5nQWN0aXZlID0gdGhpcy5zdGF0ZS5wb2ludEJ0bkFjdGl2ZSB8fCB0aGlzLnN0YXRlLmxpbmVCdG5BY3RpdmUgfHxcclxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5mbGluZUJ0bkFjdGl2ZSB8fCB0aGlzLnN0YXRlLnJlY3RCdG5BY3RpdmUgfHxcclxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5wb2x5Z29uQnRuQWN0aXZlIHx8IHRoaXMuc3RhdGUuZnBvbHlnb25CdG5BY3RpdmUgfHxcclxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5jaXJjbGVCdG5BY3RpdmUgfHwgdGhpcy5zdGF0ZS50ZXh0QnRuQWN0aXZlO1xyXG5cclxuXHRcdFx0XHRcdC8vIENoZWNrIGlmIGRyYXdpbmcgc3RhdGUgY2hhbmdlZCBmcm9tIGFjdGl2ZSB0byBpbmFjdGl2ZVxyXG5cdFx0XHRcdFx0Y29uc3Qgd2FzRHJhd2luZ0FjdGl2ZSA9IHByZXZTdGF0ZS5wb2ludEJ0bkFjdGl2ZSB8fCBwcmV2U3RhdGUubGluZUJ0bkFjdGl2ZSB8fFxyXG5cdFx0XHRcdFx0XHRwcmV2U3RhdGUuZmxpbmVCdG5BY3RpdmUgfHwgcHJldlN0YXRlLnJlY3RCdG5BY3RpdmUgfHxcclxuXHRcdFx0XHRcdFx0cHJldlN0YXRlLnBvbHlnb25CdG5BY3RpdmUgfHwgcHJldlN0YXRlLmZwb2x5Z29uQnRuQWN0aXZlIHx8XHJcblx0XHRcdFx0XHRcdHByZXZTdGF0ZS5jaXJjbGVCdG5BY3RpdmUgfHwgcHJldlN0YXRlLnRleHRCdG5BY3RpdmU7XHJcblxyXG5cdFx0XHRcdFx0Ly8gUmVzdG9yZSBwb3B1cHMgd2hlbiBleGl0aW5nIGRyYXdpbmcgbW9kZVxyXG5cdFx0XHRcdFx0aWYgKHdhc0RyYXdpbmdBY3RpdmUgJiYgIWlzRHJhd2luZ0FjdGl2ZSAmJiAhdmlldy5wb3B1cEVuYWJsZWQgJiYgdGhpcy5vcmlnaW5hbFBvcHVwRW5hYmxlZCkge1xyXG5cdFx0XHRcdFx0XHR2aWV3LnBvcHVwRW5hYmxlZCA9IHRoaXMub3JpZ2luYWxQb3B1cEVuYWJsZWQ7XHJcblx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2coJ1Jlc3RvcmVkIHBvcHVwIHN0YXRlICh1bmNvbnRyb2xsZWQgd2lkZ2V0KTonLCB0aGlzLm9yaWdpbmFsUG9wdXBFbmFibGVkKTtcclxuXHJcblx0XHRcdFx0XHRcdGlmICh2aWV3LnBvcHVwICYmIFwiYXV0b0Nsb3NlRW5hYmxlZFwiIGluIHZpZXcucG9wdXApIHtcclxuXHRcdFx0XHRcdFx0XHR2aWV3LnBvcHVwLmF1dG9DbG9zZUVuYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBSZXN0b3JlIGhpZ2hsaWdodCBhcHBlYXJhbmNlXHJcblx0XHRcdFx0XHRcdHZpZXcuaGlnaGxpZ2h0T3B0aW9ucyA9IHtcclxuXHRcdFx0XHRcdFx0XHRjb2xvcjogWzAsIDI1NSwgMjU1LCAxXSxcclxuXHRcdFx0XHRcdFx0XHRmaWxsT3BhY2l0eTogMC4wLFxyXG5cdFx0XHRcdFx0XHRcdGhhbG9PcGFjaXR5OiAwLjhcclxuXHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vIERpc2FibGUgcG9wdXBzIHdoZW4gZW50ZXJpbmcgZHJhd2luZyBtb2RlXHJcblx0XHRcdFx0XHRlbHNlIGlmICghd2FzRHJhd2luZ0FjdGl2ZSAmJiBpc0RyYXdpbmdBY3RpdmUgJiYgdmlldy5wb3B1cEVuYWJsZWQpIHtcclxuXHRcdFx0XHRcdFx0dmlldy5wb3B1cEVuYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnRGlzYWJsZWQgcG9wdXBzICh1bmNvbnRyb2xsZWQgd2lkZ2V0LCBlbnRlcmluZyBkcmF3aW5nIG1vZGUpJyk7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAodmlldy5wb3B1cCAmJiBcImF1dG9DbG9zZUVuYWJsZWRcIiBpbiB2aWV3LnBvcHVwKSB7XHJcblx0XHRcdFx0XHRcdFx0dmlldy5wb3B1cC5hdXRvQ2xvc2VFbmFibGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0dmlldy5wb3B1cC52aXNpYmxlID0gZmFsc2U7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBNYWtlIGhpZ2hsaWdodHMgaW52aXNpYmxlXHJcblx0XHRcdFx0XHRcdHZpZXcuaGlnaGxpZ2h0T3B0aW9ucyA9IHtcclxuXHRcdFx0XHRcdFx0XHRjb2xvcjogWzAsIDAsIDAsIDBdLFxyXG5cdFx0XHRcdFx0XHRcdGZpbGxPcGFjaXR5OiAwLFxyXG5cdFx0XHRcdFx0XHRcdGhhbG9PcGFjaXR5OiAwXHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2V0IHRpdGxlcyBmb3IgY29sb3IgcGlja2VyIGlucHV0c1xyXG5cdFx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2ZvbnRjb2xvcnBpY2tlcicpWzBdKSB7XHJcblx0XHRcdChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdmb250Y29sb3JwaWNrZXInKVswXSBhcyBIVE1MRWxlbWVudCkudGl0bGUgPSB0aGlzLm5scygnZm9udENvbG9yJyk7XHJcblx0XHR9XHJcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZm9udHJvdGF0aW9uaW5wdXQnKVswXSkge1xyXG5cdFx0XHQoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZm9udHJvdGF0aW9uaW5wdXQnKVswXSBhcyBIVE1MRWxlbWVudCkudGl0bGUgPSB0aGlzLm5scygnZm9udFJvdGF0aW9uJyk7XHJcblx0XHR9XHJcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZm9udHNpemVpbnB1dCcpWzBdKSB7XHJcblx0XHRcdChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdmb250c2l6ZWlucHV0JylbMF0gYXMgSFRNTEVsZW1lbnQpLnRpdGxlID0gdGhpcy5ubHMoJ2ZvbnRTaXplJyk7XHJcblx0XHR9XHJcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZm9udGhhbG9jb2xvcnBpY2tlcicpWzBdKSB7XHJcblx0XHRcdChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdmb250aGFsb2NvbG9ycGlja2VyJylbMF0gYXMgSFRNTEVsZW1lbnQpLnRpdGxlID0gdGhpcy5ubHMoJ2ZvbnRIYWxvQ29sb3InKTtcclxuXHRcdH1cclxuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdmb250aGFsb3NpemVpbnB1dCcpWzBdKSB7XHJcblx0XHRcdChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdmb250aGFsb3NpemVpbnB1dCcpWzBdIGFzIEhUTUxFbGVtZW50KS50aXRsZSA9IHRoaXMubmxzKCdmb250SGFsb1NpemUnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG5cdFx0Ly8gQ2xlYW4gdXAgbWVhc3VyZW1lbnQgdXBkYXRlIHRpbWVvdXRzXHJcblx0XHRpZiAodGhpcy5fbWVhc3VyZW1lbnRVcGRhdGVUaW1lb3V0KSB7XHJcblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLl9tZWFzdXJlbWVudFVwZGF0ZVRpbWVvdXQpO1xyXG5cdFx0XHR0aGlzLl9tZWFzdXJlbWVudFVwZGF0ZVRpbWVvdXQgPSBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLl9hY3RpdmVNZWFzdXJlbWVudFVwZGF0ZVRpbWVvdXQpIHtcclxuXHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX2FjdGl2ZU1lYXN1cmVtZW50VXBkYXRlVGltZW91dCk7XHJcblx0XHRcdHRoaXMuX2FjdGl2ZU1lYXN1cmVtZW50VXBkYXRlVGltZW91dCA9IG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuX3NhdmVQb3NpdGlvblRpbWVvdXQpIHtcclxuXHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX3NhdmVQb3NpdGlvblRpbWVvdXQpO1xyXG5cdFx0XHR0aGlzLl9zYXZlUG9zaXRpb25UaW1lb3V0ID0gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDbGVhbiB1cCBwb3NpdGlvbiB3YXRjaGVyc1xyXG5cdFx0aWYgKHRoaXMuX3Bvc2l0aW9uV2F0Y2hlcnMpIHtcclxuXHRcdFx0T2JqZWN0LnZhbHVlcyh0aGlzLl9wb3NpdGlvbldhdGNoZXJzKS5mb3JFYWNoKHdhdGNoZXIgPT4ge1xyXG5cdFx0XHRcdGlmICh3YXRjaGVyICYmIHR5cGVvZiB3YXRjaGVyLnJlbW92ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0d2F0Y2hlci5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUud2FybignRXJyb3IgcmVtb3ZpbmcgcG9zaXRpb24gd2F0Y2hlcjonLCBlcnJvcik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0dGhpcy5fcG9zaXRpb25XYXRjaGVycyA9IHt9O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFJlbW92ZSBzYXZlIGV2ZW50IGxpc3RlbmVyXHJcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2F2ZURyYXdpbmdzVG9TdG9yYWdlJywgdGhpcy5oYW5kbGVTYXZlRXZlbnQpO1xyXG5cclxuXHRcdC8vIEFsd2F5cyByZXN0b3JlIG9yaWdpbmFsIHBvcHVwIHN0YXRlIGlmIHdlIGhhdmUgaXQgc3RvcmVkXHJcblx0XHRpZiAodGhpcy5zdGF0ZT8uY3VycmVudEppbXVNYXBWaWV3Py52aWV3ICYmIHRoaXMub3JpZ2luYWxQb3B1cEVuYWJsZWQgIT09IG51bGwpIHtcclxuXHRcdFx0Y29uc3QgdmlldyA9IHRoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3LnZpZXc7XHJcblxyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdC8vIFJlc3RvcmUgcG9wdXAgZnVuY3Rpb25hbGl0eVxyXG5cdFx0XHRcdHZpZXcucG9wdXBFbmFibGVkID0gdGhpcy5vcmlnaW5hbFBvcHVwRW5hYmxlZDtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdjb21wb25lbnRXaWxsVW5tb3VudDogUmVzdG9yZWQgcG9wdXAgc3RhdGUgdG86JywgdGhpcy5vcmlnaW5hbFBvcHVwRW5hYmxlZCk7XHJcblxyXG5cdFx0XHRcdGlmICh2aWV3LnBvcHVwICYmIFwiYXV0b0Nsb3NlRW5hYmxlZFwiIGluIHZpZXcucG9wdXApIHtcclxuXHRcdFx0XHRcdHZpZXcucG9wdXAuYXV0b0Nsb3NlRW5hYmxlZCA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBSZXN0b3JlIGhpZ2hsaWdodCBvcHRpb25zIHRvIGRlZmF1bHRcclxuXHRcdFx0XHR2aWV3LmhpZ2hsaWdodE9wdGlvbnMgPSB7XHJcblx0XHRcdFx0XHRjb2xvcjogWzAsIDI1NSwgMjU1LCAxXSxcclxuXHRcdFx0XHRcdGZpbGxPcGFjaXR5OiAwLjAsXHJcblx0XHRcdFx0XHRoYWxvT3BhY2l0eTogMC44XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Ly8gUmVzdG9yZSBsYXllci1sZXZlbCBoaWdobGlnaHQgc3R5bGluZ1xyXG5cdFx0XHRcdHZpZXcubWFwLmxheWVycy5mb3JFYWNoKGxheWVyID0+IHtcclxuXHRcdFx0XHRcdHZpZXcud2hlbkxheWVyVmlldyhsYXllcikudGhlbigobGF5ZXJWaWV3OiBfX2VzcmkuTGF5ZXJWaWV3KSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmIChsYXllci50eXBlID09PSBcImZlYXR1cmVcIikge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGZlYXR1cmVMYXllclZpZXcgPSBsYXllclZpZXcgYXMgYW55O1xyXG5cdFx0XHRcdFx0XHRcdGlmIChcImhpZ2hsaWdodE9wdGlvbnNcIiBpbiBmZWF0dXJlTGF5ZXJWaWV3KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRmZWF0dXJlTGF5ZXJWaWV3LmhpZ2hsaWdodE9wdGlvbnMgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbG9yOiBbMCwgMjU1LCAyNTUsIDFdLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRmaWxsT3BhY2l0eTogMC4wLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRoYWxvT3BhY2l0eTogMC44XHJcblx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSkuY2F0Y2goZXJyID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKGBDb3VsZCBub3QgcmVzdG9yZSBoaWdobGlnaHQgb3B0aW9ucyBmb3IgbGF5ZXIgJHtsYXllci50aXRsZX06YCwgZXJyKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQvLyBDbGVhciBhbnkgd2lkZ2V0IGdyYXBoaWNzIGJ1dCBwcmVzZXJ2ZSBkcmF3IGxheWVyXHJcblx0XHRcdFx0Y29uc3QgYWxsR3JhcGhpY3MgPSB2aWV3LmdyYXBoaWNzLnRvQXJyYXkoKTtcclxuXHRcdFx0XHRjb25zdCBncmFwaGljc1RvUmVtb3ZlID0gYWxsR3JhcGhpY3MuZmlsdGVyKGdyYXBoaWMgPT5cclxuXHRcdFx0XHRcdGdyYXBoaWMubGF5ZXIgIT09IHRoaXMuZHJhd0xheWVyXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRpZiAoZ3JhcGhpY3NUb1JlbW92ZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHR2aWV3LmdyYXBoaWNzLnJlbW92ZU1hbnkoZ3JhcGhpY3NUb1JlbW92ZSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRjb25zb2xlLndhcm4oJ0Vycm9yIHJlc3RvcmluZyB2aWV3IHN0YXRlIGR1cmluZyB1bm1vdW50OicsIGVycm9yKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gUmVzZXQgdGhlIHN0b3JlZCB2YWx1ZSBhZnRlciByZXN0b3JhdGlvblxyXG5cdFx0XHR0aGlzLm9yaWdpbmFsUG9wdXBFbmFibGVkID0gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDbGVhbiB1cCBTa2V0Y2hWaWV3TW9kZWxcclxuXHRcdGlmICh0aGlzLnNrZXRjaFZpZXdNb2RlbCkge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdHRoaXMuc2tldGNoVmlld01vZGVsLmNhbmNlbCgpO1xyXG5cdFx0XHRcdHRoaXMuc2tldGNoVmlld01vZGVsLmRlc3Ryb3koKTtcclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRjb25zb2xlLndhcm4oJ0Vycm9yIGNsZWFuaW5nIHVwIFNrZXRjaFZpZXdNb2RlbDonLCBlcnJvcik7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5za2V0Y2hWaWV3TW9kZWwgPSBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENsZWFuIHVwIGRyYXcgbGF5ZXJcclxuXHRcdGlmICh0aGlzLmRyYXdMYXllcikge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdHRoaXMuZHJhd0xheWVyLnJlbW92ZUFsbCgpO1xyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdGNvbnNvbGUud2FybignRXJyb3IgY2xlYXJpbmcgZHJhdyBsYXllcjonLCBlcnJvcik7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5kcmF3TGF5ZXIgPSBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YWN0aXZlVmlld0NoYW5nZUhhbmRsZXIgPSAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KSA9PiB7XHJcblx0XHQvLyBBdHRhY2ggdG8gbmV3IG1hcCB2aWV3IG9yIGNsZWFyIGlmIG51bGxcclxuXHRcdGlmICghamltdU1hcFZpZXcpIHtcclxuXHRcdFx0aWYgKHRoaXMuc2tldGNoVmlld01vZGVsKSB7XHJcblx0XHRcdFx0dHJ5IHsgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY2FuY2VsKCk7IHRoaXMuc2tldGNoVmlld01vZGVsLmRlc3Ryb3koKTsgfSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUud2FybignRXJyb3IgY2xlYW5pbmcgdXAgU2tldGNoVmlld01vZGVsOicsIGVycm9yKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGhpcy5za2V0Y2hWaWV3TW9kZWwgPSBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuc2V0U3RhdGUoeyBjdXJyZW50SmltdU1hcFZpZXc6IG51bGwgfSk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnNldFN0YXRlKHsgY3VycmVudEppbXVNYXBWaWV3OiBqaW11TWFwVmlldyB9KTtcclxuXHJcblx0XHRqaW11TWFwVmlldy53aGVuSmltdU1hcFZpZXdMb2FkZWQoKS50aGVuKGFzeW5jICgpID0+IHtcclxuXHRcdFx0Y29uc3QgeyBtYXAgfSA9IGppbXVNYXBWaWV3LnZpZXc7XHJcblx0XHRcdGNvbnN0IHZpZXcgPSBqaW11TWFwVmlldy52aWV3O1xyXG5cclxuXHRcdFx0aWYgKCF2aWV3IHx8IHZpZXcuZGVzdHJveWVkKSB7XHJcblx0XHRcdFx0Y29uc29sZS53YXJuKCdWaWV3IGlzIG5vdCB2YWxpZCBmb3IgU2tldGNoVmlld01vZGVsIGluaXRpYWxpemF0aW9uJyk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBTdG9yZSBvcmlnaW5hbCBwb3B1cCBzdGF0ZVxyXG5cdFx0XHR0aGlzLm9yaWdpbmFsUG9wdXBFbmFibGVkID0gdmlldy5wb3B1cEVuYWJsZWQ7XHJcblx0XHRcdC8vY29uc29sZS5sb2coJ1N0b3JlZCBvcmlnaW5hbCBwb3B1cCBzdGF0ZTonLCB0aGlzLm9yaWdpbmFsUG9wdXBFbmFibGVkKTtcclxuXHJcblx0XHRcdC8vIENoZWNrIGlmIHdpZGdldCBpcyBjb250cm9sbGVkIGJ5IHdpZGdldCBzdGF0ZVxyXG5cdFx0XHRjb25zdCB3aWRnZXRTdGF0ZTogV2lkZ2V0U3RhdGUgPSB0aGlzLnByb3BzLnN0YXRlO1xyXG5cdFx0XHRjb25zdCBpc1dpZGdldENvbnRyb2xsZWQgPSB3aWRnZXRTdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHdpZGdldFN0YXRlICE9PSBudWxsO1xyXG5cclxuXHRcdFx0Ly8gT25seSBkaXNhYmxlIHBvcHVwcyBpbW1lZGlhdGVseSBpZiB3aWRnZXQgaXMgY29udHJvbGxlZCBhbmQgb3BlbmVkLCBvciBpZiBhIGRyYXdpbmcgdG9vbCBpcyBhY3RpdmVcclxuXHRcdFx0Y29uc3QgaXNEcmF3aW5nQWN0aXZlID0gdGhpcy5zdGF0ZS5wb2ludEJ0bkFjdGl2ZSB8fCB0aGlzLnN0YXRlLmxpbmVCdG5BY3RpdmUgfHxcclxuXHRcdFx0XHR0aGlzLnN0YXRlLmZsaW5lQnRuQWN0aXZlIHx8IHRoaXMuc3RhdGUucmVjdEJ0bkFjdGl2ZSB8fFxyXG5cdFx0XHRcdHRoaXMuc3RhdGUucG9seWdvbkJ0bkFjdGl2ZSB8fCB0aGlzLnN0YXRlLmZwb2x5Z29uQnRuQWN0aXZlIHx8XHJcblx0XHRcdFx0dGhpcy5zdGF0ZS5jaXJjbGVCdG5BY3RpdmUgfHwgdGhpcy5zdGF0ZS50ZXh0QnRuQWN0aXZlO1xyXG5cclxuXHRcdFx0aWYgKChpc1dpZGdldENvbnRyb2xsZWQgJiYgd2lkZ2V0U3RhdGUgPT09IFdpZGdldFN0YXRlLk9wZW5lZCkgfHwgaXNEcmF3aW5nQWN0aXZlKSB7XHJcblx0XHRcdFx0Ly8gRGlzYWJsZSBwb3B1cHMgYW5kIGludGVyYWN0aW9uc1xyXG5cdFx0XHRcdHZpZXcucG9wdXBFbmFibGVkID0gZmFsc2U7XHJcblx0XHRcdFx0aWYgKHZpZXcucG9wdXAgJiYgXCJhdXRvQ2xvc2VFbmFibGVkXCIgaW4gdmlldy5wb3B1cCkgdmlldy5wb3B1cC5hdXRvQ2xvc2VFbmFibGVkID0gZmFsc2U7XHJcblx0XHRcdFx0dmlldy5wb3B1cC52aXNpYmxlID0gZmFsc2U7XHJcblxyXG5cdFx0XHRcdHZpZXcuaGlnaGxpZ2h0T3B0aW9ucyA9IHsgY29sb3I6IFswLCAwLCAwLCAwXSwgZmlsbE9wYWNpdHk6IDAsIGhhbG9PcGFjaXR5OiAwIH07XHJcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygnRGlzYWJsZWQgcG9wdXBzIG9uIHdpZGdldCBpbml0aWFsaXphdGlvbiAoY29udHJvbGxlZCB3aWRnZXQgb3IgZHJhd2luZyBhY3RpdmUpJyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gRm9yIHVuY29udHJvbGxlZCB3aWRnZXRzIHdpdGggbm8gYWN0aXZlIGRyYXdpbmcgdG9vbHMsIGxlYXZlIHBvcHVwcyBlbmFibGVkXHJcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygnTGVhdmluZyBwb3B1cHMgZW5hYmxlZCBvbiB3aWRnZXQgaW5pdGlhbGl6YXRpb24gKHVuY29udHJvbGxlZCB3aWRnZXQsIG5vIGRyYXdpbmcgYWN0aXZlKScpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBDbGVhciBleGlzdGluZyBoaWdobGlnaHRzL2VmZmVjdHNcclxuXHRcdFx0dmlldy5tYXAubGF5ZXJzLmZvckVhY2gobGF5ZXIgPT4ge1xyXG5cdFx0XHRcdHZpZXcud2hlbkxheWVyVmlldyhsYXllcikudGhlbigobGF5ZXJWaWV3OiBfX2VzcmkuTGF5ZXJWaWV3KSA9PiB7XHJcblx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRpZiAobGF5ZXIudHlwZSA9PT0gXCJmZWF0dXJlXCIpIHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBmbHYgPSBsYXllclZpZXcgYXMgYW55O1xyXG5cdFx0XHRcdFx0XHRcdGlmICh0eXBlb2YgZmx2LmhpZ2hsaWdodCA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBoID0gZmx2LmhpZ2hsaWdodChbXSk7IGgucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IGRpc2FibGUgaGlnaGxpZ2h0IG9wdGlvbnMgaWYgd2lkZ2V0IGlzIGNvbnRyb2xsZWQgb3IgZHJhd2luZyBpcyBhY3RpdmVcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChcImhpZ2hsaWdodE9wdGlvbnNcIiBpbiBmbHYgJiYgKChpc1dpZGdldENvbnRyb2xsZWQgJiYgd2lkZ2V0U3RhdGUgPT09IFdpZGdldFN0YXRlLk9wZW5lZCkgfHwgaXNEcmF3aW5nQWN0aXZlKSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRmbHYuaGlnaGxpZ2h0T3B0aW9ucyA9IHsgY29sb3I6IFswLCAwLCAwLCAwXSwgZmlsbE9wYWNpdHk6IDAsIGhhbG9PcGFjaXR5OiAwIH07XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoZmx2Lmhhc093blByb3BlcnR5KFwiX2hpZ2hsaWdodElkc1wiKSkgZmx2Ll9oaWdobGlnaHRJZHMgPSB7fTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKFwiZmVhdHVyZUVmZmVjdFwiIGluIGxheWVyVmlldykgKGxheWVyVmlldyBhcyBhbnkpLmZlYXR1cmVFZmZlY3QgPSBudWxsO1xyXG5cdFx0XHRcdFx0XHRpZiAoXCJmaWx0ZXJcIiBpbiBsYXllclZpZXcpIChsYXllclZpZXcgYXMgYW55KS5maWx0ZXIgPSBudWxsO1xyXG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIChsYXllclZpZXcgYXMgYW55KS5yZWZyZXNoID09PSBcImZ1bmN0aW9uXCIpIChsYXllclZpZXcgYXMgYW55KS5yZWZyZXNoKCk7XHJcblx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKGBFcnJvciBjbGVhcmluZyBoaWdobGlnaHQgZm9yIGxheWVyICR7bGF5ZXIudGl0bGV9OmAsIGVycik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSkuY2F0Y2goZXJyID0+IGNvbnNvbGUud2FybihgQ291bGQgbm90IGdldCBsYXllclZpZXcgZm9yICR7bGF5ZXIudGl0bGV9OmAsIGVycikpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGlmICh0aGlzLnN0YXRlLndpZGdldEluaXQpIHtcclxuXHRcdFx0XHR0aGlzLmNyZWF0aW9uTW9kZSA9IHRoaXMucHJvcHMuY29uZmlnLmNyZWF0aW9uTW9kZSB8fCBEcmF3TW9kZS5TSU5HTEU7XHJcblx0XHRcdFx0Y29uc3QgZExheWVyOiBHcmFwaGljc0xheWVyID0gbWFwLmZpbmRMYXllckJ5SWQoJ0RyYXdHTCcpIGFzIEdyYXBoaWNzTGF5ZXI7XHJcblx0XHRcdFx0aWYgKGRMYXllcikge1xyXG5cdFx0XHRcdFx0dGhpcy5kcmF3TGF5ZXIgPSBkTGF5ZXI7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5kcmF3TGF5ZXIuZ3JhcGhpY3MubGVuZ3RoID4gMCkgdGhpcy5zZXRTdGF0ZSh7IGRyYXdHTExlbmd0aGNoZWNrOiB0cnVlIH0pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRtYXAuYWRkKHRoaXMuZHJhd0xheWVyKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuZHJhd0xheWVyLmdyYXBoaWNzLndhdGNoKCdsZW5ndGgnLCAobGVuKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7IGRyYXdHTExlbmd0aGNoZWNrOiBsZW4gPiAwIH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIFJlYnVpbGQgU2tldGNoVmlld01vZGVsIGNsZWFubHkgd2l0aCBlbmhhbmNlZCBjb25maWd1cmF0aW9uXHJcblx0XHRcdGlmICh0aGlzLnNrZXRjaFZpZXdNb2RlbCkge1xyXG5cdFx0XHRcdHRyeSB7IHRoaXMuc2tldGNoVmlld01vZGVsLmNhbmNlbCgpOyB0aGlzLnNrZXRjaFZpZXdNb2RlbC5kZXN0cm95KCk7IH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0Vycm9yIGNsZWFuaW5nIHVwIGV4aXN0aW5nIFNrZXRjaFZpZXdNb2RlbDonLCBlcnJvcik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdHRoaXMuc2tldGNoVmlld01vZGVsID0gbmV3IFNrZXRjaFZpZXdNb2RlbCh7XHJcblx0XHRcdFx0XHR2aWV3LFxyXG5cdFx0XHRcdFx0dXBkYXRlT25HcmFwaGljQ2xpY2s6IGZhbHNlLCAvLyBDUklUSUNBTDogcHJldmVudHMgU1ZNIGZyb20gaW50ZXJjZXB0aW5nIG1lYXN1cmVtZW50IGxhYmVsIGNsaWNrc1xyXG5cdFx0XHRcdFx0bGF5ZXI6IHRoaXMuZHJhd0xheWVyLFxyXG5cdFx0XHRcdFx0ZGVmYXVsdFVwZGF0ZU9wdGlvbnM6IHtcclxuXHRcdFx0XHRcdFx0dG9nZ2xlVG9vbE9uQ2xpY2s6IGZhbHNlIC8vIFByZXZlbnRzIGF1dG9tYXRpYyB0b29sIHN3aXRjaGluZ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQvLyBFeHRyYSBzYWZlZ3VhcmQ6IGVuc3VyZSBpdCBzdGF5cyBvZmYgZXZlbiBpZiBtb2RpZmllZCBlbHNld2hlcmVcclxuXHRcdFx0XHQodGhpcy5za2V0Y2hWaWV3TW9kZWwgYXMgYW55KS51cGRhdGVPbkdyYXBoaWNDbGljayA9IGZhbHNlO1xyXG5cclxuXHRcdFx0XHRpZiAoIXRoaXMuc2tldGNoVmlld01vZGVsLnZpZXcpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ1NrZXRjaFZpZXdNb2RlbCBjcmVhdGVkIHdpdGhvdXQgdmFsaWQgdmlldycpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gV2FpdCBmb3IgU2tldGNoVmlld01vZGVsIHRvIGJlIGZ1bGx5IHJlYWR5IGJlZm9yZSBwcm9jZWVkaW5nXHJcblx0XHRcdFx0YXdhaXQgbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcclxuXHRcdFx0XHRcdGlmICh0aGlzLnNrZXRjaFZpZXdNb2RlbC5zdGF0ZSA9PT0gXCJyZWFkeVwiKSB7XHJcblx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGhhbmRsZSA9IHRoaXMuc2tldGNoVmlld01vZGVsLndhdGNoKFwic3RhdGVcIiwgKHN0YXRlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHN0YXRlID09PSBcInJlYWR5XCIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGhhbmRsZS5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR0aGlzLnNrZXRjaFZpZXdNb2RlbC5vbignY3JlYXRlJywgdGhpcy5zdm1HcmFDcmVhdGUpO1xyXG5cdFx0XHRcdHRoaXMuc2tldGNoVmlld01vZGVsLm9uKCd1cGRhdGUnLCB0aGlzLnN2bUdyYVVwZGF0ZSk7XHJcblxyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ+KchSBTa2V0Y2hWaWV3TW9kZWwgZnVsbHkgaW5pdGlhbGl6ZWQgYW5kIHJlYWR5Jyk7XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgU2tldGNoVmlld01vZGVsOicsIGVycm9yKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIC0tLSBIZWxwZXIgRnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblx0XHRcdC8vIFJlbW92ZSBBTEwgc2VsZWN0aW9uIG92ZXJsYXkgZ3JhcGhpY3MgYW5kIG51bGwgcG9pbnRlcnMgb24gYmFzZSBncmFwaGljc1xyXG5cdFx0XHRjb25zdCBjbGVhckFsbFNlbGVjdGlvbk92ZXJsYXlzTG9jYWwgPSAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKCF0aGlzLmRyYXdMYXllcikgcmV0dXJuO1xyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHR0aGlzLmRyYXdMYXllci5ncmFwaGljcy50b0FycmF5KCkuZm9yRWFjaCgoZzogYW55KSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmIChnICYmIGcuX3NlbGVjdGlvbk92ZXJsYXkpIHtcclxuXHRcdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGcuX3NlbGVjdGlvbk92ZXJsYXkubGF5ZXIgPT09IHRoaXMuZHJhd0xheWVyKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuZHJhd0xheWVyLnJlbW92ZShnLl9zZWxlY3Rpb25PdmVybGF5KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9IGNhdGNoIHsgfVxyXG5cdFx0XHRcdFx0XHRcdGcuX3NlbGVjdGlvbk92ZXJsYXkgPSBudWxsO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ2NsZWFyQWxsU2VsZWN0aW9uT3ZlcmxheXNMb2NhbCBmYWlsZWQ6JywgZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gRW5oYW5jZWQgbWVhc3VyZW1lbnQgbGFiZWwgZGV0ZWN0aW9uXHJcblx0XHRcdGNvbnN0IGlzTWVhc3VyZW1lbnRMYWJlbEdyYXBoaWMgPSAoZ3JhcGhpYzogYW55KTogYm9vbGVhbiA9PiB7XHJcblx0XHRcdFx0aWYgKCFncmFwaGljIHx8ICFncmFwaGljLnN5bWJvbCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdFx0XHQvLyBQcmltYXJ5IGlkZW50aWZpY2F0aW9uXHJcblx0XHRcdFx0aWYgKGdyYXBoaWMuYXR0cmlidXRlcz8uaXNNZWFzdXJlbWVudExhYmVsID09PSB0cnVlKSByZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHRpZiAoZ3JhcGhpYy5hdHRyaWJ1dGVzPy5tZWFzdXJlbWVudFR5cGUpIHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdGlmIChncmFwaGljLmF0dHJpYnV0ZXM/LmhpZGVGcm9tTGlzdCAmJiBncmFwaGljLnN5bWJvbC50eXBlID09PSAndGV4dCcpIHJldHVybiB0cnVlO1xyXG5cclxuXHRcdFx0XHQvLyBQYXR0ZXJuLWJhc2VkIGlkZW50aWZpY2F0aW9uIGZvciByZXN0b3JlZCBsYWJlbHNcclxuXHRcdFx0XHRpZiAoZ3JhcGhpYy5zeW1ib2wudHlwZSA9PT0gJ3RleHQnKSB7XHJcblx0XHRcdFx0XHRjb25zdCB0ZXh0ID0gZ3JhcGhpYy5zeW1ib2wudGV4dCB8fCAnJztcclxuXHRcdFx0XHRcdGNvbnN0IG1lYXN1cmVtZW50UGF0dGVybnMgPSBbXHJcblx0XHRcdFx0XHRcdC9cXGQrKFxcLlxcZCspP1xccyooa218bWl8bXxmdHx5ZHxrbcKyfG1pwrJ8YWN8aGF8bcKyfGZ0wrJ8eWTCsikvLFxyXG5cdFx0XHRcdFx0XHQvQXJlYTp8UGVyaW1ldGVyOnxSYWRpdXM6fFRvdGFsOnxMYXQ6fExvbjp8WDp8WTovXHJcblx0XHRcdFx0XHRdO1xyXG5cdFx0XHRcdFx0cmV0dXJuIG1lYXN1cmVtZW50UGF0dGVybnMuc29tZShwYXR0ZXJuID0+IHBhdHRlcm4udGVzdCh0ZXh0KSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyAtLS0gRXZlbnQgSGFuZGxlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblx0XHRcdC8vIEhJR0ggUFJJT1JJVFk6IGltbWVkaWF0ZS1jbGljayBmb3IgbWVhc3VyZW1lbnQgbGFiZWwgaW50ZXJhY3Rpb25zXHJcblx0XHRcdHZpZXcub24oXCJpbW1lZGlhdGUtY2xpY2tcIiwgYXN5bmMgKGV2ZW50KSA9PiB7XHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coJ/CflI0gV0lER0VUOiBJbW1lZGlhdGUtY2xpY2sgZm9yIG1lYXN1cmVtZW50IGxhYmVscyBhdDonLCBldmVudC54LCBldmVudC55KTtcclxuXHJcblx0XHRcdFx0XHQvLyBPbmx5IGhhbmRsZSBtZWFzdXJlbWVudCBsYWJlbHMgaW4gdGhpcyBoYW5kbGVyXHJcblx0XHRcdFx0XHRpZiAoIXRoaXMubWVhc3VyZVJlZj8uY3VycmVudD8uaXNFZGl0aW5nTWVhc3VyZW1lbnRzPy4oKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47IC8vIE5vdCBpbiBtZWFzdXJlbWVudCBlZGl0aW5nIG1vZGVcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBDaGVjayBpZiBkcmF3aW5nIHRvb2xzIGFyZSBhY3RpdmUgLSBpZiBzbywgc2tpcCBtZWFzdXJlbWVudCBoYW5kbGluZ1xyXG5cdFx0XHRcdFx0Y29uc3QgaXNEcmF3aW5nQWN0aXZlID0gdGhpcy5zdGF0ZS5wb2ludEJ0bkFjdGl2ZSB8fCB0aGlzLnN0YXRlLmxpbmVCdG5BY3RpdmUgfHxcclxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5mbGluZUJ0bkFjdGl2ZSB8fCB0aGlzLnN0YXRlLnJlY3RCdG5BY3RpdmUgfHxcclxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5wb2x5Z29uQnRuQWN0aXZlIHx8IHRoaXMuc3RhdGUuZnBvbHlnb25CdG5BY3RpdmUgfHxcclxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5jaXJjbGVCdG5BY3RpdmUgfHwgdGhpcy5zdGF0ZS50ZXh0QnRuQWN0aXZlO1xyXG5cclxuXHRcdFx0XHRcdGlmIChpc0RyYXdpbmdBY3RpdmUpIHtcclxuXHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygn8J+OqCBEcmF3aW5nIHRvb2wgYWN0aXZlIC0gc2tpcHBpbmcgbWVhc3VyZW1lbnQgbGFiZWwgaGFuZGxpbmcnKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIEVuaGFuY2VkIGhpdCB0ZXN0IHNwZWNpZmljYWxseSBmb3IgbWVhc3VyZW1lbnQgbGFiZWxzXHJcblx0XHRcdFx0XHRjb25zdCBoaXRUZXN0UmVzdWx0ID0gYXdhaXQgdmlldy5oaXRUZXN0KGV2ZW50LCB7XHJcblx0XHRcdFx0XHRcdGluY2x1ZGU6IFt0aGlzLmRyYXdMYXllcl1cclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdC8vIEVuaGFuY2VkIG1lYXN1cmVtZW50IGxhYmVsIGRldGVjdGlvblxyXG5cdFx0XHRcdFx0Y29uc3QgbWVhc3VyZW1lbnRMYWJlbEhpdCA9IGhpdFRlc3RSZXN1bHQucmVzdWx0cy5maW5kKHJlc3VsdCA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICghcmVzdWx0IHx8ICEoJ2dyYXBoaWMnIGluIHJlc3VsdCkgfHwgIXJlc3VsdC5ncmFwaGljKSByZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHRcdHJldHVybiBpc01lYXN1cmVtZW50TGFiZWxHcmFwaGljKHJlc3VsdC5ncmFwaGljKTtcclxuXHRcdFx0XHRcdH0pIGFzIF9fZXNyaS5HcmFwaGljSGl0IHwgdW5kZWZpbmVkO1xyXG5cclxuXHRcdFx0XHRcdGlmIChtZWFzdXJlbWVudExhYmVsSGl0KSB7XHJcblx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2coJ/Cfj7fvuI8gTWVhc3VyZW1lbnQgbGFiZWwgZGV0ZWN0ZWQgdmlhIGltbWVkaWF0ZS1jbGljaycpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIG1lYXN1cmVtZW50IGxhYmVsIHNlbGVjdGlvblxyXG5cdFx0XHRcdFx0XHR0aGlzLm1lYXN1cmVSZWYuY3VycmVudD8uaGFuZGxlTWVhc3VyZW1lbnRMYWJlbFNlbGVjdGlvbj8uKG1lYXN1cmVtZW50TGFiZWxIaXQuZ3JhcGhpYyk7XHJcblx0XHRcdFx0XHRcdHJldHVybjsgLy8gRG9uJ3QgbGV0IHRoaXMgZmFsbCB0aHJvdWdoIHRvIG5vcm1hbCBjbGljayBoYW5kbGVyXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgaW4gaW1tZWRpYXRlLWNsaWNrIG1lYXN1cmVtZW50IGhhbmRsZXI6JywgZXJyb3IpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBTVEFOREFSRDogY2xpY2sgaGFuZGxlciBmb3IgZHJhd2luZyBzZWxlY3Rpb24gYW5kIGdlbmVyYWwgaW50ZXJhY3Rpb25zXHJcblx0XHRcdHZpZXcub24oXCJjbGlja1wiLCBhc3luYyAoZXZlbnQpID0+IHtcclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygn8J+UjSBXSURHRVQ6IFN0YW5kYXJkIGNsaWNrIGRldGVjdGVkIGF0OicsIGV2ZW50LngsIGV2ZW50LnkpO1xyXG5cclxuXHRcdFx0XHRcdGlmICghdGhpcy5za2V0Y2hWaWV3TW9kZWwgfHwgIXRoaXMuc2tldGNoVmlld01vZGVsLnZpZXcpIHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKCdTa2V0Y2hWaWV3TW9kZWwgbm90IGF2YWlsYWJsZSBmb3IgY2xpY2sgaGFuZGxpbmcnKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIENoZWNrIGRyYXdpbmcgc3RhdGUgZmlyc3QgdG8gYXZvaWQgY29uZmxpY3RzXHJcblx0XHRcdFx0XHRjb25zdCBpc0RyYXdpbmdBY3RpdmUgPSB0aGlzLnN0YXRlLnBvaW50QnRuQWN0aXZlIHx8IHRoaXMuc3RhdGUubGluZUJ0bkFjdGl2ZSB8fFxyXG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLmZsaW5lQnRuQWN0aXZlIHx8IHRoaXMuc3RhdGUucmVjdEJ0bkFjdGl2ZSB8fFxyXG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLnBvbHlnb25CdG5BY3RpdmUgfHwgdGhpcy5zdGF0ZS5mcG9seWdvbkJ0bkFjdGl2ZSB8fFxyXG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLmNpcmNsZUJ0bkFjdGl2ZSB8fCB0aGlzLnN0YXRlLnRleHRCdG5BY3RpdmU7XHJcblxyXG5cdFx0XHRcdFx0Ly8gSWYgZHJhd2luZyBpcyBhY3RpdmUsIHNraXAgZW50aXJlbHkgKGxldCBTa2V0Y2hWaWV3TW9kZWwgaGFuZGxlKVxyXG5cdFx0XHRcdFx0aWYgKGlzRHJhd2luZ0FjdGl2ZSkge1xyXG5cdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCfwn46oIERyYXdpbmcgdG9vbCBhY3RpdmUgLSBsZXR0aW5nIFNrZXRjaFZpZXdNb2RlbCBoYW5kbGUgY2xpY2snKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIElmIG1lYXN1cmVtZW50IGVkaXRpbmcgaXMgYWN0aXZlLCBjbGVhciBzZWxlY3Rpb24gd2hlbiBjbGlja2luZyBub24tbWVhc3VyZW1lbnQgZ3JhcGhpY3NcclxuXHRcdFx0XHRcdGlmICh0aGlzLm1lYXN1cmVSZWY/LmN1cnJlbnQ/LmlzRWRpdGluZ01lYXN1cmVtZW50cz8uKCkpIHtcclxuXHRcdFx0XHRcdFx0Ly8gRG8gYSBxdWljayBjaGVjayB0byBzZWUgaWYgd2UgaGl0IGEgbWVhc3VyZW1lbnQgbGFiZWxcclxuXHRcdFx0XHRcdFx0Y29uc3QgcXVpY2tIaXRUZXN0ID0gYXdhaXQgdmlldy5oaXRUZXN0KGV2ZW50LCB7IGluY2x1ZGU6IFt0aGlzLmRyYXdMYXllcl0gfSk7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGhpdE1lYXN1cmVtZW50TGFiZWwgPSBxdWlja0hpdFRlc3QucmVzdWx0cy5zb21lKHJlc3VsdCA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCFyZXN1bHQgfHwgISgnZ3JhcGhpYycgaW4gcmVzdWx0KSkgcmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBpc01lYXN1cmVtZW50TGFiZWxHcmFwaGljKHJlc3VsdC5ncmFwaGljKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoIWhpdE1lYXN1cmVtZW50TGFiZWwpIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBDbGlja2VkIG9uIG5vbi1tZWFzdXJlbWVudCwgY2xlYXIgbWVhc3VyZW1lbnQgc2VsZWN0aW9uXHJcblx0XHRcdFx0XHRcdFx0dGhpcy5tZWFzdXJlUmVmLmN1cnJlbnQ/LmNsZWFudXBNZWFzdXJlbWVudExhYmVsU2VsZWN0aW9uPy4oKTtcclxuXHRcdFx0XHRcdFx0XHQvLyBDb250aW51ZSB3aXRoIG5vcm1hbCBzZWxlY3Rpb24gbG9naWMgYmVsb3dcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBUaGlzIGlzIGEgbWVhc3VyZW1lbnQgbGFiZWwsIGJ1dCBpbW1lZGlhdGUtY2xpY2sgc2hvdWxkIGhhdmUgaGFuZGxlZCBpdFxyXG5cdFx0XHRcdFx0XHRcdC8vIElmIGl0IGdldHMgaGVyZSwgaXQgbWVhbnMgaW1tZWRpYXRlLWNsaWNrIGRpZG4ndCBjYXRjaCBpdCwgc28gd2UgY2FuIGhhbmRsZSBpdFxyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IG1lYXN1cmVtZW50TGFiZWxIaXQgPSBxdWlja0hpdFRlc3QucmVzdWx0cy5maW5kKHJlc3VsdCA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIXJlc3VsdCB8fCAhKCdncmFwaGljJyBpbiByZXN1bHQpKSByZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gaXNNZWFzdXJlbWVudExhYmVsR3JhcGhpYyhyZXN1bHQuZ3JhcGhpYyk7XHJcblx0XHRcdFx0XHRcdFx0fSkgYXMgX19lc3JpLkdyYXBoaWNIaXQgfCB1bmRlZmluZWQ7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmIChtZWFzdXJlbWVudExhYmVsSGl0KSB7XHJcblx0XHRcdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCfwn4+377iPIE1lYXN1cmVtZW50IGxhYmVsIGNhdWdodCBieSBzdGFuZGFyZCBjbGljayAoZmFsbGJhY2spJyk7XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLm1lYXN1cmVSZWYuY3VycmVudD8uaGFuZGxlTWVhc3VyZW1lbnRMYWJlbFNlbGVjdGlvbj8uKG1lYXN1cmVtZW50TGFiZWxIaXQuZ3JhcGhpYyk7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnUGVyZm9ybWluZyBoaXQgdGVzdCBmb3IgZHJhd2luZyBncmFwaGljcycpO1xyXG5cclxuXHRcdFx0XHRcdC8vIEVuaGFuY2VkIGhpdCB0ZXN0aW5nIGZvciBkcmF3aW5nIGdyYXBoaWNzXHJcblx0XHRcdFx0XHRsZXQgaGl0VGVzdFJlc3VsdCA9IGF3YWl0IHZpZXcuaGl0VGVzdChldmVudCwgeyBpbmNsdWRlOiBbdGhpcy5kcmF3TGF5ZXJdIH0pO1xyXG5cclxuXHRcdFx0XHRcdC8vIEZhbGxiYWNrIGhpdCB0ZXN0aW5nIGlmIG5vIHJlc3VsdHMgZnJvbSBsYXllci1zcGVjaWZpYyB0ZXN0XHJcblx0XHRcdFx0XHRpZiAoaGl0VGVzdFJlc3VsdC5yZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBhbGxIaXRUZXN0ID0gYXdhaXQgdmlldy5oaXRUZXN0KGV2ZW50KTtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZHJhd0dyYXBoaWNzID0gdGhpcy5kcmF3TGF5ZXI/LmdyYXBoaWNzPy50b0FycmF5Py4oKSA/PyBbXTtcclxuXHRcdFx0XHRcdFx0Y29uc3QgaWRTZXQgPSBuZXcgU2V0PHN0cmluZz4oXHJcblx0XHRcdFx0XHRcdFx0ZHJhd0dyYXBoaWNzLm1hcChnID0+IChnIGFzIGFueSkuYXR0cmlidXRlcz8udW5pcXVlSWQpLmZpbHRlcihCb29sZWFuKVxyXG5cdFx0XHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHRcdFx0Y29uc3QgZHJhd0xheWVyUmVzdWx0cyA9IGFsbEhpdFRlc3QucmVzdWx0cy5maWx0ZXIocmVzdWx0ID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIXJlc3VsdCB8fCAhKCdncmFwaGljJyBpbiByZXN1bHQpIHx8ICFyZXN1bHQuZ3JhcGhpYykgcmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGcgPSByZXN1bHQuZ3JhcGhpYyBhcyBhbnk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IG9uT3VyTGF5ZXIgPSBnLmxheWVyID09PSB0aGlzLmRyYXdMYXllciB8fCBnLmxheWVyPy5pZCA9PT0gJ0RyYXdHTCcgfHwgZy5sYXllcj8uaWQgPT09IHRoaXMuZHJhd0xheWVyPy5pZDtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBpc092ZXJsYXkgPSAhIWcuYXR0cmlidXRlcz8uaXNTZWxlY3Rpb25PdmVybGF5O1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGhhc0tub3duSWQgPSAhIWcuYXR0cmlidXRlcz8udW5pcXVlSWQgJiYgaWRTZXQuaGFzKGcuYXR0cmlidXRlcy51bmlxdWVJZCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBvbk91ckxheWVyIHx8IGlzT3ZlcmxheSB8fCBoYXNLbm93bklkO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdGlmIChkcmF3TGF5ZXJSZXN1bHRzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHRoaXRUZXN0UmVzdWx0ID0geyByZXN1bHRzOiBkcmF3TGF5ZXJSZXN1bHRzIH0gYXMgYW55O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gTm9ybWFsaXplIG92ZXJsYXkgaGl0cyB0byBwYXJlbnQgZ3JhcGhpY3NcclxuXHRcdFx0XHRcdGNvbnN0IHJlc3VsdHMgPSAoaGl0VGVzdFJlc3VsdC5yZXN1bHRzIGFzIGFueVtdKSB8fCBbXTtcclxuXHRcdFx0XHRcdGNvbnN0IG5vcm1hbGl6ZWRSZXN1bHRzOiBfX2VzcmkuR3JhcGhpY0hpdFtdID0gW107XHJcblxyXG5cdFx0XHRcdFx0Zm9yIChjb25zdCByIG9mIHJlc3VsdHMpIHtcclxuXHRcdFx0XHRcdFx0aWYgKCFyIHx8ICFyLmdyYXBoaWMpIGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0XHRjb25zdCBnID0gci5ncmFwaGljIGFzIGFueTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIENvbnZlcnQgb3ZlcmxheSBoaXRzIHRvIHBhcmVudCBncmFwaGljIGhpdHNcclxuXHRcdFx0XHRcdFx0aWYgKGcuYXR0cmlidXRlcz8uaXNTZWxlY3Rpb25PdmVybGF5ICYmIGcuYXR0cmlidXRlcz8ucGFyZW50R3JhcGhpY0lkKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgcGFyZW50SWQgPSBnLmF0dHJpYnV0ZXMucGFyZW50R3JhcGhpY0lkO1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHBhcmVudCA9IHRoaXMuZHJhd0xheWVyPy5ncmFwaGljcz8uZmluZChcclxuXHRcdFx0XHRcdFx0XHRcdChwZzogX19lc3JpLkdyYXBoaWMpID0+IChwZyBhcyBhbnkpLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkID09PSBwYXJlbnRJZFxyXG5cdFx0XHRcdFx0XHRcdCkgYXMgX19lc3JpLkdyYXBoaWMgfCB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHBhcmVudCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0bm9ybWFsaXplZFJlc3VsdHMucHVzaCh7IC4uLnIsIGdyYXBoaWM6IHBhcmVudCB9IGFzIF9fZXNyaS5HcmFwaGljSGl0KTtcclxuXHRcdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRub3JtYWxpemVkUmVzdWx0cy5wdXNoKHIgYXMgX19lc3JpLkdyYXBoaWNIaXQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIEZpbHRlciBvdXQgbWVhc3VyZW1lbnQgbGFiZWxzLCBidWZmZXJzLCBhbmQgb3RoZXIgbm9uLXNlbGVjdGFibGUgZ3JhcGhpY3NcclxuXHRcdFx0XHRcdGNvbnN0IHNlbGVjdGFibGVHcmFwaGljSGl0cyA9IG5vcm1hbGl6ZWRSZXN1bHRzLmZpbHRlcigocmVzdWx0OiBfX2VzcmkuR3JhcGhpY0hpdCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAoIXJlc3VsdCB8fCAhcmVzdWx0LmdyYXBoaWMgfHwgcmVzdWx0LmdyYXBoaWMubGF5ZXIgIT09IHRoaXMuZHJhd0xheWVyKSByZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0XHRcdFx0XHRjb25zdCBncmFwaGljID0gcmVzdWx0LmdyYXBoaWMgYXMgYW55O1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gRXhjbHVkZSBtZWFzdXJlbWVudCBsYWJlbHNcclxuXHRcdFx0XHRcdFx0aWYgKGlzTWVhc3VyZW1lbnRMYWJlbEdyYXBoaWMoZ3JhcGhpYykpIHJldHVybiBmYWxzZTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIEV4Y2x1ZGUgYnVmZmVyc1xyXG5cdFx0XHRcdFx0XHRpZiAoZ3JhcGhpYy5hdHRyaWJ1dGVzPy5pc1ByZXZpZXdCdWZmZXIgfHxcclxuXHRcdFx0XHRcdFx0XHRncmFwaGljLmF0dHJpYnV0ZXM/LmlzQnVmZmVyIHx8XHJcblx0XHRcdFx0XHRcdFx0Z3JhcGhpYy5hdHRyaWJ1dGVzPy5pc0J1ZmZlckRyYXdpbmcgfHxcclxuXHRcdFx0XHRcdFx0XHRncmFwaGljLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkPy5zdGFydHNXaXRoKCdidWZmZXJfJykpIHJldHVybiBmYWxzZTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIEV4Y2x1ZGUgc2VsZWN0aW9uIG92ZXJsYXlzXHJcblx0XHRcdFx0XHRcdGlmIChncmFwaGljLmF0dHJpYnV0ZXM/LmlzU2VsZWN0aW9uT3ZlcmxheSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHQvLyBQcm9jZXNzIHNlbGVjdGFibGUgZ3JhcGhpYyBoaXRzXHJcblx0XHRcdFx0XHRpZiAoc2VsZWN0YWJsZUdyYXBoaWNIaXRzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgY2xpY2tlZEdyYXBoaWMgPSBzZWxlY3RhYmxlR3JhcGhpY0hpdHNbMF0uZ3JhcGhpYyBhcyBfX2VzcmkuR3JhcGhpYztcclxuXHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygn4pyFIFNlbGVjdGluZyBkcmF3aW5nIGdyYXBoaWM6JywgKGNsaWNrZWRHcmFwaGljIGFzIGFueSkuYXR0cmlidXRlcz8ubmFtZSk7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBJbnZhbGlkYXRlIGFueSBwZW5kaW5nIG92ZXJsYXkgc2NoZWR1bGVzIGZyb20gcHJldmlvdXMgc2VsZWN0aW9uXHJcblx0XHRcdFx0XHRcdHRoaXMuX3NlbGVjdGlvbkVwb2NoKys7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBDbGVhciBwcmV2aW91cyBoYWxvcyBCRUZPUkUgc2VsZWN0aW5nIHRoZSBuZXcgb25lXHJcblx0XHRcdFx0XHRcdGNsZWFyQWxsU2VsZWN0aW9uT3ZlcmxheXNMb2NhbCgpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIHRoZSBzZWxlY3Rpb25cclxuXHRcdFx0XHRcdFx0Y29uc3QgdWlkID0gKGNsaWNrZWRHcmFwaGljIGFzIGFueSkuYXR0cmlidXRlcz8udW5pcXVlSWQ7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGlkeCA9IHVpZCAmJiB0aGlzLl9kcmF3aW5nTWFwPy5oYXModWlkKSA/IHRoaXMuX2RyYXdpbmdNYXAuZ2V0KHVpZCkgOiAtMTtcclxuXHRcdFx0XHRcdFx0dGhpcy5oYW5kbGVEcmF3aW5nU2VsZWN0KGNsaWNrZWRHcmFwaGljLCBpZHgpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gU3luYyBsaXN0IFVJIGlmIGluZGV4IGlzIGtub3duXHJcblx0XHRcdFx0XHRcdGlmICh1aWQgJiYgdGhpcy5fZHJhd2luZ01hcD8uaGFzKHVpZCkpIHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBpbmRleCA9IHRoaXMuX2RyYXdpbmdNYXAuZ2V0KHVpZCk7XHJcblx0XHRcdFx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyYXdpbmctaXRlbScpLmZvckVhY2goaXRlbSA9PiBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkLWRyYXdpbmcnKSk7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgaXRlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBkcmF3aW5nLWl0ZW0tJHtpbmRleH1gKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoaXRlbSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0aXRlbS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZC1kcmF3aW5nJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRpdGVtLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ25lYXJlc3QnIH0pO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRHcmFwaGljSW5kZXg6IGluZGV4LCBzZWxlY3RlZEdyYXBoaWNzOiBuZXcgU2V0KFtpbmRleF0pIH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHQvLyBDbGljayBhd2F5IC0gY2xlYXIgYWxsIHNlbGVjdGlvbnNcclxuXHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygn8J+UmCBXSURHRVQ6IE5vIHNlbGVjdGFibGUgZ3JhcGhpY3MgaGl0IC0gY2xlYXJpbmcgc2VsZWN0aW9ucycpO1xyXG5cclxuXHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAodGhpcy5za2V0Y2hWaWV3TW9kZWwgJiYgdGhpcy5za2V0Y2hWaWV3TW9kZWwudmlldykge1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5za2V0Y2hWaWV3TW9kZWwuY2FuY2VsKCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUud2FybignRXJyb3IgY2FuY2VsaW5nIFNrZXRjaFZpZXdNb2RlbDonLCBlcnJvcik7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdC8vIEludmFsaWRhdGUgYW55IHBlbmRpbmcgb3ZlcmxheSBzY2hlZHVsZXNcclxuXHRcdFx0XHRcdFx0dGhpcy5fc2VsZWN0aW9uRXBvY2grKztcclxuXHJcblx0XHRcdFx0XHRcdC8vIENsZWFyIGhhbG9zIGFuZCBzZWxlY3Rpb24gc3RhdGVzXHJcblx0XHRcdFx0XHRcdGNsZWFyQWxsU2VsZWN0aW9uT3ZlcmxheXNMb2NhbCgpO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRHcmFwaGljSW5kZXggIT09IG51bGwpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRHcmFwaGljSW5kZXg6IG51bGwsIHNlbGVjdGVkR3JhcGhpY3M6IG5ldyBTZXQoKSB9KTtcclxuXHRcdFx0XHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJhd2luZy1pdGVtJykuZm9yRWFjaChpdGVtID0+IGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQtZHJhd2luZycpKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoXCLinYwgSGl0IHRlc3QgZXJyb3I6XCIsIGVycik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIENsZWFuIHVwIG9ycGhhbmVkIGJ1ZmZlcnMgd2hlbiBncmFwaGljcyBhcmUgcmVtb3ZlZFxyXG5cdFx0XHR0aGlzLmRyYXdMYXllci5ncmFwaGljcy5vbihcImNoYW5nZVwiLCAoZXZlbnQpID0+IHtcclxuXHRcdFx0XHRpZiAoZXZlbnQucmVtb3ZlZCAmJiBldmVudC5yZW1vdmVkLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4geyB0aGlzLmNsZWFudXBPcnBoYW5lZEJ1ZmZlcnMoKTsgfSwgMTAwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly9jb25zb2xlLmxvZygn4pyFIEVuaGFuY2VkIGV2ZW50IGhhbmRsZXJzIGNvbmZpZ3VyZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcblxyXG5cdFx0fSkuY2F0Y2goZXJyb3IgPT4ge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgaW4gYWN0aXZlVmlld0NoYW5nZUhhbmRsZXI6JywgZXJyb3IpO1xyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0aGFuZGxlTWVhc3VyZW1lbnRTeXN0ZW1Db250cm9sID0gKGVuYWJsZWQ6IGJvb2xlYW4pID0+IHtcclxuXHRcdGlmICh0aGlzLm1lYXN1cmVSZWY/LmN1cnJlbnQpIHtcclxuXHRcdFx0aWYgKGVuYWJsZWQpIHtcclxuXHRcdFx0XHQvLyBSZW1vdmUgdGhlIGNvbXBsZXggZGVsYXkgbG9naWMgLSBTa2V0Y2hWaWV3TW9kZWwgaXMgbm93IHByb3Blcmx5IGluaXRpYWxpemVkXHJcblx0XHRcdFx0aWYgKHRoaXMuc2tldGNoVmlld01vZGVsICYmIHRoaXMuc2tldGNoVmlld01vZGVsLnZpZXcpIHtcclxuXHRcdFx0XHRcdC8vIENoZWNrIGlmIGRyYXdpbmcgdG9vbHMgYXJlIGFjdGl2ZSBiZWZvcmUgZW5hYmxpbmdcclxuXHRcdFx0XHRcdGNvbnN0IGlzRHJhd2luZ0FjdGl2ZSA9IHRoaXMuc3RhdGUucG9pbnRCdG5BY3RpdmUgfHwgdGhpcy5zdGF0ZS5saW5lQnRuQWN0aXZlIHx8XHJcblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUuZmxpbmVCdG5BY3RpdmUgfHwgdGhpcy5zdGF0ZS5yZWN0QnRuQWN0aXZlIHx8XHJcblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUucG9seWdvbkJ0bkFjdGl2ZSB8fCB0aGlzLnN0YXRlLmZwb2x5Z29uQnRuQWN0aXZlIHx8XHJcblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUuY2lyY2xlQnRuQWN0aXZlIHx8IHRoaXMuc3RhdGUudGV4dEJ0bkFjdGl2ZTtcclxuXHJcblx0XHRcdFx0XHRpZiAoIWlzRHJhd2luZ0FjdGl2ZSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLm1lYXN1cmVSZWYuY3VycmVudC5lbmFibGVNZWFzdXJlbWVudHMoKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2coJ0RyYXdpbmcgdG9vbCBhY3RpdmUgLSBtZWFzdXJlbWVudCBlbmFibGUgZGVmZXJyZWQnKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKCdTa2V0Y2hWaWV3TW9kZWwgbm90IHJlYWR5IGZvciBtZWFzdXJlbWVudHMnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5tZWFzdXJlUmVmLmN1cnJlbnQuZGlzYWJsZU1lYXN1cmVtZW50cygpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0dG9nZ2xlRHJhd2luZ3NQYW5lbCA9ICgpID0+IHtcclxuXHRcdHRoaXMuc2V0U3RhdGUoeyBzaG93RHJhd2luZ3NQYW5lbDogIXRoaXMuc3RhdGUuc2hvd0RyYXdpbmdzUGFuZWwgfSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNsZWFyU2VsZWN0aW9uT3ZlcmxheXNJbkRyYXdMYXllciA9ICgpID0+IHtcclxuXHRcdGlmICghdGhpcy5kcmF3TGF5ZXIpIHJldHVybjtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHRoaXMuZHJhd0xheWVyLmdyYXBoaWNzLnRvQXJyYXkoKS5mb3JFYWNoKGcgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IGV4dDogYW55ID0gZztcclxuXHRcdFx0XHRpZiAoZXh0Ll9zZWxlY3Rpb25PdmVybGF5KSB7XHJcblx0XHRcdFx0XHR0cnkgeyB0aGlzLmRyYXdMYXllci5yZW1vdmUoZXh0Ll9zZWxlY3Rpb25PdmVybGF5KTsgfSBjYXRjaCB7IH1cclxuXHRcdFx0XHRcdGV4dC5fc2VsZWN0aW9uT3ZlcmxheSA9IG51bGw7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKCdFcnJvciBjbGVhcmluZyBzZWxlY3Rpb24gb3ZlcmxheXM6JywgZSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblxyXG5cdGhhbmRsZURyYXdpbmdTZWxlY3QgPSAoZ3JhcGhpYzogX19lc3JpLkdyYXBoaWMsIGluZGV4OiBudW1iZXIpID0+IHtcclxuXHRcdC8vIEd1YXJkICYgc2tpcCBidWZmZXJzXHJcblx0XHRpZiAoIWdyYXBoaWMpIHJldHVybjtcclxuXHRcdGlmICgoZ3JhcGhpYyBhcyBhbnkpLmF0dHJpYnV0ZXM/LmlzQnVmZmVyKSByZXR1cm47XHJcblxyXG5cdFx0Ly8gVmFsaWRhdGUgU2tldGNoVmlld01vZGVsIGFuZCB2aWV3IGJlZm9yZSBwcm9jZWVkaW5nXHJcblx0XHRpZiAoIXRoaXMuc2tldGNoVmlld01vZGVsIHx8ICF0aGlzLnNrZXRjaFZpZXdNb2RlbC52aWV3KSB7XHJcblx0XHRcdGNvbnNvbGUud2FybignU2tldGNoVmlld01vZGVsIG9yIHZpZXcgbm90IHJlYWR5IGZvciBzZWxlY3Rpb24nKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEVuc3VyZSBhdHRyaWJ1dGVzL3VuaXF1ZUlkIGV4aXN0ICh1c2VkIGZvciBvdmVybGF5IHBhcmVudCBsaW5rYWdlICYgbGlzdCBzeW5jKVxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0aWYgKCEoZ3JhcGhpYyBhcyBhbnkpLmF0dHJpYnV0ZXMpIChncmFwaGljIGFzIGFueSkuYXR0cmlidXRlcyA9IHt9O1xyXG5cdFx0XHRpZiAoIShncmFwaGljIGFzIGFueSkuYXR0cmlidXRlcy51bmlxdWVJZCkge1xyXG5cdFx0XHRcdChncmFwaGljIGFzIGFueSkuYXR0cmlidXRlcy51bmlxdWVJZCA9IGBhdXRvXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCA4KX1gO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdGNvbnNvbGUud2FybignQ291bGQgbm90IGVuc3VyZSB1bmlxdWVJZCBvbiBncmFwaGljOicsIGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENhbmNlbCBhbnkgYWN0aXZlIG9wZXJhdGlvbnMgYmVmb3JlIHN0YXJ0aW5nIGEgbmV3IG9uZVxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dGhpcy5za2V0Y2hWaWV3TW9kZWwuY2FuY2VsKCk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLndhcm4oJ0Vycm9yIGNhbmNlbGluZyBza2V0Y2ggb3BlcmF0aW9uOicsIGVycm9yKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEJ1bXAgZXBvY2ggdG8gaW52YWxpZGF0ZSBhbnkgcGVuZGluZyBvdmVybGF5IHRpbWVvdXRzIGZyb20gcHJpb3Igc2VsZWN0aW9uc1xyXG5cdFx0Y29uc3QgbXlFcG9jaCA9ICsrdGhpcy5fc2VsZWN0aW9uRXBvY2g7XHJcblxyXG5cdFx0Ly8gLS0tIFNJTkdMRS1TRUxFQ1RJT04gUE9MSUNZOiBjbGVhciBBTEwgZXhpc3RpbmcgaGFsb3MgYmVmb3JlIHNlbGVjdGluZyBhbmV3IC0tLVxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0aWYgKHRoaXMuZHJhd0xheWVyKSB7XHJcblx0XHRcdFx0dGhpcy5kcmF3TGF5ZXIuZ3JhcGhpY3MudG9BcnJheSgpLmZvckVhY2goKGc6IGFueSkgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKGcgJiYgZy5fc2VsZWN0aW9uT3ZlcmxheSkge1xyXG5cdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChnLl9zZWxlY3Rpb25PdmVybGF5LmxheWVyID09PSB0aGlzLmRyYXdMYXllcikge1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5kcmF3TGF5ZXIucmVtb3ZlKGcuX3NlbGVjdGlvbk92ZXJsYXkpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSBjYXRjaCB7IH1cclxuXHRcdFx0XHRcdFx0Zy5fc2VsZWN0aW9uT3ZlcmxheSA9IG51bGw7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKCdGYWlsZWQgY2xlYXJpbmcgZXhpc3Rpbmcgc2VsZWN0aW9uIG92ZXJsYXlzOicsIGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE5vcm1hbGl6ZSB1bnN1cHBvcnRlZCBwb2x5bGluZSBzeW1ib2wgdHlwZXMgdG8gU2ltcGxlTGluZVN5bWJvbFxyXG5cdFx0aWYgKGdyYXBoaWMuZ2VvbWV0cnk/LnR5cGUgPT09ICdwb2x5bGluZScgJiYgKGdyYXBoaWMuc3ltYm9sIGFzIGFueSk/LnR5cGUgIT09ICdzaW1wbGUtbGluZScpIHtcclxuXHRcdFx0Y29uc3Qgc3ltYm9sQ29sb3IgPSAoZ3JhcGhpYy5zeW1ib2wgYXMgYW55KT8uY29sb3IgfHwgWzAsIDAsIDAsIDFdO1xyXG5cdFx0XHRjb25zdCBzeW1ib2xXaWR0aCA9IChncmFwaGljLnN5bWJvbCBhcyBhbnkpPy53aWR0aCB8fCAyO1xyXG5cdFx0XHRjb25zdCBzeW1ib2xTdHlsZSA9IChncmFwaGljLnN5bWJvbCBhcyBhbnkpPy5zdHlsZSB8fCAnc29saWQnO1xyXG5cdFx0XHRncmFwaGljLnN5bWJvbCA9IG5ldyBTaW1wbGVMaW5lU3ltYm9sKHsgY29sb3I6IHN5bWJvbENvbG9yLCB3aWR0aDogc3ltYm9sV2lkdGgsIHN0eWxlOiBzeW1ib2xTdHlsZSB9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBVc2Ugb3VyIGludGVybmFsIFNrZXRjaFZNIHRvIGVkaXQgdGhlIGdyYXBoaWNcclxuXHRcdHRyeSB7XHJcblx0XHRcdGlmICghdGhpcy5za2V0Y2hWaWV3TW9kZWwudmlldykge1xyXG5cdFx0XHRcdGNvbnNvbGUud2FybignU2tldGNoVmlld01vZGVsIHZpZXcgYmVjYW1lIGludmFsaWQgZHVyaW5nIHNlbGVjdGlvbicpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5za2V0Y2hWaWV3TW9kZWwudXBkYXRlKFtncmFwaGljXSk7XHJcblxyXG5cdFx0XHQvLyBVcGRhdGUgbWVhc3VyZW1lbnRzIHdoZW4gZ3JhcGhpYyBpcyBzZWxlY3RlZCBmb3IgZWRpdGluZ1xyXG5cdFx0XHQvLyBGSVhFRDogQWRkIFNrZXRjaFZpZXdNb2RlbCB2YWxpZGF0aW9uIGJlZm9yZSB1cGRhdGluZyBtZWFzdXJlbWVudHNcclxuXHRcdFx0aWYgKHRoaXMubWVhc3VyZVJlZj8uY3VycmVudCkge1xyXG5cdFx0XHRcdC8vIENoZWNrIGlmIFNrZXRjaFZpZXdNb2RlbCBpcyBhdmFpbGFibGUgYmVmb3JlIGF0dGVtcHRpbmcgbWVhc3VyZW1lbnQgdXBkYXRlXHJcblx0XHRcdFx0aWYgKHRoaXMuc2tldGNoVmlld01vZGVsICYmIHRoaXMuc2tldGNoVmlld01vZGVsLnZpZXcpIHtcclxuXHRcdFx0XHRcdC8vIEFsc28gY2hlY2sgaWYgbWVhc3VyZW1lbnRzIGFyZSBub3QgY3VycmVudGx5IHByb2Nlc3NpbmdcclxuXHRcdFx0XHRcdGlmICghdGhpcy5tZWFzdXJlUmVmLmN1cnJlbnQuaXNCdXN5IHx8ICF0aGlzLm1lYXN1cmVSZWYuY3VycmVudC5pc0J1c3koKSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLm1lYXN1cmVSZWYuY3VycmVudC51cGRhdGVNZWFzdXJlbWVudHNGb3JHcmFwaGljKGdyYXBoaWMpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnTWVhc3VyZW1lbnQgc3lzdGVtIGJ1c3ksIGRlZmVycmluZyB1cGRhdGUnKTtcclxuXHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMubWVhc3VyZVJlZj8uY3VycmVudCAmJiB0aGlzLnNrZXRjaFZpZXdNb2RlbD8udmlldykge1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5tZWFzdXJlUmVmLmN1cnJlbnQudXBkYXRlTWVhc3VyZW1lbnRzRm9yR3JhcGhpYyhncmFwaGljKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0sIDUwMCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUud2FybignU2tldGNoVmlld01vZGVsIG5vdCByZWFkeSBmb3IgbWVhc3VyZW1lbnQgdXBkYXRlIGR1cmluZyBzZWxlY3Rpb24nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEF1dG8tc2VsZWN0IG1lYXN1cmVtZW50IGxhYmVsIGlmIG1lYXN1cmVtZW50IGVkaXRpbmcgaXMgYWN0aXZlXHJcblx0XHRcdGlmICh0aGlzLm1lYXN1cmVSZWY/LmN1cnJlbnQ/LmlzRWRpdGluZ01lYXN1cmVtZW50cz8uKCkpIHtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdNZWFzdXJlbWVudCBlZGl0aW5nIGFjdGl2ZSAtIGF1dG8tc2VsZWN0aW5nIG1lYXN1cmVtZW50IGxhYmVsIGZvciBuZXdseSBzZWxlY3RlZCBncmFwaGljJyk7XHJcblx0XHRcdFx0Ly8gVXNlIGEgc21hbGwgZGVsYXkgdG8gZW5zdXJlIG1lYXN1cmVtZW50IHVwZGF0ZXMgYXJlIGNvbXBsZXRlXHJcblx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5tZWFzdXJlUmVmPy5jdXJyZW50Py5zZWxlY3RHcmFwaGljTWVhc3VyZW1lbnRMYWJlbCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLm1lYXN1cmVSZWYuY3VycmVudC5zZWxlY3RHcmFwaGljTWVhc3VyZW1lbnRMYWJlbChncmFwaGljIGFzIGFueSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwgMTAwKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gU2V0IHVwIGJ1ZmZlciB3YXRjaGVyIGZvciB0aGUgc2VsZWN0ZWQgZ3JhcGhpY1xyXG5cdFx0XHR0aGlzLmVuc3VyZUJ1ZmZlcldhdGNoZXJzRm9yU2VsZWN0ZWRHcmFwaGljKGdyYXBoaWMgYXMgYW55KTtcclxuXHJcblx0XHRcdC8vIC0tLS0tIE92ZXJsYXkgc2NoZWR1bGluZyBmb3IgcG9pbnQvdGV4dCBzZWxlY3Rpb25zIChlcG9jaC1ndWFyZGVkKSAtLS0tLVxyXG5cdFx0XHRjb25zdCBpc1BvaW50ID0gZ3JhcGhpYy5nZW9tZXRyeT8udHlwZSA9PT0gJ3BvaW50JztcclxuXHRcdFx0Y29uc3QgZXh0ID0gZ3JhcGhpYyBhcyBhbnk7XHJcblxyXG5cdFx0XHQvLyBJZiBzZWxlY3RpbmcgYSBub24tcG9pbnQgKGxpbmUvcG9seWdvbiksIGVuc3VyZSBhbnkgcHJpb3Igb3ZlcmxheSBvbiBUSElTIGdyYXBoaWMgaXMgZ29uZVxyXG5cdFx0XHRpZiAoIWlzUG9pbnQgJiYgZXh0Ll9zZWxlY3Rpb25PdmVybGF5KSB7XHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdGlmIChleHQuX3NlbGVjdGlvbk92ZXJsYXkubGF5ZXIgPT09IHRoaXMuZHJhd0xheWVyKSB0aGlzLmRyYXdMYXllci5yZW1vdmUoZXh0Ll9zZWxlY3Rpb25PdmVybGF5KTtcclxuXHRcdFx0XHR9IGNhdGNoIHsgfVxyXG5cdFx0XHRcdGV4dC5fc2VsZWN0aW9uT3ZlcmxheSA9IG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChpc1BvaW50KSB7XHJcblx0XHRcdFx0Ly8gUHJvYWN0aXZlbHkgY2xlYXIgc3RhbGUgcG9pbnRlciBvbiB0aGlzIGdyYXBoaWMgKGluIGNhc2UgaXQgc29tZWhvdyBoYWQgb25lKVxyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRpZiAoZXh0Ll9zZWxlY3Rpb25PdmVybGF5KSB7XHJcblx0XHRcdFx0XHRcdGlmIChleHQuX3NlbGVjdGlvbk92ZXJsYXkubGF5ZXIgPT09IHRoaXMuZHJhd0xheWVyKSB0aGlzLmRyYXdMYXllci5yZW1vdmUoZXh0Ll9zZWxlY3Rpb25PdmVybGF5KTtcclxuXHRcdFx0XHRcdFx0ZXh0Ll9zZWxlY3Rpb25PdmVybGF5ID0gbnVsbDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ092ZXJsYXkgcHJlLWNsZWFyIG9uIHRhcmdldCBmYWlsZWQ6JywgZSk7XHJcblx0XHRcdFx0XHRleHQuX3NlbGVjdGlvbk92ZXJsYXkgPSBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gR2l2ZSBTa2V0Y2hWaWV3TW9kZWwgYSB0aWNrIHRvIHNldHRsZSwgdGhlbiBhZGQgaGFsbzsgZG91YmxlLWNoZWNrIHNob3J0bHkgYWZ0ZXIuXHJcblx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAobXlFcG9jaCAhPT0gdGhpcy5fc2VsZWN0aW9uRXBvY2gpIHJldHVybjsgLy8gc3RhbGUgam9iXHJcblx0XHRcdFx0XHR0aGlzLmVuc3VyZVBvaW50VGV4dE92ZXJsYXlGcm9tTWFwKGV4dCk7XHJcblxyXG5cdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmIChteUVwb2NoICE9PSB0aGlzLl9zZWxlY3Rpb25FcG9jaCkgcmV0dXJuOyAvLyBzdGFsZSBqb2JcclxuXHRcdFx0XHRcdFx0aWYgKCFleHQuX3NlbGVjdGlvbk92ZXJsYXkgfHwgZXh0Ll9zZWxlY3Rpb25PdmVybGF5LmxheWVyICE9PSB0aGlzLmRyYXdMYXllcikge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZW5zdXJlUG9pbnRUZXh0T3ZlcmxheUZyb21NYXAoZXh0KTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBLZWVwIGdlb21ldHJ5IGN1cnJlbnQgJiBicmluZy10by1mcm9udCBhZ2FpbiBmb3IgZ29vZCBtZWFzdXJlXHJcblx0XHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHRcdGV4dC5fc2VsZWN0aW9uT3ZlcmxheS5nZW9tZXRyeSA9IGV4dC5nZW9tZXRyeTtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuZHJhd0xheWVyLnJlbW92ZShleHQuX3NlbGVjdGlvbk92ZXJsYXkpO1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5kcmF3TGF5ZXIuYWRkKGV4dC5fc2VsZWN0aW9uT3ZlcmxheSk7XHJcblx0XHRcdFx0XHRcdFx0fSBjYXRjaCB7IH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSwgMjUwKTtcclxuXHRcdFx0XHR9LCAxNTApO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5cdFx0XHQvLyAtLS0tLSBXYXRjaGVycyBmb3IgdGhpcyBncmFwaGljIC0tLS0tXHJcblx0XHRcdGNvbnN0IGdyYXBoaWNLZXkgPSAoZ3JhcGhpYy5hdHRyaWJ1dGVzICYmIChncmFwaGljLmF0dHJpYnV0ZXMgYXMgYW55KS51bmlxdWVJZCkgfHwgYHRlbXBfJHtEYXRlLm5vdygpfWA7XHJcblxyXG5cdFx0XHQvLyBSZW1vdmUgYW55IGV4aXN0aW5nIHdhdGNoZXJzIGZvciB0aGlzIGdyYXBoaWMgaWYgcHJlc2VudFxyXG5cdFx0XHRpZiAodGhpcy5fcG9zaXRpb25XYXRjaGVycykge1xyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5fcG9zaXRpb25XYXRjaGVyc1tncmFwaGljS2V5XSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLl9wb3NpdGlvbldhdGNoZXJzW2dyYXBoaWNLZXldLnJlbW92ZT8uKCk7XHJcblx0XHRcdFx0XHRcdGRlbGV0ZSB0aGlzLl9wb3NpdGlvbldhdGNoZXJzW2dyYXBoaWNLZXldO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKHRoaXMuX3Bvc2l0aW9uV2F0Y2hlcnNbZ3JhcGhpY0tleSArICdfc3ltYm9sJ10pIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5fcG9zaXRpb25XYXRjaGVyc1tncmFwaGljS2V5ICsgJ19zeW1ib2wnXS5yZW1vdmU/LigpO1xyXG5cdFx0XHRcdFx0XHRkZWxldGUgdGhpcy5fcG9zaXRpb25XYXRjaGVyc1tncmFwaGljS2V5ICsgJ19zeW1ib2wnXTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmICh0aGlzLl9wb3NpdGlvbldhdGNoZXJzW2dyYXBoaWNLZXkgKyAnX2F0dHJpYnV0ZXMnXSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLl9wb3NpdGlvbldhdGNoZXJzW2dyYXBoaWNLZXkgKyAnX2F0dHJpYnV0ZXMnXS5yZW1vdmU/LigpO1xyXG5cdFx0XHRcdFx0XHRkZWxldGUgdGhpcy5fcG9zaXRpb25XYXRjaGVyc1tncmFwaGljS2V5ICsgJ19hdHRyaWJ1dGVzJ107XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKCdFcnJvciBjbGVhcmluZyBwcmlvciB3YXRjaGVyczonLCBlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5fcG9zaXRpb25XYXRjaGVycyA9IHt9O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBHZW9tZXRyeSB3YXRjaGVyIC0gRklYRUQ6IEFkZCBTa2V0Y2hWaWV3TW9kZWwgdmFsaWRhdGlvblxyXG5cdFx0XHR0aGlzLl9wb3NpdGlvbldhdGNoZXJzW2dyYXBoaWNLZXldID0gZ3JhcGhpYy53YXRjaCgnZ2VvbWV0cnknLCBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0Ly8gRGVib3VuY2VkIG1lYXN1cmVtZW50IHVwZGF0ZSB3aXRoIFNrZXRjaFZpZXdNb2RlbCB2YWxpZGF0aW9uXHJcblx0XHRcdFx0aWYgKHRoaXMubWVhc3VyZVJlZj8uY3VycmVudCAmJiB0aGlzLnNrZXRjaFZpZXdNb2RlbD8udmlldykge1xyXG5cdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX21lYXN1cmVtZW50VXBkYXRlVGltZW91dCk7XHJcblx0XHRcdFx0XHR0aGlzLl9tZWFzdXJlbWVudFVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0Ly8gRG91YmxlLWNoZWNrIFNrZXRjaFZpZXdNb2RlbCBpcyBzdGlsbCB2YWxpZFxyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5tZWFzdXJlUmVmPy5jdXJyZW50ICYmIHRoaXMuc2tldGNoVmlld01vZGVsPy52aWV3KSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5tZWFzdXJlUmVmLmN1cnJlbnQudXBkYXRlTWVhc3VyZW1lbnRzRm9yR3JhcGhpYyhncmFwaGljKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSwgMzAwKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIEtlZXAgYnVmZmVyIHN5bmNlZCBpZiBwcmVzZW50XHJcblx0XHRcdFx0Y29uc3QgZXh0ZW5kZWRHcmFwaGljID0gZ3JhcGhpYyBhcyBhbnk7XHJcblx0XHRcdFx0aWYgKGV4dGVuZGVkR3JhcGhpYy5idWZmZXJHcmFwaGljICYmIGV4dGVuZGVkR3JhcGhpYy5idWZmZXJTZXR0aW5ncykge1xyXG5cdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy51cGRhdGVBdHRhY2hlZEJ1ZmZlcihleHRlbmRlZEdyYXBoaWMpO1xyXG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcign4p2MIFdpZGdldDogRXJyb3IgdXBkYXRpbmcgYnVmZmVyOicsIGVycm9yKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIEtlZXAgb3ZlcmxheSBnZW9tZXRyeSBpbiBzeW5jIGlmIHByZXNlbnQgKHBvaW50cyBvbmx5KVxyXG5cdFx0XHRcdGlmIChpc1BvaW50ICYmIChncmFwaGljIGFzIGFueSkuX3NlbGVjdGlvbk92ZXJsYXkpIHtcclxuXHRcdFx0XHRcdHRyeSB7IChncmFwaGljIGFzIGFueSkuX3NlbGVjdGlvbk92ZXJsYXkuZ2VvbWV0cnkgPSBncmFwaGljLmdlb21ldHJ5OyB9IGNhdGNoIHsgfVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBTeW1ib2wgd2F0Y2hlciAtIEZJWEVEOiBBZGQgU2tldGNoVmlld01vZGVsIHZhbGlkYXRpb25cclxuXHRcdFx0dGhpcy5fcG9zaXRpb25XYXRjaGVyc1tncmFwaGljS2V5ICsgJ19zeW1ib2wnXSA9IGdyYXBoaWMud2F0Y2goJ3N5bWJvbCcsICgpID0+IHtcclxuXHRcdFx0XHRpZiAoZ3JhcGhpYy5nZW9tZXRyeT8udHlwZSA9PT0gJ3BvaW50JyAmJiB0aGlzLm1lYXN1cmVSZWY/LmN1cnJlbnQgJiYgdGhpcy5za2V0Y2hWaWV3TW9kZWw/LnZpZXcpIHtcclxuXHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5tZWFzdXJlUmVmPy5jdXJyZW50ICYmIHRoaXMuc2tldGNoVmlld01vZGVsPy52aWV3KSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5tZWFzdXJlUmVmLmN1cnJlbnQudXBkYXRlTWVhc3VyZW1lbnRzRm9yR3JhcGhpYyhncmFwaGljKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSwgMTAwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gQXR0cmlidXRlcyB3YXRjaGVyIC0gRklYRUQ6IEFkZCBTa2V0Y2hWaWV3TW9kZWwgdmFsaWRhdGlvblxyXG5cdFx0XHR0aGlzLl9wb3NpdGlvbldhdGNoZXJzW2dyYXBoaWNLZXkgKyAnX2F0dHJpYnV0ZXMnXSA9IGdyYXBoaWMud2F0Y2goJ2F0dHJpYnV0ZXMnLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKChncmFwaGljLnN5bWJvbCBhcyBhbnkpPy50eXBlID09PSAndGV4dCcgJiYgdGhpcy5tZWFzdXJlUmVmPy5jdXJyZW50ICYmIHRoaXMuc2tldGNoVmlld01vZGVsPy52aWV3KSB7XHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHRoaXMubWVhc3VyZVJlZj8uY3VycmVudCAmJiB0aGlzLnNrZXRjaFZpZXdNb2RlbD8udmlldykge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMubWVhc3VyZVJlZi5jdXJyZW50LnVwZGF0ZU1lYXN1cmVtZW50c0ZvckdyYXBoaWMoZ3JhcGhpYyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sIDEwMCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciBpbiBoYW5kbGVEcmF3aW5nU2VsZWN0OicsIGVycm9yKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHJcblx0aGFuZGxlRHJhd2luZ3NVcGRhdGUgPSAodXBkYXRlZERyYXdpbmdzOiBHcmFwaGljW10pID0+IHtcclxuXHRcdC8vIEZpbHRlciB0byBnZXQgb25seSBtYWluIGRyYXdpbmdzIChleGNsdWRlIGJ1ZmZlcnMgYW5kIG1lYXN1cmVtZW50IGxhYmVscylcclxuXHRcdGNvbnN0IG1haW5EcmF3aW5ncyA9IHVwZGF0ZWREcmF3aW5ncy5maWx0ZXIoZyA9PlxyXG5cdFx0XHQhZy5hdHRyaWJ1dGVzPy5pc0J1ZmZlciAmJlxyXG5cdFx0XHQhZy5hdHRyaWJ1dGVzPy5pc01lYXN1cmVtZW50TGFiZWwgJiZcclxuXHRcdFx0IWcuYXR0cmlidXRlcz8uaGlkZUZyb21MaXN0XHJcblx0XHQpO1xyXG5cclxuXHRcdC8vIFNhdmUgdG8gbG9jYWxTdG9yYWdlIHVzaW5nIHRoZSBzYW1lIG1ldGhvZCBhcyBNeURyYXdpbmdzUGFuZWxcclxuXHRcdHRoaXMuc2F2ZURyYXdpbmdzVG9Mb2NhbFN0b3JhZ2UobWFpbkRyYXdpbmdzKTtcclxuXHJcblx0XHQvL2NvbnNvbGUubG9nKGBTYXZlZCAke21haW5EcmF3aW5ncy5sZW5ndGh9IGRyYXdpbmdzIHRvIGxvY2FsU3RvcmFnZWApO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBvcmlnaW5hbFBvcHVwRW5hYmxlZDogYm9vbGVhbiB8IG51bGwgPSBudWxsO1xyXG5cclxuXHQvLyBBZGQgdGhpcyBtZXRob2QgdG8gc2F2ZSBkcmF3aW5ncyB0byBsb2NhbFN0b3JhZ2VcclxuXHRwcml2YXRlIHNhdmVEcmF3aW5nc1RvTG9jYWxTdG9yYWdlID0gKGRyYXdpbmdzOiBHcmFwaGljW10pID0+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIFVzZSB0aGUgc2FtZSBsb2NhbFN0b3JhZ2Uga2V5IGZvcm1hdCBhcyBNeURyYXdpbmdzUGFuZWxcclxuXHRcdFx0Y29uc3QgZnVsbFVybCA9IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59JHt3aW5kb3cubG9jYXRpb24ucGF0aG5hbWV9YDtcclxuXHRcdFx0Y29uc3QgYmFzZUtleSA9IGJ0b2EoZnVsbFVybCkucmVwbGFjZSgvW15hLXpBLVowLTldL2csICdfJyk7XHJcblx0XHRcdGNvbnN0IGxvY2FsU3RvcmFnZUtleSA9IGBkcmF3aW5nc18ke2Jhc2VLZXl9YDtcclxuXHJcblx0XHRcdC8vIEdldCBhbGwgZ3JhcGhpY3MgZnJvbSB0aGUgbGF5ZXJcclxuXHRcdFx0Y29uc3QgYWxsR3JhcGhpY3MgPSB0aGlzLmRyYXdMYXllci5ncmFwaGljcy50b0FycmF5KCk7XHJcblxyXG5cdFx0XHQvLyBTZXBhcmF0ZSBtYWluIGRyYXdpbmdzIGZyb20gbWVhc3VyZW1lbnQgbGFiZWxzXHJcblx0XHRcdGNvbnN0IG1haW5EcmF3aW5ncyA9IGFsbEdyYXBoaWNzLmZpbHRlcihnID0+XHJcblx0XHRcdFx0IWcuYXR0cmlidXRlcz8uaXNNZWFzdXJlbWVudExhYmVsICYmXHJcblx0XHRcdFx0IWcuYXR0cmlidXRlcz8uaGlkZUZyb21MaXN0ICYmXHJcblx0XHRcdFx0IWcuYXR0cmlidXRlcz8uaXNQcmV2aWV3QnVmZmVyICYmXHJcblx0XHRcdFx0IWcuYXR0cmlidXRlcz8uaXNCdWZmZXIgJiZcclxuXHRcdFx0XHQhZy5hdHRyaWJ1dGVzPy5pc0J1ZmZlckRyYXdpbmdcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdGNvbnN0IG1lYXN1cmVtZW50TGFiZWxzID0gYWxsR3JhcGhpY3MuZmlsdGVyKGcgPT5cclxuXHRcdFx0XHRnLmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRMYWJlbCAmJlxyXG5cdFx0XHRcdCFnLmF0dHJpYnV0ZXM/LmlzUHJldmlld0J1ZmZlclxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Ly8gUHJlcGFyZSBtYWluIGRyYXdpbmdzIGZvciBzdG9yYWdlIHdpdGggYnVmZmVyIHNldHRpbmdzXHJcblx0XHRcdGNvbnN0IGRyYXdpbmdzVG9TYXZlID0gbWFpbkRyYXdpbmdzLm1hcCgoZ3JhcGhpYykgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IGV4dGVuZGVkR3JhcGhpYyA9IGdyYXBoaWMgYXMgYW55O1xyXG5cdFx0XHRcdGNvbnN0IGpzb24gPSBncmFwaGljLnRvSlNPTigpO1xyXG5cclxuXHRcdFx0XHQvLyBFbnN1cmUgZWFjaCBncmFwaGljIGhhcyBhIHVuaXF1ZUlkXHJcblx0XHRcdFx0aWYgKCFqc29uLmF0dHJpYnV0ZXMpIHtcclxuXHRcdFx0XHRcdGpzb24uYXR0cmlidXRlcyA9IHt9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoIWpzb24uYXR0cmlidXRlcy51bmlxdWVJZCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgdW5pcXVlSWQgPSBgc2F2ZWRfJHtEYXRlLm5vdygpfV8ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKX1gO1xyXG5cdFx0XHRcdFx0anNvbi5hdHRyaWJ1dGVzLnVuaXF1ZUlkID0gdW5pcXVlSWQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICghanNvbi5hdHRyaWJ1dGVzLmNyZWF0ZWREYXRlKSB7XHJcblx0XHRcdFx0XHRqc29uLmF0dHJpYnV0ZXMuY3JlYXRlZERhdGUgPSBEYXRlLm5vdygpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gU2F2ZSBidWZmZXIgc2V0dGluZ3MgaWYgdGhpcyBncmFwaGljIGhhcyBhbiBhdHRhY2hlZCBidWZmZXJcclxuXHRcdFx0XHRpZiAoZXh0ZW5kZWRHcmFwaGljLmJ1ZmZlclNldHRpbmdzKSB7XHJcblx0XHRcdFx0XHRqc29uLmF0dHJpYnV0ZXMuYnVmZmVyU2V0dGluZ3MgPSB7XHJcblx0XHRcdFx0XHRcdGRpc3RhbmNlOiBleHRlbmRlZEdyYXBoaWMuYnVmZmVyU2V0dGluZ3MuZGlzdGFuY2UsXHJcblx0XHRcdFx0XHRcdHVuaXQ6IGV4dGVuZGVkR3JhcGhpYy5idWZmZXJTZXR0aW5ncy51bml0LFxyXG5cdFx0XHRcdFx0XHRlbmFibGVkOiBleHRlbmRlZEdyYXBoaWMuYnVmZmVyU2V0dGluZ3MuZW5hYmxlZFxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiBqc29uO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIFByZXBhcmUgbWVhc3VyZW1lbnQgbGFiZWxzIGZvciBzdG9yYWdlXHJcblx0XHRcdGNvbnN0IG1lYXN1cmVtZW50TGFiZWxzVG9TYXZlID0gbWVhc3VyZW1lbnRMYWJlbHMubWFwKChsYWJlbCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IGV4dGVuZGVkTGFiZWwgPSBsYWJlbCBhcyBhbnk7XHJcblx0XHRcdFx0Y29uc3QganNvbiA9IGxhYmVsLnRvSlNPTigpO1xyXG5cclxuXHRcdFx0XHRpZiAoIWpzb24uYXR0cmlidXRlcykge1xyXG5cdFx0XHRcdFx0anNvbi5hdHRyaWJ1dGVzID0ge307XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBTdG9yZSB0aGUgcGFyZW50IGdyYXBoaWMncyB1bmlxdWVJZCBmb3IgcmVzdG9yYXRpb25cclxuXHRcdFx0XHRpZiAoZXh0ZW5kZWRMYWJlbC5tZWFzdXJlUGFyZW50Py5hdHRyaWJ1dGVzPy51bmlxdWVJZCkge1xyXG5cdFx0XHRcdFx0anNvbi5hdHRyaWJ1dGVzLnBhcmVudEdyYXBoaWNJZCA9IGV4dGVuZGVkTGFiZWwubWVhc3VyZVBhcmVudC5hdHRyaWJ1dGVzLnVuaXF1ZUlkO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gRW5zdXJlIG1lYXN1cmVtZW50IGxhYmVsIGZsYWdzIGFyZSBwcmVzZXJ2ZWRcclxuXHRcdFx0XHRqc29uLmF0dHJpYnV0ZXMuaXNNZWFzdXJlbWVudExhYmVsID0gdHJ1ZTtcclxuXHRcdFx0XHRqc29uLmF0dHJpYnV0ZXMuaGlkZUZyb21MaXN0ID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIGpzb247XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gQ29tYmluZSBkcmF3aW5ncyBhbmQgbWVhc3VyZW1lbnQgbGFiZWxzXHJcblx0XHRcdGNvbnN0IGFsbEdyYXBoaWNzVG9TYXZlID0ge1xyXG5cdFx0XHRcdGRyYXdpbmdzOiBkcmF3aW5nc1RvU2F2ZSxcclxuXHRcdFx0XHRtZWFzdXJlbWVudExhYmVsczogbWVhc3VyZW1lbnRMYWJlbHNUb1NhdmUsXHJcblx0XHRcdFx0dmVyc2lvbjogXCIxLjNcIlxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly8gU2F2ZSB0byBsb2NhbFN0b3JhZ2VcclxuXHRcdFx0Y29uc3Qgc3RyaW5naWZpZWQgPSBKU09OLnN0cmluZ2lmeShhbGxHcmFwaGljc1RvU2F2ZSk7XHJcblx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKGxvY2FsU3RvcmFnZUtleSwgc3RyaW5naWZpZWQpO1xyXG5cclxuXHRcdFx0Ly9jb25zb2xlLmxvZyhg4pyFIFN1Y2Nlc3NmdWxseSBzYXZlZCAke2RyYXdpbmdzVG9TYXZlLmxlbmd0aH0gZHJhd2luZyhzKSBhbmQgJHttZWFzdXJlbWVudExhYmVsc1RvU2F2ZS5sZW5ndGh9IG1lYXN1cmVtZW50IGxhYmVsKHMpIHRvIGxvY2FsU3RvcmFnZWApO1xyXG5cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoYOKdjCBFcnJvciBzYXZpbmcgZHJhd2luZ3MgdG8gbG9jYWxTdG9yYWdlOmAsIGVycm9yKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRzaG93QWxlcnQgPSAobWVzc2FnZTogc3RyaW5nLCB0eXBlOiAnc3VjY2VzcycgfCAnZXJyb3InIHwgJ2luZm8nKSA9PiB7XHJcblx0XHQvL2NvbnNvbGUubG9nKGAke3R5cGV9OiAke21lc3NhZ2V9YCk7XHJcblx0XHRhbGVydChtZXNzYWdlKTtcclxuXHR9XHJcblxyXG5cdHN2bUdyYUNyZWF0ZSA9IGFzeW5jIChldnQpID0+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIEJhc2ljIHZhbGlkYXRpb25cclxuXHRcdFx0aWYgKCFldnQgfHwgIWV2dC5ncmFwaGljKSByZXR1cm47XHJcblxyXG5cdFx0XHRjb25zdCBnID0gZXZ0LmdyYXBoaWM7XHJcblxyXG5cdFx0XHQvLyAtLS0tIEFDVElWRSBTVEFURTogU2hvdyBsaXZlIG1lYXN1cmVtZW50cyBkdXJpbmcgZHJhd2luZyAtLS0tXHJcblx0XHRcdGlmIChldnQuc3RhdGUgPT09ICdhY3RpdmUnKSB7XHJcblx0XHRcdFx0Ly8gVXBkYXRlIGxpdmUgbWVhc3VyZW1lbnRzIGlmIHRoZSBtZWFzdXJlbWVudCBzeXN0ZW0gaXMgZW5hYmxlZFxyXG5cdFx0XHRcdGlmICh0aGlzLm1lYXN1cmVSZWY/LmN1cnJlbnQpIHtcclxuXHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMubWVhc3VyZVJlZi5jdXJyZW50LnVwZGF0ZU1lYXN1cmVtZW50c0ZvckdyYXBoaWMoZyk7XHJcblx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0Vycm9yIHVwZGF0aW5nIGxpdmUgbWVhc3VyZW1lbnRzOicsIGVycm9yKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuOyAvLyBFeGl0IGVhcmx5IGZvciBhY3RpdmUgc3RhdGVcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gLS0tLSBDT01QTEVURSBTVEFURTogRmluYWxpemUgdGhlIGRyYXdpbmcgLS0tLVxyXG5cdFx0XHRpZiAoZXZ0LnN0YXRlICE9PSAnY29tcGxldGUnKSByZXR1cm47XHJcblxyXG5cdFx0XHQvLyAtLS0tIDEpIEluaXRpYWxpemUgYmFzZSBhdHRyaWJ1dGVzIGltbWVkaWF0ZWx5IChiZWZvcmUgYW55IGFzeW5jKSAtLS0tXHJcblx0XHRcdGcuYXR0cmlidXRlcyA9IGcuYXR0cmlidXRlcyB8fCB7fTtcclxuXHRcdFx0aWYgKCFnLmF0dHJpYnV0ZXMudW5pcXVlSWQpIHtcclxuXHRcdFx0XHRnLmF0dHJpYnV0ZXMudW5pcXVlSWQgPSBgZ18ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgOCl9YDtcclxuXHRcdFx0fVxyXG5cdFx0XHRnLmF0dHJpYnV0ZXMuaXNEcmF3aW5nID0gdHJ1ZTsgICAgICAgLy8gaW1wb3J0YW50OiBwcmV2ZW50cyBtZWFzdXJlbWVudCBjbGVhbnVwIGZyb20gdG91Y2hpbmcgcGFyZW50c1xyXG5cdFx0XHRnLmF0dHJpYnV0ZXMuaGlkZUZyb21MaXN0ID0gZmFsc2U7ICAgLy8gZW5zdXJlIGl0IHNob3dzIGluIE15IERyYXdpbmdzXHJcblx0XHRcdGcuYXR0cmlidXRlcy5kcmF3TW9kZSA9IHRoaXMuc3RhdGUuY3VycmVudFRvb2w7XHJcblx0XHRcdGcuYXR0cmlidXRlcy5jcmVhdGVkRGF0ZSA9IERhdGUubm93KCk7XHJcblxyXG5cdFx0XHQvLyBOYW1lIGFmdGVyIGN1cnJlbnQgdG9vbDsgaW5kZXggd2lsbCBiZSByZWZpbmVkIGFmdGVyIHdlIGVuc3VyZSBsYXllciBwcmVzZW5jZVxyXG5cdFx0XHRnLmF0dHJpYnV0ZXMubmFtZSA9IGAke3RoaXMuc3RhdGUuY3VycmVudFRvb2x9ICR7dGhpcy5kcmF3TGF5ZXIuZ3JhcGhpY3MubGVuZ3RoICsgMX1gO1xyXG5cclxuXHRcdFx0Ly8gLS0tLSAyKSBFbnN1cmUgdmlzaWJpbGl0eSBhbmQgbGF5ZXIgbWVtYmVyc2hpcCAocHJldmVudHMgXCJleGlzdHMgYnV0IG5vdCBzaG93blwiKSAtLS0tXHJcblx0XHRcdGlmIChnLnZpc2libGUgPT09IGZhbHNlKSBnLnZpc2libGUgPSB0cnVlO1xyXG5cclxuXHRcdFx0Ly8gU2tldGNoVmlld01vZGVsIG5vcm1hbGx5IGFkZHMgaXQsIGJ1dCByZS1hc3NlcnQgdG8gYmUgc2FmZVxyXG5cdFx0XHRpZiAoIXRoaXMuZHJhd0xheWVyLmdyYXBoaWNzPy5pbmNsdWRlcz8uKGcpKSB7XHJcblx0XHRcdFx0dHJ5IHsgdGhpcy5kcmF3TGF5ZXIuYWRkKGcpOyB9IGNhdGNoIHsgLyogbm8tb3AgKi8gfVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBHaXZlIHRoZSBsYXllciBhIHJlbmRlciB0dXJuIChwcmV2ZW50cyByYWNlIHdpdGggbWVhc3VyZW1lbnQgY29kZSlcclxuXHRcdFx0Y29uc3QgdiA9IHRoaXMuc2tldGNoVmlld01vZGVsPy52aWV3O1xyXG5cdFx0XHRpZiAodiAmJiB0eXBlb2Ygdi53aGVuTGF5ZXJWaWV3ID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0dHJ5IHsgYXdhaXQgdi53aGVuTGF5ZXJWaWV3KHRoaXMuZHJhd0xheWVyKTsgfSBjYXRjaCB7IC8qIG5vLW9wICovIH1cclxuXHRcdFx0fVxyXG5cdFx0XHRhd2FpdCBuZXcgUHJvbWlzZShyID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiByKG51bGwpKSk7XHJcblxyXG5cdFx0XHQvLyAtLS0tIDMpIEFwcGx5IGFycm93cyAoaWYgZW5hYmxlZCkgZm9yIHBvbHlsaW5lcyAtLS0tXHJcblx0XHRcdGlmICh0aGlzLnN0YXRlLmFycm93RW5hYmxlZCAmJlxyXG5cdFx0XHRcdGcuZ2VvbWV0cnk/LnR5cGUgPT09ICdwb2x5bGluZScgJiZcclxuXHRcdFx0XHRnLnN5bWJvbD8udHlwZSA9PT0gJ3NpbXBsZS1saW5lJykge1xyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRjb25zdCBiYXNlU3ltYm9sID0gZy5zeW1ib2wgYXMgX19lc3JpLlNpbXBsZUxpbmVTeW1ib2w7XHJcblx0XHRcdFx0XHRjb25zdCBhcnJvd1N5bWJvbCA9IHRoaXMuY3JlYXRlTGluZVN5bWJvbFdpdGhCdWlsdEluQXJyb3dzKFxyXG5cdFx0XHRcdFx0XHRiYXNlU3ltYm9sLFxyXG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLmFycm93UG9zaXRpb24sXHJcblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUuYXJyb3dTaXplXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0Zy5zeW1ib2wgPSBhcnJvd1N5bWJvbDtcclxuXHRcdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0Vycm9yIGFwcGx5aW5nIGFycm93cyBvbiBjcmVhdGU6JywgZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyAtLS0tIDQpIElmIHRleHQgdG9vbCwgZW5zdXJlIHRoZSB0ZXh0IHN5bWJvbCBpcyBhcHBsaWVkIG5vdyAtLS0tXHJcblx0XHRcdGlmICh0aGlzLnN0YXRlLmN1cnJlbnRUb29sID09PSAndGV4dCcpIHtcclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0Zy5zeW1ib2wgPSB0aGlzLnN0YXRlLmN1cnJlbnRUZXh0U3ltYm9sLmNsb25lKCk7XHJcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKCdGYWlsZWQgdG8gYXBwbHkgY3VycmVudFRleHRTeW1ib2w6JywgZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyAtLS0tIDUpIFVwZGF0ZSBuYW1lIHVzaW5nIG9ubHkgcmVhbCBkcmF3aW5ncyAoZXhjbHVkZXMgYnVmZmVycy9sYWJlbHMpIC0tLS1cclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRjb25zdCBtYWluRHJhd2luZ3MgPSB0aGlzLmRyYXdMYXllci5ncmFwaGljcy50b0FycmF5KCkuZmlsdGVyKGdnID0+XHJcblx0XHRcdFx0XHQhZ2cuYXR0cmlidXRlcz8uaXNCdWZmZXIgJiZcclxuXHRcdFx0XHRcdCFnZy5hdHRyaWJ1dGVzPy5pc01lYXN1cmVtZW50TGFiZWwgJiZcclxuXHRcdFx0XHRcdGdnLmF0dHJpYnV0ZXM/LmlzRHJhd2luZyA9PT0gdHJ1ZSAmJlxyXG5cdFx0XHRcdFx0Z2cuYXR0cmlidXRlcz8uaGlkZUZyb21MaXN0ICE9PSB0cnVlXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHQvLyBQb3NpdGlvbiBpbiBsaXN0IGlzIDEtYmFzZWRcclxuXHRcdFx0XHRjb25zdCBpZHggPSBNYXRoLm1heCgxLCBtYWluRHJhd2luZ3MuaW5kZXhPZihnKSArIDEpO1xyXG5cdFx0XHRcdGcuYXR0cmlidXRlcy5uYW1lID0gYCR7dGhpcy5zdGF0ZS5jdXJyZW50VG9vbH0gJHtpZHh9YDtcclxuXHRcdFx0fSBjYXRjaCB7IC8qIGJlc3QgZWZmb3J0ICovIH1cclxuXHJcblx0XHRcdC8vIC0tLS0gNikgUGVyc2lzdCBkcmF3aW5ncyAoZGVmZXJyZWQgYSB0aWNrKSAtLS0tXHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5fZHJhd2luZ01hcCAmJiBnLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IG1haW5EcmF3aW5ncyA9IHRoaXMuZHJhd0xheWVyLmdyYXBoaWNzLnRvQXJyYXkoKS5maWx0ZXIoZ2cgPT5cclxuXHRcdFx0XHRcdFx0XHQhZ2cuYXR0cmlidXRlcz8uaXNCdWZmZXIgJiZcclxuXHRcdFx0XHRcdFx0XHQhZ2cuYXR0cmlidXRlcz8uaXNNZWFzdXJlbWVudExhYmVsICYmXHJcblx0XHRcdFx0XHRcdFx0Z2cuYXR0cmlidXRlcz8uaXNEcmF3aW5nID09PSB0cnVlICYmXHJcblx0XHRcdFx0XHRcdFx0Z2cuYXR0cmlidXRlcz8uaGlkZUZyb21MaXN0ICE9PSB0cnVlXHJcblx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuX2RyYXdpbmdNYXAuc2V0KGcuYXR0cmlidXRlcy51bmlxdWVJZCwgTWF0aC5tYXgoMCwgbWFpbkRyYXdpbmdzLmluZGV4T2YoZykpKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHRoaXMuaGFuZGxlRHJhd2luZ3NVcGRhdGUodGhpcy5kcmF3TGF5ZXIuZ3JhcGhpY3MudG9BcnJheSgpKTtcclxuXHRcdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0Vycm9yIHNhdmluZyBkcmF3aW5ncyBhZnRlciBjcmVhdGU6JywgZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCAxMDApO1xyXG5cclxuXHRcdFx0Ly8gLS0tLSA3KSBIYW5kbGUgY3JlYXRpb24gbW9kZSAtLS0tXHJcblx0XHRcdGlmICh0aGlzLmNyZWF0aW9uTW9kZSA9PT0gJ2NvbnRpbnVvdXMnKSB7XHJcblx0XHRcdFx0c3dpdGNoICh0aGlzLnN0YXRlLmN1cnJlbnRUb29sKSB7XHJcblx0XHRcdFx0XHRjYXNlICdleHRlbnQnOlxyXG5cdFx0XHRcdFx0XHR0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoJ3JlY3RhbmdsZScpO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJ2ZyZWVwb2x5bGluZSc6XHJcblx0XHRcdFx0XHRcdHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSgncG9seWxpbmUnLCB7IG1vZGU6ICdmcmVlaGFuZCcgfSk7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAncG9seWxpbmUnOlxyXG5cdFx0XHRcdFx0XHR0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoJ3BvbHlsaW5lJyk7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAncG9pbnQnOlxyXG5cdFx0XHRcdFx0XHR0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoJ3BvaW50Jyk7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAncG9seWdvbic6XHJcblx0XHRcdFx0XHRcdHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSgncG9seWdvbicpO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJ2ZyZWVwb2x5Z29uJzpcclxuXHRcdFx0XHRcdFx0dGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKCdwb2x5Z29uJywgeyBtb2RlOiAnZnJlZWhhbmQnIH0pO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJ2NpcmNsZSc6XHJcblx0XHRcdFx0XHRcdHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSgnY2lyY2xlJyk7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAndGV4dCc6XHJcblx0XHRcdFx0XHRcdC8vIGFscmVhZHkgYXBwbGllZCB0ZXh0IHN5bWJvbCBhYm92ZTsgc3RhcnQgYSBuZXcgb25lXHJcblx0XHRcdFx0XHRcdHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSgncG9pbnQnKTtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5jcmVhdGlvbk1vZGUgPT09ICdzaW5nbGUnKSB7XHJcblx0XHRcdFx0Ly8gRm9yIHNpbmdsZSBtb2RlOiBpZiB0b29sIHdhcyB0ZXh0LCB3ZSBhbHJlYWR5IHNldCBzeW1ib2w7IG5vdyBleGl0IGRyYXcgbW9kZVxyXG5cdFx0XHRcdHRoaXMuc2V0RHJhd1Rvb2xCdG5TdGF0ZShudWxsKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gLS0tLSA4KSBPcHRpb25hbDogbGlnaHQgcmVmcmVzaCB0byBlbnN1cmUgdmlzaWJpbGl0eSBpbiBlZGdlIGNhc2VzIC0tLS1cclxuXHRcdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiAodGhpcy5kcmF3TGF5ZXIgYXMgYW55KS5yZWZyZXNoID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0XHRcdCh0aGlzLmRyYXdMYXllciBhcyBhbnkpLnJlZnJlc2goKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGNhdGNoIHsgLyogbm8tb3AgKi8gfVxyXG5cdFx0XHR9KTtcclxuXHRcdH0gY2F0Y2ggKGVycikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciBpbiBzdm1HcmFDcmVhdGU6JywgZXJyKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRzdm1HcmFVcGRhdGUgPSAoZXZ0KSA9PiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBWYWxpZGF0ZSBTa2V0Y2hWaWV3TW9kZWwgYW5kIHZpZXcgYmVmb3JlIHByb2NlZWRpbmdcclxuXHRcdFx0aWYgKCF0aGlzLnNrZXRjaFZpZXdNb2RlbCB8fCAhdGhpcy5za2V0Y2hWaWV3TW9kZWwudmlldykge1xyXG5cdFx0XHRcdGNvbnNvbGUud2FybignU2tldGNoVmlld01vZGVsIHZpZXcgbm90IGF2YWlsYWJsZSBpbiB1cGRhdGUnKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFVwZGF0ZSB1bmRvL3JlZG8gYXZhaWxhYmlsaXR5IGluIHN0YXRlXHJcblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xyXG5cdFx0XHRcdGNhblVuZG86IHRoaXMuc2tldGNoVmlld01vZGVsLmNhblVuZG8oKSxcclxuXHRcdFx0XHRjYW5SZWRvOiB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jYW5SZWRvKClcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpZiAoZXZ0LnN0YXRlID09PSAnc3RhcnQnKSB7XHJcblx0XHRcdFx0aWYgKGV2dC5ncmFwaGljcykge1xyXG5cdFx0XHRcdFx0Ly8gRmlsdGVyIG91dCBBTEwgYnVmZmVyIGdyYXBoaWNzIGFuZCBtZWFzdXJlbWVudCBsYWJlbHMgZnJvbSBzZWxlY3Rpb25cclxuXHRcdFx0XHRcdGNvbnN0IHNlbGVjdGFibGVHcmFwaGljcyA9IGV2dC5ncmFwaGljcy5maWx0ZXIoKGdyYTogR3JhcGhpYykgPT4ge1xyXG5cdFx0XHRcdFx0XHQvLyBTa2lwIEFMTCBidWZmZXIgZ3JhcGhpY3MgKGJvdGggYXR0YWNoZWQgYW5kIHN0YW5kYWxvbmUpXHJcblx0XHRcdFx0XHRcdGlmIChncmEuYXR0cmlidXRlcz8uaXNCdWZmZXIgfHxcclxuXHRcdFx0XHRcdFx0XHRncmEuYXR0cmlidXRlcz8uaXNCdWZmZXJEcmF3aW5nIHx8XHJcblx0XHRcdFx0XHRcdFx0Z3JhLmF0dHJpYnV0ZXM/LmlzUHJldmlld0J1ZmZlciB8fFxyXG5cdFx0XHRcdFx0XHRcdGdyYS5hdHRyaWJ1dGVzPy51bmlxdWVJZD8uc3RhcnRzV2l0aCgnYnVmZmVyXycpKSB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdC8vIFNraXAgbWVhc3VyZW1lbnQgbGFiZWxzXHJcblx0XHRcdFx0XHRcdGlmIChncmEuYXR0cmlidXRlcz8uaXNNZWFzdXJlbWVudExhYmVsKSB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdC8vIFNraXAgaGlkZGVuIGdyYXBoaWNzXHJcblx0XHRcdFx0XHRcdGlmIChncmEuYXR0cmlidXRlcz8uaGlkZUZyb21MaXN0KSB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdC8vIEFkZGl0aW9uYWwgc2FmZXR5IGNoZWNrIGZvciB0ZXh0IG1lYXN1cmVtZW50IGxhYmVsc1xyXG5cdFx0XHRcdFx0XHRpZiAoZ3JhLmdlb21ldHJ5Py50eXBlID09PSAncG9pbnQnICYmXHJcblx0XHRcdFx0XHRcdFx0Z3JhLnN5bWJvbD8udHlwZSA9PT0gJ3RleHQnICYmXHJcblx0XHRcdFx0XHRcdFx0Z3JhLmF0dHJpYnV0ZXM/LmlzTWVhc3VyZW1lbnRMYWJlbCkge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdC8vIElmIG5vIHNlbGVjdGFibGUgZ3JhcGhpY3MgcmVtYWluLCBjYW5jZWwgdGhlIHVwZGF0ZVxyXG5cdFx0XHRcdFx0aWYgKHNlbGVjdGFibGVHcmFwaGljcy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAodGhpcy5za2V0Y2hWaWV3TW9kZWwgJiYgdGhpcy5za2V0Y2hWaWV3TW9kZWwudmlldykge1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5za2V0Y2hWaWV3TW9kZWwuY2FuY2VsKCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUud2FybignRXJyb3IgY2FuY2VsaW5nIFNrZXRjaFZpZXdNb2RlbCBpbiBzdm1HcmFVcGRhdGU6JywgZXJyb3IpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBORVc6IEVuc3VyZSBidWZmZXIgd2F0Y2hlcnMgZm9yIHNlbGVjdGVkIGdyYXBoaWNzXHJcblx0XHRcdFx0XHRzZWxlY3RhYmxlR3JhcGhpY3MuZm9yRWFjaCgoZ3JhcGhpYzogYW55KSA9PiB7XHJcblx0XHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5lbnN1cmVCdWZmZXJXYXRjaGVyc0ZvclNlbGVjdGVkR3JhcGhpYyhncmFwaGljKTtcclxuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0Vycm9yIHNldHRpbmcgdXAgYnVmZmVyIHdhdGNoZXI6JywgZXJyb3IpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHQvLyBDb250aW51ZSB3aXRoIG9ubHkgc2VsZWN0YWJsZSBncmFwaGljc1xyXG5cdFx0XHRcdFx0c2VsZWN0YWJsZUdyYXBoaWNzLmZvckVhY2goKGdyYTogR3JhcGhpYykgPT4ge1xyXG5cdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChncmEuZ2VvbWV0cnkudHlwZSA9PT0gJ3BvaW50JyAmJiBncmEuc3ltYm9sLnR5cGUgPT09ICd0ZXh0Jykge1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIHRleHQgZ3JhcGhpY3MuLi5cclxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGNUZXh0U3ltOiBUZXh0U3ltYm9sID0gZ3JhLnN5bWJvbC5jbG9uZSgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0bGV0IGNTdGF0ZTogYW55ID0ge307XHJcblx0XHRcdFx0XHRcdFx0XHRjU3RhdGVbJ3ZUZXh0QWxpZ24nXSA9IGNUZXh0U3ltLnZlcnRpY2FsQWxpZ25tZW50O1xyXG5cdFx0XHRcdFx0XHRcdFx0Y1N0YXRlWyd2QWxpZ25CYXNlQnRuQWN0aXZlJ10gPSBjVGV4dFN5bS52ZXJ0aWNhbEFsaWdubWVudCA9PT0gJ2Jhc2VsaW5lJztcclxuXHRcdFx0XHRcdFx0XHRcdGNTdGF0ZVsndkFsaWduVG9wQnRuQWN0aXZlJ10gPSBjVGV4dFN5bS52ZXJ0aWNhbEFsaWdubWVudCA9PT0gJ3RvcCc7XHJcblx0XHRcdFx0XHRcdFx0XHRjU3RhdGVbJ3ZBbGlnbk1pZEJ0bkFjdGl2ZSddID0gY1RleHRTeW0udmVydGljYWxBbGlnbm1lbnQgPT09ICdtaWRkbGUnO1xyXG5cdFx0XHRcdFx0XHRcdFx0Y1N0YXRlWyd2QWxpZ25Cb3RCdG5BY3RpdmUnXSA9IGNUZXh0U3ltLnZlcnRpY2FsQWxpZ25tZW50ID09PSAnYm90dG9tJztcclxuXHRcdFx0XHRcdFx0XHRcdGNTdGF0ZVsnaFRleHRBbGlnbiddID0gY1RleHRTeW0uaG9yaXpvbnRhbEFsaWdubWVudDtcclxuXHRcdFx0XHRcdFx0XHRcdGNTdGF0ZVsnaEFsaWduTGVmdEJ0bkFjdGl2ZSddID0gY1RleHRTeW0uaG9yaXpvbnRhbEFsaWdubWVudCA9PT0gJ2xlZnQnO1xyXG5cdFx0XHRcdFx0XHRcdFx0Y1N0YXRlWydoQWxpZ25DZW50ZXJCdG5BY3RpdmUnXSA9IGNUZXh0U3ltLmhvcml6b250YWxBbGlnbm1lbnQgPT09ICdjZW50ZXInO1xyXG5cdFx0XHRcdFx0XHRcdFx0Y1N0YXRlWydoQWxpZ25SaWdodEJ0bkFjdGl2ZSddID0gY1RleHRTeW0uaG9yaXpvbnRhbEFsaWdubWVudCA9PT0gJ3JpZ2h0JztcclxuXHRcdFx0XHRcdFx0XHRcdGNTdGF0ZVsnZm9udFJvdGF0aW9uJ10gPSBjVGV4dFN5bS5hbmdsZTtcclxuXHRcdFx0XHRcdFx0XHRcdGNTdGF0ZVsnc2hvd1N5bVByZXZpZXcnXSA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRcdFx0Y1N0YXRlWydzaG93VGV4dFByZXZpZXcnXSA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHRjU3RhdGVbJ2N1cnJlbnRTeW1ib2wnXSA9IG51bGw7XHJcblx0XHRcdFx0XHRcdFx0XHRjU3RhdGVbJ2N1cnJlbnRTeW1ib2xUeXBlJ10gPSBudWxsO1xyXG5cdFx0XHRcdFx0XHRcdFx0Y1N0YXRlWydjdXJyZW50VGV4dFN5bWJvbCddID0gY1RleHRTeW07XHJcblx0XHRcdFx0XHRcdFx0XHRjU3RhdGVbJ2dyYXBoaWNzJ10gPSBzZWxlY3RhYmxlR3JhcGhpY3M7XHJcblx0XHRcdFx0XHRcdFx0XHRjU3RhdGVbJ2NsZWFyQnRuVGl0bGUnXSA9IHRoaXMubmxzKCdkcmF3Q2xlYXJTZWxlY3RlZCcpO1xyXG5cdFx0XHRcdFx0XHRcdFx0Y1N0YXRlWydmb250Q29sb3InXSA9IHRoaXMuY29udmVydFN5bWJvbENvbG9yVG9Db2xvclBpY2tlclZhbHVlKGNUZXh0U3ltLmNvbG9yKTtcclxuXHRcdFx0XHRcdFx0XHRcdGNTdGF0ZVsnZm9udE9wYWNpdHknXSA9IGNUZXh0U3ltLmNvbG9yLmE7XHJcblx0XHRcdFx0XHRcdFx0XHRjU3RhdGVbJ2ZvbnRTaXplJ10gPSBjVGV4dFN5bS5mb250LnNpemU7XHJcblx0XHRcdFx0XHRcdFx0XHRjU3RhdGVbJ3RleHRTeW1QcmV2aWV3VGV4dCddID0gY1RleHRTeW0udGV4dDtcclxuXHRcdFx0XHRcdFx0XHRcdGNTdGF0ZVsnZm9udEhhbG9FbmFibGVkJ10gPSBjVGV4dFN5bS5oYWxvU2l6ZSAhPT0gbnVsbDtcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChjVGV4dFN5bS5oYWxvQ29sb3IpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y1N0YXRlWydmb250SGFsb09wYWNpdHknXSA9IGNUZXh0U3ltLmhhbG9Db2xvci5hO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjU3RhdGVbJ2ZvbnRIYWxvQ29sb3InXSA9IHRoaXMuY29udmVydFN5bWJvbENvbG9yVG9Db2xvclBpY2tlclZhbHVlKGNUZXh0U3ltLmhhbG9Db2xvcik7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNTdGF0ZVsnZm9udEhhbG9TaXplJ10gPSBjVGV4dFN5bS5oYWxvU2l6ZTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y1N0YXRlWydmb250SGFsbyddID0gY1N0YXRlWydmb250SGFsb1NpemUnXSArICdweCAnICsgY1N0YXRlWydmb250SGFsb0NvbG9yJ107XHJcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjU3RhdGVbJ2ZvbnRIYWxvT3BhY2l0eSddID0gMTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y1N0YXRlWydmb250SGFsbyddID0gJ3Vuc2V0JztcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y1N0YXRlWydmb250SGFsb0NvbG9yJ10gPSAncmdiYSgyNTUsMjU1LDI1NSwxKSc7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNTdGF0ZVsnZm9udEhhbG9TaXplJ10gPSAxO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0Y1N0YXRlWydmb250V2VpZ2h0J10gPSBjVGV4dFN5bS5mb250LndlaWdodDtcclxuXHRcdFx0XHRcdFx0XHRcdGNTdGF0ZVsnZm9udERlY29yYXRpb24nXSA9IGNUZXh0U3ltLmZvbnQuZGVjb3JhdGlvbjtcclxuXHRcdFx0XHRcdFx0XHRcdGNTdGF0ZVsnZm9udFN0eWxlJ10gPSBjVGV4dFN5bS5mb250LnN0eWxlO1xyXG5cdFx0XHRcdFx0XHRcdFx0Y1N0YXRlWydmc0JvbGRCdG5BY3RpdmUnXSA9IGNUZXh0U3ltLmZvbnQud2VpZ2h0ICE9PSAnbm9ybWFsJztcclxuXHRcdFx0XHRcdFx0XHRcdGNTdGF0ZVsnZnNJdGFsaWNCdG5BY3RpdmUnXSA9IGNUZXh0U3ltLmZvbnQuc3R5bGUgIT09ICdub3JtYWwnO1xyXG5cdFx0XHRcdFx0XHRcdFx0Y1N0YXRlWydmc1VuZGVybGluZUJ0bkFjdGl2ZSddID0gY1RleHRTeW0uZm9udC5kZWNvcmF0aW9uICE9PSAnbm9uZSc7XHJcblx0XHRcdFx0XHRcdFx0XHRjU3RhdGVbJ2ZvbnRCYWNrZ3JvdW5kQ29sb3InXSA9IHRoaXMuY29udmVydFN5bWJvbENvbG9yVG9Db2xvclBpY2tlclZhbHVlKGNUZXh0U3ltLmJhY2tncm91bmRDb2xvcik7XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldFN0YXRlKGNTdGF0ZSk7XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vIEZvciBub24tdGV4dCBncmFwaGljcywgcHJlcGFyZSBzdGF0ZSB0byBzaG93IHN5bWJvbCBwcmV2aWV3IHNldHRpbmdzXHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQURESVRJT046IFByZXNlcnZlIGFycm93IHNldHRpbmdzIGZvciBwb2x5bGluZXMgZHVyaW5nIHNlbGVjdGlvblxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGdyYS5nZW9tZXRyeS50eXBlID09PSAncG9seWxpbmUnKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2coJ1NlbGVjdGVkIHBvbHlsaW5lIC0gY2hlY2tpbmcgZm9yIGFycm93czonLCBncmEuYXR0cmlidXRlcz8udW5pcXVlSWQpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gQ2hlY2sgaWYgdGhpcyBwb2x5bGluZSBoYXMgYXJyb3dzIHRoYXQgbmVlZCB0byBiZSBwcmVzZXJ2ZWRcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGdyYS5zeW1ib2w/LnR5cGUgPT09ICdzaW1wbGUtbGluZScpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBsaW5lU3ltYm9sID0gZ3JhLnN5bWJvbCBhcyBfX2VzcmkuU2ltcGxlTGluZVN5bWJvbDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBoYXNBcnJvd3MgPSAhIShsaW5lU3ltYm9sIGFzIGFueSkubWFya2VyO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoaGFzQXJyb3dzKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCdQb2x5bGluZSBoYXMgYXJyb3dzIC0gcHJlc2VydmluZyBhcnJvdyBzZXR0aW5ncycpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRG9uJ3Qgb3ZlcnJpZGUgYXJyb3cgc2V0dGluZ3MgZm9yIHBvbHlsaW5lcyB0aGF0IGFscmVhZHkgaGF2ZSB0aGVtXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLnN0YXRlLmFycm93RW5hYmxlZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnQXBwbHlpbmcgY3VycmVudCBhcnJvdyBzZXR0aW5ncyB0byBzZWxlY3RlZCBwb2x5bGluZScpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gQXBwbHkgY3VycmVudCBhcnJvdyBzZXR0aW5ncyB0byBwb2x5bGluZXMgd2l0aG91dCBhcnJvd3NcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGFycm93U3ltYm9sID0gdGhpcy5jcmVhdGVMaW5lU3ltYm9sV2l0aEJ1aWx0SW5BcnJvd3MoXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bGluZVN5bWJvbCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnN0YXRlLmFycm93UG9zaXRpb24sXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5hcnJvd1NpemVcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Z3JhLnN5bWJvbCA9IGFycm93U3ltYm9sO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKCdFcnJvciBhcHBseWluZyBhcnJvdyBzZXR0aW5nczonLCBlcnJvcik7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGdyYS5nZW9tZXRyeS50eXBlID09PSAncG9pbnQnKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuc2V0U3RhdGUoeyByb3RhdGlvbk1vZGU6IHRydWUgfSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldFN0YXRlKHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0c2hvd1N5bVByZXZpZXc6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdHNob3dUZXh0UHJldmlldzogZmFsc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRTeW1ib2w6IHNlbGVjdGFibGVHcmFwaGljc1swXS5zeW1ib2wsXHJcblx0XHRcdFx0XHRcdFx0XHRcdGdyYXBoaWNzOiBzZWxlY3RhYmxlR3JhcGhpY3MsXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNsZWFyQnRuVGl0bGU6IHRoaXMubmxzKCdkcmF3Q2xlYXJTZWxlY3RlZCcpXHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKCdFcnJvciBwcm9jZXNzaW5nIHNlbGVjdGFibGUgZ3JhcGhpYzonLCBlcnJvcik7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmIChldnQuc3RhdGUgPT09ICdhY3RpdmUnKSB7XHJcblx0XHRcdFx0Ly8gSGFuZGxlIGFjdGl2ZSBlZGl0aW5nIHN0YXRlXHJcblx0XHRcdFx0aWYgKGV2dC5ncmFwaGljcyAmJiBldnQuZ3JhcGhpY3MubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgYWN0aXZlR3JhcGhpYyA9IGV2dC5ncmFwaGljc1swXTtcclxuXHJcblx0XHRcdFx0XHQvLyBBRERJVElPTjogUHJlc2VydmUgYXJyb3dzIGR1cmluZyBhY3RpdmUgZWRpdGluZ1xyXG5cdFx0XHRcdFx0aWYgKGFjdGl2ZUdyYXBoaWMuZ2VvbWV0cnk/LnR5cGUgPT09ICdwb2x5bGluZScgJiYgdGhpcy5zdGF0ZS5hcnJvd0VuYWJsZWQpIHtcclxuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgaWYgdGhlIHN5bWJvbCBoYXMgbG9zdCBpdHMgYXJyb3dzIGR1cmluZyBlZGl0aW5nXHJcblx0XHRcdFx0XHRcdGlmIChhY3RpdmVHcmFwaGljLnN5bWJvbD8udHlwZSA9PT0gJ3NpbXBsZS1saW5lJykge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGxpbmVTeW1ib2wgPSBhY3RpdmVHcmFwaGljLnN5bWJvbCBhcyBfX2VzcmkuU2ltcGxlTGluZVN5bWJvbDtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBoYXNNYXJrZXIgPSAhIShsaW5lU3ltYm9sIGFzIGFueSkubWFya2VyO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAoIWhhc01hcmtlcikge1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnUmVhcHBseWluZyBhcnJvd3MgZHVyaW5nIGFjdGl2ZSBlZGl0aW5nJyk7XHJcblx0XHRcdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBhcnJvd1N5bWJvbCA9IHRoaXMuY3JlYXRlTGluZVN5bWJvbFdpdGhCdWlsdEluQXJyb3dzKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGxpbmVTeW1ib2wsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5hcnJvd1Bvc2l0aW9uLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuc3RhdGUuYXJyb3dTaXplXHJcblx0XHRcdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGFjdGl2ZUdyYXBoaWMuc3ltYm9sID0gYXJyb3dTeW1ib2w7XHJcblx0XHRcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0Vycm9yIHJlYXBwbHlpbmcgYXJyb3dzIGR1cmluZyBhY3RpdmUgZWRpdGluZzonLCBlcnJvcik7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKGV2dC5zdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xyXG5cdFx0XHRcdC8vIFdoZW4gZWRpdGluZyBpcyBjb21wbGV0ZSwgcmVzZXQgc3RhdGVzXHJcblx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7XHJcblx0XHRcdFx0XHRncmFwaGljczogbnVsbCxcclxuXHRcdFx0XHRcdGNsZWFyQnRuVGl0bGU6IHRoaXMubmxzKCdkcmF3Q2xlYXInKSxcclxuXHRcdFx0XHRcdHJvdGF0aW9uTW9kZTogZmFsc2VcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly8gQURESVRJT046IEVuc3VyZSBhcnJvd3MgYXJlIHByZXNlcnZlZCBhZnRlciBlZGl0aW5nIGNvbXBsZXRpb25cclxuXHRcdFx0XHRpZiAoZXZ0LmdyYXBoaWNzICYmIGV2dC5ncmFwaGljcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRjb25zdCBjb21wbGV0ZWRHcmFwaGljID0gZXZ0LmdyYXBoaWNzWzBdO1xyXG5cclxuXHRcdFx0XHRcdGlmIChjb21wbGV0ZWRHcmFwaGljLmdlb21ldHJ5Py50eXBlID09PSAncG9seWxpbmUnICYmIHRoaXMuc3RhdGUuYXJyb3dFbmFibGVkKSB7XHJcblx0XHRcdFx0XHRcdGlmIChjb21wbGV0ZWRHcmFwaGljLnN5bWJvbD8udHlwZSA9PT0gJ3NpbXBsZS1saW5lJykge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGxpbmVTeW1ib2wgPSBjb21wbGV0ZWRHcmFwaGljLnN5bWJvbCBhcyBfX2VzcmkuU2ltcGxlTGluZVN5bWJvbDtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBoYXNNYXJrZXIgPSAhIShsaW5lU3ltYm9sIGFzIGFueSkubWFya2VyO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAoIWhhc01hcmtlcikge1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnUmVhcHBseWluZyBhcnJvd3MgYWZ0ZXIgZWRpdGluZyBjb21wbGV0aW9uJyk7XHJcblx0XHRcdFx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBhcnJvd1N5bWJvbCA9IHRoaXMuY3JlYXRlTGluZVN5bWJvbFdpdGhCdWlsdEluQXJyb3dzKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGxpbmVTeW1ib2wsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5hcnJvd1Bvc2l0aW9uLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuc3RhdGUuYXJyb3dTaXplXHJcblx0XHRcdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlZEdyYXBoaWMuc3ltYm9sID0gYXJyb3dTeW1ib2w7XHJcblx0XHRcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0Vycm9yIHJlYXBwbHlpbmcgYXJyb3dzIGFmdGVyIGVkaXRpbmcgY29tcGxldGlvbjonLCBlcnJvcik7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciBpbiBzdm1HcmFVcGRhdGU6JywgZXJyb3IpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cclxuXHRvblN5bWJvbFBvcHBlciA9IChldnQpID0+IHtcclxuXHRcdC8vd29ya2Fyb3VuZHMgZm9yIHN5bWJvbCBzZWxlY3RvciBzdHlsaW5nIGlzc3Vlc1xyXG5cdFx0aWYgKGV2dCkge1xyXG5cdFx0XHRpZiAodGhpcy5zdGF0ZS5jdXJyZW50U3ltYm9sVHlwZSA9PT0gSmltdVN5bWJvbFR5cGUuUG9seWxpbmUpIHtcclxuXHRcdFx0XHRsZXQgZGRCdG5Db250ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZHJvcGRvd24tYnV0dG9uLWNvbnRlbnQnKVswXSBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0XHRkZEJ0bkNvbnQuc3R5bGUuZmlsdGVyID0gJ2ludmVydCgxKSc7XHJcblx0XHRcdH1cclxuXHRcdFx0bGV0IGRkQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnamltdS1idG4gamltdS1kcm9wZG93bi1idXR0b24gZHJvcGRvd24tYnV0dG9uJylbMF0gYXMgSFRNTEVsZW1lbnQ7XHJcblx0XHRcdGlmIChkZEJ0bikge1xyXG5cdFx0XHRcdGRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG5cdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGxldCBkZElubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZHJvcGRvd24tbWVudS0taW5uZXInKVswXSBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0XHRcdFx0aWYgKGRkSW5uZXIpIHtcclxuXHRcdFx0XHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGRkSW5uZXIuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0XHRcdGxldCBidG4gPSBkZElubmVyLmNoaWxkcmVuW2ldO1xyXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgaW1ncyA9IGJ0bi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRmb3IgKGxldCBpbSA9IDA7IGltIDwgaW1ncy5sZW5ndGg7IGltKyspIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aW1nc1tpbV0uc3R5bGUuZmlsdGVyID0gJ2ludmVydCgxKSc7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LCAyMCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0bGV0IHVuaXRTZWxlY3RvcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdHlsZS1zZXR0aW5nLS11bml0LXNlbGVjdG9yJyk7XHJcblx0XHRcdEFycmF5LmZyb20odW5pdFNlbGVjdG9ycykuZm9yRWFjaCgoZWxlOiBIVE1MRWxlbWVudCkgPT4ge1xyXG5cdFx0XHRcdC8vIEZpeDogQ2hlY2sgaWYgZmlyc3RDaGlsZCBleGlzdHMgYmVmb3JlIGFjY2Vzc2luZyBpdHMgc3R5bGVcclxuXHRcdFx0XHRpZiAoZWxlLmZpcnN0Q2hpbGQgJiYgZWxlLmZpcnN0Q2hpbGQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG5cdFx0XHRcdFx0ZWxlLmZpcnN0Q2hpbGQuc3R5bGUucGFkZGluZyA9ICcwJztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRsZXQgcG9wcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY29udGVudC1jb250YWluZXInKVswXS5wYXJlbnROb2RlLnBhcmVudEVsZW1lbnQ7XHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHBvcHBlci5zdHlsZS56SW5kZXggPSAnMTAwNCc7XHJcblx0XHRcdH0sIDUpO1xyXG5cdFx0XHRsZXQgY29sb3JQaWNrZXJCbG9ja3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjb2xvci1waWNrZXItYmxvY2snKTtcclxuXHRcdFx0QXJyYXkuZnJvbShjb2xvclBpY2tlckJsb2NrcykuZm9yRWFjaCgoZWxlOiBIVE1MRWxlbWVudCkgPT4ge1xyXG5cdFx0XHRcdGVsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4geyB0aGlzLm9uQ29sb3JQaWNrZXJUb2dnbGUoZSkgfSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcbiAgb25Qb2ludFN5bUNoYW5nZWQgPSAoZXZ0KSA9PiB7XHJcblx0dGhpcy5zZXRTdGF0ZSh7XHJcblx0ICBjdXJyZW50U3ltYm9sOiBldnQsXHJcblx0ICBjdXJyZW50U3ltYm9sVHlwZTogSmltdVN5bWJvbFR5cGUuUG9pbnRcclxuXHR9LCAoKT0+e1xyXG5cdCAgdGhpcy5za2V0Y2hWaWV3TW9kZWwucG9pbnRTeW1ib2wgPSBldnQ7XHJcblx0ICBpZih0aGlzLnN0YXRlLmdyYXBoaWNzICYmIHRoaXMuc3RhdGUuZ3JhcGhpY3MubGVuZ3RoID4gMCl7XHJcblx0XHR0aGlzLnN0YXRlLmdyYXBoaWNzLm1hcCgoZ3JhOkdyYXBoaWMpPT57XHJcblx0XHQgIGlmKGdyYS5nZW9tZXRyeS50eXBlID09PSAncG9pbnQnKXtcclxuXHRcdFx0Z3JhLnN5bWJvbCA9IGV2dDtcclxuXHRcdCAgfVxyXG5cdFx0fSk7XHJcblx0ICB9XHJcblx0fSk7XHJcbiAgfVxyXG5cclxuICBvblBvbHlnb25TeW1ib2xDaGFuZ2VkID0gKGV2dCkgPT4ge1xyXG5cdHRoaXMuc2V0U3RhdGUoe1xyXG5cdCAgY3VycmVudFN5bWJvbDogZXZ0LFxyXG5cdCAgY3VycmVudFN5bWJvbFR5cGU6IEppbXVTeW1ib2xUeXBlLlBvbHlnb25cclxuXHR9LCAoKT0+e1xyXG5cdCAgdGhpcy5za2V0Y2hWaWV3TW9kZWwucG9seWdvblN5bWJvbCA9IGV2dDtcclxuXHQgIGlmKHRoaXMuc3RhdGUuZ3JhcGhpY3MgJiYgdGhpcy5zdGF0ZS5ncmFwaGljcy5sZW5ndGggPiAwKXtcclxuXHRcdHRoaXMuc3RhdGUuZ3JhcGhpY3MubWFwKChncmE6R3JhcGhpYyk9PntcclxuXHRcdCAgaWYoZ3JhLmdlb21ldHJ5LnR5cGUgPT09ICdwb2x5Z29uJyB8fCBncmEuZ2VvbWV0cnkudHlwZSA9PT0gJ2V4dGVudCcpe1xyXG5cdFx0XHRncmEuc3ltYm9sID0gZXZ0O1xyXG5cdFx0ICB9XHJcblx0XHR9KTtcclxuXHQgIH1cclxuXHR9KTtcclxuICB9XHJcblxyXG5cdG9uUG9seWxpbmVTeW1ib2xDaGFuZ2VkID0gKGV2dCkgPT4ge1xyXG5cdFx0Ly9jb25zb2xlLmxvZygnUG9seWxpbmUgc3ltYm9sIGNoYW5nZWQgLSBwcmVzZXJ2aW5nIGFycm93IHNldHRpbmdzOicsIGV2dCk7XHJcblxyXG5cdFx0aWYgKCFldnQgfHwgZXZ0LnR5cGUgIT09ICdzaW1wbGUtbGluZScpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKCdJbnZhbGlkIHN5bWJvbCBwYXNzZWQgdG8gb25Qb2x5bGluZVN5bWJvbENoYW5nZWQnKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENsb25lIGFuZCBjbGVhbiB0aGUgc3ltYm9sXHJcblx0XHRjb25zdCBjbGVhblN5bWJvbCA9IGV2dC5jbG9uZSgpO1xyXG5cdFx0ZGVsZXRlIChjbGVhblN5bWJvbCBhcyBhbnkpLm1hcmtlcjsgLy8gUmVtb3ZlIGFueSBleGlzdGluZyBtYXJrZXJcclxuXHJcblx0XHRsZXQgZmluYWxTeW1ib2wgPSBjbGVhblN5bWJvbDtcclxuXHJcblx0XHQvLyBBcHBseSBhcnJvd3MgaWYgZW5hYmxlZCB1c2luZyBjdXJyZW50IHN0YXRlIHZhbHVlc1xyXG5cdFx0aWYgKHRoaXMuc3RhdGUuYXJyb3dFbmFibGVkKSB7XHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdBcnJvd3MgZW5hYmxlZCwgY3JlYXRpbmcgc3ltYm9sIHdpdGggY3VycmVudCBzZXR0aW5nczonLCB7XHJcblx0XHRcdC8vICAgcG9zaXRpb246IHRoaXMuc3RhdGUuYXJyb3dQb3NpdGlvbixcclxuXHRcdFx0Ly8gICBzaXplOiB0aGlzLnN0YXRlLmFycm93U2l6ZVxyXG5cdFx0XHQvLyB9KTtcclxuXHRcdFx0ZmluYWxTeW1ib2wgPSB0aGlzLmNyZWF0ZUxpbmVTeW1ib2xXaXRoQnVpbHRJbkFycm93cyhcclxuXHRcdFx0XHRjbGVhblN5bWJvbCxcclxuXHRcdFx0XHR0aGlzLnN0YXRlLmFycm93UG9zaXRpb24sXHJcblx0XHRcdFx0dGhpcy5zdGF0ZS5hcnJvd1NpemVcclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnNldFN0YXRlKHtcclxuXHRcdFx0Y3VycmVudFN5bWJvbDogZmluYWxTeW1ib2wsXHJcblx0XHRcdGN1cnJlbnRTeW1ib2xUeXBlOiBKaW11U3ltYm9sVHlwZS5Qb2x5bGluZVxyXG5cdFx0fSwgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnNrZXRjaFZpZXdNb2RlbC5wb2x5bGluZVN5bWJvbCA9IGZpbmFsU3ltYm9sO1xyXG5cdFx0XHRpZiAodGhpcy5zdGF0ZS5ncmFwaGljcyAmJiB0aGlzLnN0YXRlLmdyYXBoaWNzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHR0aGlzLnN0YXRlLmdyYXBoaWNzLm1hcCgoZ3JhOiBHcmFwaGljKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoZ3JhLmdlb21ldHJ5LnR5cGUgPT09ICdwb2x5bGluZScpIHtcclxuXHRcdFx0XHRcdFx0Z3JhLnN5bWJvbCA9IGZpbmFsU3ltYm9sO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGRyYXdDbGVhckJ0bkNsaWNrID0gKCkgPT4ge1xyXG5cdFx0aWYgKCF0aGlzLnNrZXRjaFZpZXdNb2RlbCB8fCAhdGhpcy5za2V0Y2hWaWV3TW9kZWwudmlldykge1xyXG5cdFx0XHRjb25zb2xlLndhcm4oJ1NrZXRjaFZpZXdNb2RlbCBub3QgYXZhaWxhYmxlIGZvciBjbGVhciBvcGVyYXRpb24nKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdGlmICh0aGlzLnN0YXRlLmdyYXBoaWNzICYmIHRoaXMuc3RhdGUuZ3JhcGhpY3MubGVuZ3RoKSB7XHJcblx0XHRcdFx0Ly8gUmVtb3ZlIGFueSBhc3NvY2lhdGVkIG1lYXN1cmVtZW50cywgYnVmZmVycywgYW5kIGF0dGFjaGVkIGJ1ZmZlcnMgYmVmb3JlIGRlbGV0aW5nIHRoZSBkcmF3aW5nXHJcblx0XHRcdFx0dGhpcy5zdGF0ZS5ncmFwaGljcy5mb3JFYWNoKChncmE6IEdyYXBoaWMpID0+IHtcclxuXHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGV4dGVuZGVkR3JhcGhpYyA9IGdyYSBhcyBhbnk7IC8vIFR5cGUgYXNzZXJ0aW9uIGZvciBleHRlbmRlZCBwcm9wZXJ0aWVzXHJcblxyXG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgbWVhc3VyZW1lbnQgZ3JhcGhpY3NcclxuXHRcdFx0XHRcdFx0aWYgKGV4dGVuZGVkR3JhcGhpYy5tZWFzdXJlPy5ncmFwaGljKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5kcmF3TGF5ZXIucmVtb3ZlKGV4dGVuZGVkR3JhcGhpYy5tZWFzdXJlLmdyYXBoaWMpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmIChncmEuYXR0cmlidXRlcz8ucmVsYXRlZFNlZ21lbnRMYWJlbHMpIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmRyYXdMYXllci5yZW1vdmVNYW55KGdyYS5hdHRyaWJ1dGVzLnJlbGF0ZWRTZWdtZW50TGFiZWxzKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Ly8g8J+UpyBFTkhBTkNFRDogUmVtb3ZlIGF0dGFjaGVkIGJ1ZmZlciBncmFwaGljc1xyXG5cdFx0XHRcdFx0XHRpZiAoZXh0ZW5kZWRHcmFwaGljLmJ1ZmZlckdyYXBoaWMpIHtcclxuXHRcdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKGDwn5eR77iPIFdpZGdldDogUmVtb3ZpbmcgYXR0YWNoZWQgYnVmZmVyIGZvciBzZWxlY3RlZCBncmFwaGljYCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5kcmF3TGF5ZXIucmVtb3ZlKGV4dGVuZGVkR3JhcGhpYy5idWZmZXJHcmFwaGljKTtcclxuXHRcdFx0XHRcdFx0XHRleHRlbmRlZEdyYXBoaWMuYnVmZmVyR3JhcGhpYyA9IG51bGw7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdC8vIENsZWFyIGJ1ZmZlciBzZXR0aW5nc1xyXG5cdFx0XHRcdFx0XHRpZiAoZXh0ZW5kZWRHcmFwaGljLmJ1ZmZlclNldHRpbmdzKSB7XHJcblx0XHRcdFx0XHRcdFx0ZXh0ZW5kZWRHcmFwaGljLmJ1ZmZlclNldHRpbmdzID0gbnVsbDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Ly8g8J+UpyBORVc6IFJlbW92ZSBnZW9tZXRyeSB3YXRjaGVycyBmb3IgdGhpcyBncmFwaGljXHJcblx0XHRcdFx0XHRcdGNvbnN0IHBhcmVudElkID0gZ3JhLmF0dHJpYnV0ZXM/LnVuaXF1ZUlkO1xyXG5cdFx0XHRcdFx0XHRpZiAocGFyZW50SWQgJiYgdGhpcy5fcG9zaXRpb25XYXRjaGVycykge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHdhdGNoZXJLZXkgPSBwYXJlbnRJZCArICdfd2lkZ2V0X2J1ZmZlcic7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuX3Bvc2l0aW9uV2F0Y2hlcnNbd2F0Y2hlcktleV0pIHtcclxuXHRcdFx0XHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuX3Bvc2l0aW9uV2F0Y2hlcnNbd2F0Y2hlcktleV0ucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGRlbGV0ZSB0aGlzLl9wb3NpdGlvbldhdGNoZXJzW3dhdGNoZXJLZXldO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKCdFcnJvciByZW1vdmluZyBnZW9tZXRyeSB3YXRjaGVyIGR1cmluZyBjbGVhcjonLCBlcnJvcik7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0Vycm9yIHByb2Nlc3NpbmcgZ3JhcGhpYyBkdXJpbmcgY2xlYXI6JywgZXJyb3IpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQvLyBOb3cgZGVsZXRlIHRoZSBkcmF3aW5nIGl0c2VsZlxyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHR0aGlzLnNrZXRjaFZpZXdNb2RlbC5kZWxldGUoKTtcclxuXHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgc2VsZWN0ZWQgZ3JhcGhpY3M6JywgZXJyb3IpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIElmIGNsZWFyaW5nIGFsbCBncmFwaGljcywgYWxzbyByZW1vdmUgYWxsIGJ1ZmZlcnMgYW5kIGNsZWFuIHVwIHdhdGNoZXJzXHJcblx0XHRcdGNvbnN0IGFsbEdyYXBoaWNzID0gdGhpcy5kcmF3TGF5ZXIuZ3JhcGhpY3MudG9BcnJheSgpO1xyXG5cclxuXHRcdFx0Ly8g8J+UpyBFTkhBTkNFRDogUmVtb3ZlIEFMTCBidWZmZXIgdHlwZXMgd2hlbiBjbGVhcmluZyBhbGxcclxuXHRcdFx0Y29uc3QgYWxsQnVmZmVycyA9IGFsbEdyYXBoaWNzLmZpbHRlcihnID0+XHJcblx0XHRcdFx0Zy5hdHRyaWJ1dGVzPy5pc0J1ZmZlciB8fFxyXG5cdFx0XHRcdGcuYXR0cmlidXRlcz8uaXNQcmV2aWV3QnVmZmVyIHx8XHJcblx0XHRcdFx0Zy5hdHRyaWJ1dGVzPy5pc0J1ZmZlckRyYXdpbmdcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdGlmIChhbGxCdWZmZXJzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKGDwn5eR77iPIFdpZGdldDogUmVtb3ZpbmcgJHthbGxCdWZmZXJzLmxlbmd0aH0gYnVmZmVyIGdyYXBoaWNzIGR1cmluZyBjbGVhciBhbGxgKTtcclxuXHRcdFx0XHRhbGxCdWZmZXJzLmZvckVhY2goYnVmZmVyID0+IHtcclxuXHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuZHJhd0xheWVyLnJlbW92ZShidWZmZXIpO1xyXG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKCdFcnJvciByZW1vdmluZyBidWZmZXIgZ3JhcGhpYzonLCBlcnJvcik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIPCflKcgTkVXOiBDbGVhbiB1cCBBTEwgZ2VvbWV0cnkgd2F0Y2hlcnNcclxuXHRcdFx0aWYgKHRoaXMuX3Bvc2l0aW9uV2F0Y2hlcnMpIHtcclxuXHRcdFx0XHRPYmplY3QudmFsdWVzKHRoaXMuX3Bvc2l0aW9uV2F0Y2hlcnMpLmZvckVhY2god2F0Y2hlciA9PiB7XHJcblx0XHRcdFx0XHRpZiAod2F0Y2hlciAmJiB0eXBlb2Ygd2F0Y2hlci5yZW1vdmUgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHR3YXRjaGVyLnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUud2FybignRXJyb3IgcmVtb3Zpbmcgd2F0Y2hlciBkdXJpbmcgY2xlYXIgYWxsOicsIGVycm9yKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdHRoaXMuX3Bvc2l0aW9uV2F0Y2hlcnMgPSB7fTtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKGDinIUgV2lkZ2V0OiBDbGVhcmVkIGFsbCBnZW9tZXRyeSB3YXRjaGVyc2ApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBDbGVhciB0aGUgZHJhd2luZyBsYXllclxyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdHRoaXMuZHJhd0xheWVyLnJlbW92ZUFsbCgpO1xyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdGNvbnNvbGUud2FybignRXJyb3IgY2xlYXJpbmcgZHJhdyBsYXllcjonLCBlcnJvcik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEJVR0ZJWDogUmVtb3ZlZCB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jYW5jZWwoKSB0byBwcmV2ZW50IGJ1dHRvbiBzdGF0ZSBtaXNtYXRjaFxyXG5cdFx0XHQvLyBUaGlzIHdhcyBjYXVzaW5nIHRoZSBkcmF3IHRvb2xzIHRvIGJlY29tZSBpbmFjdGl2ZSB3aGlsZSBidXR0b25zIHJlbWFpbmVkIHZpc3VhbGx5IHNlbGVjdGVkXHJcblxyXG5cdFx0XHQvLyBDbG9zZSB0aGUgY29uZmlybWF0aW9uIGRpYWxvZ1xyXG5cdFx0XHR0aGlzLnNldFN0YXRlKHsgY29uZmlybURlbGV0ZTogZmFsc2UgfSk7XHJcblxyXG5cdFx0XHQvL2NvbnNvbGUubG9nKGDinIUgV2lkZ2V0OiBDbGVhciBhbGwgY29tcGxldGVkIHdpdGggYnVmZmVyIGNsZWFudXBgKTtcclxuXHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciBpbiBkcmF3Q2xlYXJCdG5DbGljazonLCBlcnJvcik7XHJcblx0XHRcdC8vIEVuc3VyZSBjb25maXJtYXRpb24gZGlhbG9nIGlzIGNsb3NlZCBldmVuIGlmIHRoZXJlJ3MgYW4gZXJyb3JcclxuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7IGNvbmZpcm1EZWxldGU6IGZhbHNlIH0pO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdGRyYXdVbmRvQnRuQ2xpY2sgPSAoKSA9PiB7XHJcblx0XHRpZiAoIXRoaXMuc2tldGNoVmlld01vZGVsIHx8ICF0aGlzLnNrZXRjaFZpZXdNb2RlbC52aWV3KSB7XHJcblx0XHRcdGNvbnNvbGUud2FybignU2tldGNoVmlld01vZGVsIG5vdCBhdmFpbGFibGUgZm9yIHVuZG8nKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdGlmICh0aGlzLnNrZXRjaFZpZXdNb2RlbC5jYW5VbmRvKCkpIHtcclxuXHRcdFx0XHR0aGlzLnNrZXRjaFZpZXdNb2RlbC51bmRvKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XHJcblx0XHRcdFx0Y2FuVW5kbzogdGhpcy5za2V0Y2hWaWV3TW9kZWwuY2FuVW5kbygpLFxyXG5cdFx0XHRcdGNhblJlZG86IHRoaXMuc2tldGNoVmlld01vZGVsLmNhblJlZG8oKVxyXG5cdFx0XHR9KTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGRyYXdVbmRvQnRuQ2xpY2s6JywgZXJyb3IpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZHJhd1JlZG9CdG5DbGljayA9ICgpID0+IHtcclxuXHRcdGlmICghdGhpcy5za2V0Y2hWaWV3TW9kZWwgfHwgIXRoaXMuc2tldGNoVmlld01vZGVsLnZpZXcpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKCdTa2V0Y2hWaWV3TW9kZWwgbm90IGF2YWlsYWJsZSBmb3IgcmVkbycpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0aWYgKHRoaXMuc2tldGNoVmlld01vZGVsLmNhblJlZG8oKSkge1xyXG5cdFx0XHRcdHRoaXMuc2tldGNoVmlld01vZGVsLnJlZG8oKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcclxuXHRcdFx0XHRjYW5VbmRvOiB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jYW5VbmRvKCksXHJcblx0XHRcdFx0Y2FuUmVkbzogdGhpcy5za2V0Y2hWaWV3TW9kZWwuY2FuUmVkbygpXHJcblx0XHRcdH0pO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3IgaW4gZHJhd1JlZG9CdG5DbGljazonLCBlcnJvcik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuICBUZXh0T25DaGFuZ2UgPSAoZXZ0KSA9PiB7XHJcblx0bGV0IHZhbHVlID0gZXZ0LmN1cnJlbnRUYXJnZXQudmFsdWU7XHJcblx0bGV0IHRzOiBUZXh0U3ltYm9sID0gdGhpcy5zdGF0ZS5jdXJyZW50VGV4dFN5bWJvbDtcclxuXHR0cy50ZXh0ID0gdmFsdWU7XHJcblx0dGhpcy5zZXRTdGF0ZSh7XHJcblx0ICB0ZXh0U3ltUHJldmlld1RleHQ6IHZhbHVlLFxyXG5cdCAgY3VycmVudFRleHRTeW1ib2w6IHRzLFxyXG5cdCAgdGV4dEhhc0NoYW5nZWQ6IHRydWVcclxuXHR9LCAoKT0+e3RoaXMudXBkYXRlU2VsZWN0ZWRUZXh0R3JhcygpfSk7XHJcbiAgfVxyXG5cclxuICBmb250U2l6ZU9uQ2hhbmdlID0gKHNpemUpID0+IHtcclxuXHRsZXQgdHM6IFRleHRTeW1ib2wgPSB0aGlzLnN0YXRlLmN1cnJlbnRUZXh0U3ltYm9sO1xyXG5cdHRzLmZvbnQuc2l6ZSA9IHNpemU7XHJcblx0dGhpcy5zZXRTdGF0ZSh7XHJcblx0ICBmb250U2l6ZSA6IHNpemUsXHJcblx0ICBjdXJyZW50VGV4dFN5bWJvbDogdHMsXHJcblx0ICB0ZXh0UHJldmlld0hlaWdodDogdGhpcy5nZXRSb3RhdGVkVGV4dEhlaWdodCgpXHJcblx0fSwgKCk9Pnt0aGlzLnVwZGF0ZVNlbGVjdGVkVGV4dEdyYXMoKX0pO1xyXG4gIH1cclxuXHJcbiAgZm9udEhhbG9TaXplQ2hhbmdlID0gKGV2dCkgPT4ge1xyXG5cdGxldCB0czogVGV4dFN5bWJvbCA9IHRoaXMuc3RhdGUuY3VycmVudFRleHRTeW1ib2w7XHJcblx0dHMuaGFsb1NpemUgPSBwYXJzZUludChldnQpO1xyXG5cdHRoaXMuc2V0U3RhdGUoe1xyXG5cdCAgZm9udEhhbG9TaXplIDogcGFyc2VJbnQoZXZ0KSxcclxuXHQgIGN1cnJlbnRUZXh0U3ltYm9sOiB0cyxcclxuXHQgIGZvbnRIYWxvOiB0aGlzLnN0YXRlLmZvbnRIYWxvRW5hYmxlZCA/ICBldnQgKyBcInB4IFwiICsgdGhpcy5zdGF0ZS5mb250SGFsb0NvbG9yIDogJ3Vuc2V0J1xyXG5cdH0sICgpPT57dGhpcy51cGRhdGVTZWxlY3RlZFRleHRHcmFzKCl9KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVRleHRDb2xvciA9IChldnQpID0+IHtcclxuXHRsZXQgdHM6IFRleHRTeW1ib2wgPSB0aGlzLnN0YXRlLmN1cnJlbnRUZXh0U3ltYm9sO1xyXG5cdHRzLmNvbG9yID0gZXZ0O1xyXG5cdHRoaXMuc2V0U3RhdGUoe1xyXG5cdCAgZm9udENvbG9yOiB0aGlzLmNvbnZlcnRTeW1ib2xDb2xvclRvQ29sb3JQaWNrZXJWYWx1ZSh0cy5jb2xvciksXHJcblx0ICBmb250T3BhY2l0eTogdHMuY29sb3IuYSxcclxuXHQgIGN1cnJlbnRUZXh0U3ltYm9sOiB0c1xyXG5cdH0sICgpPT57dGhpcy51cGRhdGVTZWxlY3RlZFRleHRHcmFzKCl9KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUZvbnRIYWxvQ29sb3IgPSAoZXZ0KSA9PiB7XHJcblx0bGV0IHRzOiBUZXh0U3ltYm9sID0gdGhpcy5zdGF0ZS5jdXJyZW50VGV4dFN5bWJvbDtcclxuXHR0cy5oYWxvQ29sb3IgPSBldnQ7XHJcblx0dGhpcy5zZXRTdGF0ZSh7XHJcblx0ICBmb250SGFsb0NvbG9yOiBldnQsXHJcblx0ICBjdXJyZW50VGV4dFN5bWJvbDogdHMsXHJcblx0ICBmb250SGFsbzogdGhpcy5zdGF0ZS5mb250SGFsb0VuYWJsZWQgPyAgdGhpcy5zdGF0ZS5mb250SGFsb1NpemUgKyBcInB4IFwiICsgZXZ0IDogJ3Vuc2V0J1xyXG5cdH0sICgpPT57dGhpcy51cGRhdGVTZWxlY3RlZFRleHRHcmFzKCl9KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUJhY2tncm91bmRDb2xvciA9IChldnQpID0+IHtcclxuXHQgIGNvbnN0IGNvbG9yID0gbmV3IENvbG9yKGV2dClcclxuXHQgIGxldCB0czogVGV4dFN5bWJvbCA9IHRoaXMuc3RhdGUuY3VycmVudFRleHRTeW1ib2w7XHJcblx0ICB0cy5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcclxuXHR0aGlzLnNldFN0YXRlKHtcclxuXHQgIGZvbnRCYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLFxyXG5cdCAgY3VycmVudFRleHRTeW1ib2w6IHRzXHJcblx0fSwgKCk9Pnt0aGlzLnVwZGF0ZVNlbGVjdGVkVGV4dEdyYXMoKX0pO1xyXG4gIH1cclxuXHJcbiAgZm9udEhhbG9DaGtDaGFuZ2UgPSAoZXZ0KSA9PiB7XHJcblx0Y29uc3QgdGFyZ2V0ID0gZXZ0LmN1cnJlbnRUYXJnZXQ7XHJcblx0aWYgKCF0YXJnZXQpIHJldHVybjtcclxuXHRsZXQgdHM6IFRleHRTeW1ib2wgPSB0aGlzLnN0YXRlLmN1cnJlbnRUZXh0U3ltYm9sO1xyXG5cdGlmKCF0YXJnZXQuY2hlY2tlZCl7XHJcblx0ICB0cy5oYWxvQ29sb3IgPSBudWxsO1xyXG5cdCAgdHMuaGFsb1NpemUgPSBudWxsO1xyXG5cdH1lbHNle1xyXG5cdCAgdHMuaGFsb0NvbG9yID0gdGhpcy5zdGF0ZS5mb250SGFsb0NvbG9yIGFzIGFueTtcclxuXHQgIHRzLmhhbG9TaXplID0gdGhpcy5zdGF0ZS5mb250SGFsb1NpemVcclxuXHR9XHJcblx0dGhpcy5zZXRTdGF0ZSh7XHJcblx0ICBjdXJyZW50VGV4dFN5bWJvbDogdHMsXHJcblx0ICBmb250SGFsb0VuYWJsZWQ6IHRhcmdldC5jaGVja2VkLFxyXG5cdCAgZm9udEhhbG86IHRhcmdldC5jaGVja2VkID8gdGhpcy5zdGF0ZS5mb250SGFsb1NpemUgKyBcInB4IFwiICsgdGhpcy5zdGF0ZS5mb250SGFsb0NvbG9yIDogJ3Vuc2V0J1xyXG5cdH0sICgpPT57dGhpcy51cGRhdGVTZWxlY3RlZFRleHRHcmFzKCl9KTtcclxuICB9XHJcblxyXG4gIG9uSFRleHRBbGlnbkNoYW5nZSA9IChldnQpID0+IHtcclxuXHRsZXQgdHM6IFRleHRTeW1ib2wgPSB0aGlzLnN0YXRlLmN1cnJlbnRUZXh0U3ltYm9sO1xyXG5cdHRzLmhvcml6b250YWxBbGlnbm1lbnQgPSBldnQ7XHJcblxyXG5cdHRoaXMuc2V0U3RhdGUoe1xyXG5cdCAgaFRleHRBbGlnbjogZXZ0LFxyXG5cdCAgY3VycmVudFRleHRTeW1ib2w6IHRzXHJcblx0fSwgKCk9Pnt0aGlzLnVwZGF0ZVNlbGVjdGVkVGV4dEdyYXMoKX0pO1xyXG4gIH1cclxuXHJcbiAgZm9udFJvdGF0aW9uQ2hhbmdlID0gKGV2dCkgPT4ge1xyXG5cdGxldCB0czogVGV4dFN5bWJvbCA9IHRoaXMuc3RhdGUuY3VycmVudFRleHRTeW1ib2w7XHJcblx0dHMuYW5nbGUgPSBldnQ7XHJcblxyXG5cdHRoaXMuc2V0U3RhdGUoe1xyXG5cdCAgZm9udFJvdGF0aW9uOiBldnQsXHJcblx0ICBjdXJyZW50VGV4dFN5bWJvbDogdHMsXHJcblx0ICB0ZXh0UHJldmlld0hlaWdodDogdGhpcy5nZXRSb3RhdGVkVGV4dEhlaWdodCgpXHJcblx0fSwgKCk9Pnt0aGlzLnVwZGF0ZVNlbGVjdGVkVGV4dEdyYXMoKX0pO1xyXG4gIH1cclxuXHJcbiAgb25WZXJ0Rm9udEFsaWduQ2hhbmdlID0gKGV2dCwgdmFsaWduKSA9PiB7XHJcblx0bGV0IHRzOiBUZXh0U3ltYm9sID0gdGhpcy5zdGF0ZS5jdXJyZW50VGV4dFN5bWJvbDtcclxuXHR0cy52ZXJ0aWNhbEFsaWdubWVudCA9IHZhbGlnbjtcclxuXHR0aGlzLnNldFN0YXRlKHtcclxuXHQgIHZUZXh0QWxpZ246IHZhbGlnbixcclxuXHQgIHZBbGlnbkJhc2VCdG5BY3RpdmU6IHZhbGlnbj09PSdiYXNlbGluZScsXHJcblx0ICB2QWxpZ25Ub3BCdG5BY3RpdmU6IHZhbGlnbj09PSd0b3AnLFxyXG5cdCAgdkFsaWduTWlkQnRuQWN0aXZlOiB2YWxpZ249PT0nbWlkZGxlJyxcclxuXHQgIHZBbGlnbkJvdEJ0bkFjdGl2ZTogdmFsaWduPT09J2JvdHRvbScsXHJcblx0ICBjdXJyZW50VGV4dFN5bWJvbDogdHNcclxuXHR9LCAoKT0+e3RoaXMudXBkYXRlU2VsZWN0ZWRUZXh0R3JhcygpfSk7XHJcblx0dGhpcy51cGRhdGVBY3RpdmVCdG5JY29ucygpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQWN0aXZlQnRuSWNvbnMgPSAoKSA9PiB7XHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0ICBsZXQgYWN0aXZlQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idG4tZ3JvdXA+Lmljb24tYnRuJyk7XHJcblx0ICBBcnJheS5mcm9tKGFjdGl2ZUJ0bnMpLmZvckVhY2goKGVsZTpIVE1MRWxlbWVudCkgPT57XHJcblx0XHR0aGlzLnNldEltZ0VsZW1GaWx0ZXIoZWxlLCBlbGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSk7XHJcblx0ICB9KTtcclxuXHR9LCAyMCk7XHJcbiAgfVxyXG5cclxuICBzZXRJbWdFbGVtRmlsdGVyID0gKGVsZTpIVE1MRWxlbWVudCwgaXNBY3RpdmU6Ym9vbGVhbikgPT4ge1xyXG5cdGxldCBpbWcgPSBlbGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2ltZycpWzBdIGFzIEhUTUxFbGVtZW50O1xyXG5cdGlmKCFpbWcpe1xyXG5cdCAgcmV0dXJuO1xyXG5cdH1cclxuXHRpZihpbWcuZ2V0QXR0cmlidXRlKCdzdHlsZScpICYmIGltZy5nZXRBdHRyaWJ1dGUoJ3N0eWxlJykuaW5kZXhPZihcImZpbHRlcjpcIikgPiAtMSAmJiAhaXNBY3RpdmUpe1xyXG5cdCAgaW1nLnN0eWxlLmZpbHRlciA9ICcnO1xyXG5cdH1cclxuXHRpZigoIWltZy5nZXRBdHRyaWJ1dGUoJ3N0eWxlJykgfHwgaW1nLnN0eWxlLmZpbHRlciA9PSBcIlwiKSAgJiYgaXNBY3RpdmUpe1xyXG5cdCAgaW1nLnN0eWxlLmZpbHRlciA9ICdpbnZlcnQoMSknO1xyXG5cdH1cclxuICB9XHJcblxyXG4gIG9uSG9yaXpGb250QWxpZ25DaGFuZ2UgPSAoZXZ0LCBoYWxpZ24pID0+IHtcclxuXHRsZXQgdHM6IFRleHRTeW1ib2wgPSB0aGlzLnN0YXRlLmN1cnJlbnRUZXh0U3ltYm9sO1xyXG5cdHRzLmhvcml6b250YWxBbGlnbm1lbnQgPSBoYWxpZ247XHJcblx0dGhpcy5zZXRTdGF0ZSh7XHJcblx0ICBoVGV4dEFsaWduOiBoYWxpZ24sXHJcblx0ICBoQWxpZ25MZWZ0QnRuQWN0aXZlOiBoYWxpZ249PT0nbGVmdCcsXHJcblx0ICBoQWxpZ25DZW50ZXJCdG5BY3RpdmU6IGhhbGlnbj09PSdjZW50ZXInLFxyXG5cdCAgaEFsaWduUmlnaHRCdG5BY3RpdmU6IGhhbGlnbj09PSdyaWdodCcsXHJcblx0ICBjdXJyZW50VGV4dFN5bWJvbDogdHNcclxuXHR9LCAoKT0+e3RoaXMudXBkYXRlU2VsZWN0ZWRUZXh0R3JhcygpfSk7XHJcbiAgfVxyXG5cclxuXHR1cGRhdGVTZWxlY3RlZFRleHRHcmFzID0gKCkgPT4ge1xyXG5cdFx0aWYgKHRoaXMuc3RhdGUuZ3JhcGhpY3MgJiYgdGhpcy5zdGF0ZS5ncmFwaGljcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdHRoaXMuc3RhdGUuZ3JhcGhpY3MuZm9yRWFjaCgoZ3JhOiBHcmFwaGljKSA9PiB7XHJcblx0XHRcdFx0aWYgKGdyYS5nZW9tZXRyeS50eXBlID09PSAncG9pbnQnICYmIGdyYS5zeW1ib2wudHlwZSA9PT0gJ3RleHQnKSB7XHJcblx0XHRcdFx0XHQvLyBTa2lwIHVwZGF0aW5nIGlmIHRoaXMgaXMgYSBtZWFzdXJlbWVudCBsYWJlbFxyXG5cdFx0XHRcdFx0aWYgKGdyYS5hdHRyaWJ1dGVzPy5pc01lYXN1cmVtZW50TGFiZWwpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuOyAvLyBEb24ndCBtb2RpZnkgbWVhc3VyZW1lbnQgbGFiZWxzJyB0ZXh0IHN5bWJvbFxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIEFwcGx5IHRoZSBjdXJyZW50IHRleHQgc3ltYm9sIGZvciBub24tbWVhc3VyZW1lbnQgbGFiZWxzXHJcblx0XHRcdFx0XHRncmEuc3ltYm9sID0gdGhpcy5zdGF0ZS5jdXJyZW50VGV4dFN5bWJvbDtcclxuXHJcblx0XHRcdFx0XHQvLyBDbG9uZSB0aGUgZ3JhcGhpYyB0byBlbnN1cmUgd2UgZG9uJ3QgbW9kaWZ5IHRoZSBvcmlnaW5hbCBkaXJlY3RseVxyXG5cdFx0XHRcdFx0Y29uc3QgdUdyYSA9IGdyYS5jbG9uZSgpO1xyXG5cclxuXHRcdFx0XHRcdC8vIFJlbW92ZSBhbmQgcmUtYWRkIHRoZSB1cGRhdGVkIGdyYXBoaWMgdG8gcmVmbGVjdCBjaGFuZ2VzXHJcblx0XHRcdFx0XHR0aGlzLmRyYXdMYXllci5yZW1vdmUoZ3JhKTtcclxuXHRcdFx0XHRcdHRoaXMuZHJhd0xheWVyLmFkZCh1R3JhKTtcclxuXHJcblx0XHRcdFx0XHQvLyBVcGRhdGUgdGhlIHNrZXRjaCB2aWV3IG1vZGVsIHdpdGggdGhlIG5ldyBncmFwaGljXHJcblx0XHRcdFx0XHR0aGlzLnNrZXRjaFZpZXdNb2RlbC51cGRhdGUodUdyYSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuICBnZXRSb3RhdGVkVGV4dEhlaWdodCA9ICgpID0+IHtcclxuXHRsZXQgc3Bhbiwgc3BhblBhcmVudCwgXHJcblx0ICByYWQgPSB0aGlzLnN0YXRlLmZvbnRSb3RhdGlvbiAqIChNYXRoLlBJIC8gMTgwKTtcclxuXHRpZihkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0ZXh0LXN5bWJvbC1zcGFuJylbMF0pe1xyXG5cdCAgc3BhbiA9IChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0ZXh0LXN5bWJvbC1zcGFuJylbMF0gYXMgSFRNTEVsZW1lbnQpO1xyXG5cdH07XHJcblx0aWYoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndGV4dC1zeW1ib2wtaXRlbScpWzBdKXtcclxuXHQgIHNwYW5QYXJlbnQgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndGV4dC1zeW1ib2wtaXRlbScpWzBdIGFzIEhUTUxFbGVtZW50KTtcclxuXHR9O1xyXG5cdGlmKHNwYW4gPT09IHVuZGVmaW5lZCB8fCBzcGFuID09PSBudWxsKXtcclxuXHQgIHJldHVybiAxMztcclxuXHR9XHJcblx0cmV0dXJuIE1hdGguYWJzKHNwYW4uY2xpZW50V2lkdGggKiBNYXRoLnNpbihyYWQpICsgc3Bhbi5jbGllbnRIZWlnaHQgKiBNYXRoLmNvcyhyYWQpKSArIDEyO1xyXG4gIH1cclxuXHJcbiAgb25Gb250U3R5bGVDaGFuZ2UgPSAoZXZ0LCBrZXkpID0+IHtcclxuXHRsZXQgY1N0YXRlID0ge307XHJcblx0bGV0IHRzOiBUZXh0U3ltYm9sID0gdGhpcy5zdGF0ZS5jdXJyZW50VGV4dFN5bWJvbDtcclxuXHRpZihrZXkgPT09ICdib2xkJykge1xyXG5cdCAgaWYoIXRoaXMuc3RhdGUuZnNCb2xkQnRuQWN0aXZlKXtcclxuXHRcdHRzLmZvbnQud2VpZ2h0ID0gJ2JvbGQnO1xyXG5cdCAgfWVsc2V7XHJcblx0XHR0cy5mb250LndlaWdodCA9ICdub3JtYWwnO1xyXG5cdCAgfVxyXG5cdCAgY1N0YXRlWydmb250V2VpZ2h0J10gPSB0cy5mb250LndlaWdodDtcclxuXHQgIGNTdGF0ZVsnZnNCb2xkQnRuQWN0aXZlJ10gPSAhdGhpcy5zdGF0ZS5mc0JvbGRCdG5BY3RpdmU7XHJcblx0fVxyXG5cdGlmKGtleSA9PT0gJ2l0YWxpYycpIHtcclxuXHQgIGlmKCF0aGlzLnN0YXRlLmZzSXRhbGljQnRuQWN0aXZlKXtcclxuXHRcdHRzLmZvbnQuc3R5bGUgPSAnaXRhbGljJztcclxuXHQgIH1lbHNle1xyXG5cdFx0dHMuZm9udC5zdHlsZSA9ICdub3JtYWwnO1xyXG5cdCAgfVxyXG5cdCAgY1N0YXRlWydmb250U3R5bGUnXSA9IHRzLmZvbnQuc3R5bGU7XHJcblx0ICBjU3RhdGVbJ2ZzSXRhbGljQnRuQWN0aXZlJ10gPSAhdGhpcy5zdGF0ZS5mc0l0YWxpY0J0bkFjdGl2ZTtcclxuXHR9XHJcblx0aWYoa2V5ID09PSAndW5kZXJsaW5lJykge1xyXG5cdCAgaWYoIXRoaXMuc3RhdGUuZnNVbmRlcmxpbmVCdG5BY3RpdmUpe1xyXG5cdFx0dHMuZm9udC5kZWNvcmF0aW9uID0gJ3VuZGVybGluZSdcclxuXHQgIH1lbHNle1xyXG5cdFx0dHMuZm9udC5kZWNvcmF0aW9uID0gJ25vbmUnO1xyXG5cdCAgfVxyXG5cdCAgY1N0YXRlWydmb250RGVjb3JhdGlvbiddID0gdHMuZm9udC5kZWNvcmF0aW9uO1xyXG5cdCAgY1N0YXRlWydmc1VuZGVybGluZUJ0bkFjdGl2ZSddID0gIXRoaXMuc3RhdGUuZnNVbmRlcmxpbmVCdG5BY3RpdmU7XHJcblx0fVxyXG5cdGNTdGF0ZVsnY3VycmVudFRleHRTeW1ib2wnXSA9IHRzO1xyXG5cdHRoaXMuc2V0U3RhdGUoY1N0YXRlLCAoKT0+e3RoaXMudXBkYXRlU2VsZWN0ZWRUZXh0R3JhcygpfSk7XHJcblx0dGhpcy51cGRhdGVBY3RpdmVCdG5JY29ucygpO1xyXG4gIH1cclxuXHJcblx0c2V0RHJhd1Rvb2xCdG5TdGF0ZSA9ICh0b29sQnRuOiAncG9pbnQnIHwgJ3BvbHlsaW5lJyB8ICdmcmVlcG9seWxpbmUnIHwgJ2V4dGVudCcgfCAncG9seWdvbicgfCAnY2lyY2xlJyB8ICdmcmVlcG9seWdvbicgfCAndGV4dCcgfCAnJykgPT4ge1xyXG5cdFx0Ly8gRU5IQU5DRUQ6IENsZWFuIG1lYXN1cmVtZW50IGVkaXRpbmcgY29vcmRpbmF0aW9uIGJlZm9yZSBkcmF3aW5nIHRvb2wgYWN0aXZhdGlvblxyXG5cdFx0aWYgKHRvb2xCdG4gIT09ICcnICYmIHRoaXMubWVhc3VyZVJlZj8uY3VycmVudD8uaXNFZGl0aW5nTWVhc3VyZW1lbnRzPy4oKSkge1xyXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdEcmF3aW5nIHRvb2wgYWN0aXZhdGluZyAtIGNsZWFuaW5nIHVwIG1lYXN1cmVtZW50IGVkaXRpbmcnKTtcclxuXHRcdFx0dGhpcy5tZWFzdXJlUmVmLmN1cnJlbnQuY2xlYW51cE1lYXN1cmVtZW50TGFiZWxTZWxlY3Rpb24/LigpO1xyXG5cdFx0XHQvLyBOb3RlOiBkaXNhYmxlTWVhc3VyZW1lbnRzKCkgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBieSB0aGUgbWVhc3VyZW1lbnQgY29tcG9uZW50XHJcblx0XHRcdC8vIHdoZW4gaXQgZGV0ZWN0cyBjdXJyZW50VG9vbCBwcm9wIGNoYW5nZVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFZhbGlkYXRlIFNrZXRjaFZpZXdNb2RlbCBiZWZvcmUgcHJvY2VlZGluZyB3aXRoIGRyYXdpbmcgdG9vbHNcclxuXHRcdGlmICh0b29sQnRuICE9PSAnJyAmJiAoIXRoaXMuc2tldGNoVmlld01vZGVsIHx8ICF0aGlzLnNrZXRjaFZpZXdNb2RlbC52aWV3KSkge1xyXG5cdFx0XHRjb25zb2xlLndhcm4oJ1NrZXRjaFZpZXdNb2RlbCBub3QgYXZhaWxhYmxlIGZvciBkcmF3aW5nIHRvb2wgYWN0aXZhdGlvbicpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ2hlY2sgaWYgd2UncmUgZXhpdGluZyBhbGwgZHJhd2luZyB0b29scyBmb3IgcG9wdXAgcmVzdG9yYXRpb25cclxuXHRcdGNvbnN0IHdhc0luRHJhd2luZ01vZGUgPSB0aGlzLnN0YXRlLnBvaW50QnRuQWN0aXZlIHx8IHRoaXMuc3RhdGUubGluZUJ0bkFjdGl2ZSB8fFxyXG5cdFx0XHR0aGlzLnN0YXRlLmZsaW5lQnRuQWN0aXZlIHx8IHRoaXMuc3RhdGUucmVjdEJ0bkFjdGl2ZSB8fFxyXG5cdFx0XHR0aGlzLnN0YXRlLnBvbHlnb25CdG5BY3RpdmUgfHwgdGhpcy5zdGF0ZS5mcG9seWdvbkJ0bkFjdGl2ZSB8fFxyXG5cdFx0XHR0aGlzLnN0YXRlLmNpcmNsZUJ0bkFjdGl2ZSB8fCB0aGlzLnN0YXRlLnRleHRCdG5BY3RpdmU7XHJcblxyXG5cdFx0Y29uc3Qgd2lsbEJlSW5EcmF3aW5nTW9kZSA9IHRvb2xCdG4gIT09ICcnO1xyXG5cclxuXHRcdC8vIEZJWEVEOiBDaGVjayBpZiBjbGlja2luZyB0aGUgc2FtZSBhY3RpdmUgYnV0dG9uIHRvIHRvZ2dsZSBpdCBvZmZcclxuXHRcdGNvbnN0IGlzVG9nZ2xpbmdPZmYgPSAoXHJcblx0XHRcdCh0b29sQnRuID09PSAncG9pbnQnICYmIHRoaXMuc3RhdGUucG9pbnRCdG5BY3RpdmUpIHx8XHJcblx0XHRcdCh0b29sQnRuID09PSAncG9seWxpbmUnICYmIHRoaXMuc3RhdGUubGluZUJ0bkFjdGl2ZSkgfHxcclxuXHRcdFx0KHRvb2xCdG4gPT09ICdmcmVlcG9seWxpbmUnICYmIHRoaXMuc3RhdGUuZmxpbmVCdG5BY3RpdmUpIHx8XHJcblx0XHRcdCh0b29sQnRuID09PSAnZXh0ZW50JyAmJiB0aGlzLnN0YXRlLnJlY3RCdG5BY3RpdmUpIHx8XHJcblx0XHRcdCh0b29sQnRuID09PSAncG9seWdvbicgJiYgdGhpcy5zdGF0ZS5wb2x5Z29uQnRuQWN0aXZlKSB8fFxyXG5cdFx0XHQodG9vbEJ0biA9PT0gJ2ZyZWVwb2x5Z29uJyAmJiB0aGlzLnN0YXRlLmZwb2x5Z29uQnRuQWN0aXZlKSB8fFxyXG5cdFx0XHQodG9vbEJ0biA9PT0gJ2NpcmNsZScgJiYgdGhpcy5zdGF0ZS5jaXJjbGVCdG5BY3RpdmUpIHx8XHJcblx0XHRcdCh0b29sQnRuID09PSAndGV4dCcgJiYgdGhpcy5zdGF0ZS50ZXh0QnRuQWN0aXZlKVxyXG5cdFx0KTtcclxuXHJcblx0XHQvLyBJZiB0b2dnbGluZyBvZmYgdGhlIGFjdGl2ZSB0b29sLCB0cmVhdCBpdCBhcyBleGl0aW5nIGRyYXdpbmcgbW9kZVxyXG5cdFx0aWYgKGlzVG9nZ2xpbmdPZmYpIHtcclxuXHRcdFx0dG9vbEJ0biA9ICcnO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEluaXRpYWxpemUgYnV0dG9uIHN0YXRlIC0gYWxsIHRvb2xzIG9mZiBieSBkZWZhdWx0XHJcblx0XHRsZXQgY1N0YXRlOiBQYXJ0aWFsPFN0YXRlcz4gPSB7XHJcblx0XHRcdHBvaW50QnRuQWN0aXZlOiBmYWxzZSxcclxuXHRcdFx0bGluZUJ0bkFjdGl2ZTogZmFsc2UsXHJcblx0XHRcdGZsaW5lQnRuQWN0aXZlOiBmYWxzZSxcclxuXHRcdFx0cmVjdEJ0bkFjdGl2ZTogZmFsc2UsXHJcblx0XHRcdHBvbHlnb25CdG5BY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHRmcG9seWdvbkJ0bkFjdGl2ZTogZmFsc2UsXHJcblx0XHRcdGNpcmNsZUJ0bkFjdGl2ZTogZmFsc2UsXHJcblx0XHRcdHRleHRCdG5BY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHRjdXJyZW50VG9vbDogdG9vbEJ0blxyXG5cdFx0fTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBBbHdheXMgY2FuY2VsIGFueSBleGlzdGluZyBvcGVyYXRpb25zIGZpcnN0XHJcblx0XHRcdGlmICh0aGlzLnNrZXRjaFZpZXdNb2RlbCkge1xyXG5cdFx0XHRcdHRoaXMuc2tldGNoVmlld01vZGVsLmNhbmNlbCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzd2l0Y2ggKHRvb2xCdG4pIHtcclxuXHRcdFx0XHRjYXNlICdwb2ludCc6XHJcblx0XHRcdFx0XHRjU3RhdGUuY3VycmVudFN5bWJvbCA9IHRoaXMuc2tldGNoVmlld01vZGVsLnBvaW50U3ltYm9sO1xyXG5cdFx0XHRcdFx0Y1N0YXRlLmN1cnJlbnRTeW1ib2xUeXBlID0gSmltdVN5bWJvbFR5cGUuUG9pbnQ7XHJcblx0XHRcdFx0XHR0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoXCJwb2ludFwiKTtcclxuXHRcdFx0XHRcdGNTdGF0ZS5wb2ludEJ0bkFjdGl2ZSA9IHRydWU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSAncG9seWxpbmUnOiB7XHJcblx0XHRcdFx0XHRsZXQgYmFzZVN5bWJvbCA9IHRoaXMuc2tldGNoVmlld01vZGVsLnBvbHlsaW5lU3ltYm9sIGFzIF9fZXNyaS5TaW1wbGVMaW5lU3ltYm9sO1xyXG5cdFx0XHRcdFx0bGV0IGZpbmFsU3ltYm9sOiBfX2VzcmkuU2ltcGxlTGluZVN5bWJvbCA9IGJhc2VTeW1ib2w7XHJcblxyXG5cdFx0XHRcdFx0Ly8gQXBwbHkgYXJyb3dzIGlmIGVuYWJsZWRcclxuXHRcdFx0XHRcdGlmICh0aGlzLnN0YXRlLmFycm93RW5hYmxlZCAmJiBiYXNlU3ltYm9sPy50eXBlID09PSAnc2ltcGxlLWxpbmUnKSB7XHJcblx0XHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdFx0ZmluYWxTeW1ib2wgPSB0aGlzLmNyZWF0ZUxpbmVTeW1ib2xXaXRoQnVpbHRJbkFycm93cyhcclxuXHRcdFx0XHRcdFx0XHRcdGJhc2VTeW1ib2wsXHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnN0YXRlLmFycm93UG9zaXRpb24sXHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnN0YXRlLmFycm93U2l6ZVxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKCdFcnJvciBjcmVhdGluZyBhcnJvdyBzeW1ib2wsIHVzaW5nIGJhc2Ugc3ltYm9sOicsIGVycm9yKTtcclxuXHRcdFx0XHRcdFx0XHRmaW5hbFN5bWJvbCA9IGJhc2VTeW1ib2w7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRjU3RhdGUuY3VycmVudFN5bWJvbCA9IGZpbmFsU3ltYm9sO1xyXG5cdFx0XHRcdFx0Y1N0YXRlLmN1cnJlbnRTeW1ib2xUeXBlID0gSmltdVN5bWJvbFR5cGUuUG9seWxpbmU7XHJcblx0XHRcdFx0XHR0aGlzLnNrZXRjaFZpZXdNb2RlbC5wb2x5bGluZVN5bWJvbCA9IGZpbmFsU3ltYm9sO1xyXG5cdFx0XHRcdFx0dGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKFwicG9seWxpbmVcIik7XHJcblx0XHRcdFx0XHRjU3RhdGUubGluZUJ0bkFjdGl2ZSA9IHRydWU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGNhc2UgJ2ZyZWVwb2x5bGluZSc6IHtcclxuXHRcdFx0XHRcdGxldCBiYXNlU3ltYm9sID0gdGhpcy5za2V0Y2hWaWV3TW9kZWwucG9seWxpbmVTeW1ib2wgYXMgX19lc3JpLlNpbXBsZUxpbmVTeW1ib2w7XHJcblx0XHRcdFx0XHRsZXQgZmluYWxTeW1ib2w6IF9fZXNyaS5TaW1wbGVMaW5lU3ltYm9sID0gYmFzZVN5bWJvbDtcclxuXHJcblx0XHRcdFx0XHQvLyBBcHBseSBhcnJvd3MgaWYgZW5hYmxlZFxyXG5cdFx0XHRcdFx0aWYgKHRoaXMuc3RhdGUuYXJyb3dFbmFibGVkICYmIGJhc2VTeW1ib2w/LnR5cGUgPT09ICdzaW1wbGUtbGluZScpIHtcclxuXHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHRmaW5hbFN5bWJvbCA9IHRoaXMuY3JlYXRlTGluZVN5bWJvbFdpdGhCdWlsdEluQXJyb3dzKFxyXG5cdFx0XHRcdFx0XHRcdFx0YmFzZVN5bWJvbCxcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc3RhdGUuYXJyb3dQb3NpdGlvbixcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc3RhdGUuYXJyb3dTaXplXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ0Vycm9yIGNyZWF0aW5nIGFycm93IHN5bWJvbCwgdXNpbmcgYmFzZSBzeW1ib2w6JywgZXJyb3IpO1xyXG5cdFx0XHRcdFx0XHRcdGZpbmFsU3ltYm9sID0gYmFzZVN5bWJvbDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGNTdGF0ZS5jdXJyZW50U3ltYm9sID0gZmluYWxTeW1ib2w7XHJcblx0XHRcdFx0XHRjU3RhdGUuY3VycmVudFN5bWJvbFR5cGUgPSBKaW11U3ltYm9sVHlwZS5Qb2x5bGluZTtcclxuXHRcdFx0XHRcdHRoaXMuc2tldGNoVmlld01vZGVsLnBvbHlsaW5lU3ltYm9sID0gZmluYWxTeW1ib2w7XHJcblx0XHRcdFx0XHR0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoXCJwb2x5bGluZVwiLCB7IG1vZGU6ICdmcmVlaGFuZCcgfSk7XHJcblx0XHRcdFx0XHRjU3RhdGUuZmxpbmVCdG5BY3RpdmUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjYXNlICdleHRlbnQnOlxyXG5cdFx0XHRcdFx0Y1N0YXRlLmN1cnJlbnRTeW1ib2wgPSB0aGlzLnNrZXRjaFZpZXdNb2RlbC5wb2x5Z29uU3ltYm9sO1xyXG5cdFx0XHRcdFx0Y1N0YXRlLmN1cnJlbnRTeW1ib2xUeXBlID0gSmltdVN5bWJvbFR5cGUuUG9seWdvbjtcclxuXHRcdFx0XHRcdHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZShcInJlY3RhbmdsZVwiKTtcclxuXHRcdFx0XHRcdGNTdGF0ZS5yZWN0QnRuQWN0aXZlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlICdwb2x5Z29uJzpcclxuXHRcdFx0XHRcdGNTdGF0ZS5jdXJyZW50U3ltYm9sID0gdGhpcy5za2V0Y2hWaWV3TW9kZWwucG9seWdvblN5bWJvbDtcclxuXHRcdFx0XHRcdGNTdGF0ZS5jdXJyZW50U3ltYm9sVHlwZSA9IEppbXVTeW1ib2xUeXBlLlBvbHlnb247XHJcblx0XHRcdFx0XHR0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoXCJwb2x5Z29uXCIpO1xyXG5cdFx0XHRcdFx0Y1N0YXRlLnBvbHlnb25CdG5BY3RpdmUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgJ2ZyZWVwb2x5Z29uJzpcclxuXHRcdFx0XHRcdGNTdGF0ZS5jdXJyZW50U3ltYm9sID0gdGhpcy5za2V0Y2hWaWV3TW9kZWwucG9seWdvblN5bWJvbDtcclxuXHRcdFx0XHRcdGNTdGF0ZS5jdXJyZW50U3ltYm9sVHlwZSA9IEppbXVTeW1ib2xUeXBlLlBvbHlnb247XHJcblx0XHRcdFx0XHR0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoXCJwb2x5Z29uXCIsIHsgbW9kZTogJ2ZyZWVoYW5kJyB9KTtcclxuXHRcdFx0XHRcdGNTdGF0ZS5mcG9seWdvbkJ0bkFjdGl2ZSA9IHRydWU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSAnY2lyY2xlJzpcclxuXHRcdFx0XHRcdGNTdGF0ZS5jdXJyZW50U3ltYm9sID0gdGhpcy5za2V0Y2hWaWV3TW9kZWwucG9seWdvblN5bWJvbDtcclxuXHRcdFx0XHRcdGNTdGF0ZS5jdXJyZW50U3ltYm9sVHlwZSA9IEppbXVTeW1ib2xUeXBlLlBvbHlnb247XHJcblx0XHRcdFx0XHR0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoXCJjaXJjbGVcIik7XHJcblx0XHRcdFx0XHRjU3RhdGUuY2lyY2xlQnRuQWN0aXZlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlICd0ZXh0JzpcclxuXHRcdFx0XHRcdGNTdGF0ZS5jdXJyZW50U3ltYm9sID0gdGhpcy5za2V0Y2hWaWV3TW9kZWwucG9pbnRTeW1ib2w7XHJcblx0XHRcdFx0XHRjU3RhdGUuY3VycmVudFN5bWJvbFR5cGUgPSBKaW11U3ltYm9sVHlwZS5Qb2ludDtcclxuXHRcdFx0XHRcdHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZShcInBvaW50XCIpO1xyXG5cdFx0XHRcdFx0Y1N0YXRlLnRleHRCdG5BY3RpdmUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHQvLyBFeGl0aW5nIGFsbCBkcmF3aW5nIHRvb2xzIC0gY2FuY2VsIGlzIGFscmVhZHkgY2FsbGVkIGFib3ZlXHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3IgaW4gc2V0RHJhd1Rvb2xCdG5TdGF0ZTonLCBlcnJvcik7XHJcblx0XHRcdC8vIFJlc2V0IHN0YXRlIG9uIGVycm9yIHRvIHByZXZlbnQgVUkgaW5jb25zaXN0ZW5jaWVzXHJcblx0XHRcdGNTdGF0ZSA9IHtcclxuXHRcdFx0XHRwb2ludEJ0bkFjdGl2ZTogZmFsc2UsXHJcblx0XHRcdFx0bGluZUJ0bkFjdGl2ZTogZmFsc2UsXHJcblx0XHRcdFx0ZmxpbmVCdG5BY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHRcdHJlY3RCdG5BY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHRcdHBvbHlnb25CdG5BY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHRcdGZwb2x5Z29uQnRuQWN0aXZlOiBmYWxzZSxcclxuXHRcdFx0XHRjaXJjbGVCdG5BY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHRcdHRleHRCdG5BY3RpdmU6IGZhbHNlLFxyXG5cdFx0XHRcdGN1cnJlbnRUb29sOiAnJ1xyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEhhbmRsZSBwb3B1cCByZXN0b3JhdGlvbiBmb3Igd2lkZ2V0cyBub3QgY29udHJvbGxlZCBieSB3aWRnZXQgc3RhdGVcclxuXHRcdGlmICh0aGlzLnN0YXRlLmN1cnJlbnRKaW11TWFwVmlldykge1xyXG5cdFx0XHRjb25zdCB2aWV3ID0gdGhpcy5zdGF0ZS5jdXJyZW50SmltdU1hcFZpZXcudmlldztcclxuXHRcdFx0Y29uc3Qgd2lkZ2V0U3RhdGU6IFdpZGdldFN0YXRlID0gdGhpcy5wcm9wcy5zdGF0ZTtcclxuXHRcdFx0Y29uc3QgaXNXaWRnZXRDb250cm9sbGVkID0gd2lkZ2V0U3RhdGUgIT09IHVuZGVmaW5lZCAmJiB3aWRnZXRTdGF0ZSAhPT0gbnVsbDtcclxuXHJcblx0XHRcdGlmICghaXNXaWRnZXRDb250cm9sbGVkICYmIHZpZXcgJiYgdGhpcy5vcmlnaW5hbFBvcHVwRW5hYmxlZCAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdC8vIFJlc3RvcmUgcG9wdXBzIHdoZW4gZXhpdGluZyBkcmF3aW5nIG1vZGUgaWYgbm90IGNvbnRyb2xsZWQgYnkgd2lkZ2V0IHN0YXRlXHJcblx0XHRcdFx0aWYgKHdhc0luRHJhd2luZ01vZGUgJiYgIXdpbGxCZUluRHJhd2luZ01vZGUgJiYgIXZpZXcucG9wdXBFbmFibGVkICYmIHRoaXMub3JpZ2luYWxQb3B1cEVuYWJsZWQpIHtcclxuXHRcdFx0XHRcdHZpZXcucG9wdXBFbmFibGVkID0gdGhpcy5vcmlnaW5hbFBvcHVwRW5hYmxlZDtcclxuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coJ1Jlc3RvcmVkIHBvcHVwIHN0YXRlICh1bmNvbnRyb2xsZWQgd2lkZ2V0LCBleGl0aW5nIGRyYXdpbmcpOicsIHRoaXMub3JpZ2luYWxQb3B1cEVuYWJsZWQpO1xyXG5cclxuXHRcdFx0XHRcdGlmICh2aWV3LnBvcHVwICYmIFwiYXV0b0Nsb3NlRW5hYmxlZFwiIGluIHZpZXcucG9wdXApIHtcclxuXHRcdFx0XHRcdFx0dmlldy5wb3B1cC5hdXRvQ2xvc2VFbmFibGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBSZXN0b3JlIGhpZ2hsaWdodCBhcHBlYXJhbmNlXHJcblx0XHRcdFx0XHR2aWV3LmhpZ2hsaWdodE9wdGlvbnMgPSB7XHJcblx0XHRcdFx0XHRcdGNvbG9yOiBbMCwgMjU1LCAyNTUsIDFdLFxyXG5cdFx0XHRcdFx0XHRmaWxsT3BhY2l0eTogMC4wLFxyXG5cdFx0XHRcdFx0XHRoYWxvT3BhY2l0eTogMC44XHJcblx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdC8vIFJlc3RvcmUgbGF5ZXItbGV2ZWwgaGlnaGxpZ2h0IHN0eWxpbmdcclxuXHRcdFx0XHRcdHZpZXcubWFwLmxheWVycy5mb3JFYWNoKGxheWVyID0+IHtcclxuXHRcdFx0XHRcdFx0dmlldy53aGVuTGF5ZXJWaWV3KGxheWVyKS50aGVuKChsYXllclZpZXc6IF9fZXNyaS5MYXllclZpZXcpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAobGF5ZXIudHlwZSA9PT0gXCJmZWF0dXJlXCIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGZlYXR1cmVMYXllclZpZXcgPSBsYXllclZpZXcgYXMgYW55O1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKFwiaGlnaGxpZ2h0T3B0aW9uc1wiIGluIGZlYXR1cmVMYXllclZpZXcpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZmVhdHVyZUxheWVyVmlldy5oaWdobGlnaHRPcHRpb25zID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbG9yOiBbMCwgMjU1LCAyNTUsIDFdLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZpbGxPcGFjaXR5OiAwLjAsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aGFsb09wYWNpdHk6IDAuOFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gRGlzYWJsZSBwb3B1cHMgd2hlbiBlbnRlcmluZyBkcmF3aW5nIG1vZGVcclxuXHRcdFx0XHRlbHNlIGlmICghd2FzSW5EcmF3aW5nTW9kZSAmJiB3aWxsQmVJbkRyYXdpbmdNb2RlICYmIHZpZXcucG9wdXBFbmFibGVkKSB7XHJcblx0XHRcdFx0XHQvLyBTdG9yZSBvcmlnaW5hbCBzdGF0ZSBpZiBub3QgYWxyZWFkeSBzdG9yZWRcclxuXHRcdFx0XHRcdGlmICh0aGlzLm9yaWdpbmFsUG9wdXBFbmFibGVkID09PSBudWxsKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMub3JpZ2luYWxQb3B1cEVuYWJsZWQgPSB2aWV3LnBvcHVwRW5hYmxlZDtcclxuXHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnU3RvcmVkIG9yaWdpbmFsIHBvcHVwIHN0YXRlICh1bmNvbnRyb2xsZWQgd2lkZ2V0KTonLCB0aGlzLm9yaWdpbmFsUG9wdXBFbmFibGVkKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHR2aWV3LnBvcHVwRW5hYmxlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnRGlzYWJsZWQgcG9wdXBzICh1bmNvbnRyb2xsZWQgd2lkZ2V0LCBlbnRlcmluZyBkcmF3aW5nIG1vZGUpJyk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKHZpZXcucG9wdXAgJiYgXCJhdXRvQ2xvc2VFbmFibGVkXCIgaW4gdmlldy5wb3B1cCkge1xyXG5cdFx0XHRcdFx0XHR2aWV3LnBvcHVwLmF1dG9DbG9zZUVuYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHZpZXcucG9wdXAudmlzaWJsZSA9IGZhbHNlO1xyXG5cclxuXHRcdFx0XHRcdC8vIE1ha2UgaGlnaGxpZ2h0cyBpbnZpc2libGVcclxuXHRcdFx0XHRcdHZpZXcuaGlnaGxpZ2h0T3B0aW9ucyA9IHtcclxuXHRcdFx0XHRcdFx0Y29sb3I6IFswLCAwLCAwLCAwXSxcclxuXHRcdFx0XHRcdFx0ZmlsbE9wYWNpdHk6IDAsXHJcblx0XHRcdFx0XHRcdGhhbG9PcGFjaXR5OiAwXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFNldCBwcmV2aWV3IHN0YXRlc1xyXG5cdFx0Y1N0YXRlLnNob3dTeW1QcmV2aWV3ID0gdG9vbEJ0biAhPT0gJ3RleHQnICYmIHRvb2xCdG4gIT09ICcnO1xyXG5cdFx0Y1N0YXRlLnNob3dUZXh0UHJldmlldyA9IHRvb2xCdG4gPT09ICd0ZXh0JztcclxuXHJcblx0XHQvLyBBcHBseSBzdGF0ZSBjaGFuZ2VzXHJcblx0XHR0aGlzLnNldFN0YXRlKGNTdGF0ZSBhcyBTdGF0ZXMpO1xyXG5cdH07XHJcblxyXG5cdGhhbmRsZVN3aXRjaFRvRHJhd2luZ3MgPSAoKSA9PiB7XHJcblx0XHQvLyBTdG9yZSBtZWFzdXJlbWVudCBlZGl0aW5nIHN0YXRlIGJlZm9yZSBzd2l0Y2hpbmdcclxuXHRcdGNvbnN0IHdhc01lYXN1cmVtZW50RWRpdGluZ0VuYWJsZWQgPSB0aGlzLm1lYXN1cmVSZWY/LmN1cnJlbnQ/LmlzRWRpdGluZ01lYXN1cmVtZW50cz8uKCkgfHwgZmFsc2U7XHJcblxyXG5cdFx0dGhpcy5zZXREcmF3VG9vbEJ0blN0YXRlKCcnKTtcclxuXHRcdHRoaXMuc2V0U3RhdGUoeyBhY3RpdmVUYWI6ICdteWRyYXdpbmdzJyB9LCAoKSA9PiB7XHJcblx0XHRcdC8vIFJlc3RvcmUgbWVhc3VyZW1lbnQgZWRpdGluZyBzdGF0ZSBhZnRlciB0YWIgc3dpdGNoIGlmIGl0IHdhcyBlbmFibGVkXHJcblx0XHRcdGlmICh3YXNNZWFzdXJlbWVudEVkaXRpbmdFbmFibGVkKSB7XHJcblx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5tZWFzdXJlUmVmPy5jdXJyZW50KSB7XHJcblx0XHRcdFx0XHRcdC8vIFJlLWVuYWJsZSBtZWFzdXJlbWVudCBlZGl0aW5nIGFmdGVyIHRhYiBzd2l0Y2hcclxuXHRcdFx0XHRcdFx0dGhpcy5tZWFzdXJlUmVmLmN1cnJlbnQuZW5hYmxlTWVhc3VyZW1lbnRzKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSwgMjUwKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0aGFuZGxlU3dpdGNoRnJvbURyYXdpbmdzID0gKCkgPT4ge1xyXG5cdFx0Ly8gU3RvcmUgbWVhc3VyZW1lbnQgZWRpdGluZyBzdGF0ZSBiZWZvcmUgc3dpdGNoaW5nXHJcblx0XHRjb25zdCB3YXNNZWFzdXJlbWVudEVkaXRpbmdFbmFibGVkID0gdGhpcy5tZWFzdXJlUmVmPy5jdXJyZW50Py5pc0VkaXRpbmdNZWFzdXJlbWVudHM/LigpIHx8IGZhbHNlO1xyXG5cclxuXHRcdHRoaXMuc2V0RHJhd1Rvb2xCdG5TdGF0ZSgnJyk7XHJcblx0XHR0aGlzLnNldFN0YXRlKHsgYWN0aXZlVGFiOiAnZHJhdycgfSwgKCkgPT4ge1xyXG5cdFx0XHQvLyBSZXN0b3JlIG1lYXN1cmVtZW50IGVkaXRpbmcgc3RhdGUgYWZ0ZXIgdGFiIHN3aXRjaCBpZiBpdCB3YXMgZW5hYmxlZFxyXG5cdFx0XHRpZiAod2FzTWVhc3VyZW1lbnRFZGl0aW5nRW5hYmxlZCkge1xyXG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMubWVhc3VyZVJlZj8uY3VycmVudCkge1xyXG5cdFx0XHRcdFx0XHQvLyBSZS1lbmFibGUgbWVhc3VyZW1lbnQgZWRpdGluZyBhZnRlciB0YWIgc3dpdGNoXHJcblx0XHRcdFx0XHRcdHRoaXMubWVhc3VyZVJlZi5jdXJyZW50LmVuYWJsZU1lYXN1cmVtZW50cygpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sIDI1MCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdHNob3dUZXh0U3ltYm9sUG9wcGVyID0gKGV2dCkgPT4ge1xyXG5cdFx0Ly8gUHJldmVudCBldmVudCBidWJibGluZyBhbmQgZGVmYXVsdCBiZWhhdmlvclxyXG5cdFx0aWYgKGV2dCkge1xyXG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0ZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMudXBkYXRlQWN0aXZlQnRuSWNvbnMoKTtcclxuXHJcblx0XHQvLyBXb3JrYXJvdW5kIGZvciBJbnB1dFVuaXQgc3R5bGluZyBpc3N1ZVxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdGxldCB1bml0U2VsZWN0b3JzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3R5bGUtc2V0dGluZy0tdW5pdC1zZWxlY3RvcicpO1xyXG5cdFx0XHRBcnJheS5mcm9tKHVuaXRTZWxlY3RvcnMpLmZvckVhY2goKGVsZTogSFRNTEVsZW1lbnQpID0+IHtcclxuXHRcdFx0XHQoZWxlLmZpcnN0Q2hpbGQgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnBhZGRpbmcgPSAnMCc7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSwgMjAwKTtcclxuXHJcblx0XHQvLyBUb2dnbGUgdGhlIHRleHQgcHJldmlldyBwb3BwZXIgc3RhdGVcclxuXHRcdHRoaXMuc2V0U3RhdGUoeyB0ZXh0UHJldmlld2lzT3BlbjogIXRoaXMuc3RhdGUudGV4dFByZXZpZXdpc09wZW4gfSk7XHJcblx0fVxyXG5cclxuICB1cGRhdGVTeW1ib2xPcGFjaXR5ID0gKHZhbHVlKSA9PiB7XHJcblx0bGV0IHRzOiBUZXh0U3ltYm9sID0gdGhpcy5zdGF0ZS5jdXJyZW50VGV4dFN5bWJvbDtcclxuXHR0cy5jb2xvci5hID0gdmFsdWU7XHJcblx0dGhpcy5zZXRTdGF0ZSh7XHJcblx0ICBmb250T3BhY2l0eTogdmFsdWUsXHJcblx0ICBjdXJyZW50VGV4dFN5bWJvbDogdHMsXHJcblx0ICBmb250Q29sb3I6IHRoaXMuY29udmVydFN5bWJvbENvbG9yVG9Db2xvclBpY2tlclZhbHVlKHRzLmNvbG9yKVxyXG5cdH0sICgpPT57dGhpcy51cGRhdGVTZWxlY3RlZFRleHRHcmFzKCl9KTtcclxuICB9XHJcblxyXG4gIG9uT3BhY2l0eUlucHV0Q2hhbmdlZCA9IChlKSA9PiB7XHJcblx0bGV0IHRzOiBUZXh0U3ltYm9sID0gdGhpcy5zdGF0ZS5jdXJyZW50VGV4dFN5bWJvbDtcclxuXHR0cy5jb2xvci5hID0gZS5kaXN0YW5jZS8xMDA7XHJcblx0dGhpcy5zZXRTdGF0ZSh7XHJcblx0ICBmb250T3BhY2l0eTogZS5kaXN0YW5jZS8xMDAsXHJcblx0ICBjdXJyZW50VGV4dFN5bWJvbDogdHMsXHJcblx0ICBmb250Q29sb3I6IHRoaXMuY29udmVydFN5bWJvbENvbG9yVG9Db2xvclBpY2tlclZhbHVlKHRzLmNvbG9yKVxyXG5cdH0sICgpPT57dGhpcy51cGRhdGVTZWxlY3RlZFRleHRHcmFzKCl9KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVN5bWJvbEhhbG9PcGFjaXR5ID0gKHZhbHVlKSA9PiB7XHJcblx0bGV0IHRzOiBUZXh0U3ltYm9sID0gdGhpcy5zdGF0ZS5jdXJyZW50VGV4dFN5bWJvbDtcclxuXHR0cy5oYWxvQ29sb3IuYSA9IHZhbHVlO1xyXG5cdHRoaXMuc2V0U3RhdGUoe1xyXG5cdCAgZm9udEhhbG9PcGFjaXR5OiB2YWx1ZSxcclxuXHQgIGN1cnJlbnRUZXh0U3ltYm9sOiB0cyxcclxuXHQgIGZvbnRIYWxvQ29sb3I6IHRoaXMuY29udmVydFN5bWJvbENvbG9yVG9Db2xvclBpY2tlclZhbHVlKHRzLmhhbG9Db2xvciksXHJcblx0ICBmb250SGFsbzogdGhpcy5zdGF0ZS5mb250SGFsb0VuYWJsZWQgPyAgdGhpcy5zdGF0ZS5mb250SGFsb1NpemUgKyBcInB4IFwiICsgdGhpcy5jb252ZXJ0U3ltYm9sQ29sb3JUb0NvbG9yUGlja2VyVmFsdWUodHMuaGFsb0NvbG9yKSA6ICd1bnNldCdcclxuXHR9LCAoKT0+e3RoaXMudXBkYXRlU2VsZWN0ZWRUZXh0R3JhcygpfSk7XHJcbiAgfVxyXG5cclxuICBvbkhhbG9PcGFjaXR5SW5wdXRDaGFuZ2VkID0gKGUpID0+IHtcclxuXHRsZXQgdHM6IFRleHRTeW1ib2wgPSB0aGlzLnN0YXRlLmN1cnJlbnRUZXh0U3ltYm9sO1xyXG5cdHRzLmhhbG9Db2xvci5hID0gZS5kaXN0YW5jZS8xMDA7XHJcblx0dGhpcy5zZXRTdGF0ZSh7XHJcblx0ICBmb250SGFsb09wYWNpdHk6IGUuZGlzdGFuY2UvMTAwLFxyXG5cdCAgY3VycmVudFRleHRTeW1ib2w6IHRzLFxyXG5cdCAgZm9udEhhbG9Db2xvcjogdGhpcy5jb252ZXJ0U3ltYm9sQ29sb3JUb0NvbG9yUGlja2VyVmFsdWUodHMuaGFsb0NvbG9yKSxcclxuXHQgIGZvbnRIYWxvOiB0aGlzLnN0YXRlLmZvbnRIYWxvRW5hYmxlZCA/ICB0aGlzLnN0YXRlLmZvbnRIYWxvU2l6ZSArIFwicHggXCIgKyB0aGlzLmNvbnZlcnRTeW1ib2xDb2xvclRvQ29sb3JQaWNrZXJWYWx1ZSh0cy5oYWxvQ29sb3IpIDogJ3Vuc2V0J1xyXG5cdH0sICgpPT57dGhpcy51cGRhdGVTZWxlY3RlZFRleHRHcmFzKCl9KTtcclxuICB9XHJcblxyXG4gIGNvbnZlcnRTeW1ib2xDb2xvclRvQ29sb3JQaWNrZXJWYWx1ZSA9IChjb2xvcjplc3JpQ29sb3IpID0+IHtcclxuXHRpZihjb2xvcil7XHJcblx0ICBjb25zdCByZ2JhQ2xyID0gY29sb3IudG9SZ2JhKCk7XHJcblx0ICByZXR1cm5gcmdiYSgke3JnYmFDbHJbMF19LCR7cmdiYUNsclsxXX0sJHtyZ2JhQ2xyWzJdfSwke3JnYmFDbHJbM119KWBcclxuXHR9XHJcblx0cmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIG9uQ29sb3JQaWNrZXJUb2dnbGUgPSAoZXZ0KSA9PiB7XHJcblx0ICAvL3dvcmthcm91bmQgZm9yIGNvbG9yIHBpY2tlciBzdHlsZSBpc3N1ZVxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdCAgbGV0IGNvbG9yUGlja2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbG9yLXBpY2tlci1wb3BwZXI+LnBvcHBlci1ib3g+LnNrZXRjaC1zdGFuZGFyZCcpWzBdIGFzIEhUTUxFbGVtZW50O1xyXG5cdCAgY29sb3JQaWNrZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3Vuc2V0JztcclxuXHR9LCAyMDApO1xyXG4gIH1cclxuXHJcblx0aGFuZGxlUG9pbnRSb3RhdGlvbiA9IChlKSA9PiB7XHJcblx0XHRjb25zdCBzeW1ib2wgPSB0aGlzLnN0YXRlLmN1cnJlbnRTeW1ib2wuY2xvbmUoKVxyXG5cdFx0c3ltYm9sLmFuZ2xlID0gZS50YXJnZXQ/IGUudGFyZ2V0LnZhbHVlIDogZVxyXG5cdFx0dGhpcy5vblBvaW50U3ltQ2hhbmdlZChzeW1ib2wpXHJcblx0fVxyXG5cclxuXHRoYW5kbGVGb250RmFtaWx5ID0gKGUpID0+IHtcclxuXHRcdGNvbnN0IG5ld0ZvbnQgPSBlLnRhcmdldC52YWx1ZTtcclxuXHRcdGNvbnN0IGNUZXh0U3ltOiBUZXh0U3ltYm9sID0gdGhpcy5zdGF0ZS5jdXJyZW50VGV4dFN5bWJvbC5jbG9uZSgpO1xyXG5cdFx0Y1RleHRTeW0uZm9udC5mYW1pbHkgPSBuZXdGb250O1xyXG5cclxuXHRcdC8vIFVwZGF0ZSBzdGF0ZSBhbmQgYXBwbHkgY2hhbmdlcyB0byBhbnkgc2VsZWN0ZWQgdGV4dCBncmFwaGljc1xyXG5cdFx0dGhpcy5zZXRTdGF0ZSh7XHJcblx0XHRcdGN1cnJlbnRUZXh0U3ltYm9sOiBjVGV4dFN5bVxyXG5cdFx0fSwgKCkgPT4ge1xyXG5cdFx0XHQvLyBDYWxsYmFjayB0byBlbnN1cmUgc3RhdGUgaXMgdXBkYXRlZCBiZWZvcmUgYXBwbHlpbmcgdG8gZ3JhcGhpY3NcclxuXHRcdFx0dGhpcy51cGRhdGVTZWxlY3RlZFRleHRHcmFzKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGhhbmRsZUxpc3RNb2RlID0gKGUpID0+IHtcclxuXHRcdGNvbnN0IGNoZWNrZWQgPSBlLnRhcmdldC5jaGVja2VkXHJcblx0XHRpZiAoY2hlY2tlZCkge1xyXG5cdFx0XHR0aGlzLmRyYXdMYXllci5saXN0TW9kZSA9ICdzaG93J1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5kcmF3TGF5ZXIubGlzdE1vZGUgPSAnaGlkZSdcclxuXHRcdH1cclxuXHRcdHRoaXMuc2V0U3RhdGUoeyBsaXN0TW9kZSA6IHRoaXMuZHJhd0xheWVyLmxpc3RNb2RlIH0pXHJcblx0fVxyXG5cclxuXHRoYW5kbGVUaXRsZUNoYW5nZSA9IChlKSA9PiB7XHJcblx0XHRjb25zdCB0aXRsZSA9IGUudGFyZ2V0LnZhbHVlXHJcblx0XHR0aGlzLmRyYXdMYXllci50aXRsZSA9IHRpdGxlXHJcblx0XHR0aGlzLnNldFN0YXRlKHtkcmF3TGF5ZXJUaXRsZTogdGl0bGV9KVxyXG5cdH1cclxuXHJcblx0cmVuZGVyTXlEcmF3aW5nc1RhYigpIHtcclxuXHRcdHJldHVybiAoXHJcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwibXktZHJhd2luZ3MtdGFiLWNvbnRhaW5lciBwLTNcIj5cclxuXHRcdFx0XHR7dGhpcy5kcmF3TGF5ZXIgJiYgKFxyXG5cdFx0XHRcdFx0PE15RHJhd2luZ3NQYW5lbFxyXG5cdFx0XHRcdFx0XHRyZWY9e3RoaXMubXlEcmF3aW5nc1JlZn1cclxuXHRcdFx0XHRcdFx0Z3JhcGhpY3NMYXllcj17dGhpcy5kcmF3TGF5ZXJ9XHJcblx0XHRcdFx0XHRcdGppbXVNYXBWaWV3PXt0aGlzLnN0YXRlLmN1cnJlbnRKaW11TWFwVmlld31cclxuXHRcdFx0XHRcdFx0ZHJhd2luZ3M9e3RoaXMuZHJhd0xheWVyLmdyYXBoaWNzLnRvQXJyYXkoKX1cclxuXHRcdFx0XHRcdFx0YWxsb3dMb2NhbFN0b3JhZ2U9e3RydWV9XHJcblx0XHRcdFx0XHRcdGNvbmZpcm1PbkRlbGV0ZT17dHJ1ZX1cclxuXHRcdFx0XHRcdFx0b25EcmF3aW5nU2VsZWN0PXt0aGlzLmhhbmRsZURyYXdpbmdTZWxlY3R9XHJcblx0XHRcdFx0XHRcdG9uRHJhd2luZ3NVcGRhdGU9e3RoaXMuaGFuZGxlRHJhd2luZ3NVcGRhdGV9XHJcblx0XHRcdFx0XHRcdHNob3dBbGVydD17dGhpcy5zaG93QWxlcnR9XHJcblx0XHRcdFx0XHRcdGlzQWN0aXZlVGFiPXt0aGlzLnN0YXRlLmFjdGl2ZVRhYiA9PT0gJ215ZHJhd2luZ3MnfVxyXG5cdFx0XHRcdFx0XHRvbkNsZWFyU2VsZWN0aW9uT3ZlcmxheXM9e3RoaXMuY2xlYXJTZWxlY3Rpb25PdmVybGF5c0luRHJhd0xheWVyfVxyXG5cdFx0XHRcdFx0Lz5cclxuXHRcdFx0XHQpfVxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHRyZW5kZXJEcmF3UGFuZWwoKSB7XHJcblx0XHRjb25zdCB7IGNvbmZpZyB9ID0gdGhpcy5wcm9wcztcclxuXHRcdGNvbnN0IHtcclxuXHRcdFx0c2hvd1N5bVByZXZpZXcsIHNob3dUZXh0UHJldmlldywgZHJhd0dMTGVuZ3RoY2hlY2ssIGNhblJlZG8sIGNhblVuZG8sXHJcblx0XHRcdGZvbnRDb2xvciwgZm9udFNpemUsIGZvbnRIYWxvRW5hYmxlZCwgZm9udEhhbG9Db2xvciwgZm9udEhhbG9TaXplLCB0ZXh0U3ltUHJldmlld1RleHQsXHJcblx0XHRcdGN1cnJlbnRTeW1ib2wsIHVuZG9CdG5BY3RpdmUsIHJlZG9CdG5BY3RpdmUsIGNsZWFyQnRuQWN0aXZlLCBjbGVhckJ0blRpdGxlLCBwb2ludEJ0bkFjdGl2ZSxcclxuXHRcdFx0bGluZUJ0bkFjdGl2ZSwgZmxpbmVCdG5BY3RpdmUsIHJlY3RCdG5BY3RpdmUsIHBvbHlnb25CdG5BY3RpdmUsIGZwb2x5Z29uQnRuQWN0aXZlLCBjaXJjbGVCdG5BY3RpdmUsXHJcblx0XHRcdHRleHRCdG5BY3RpdmUsIGZvbnRIYWxvLCBmb250V2VpZ2h0LCBmb250RGVjb3JhdGlvbiwgZm9udFN0eWxlLCBmb250Um90YXRpb24sXHJcblx0XHRcdHZBbGlnbkJhc2VCdG5BY3RpdmUsIHZBbGlnbkJvdEJ0bkFjdGl2ZSwgdkFsaWduTWlkQnRuQWN0aXZlLCB2QWxpZ25Ub3BCdG5BY3RpdmUsXHJcblx0XHRcdHRleHRQcmV2aWV3SGVpZ2h0LCBoQWxpZ25MZWZ0QnRuQWN0aXZlLCBoQWxpZ25DZW50ZXJCdG5BY3RpdmUsIGhBbGlnblJpZ2h0QnRuQWN0aXZlLFxyXG5cdFx0XHRmc0JvbGRCdG5BY3RpdmUsIGZzSXRhbGljQnRuQWN0aXZlLCBmc1VuZGVybGluZUJ0bkFjdGl2ZSwgY3VycmVudFN5bWJvbFR5cGUsIHRleHRQcmV2aWV3aXNPcGVuLFxyXG5cdFx0XHRmb250T3BhY2l0eSwgZm9udEhhbG9PcGFjaXR5LCB0ZXh0SGFzQ2hhbmdlZFxyXG5cdFx0fSA9IHRoaXMuc3RhdGU7XHJcblxyXG5cdFx0Y29uc3QgaXNEcmF3aW5nQWN0aXZlID0gcG9pbnRCdG5BY3RpdmUgfHwgbGluZUJ0bkFjdGl2ZSB8fCBmbGluZUJ0bkFjdGl2ZSB8fFxyXG5cdFx0XHRyZWN0QnRuQWN0aXZlIHx8IHBvbHlnb25CdG5BY3RpdmUgfHwgZnBvbHlnb25CdG5BY3RpdmUgfHwgY2lyY2xlQnRuQWN0aXZlIHx8IHRleHRCdG5BY3RpdmU7XHJcblxyXG5cdFx0cmV0dXJuIChcclxuXHRcdFx0PGRpdiBjbGFzc05hbWU9XCJkcmF3LXBhbmVsLWNvbnRlbnRcIj5cclxuXHRcdFx0XHR7LyogTW9kZSBNZXNzYWdlICovfVxyXG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwibW9kZS1tZXNzYWdlIHRleHQtY2VudGVyIG1iLTNcIj5cclxuXHRcdFx0XHRcdHshaXNEcmF3aW5nQWN0aXZlID8gKFxyXG5cdFx0XHRcdFx0XHQ8ZGl2PlxyXG5cdFx0XHRcdFx0XHRcdHt0aGlzLmRyYXdMYXllcj8uZ3JhcGhpY3MubGVuZ3RoID4gMCA/IChcclxuXHRcdFx0XHRcdFx0XHRcdDxkaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxoNT5FZGl0IE1vZGU8L2g1PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8aDY+U2VsZWN0IGEgRHJhd2luZyBTdHlsZSB0byBlbnRlciBEcmF3aW5nIE1vZGUuPC9oNj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdCkgOiAoXHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8aDU+Tm8gRHJhd2luZ3MgWWV0PC9oNT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGg2PlNlbGVjdCBhIERyYXdpbmcgU3R5bGUgdG8gZ2V0IHN0YXJ0ZWQuPC9oNj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdCl9XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0KSA6IChcclxuXHRcdFx0XHRcdFx0PGRpdj5cclxuXHRcdFx0XHRcdFx0XHQ8aDU+RHJhd2luZyBNb2RlPC9oNT5cclxuXHRcdFx0XHRcdFx0XHQ8aDY+Q2xpY2sgdGhlIEFjdGl2ZSBEcmF3aW5nIFN0eWxlIEJ1dHRvbiB0byBFeGl0IERyYXdpbmcgTW9kZSBhbmQgQWN0aXZhdGUgRWRpdGluZyBNb2RlLjwvaDY+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0KX1cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHJcblx0XHRcdFx0ey8qIERyYXdpbmcgQnV0dG9ucyAqL31cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImRyYXdpbmctdG9vbHMtc2VjdGlvbiBtYi0zXCI+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiZHJhd1Rvb2xiYXJEaXYgZC1mbGV4IGZsZXgtY29sdW1uXCI+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJidXR0b25Sb3dcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxCdXR0b25cclxuXHRcdFx0XHRcdFx0XHRcdFx0c2l6ZT1cInNtXCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZT1cImRlZmF1bHRcIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb2xvcj17cG9pbnRCdG5BY3RpdmUgPyAncHJpbWFyeScgOiAnZGVmYXVsdCd9XHJcblx0XHRcdFx0XHRcdFx0XHRcdGFjdGl2ZT17cG9pbnRCdG5BY3RpdmV9XHJcblx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0RHJhd1Rvb2xCdG5TdGF0ZSgncG9pbnQnKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0dGl0bGU9e3RoaXMubmxzKCdkcmF3UG9pbnQnKX1cclxuXHRcdFx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PEljb24gaWNvbj17cGluSWNvbn0gLz5cclxuXHRcdFx0XHRcdFx0XHRcdDwvQnV0dG9uPlxyXG5cdFx0XHRcdFx0XHRcdFx0PEJ1dHRvblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzaXplPVwic21cIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlPVwiZGVmYXVsdFwiXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbG9yPXtsaW5lQnRuQWN0aXZlID8gJ3ByaW1hcnknIDogJ2RlZmF1bHQnfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRhY3RpdmU9e2xpbmVCdG5BY3RpdmV9XHJcblx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0RHJhd1Rvb2xCdG5TdGF0ZSgncG9seWxpbmUnKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0dGl0bGU9e3RoaXMubmxzKCdkcmF3TGluZScpfVxyXG5cdFx0XHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8SWNvbiBpY29uPXtsaW5lSWNvbn0gLz5cclxuXHRcdFx0XHRcdFx0XHRcdDwvQnV0dG9uPlxyXG5cdFx0XHRcdFx0XHRcdFx0PEJ1dHRvblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzaXplPVwic21cIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlPVwiZGVmYXVsdFwiXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbG9yPXtmbGluZUJ0bkFjdGl2ZSA/ICdwcmltYXJ5JyA6ICdkZWZhdWx0J31cclxuXHRcdFx0XHRcdFx0XHRcdFx0YWN0aXZlPXtmbGluZUJ0bkFjdGl2ZX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0b25DbGljaz17KCkgPT4gdGhpcy5zZXREcmF3VG9vbEJ0blN0YXRlKCdmcmVlcG9seWxpbmUnKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0dGl0bGU9e3RoaXMubmxzKCdkcmF3RnJlZUxpbmUnKX1cclxuXHRcdFx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PEljb24gaWNvbj17Y3VydmVJY29ufSAvPlxyXG5cdFx0XHRcdFx0XHRcdFx0PC9CdXR0b24+XHJcblx0XHRcdFx0XHRcdFx0XHQ8QnV0dG9uXHJcblx0XHRcdFx0XHRcdFx0XHRcdHNpemU9XCJzbVwiXHJcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGU9XCJkZWZhdWx0XCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29sb3I9e3RleHRCdG5BY3RpdmUgPyAncHJpbWFyeScgOiAnZGVmYXVsdCd9XHJcblx0XHRcdFx0XHRcdFx0XHRcdGFjdGl2ZT17dGV4dEJ0bkFjdGl2ZX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0b25DbGljaz17KCkgPT4gdGhpcy5zZXREcmF3VG9vbEJ0blN0YXRlKCd0ZXh0Jyl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRpdGxlPXt0aGlzLm5scygnZHJhd1RleHQnKX1cclxuXHRcdFx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PEljb24gaWNvbj17dGV4dEljb259IC8+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L0J1dHRvbj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvblJvd1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0PEJ1dHRvblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzaXplPVwic21cIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlPVwiZGVmYXVsdFwiXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbG9yPXtyZWN0QnRuQWN0aXZlID8gJ3ByaW1hcnknIDogJ2RlZmF1bHQnfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRhY3RpdmU9e3JlY3RCdG5BY3RpdmV9XHJcblx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0RHJhd1Rvb2xCdG5TdGF0ZSgnZXh0ZW50Jyl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRpdGxlPXt0aGlzLm5scygnZHJhd1JlY3RhbmdsZScpfVxyXG5cdFx0XHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8SWNvbiBpY29uPXtyZWN0SWNvbn0gLz5cclxuXHRcdFx0XHRcdFx0XHRcdDwvQnV0dG9uPlxyXG5cdFx0XHRcdFx0XHRcdFx0PEJ1dHRvblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzaXplPVwic21cIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlPVwiZGVmYXVsdFwiXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbG9yPXtwb2x5Z29uQnRuQWN0aXZlID8gJ3ByaW1hcnknIDogJ2RlZmF1bHQnfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRhY3RpdmU9e3BvbHlnb25CdG5BY3RpdmV9XHJcblx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0RHJhd1Rvb2xCdG5TdGF0ZSgncG9seWdvbicpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aXRsZT17dGhpcy5ubHMoJ2RyYXdQb2x5Z29uJyl9XHJcblx0XHRcdFx0XHRcdFx0XHQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxJY29uIGljb249e3BvbHlJY29ufSAvPlxyXG5cdFx0XHRcdFx0XHRcdFx0PC9CdXR0b24+XHJcblx0XHRcdFx0XHRcdFx0XHQ8QnV0dG9uXHJcblx0XHRcdFx0XHRcdFx0XHRcdHNpemU9XCJzbVwiXHJcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGU9XCJkZWZhdWx0XCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29sb3I9e2Zwb2x5Z29uQnRuQWN0aXZlID8gJ3ByaW1hcnknIDogJ2RlZmF1bHQnfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRhY3RpdmU9e2Zwb2x5Z29uQnRuQWN0aXZlfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiB0aGlzLnNldERyYXdUb29sQnRuU3RhdGUoJ2ZyZWVwb2x5Z29uJyl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRpdGxlPXt0aGlzLm5scygnZHJhd0ZyZWVQb2x5Z29uJyl9XHJcblx0XHRcdFx0XHRcdFx0XHQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxJY29uIGljb249e2ZyZWVQb2x5SWNvbn0gLz5cclxuXHRcdFx0XHRcdFx0XHRcdDwvQnV0dG9uPlxyXG5cdFx0XHRcdFx0XHRcdFx0PEJ1dHRvblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzaXplPVwic21cIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlPVwiZGVmYXVsdFwiXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbG9yPXtjaXJjbGVCdG5BY3RpdmUgPyAncHJpbWFyeScgOiAnZGVmYXVsdCd9XHJcblx0XHRcdFx0XHRcdFx0XHRcdGFjdGl2ZT17Y2lyY2xlQnRuQWN0aXZlfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiB0aGlzLnNldERyYXdUb29sQnRuU3RhdGUoJ2NpcmNsZScpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aXRsZT17dGhpcy5ubHMoJ2RyYXdDaXJjbGUnKX1cclxuXHRcdFx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PEljb24gaWNvbj17Y2lyY2xlSWNvbn0gLz5cclxuXHRcdFx0XHRcdFx0XHRcdDwvQnV0dG9uPlxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cclxuXHRcdFx0XHR7LyogU3ltYm9sIFNldHRpbmdzICovfVxyXG5cdFx0XHRcdHtzaG93U3ltUHJldmlldyAmJiB0aGlzLnNrZXRjaFZpZXdNb2RlbCAmJiB0aGlzLnJlbmRlclN5bWJvbFNlbGVjdG9yU2VjdGlvbigpfVxyXG5cclxuXHRcdFx0XHR7LyogVGV4dCBTeW1ib2wgU2V0dGluZ3MgKi99XHJcblx0XHRcdFx0e3Nob3dUZXh0UHJldmlldyAmJiB0aGlzLnJlbmRlclRleHRTeW1ib2xQcmV2aWV3QnV0dG9uKCl9XHJcblxyXG5cdFx0XHRcdHsvKiBUZXh0IFBvcHBlciAtIFRoaXMgc3RheXMgb3V0c2lkZSB0aGUgc2Nyb2xsIGFyZWEgZm9yIHByb3BlciBwb3NpdGlvbmluZyAqL31cclxuXHRcdFx0XHR7dGV4dFByZXZpZXdpc09wZW4gJiYgdGhpcy5yZW5kZXJUZXh0UG9wcGVyKCl9XHJcblxyXG5cdFx0XHRcdHsvKiA9PT0gTUFJTiBDSEVDS0JPWCBTVEFDSzogMjBweCBiZXR3ZWVuIE1lYXN1cmUgLyBTbmFwcGluZyAvIEJ1ZmZlciA9PT0gKi99XHJcblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJtYWluLWNoZWNrYm94LXN0YWNrXCI+XHJcblx0XHRcdFx0XHR7LyogTWVhc3VyZW1lbnRzICovfVxyXG5cdFx0XHRcdFx0XHQ8TWVhc3VyZVxyXG5cdFx0XHRcdFx0XHRcdGtleT17YG1lYXN1cmUtJHt0aGlzLnN0YXRlLmFjdGl2ZVRhYn1gfSAgLy8g8J+UpyBGb3JjZXMgcmVtb3VudCB3aGVuIHRhYiBjaGFuZ2VzXHJcblx0XHRcdFx0XHRcdFx0cmVmPXt0aGlzLm1lYXN1cmVSZWZ9XHJcblx0XHRcdFx0XHRcdFx0bmxzPXt0aGlzLm5sc31cclxuXHRcdFx0XHRcdFx0XHRjb25maWc9e2NvbmZpZ31cclxuXHRcdFx0XHRcdFx0XHRkcmF3TGF5ZXI9e3RoaXMuZHJhd0xheWVyfVxyXG5cdFx0XHRcdFx0XHRcdGN1cnJlbnRUZXh0U3ltYm9sPXt0aGlzLnN0YXRlLmN1cnJlbnRUZXh0U3ltYm9sfVxyXG5cdFx0XHRcdFx0XHRcdHNrZXRjaFZpZXdNb2RlbD17dGhpcy5za2V0Y2hWaWV3TW9kZWx9XHJcblx0XHRcdFx0XHRcdFx0Y3VycmVudFRvb2w9e3RoaXMuc3RhdGUuY3VycmVudFRvb2x9XHJcblx0XHRcdFx0XHRcdFx0c2hvd1RleHRQcmV2aWV3PXt0aGlzLnN0YXRlLnNob3dUZXh0UHJldmlld31cclxuXHRcdFx0XHRcdFx0XHRjdXJyZW50U3ltYm9sPXt0aGlzLnN0YXRlLmN1cnJlbnRTeW1ib2x9XHJcblx0XHRcdFx0XHRcdFx0aXNEcmF3aW5nQWN0aXZlPXtpc0RyYXdpbmdBY3RpdmV9XHJcblx0XHRcdFx0XHRcdC8+XHJcblxyXG5cdFx0XHRcdFx0ey8qIFNuYXBwaW5nIENvbnRyb2xzICovfVxyXG5cdFx0XHRcdFx0XHQ8U25hcHBpbmdDb250cm9sc1xyXG5cdFx0XHRcdFx0XHRcdGppbXVNYXBWaWV3PXt0aGlzLnN0YXRlLmN1cnJlbnRKaW11TWFwVmlld31cclxuXHRcdFx0XHRcdFx0XHRza2V0Y2hWaWV3TW9kZWw9e3RoaXMuc2tldGNoVmlld01vZGVsfVxyXG5cdFx0XHRcdFx0XHQvPlxyXG5cclxuXHRcdFx0XHRcdHsvKiBCdWZmZXIgQ29udHJvbHMgLSBIaWRkZW4gZm9yIHRleHQgdG9vbCAqL31cclxuXHRcdFx0XHRcdHshdGV4dEJ0bkFjdGl2ZSAmJiAoXHJcblx0XHRcdFx0XHRcdFx0PEJ1ZmZlckNvbnRyb2xzXHJcblx0XHRcdFx0XHRcdFx0XHRza2V0Y2hWaWV3TW9kZWw9e3RoaXMuc2tldGNoVmlld01vZGVsfVxyXG5cdFx0XHRcdFx0XHRcdFx0amltdU1hcFZpZXc9e3RoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3fVxyXG5cdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHQpfVxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggZmxleC1jb2x1bW4ganVzdGlmeS1jb250ZW50LWJldHdlZW4nIHN0eWxlPXt7aGVpZ2h0OiAnMTUwcHgnfX0+XHJcblx0XHRcdFx0XHR7LyogQm90dG9tIFRvb2xiYXIgKi99XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImRyYXdUb29sYmFyQm90dG9tRGl2XCI+XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0eyhjYW5VbmRvIHx8IGNhblJlZG8pICYmIChcclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBnYXAtMlwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0PEJ1dHRvblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzaXplPVwic21cIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlPVwic2Vjb25kYXJ5XCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0YWN0aXZlPXt1bmRvQnRuQWN0aXZlfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXt0aGlzLmRyYXdVbmRvQnRuQ2xpY2t9XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRpdGxlPXt0aGlzLm5scygnZHJhd1VuZG8nKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0ZGlzYWJsZWQ9eyFjYW5VbmRvfVxyXG5cdFx0XHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8QXJyb3dVbmRvT3V0bGluZWQgLz4gVW5kb1xyXG5cdFx0XHRcdFx0XHRcdFx0PC9CdXR0b24+XHJcblx0XHRcdFx0XHRcdFx0XHQ8QnV0dG9uXHJcblx0XHRcdFx0XHRcdFx0XHRcdHNpemU9XCJzbVwiXHJcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGU9XCJzZWNvbmRhcnlcIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRhY3RpdmU9e3JlZG9CdG5BY3RpdmV9XHJcblx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMuZHJhd1JlZG9CdG5DbGlja31cclxuXHRcdFx0XHRcdFx0XHRcdFx0dGl0bGU9e3RoaXMubmxzKCdkcmF3UmVkbycpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRkaXNhYmxlZD17IWNhblJlZG99XHJcblx0XHRcdFx0XHRcdFx0XHQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxBcnJvd1JlZG9PdXRsaW5lZCAvPiBSZWRvXHJcblx0XHRcdFx0XHRcdFx0XHQ8L0J1dHRvbj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0KX1cclxuXHJcblx0XHRcdFx0XHRcdHsvKiBDbGVhciBCdXR0b24gTG9naWMgKi99XHJcblx0XHRcdFx0XHRcdHt0aGlzLnN0YXRlLmNsZWFyQnRuVGl0bGUgPT09IHRoaXMubmxzKCdkcmF3Q2xlYXInKSA/IChcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnN0YXRlLmNvbmZpcm1EZWxldGUgPyAoXHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBnYXAtMlwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8QnV0dG9uXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2l6ZT1cInNtXCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlPVwiZGFuZ2VyXCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhY3RpdmU9e2NsZWFyQnRuQWN0aXZlfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMuZHJhd0NsZWFyQnRuQ2xpY2t9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGl0bGU9e2NsZWFyQnRuVGl0bGV9XHJcblx0XHRcdFx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8VHJhc2hPdXRsaW5lZCAvPiB7Y2xlYXJCdG5UaXRsZX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9CdXR0b24+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxCdXR0b25cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzaXplPVwic21cIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU9XCJzZWNvbmRhcnlcIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFjdGl2ZT17Y2xlYXJCdG5BY3RpdmV9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0b25DbGljaz17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7IGNvbmZpcm1EZWxldGU6IGZhbHNlIH0pfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRpdGxlPVwiQ2FuY2VsXCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxXcm9uZ091dGxpbmVkIC8+IENhbmNlbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L0J1dHRvbj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdCkgOiAoXHJcblx0XHRcdFx0XHRcdFx0XHQ8QnV0dG9uXHJcblx0XHRcdFx0XHRcdFx0XHRcdHNpemU9XCJzbVwiXHJcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGU9XCJzZWNvbmRhcnlcIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRhY3RpdmU9e2NsZWFyQnRuQWN0aXZlfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFN0YXRlKHsgY29uZmlybURlbGV0ZTogdHJ1ZSB9KX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0dGl0bGU9e2NsZWFyQnRuVGl0bGV9XHJcblx0XHRcdFx0XHRcdFx0XHRcdGRpc2FibGVkPXshZHJhd0dMTGVuZ3RoY2hlY2t9XHJcblx0XHRcdFx0XHRcdFx0XHQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxUcmFzaE91dGxpbmVkIC8+IHtjbGVhckJ0blRpdGxlfVxyXG5cdFx0XHRcdFx0XHRcdFx0PC9CdXR0b24+XHJcblx0XHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0XHQpIDogKFxyXG5cdFx0XHRcdFx0XHRcdDxCdXR0b25cclxuXHRcdFx0XHRcdFx0XHRcdHNpemU9XCJzbVwiXHJcblx0XHRcdFx0XHRcdFx0XHR0eXBlPVwiZGFuZ2VyXCJcclxuXHRcdFx0XHRcdFx0XHRcdGFjdGl2ZT17Y2xlYXJCdG5BY3RpdmV9XHJcblx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXt0aGlzLmRyYXdDbGVhckJ0bkNsaWNrfVxyXG5cdFx0XHRcdFx0XHRcdFx0dGl0bGU9e2NsZWFyQnRuVGl0bGV9XHJcblx0XHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdFx0PFRyYXNoT3V0bGluZWQgLz4ge2NsZWFyQnRuVGl0bGV9XHJcblx0XHRcdFx0XHRcdFx0PC9CdXR0b24+XHJcblx0XHRcdFx0XHRcdCl9XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdHsvKiBEcmF3IExheWVyIFNldHRpbmdzICovfVxyXG5cdFx0XHRcdFx0eyh0aGlzLnByb3BzLmNvbmZpZy5jaGFuZ2VMaXN0TW9kZSB8fCB0aGlzLnByb3BzLmNvbmZpZy5jaGFuZ2VUaXRsZSkgJiYgKFxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImRyYXdUb29sYmFyRGl2XCI+XHJcblx0XHRcdFx0XHRcdFx0PENvbGxhcHNhYmxlUGFuZWwgbGFiZWw9XCJEcmF3IExheWVyIFNldHRpbmdzXCIgbGVmdEljb249e1NldHRpbmdPdXRsaW5lZH0+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8TGFiZWwgY2xhc3NOYW1lPVwidy0xMDBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHREcmF3IExheWVyIFRpdGxlOlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxUZXh0SW5wdXRcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmF1bHRWYWx1ZT17dGhpcy5wcm9wcy5jb25maWcudGl0bGV9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNoYW5nZT17KGUpID0+IHRoaXMuaGFuZGxlVGl0bGVDaGFuZ2UoZSl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlPVwidGV4dFwiXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhbGxvd0NsZWFyXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXF1aXJlZFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDwvTGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxMYWJlbCBjZW50cmljPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxDaGVja2JveFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tlZD17dGhpcy5zdGF0ZS5saXN0TW9kZSA9PT0gJ3Nob3cnfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0b25DbGljaz17KGUpID0+IHRoaXMuaGFuZGxlTGlzdE1vZGUoZSl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9XCJtci0yIG10LTIgbWItMiBtbC00XCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFNob3cgSW4gTWFwIExheWVyIExpc3RcclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9MYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDwvQ29sbGFwc2FibGVQYW5lbD5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQpfVxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHQvLyBBZGQgdGhlIG1pc3NpbmcgcmVuZGVyVGV4dFBvcHBlciBtZXRob2RcclxuXHRwcml2YXRlIHJlbmRlclRleHRQb3BwZXIoKSB7XHJcblx0XHQvLyBDb252ZXJ0IGJhY2tncm91bmRDb2xvciB0byBzdHJpbmcgZm9yIHN0eWxlIHByb3BcclxuXHRcdGNvbnN0IGJhY2tncm91bmRDb2xvclN0cmluZyA9IHRoaXMuc3RhdGUuZm9udEJhY2tncm91bmRDb2xvclxyXG5cdFx0XHQ/ICh0eXBlb2YgdGhpcy5zdGF0ZS5mb250QmFja2dyb3VuZENvbG9yID09PSAnc3RyaW5nJ1xyXG5cdFx0XHRcdD8gdGhpcy5zdGF0ZS5mb250QmFja2dyb3VuZENvbG9yXHJcblx0XHRcdFx0OiBgcmdiYSgke3RoaXMuc3RhdGUuZm9udEJhY2tncm91bmRDb2xvci5yfSwgJHt0aGlzLnN0YXRlLmZvbnRCYWNrZ3JvdW5kQ29sb3IuZ30sICR7dGhpcy5zdGF0ZS5mb250QmFja2dyb3VuZENvbG9yLmJ9LCAke3RoaXMuc3RhdGUuZm9udEJhY2tncm91bmRDb2xvci5hfSlgKVxyXG5cdFx0XHQ6ICd0cmFuc3BhcmVudCc7XHJcblxyXG5cdFx0cmV0dXJuIChcclxuXHRcdFx0PFBvcHBlclxyXG5cdFx0XHRcdG9wZW49e3RoaXMuc3RhdGUudGV4dFByZXZpZXdpc09wZW59XHJcblx0XHRcdFx0cmVmZXJlbmNlPXt0aGlzLnByb3BzLndpZGdldElkICsgJ19idG5UZXh0U3ltYm9sJ31cclxuXHRcdFx0XHRwbGFjZW1lbnQ9eydib3R0b20nfVxyXG5cdFx0XHRcdHNob3dBcnJvdz17dHJ1ZX1cclxuXHRcdFx0XHR6SW5kZXg9ezEwMDJ9XHJcblx0XHRcdFx0dG9nZ2xlPXt0aGlzLnNob3dUZXh0U3ltYm9sUG9wcGVyfVxyXG5cdFx0XHQ+XHJcblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J3AtMyBkLWZsZXgnPlxyXG5cdFx0XHRcdFx0PGRpdj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJ3LTEwMCBkLWZsZXggbXQtMiBtYi0zXCI+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJqdXN0aWZ5LWNvbnRlbnQtc3RhcnQgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBtci00IHBsLTJcIj57dGhpcy5ubHMoJ3ByZXZpZXcnKX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImp1c3RpZnktY29udGVudC1jZW50ZXIgZC1mbGV4IG10LTEgbWItMSBtbC0zXCIgc3R5bGU9e3tcclxuXHRcdFx0XHRcdFx0XHRcdGhlaWdodDogYCR7dGhpcy5zdGF0ZS50ZXh0UHJldmlld0hlaWdodH1weGAsXHJcblx0XHRcdFx0XHRcdFx0XHRtYXhIZWlnaHQ6ICcyMjBweCcsXHJcblx0XHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRDb2xvclN0cmluZ1xyXG5cdFx0XHRcdFx0XHRcdH19PlxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJ3LTEwMCBoLTEwMCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgc3ltYm9sLWl0ZW0gdGV4dC1zeW1ib2wtaXRlbVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT0ndGV4dC1zeW1ib2wtc3Bhbicgc3R5bGU9e3tcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbG9yOiBgJHt0aGlzLnN0YXRlLmZvbnRDb2xvcn1gLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFNpemU6IGAke3RoaXMuc3RhdGUuZm9udFNpemV9cHhgLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFdlaWdodDogdGhpcy5zdGF0ZS5mb250V2VpZ2h0ID09PSAnbm9ybWFsJyA/ICdub3JtYWwnIDogJ2JvbGQnLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFN0eWxlOiB0aGlzLnN0YXRlLmZvbnRTdHlsZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRGYW1pbHk6IHRoaXMuc3RhdGUuY3VycmVudFRleHRTeW1ib2wuZm9udC5mYW1pbHksXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0ZXh0RGVjb3JhdGlvbjogdGhpcy5zdGF0ZS5mb250RGVjb3JhdGlvbixcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHpJbmRleDogMTAwLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0V2Via2l0VHJhbnNmb3JtOiBgcm90YXRlKCR7dGhpcy5zdGF0ZS5mb250Um90YXRpb259ZGVnKWAsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRNb3pUcmFuc2l0aW9uOiBgcm90YXRlKCR7dGhpcy5zdGF0ZS5mb250Um90YXRpb259ZGVnKWAsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmaWx0ZXI6IGBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQmFzaWNJbWFnZShyb3RhdGlvbj0ke3RoaXMuc3RhdGUuZm9udFJvdGF0aW9ufSlgXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fX0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7dGhpcy5zdGF0ZS50ZXh0U3ltUHJldmlld1RleHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIHN0eWxlPXt7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xvcjogYCR7dGhpcy5zdGF0ZS5mb250Q29sb3J9YCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRTaXplOiBgJHt0aGlzLnN0YXRlLmZvbnRTaXplfXB4YCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFdlYmtpdFRleHRTdHJva2U6IGAke3RoaXMuc3RhdGUuZm9udEhhbG99YCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRXZWlnaHQ6IHRoaXMuc3RhdGUuZm9udFdlaWdodCA9PT0gJ25vcm1hbCcgPyAnbm9ybWFsJyA6ICdib2xkJyxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRTdHlsZTogdGhpcy5zdGF0ZS5mb250U3R5bGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmb250RmFtaWx5OiB0aGlzLnN0YXRlLmN1cnJlbnRUZXh0U3ltYm9sLmZvbnQuZmFtaWx5LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGV4dERlY29yYXRpb246IHRoaXMuc3RhdGUuZm9udERlY29yYXRpb24sXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFdlYmtpdFRyYW5zZm9ybTogYHJvdGF0ZSgke3RoaXMuc3RhdGUuZm9udFJvdGF0aW9ufWRlZylgLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0TW96VHJhbnNpdGlvbjogYHJvdGF0ZSgke3RoaXMuc3RhdGUuZm9udFJvdGF0aW9ufWRlZylgLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZmlsdGVyOiBgcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkJhc2ljSW1hZ2Uocm90YXRpb249JHt0aGlzLnN0YXRlLmZvbnRSb3RhdGlvbn0pYFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH19PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3RoaXMuc3RhdGUudGV4dFN5bVByZXZpZXdUZXh0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwidy0xMDBcIj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlciBwYi0yJz5cclxuXHRcdFx0XHRcdFx0XHRcdDxUZXh0SW5wdXRcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSd3LTEwMCdcclxuXHRcdFx0XHRcdFx0XHRcdFx0c2l6ZT0nc20nXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRpdGxlPXt0aGlzLm5scygnZHJhd1RleHQnKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9e2UgPT4gdGhpcy5UZXh0T25DaGFuZ2UoZSl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdHBsYWNlaG9sZGVyPSdZb3VyIFRleHQgSGVyZSdcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU9e3RoaXMuc3RhdGUudGV4dEhhc0NoYW5nZWQgPyB0aGlzLnN0YXRlLnRleHRTeW1QcmV2aWV3VGV4dCA6ICcnfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzdHlsZT17eyBmb250RmFtaWx5OiB0aGlzLnN0YXRlLmN1cnJlbnRUZXh0U3ltYm9sLmZvbnQuZmFtaWx5IH19XHJcblx0XHRcdFx0XHRcdFx0XHQvPlxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J3ctMTAwIGQtZmxleCc+XHJcblx0XHRcdFx0XHRcdFx0Rm9udDpcclxuXHRcdFx0XHRcdFx0XHQ8U2VsZWN0XHJcblx0XHRcdFx0XHRcdFx0XHRzaXplPSdzbSdcclxuXHRcdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXsoZSkgPT4gdGhpcy5oYW5kbGVGb250RmFtaWx5KGUpfVxyXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdtbC0yJ1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU9e3RoaXMuc3RhdGUuY3VycmVudFRleHRTeW1ib2wuZm9udC5mYW1pbHl9XHJcblx0XHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdFx0PE9wdGlvbiB2YWx1ZT0nQWxlZ3JleWEnIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdBbGVncmV5YScgfX0+QWxlZ3JleWE8L09wdGlvbj5cclxuXHRcdFx0XHRcdFx0XHRcdDxPcHRpb24gdmFsdWU9J0FyaWFsJyBzdHlsZT17eyBmb250RmFtaWx5OiAnQXJpYWwnIH19PkFyaWFsPC9PcHRpb24+XHJcblx0XHRcdFx0XHRcdFx0XHQ8T3B0aW9uIHZhbHVlPSdBdmVuaXIgTmV4dCBMVCBQcm8nIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdBdmVuaXIgTmV4dCBMVCBQcm8nIH19PkF2ZW5pciBOZXh0PC9PcHRpb24+XHJcblx0XHRcdFx0XHRcdFx0XHQ8T3B0aW9uIHZhbHVlPSdKb3NlZmluIFNsYWInIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdKb3NlZmluIFNsYWInIH19Pkpvc2VmaW4gU2xhYjwvT3B0aW9uPlxyXG5cdFx0XHRcdFx0XHRcdFx0PE9wdGlvbiB2YWx1ZT0nTWVycml3ZWF0aGVyJyBzdHlsZT17eyBmb250RmFtaWx5OiAnTWVycml3ZWF0aGVyJyB9fT5NZXJyaXdlYXRoZXI8L09wdGlvbj5cclxuXHRcdFx0XHRcdFx0XHRcdDxPcHRpb24gdmFsdWU9J01vbnRzZXJyYXQnIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdNb250c2VycmF0JyB9fT5Nb250c2VycmF0PC9PcHRpb24+XHJcblx0XHRcdFx0XHRcdFx0XHQ8T3B0aW9uIHZhbHVlPSdOb3RvIFNhbnMnIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdOb3RvIFNhbnMnIH19Pk5vdG8gU2FuczwvT3B0aW9uPlxyXG5cdFx0XHRcdFx0XHRcdFx0PE9wdGlvbiB2YWx1ZT0nTm90byBTZXJpZicgc3R5bGU9e3sgZm9udEZhbWlseTogJ05vdG8gU2VyaWYnIH19Pk5vdG8gU2VyaWY8L09wdGlvbj5cclxuXHRcdFx0XHRcdFx0XHRcdDxPcHRpb24gdmFsdWU9J1BsYXlmYWlyIERpc3BsYXknIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdQbGF5ZmFpciBEaXNwbGF5JyB9fT5QbGF5ZmFpciBEaXNwbGF5PC9PcHRpb24+XHJcblx0XHRcdFx0XHRcdFx0XHQ8T3B0aW9uIHZhbHVlPSdSb2JvdG8nIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdSb2JvdG8nIH19PlJvYm90bzwvT3B0aW9uPlxyXG5cdFx0XHRcdFx0XHRcdFx0PE9wdGlvbiB2YWx1ZT0nVWJ1bnR1JyBzdHlsZT17eyBmb250RmFtaWx5OiAnVWJ1bnR1JyB9fT5VYnVudHU8L09wdGlvbj5cclxuXHRcdFx0XHRcdFx0XHQ8L1NlbGVjdD5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwidy0xMDBcIj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlciBtYi0yJz5cclxuXHRcdFx0XHRcdFx0XHRcdDxDb2xvclBpY2tlclxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9XCJmb250Y29sb3JwaWNrZXJcIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aXRsZT17dGhpcy5ubHMoJ2ZvbnRDb2xvcicpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzdHlsZT17eyBwYWRkaW5nOiAnMCcgfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0d2lkdGg9ezI2fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRoZWlnaHQ9ezI2fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb2xvcj17dGhpcy5zdGF0ZS5mb250Q29sb3IgPyB0aGlzLnN0YXRlLmZvbnRDb2xvciA6ICdyZ2JhKDAsMCwwLDEpJ31cclxuXHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMudXBkYXRlVGV4dENvbG9yfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXtlID0+IHsgdGhpcy5vbkNvbG9yUGlja2VyVG9nZ2xlKGUpIH19XHJcblx0XHRcdFx0XHRcdFx0XHQvPlxyXG5cdFx0XHRcdFx0XHRcdFx0PE51bWVyaWNJbnB1dFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzaXplPSdzbSdcclxuXHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMuZm9udFNpemVPbkNoYW5nZX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU9e3RoaXMuc3RhdGUuZm9udFNpemV9XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT1cImZvbnRzaXplaW5wdXRcIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzdHlsZT17eyB3aWR0aDogJzVyZW0nIH19XHJcblx0XHRcdFx0XHRcdFx0XHRcdHNob3dIYW5kbGVycz17dHJ1ZX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0bWluPXsxfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRtYXg9ezEyMH1cclxuXHRcdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IHN0eWxlPXt7IGJvcmRlclJpZ2h0OiAnMXB4IHNvbGlkIHJnYigxODIsIDE4MiwgMTgyKScsIGhlaWdodDogJzI2cHgnIH19IC8+XHJcblx0XHRcdFx0XHRcdFx0XHQ8QWR2YW5jZWRCdXR0b25Hcm91cD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PEJ1dHRvblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGljb249e3RydWV9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2l6ZT0nc20nXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YWN0aXZlPXt0aGlzLnN0YXRlLmZzQm9sZEJ0bkFjdGl2ZX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXsoZXZ0KSA9PiB7IHRoaXMub25Gb250U3R5bGVDaGFuZ2UoZXZ0LCAnYm9sZCcpIH19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGl0bGU9e3RoaXMubmxzKCdmb250Qm9sZCcpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PEljb24gaWNvbj17ZnNCb2xkSWNvbn0gc2l6ZT17J20nfSAvPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L0J1dHRvbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PEJ1dHRvblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGljb249e3RydWV9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2l6ZT0nc20nXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YWN0aXZlPXt0aGlzLnN0YXRlLmZzSXRhbGljQnRuQWN0aXZlfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eyhldnQpID0+IHsgdGhpcy5vbkZvbnRTdHlsZUNoYW5nZShldnQsICdpdGFsaWMnKSB9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRpdGxlPXt0aGlzLm5scygnZm9udEl0YWxpYycpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PEljb24gaWNvbj17Zkl0YWxpY0ljb259IHNpemU9eydtJ30gLz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9CdXR0b24+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxCdXR0b25cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpY29uPXt0cnVlfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNpemU9J3NtJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFjdGl2ZT17dGhpcy5zdGF0ZS5mc1VuZGVybGluZUJ0bkFjdGl2ZX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXsoZXZ0KSA9PiB7IHRoaXMub25Gb250U3R5bGVDaGFuZ2UoZXZ0LCAndW5kZXJsaW5lJykgfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aXRsZT17dGhpcy5ubHMoJ2ZvbnRVbmRlcmxpbmUnKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxJY29uIGljb249e2ZVbmRlcmxpbmVJY29ufSB3aWR0aD17MTJ9IC8+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDwvQnV0dG9uPlxyXG5cdFx0XHRcdFx0XHRcdFx0PC9BZHZhbmNlZEJ1dHRvbkdyb3VwPlxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PExhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdE9wYWNpdHk6XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J3ctMTAwIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXIgbWItMiBib3JkZXInPlxyXG5cdFx0XHRcdFx0XHRcdFx0PFNsaWRlclxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzaXplPSdkZWZhdWx0J1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZT17dGhpcy5zdGF0ZS5mb250T3BhY2l0eX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0bWluPXswfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRtYXg9ezF9XHJcblx0XHRcdFx0XHRcdFx0XHRcdHN0ZXA9ezAuMX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0aGlkZVRodW1iPXtmYWxzZX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdtci0yJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRzdHlsZT17eyB3aWR0aDogJ2NhbGMoMTAwJSAtIDgwcHgpJyB9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aXRsZT17YCR7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2Uoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlkOiAnZHJhd1Rvb2xPcGFjaXR5JyxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmRyYXdUb29sT3BhY2l0eVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KX06ICR7MTAwICogdGhpcy5zdGF0ZS5mb250T3BhY2l0eX0lYH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9eyhlKSA9PiB0aGlzLnVwZGF0ZVN5bWJvbE9wYWNpdHkoZS5jdXJyZW50VGFyZ2V0LnZhbHVlKX1cclxuXHRcdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHRcdFx0XHQ8SW5wdXRVbml0XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlPXtgJHsxMDAgKiB0aGlzLnN0YXRlLmZvbnRPcGFjaXR5fSVgfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J2lucHV0LXVuaXQnXHJcblx0XHRcdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXsoZSkgPT4gdGhpcy5vbk9wYWNpdHlJbnB1dENoYW5nZWQoZSl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdHN0eWxlPXt7IHdpZHRoOiAnNzBweCcgfX1cclxuXHRcdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDwvTGFiZWw+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwidy0xMDBcIj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgZC1mbGV4IGp1c3RpZnktY29udGVudC1hcm91bmQgYWxpZ24taXRlbXMtY2VudGVyIG1iLTInPlxyXG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4+VGV4dCBSb3RhdGlvbjo8L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0XHQ8TnVtZXJpY0lucHV0XHJcblx0XHRcdFx0XHRcdFx0XHRcdHNpemU9J3NtJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRvbkNoYW5nZT17dGhpcy5mb250Um90YXRpb25DaGFuZ2V9XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlPXt0aGlzLnN0YXRlLmZvbnRSb3RhdGlvbn1cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPVwiZm9udHJvdGF0aW9uaW5wdXRcIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzdHlsZT17eyB3aWR0aDogJzgwcHgnIH19XHJcblx0XHRcdFx0XHRcdFx0XHRcdHNob3dIYW5kbGVycz17dHJ1ZX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0bWluPXstMzYwfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRtYXg9ezM2MH1cclxuXHRcdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInctMTAwXCI+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J3ctMTAwIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXIgbWItMic+XHJcblx0XHRcdFx0XHRcdFx0XHQ8QWR2YW5jZWRCdXR0b25Hcm91cD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PEJ1dHRvblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGljb249e3RydWV9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2l6ZT0nc20nXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YWN0aXZlPXt0aGlzLnN0YXRlLmhBbGlnbkxlZnRCdG5BY3RpdmV9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0b25DbGljaz17KGV2dCkgPT4geyB0aGlzLm9uSG9yaXpGb250QWxpZ25DaGFuZ2UoZXZ0LCAnbGVmdCcpIH19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGl0bGU9e3RoaXMubmxzKCdmb250SEFsZWZ0Jyl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8SWNvbiBpY29uPXtoQWxpZ25MZWZ0fSBzaXplPXsnbSd9IC8+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDwvQnV0dG9uPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8QnV0dG9uXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWNvbj17dHJ1ZX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzaXplPSdzbSdcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhY3RpdmU9e3RoaXMuc3RhdGUuaEFsaWduQ2VudGVyQnRuQWN0aXZlfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eyhldnQpID0+IHsgdGhpcy5vbkhvcml6Rm9udEFsaWduQ2hhbmdlKGV2dCwgJ2NlbnRlcicpIH19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGl0bGU9e3RoaXMubmxzKCdmb250SEFjZW50ZXInKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxJY29uIGljb249e2hBbGlnbkNlbnRlcn0gc2l6ZT17J20nfSAvPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L0J1dHRvbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PEJ1dHRvblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGljb249e3RydWV9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2l6ZT0nc20nXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YWN0aXZlPXt0aGlzLnN0YXRlLmhBbGlnblJpZ2h0QnRuQWN0aXZlfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eyhldnQpID0+IHsgdGhpcy5vbkhvcml6Rm9udEFsaWduQ2hhbmdlKGV2dCwgJ3JpZ2h0JykgfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aXRsZT17dGhpcy5ubHMoJ2ZvbnRIQXJpZ2h0Jyl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8SWNvbiBpY29uPXtoQWxpZ25SaWdodH0gc2l6ZT17J20nfSAvPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L0J1dHRvbj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvQWR2YW5jZWRCdXR0b25Hcm91cD5cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgc3R5bGU9e3sgYm9yZGVyUmlnaHQ6ICcxcHggc29saWQgcmdiKDE4MiwgMTgyLCAxODIpJywgaGVpZ2h0OiAnMjZweCcgfX0gLz5cclxuXHRcdFx0XHRcdFx0XHRcdDxBZHZhbmNlZEJ1dHRvbkdyb3VwPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8QnV0dG9uXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWNvbj17dHJ1ZX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzaXplPSdzbSdcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhY3RpdmU9e3RoaXMuc3RhdGUudkFsaWduQmFzZUJ0bkFjdGl2ZX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXsoZXZ0KSA9PiB7IHRoaXMub25WZXJ0Rm9udEFsaWduQ2hhbmdlKGV2dCwgJ2Jhc2VsaW5lJykgfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aXRsZT17dGhpcy5ubHMoJ2ZvbnRWQWJhc2UnKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxJY29uIGljb249e3ZBbGlnbkJhc2V9IGN1cnJlbnRDb2xvcj17dHJ1ZX0gLz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9CdXR0b24+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxCdXR0b25cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpY29uPXt0cnVlfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNpemU9J3NtJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFjdGl2ZT17dGhpcy5zdGF0ZS52QWxpZ25Ub3BCdG5BY3RpdmV9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0b25DbGljaz17KGV2dCkgPT4geyB0aGlzLm9uVmVydEZvbnRBbGlnbkNoYW5nZShldnQsICd0b3AnKSB9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRpdGxlPXt0aGlzLm5scygnZm9udFZBdG9wJyl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8SWNvbiBpY29uPXt2QWxpZ25Ub3B9IC8+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDwvQnV0dG9uPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8QnV0dG9uXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWNvbj17dHJ1ZX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzaXplPSdzbSdcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhY3RpdmU9e3RoaXMuc3RhdGUudkFsaWduTWlkQnRuQWN0aXZlfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eyhldnQpID0+IHsgdGhpcy5vblZlcnRGb250QWxpZ25DaGFuZ2UoZXZ0LCAnbWlkZGxlJykgfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aXRsZT17dGhpcy5ubHMoJ2ZvbnRWQW1pZCcpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PEljb24gaWNvbj17dkFsaWduTWlkfSAvPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L0J1dHRvbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PEJ1dHRvblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGljb249e3RydWV9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2l6ZT0nc20nXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YWN0aXZlPXt0aGlzLnN0YXRlLnZBbGlnbkJvdEJ0bkFjdGl2ZX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXsoZXZ0KSA9PiB7IHRoaXMub25WZXJ0Rm9udEFsaWduQ2hhbmdlKGV2dCwgJ2JvdHRvbScpIH19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGl0bGU9e3RoaXMubmxzKCdmb250VkFib3R0b20nKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxJY29uIGljb249e3ZBbGlnbkJvdH0gLz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9CdXR0b24+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L0FkdmFuY2VkQnV0dG9uR3JvdXA+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8TGFiZWwgY2VudHJpYz5cclxuXHRcdFx0XHRcdFx0XHRCYWNrZ3JvdW5kIENvbG9yOlxyXG5cdFx0XHRcdFx0XHRcdDxDb2xvclBpY2tlclxyXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdtci00IG1sLTInXHJcblx0XHRcdFx0XHRcdFx0XHRzdHlsZT17eyBwYWRkaW5nOiAnMCcgfX1cclxuXHRcdFx0XHRcdFx0XHRcdHdpZHRoPXsyNn1cclxuXHRcdFx0XHRcdFx0XHRcdGhlaWdodD17MjZ9XHJcblx0XHRcdFx0XHRcdFx0XHR0eXBlPSdpY29uLW9ubHknXHJcblx0XHRcdFx0XHRcdFx0XHRpY29uPXt0aGlzLnN0YXRlLmZvbnRCYWNrZ3JvdW5kQ29sb3IgPT09ICdyZ2JhKDAsMCwwLDApJyA/XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxDbG9zZU91dGxpbmVkIHRpdGxlPSdObyBCYWNrZ3JvdW5kIENvbG9yJyAvPiA6XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgdGl0bGU9J0JhY2tncm91bmQgQ29sb3InIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZENvbG9yU3RyaW5nLCBoZWlnaHQ6ICcxMDAlJywgd2lkdGg6ICcxMDAlJyB9fSAvPlxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0Y29sb3I9e3RoaXMuc3RhdGUuZm9udEJhY2tncm91bmRDb2xvciA/IGJhY2tncm91bmRDb2xvclN0cmluZyA6IFwiIzAwMDAwMFwifVxyXG5cdFx0XHRcdFx0XHRcdFx0b25DbGljaz17ZSA9PiB7IHRoaXMub25Db2xvclBpY2tlclRvZ2dsZShlKSB9fVxyXG5cdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMudXBkYXRlQmFja2dyb3VuZENvbG9yfVxyXG5cdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHRcdDwvTGFiZWw+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdtbC0yJz5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2JvcmRlciBwLTIgbWItMic+XHJcblx0XHRcdFx0XHRcdFx0PGg2PlRleHQgSGFsbyBPcHRpb25zPC9oNj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInctMTAwXCI+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlciBtYi0yJz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PExhYmVsIGNlbnRyaWM+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3RoaXMuc3RhdGUuZm9udEhhbG9FbmFibGVkID8gJ0Rpc2FibGUnIDogJ0VuYWJsZSd9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PFN3aXRjaFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGl0bGU9e3RoaXMubmxzKCdlbmFibGVGb250SGFsbycpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPVwibXItNCBtbC0yXCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXt0aGlzLmZvbnRIYWxvQ2hrQ2hhbmdlfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hlY2tlZD17dGhpcy5zdGF0ZS5mb250SGFsb0VuYWJsZWR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Lz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9MYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PENvbG9yUGlja2VyXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdtci00IGZvbnRoYWxvY29sb3JwaWNrZXInXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU9e3sgcGFkZGluZzogJzAnIH19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0d2lkdGg9ezI2fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGhlaWdodD17MjZ9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29sb3I9e3RoaXMuc3RhdGUuZm9udEhhbG9Db2xvciA/IHRoaXMuc3RhdGUuZm9udEhhbG9Db2xvciA6ICcjMDAwMDAwJ31cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXtlID0+IHsgdGhpcy5vbkNvbG9yUGlja2VyVG9nZ2xlKGUpIH19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMudXBkYXRlRm9udEhhbG9Db2xvcn1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkaXNhYmxlZD17IXRoaXMuc3RhdGUuZm9udEhhbG9FbmFibGVkfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8TnVtZXJpY0lucHV0XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2l6ZT0nc20nXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9e2UgPT4gdGhpcy5mb250SGFsb1NpemVDaGFuZ2UoZSl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU9e3RoaXMuc3RhdGUuZm9udEhhbG9TaXplfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRpc2FibGVkPXshdGhpcy5zdGF0ZS5mb250SGFsb0VuYWJsZWR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPVwiZm9udGhhbG9zaXplaW5wdXRcIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHN0eWxlPXt7IHdpZHRoOiAnODBweCcgfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzaG93SGFuZGxlcnM9e3RydWV9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWluPXsxfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1heD17MjB9XHJcblx0XHRcdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8TGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRPcGFjaXR5OlxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J3ctMTAwIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXIgbWItMiBib3JkZXInPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8U2xpZGVyXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2l6ZT0nZGVmYXVsdCdcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZT17dGhpcy5zdGF0ZS5mb250SGFsb09wYWNpdHl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWluPXswfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1heD17MX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzdGVwPXswLjF9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aGlkZVRodW1iPXtmYWxzZX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J21yLTInXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU9e3sgd2lkdGg6ICdjYWxjKDEwMCUgLSA4MHB4KScgfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aXRsZT17YCR7dGhpcy5ubHMoJ2ZvbnRIYWxvJyl9ICR7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2Uoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWQ6ICdkcmF3VG9vbE9wYWNpdHknLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5kcmF3VG9vbE9wYWNpdHlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KX06ICR7MTAwICogdGhpcy5zdGF0ZS5mb250SGFsb09wYWNpdHl9JWB9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9eyhlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAodGhpcy5zdGF0ZS5mb250SGFsb0VuYWJsZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy51cGRhdGVTeW1ib2xIYWxvT3BhY2l0eShlLmN1cnJlbnRUYXJnZXQudmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH19XHJcblx0XHRcdFx0XHRcdFx0XHRcdC8+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxJbnB1dFVuaXRcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZT17YCR7MTAwICogdGhpcy5zdGF0ZS5mb250SGFsb09wYWNpdHl9JWB9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdpbnB1dC11bml0J1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXsoZSkgPT4gdGhpcy5vbkhhbG9PcGFjaXR5SW5wdXRDaGFuZ2VkKGUpfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHN0eWxlPXt7IHdpZHRoOiAnNzBweCcgfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkaXNhYmxlZD17IXRoaXMuc3RhdGUuZm9udEhhbG9FbmFibGVkfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvPlxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PC9MYWJlbD5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PC9Qb3BwZXI+XHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0cmVuZGVyKCkge1xyXG5cdFx0Y29uc3QgeyBjb25maWcgfSA9IHRoaXMucHJvcHM7XHJcblx0XHRjb25zdCB7XHJcblx0XHRcdGZvbnRDb2xvciwgZm9udFNpemUsIGZvbnRIYWxvLCBmb250Um90YXRpb24sIGZvbnRXZWlnaHQsIGZvbnRTdHlsZSwgZm9udERlY29yYXRpb24sXHJcblx0XHRcdGZvbnRIYWxvQ29sb3IsIGZvbnRIYWxvRW5hYmxlZCwgZm9udEhhbG9TaXplLCB0ZXh0U3ltUHJldmlld1RleHQsIHRleHRQcmV2aWV3SGVpZ2h0LFxyXG5cdFx0XHRjdXJyZW50U3ltYm9sLCBjdXJyZW50U3ltYm9sVHlwZSwgZm9udE9wYWNpdHksIGZvbnRIYWxvT3BhY2l0eSwgdGV4dEhhc0NoYW5nZWQsXHJcblx0XHRcdHVuZG9CdG5BY3RpdmUsIHJlZG9CdG5BY3RpdmUsIGNsZWFyQnRuQWN0aXZlLCBjbGVhckJ0blRpdGxlLCBjYW5VbmRvLCBjYW5SZWRvLFxyXG5cdFx0XHRzaG93U3ltUHJldmlldywgc2hvd1RleHRQcmV2aWV3LCB0ZXh0UHJldmlld2lzT3BlbiwgZHJhd0dMTGVuZ3RoY2hlY2ssIHJvdGF0aW9uTW9kZSxcclxuXHRcdFx0cG9pbnRCdG5BY3RpdmUsIGxpbmVCdG5BY3RpdmUsIGZsaW5lQnRuQWN0aXZlLCByZWN0QnRuQWN0aXZlLCBwb2x5Z29uQnRuQWN0aXZlLFxyXG5cdFx0XHRmcG9seWdvbkJ0bkFjdGl2ZSwgY2lyY2xlQnRuQWN0aXZlLCB0ZXh0QnRuQWN0aXZlLCB2QWxpZ25CYXNlQnRuQWN0aXZlLCB2QWxpZ25Ub3BCdG5BY3RpdmUsXHJcblx0XHRcdHZBbGlnbk1pZEJ0bkFjdGl2ZSwgdkFsaWduQm90QnRuQWN0aXZlLCBoQWxpZ25MZWZ0QnRuQWN0aXZlLCBoQWxpZ25DZW50ZXJCdG5BY3RpdmUsXHJcblx0XHRcdGhBbGlnblJpZ2h0QnRuQWN0aXZlLCBmc0JvbGRCdG5BY3RpdmUsIGZzSXRhbGljQnRuQWN0aXZlLCBmc1VuZGVybGluZUJ0bkFjdGl2ZSxcclxuXHRcdFx0YWN0aXZlVGFiLFxyXG5cdFx0XHRtZWFzdXJlbWVudENoZWNrYm94T25cclxuXHRcdH0gPSB0aGlzLnN0YXRlIGFzIGFueTtcclxuXHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cIndpZGdldC1kcmF3IGppbXUtd2lkZ2V0XCIgY3NzPXtnZXRTdHlsZSh0aGlzLnByb3BzLnRoZW1lLCBjb25maWcpfT5cclxuXHRcdFx0XHR7LyogQXR0YWNoIHRvIE1hcCBWaWV3ICovfVxyXG5cdFx0XHRcdHt0aGlzLnByb3BzLnVzZU1hcFdpZGdldElkcyAmJiB0aGlzLnByb3BzLnVzZU1hcFdpZGdldElkcy5sZW5ndGggPT09IDEgJiYgKFxyXG5cdFx0XHRcdFx0PEppbXVNYXBWaWV3Q29tcG9uZW50XHJcblx0XHRcdFx0XHRcdHVzZU1hcFdpZGdldElkPXt0aGlzLnByb3BzLnVzZU1hcFdpZGdldElkc1swXX1cclxuXHRcdFx0XHRcdFx0b25BY3RpdmVWaWV3Q2hhbmdlPXt0aGlzLmFjdGl2ZVZpZXdDaGFuZ2VIYW5kbGVyfVxyXG5cdFx0XHRcdFx0Lz5cclxuXHRcdFx0XHQpfVxyXG5cclxuXHRcdFx0XHR7LyogRml4ZWQgVGFiIEhlYWRlciAqL31cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInRhYi1oZWFkZXJcIj5cclxuXHRcdFx0XHRcdDxkaXZcclxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lPXtgdGFiLWJ1dHRvbiAke2FjdGl2ZVRhYiA9PT0gJ2RyYXcnID8gJ2FjdGl2ZScgOiAnJ31gfVxyXG5cdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZVRhYkNoYW5nZSgnZHJhdycpfVxyXG5cdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHREcmF3XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDxkaXZcclxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lPXtgdGFiLWJ1dHRvbiAke2FjdGl2ZVRhYiA9PT0gJ215ZHJhd2luZ3MnID8gJ2FjdGl2ZScgOiAnJ31gfVxyXG5cdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZVRhYkNoYW5nZSgnbXlkcmF3aW5ncycpfVxyXG5cdFx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0XHRNeSBEcmF3aW5nc1xyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PC9kaXY+XHJcblxyXG5cdFx0XHRcdHsvKiBTY3JvbGxhYmxlIFRhYiBDb250ZW50ICovfVxyXG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwidGFiLWNvbnRlbnRcIj5cclxuXHRcdFx0XHRcdHthY3RpdmVUYWIgPT09ICdkcmF3JyAmJiAoXHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiZHJhdy10YWItY29udGVudFwiIGtleT1cImRyYXctdGFiXCI+XHJcblx0XHRcdFx0XHRcdFx0ey8qIFlvdXIgZXhpc3RpbmcgRHJhdyBwYW5lbCBVSSAqL31cclxuXHRcdFx0XHRcdFx0XHR7dGhpcy5yZW5kZXJEcmF3UGFuZWwoKX1cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQpfVxyXG5cclxuXHRcdFx0XHRcdHthY3RpdmVUYWIgPT09ICdteWRyYXdpbmdzJyAmJiB0aGlzLnJlbmRlck15RHJhd2luZ3NUYWIoKX1cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHQpO1xyXG5cdH1cclxufVxyXG5cbiBleHBvcnQgZnVuY3Rpb24gX19zZXRfd2VicGFja19wdWJsaWNfcGF0aF9fKHVybCkgeyBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyA9IHVybCB9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9